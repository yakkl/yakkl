/*! For license information please see background.js.LICENSE.txt */
(()=>{var __webpack_modules__={"../../node_modules/.pnpm/@adraffy+ens-normalize@1.10.1/node_modules/@adraffy/ens-normalize/dist/index.mjs":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ens_beautify:()=>ens_beautify,ens_emoji:()=>ens_emoji,ens_normalize:()=>ens_normalize,ens_normalize_fragment:()=>ens_normalize_fragment,ens_split:()=>ens_split,ens_tokenize:()=>ens_tokenize,is_combining_mark:()=>is_combining_mark,nfc:()=>nfc,nfd:()=>nfd,safe_str_from_cps:()=>safe_str_from_cps,should_escape:()=>should_escape});var o="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const a=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);const l=4;function decode_arithmetic(e){let t=0;function u16(){return e[t++]<<8|e[t++]}let i=u16();let o=1;let a=[0,1];for(let e=1;e<i;e++){a.push(o+=u16())}let l=u16();let u=t;t+=l;let d=0;let p=0;function read_bit(){if(d==0){p=p<<8|e[t++];d=8}return p>>--d&1}const m=31;const g=2**m;const v=g>>>1;const y=v>>1;const _=g-1;let w=0;for(let e=0;e<m;e++)w=w<<1|read_bit();let A=[];let k=0;let T=g;while(true){let e=Math.floor(((w-k+1)*o-1)/T);let t=0;let l=i;while(l-t>1){let i=t+l>>>1;if(e<a[i]){l=i}else{t=i}}if(t==0)break;A.push(t);let u=k+Math.floor(T*a[t]/o);let d=k+Math.floor(T*a[t+1]/o)-1;while(((u^d)&v)==0){w=w<<1&_|read_bit();u=u<<1&_;d=d<<1&_|1}while(u&~d&y){w=w&v|w<<1&_>>>1|read_bit();u=u<<1^v;d=(d^v)<<1|v|1}k=u;T=1+d-u}let x=i-4;return A.map(t=>{switch(t-x){case 3:return x+65792+(e[u++]<<16|e[u++]<<8|e[u++]);case 2:return x+256+(e[u++]<<8|e[u++]);case 1:return x+e[u++];default:return t-1}})}function read_payload(e){let t=0;return()=>e[t++]}function read_compressed_payload(e){return read_payload(decode_arithmetic(unsafe_atob(e)))}function unsafe_atob(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,i)=>t[e.charCodeAt(0)]=i);let i=e.length;let o=new Uint8Array(6*i>>3);for(let a=0,l=0,u=0,d=0;a<i;a++){d=d<<6|t[e.charCodeAt(a)];u+=6;if(u>=8){o[l++]=d>>(u-=8)}}return o}function signed(e){return e&1?~e>>1:e>>1}function read_deltas(e,t){let i=Array(e);for(let o=0,a=0;o<e;o++)i[o]=a+=signed(t());return i}function read_sorted(e,t=0){let i=[];while(true){let o=e();let a=e();if(!a)break;t+=o;for(let e=0;e<a;e++){i.push(t+e)}t+=a+1}return i}function read_sorted_arrays(e){return read_array_while(()=>{let t=read_sorted(e);if(t.length)return t})}function read_mapped(e){let t=[];while(true){let i=e();if(i==0)break;t.push(read_linear_table(i,e))}while(true){let i=e()-1;if(i<0)break;t.push(read_replacement_table(i,e))}return t.flat()}function read_array_while(e){let t=[];while(true){let i=e(t.length);if(!i)break;t.push(i)}return t}function read_transposed(e,t,i){let o=Array(e).fill().map(()=>[]);for(let a=0;a<t;a++){read_deltas(e,i).forEach((e,t)=>o[t].push(e))}return o}function read_linear_table(e,t){let i=1+t();let o=t();let a=read_array_while(t);let l=read_transposed(a.length,1+e,t);return l.flatMap((e,t)=>{let[l,...u]=e;return Array(a[t]).fill().map((e,t)=>{let a=t*o;return[l+t*i,u.map(e=>e+a)]})})}function read_replacement_table(e,t){let i=1+t();let o=read_transposed(i,1+e,t);return o.map(e=>[e[0],e.slice(1)])}function read_trie(e){let t=[];let i=read_sorted(e);expand(decode([]),[]);return t;function decode(t){let o=e();let a=read_array_while(()=>{let t=read_sorted(e).map(e=>i[e]);if(t.length)return decode(t)});return{S:o,B:a,Q:t}}function expand({S:e,B:i},o,a){if(e&4&&a===o[o.length-1])return;if(e&2)a=o[o.length-1];if(e&1)t.push(o);for(let e of i){for(let t of e.Q){expand(e,[...o,t],a)}}}}function hex_cp(e){return e.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(e){return`{${hex_cp(e)}}`}function explode_cp(e){let t=[];for(let i=0,o=e.length;i<o;){let o=e.codePointAt(i);i+=o<65536?1:2;t.push(o)}return t}function str_from_cps(e){const t=4096;let i=e.length;if(i<t)return String.fromCodePoint(...e);let o=[];for(let a=0;a<i;){o.push(String.fromCodePoint(...e.slice(a,a+=t)))}return o.join("")}function compare_arrays(e,t){let i=e.length;let o=i-t.length;for(let a=0;o==0&&a<i;a++)o=e[a]-t[a];return o}var u="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const d=44032;const p=4352;const m=4449;const g=4519;const v=19;const y=21;const _=28;const w=y*_;const A=v*w;const k=d+A;const T=p+v;const x=m+y;const I=g+_;function unpack_cc(e){return e>>24&255}function unpack_cp(e){return e&16777215}let N,P,C,M;function init$1(){let e=read_compressed_payload(u);N=new Map(read_sorted_arrays(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24])));P=new Set(read_sorted(e));C=new Map;M=new Map;for(let[t,i]of read_mapped(e)){if(!P.has(t)&&i.length==2){let[e,o]=i;let a=M.get(e);if(!a){a=new Map;M.set(e,a)}a.set(o,t)}C.set(t,i.reverse())}}function is_hangul(e){return e>=d&&e<k}function compose_pair(e,t){if(e>=p&&e<T&&t>=m&&t<x){return d+(e-p)*w+(t-m)*_}else if(is_hangul(e)&&t>g&&t<I&&(e-d)%_==0){return e+(t-g)}else{let i=M.get(e);if(i){i=i.get(t);if(i){return i}}return-1}}function decomposed(e){if(!N)init$1();let t=[];let i=[];let o=false;function add(e){let i=N.get(e);if(i){o=true;e|=i}t.push(e)}for(let o of e){while(true){if(o<128){t.push(o)}else if(is_hangul(o)){let e=o-d;let t=e/w|0;let i=e%w/_|0;let a=e%_;add(p+t);add(m+i);if(a>0)add(g+a)}else{let e=C.get(o);if(e){i.push(...e)}else{add(o)}}if(!i.length)break;o=i.pop()}}if(o&&t.length>1){let e=unpack_cc(t[0]);for(let i=1;i<t.length;i++){let o=unpack_cc(t[i]);if(o==0||e<=o){e=o;continue}let a=i-1;while(true){let i=t[a+1];t[a+1]=t[a];t[a]=i;if(!a)break;e=unpack_cc(t[--a]);if(e<=o)break}e=unpack_cc(t[i])}}return t}function composed_from_decomposed(e){let t=[];let i=[];let o=-1;let a=0;for(let l of e){let e=unpack_cc(l);let u=unpack_cp(l);if(o==-1){if(e==0){o=u}else{t.push(u)}}else if(a>0&&a>=e){if(e==0){t.push(o,...i);i.length=0;o=u}else{i.push(u)}a=e}else{let l=compose_pair(o,u);if(l>=0){o=l}else if(a==0&&e==0){t.push(o);o=u}else{i.push(u);a=e}}}if(o>=0){t.push(o,...i)}return t}function nfd(e){return decomposed(e).map(unpack_cp)}function nfc(e){return composed_from_decomposed(decomposed(e))}const B=45;const j=46;const O=".";const D=65039;const L=1;const Array_from=e=>Array.from(e);function group_has_cp(e,t){return e.P.has(t)||e.Q.has(t)}class Emoji extends Array{get is_emoji(){return true}}let F,U,H,q,G,z,W,V,Y,$,J,Q;function init(){if(F)return;let e=read_compressed_payload(o);const read_sorted_array=()=>read_sorted(e);const read_sorted_set=()=>new Set(read_sorted_array());const set_add_many=(e,t)=>t.forEach(t=>e.add(t));F=new Map(read_mapped(e));U=read_sorted_set();H=read_sorted_array();q=new Set(read_sorted_array().map(e=>H[e]));H=new Set(H);G=read_sorted_set();z=read_sorted_set();let t=read_sorted_arrays(e);let i=e();const read_chunked=()=>{let e=new Set;read_sorted_array().forEach(i=>set_add_many(e,t[i]));set_add_many(e,read_sorted_array());return e};W=read_array_while(t=>{let o=read_array_while(e).map(e=>e+96);if(o.length){let a=t>=i;o[0]-=32;o=str_from_cps(o);if(a)o=`Restricted[${o}]`;let l=read_chunked();let u=read_chunked();let d=!e();return{N:o,P:l,Q:u,M:d,R:a}}});V=read_sorted_set();Y=new Map;let a=read_sorted_array().concat(Array_from(V)).sort((e,t)=>e-t);a.forEach((t,i)=>{let o=e();let l=a[i]=o?a[i-o]:{V:[],M:new Map};l.V.push(t);if(!V.has(t)){Y.set(t,l)}});for(let{V:e,M:t}of new Set(Y.values())){let i=[];for(let t of e){let e=W.filter(e=>group_has_cp(e,t));let o=i.find(({G:t})=>e.some(e=>t.has(e)));if(!o){o={G:new Set,V:[]};i.push(o)}o.V.push(t);set_add_many(o.G,e)}let o=i.flatMap(e=>Array_from(e.G));for(let{G:e,V:a}of i){let i=new Set(o.filter(t=>!e.has(t)));for(let e of a){t.set(e,i)}}}$=new Set;let l=new Set;const add_to_union=e=>$.has(e)?l.add(e):$.add(e);for(let e of W){for(let t of e.P)add_to_union(t);for(let t of e.Q)add_to_union(t)}for(let e of $){if(!Y.has(e)&&!l.has(e)){Y.set(e,L)}}set_add_many($,nfd($));J=read_trie(e).map(e=>Emoji.from(e)).sort(compare_arrays);Q=new Map;for(let e of J){let t=[Q];for(let i of e){let e=t.map(e=>{let t=e.get(i);if(!t){t=new Map;e.set(i,t)}return t});if(i===D){t.push(...e)}else{t=e}}for(let i of t){i.V=e}}}function quoted_cp(e){return(should_escape(e)?"":`${bidi_qq(safe_str_from_cps([e]))} `)+quote_cp(e)}function bidi_qq(e){return`"${e}"‎`}function check_label_extension(e){if(e.length>=4&&e[2]==B&&e[3]==B){throw new Error(`invalid label extension: "${str_from_cps(e.slice(0,4))}"`)}}function check_leading_underscore(e){const t=95;for(let i=e.lastIndexOf(t);i>0;){if(e[--i]!==t){throw new Error("underscore allowed only at start")}}}function check_fenced(e){let t=e[0];let i=a.get(t);if(i)throw error_placement(`leading ${i}`);let o=e.length;let l=-1;for(let u=1;u<o;u++){t=e[u];let o=a.get(t);if(o){if(l==u)throw error_placement(`${i} + ${o}`);l=u+1;i=o}}if(l==o)throw error_placement(`trailing ${i}`)}function safe_str_from_cps(e,t=Infinity,i=quote_cp){let o=[];if(is_combining_mark(e[0]))o.push("◌");if(e.length>t){t>>=1;e=[...e.slice(0,t),8230,...e.slice(-t)]}let a=0;let l=e.length;for(let t=0;t<l;t++){let l=e[t];if(should_escape(l)){o.push(str_from_cps(e.slice(a,t)));o.push(i(l));a=t+1}}o.push(str_from_cps(e.slice(a,l)));return o.join("")}function is_combining_mark(e){init();return H.has(e)}function should_escape(e){init();return G.has(e)}function ens_emoji(){init();return J.map(e=>e.slice())}function ens_normalize_fragment(e,t){init();let i=t?nfd:nfc;return e.split(O).map(e=>str_from_cps(tokens_from_str(explode_cp(e),i,filter_fe0f).flat())).join(O)}function ens_normalize(e){return flatten(split(e,nfc,filter_fe0f))}function ens_beautify(e){let t=split(e,nfc,e=>e);for(let{type:e,output:i,error:o}of t){if(o)break;if(e!=="Greek")array_replace(i,958,926)}return flatten(t)}function array_replace(e,t,i){let o=0;while(true){let a=e.indexOf(t,o);if(a<0)break;e[a]=i;o=a+1}}function ens_split(e,t){return split(e,nfc,t?e=>e.slice():filter_fe0f)}function split(e,t,i){if(!e)return[];init();let o=0;return e.split(O).map(e=>{let a=explode_cp(e);let l={input:a,offset:o};o+=a.length+1;try{let e=l.tokens=tokens_from_str(a,t,i);let o=e.length;let u;if(!o){throw new Error(`empty label`)}let d=l.output=e.flat();check_leading_underscore(d);let p=l.emoji=o>1||e[0].is_emoji;if(!p&&d.every(e=>e<128)){check_label_extension(d);u="ASCII"}else{let t=e.flatMap(e=>e.is_emoji?[]:e);if(!t.length){u="Emoji"}else{if(H.has(d[0]))throw error_placement("leading combining mark");for(let t=1;t<o;t++){let i=e[t];if(!i.is_emoji&&H.has(i[0])){throw error_placement(`emoji + combining mark: "${str_from_cps(e[t-1])} + ${safe_str_from_cps([i[0]])}"`)}}check_fenced(d);let i=Array_from(new Set(t));let[a]=determine_group(i);check_group(a,t);check_whole(a,i);u=a.N}}l.type=u}catch(e){l.error=e}return l})}function check_whole(e,t){let i;let o=[];for(let e of t){let t=Y.get(e);if(t===L)return;if(t){let o=t.M.get(e);i=i?i.filter(e=>o.has(e)):Array_from(o);if(!i.length)return}else{o.push(e)}}if(i){for(let t of i){if(o.every(e=>group_has_cp(t,e))){throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}}}}function determine_group(e){let t=W;for(let i of e){let e=t.filter(e=>group_has_cp(e,i));if(!e.length){if(!W.some(e=>group_has_cp(e,i))){throw error_disallowed(i)}else{throw error_group_member(t[0],i)}}t=e;if(e.length==1)break}return t}function flatten(e){return e.map(({input:t,error:i,output:o})=>{if(i){let o=i.message;throw new Error(e.length==1?o:`Invalid label ${bidi_qq(safe_str_from_cps(t,63))}: ${o}`)}return str_from_cps(o)}).join(O)}function error_disallowed(e){return new Error(`disallowed character: ${quoted_cp(e)}`)}function error_group_member(e,t){let i=quoted_cp(t);let o=W.find(e=>e.P.has(t));if(o){i=`${o.N} ${i}`}return new Error(`illegal mixture: ${e.N} + ${i}`)}function error_placement(e){return new Error(`illegal placement: ${e}`)}function check_group(e,t){for(let i of t){if(!group_has_cp(e,i)){throw error_group_member(e,i)}}if(e.M){let e=nfd(t);for(let t=1,i=e.length;t<i;t++){if(q.has(e[t])){let o=t+1;for(let a;o<i&&q.has(a=e[o]);o++){for(let i=t;i<o;i++){if(e[i]==a){throw new Error(`duplicate non-spacing marks: ${quoted_cp(a)}`)}}}if(o-t>l){throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(e.slice(t-1,o)))} (${o-t}/${l})`)}t=o}}}}function tokens_from_str(e,t,i){let o=[];let a=[];e=e.slice().reverse();while(e.length){let l=consume_emoji_reversed(e);if(l){if(a.length){o.push(t(a));a=[]}o.push(i(l))}else{let t=e.pop();if($.has(t)){a.push(t)}else{let e=F.get(t);if(e){a.push(...e)}else if(!U.has(t)){throw error_disallowed(t)}}}}if(a.length){o.push(t(a))}return o}function filter_fe0f(e){return e.filter(e=>e!=D)}function consume_emoji_reversed(e,t){let i=Q;let o;let a=e.length;while(a){i=i.get(e[--a]);if(!i)break;let{V:l}=i;if(l){o=l;if(t)t.push(...e.slice(a).reverse());e.length=a}}return o}const Z="valid";const X="mapped";const ee="ignored";const te="disallowed";const re="emoji";const ne="nfc";const se="stop";function ens_tokenize(e,{nf:t=true}={}){init();let i=explode_cp(e).reverse();let o=[];let a=[];while(i.length){let e=consume_emoji_reversed(i,o);if(e){a.push({type:re,emoji:e.slice(),input:o,cps:filter_fe0f(e)});o=[]}else{let e=i.pop();if(e==j){a.push({type:se,cp:e})}else if($.has(e)){a.push({type:Z,cps:[e]})}else if(U.has(e)){a.push({type:ee,cp:e})}else{let t=F.get(e);if(t){a.push({type:X,cp:e,cps:t.slice()})}else{a.push({type:te,cp:e})}}}}if(t){for(let e=0,t=-1;e<a.length;e++){let i=a[e];if(is_valid_or_mapped(i.type)){if(requires_check(i.cps)){let i=e+1;for(let e=i;e<a.length;e++){let{type:t,cps:o}=a[e];if(is_valid_or_mapped(t)){if(!requires_check(o))break;i=e+1}else if(t!==ee){break}}if(t<0)t=e;let o=a.slice(t,i);let l=o.flatMap(e=>is_valid_or_mapped(e.type)?e.cps:[]);let u=nfc(l);if(compare_arrays(u,l)){a.splice(t,i-t,{type:ne,input:l,cps:u,tokens0:collapse_valid_tokens(o),tokens:ens_tokenize(str_from_cps(u),{nf:false})});e=t}else{e=i-1}t=-1}else{t=e}}else if(i.type!==ee){t=-1}}}return collapse_valid_tokens(a)}function is_valid_or_mapped(e){return e==Z||e==X}function requires_check(e){return e.some(e=>z.has(e))}function collapse_valid_tokens(e){for(let t=0;t<e.length;t++){if(e[t].type==Z){let i=t+1;while(i<e.length&&e[i].type==Z)i++;e.splice(t,i-t,{type:Z,cps:e.slice(t,i).flatMap(e=>e.cps)})}}return e}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="abi/5.7.0"},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/abi-coder.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbiCoder:()=>AbiCoder,defaultAbiCoder:()=>P});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/_version.js");var d=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");var p=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/address.js");var m=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/array.js");var g=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/boolean.js");var v=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/bytes.js");var y=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/fixed-bytes.js");var _=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/null.js");var w=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/number.js");var A=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/string.js");var k=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/tuple.js");var T=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/fragments.js");const x=new l.Logger(u.version);const I=new RegExp(/^bytes([0-9]*)$/);const N=new RegExp(/^(u?int)([0-9]*)$/);class AbiCoder{constructor(e){(0,a.defineReadOnly)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new p.AddressCoder(e.name);case"bool":return new g.BooleanCoder(e.name);case"string":return new A.StringCoder(e.name);case"bytes":return new v.BytesCoder(e.name);case"array":return new m.ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new k.TupleCoder((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new _.NullCoder(e.name)}let t=e.type.match(N);if(t){let i=parseInt(t[2]||"256");if(i===0||i>256||i%8!==0){x.throwArgumentError("invalid "+t[1]+" bit length","param",e)}return new w.NumberCoder(i/8,t[1]==="int",e.name)}t=e.type.match(I);if(t){let i=parseInt(t[1]);if(i===0||i>32){x.throwArgumentError("invalid bytes length","param",e)}return new y.FixedBytesCoder(i,e.name)}return x.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new d.Reader(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new d.Writer(this._getWordSize())}getDefaultValue(e){const t=e.map(e=>this._getCoder(T.ParamType.from(e)));const i=new k.TupleCoder(t,"_");return i.defaultValue()}encode(e,t){if(e.length!==t.length){x.throwError("types/values length mismatch",l.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}})}const i=e.map(e=>this._getCoder(T.ParamType.from(e)));const o=new k.TupleCoder(i,"_");const a=this._getWriter();o.encode(a,t);return a.data}decode(e,t,i){const a=e.map(e=>this._getCoder(T.ParamType.from(e)));const l=new k.TupleCoder(a,"_");return l.decode(this._getReader((0,o.arrayify)(t),i))}}const P=new AbiCoder},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Coder:()=>Coder,Reader:()=>Reader,Writer:()=>Writer,checkResultErrors:()=>checkResultErrors});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/_version.js");const p=new u.Logger(d.version);function checkResultErrors(e){const t=[];const checkErrors=function(e,i){if(!Array.isArray(i)){return}for(let o in i){const a=e.slice();a.push(o);try{checkErrors(a,i[o])}catch(e){t.push({path:a,error:e})}}};checkErrors([],e);return t}class Coder{constructor(e,t,i,o){this.name=e;this.type=t;this.localName=i;this.dynamic=o}_throwError(e,t){p.throwArgumentError(e,this.localName,t)}}class Writer{constructor(e){(0,l.defineReadOnly)(this,"wordSize",e||32);this._data=[];this._dataLength=0;this._padding=new Uint8Array(e)}get data(){return(0,o.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){this._data.push(e);this._dataLength+=e.length;return e.length}appendWriter(e){return this._writeData((0,o.concat)(e._data))}writeBytes(e){let t=(0,o.arrayify)(e);const i=t.length%this.wordSize;if(i){t=(0,o.concat)([t,this._padding.slice(i)])}return this._writeData(t)}_getValue(e){let t=(0,o.arrayify)(a.BigNumber.from(e));if(t.length>this.wordSize){p.throwError("value out-of-bounds",u.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length})}if(t.length%this.wordSize){t=(0,o.concat)([this._padding.slice(t.length%this.wordSize),t])}return t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;this._data.push(this._padding);this._dataLength+=this.wordSize;return t=>{this._data[e]=this._getValue(t)}}}class Reader{constructor(e,t,i,a){(0,l.defineReadOnly)(this,"_data",(0,o.arrayify)(e));(0,l.defineReadOnly)(this,"wordSize",t||32);(0,l.defineReadOnly)(this,"_coerceFunc",i);(0,l.defineReadOnly)(this,"allowLoose",a);this._offset=0}get data(){return(0,o.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,t){let i=e.match("^u?int([0-9]+)$");if(i&&parseInt(i[1])<=48){t=t.toNumber()}return t}coerce(e,t){if(this._coerceFunc){return this._coerceFunc(e,t)}return Reader.coerce(e,t)}_peekBytes(e,t,i){let o=Math.ceil(t/this.wordSize)*this.wordSize;if(this._offset+o>this._data.length){if(this.allowLoose&&i&&this._offset+t<=this._data.length){o=t}else{p.throwError("data out-of-bounds",u.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+o})}}return this._data.slice(this._offset,this._offset+o)}subReader(e){return new Reader(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let i=this._peekBytes(0,e,!!t);this._offset+=i.length;return i.slice(0,e)}readValue(){return a.BigNumber.from(this.readBytes(this.wordSize))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/address.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AddressCoder:()=>AddressCoder});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class AddressCoder extends l.Coder{constructor(e){super("address","address",e,false)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,o.getAddress)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,o.getAddress)((0,a.hexZeroPad)(e.readValue().toHexString(),20))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/anonymous.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AnonymousCoder:()=>AnonymousCoder});var o=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class AnonymousCoder extends o.Coder{constructor(e){super(e.name,e.type,undefined,e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/array.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ArrayCoder:()=>ArrayCoder,pack:()=>pack,unpack:()=>unpack});var o=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/_version.js");var l=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");var u=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/anonymous.js");const d=new o.Logger(a.version);function pack(e,t,i){let a=null;if(Array.isArray(i)){a=i}else if(i&&typeof i==="object"){let e={};a=t.map(t=>{const a=t.localName;if(!a){d.throwError("cannot encode object for signature with missing names",o.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:i})}if(e[a]){d.throwError("cannot encode object for signature with duplicate names",o.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:i})}e[a]=true;return i[a]})}else{d.throwArgumentError("invalid tuple value","tuple",i)}if(t.length!==a.length){d.throwArgumentError("types/value length mismatch","tuple",i)}let u=new l.Writer(e.wordSize);let p=new l.Writer(e.wordSize);let m=[];t.forEach((e,t)=>{let i=a[t];if(e.dynamic){let t=p.length;e.encode(p,i);let o=u.writeUpdatableValue();m.push(e=>{o(e+t)})}else{e.encode(u,i)}});m.forEach(e=>{e(u.length)});let g=e.appendWriter(u);g+=e.appendWriter(p);return g}function unpack(e,t){let i=[];let a=e.subReader(0);t.forEach(t=>{let l=null;if(t.dynamic){let i=e.readValue();let u=a.subReader(i.toNumber());try{l=t.decode(u)}catch(e){if(e.code===o.Logger.errors.BUFFER_OVERRUN){throw e}l=e;l.baseType=t.name;l.name=t.localName;l.type=t.type}}else{try{l=t.decode(e)}catch(e){if(e.code===o.Logger.errors.BUFFER_OVERRUN){throw e}l=e;l.baseType=t.name;l.name=t.localName;l.type=t.type}}if(l!=undefined){i.push(l)}});const l=t.reduce((e,t)=>{const i=t.localName;if(i){if(!e[i]){e[i]=0}e[i]++}return e},{});t.forEach((e,t)=>{let o=e.localName;if(!o||l[o]!==1){return}if(o==="length"){o="_length"}if(i[o]!=null){return}const a=i[t];if(a instanceof Error){Object.defineProperty(i,o,{enumerable:true,get:()=>{throw a}})}else{i[o]=a}});for(let e=0;e<i.length;e++){const t=i[e];if(t instanceof Error){Object.defineProperty(i,e,{enumerable:true,get:()=>{throw t}})}}return Object.freeze(i)}class ArrayCoder extends l.Coder{constructor(e,t,i){const o=e.type+"["+(t>=0?t:"")+"]";const a=t===-1||e.dynamic;super("array",o,i,a);this.coder=e;this.length=t}defaultValue(){const e=this.coder.defaultValue();const t=[];for(let i=0;i<this.length;i++){t.push(e)}return t}encode(e,t){if(!Array.isArray(t)){this._throwError("expected array value",t)}let i=this.length;if(i===-1){i=t.length;e.writeValue(t.length)}d.checkArgumentCount(t.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let e=0;e<t.length;e++){o.push(this.coder)}return pack(e,o,t)}decode(e){let t=this.length;if(t===-1){t=e.readValue().toNumber();if(t*32>e._data.length){d.throwError("insufficient data length",o.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t})}}let i=[];for(let e=0;e<t;e++){i.push(new u.AnonymousCoder(this.coder))}return e.coerce(this.name,unpack(e,i))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/boolean.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BooleanCoder:()=>BooleanCoder});var o=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class BooleanCoder extends o.Coder{constructor(e){super("bool","bool",e,false)}defaultValue(){return false}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/bytes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BytesCoder:()=>BytesCoder,DynamicBytesCoder:()=>DynamicBytesCoder});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class DynamicBytesCoder extends a.Coder{constructor(e,t){super(e,e,t,true)}defaultValue(){return"0x"}encode(e,t){t=(0,o.arrayify)(t);let i=e.writeValue(t.length);i+=e.writeBytes(t);return i}decode(e){return e.readBytes(e.readValue().toNumber(),true)}}class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,o.hexlify)(super.decode(e)))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/fixed-bytes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{FixedBytesCoder:()=>FixedBytesCoder});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class FixedBytesCoder extends a.Coder{constructor(e,t){let i="bytes"+String(e);super(i,i,t,false);this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=(0,o.arrayify)(t);if(i.length!==this.size){this._throwError("incorrect data length",t)}return e.writeBytes(i)}decode(e){return e.coerce(this.name,(0,o.hexlify)(e.readBytes(this.size)))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/null.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{NullCoder:()=>NullCoder});var o=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class NullCoder extends o.Coder{constructor(e){super("null","",e,false)}defaultValue(){return null}encode(e,t){if(t!=null){this._throwError("not null",t)}return e.writeBytes([])}decode(e){e.readBytes(0);return e.coerce(this.name,null)}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/number.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{NumberCoder:()=>NumberCoder});var o=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var a=i("../../node_modules/.pnpm/@ethersproject+constants@5.7.0/node_modules/@ethersproject/constants/lib.esm/bignumbers.js");var l=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");class NumberCoder extends l.Coder{constructor(e,t,i){const o=(t?"int":"uint")+e*8;super(o,o,i,false);this.size=e;this.signed=t}defaultValue(){return 0}encode(e,t){let i=o.BigNumber.from(t);let l=a.MaxUint256.mask(e.wordSize*8);if(this.signed){let e=l.mask(this.size*8-1);if(i.gt(e)||i.lt(e.add(a.One).mul(a.NegativeOne))){this._throwError("value out-of-bounds",t)}}else if(i.lt(a.Zero)||i.gt(l.mask(this.size*8))){this._throwError("value out-of-bounds",t)}i=i.toTwos(this.size*8).mask(this.size*8);if(this.signed){i=i.fromTwos(this.size*8).toTwos(8*e.wordSize)}return e.writeValue(i)}decode(e){let t=e.readValue().mask(this.size*8);if(this.signed){t=t.fromTwos(this.size*8)}return e.coerce(this.name,t)}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/string.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{StringCoder:()=>StringCoder});var o=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");var a=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/bytes.js");class StringCoder extends a.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,o.toUtf8Bytes)(t))}decode(e){return(0,o.toUtf8String)(super.decode(e))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/tuple.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TupleCoder:()=>TupleCoder});var o=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");var a=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/array.js");class TupleCoder extends o.Coder{constructor(e,t){let i=false;const o=[];e.forEach(e=>{if(e.dynamic){i=true}o.push(e.type)});const a="tuple("+o.join(",")+")";super("tuple",a,t,i);this.coders=e}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const i=t.localName;if(i){if(!e[i]){e[i]=0}e[i]++}return e},{});this.coders.forEach((i,o)=>{let a=i.localName;if(!a||t[a]!==1){return}if(a==="length"){a="_length"}if(e[a]!=null){return}e[a]=e[o]});return Object.freeze(e)}encode(e,t){return(0,a.pack)(e,this.coders,t)}decode(e){return e.coerce(this.name,(0,a.unpack)(e,this.coders))}}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/fragments.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ConstructorFragment:()=>ConstructorFragment,ErrorFragment:()=>ErrorFragment,EventFragment:()=>EventFragment,FormatTypes:()=>v,Fragment:()=>Fragment,FunctionFragment:()=>FunctionFragment,ParamType:()=>ParamType});var o=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var a=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/_version.js");const d=new l.Logger(u.version);const p={};let m={calldata:true,memory:true,storage:true};let g={calldata:true,memory:true};function checkModifier(e,t){if(e==="bytes"||e==="string"){if(m[t]){return true}}else if(e==="address"){if(t==="payable"){return true}}else if(e.indexOf("[")>=0||e==="tuple"){if(g[t]){return true}}if(m[t]||t==="payable"){d.throwArgumentError("invalid modifier","name",t)}return false}function parseParamType(e,t){let i=e;function throwError(t){d.throwArgumentError(`unexpected character at position ${t}`,"param",e)}e=e.replace(/\s/g," ");function newNode(e){let i={type:"",name:"",parent:e,state:{allowType:true}};if(t){i.indexed=false}return i}let o={type:"",name:"",state:{allowType:true}};let a=o;for(let i=0;i<e.length;i++){let o=e[i];switch(o){case"(":if(a.state.allowType&&a.type===""){a.type="tuple"}else if(!a.state.allowParams){throwError(i)}a.state.allowType=false;a.type=verifyType(a.type);a.components=[newNode(a)];a=a.components[0];break;case")":delete a.state;if(a.name==="indexed"){if(!t){throwError(i)}a.indexed=true;a.name=""}if(checkModifier(a.type,a.name)){a.name=""}a.type=verifyType(a.type);let e=a;a=a.parent;if(!a){throwError(i)}delete e.parent;a.state.allowParams=false;a.state.allowName=true;a.state.allowArray=true;break;case",":delete a.state;if(a.name==="indexed"){if(!t){throwError(i)}a.indexed=true;a.name=""}if(checkModifier(a.type,a.name)){a.name=""}a.type=verifyType(a.type);let l=newNode(a.parent);a.parent.components.push(l);delete a.parent;a=l;break;case" ":if(a.state.allowType){if(a.type!==""){a.type=verifyType(a.type);delete a.state.allowType;a.state.allowName=true;a.state.allowParams=true}}if(a.state.allowName){if(a.name!==""){if(a.name==="indexed"){if(!t){throwError(i)}if(a.indexed){throwError(i)}a.indexed=true;a.name=""}else if(checkModifier(a.type,a.name)){a.name=""}else{a.state.allowName=false}}}break;case"[":if(!a.state.allowArray){throwError(i)}a.type+=o;a.state.allowArray=false;a.state.allowName=false;a.state.readArray=true;break;case"]":if(!a.state.readArray){throwError(i)}a.type+=o;a.state.readArray=false;a.state.allowArray=true;a.state.allowName=true;break;default:if(a.state.allowType){a.type+=o;a.state.allowParams=true;a.state.allowArray=true}else if(a.state.allowName){a.name+=o;delete a.state.allowArray}else if(a.state.readArray){a.type+=o}else{throwError(i)}}}if(a.parent){d.throwArgumentError("unexpected eof","param",e)}delete o.state;if(a.name==="indexed"){if(!t){throwError(i.length-7)}if(a.indexed){throwError(i.length-7)}a.indexed=true;a.name=""}else if(checkModifier(a.type,a.name)){a.name=""}o.type=verifyType(o.type);return o}function populate(e,t){for(let i in t){(0,a.defineReadOnly)(e,i,t[i])}}const v=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"});const y=new RegExp(/^(.*)\[([0-9]*)\]$/);class ParamType{constructor(e,t){if(e!==p){d.throwError("use fromString",l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"})}populate(this,t);let i=this.type.match(y);if(i){populate(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:ParamType.fromObject({type:i[1],components:this.components}),baseType:"array"})}else{populate(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type})}this._isParamType=true;Object.freeze(this)}format(e){if(!e){e=v.sighash}if(!v[e]){d.throwArgumentError("invalid format type","format",e)}if(e===v.json){let t={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||undefined};if(typeof this.indexed==="boolean"){t.indexed=this.indexed}if(this.components){t.components=this.components.map(t=>JSON.parse(t.format(e)))}return JSON.stringify(t)}let t="";if(this.baseType==="array"){t+=this.arrayChildren.format(e);t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"}else{if(this.baseType==="tuple"){if(e!==v.sighash){t+=this.type}t+="("+this.components.map(t=>t.format(e)).join(e===v.full?", ":",")+")"}else{t+=this.type}}if(e!==v.sighash){if(this.indexed===true){t+=" indexed"}if(e===v.full&&this.name){t+=" "+this.name}}return t}static from(e,t){if(typeof e==="string"){return ParamType.fromString(e,t)}return ParamType.fromObject(e)}static fromObject(e){if(ParamType.isParamType(e)){return e}return new ParamType(p,{name:e.name||null,type:verifyType(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ParamType.fromObject):null})}static fromString(e,t){function ParamTypify(e){return ParamType.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}return ParamTypify(parseParamType(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function parseParams(e,t){return splitNesting(e).map(e=>ParamType.fromString(e,t))}class Fragment{constructor(e,t){if(e!==p){d.throwError("use a static from method",l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"})}populate(this,t);this._isFragment=true;Object.freeze(this)}static from(e){if(Fragment.isFragment(e)){return e}if(typeof e==="string"){return Fragment.fromString(e)}return Fragment.fromObject(e)}static fromObject(e){if(Fragment.isFragment(e)){return e}switch(e.type){case"function":return FunctionFragment.fromObject(e);case"event":return EventFragment.fromObject(e);case"constructor":return ConstructorFragment.fromObject(e);case"error":return ErrorFragment.fromObject(e);case"fallback":case"receive":return null}return d.throwArgumentError("invalid fragment object","value",e)}static fromString(e){e=e.replace(/\s/g," ");e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ");e=e.trim();if(e.split(" ")[0]==="event"){return EventFragment.fromString(e.substring(5).trim())}else if(e.split(" ")[0]==="function"){return FunctionFragment.fromString(e.substring(8).trim())}else if(e.split("(")[0].trim()==="constructor"){return ConstructorFragment.fromString(e.trim())}else if(e.split(" ")[0]==="error"){return ErrorFragment.fromString(e.substring(5).trim())}return d.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class EventFragment extends Fragment{format(e){if(!e){e=v.sighash}if(!v[e]){d.throwArgumentError("invalid format type","format",e)}if(e===v.json){return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))})}let t="";if(e!==v.sighash){t+="event "}t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===v.full?", ":",")+") ";if(e!==v.sighash){if(this.anonymous){t+="anonymous "}}return t.trim()}static from(e){if(typeof e==="string"){return EventFragment.fromString(e)}return EventFragment.fromObject(e)}static fromObject(e){if(EventFragment.isEventFragment(e)){return e}if(e.type!=="event"){d.throwArgumentError("invalid event object","value",e)}const t={name:verifyIdentifier(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],type:"event"};return new EventFragment(p,t)}static fromString(e){let t=e.match(w);if(!t){d.throwArgumentError("invalid event string","value",e)}let i=false;t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":i=true;break;case"":break;default:d.warn("unknown modifier: "+e)}});return EventFragment.fromObject({name:t[1].trim(),anonymous:i,inputs:parseParams(t[2],true),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function parseGas(e,t){t.gas=null;let i=e.split("@");if(i.length!==1){if(i.length>2){d.throwArgumentError("invalid human-readable ABI signature","value",e)}if(!i[1].match(/^[0-9]+$/)){d.throwArgumentError("invalid human-readable ABI signature gas","value",e)}t.gas=o.BigNumber.from(i[1]);return i[0]}return e}function parseModifiers(e,t){t.constant=false;t.payable=false;t.stateMutability="nonpayable";e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=true;break;case"payable":t.payable=true;t.stateMutability="payable";break;case"nonpayable":t.payable=false;t.stateMutability="nonpayable";break;case"pure":t.constant=true;t.stateMutability="pure";break;case"view":t.constant=true;t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function verifyState(e){let t={constant:false,payable:true,stateMutability:"payable"};if(e.stateMutability!=null){t.stateMutability=e.stateMutability;t.constant=t.stateMutability==="view"||t.stateMutability==="pure";if(e.constant!=null){if(!!e.constant!==t.constant){d.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e)}}t.payable=t.stateMutability==="payable";if(e.payable!=null){if(!!e.payable!==t.payable){d.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)}}}else if(e.payable!=null){t.payable=!!e.payable;if(e.constant==null&&!t.payable&&e.type!=="constructor"){d.throwArgumentError("unable to determine stateMutability","value",e)}t.constant=!!e.constant;if(t.constant){t.stateMutability="view"}else{t.stateMutability=t.payable?"payable":"nonpayable"}if(t.payable&&t.constant){d.throwArgumentError("cannot have constant payable function","value",e)}}else if(e.constant!=null){t.constant=!!e.constant;t.payable=!t.constant;t.stateMutability=t.constant?"view":"payable"}else if(e.type!=="constructor"){d.throwArgumentError("unable to determine stateMutability","value",e)}return t}class ConstructorFragment extends Fragment{format(e){if(!e){e=v.sighash}if(!v[e]){d.throwArgumentError("invalid format type","format",e)}if(e===v.json){return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas?this.gas.toNumber():undefined,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))})}if(e===v.sighash){d.throwError("cannot format a constructor for sighash",l.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"})}let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===v.full?", ":",")+") ";if(this.stateMutability&&this.stateMutability!=="nonpayable"){t+=this.stateMutability+" "}return t.trim()}static from(e){if(typeof e==="string"){return ConstructorFragment.fromString(e)}return ConstructorFragment.fromObject(e)}static fromObject(e){if(ConstructorFragment.isConstructorFragment(e)){return e}if(e.type!=="constructor"){d.throwArgumentError("invalid constructor object","value",e)}let t=verifyState(e);if(t.constant){d.throwArgumentError("constructor cannot be constant","value",e)}const i={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?o.BigNumber.from(e.gas):null};return new ConstructorFragment(p,i)}static fromString(e){let t={type:"constructor"};e=parseGas(e,t);let i=e.match(w);if(!i||i[1].trim()!=="constructor"){d.throwArgumentError("invalid constructor string","value",e)}t.inputs=parseParams(i[2].trim(),false);parseModifiers(i[3].trim(),t);return ConstructorFragment.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class FunctionFragment extends ConstructorFragment{format(e){if(!e){e=v.sighash}if(!v[e]){d.throwArgumentError("invalid format type","format",e)}if(e===v.json){return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas?this.gas.toNumber():undefined,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))})}let t="";if(e!==v.sighash){t+="function "}t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===v.full?", ":",")+") ";if(e!==v.sighash){if(this.stateMutability){if(this.stateMutability!=="nonpayable"){t+=this.stateMutability+" "}}else if(this.constant){t+="view "}if(this.outputs&&this.outputs.length){t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "}if(this.gas!=null){t+="@"+this.gas.toString()+" "}}return t.trim()}static from(e){if(typeof e==="string"){return FunctionFragment.fromString(e)}return FunctionFragment.fromObject(e)}static fromObject(e){if(FunctionFragment.isFunctionFragment(e)){return e}if(e.type!=="function"){d.throwArgumentError("invalid function object","value",e)}let t=verifyState(e);const i={type:e.type,name:verifyIdentifier(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(ParamType.fromObject):[],outputs:e.outputs?e.outputs.map(ParamType.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?o.BigNumber.from(e.gas):null};return new FunctionFragment(p,i)}static fromString(e){let t={type:"function"};e=parseGas(e,t);let i=e.split(" returns ");if(i.length>2){d.throwArgumentError("invalid function string","value",e)}let o=i[0].match(w);if(!o){d.throwArgumentError("invalid function signature","value",e)}t.name=o[1].trim();if(t.name){verifyIdentifier(t.name)}t.inputs=parseParams(o[2],false);parseModifiers(o[3].trim(),t);if(i.length>1){let o=i[1].match(w);if(o[1].trim()!=""||o[3].trim()!=""){d.throwArgumentError("unexpected tokens","value",e)}t.outputs=parseParams(o[2],false)}else{t.outputs=[]}return FunctionFragment.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function checkForbidden(e){const t=e.format();if(t==="Error(string)"||t==="Panic(uint256)"){d.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e)}return e}class ErrorFragment extends Fragment{format(e){if(!e){e=v.sighash}if(!v[e]){d.throwArgumentError("invalid format type","format",e)}if(e===v.json){return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))})}let t="";if(e!==v.sighash){t+="error "}t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===v.full?", ":",")+") ";return t.trim()}static from(e){if(typeof e==="string"){return ErrorFragment.fromString(e)}return ErrorFragment.fromObject(e)}static fromObject(e){if(ErrorFragment.isErrorFragment(e)){return e}if(e.type!=="error"){d.throwArgumentError("invalid error object","value",e)}const t={type:e.type,name:verifyIdentifier(e.name),inputs:e.inputs?e.inputs.map(ParamType.fromObject):[]};return checkForbidden(new ErrorFragment(p,t))}static fromString(e){let t={type:"error"};let i=e.match(w);if(!i){d.throwArgumentError("invalid error signature","value",e)}t.name=i[1].trim();if(t.name){verifyIdentifier(t.name)}t.inputs=parseParams(i[2],false);return checkForbidden(ErrorFragment.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function verifyType(e){if(e.match(/^uint($|[^1-9])/)){e="uint256"+e.substring(4)}else if(e.match(/^int($|[^1-9])/)){e="int256"+e.substring(3)}return e}const _=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function verifyIdentifier(e){if(!e||!e.match(_)){d.throwArgumentError(`invalid identifier "${e}"`,"value",e)}return e}const w=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function splitNesting(e){e=e.trim();let t=[];let i="";let o=0;for(let a=0;a<e.length;a++){let l=e[a];if(l===","&&o===0){t.push(i);i=""}else{i+=l;if(l==="("){o++}else if(l===")"){o--;if(o===-1){d.throwArgumentError("unbalanced parenthesis","value",e)}}}}if(i){t.push(i)}return t}},"../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/interface.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ErrorDescription:()=>ErrorDescription,Indexed:()=>Indexed,Interface:()=>Interface,LogDescription:()=>LogDescription,TransactionDescription:()=>TransactionDescription,checkResultErrors:()=>g.checkResultErrors});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/id.js");var d=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/abi-coder.js");var g=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");var v=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/fragments.js");var y=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var _=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/_version.js");const w=new y.Logger(_.version);class LogDescription extends p.Description{}class TransactionDescription extends p.Description{}class ErrorDescription extends p.Description{}class Indexed extends p.Description{static isIndexed(e){return!!(e&&e._isIndexed)}}const A={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:true},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wrapAccessError(e,t){const i=new Error(`deferred error during ABI decoding triggered accessing ${e}`);i.error=t;return i}class Interface{constructor(e){let t=[];if(typeof e==="string"){t=JSON.parse(e)}else{t=e}(0,p.defineReadOnly)(this,"fragments",t.map(e=>v.Fragment.from(e)).filter(e=>e!=null));(0,p.defineReadOnly)(this,"_abiCoder",(0,p.getStatic)(new.target,"getAbiCoder")());(0,p.defineReadOnly)(this,"functions",{});(0,p.defineReadOnly)(this,"errors",{});(0,p.defineReadOnly)(this,"events",{});(0,p.defineReadOnly)(this,"structs",{});this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy){w.warn("duplicate definition - constructor");return}(0,p.defineReadOnly)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let i=e.format();if(t[i]){w.warn("duplicate definition - "+i);return}t[i]=e});if(!this.deploy){(0,p.defineReadOnly)(this,"deploy",v.ConstructorFragment.from({payable:false,type:"constructor"}))}(0,p.defineReadOnly)(this,"_isInterface",true)}format(e){if(!e){e=v.FormatTypes.full}if(e===v.FormatTypes.sighash){w.throwArgumentError("interface does not support formatting sighash","format",e)}const t=this.fragments.map(t=>t.format(e));if(e===v.FormatTypes.json){return JSON.stringify(t.map(e=>JSON.parse(e)))}return t}static getAbiCoder(){return m.defaultAbiCoder}static getAddress(e){return(0,o.getAddress)(e)}static getSighash(e){return(0,l.hexDataSlice)((0,u.id)(e.format()),0,4)}static getEventTopic(e){return(0,u.id)(e.format())}getFunction(e){if((0,l.isHexString)(e)){for(const t in this.functions){if(e===this.getSighash(t)){return this.functions[t]}}w.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const t=e.trim();const i=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);if(i.length===0){w.throwArgumentError("no matching function","name",t)}else if(i.length>1){w.throwArgumentError("multiple matching functions","name",t)}return this.functions[i[0]]}const t=this.functions[v.FunctionFragment.fromString(e).format()];if(!t){w.throwArgumentError("no matching function","signature",e)}return t}getEvent(e){if((0,l.isHexString)(e)){const t=e.toLowerCase();for(const e in this.events){if(t===this.getEventTopic(e)){return this.events[e]}}w.throwArgumentError("no matching event","topichash",t)}if(e.indexOf("(")===-1){const t=e.trim();const i=Object.keys(this.events).filter(e=>e.split("(")[0]===t);if(i.length===0){w.throwArgumentError("no matching event","name",t)}else if(i.length>1){w.throwArgumentError("multiple matching events","name",t)}return this.events[i[0]]}const t=this.events[v.EventFragment.fromString(e).format()];if(!t){w.throwArgumentError("no matching event","signature",e)}return t}getError(e){if((0,l.isHexString)(e)){const t=(0,p.getStatic)(this.constructor,"getSighash");for(const i in this.errors){const o=this.errors[i];if(e===t(o)){return this.errors[i]}}w.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const t=e.trim();const i=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);if(i.length===0){w.throwArgumentError("no matching error","name",t)}else if(i.length>1){w.throwArgumentError("multiple matching errors","name",t)}return this.errors[i[0]]}const t=this.errors[v.FunctionFragment.fromString(e).format()];if(!t){w.throwArgumentError("no matching error","signature",e)}return t}getSighash(e){if(typeof e==="string"){try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}}return(0,p.getStatic)(this.constructor,"getSighash")(e)}getEventTopic(e){if(typeof e==="string"){e=this.getEvent(e)}return(0,p.getStatic)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e==="string"){e=this.getError(e)}const i=(0,l.arrayify)(t);if((0,l.hexlify)(i.slice(0,4))!==this.getSighash(e)){w.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,l.hexlify)(i))}return this._decodeParams(e.inputs,i.slice(4))}encodeErrorResult(e,t){if(typeof e==="string"){e=this.getError(e)}return(0,l.hexlify)((0,l.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){if(typeof e==="string"){e=this.getFunction(e)}const i=(0,l.arrayify)(t);if((0,l.hexlify)(i.slice(0,4))!==this.getSighash(e)){w.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,l.hexlify)(i))}return this._decodeParams(e.inputs,i.slice(4))}encodeFunctionData(e,t){if(typeof e==="string"){e=this.getFunction(e)}return(0,l.hexlify)((0,l.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){if(typeof e==="string"){e=this.getFunction(e)}let i=(0,l.arrayify)(t);let o=null;let a="";let u=null;let d=null;let p=null;switch(i.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,i)}catch(e){}break;case 4:{const e=(0,l.hexlify)(i.slice(0,4));const t=A[e];if(t){u=this._abiCoder.decode(t.inputs,i.slice(4));d=t.name;p=t.signature;if(t.reason){o=u[0]}if(d==="Error"){a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(u[0])}`}else if(d==="Panic"){a=`; VM Exception while processing transaction: reverted with panic code ${u[0]}`}}else{try{const t=this.getError(e);u=this._abiCoder.decode(t.inputs,i.slice(4));d=t.name;p=t.format()}catch(e){}}break}}return w.throwError("call revert exception"+a,y.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,l.hexlify)(t),errorArgs:u,errorName:d,errorSignature:p,reason:o})}encodeFunctionResult(e,t){if(typeof e==="string"){e=this.getFunction(e)}return(0,l.hexlify)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e==="string"){e=this.getEvent(e)}if(t.length>e.inputs.length){w.throwError("too many arguments for "+e.format(),y.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t})}let i=[];if(!e.anonymous){i.push(this.getEventTopic(e))}const encodeTopic=(e,t)=>{if(e.type==="string"){return(0,u.id)(t)}else if(e.type==="bytes"){return(0,d.keccak256)((0,l.hexlify)(t))}if(e.type==="bool"&&typeof t==="boolean"){t=t?"0x01":"0x00"}if(e.type.match(/^u?int/)){t=a.BigNumber.from(t).toHexString()}if(e.type==="address"){this._abiCoder.encode(["address"],[t])}return(0,l.hexZeroPad)((0,l.hexlify)(t),32)};t.forEach((t,o)=>{let a=e.inputs[o];if(!a.indexed){if(t!=null){w.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,t)}return}if(t==null){i.push(null)}else if(a.baseType==="array"||a.baseType==="tuple"){w.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,t)}else if(Array.isArray(t)){i.push(t.map(e=>encodeTopic(a,e)))}else{i.push(encodeTopic(a,t))}});while(i.length&&i[i.length-1]===null){i.pop()}return i}encodeEventLog(e,t){if(typeof e==="string"){e=this.getEvent(e)}const i=[];const o=[];const a=[];if(!e.anonymous){i.push(this.getEventTopic(e))}if(t.length!==e.inputs.length){w.throwArgumentError("event arguments/values mismatch","values",t)}e.inputs.forEach((e,l)=>{const p=t[l];if(e.indexed){if(e.type==="string"){i.push((0,u.id)(p))}else if(e.type==="bytes"){i.push((0,d.keccak256)(p))}else if(e.baseType==="tuple"||e.baseType==="array"){throw new Error("not implemented")}else{i.push(this._abiCoder.encode([e.type],[p]))}}else{o.push(e);a.push(p)}});return{data:this._abiCoder.encode(o,a),topics:i}}decodeEventLog(e,t,i){if(typeof e==="string"){e=this.getEvent(e)}if(i!=null&&!e.anonymous){let t=this.getEventTopic(e);if(!(0,l.isHexString)(i[0],32)||i[0].toLowerCase()!==t){w.throwError("fragment/topic mismatch",y.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:i[0]})}i=i.slice(1)}let o=[];let a=[];let u=[];e.inputs.forEach((e,t)=>{if(e.indexed){if(e.type==="string"||e.type==="bytes"||e.baseType==="tuple"||e.baseType==="array"){o.push(v.ParamType.fromObject({type:"bytes32",name:e.name}));u.push(true)}else{o.push(e);u.push(false)}}else{a.push(e);u.push(false)}});let d=i!=null?this._abiCoder.decode(o,(0,l.concat)(i)):null;let p=this._abiCoder.decode(a,t,true);let m=[];let g=0,_=0;e.inputs.forEach((e,t)=>{if(e.indexed){if(d==null){m[t]=new Indexed({_isIndexed:true,hash:null})}else if(u[t]){m[t]=new Indexed({_isIndexed:true,hash:d[_++]})}else{try{m[t]=d[_++]}catch(e){m[t]=e}}}else{try{m[t]=p[g++]}catch(e){m[t]=e}}if(e.name&&m[e.name]==null){const i=m[t];if(i instanceof Error){Object.defineProperty(m,e.name,{enumerable:true,get:()=>{throw wrapAccessError(`property ${JSON.stringify(e.name)}`,i)}})}else{m[e.name]=i}}});for(let e=0;e<m.length;e++){const t=m[e];if(t instanceof Error){Object.defineProperty(m,e,{enumerable:true,get:()=>{throw wrapAccessError(`index ${e}`,t)}})}}return Object.freeze(m)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());if(!t){return null}return new TransactionDescription({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:a.BigNumber.from(e.value||"0")})}parseLog(e){let t=this.getEvent(e.topics[0]);if(!t||t.anonymous){return null}return new LogDescription({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=(0,l.hexlify)(e);let i=this.getError(t.substring(0,10).toLowerCase());if(!i){return null}return new ErrorDescription({args:this._abiCoder.decode(i.inputs,"0x"+t.substring(10)),errorFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i)})}static isInterface(e){return!!(e&&e._isInterface)}}},"../../node_modules/.pnpm/@ethersproject+abstract-provider@5.8.0/node_modules/@ethersproject/abstract-provider/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="abstract-provider/5.8.0"},"../../node_modules/.pnpm/@ethersproject+abstract-provider@5.8.0/node_modules/@ethersproject/abstract-provider/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BlockForkEvent:()=>BlockForkEvent,ForkEvent:()=>ForkEvent,Provider:()=>Provider,TransactionForkEvent:()=>TransactionForkEvent,TransactionOrderForkEvent:()=>TransactionOrderForkEvent});var o=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+abstract-provider@5.8.0/node_modules/@ethersproject/abstract-provider/lib.esm/_version.js");var p=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const m=new u.Logger(d.version);class ForkEvent extends l.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class BlockForkEvent extends ForkEvent{constructor(e,t){if(!(0,a.isHexString)(e,32)){m.throwArgumentError("invalid blockHash","blockHash",e)}super({_isForkEvent:true,_isBlockForkEvent:true,expiry:t||0,blockHash:e})}}class TransactionForkEvent extends ForkEvent{constructor(e,t){if(!(0,a.isHexString)(e,32)){m.throwArgumentError("invalid transaction hash","hash",e)}super({_isForkEvent:true,_isTransactionForkEvent:true,expiry:t||0,hash:e})}}class TransactionOrderForkEvent extends ForkEvent{constructor(e,t,i){if(!(0,a.isHexString)(e,32)){m.throwArgumentError("invalid transaction hash","beforeHash",e)}if(!(0,a.isHexString)(t,32)){m.throwArgumentError("invalid transaction hash","afterHash",t)}super({_isForkEvent:true,_isTransactionOrderForkEvent:true,expiry:i||0,beforeHash:e,afterHash:t})}}class Provider{constructor(){m.checkAbstract(new.target,Provider);(0,l.defineReadOnly)(this,"_isProvider",true)}getFeeData(){return p(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield(0,l.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)});let i=null,a=null,u=null;if(e&&e.baseFeePerGas){i=e.baseFeePerGas;u=o.BigNumber.from("1500000000");a=e.baseFeePerGas.mul(2).add(u)}return{lastBaseFeePerGas:i,maxFeePerGas:a,maxPriorityFeePerGas:u,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}},"../../node_modules/.pnpm/@ethersproject+abstract-signer@5.8.0/node_modules/@ethersproject/abstract-signer/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="abstract-signer/5.8.0"},"../../node_modules/.pnpm/@ethersproject+abstract-signer@5.8.0/node_modules/@ethersproject/abstract-signer/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Signer:()=>Signer,VoidSigner:()=>VoidSigner});var o=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+abstract-signer@5.8.0/node_modules/@ethersproject/abstract-signer/lib.esm/_version.js");var u=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const d=new a.Logger(l.version);const p=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"];const m=[a.Logger.errors.INSUFFICIENT_FUNDS,a.Logger.errors.NONCE_EXPIRED,a.Logger.errors.REPLACEMENT_UNDERPRICED];class Signer{constructor(){d.checkAbstract(new.target,Signer);(0,o.defineReadOnly)(this,"_isSigner",true)}getBalance(e){return u(this,void 0,void 0,function*(){this._checkProvider("getBalance");return yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return u(this,void 0,void 0,function*(){this._checkProvider("getTransactionCount");return yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return u(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield(0,o.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return u(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield(0,o.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return u(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e);const i=yield this.signTransaction(t);return yield this.provider.sendTransaction(i)})}getChainId(){return u(this,void 0,void 0,function*(){this._checkProvider("getChainId");const e=yield this.provider.getNetwork();return e.chainId})}getGasPrice(){return u(this,void 0,void 0,function*(){this._checkProvider("getGasPrice");return yield this.provider.getGasPrice()})}getFeeData(){return u(this,void 0,void 0,function*(){this._checkProvider("getFeeData");return yield this.provider.getFeeData()})}resolveName(e){return u(this,void 0,void 0,function*(){this._checkProvider("resolveName");return yield this.provider.resolveName(e)})}checkTransaction(e){for(const t in e){if(p.indexOf(t)===-1){d.throwArgumentError("invalid transaction key: "+t,"transaction",e)}}const t=(0,o.shallowCopy)(e);if(t.from==null){t.from=this.getAddress()}else{t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>{if(t[0].toLowerCase()!==t[1].toLowerCase()){d.throwArgumentError("from address mismatch","transaction",e)}return t[0]})}return t}populateTransaction(e){return u(this,void 0,void 0,function*(){const t=yield(0,o.resolveProperties)(this.checkTransaction(e));if(t.to!=null){t.to=Promise.resolve(t.to).then(e=>u(this,void 0,void 0,function*(){if(e==null){return null}const t=yield this.resolveName(e);if(t==null){d.throwArgumentError("provided ENS name resolves to null","tx.to",e)}return t}));t.to.catch(e=>{})}const i=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||i)){d.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e)}else if((t.type===0||t.type===1)&&i){d.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e)}if((t.type===2||t.type==null)&&(t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)){t.type=2}else if(t.type===0||t.type===1){if(t.gasPrice==null){t.gasPrice=this.getGasPrice()}}else{const e=yield this.getFeeData();if(t.type==null){if(e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null){t.type=2;if(t.gasPrice!=null){const e=t.gasPrice;delete t.gasPrice;t.maxFeePerGas=e;t.maxPriorityFeePerGas=e}else{if(t.maxFeePerGas==null){t.maxFeePerGas=e.maxFeePerGas}if(t.maxPriorityFeePerGas==null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}else if(e.gasPrice!=null){if(i){d.throwError("network does not support EIP-1559",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"})}if(t.gasPrice==null){t.gasPrice=e.gasPrice}t.type=0}else{d.throwError("failed to get consistent fee data",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"})}}else if(t.type===2){if(t.maxFeePerGas==null){t.maxFeePerGas=e.maxFeePerGas}if(t.maxPriorityFeePerGas==null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}if(t.nonce==null){t.nonce=this.getTransactionCount("pending")}if(t.gasLimit==null){t.gasLimit=this.estimateGas(t).catch(e=>{if(m.indexOf(e.code)>=0){throw e}return d.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",a.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})}if(t.chainId==null){t.chainId=this.getChainId()}else{t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>{if(t[1]!==0&&t[0]!==t[1]){d.throwArgumentError("chainId address mismatch","transaction",e)}return t[0]})}return yield(0,o.resolveProperties)(t)})}_checkProvider(e){if(!this.provider){d.throwError("missing provider",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}}static isSigner(e){return!!(e&&e._isSigner)}}class VoidSigner extends Signer{constructor(e,t){super();(0,o.defineReadOnly)(this,"address",e);(0,o.defineReadOnly)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{d.throwError(e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new VoidSigner(this.address,e)}}},"../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="address/5.7.0"},"../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAddress:()=>getAddress,getContractAddress:()=>getContractAddress,getCreate2Address:()=>getCreate2Address,getIcapAddress:()=>getIcapAddress,isAddress:()=>isAddress});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.7.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/_version.js");const m=new d.Logger(p.version);function getChecksumAddress(e){if(!(0,o.isHexString)(e,20)){m.throwArgumentError("invalid address","address",e)}e=e.toLowerCase();const t=e.substring(2).split("");const i=new Uint8Array(40);for(let e=0;e<40;e++){i[e]=t[e].charCodeAt(0)}const a=(0,o.arrayify)((0,l.keccak256)(i));for(let e=0;e<40;e+=2){if(a[e>>1]>>4>=8){t[e]=t[e].toUpperCase()}if((a[e>>1]&15)>=8){t[e+1]=t[e+1].toUpperCase()}}return"0x"+t.join("")}const g=9007199254740991;function log10(e){if(Math.log10){return Math.log10(e)}return Math.log(e)/Math.LN10}const v={};for(let e=0;e<10;e++){v[String(e)]=String(e)}for(let e=0;e<26;e++){v[String.fromCharCode(65+e)]=String(10+e)}const y=Math.floor(log10(g));function ibanChecksum(e){e=e.toUpperCase();e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(e=>v[e]).join("");while(t.length>=y){let e=t.substring(0,y);t=parseInt(e,10)%97+t.substring(e.length)}let i=String(98-parseInt(t,10)%97);while(i.length<2){i="0"+i}return i}function getAddress(e){let t=null;if(typeof e!=="string"){m.throwArgumentError("invalid address","address",e)}if(e.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(e.substring(0,2)!=="0x"){e="0x"+e}t=getChecksumAddress(e);if(e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e){m.throwArgumentError("bad address checksum","address",e)}}else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){if(e.substring(2,4)!==ibanChecksum(e)){m.throwArgumentError("bad icap checksum","address",e)}t=(0,a._base36To16)(e.substring(4));while(t.length<40){t="0"+t}t=getChecksumAddress("0x"+t)}else{m.throwArgumentError("invalid address","address",e)}return t}function isAddress(e){try{getAddress(e);return true}catch(e){}return false}function getIcapAddress(e){let t=(0,a._base16To36)(getAddress(e).substring(2)).toUpperCase();while(t.length<30){t="0"+t}return"XE"+ibanChecksum("XE00"+t)+t}function getContractAddress(e){let t=null;try{t=getAddress(e.from)}catch(t){m.throwArgumentError("missing from address","transaction",e)}const i=(0,o.stripZeros)((0,o.arrayify)(a.BigNumber.from(e.nonce).toHexString()));return getAddress((0,o.hexDataSlice)((0,l.keccak256)((0,u.encode)([t,i])),12))}function getCreate2Address(e,t,i){if((0,o.hexDataLength)(t)!==32){m.throwArgumentError("salt must be 32 bytes","salt",t)}if((0,o.hexDataLength)(i)!==32){m.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",i)}return getAddress((0,o.hexDataSlice)((0,l.keccak256)((0,o.concat)(["0xff",getAddress(e),t,i])),12))}},"../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="address/5.8.0"},"../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAddress:()=>getAddress,getContractAddress:()=>getContractAddress,getCreate2Address:()=>getCreate2Address,getIcapAddress:()=>getIcapAddress,isAddress:()=>isAddress});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+rlp@5.8.0/node_modules/@ethersproject/rlp/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/_version.js");const m=new d.Logger(p.version);function getChecksumAddress(e){if(!(0,o.isHexString)(e,20)){m.throwArgumentError("invalid address","address",e)}e=e.toLowerCase();const t=e.substring(2).split("");const i=new Uint8Array(40);for(let e=0;e<40;e++){i[e]=t[e].charCodeAt(0)}const a=(0,o.arrayify)((0,l.keccak256)(i));for(let e=0;e<40;e+=2){if(a[e>>1]>>4>=8){t[e]=t[e].toUpperCase()}if((a[e>>1]&15)>=8){t[e+1]=t[e+1].toUpperCase()}}return"0x"+t.join("")}const g=9007199254740991;function log10(e){if(Math.log10){return Math.log10(e)}return Math.log(e)/Math.LN10}const v={};for(let e=0;e<10;e++){v[String(e)]=String(e)}for(let e=0;e<26;e++){v[String.fromCharCode(65+e)]=String(10+e)}const y=Math.floor(log10(g));function ibanChecksum(e){e=e.toUpperCase();e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(e=>v[e]).join("");while(t.length>=y){let e=t.substring(0,y);t=parseInt(e,10)%97+t.substring(e.length)}let i=String(98-parseInt(t,10)%97);while(i.length<2){i="0"+i}return i}function getAddress(e){let t=null;if(typeof e!=="string"){m.throwArgumentError("invalid address","address",e)}if(e.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(e.substring(0,2)!=="0x"){e="0x"+e}t=getChecksumAddress(e);if(e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e){m.throwArgumentError("bad address checksum","address",e)}}else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){if(e.substring(2,4)!==ibanChecksum(e)){m.throwArgumentError("bad icap checksum","address",e)}t=(0,a._base36To16)(e.substring(4));while(t.length<40){t="0"+t}t=getChecksumAddress("0x"+t)}else{m.throwArgumentError("invalid address","address",e)}return t}function isAddress(e){try{getAddress(e);return true}catch(e){}return false}function getIcapAddress(e){let t=(0,a._base16To36)(getAddress(e).substring(2)).toUpperCase();while(t.length<30){t="0"+t}return"XE"+ibanChecksum("XE00"+t)+t}function getContractAddress(e){let t=null;try{t=getAddress(e.from)}catch(t){m.throwArgumentError("missing from address","transaction",e)}const i=(0,o.stripZeros)((0,o.arrayify)(a.BigNumber.from(e.nonce).toHexString()));return getAddress((0,o.hexDataSlice)((0,l.keccak256)((0,u.encode)([t,i])),12))}function getCreate2Address(e,t,i){if((0,o.hexDataLength)(t)!==32){m.throwArgumentError("salt must be 32 bytes","salt",t)}if((0,o.hexDataLength)(i)!==32){m.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",i)}return getAddress((0,o.hexDataSlice)((0,l.keccak256)((0,o.concat)(["0xff",getAddress(e),t,i])),12))}},"../../node_modules/.pnpm/@ethersproject+base64@5.8.0/node_modules/@ethersproject/base64/lib.esm/base64.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decode:()=>decode,encode:()=>encode});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");function decode(e){e=atob(e);const t=[];for(let i=0;i<e.length;i++){t.push(e.charCodeAt(i))}return(0,o.arrayify)(t)}function encode(e){e=(0,o.arrayify)(e);let t="";for(let i=0;i<e.length;i++){t+=String.fromCharCode(e[i])}return btoa(t)}},"../../node_modules/.pnpm/@ethersproject+basex@5.8.0/node_modules/@ethersproject/basex/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Base32:()=>l,Base58:()=>u,BaseX:()=>BaseX});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");class BaseX{constructor(e){(0,a.defineReadOnly)(this,"alphabet",e);(0,a.defineReadOnly)(this,"base",e.length);(0,a.defineReadOnly)(this,"_alphabetMap",{});(0,a.defineReadOnly)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++){this._alphabetMap[e.charAt(t)]=t}}encode(e){let t=(0,o.arrayify)(e);if(t.length===0){return""}let i=[0];for(let e=0;e<t.length;++e){let o=t[e];for(let e=0;e<i.length;++e){o+=i[e]<<8;i[e]=o%this.base;o=o/this.base|0}while(o>0){i.push(o%this.base);o=o/this.base|0}}let a="";for(let e=0;t[e]===0&&e<t.length-1;++e){a+=this._leader}for(let e=i.length-1;e>=0;--e){a+=this.alphabet[i[e]]}return a}decode(e){if(typeof e!=="string"){throw new TypeError("Expected String")}let t=[];if(e.length===0){return new Uint8Array(t)}t.push(0);for(let i=0;i<e.length;i++){let o=this._alphabetMap[e[i]];if(o===undefined){throw new Error("Non-base"+this.base+" character")}let a=o;for(let e=0;e<t.length;++e){a+=t[e]*this.base;t[e]=a&255;a>>=8}while(a>0){t.push(a&255);a>>=8}}for(let i=0;e[i]===this._leader&&i<e.length-1;++i){t.push(0)}return(0,o.arrayify)(new Uint8Array(t.reverse()))}}const l=new BaseX("abcdefghijklmnopqrstuvwxyz234567");const u=new BaseX("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="bignumber/5.7.0"},"../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BigNumber:()=>BigNumber,_base16To36:()=>_base16To36,_base36To16:()=>_base36To16,isBigNumberish:()=>isBigNumberish});var o=i("../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/_version.js");var p=a().BN;const m=new u.Logger(d.version);const g={};const v=9007199254740991;function isBigNumberish(e){return e!=null&&(BigNumber.isBigNumber(e)||typeof e==="number"&&e%1===0||typeof e==="string"&&!!e.match(/^-?[0-9]+$/)||(0,l.isHexString)(e)||typeof e==="bigint"||(0,l.isBytes)(e))}let y=false;class BigNumber{constructor(e,t){if(e!==g){m.throwError("cannot call constructor directly; use BigNumber.from",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"})}this._hex=t;this._isBigNumber=true;Object.freeze(this)}fromTwos(e){return toBigNumber(toBN(this).fromTwos(e))}toTwos(e){return toBigNumber(toBN(this).toTwos(e))}abs(){if(this._hex[0]==="-"){return BigNumber.from(this._hex.substring(1))}return this}add(e){return toBigNumber(toBN(this).add(toBN(e)))}sub(e){return toBigNumber(toBN(this).sub(toBN(e)))}div(e){const t=BigNumber.from(e);if(t.isZero()){throwFault("division-by-zero","div")}return toBigNumber(toBN(this).div(toBN(e)))}mul(e){return toBigNumber(toBN(this).mul(toBN(e)))}mod(e){const t=toBN(e);if(t.isNeg()){throwFault("division-by-zero","mod")}return toBigNumber(toBN(this).umod(t))}pow(e){const t=toBN(e);if(t.isNeg()){throwFault("negative-power","pow")}return toBigNumber(toBN(this).pow(t))}and(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault("unbound-bitwise-result","and")}return toBigNumber(toBN(this).and(t))}or(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault("unbound-bitwise-result","or")}return toBigNumber(toBN(this).or(t))}xor(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault("unbound-bitwise-result","xor")}return toBigNumber(toBN(this).xor(t))}mask(e){if(this.isNegative()||e<0){throwFault("negative-width","mask")}return toBigNumber(toBN(this).maskn(e))}shl(e){if(this.isNegative()||e<0){throwFault("negative-width","shl")}return toBigNumber(toBN(this).shln(e))}shr(e){if(this.isNegative()||e<0){throwFault("negative-width","shr")}return toBigNumber(toBN(this).shrn(e))}eq(e){return toBN(this).eq(toBN(e))}lt(e){return toBN(this).lt(toBN(e))}lte(e){return toBN(this).lte(toBN(e))}gt(e){return toBN(this).gt(toBN(e))}gte(e){return toBN(this).gte(toBN(e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch(e){throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return m.throwError("this platform does not support BigInt",u.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){if(arguments.length>0){if(arguments[0]===10){if(!y){y=true;m.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")}}else if(arguments[0]===16){m.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",u.Logger.errors.UNEXPECTED_ARGUMENT,{})}else{m.throwError("BigNumber.toString does not accept parameters",u.Logger.errors.UNEXPECTED_ARGUMENT,{})}}return toBN(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber){return e}if(typeof e==="string"){if(e.match(/^-?0x[0-9a-f]+$/i)){return new BigNumber(g,toHex(e))}if(e.match(/^-?[0-9]+$/)){return new BigNumber(g,toHex(new p(e)))}return m.throwArgumentError("invalid BigNumber string","value",e)}if(typeof e==="number"){if(e%1){throwFault("underflow","BigNumber.from",e)}if(e>=v||e<=-v){throwFault("overflow","BigNumber.from",e)}return BigNumber.from(String(e))}const t=e;if(typeof t==="bigint"){return BigNumber.from(t.toString())}if((0,l.isBytes)(t)){return BigNumber.from((0,l.hexlify)(t))}if(t){if(t.toHexString){const e=t.toHexString();if(typeof e==="string"){return BigNumber.from(e)}}else{let e=t._hex;if(e==null&&t.type==="BigNumber"){e=t.hex}if(typeof e==="string"){if((0,l.isHexString)(e)||e[0]==="-"&&(0,l.isHexString)(e.substring(1))){return BigNumber.from(e)}}}}return m.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function toHex(e){if(typeof e!=="string"){return toHex(e.toString(16))}if(e[0]==="-"){e=e.substring(1);if(e[0]==="-"){m.throwArgumentError("invalid hex","value",e)}e=toHex(e);if(e==="0x00"){return e}return"-"+e}if(e.substring(0,2)!=="0x"){e="0x"+e}if(e==="0x"){return"0x00"}if(e.length%2){e="0x0"+e.substring(2)}while(e.length>4&&e.substring(0,4)==="0x00"){e="0x"+e.substring(4)}return e}function toBigNumber(e){return BigNumber.from(toHex(e))}function toBN(e){const t=BigNumber.from(e).toHexString();if(t[0]==="-"){return new p("-"+t.substring(3),16)}return new p(t.substring(2),16)}function throwFault(e,t,i){const o={fault:e,operation:t};if(i!=null){o.value=i}return m.throwError(e,u.Logger.errors.NUMERIC_FAULT,o)}function _base36To16(e){return new p(e,36).toString(16)}function _base16To36(e){return new p(e,16).toString(36)}},"../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/fixednumber.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{FixedFormat:()=>FixedFormat,FixedNumber:()=>FixedNumber,formatFixed:()=>formatFixed,parseFixed:()=>parseFixed});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/_version.js");var u=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");const d=new a.Logger(l.version);const p={};const m=u.BigNumber.from(0);const g=u.BigNumber.from(-1);function throwFault(e,t,i,o){const l={fault:t,operation:i};if(o!==undefined){l.value=o}return d.throwError(e,a.Logger.errors.NUMERIC_FAULT,l)}let v="0";while(v.length<256){v+=v}function getMultiplier(e){if(typeof e!=="number"){try{e=u.BigNumber.from(e).toNumber()}catch(e){}}if(typeof e==="number"&&e>=0&&e<=256&&!(e%1)){return"1"+v.substring(0,e)}return d.throwArgumentError("invalid decimal size","decimals",e)}function formatFixed(e,t){if(t==null){t=0}const i=getMultiplier(t);e=u.BigNumber.from(e);const o=e.lt(m);if(o){e=e.mul(g)}let a=e.mod(i).toString();while(a.length<i.length-1){a="0"+a}a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];const l=e.div(i).toString();if(i.length===1){e=l}else{e=l+"."+a}if(o){e="-"+e}return e}function parseFixed(e,t){if(t==null){t=0}const i=getMultiplier(t);if(typeof e!=="string"||!e.match(/^-?[0-9.]+$/)){d.throwArgumentError("invalid decimal value","value",e)}const o=e.substring(0,1)==="-";if(o){e=e.substring(1)}if(e==="."){d.throwArgumentError("missing value","value",e)}const a=e.split(".");if(a.length>2){d.throwArgumentError("too many decimal points","value",e)}let l=a[0],p=a[1];if(!l){l="0"}if(!p){p="0"}while(p[p.length-1]==="0"){p=p.substring(0,p.length-1)}if(p.length>i.length-1){throwFault("fractional component exceeds decimals","underflow","parseFixed")}if(p===""){p="0"}while(p.length<i.length-1){p+="0"}const m=u.BigNumber.from(l);const v=u.BigNumber.from(p);let y=m.mul(i).add(v);if(o){y=y.mul(g)}return y}class FixedFormat{constructor(e,t,i,o){if(e!==p){d.throwError("cannot use FixedFormat constructor; use FixedFormat.from",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"})}this.signed=t;this.width=i;this.decimals=o;this.name=(t?"":"u")+"fixed"+String(i)+"x"+String(o);this._multiplier=getMultiplier(o);Object.freeze(this)}static from(e){if(e instanceof FixedFormat){return e}if(typeof e==="number"){e=`fixed128x${e}`}let t=true;let i=128;let o=18;if(typeof e==="string"){if(e==="fixed"){}else if(e==="ufixed"){t=false}else{const a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);if(!a){d.throwArgumentError("invalid fixed format","format",e)}t=a[1]!=="u";i=parseInt(a[2]);o=parseInt(a[3])}}else if(e){const check=(t,i,o)=>{if(e[t]==null){return o}if(typeof e[t]!==i){d.throwArgumentError("invalid fixed format ("+t+" not "+i+")","format."+t,e[t])}return e[t]};t=check("signed","boolean",t);i=check("width","number",i);o=check("decimals","number",o)}if(i%8){d.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i)}if(o>80){d.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",o)}return new FixedFormat(p,t,i,o)}}class FixedNumber{constructor(e,t,i,o){if(e!==p){d.throwError("cannot use FixedNumber constructor; use FixedNumber.from",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"})}this.format=o;this._hex=t;this._value=i;this._isFixedNumber=true;Object.freeze(this)}_checkFormat(e){if(this.format.name!==e.format.name){d.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}}addUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const i=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.add(i),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const i=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.sub(i),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const i=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=parseFixed(this._value,this.format.decimals);const i=parseFixed(e._value,e.format.decimals);return FixedNumber.fromValue(t.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");if(e.length===1){e.push("0")}let t=FixedNumber.from(e[0],this.format);const i=!e[1].match(/^(0*)$/);if(this.isNegative()&&i){t=t.subUnsafe(y.toFormat(t.format))}return t}ceiling(){const e=this.toString().split(".");if(e.length===1){e.push("0")}let t=FixedNumber.from(e[0],this.format);const i=!e[1].match(/^(0*)$/);if(!this.isNegative()&&i){t=t.addUnsafe(y.toFormat(t.format))}return t}round(e){if(e==null){e=0}const t=this.toString().split(".");if(t.length===1){t.push("0")}if(e<0||e>80||e%1){d.throwArgumentError("invalid decimal count","decimals",e)}if(t[1].length<=e){return this}const i=FixedNumber.from("1"+v.substring(0,e),this.format);const o=_.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(o).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null){return this._hex}if(e%8){d.throwArgumentError("invalid byte width","width",e)}const t=u.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,o.hexZeroPad)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return FixedNumber.fromString(this._value,e)}static fromValue(e,t,i){if(i==null&&t!=null&&!(0,u.isBigNumberish)(t)){i=t;t=null}if(t==null){t=0}if(i==null){i="fixed"}return FixedNumber.fromString(formatFixed(e,t),FixedFormat.from(i))}static fromString(e,t){if(t==null){t="fixed"}const i=FixedFormat.from(t);const a=parseFixed(e,i.decimals);if(!i.signed&&a.lt(m)){throwFault("unsigned value cannot be negative","overflow","value",e)}let l=null;if(i.signed){l=a.toTwos(i.width).toHexString()}else{l=a.toHexString();l=(0,o.hexZeroPad)(l,i.width/8)}const u=formatFixed(a,i.decimals);return new FixedNumber(p,l,u,i)}static fromBytes(e,t){if(t==null){t="fixed"}const i=FixedFormat.from(t);if((0,o.arrayify)(e).length>i.width/8){throw new Error("overflow")}let a=u.BigNumber.from(e);if(i.signed){a=a.fromTwos(i.width)}const l=a.toTwos((i.signed?0:1)+i.width).toHexString();const d=formatFixed(a,i.decimals);return new FixedNumber(p,l,d,i)}static from(e,t){if(typeof e==="string"){return FixedNumber.fromString(e,t)}if((0,o.isBytes)(e)){return FixedNumber.fromBytes(e,t)}try{return FixedNumber.fromValue(e,0,t)}catch(e){if(e.code!==a.Logger.errors.INVALID_ARGUMENT){throw e}}return d.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const y=FixedNumber.from(1);const _=FixedNumber.from("0.5")},"../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="bignumber/5.8.0"},"../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BigNumber:()=>BigNumber,_base16To36:()=>_base16To36,_base36To16:()=>_base36To16,isBigNumberish:()=>isBigNumberish});var o=i("../../node_modules/.pnpm/bn.js@5.2.2/node_modules/bn.js/lib/bn.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/_version.js");var p=a().BN;const m=new u.Logger(d.version);const g={};const v=9007199254740991;function isBigNumberish(e){return e!=null&&(BigNumber.isBigNumber(e)||typeof e==="number"&&e%1===0||typeof e==="string"&&!!e.match(/^-?[0-9]+$/)||(0,l.isHexString)(e)||typeof e==="bigint"||(0,l.isBytes)(e))}let y=false;class BigNumber{constructor(e,t){if(e!==g){m.throwError("cannot call constructor directly; use BigNumber.from",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"})}this._hex=t;this._isBigNumber=true;Object.freeze(this)}fromTwos(e){return toBigNumber(toBN(this).fromTwos(e))}toTwos(e){return toBigNumber(toBN(this).toTwos(e))}abs(){if(this._hex[0]==="-"){return BigNumber.from(this._hex.substring(1))}return this}add(e){return toBigNumber(toBN(this).add(toBN(e)))}sub(e){return toBigNumber(toBN(this).sub(toBN(e)))}div(e){const t=BigNumber.from(e);if(t.isZero()){throwFault("division-by-zero","div")}return toBigNumber(toBN(this).div(toBN(e)))}mul(e){return toBigNumber(toBN(this).mul(toBN(e)))}mod(e){const t=toBN(e);if(t.isNeg()){throwFault("division-by-zero","mod")}return toBigNumber(toBN(this).umod(t))}pow(e){const t=toBN(e);if(t.isNeg()){throwFault("negative-power","pow")}return toBigNumber(toBN(this).pow(t))}and(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault("unbound-bitwise-result","and")}return toBigNumber(toBN(this).and(t))}or(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault("unbound-bitwise-result","or")}return toBigNumber(toBN(this).or(t))}xor(e){const t=toBN(e);if(this.isNegative()||t.isNeg()){throwFault("unbound-bitwise-result","xor")}return toBigNumber(toBN(this).xor(t))}mask(e){if(this.isNegative()||e<0){throwFault("negative-width","mask")}return toBigNumber(toBN(this).maskn(e))}shl(e){if(this.isNegative()||e<0){throwFault("negative-width","shl")}return toBigNumber(toBN(this).shln(e))}shr(e){if(this.isNegative()||e<0){throwFault("negative-width","shr")}return toBigNumber(toBN(this).shrn(e))}eq(e){return toBN(this).eq(toBN(e))}lt(e){return toBN(this).lt(toBN(e))}lte(e){return toBN(this).lte(toBN(e))}gt(e){return toBN(this).gt(toBN(e))}gte(e){return toBN(this).gte(toBN(e))}isNegative(){return this._hex[0]==="-"}isZero(){return toBN(this).isZero()}toNumber(){try{return toBN(this).toNumber()}catch(e){throwFault("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return m.throwError("this platform does not support BigInt",u.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){if(arguments.length>0){if(arguments[0]===10){if(!y){y=true;m.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")}}else if(arguments[0]===16){m.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",u.Logger.errors.UNEXPECTED_ARGUMENT,{})}else{m.throwError("BigNumber.toString does not accept parameters",u.Logger.errors.UNEXPECTED_ARGUMENT,{})}}return toBN(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof BigNumber){return e}if(typeof e==="string"){if(e.match(/^-?0x[0-9a-f]+$/i)){return new BigNumber(g,toHex(e))}if(e.match(/^-?[0-9]+$/)){return new BigNumber(g,toHex(new p(e)))}return m.throwArgumentError("invalid BigNumber string","value",e)}if(typeof e==="number"){if(e%1){throwFault("underflow","BigNumber.from",e)}if(e>=v||e<=-v){throwFault("overflow","BigNumber.from",e)}return BigNumber.from(String(e))}const t=e;if(typeof t==="bigint"){return BigNumber.from(t.toString())}if((0,l.isBytes)(t)){return BigNumber.from((0,l.hexlify)(t))}if(t){if(t.toHexString){const e=t.toHexString();if(typeof e==="string"){return BigNumber.from(e)}}else{let e=t._hex;if(e==null&&t.type==="BigNumber"){e=t.hex}if(typeof e==="string"){if((0,l.isHexString)(e)||e[0]==="-"&&(0,l.isHexString)(e.substring(1))){return BigNumber.from(e)}}}}return m.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function toHex(e){if(typeof e!=="string"){return toHex(e.toString(16))}if(e[0]==="-"){e=e.substring(1);if(e[0]==="-"){m.throwArgumentError("invalid hex","value",e)}e=toHex(e);if(e==="0x00"){return e}return"-"+e}if(e.substring(0,2)!=="0x"){e="0x"+e}if(e==="0x"){return"0x00"}if(e.length%2){e="0x0"+e.substring(2)}while(e.length>4&&e.substring(0,4)==="0x00"){e="0x"+e.substring(4)}return e}function toBigNumber(e){return BigNumber.from(toHex(e))}function toBN(e){const t=BigNumber.from(e).toHexString();if(t[0]==="-"){return new p("-"+t.substring(3),16)}return new p(t.substring(2),16)}function throwFault(e,t,i){const o={fault:e,operation:t};if(i!=null){o.value=i}return m.throwError(e,u.Logger.errors.NUMERIC_FAULT,o)}function _base36To16(e){return new p(e,36).toString(16)}function _base16To36(e){return new p(e,16).toString(36)}},"../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="bytes/5.7.0"},"../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{arrayify:()=>arrayify,concat:()=>concat,hexConcat:()=>hexConcat,hexDataLength:()=>hexDataLength,hexDataSlice:()=>hexDataSlice,hexStripZeros:()=>hexStripZeros,hexValue:()=>hexValue,hexZeroPad:()=>hexZeroPad,hexlify:()=>hexlify,isBytes:()=>isBytes,isBytesLike:()=>isBytesLike,isHexString:()=>isHexString,joinSignature:()=>joinSignature,splitSignature:()=>splitSignature,stripZeros:()=>stripZeros,zeroPad:()=>zeroPad});var o=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/_version.js");const l=new o.Logger(a.version);function isHexable(e){return!!e.toHexString}function addSlice(e){if(e.slice){return e}e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))};return e}function isBytesLike(e){return isHexString(e)&&!(e.length%2)||isBytes(e)}function isInteger(e){return typeof e==="number"&&e==e&&e%1===0}function isBytes(e){if(e==null){return false}if(e.constructor===Uint8Array){return true}if(typeof e==="string"){return false}if(!isInteger(e.length)||e.length<0){return false}for(let t=0;t<e.length;t++){const i=e[t];if(!isInteger(i)||i<0||i>=256){return false}}return true}function arrayify(e,t){if(!t){t={}}if(typeof e==="number"){l.checkSafeUint53(e,"invalid arrayify value");const t=[];while(e){t.unshift(e&255);e=parseInt(String(e/256))}if(t.length===0){t.push(0)}return addSlice(new Uint8Array(t))}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable(e)){e=e.toHexString()}if(isHexString(e)){let i=e.substring(2);if(i.length%2){if(t.hexPad==="left"){i="0"+i}else if(t.hexPad==="right"){i+="0"}else{l.throwArgumentError("hex data is odd-length","value",e)}}const o=[];for(let e=0;e<i.length;e+=2){o.push(parseInt(i.substring(e,e+2),16))}return addSlice(new Uint8Array(o))}if(isBytes(e)){return addSlice(new Uint8Array(e))}return l.throwArgumentError("invalid arrayify value","value",e)}function concat(e){const t=e.map(e=>arrayify(e));const i=t.reduce((e,t)=>e+t.length,0);const o=new Uint8Array(i);t.reduce((e,t)=>{o.set(t,e);return e+t.length},0);return addSlice(o)}function stripZeros(e){let t=arrayify(e);if(t.length===0){return t}let i=0;while(i<t.length&&t[i]===0){i++}if(i){t=t.slice(i)}return t}function zeroPad(e,t){e=arrayify(e);if(e.length>t){l.throwArgumentError("value out of range","value",arguments[0])}const i=new Uint8Array(t);i.set(e,t-e.length);return addSlice(i)}function isHexString(e,t){if(typeof e!=="string"||!e.match(/^0x[0-9A-Fa-f]*$/)){return false}if(t&&e.length!==2+2*t){return false}return true}const u="0123456789abcdef";function hexlify(e,t){if(!t){t={}}if(typeof e==="number"){l.checkSafeUint53(e,"invalid hexlify value");let t="";while(e){t=u[e&15]+t;e=Math.floor(e/16)}if(t.length){if(t.length%2){t="0"+t}return"0x"+t}return"0x00"}if(typeof e==="bigint"){e=e.toString(16);if(e.length%2){return"0x0"+e}return"0x"+e}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable(e)){return e.toHexString()}if(isHexString(e)){if(e.length%2){if(t.hexPad==="left"){e="0x0"+e.substring(2)}else if(t.hexPad==="right"){e+="0"}else{l.throwArgumentError("hex data is odd-length","value",e)}}return e.toLowerCase()}if(isBytes(e)){let t="0x";for(let i=0;i<e.length;i++){let o=e[i];t+=u[(o&240)>>4]+u[o&15]}return t}return l.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength(e){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)||e.length%2){return null}return(e.length-2)/2}function hexDataSlice(e,t,i){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)||e.length%2){l.throwArgumentError("invalid hexData","value",e)}t=2+2*t;if(i!=null){return"0x"+e.substring(t,2+2*i)}return"0x"+e.substring(t)}function hexConcat(e){let t="0x";e.forEach(e=>{t+=hexlify(e).substring(2)});return t}function hexValue(e){const t=hexStripZeros(hexlify(e,{hexPad:"left"}));if(t==="0x"){return"0x0"}return t}function hexStripZeros(e){if(typeof e!=="string"){e=hexlify(e)}if(!isHexString(e)){l.throwArgumentError("invalid hex string","value",e)}e=e.substring(2);let t=0;while(t<e.length&&e[t]==="0"){t++}return"0x"+e.substring(t)}function hexZeroPad(e,t){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)){l.throwArgumentError("invalid hex string","value",e)}if(e.length>2*t+2){l.throwArgumentError("value out of range","value",arguments[1])}while(e.length<2*t+2){e="0x0"+e.substring(2)}return e}function splitSignature(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(e)){let i=arrayify(e);if(i.length===64){t.v=27+(i[32]>>7);i[32]&=127;t.r=hexlify(i.slice(0,32));t.s=hexlify(i.slice(32,64))}else if(i.length===65){t.r=hexlify(i.slice(0,32));t.s=hexlify(i.slice(32,64));t.v=i[64]}else{l.throwArgumentError("invalid signature string","signature",e)}if(t.v<27){if(t.v===0||t.v===1){t.v+=27}else{l.throwArgumentError("signature invalid v byte","signature",e)}}t.recoveryParam=1-t.v%2;if(t.recoveryParam){i[32]|=128}t._vs=hexlify(i.slice(32,64))}else{t.r=e.r;t.s=e.s;t.v=e.v;t.recoveryParam=e.recoveryParam;t._vs=e._vs;if(t._vs!=null){const i=zeroPad(arrayify(t._vs),32);t._vs=hexlify(i);const o=i[0]>=128?1:0;if(t.recoveryParam==null){t.recoveryParam=o}else if(t.recoveryParam!==o){l.throwArgumentError("signature recoveryParam mismatch _vs","signature",e)}i[0]&=127;const a=hexlify(i);if(t.s==null){t.s=a}else if(t.s!==a){l.throwArgumentError("signature v mismatch _vs","signature",e)}}if(t.recoveryParam==null){if(t.v==null){l.throwArgumentError("signature missing v and recoveryParam","signature",e)}else if(t.v===0||t.v===1){t.recoveryParam=t.v}else{t.recoveryParam=1-t.v%2}}else{if(t.v==null){t.v=27+t.recoveryParam}else{const i=t.v===0||t.v===1?t.v:1-t.v%2;if(t.recoveryParam!==i){l.throwArgumentError("signature recoveryParam mismatch v","signature",e)}}}if(t.r==null||!isHexString(t.r)){l.throwArgumentError("signature missing or invalid r","signature",e)}else{t.r=hexZeroPad(t.r,32)}if(t.s==null||!isHexString(t.s)){l.throwArgumentError("signature missing or invalid s","signature",e)}else{t.s=hexZeroPad(t.s,32)}const i=arrayify(t.s);if(i[0]>=128){l.throwArgumentError("signature s out of range","signature",e)}if(t.recoveryParam){i[0]|=128}const o=hexlify(i);if(t._vs){if(!isHexString(t._vs)){l.throwArgumentError("signature invalid _vs","signature",e)}t._vs=hexZeroPad(t._vs,32)}if(t._vs==null){t._vs=o}else if(t._vs!==o){l.throwArgumentError("signature _vs mismatch v and s","signature",e)}}t.yParityAndS=t._vs;t.compact=t.r+t.yParityAndS.substring(2);return t}function joinSignature(e){e=splitSignature(e);return hexlify(concat([e.r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},"../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="bytes/5.8.0"},"../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{arrayify:()=>arrayify,concat:()=>concat,hexConcat:()=>hexConcat,hexDataLength:()=>hexDataLength,hexDataSlice:()=>hexDataSlice,hexStripZeros:()=>hexStripZeros,hexValue:()=>hexValue,hexZeroPad:()=>hexZeroPad,hexlify:()=>hexlify,isBytes:()=>isBytes,isBytesLike:()=>isBytesLike,isHexString:()=>isHexString,joinSignature:()=>joinSignature,splitSignature:()=>splitSignature,stripZeros:()=>stripZeros,zeroPad:()=>zeroPad});var o=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/_version.js");const l=new o.Logger(a.version);function isHexable(e){return!!e.toHexString}function addSlice(e){if(e.slice){return e}e.slice=function(){const t=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(e,t)))};return e}function isBytesLike(e){return isHexString(e)&&!(e.length%2)||isBytes(e)}function isInteger(e){return typeof e==="number"&&e==e&&e%1===0}function isBytes(e){if(e==null){return false}if(e.constructor===Uint8Array){return true}if(typeof e==="string"){return false}if(!isInteger(e.length)||e.length<0){return false}for(let t=0;t<e.length;t++){const i=e[t];if(!isInteger(i)||i<0||i>=256){return false}}return true}function arrayify(e,t){if(!t){t={}}if(typeof e==="number"){l.checkSafeUint53(e,"invalid arrayify value");const t=[];while(e){t.unshift(e&255);e=parseInt(String(e/256))}if(t.length===0){t.push(0)}return addSlice(new Uint8Array(t))}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable(e)){e=e.toHexString()}if(isHexString(e)){let i=e.substring(2);if(i.length%2){if(t.hexPad==="left"){i="0"+i}else if(t.hexPad==="right"){i+="0"}else{l.throwArgumentError("hex data is odd-length","value",e)}}const o=[];for(let e=0;e<i.length;e+=2){o.push(parseInt(i.substring(e,e+2),16))}return addSlice(new Uint8Array(o))}if(isBytes(e)){return addSlice(new Uint8Array(e))}return l.throwArgumentError("invalid arrayify value","value",e)}function concat(e){const t=e.map(e=>arrayify(e));const i=t.reduce((e,t)=>e+t.length,0);const o=new Uint8Array(i);t.reduce((e,t)=>{o.set(t,e);return e+t.length},0);return addSlice(o)}function stripZeros(e){let t=arrayify(e);if(t.length===0){return t}let i=0;while(i<t.length&&t[i]===0){i++}if(i){t=t.slice(i)}return t}function zeroPad(e,t){e=arrayify(e);if(e.length>t){l.throwArgumentError("value out of range","value",arguments[0])}const i=new Uint8Array(t);i.set(e,t-e.length);return addSlice(i)}function isHexString(e,t){if(typeof e!=="string"||!e.match(/^0x[0-9A-Fa-f]*$/)){return false}if(t&&e.length!==2+2*t){return false}return true}const u="0123456789abcdef";function hexlify(e,t){if(!t){t={}}if(typeof e==="number"){l.checkSafeUint53(e,"invalid hexlify value");let t="";while(e){t=u[e&15]+t;e=Math.floor(e/16)}if(t.length){if(t.length%2){t="0"+t}return"0x"+t}return"0x00"}if(typeof e==="bigint"){e=e.toString(16);if(e.length%2){return"0x0"+e}return"0x"+e}if(t.allowMissingPrefix&&typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}if(isHexable(e)){return e.toHexString()}if(isHexString(e)){if(e.length%2){if(t.hexPad==="left"){e="0x0"+e.substring(2)}else if(t.hexPad==="right"){e+="0"}else{l.throwArgumentError("hex data is odd-length","value",e)}}return e.toLowerCase()}if(isBytes(e)){let t="0x";for(let i=0;i<e.length;i++){let o=e[i];t+=u[(o&240)>>4]+u[o&15]}return t}return l.throwArgumentError("invalid hexlify value","value",e)}function hexDataLength(e){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)||e.length%2){return null}return(e.length-2)/2}function hexDataSlice(e,t,i){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)||e.length%2){l.throwArgumentError("invalid hexData","value",e)}t=2+2*t;if(i!=null){return"0x"+e.substring(t,2+2*i)}return"0x"+e.substring(t)}function hexConcat(e){let t="0x";e.forEach(e=>{t+=hexlify(e).substring(2)});return t}function hexValue(e){const t=hexStripZeros(hexlify(e,{hexPad:"left"}));if(t==="0x"){return"0x0"}return t}function hexStripZeros(e){if(typeof e!=="string"){e=hexlify(e)}if(!isHexString(e)){l.throwArgumentError("invalid hex string","value",e)}e=e.substring(2);let t=0;while(t<e.length&&e[t]==="0"){t++}return"0x"+e.substring(t)}function hexZeroPad(e,t){if(typeof e!=="string"){e=hexlify(e)}else if(!isHexString(e)){l.throwArgumentError("invalid hex string","value",e)}if(e.length>2*t+2){l.throwArgumentError("value out of range","value",arguments[1])}while(e.length<2*t+2){e="0x0"+e.substring(2)}return e}function splitSignature(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(isBytesLike(e)){let i=arrayify(e);if(i.length===64){t.v=27+(i[32]>>7);i[32]&=127;t.r=hexlify(i.slice(0,32));t.s=hexlify(i.slice(32,64))}else if(i.length===65){t.r=hexlify(i.slice(0,32));t.s=hexlify(i.slice(32,64));t.v=i[64]}else{l.throwArgumentError("invalid signature string","signature",e)}if(t.v<27){if(t.v===0||t.v===1){t.v+=27}else{l.throwArgumentError("signature invalid v byte","signature",e)}}t.recoveryParam=1-t.v%2;if(t.recoveryParam){i[32]|=128}t._vs=hexlify(i.slice(32,64))}else{t.r=e.r;t.s=e.s;t.v=e.v;t.recoveryParam=e.recoveryParam;t._vs=e._vs;if(t._vs!=null){const i=zeroPad(arrayify(t._vs),32);t._vs=hexlify(i);const o=i[0]>=128?1:0;if(t.recoveryParam==null){t.recoveryParam=o}else if(t.recoveryParam!==o){l.throwArgumentError("signature recoveryParam mismatch _vs","signature",e)}i[0]&=127;const a=hexlify(i);if(t.s==null){t.s=a}else if(t.s!==a){l.throwArgumentError("signature v mismatch _vs","signature",e)}}if(t.recoveryParam==null){if(t.v==null){l.throwArgumentError("signature missing v and recoveryParam","signature",e)}else if(t.v===0||t.v===1){t.recoveryParam=t.v}else{t.recoveryParam=1-t.v%2}}else{if(t.v==null){t.v=27+t.recoveryParam}else{const i=t.v===0||t.v===1?t.v:1-t.v%2;if(t.recoveryParam!==i){l.throwArgumentError("signature recoveryParam mismatch v","signature",e)}}}if(t.r==null||!isHexString(t.r)){l.throwArgumentError("signature missing or invalid r","signature",e)}else{t.r=hexZeroPad(t.r,32)}if(t.s==null||!isHexString(t.s)){l.throwArgumentError("signature missing or invalid s","signature",e)}else{t.s=hexZeroPad(t.s,32)}const i=arrayify(t.s);if(i[0]>=128){l.throwArgumentError("signature s out of range","signature",e)}if(t.recoveryParam){i[0]|=128}const o=hexlify(i);if(t._vs){if(!isHexString(t._vs)){l.throwArgumentError("signature invalid _vs","signature",e)}t._vs=hexZeroPad(t._vs,32)}if(t._vs==null){t._vs=o}else if(t._vs!==o){l.throwArgumentError("signature _vs mismatch v and s","signature",e)}}t.yParityAndS=t._vs;t.compact=t.r+t.yParityAndS.substring(2);return t}function joinSignature(e){e=splitSignature(e);return hexlify(concat([e.r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},"../../node_modules/.pnpm/@ethersproject+constants@5.7.0/node_modules/@ethersproject/constants/lib.esm/bignumbers.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{MaxInt256:()=>v,MaxUint256:()=>m,MinInt256:()=>g,NegativeOne:()=>a,One:()=>u,Two:()=>d,WeiPerEther:()=>p,Zero:()=>l});var o=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");const a=o.BigNumber.from(-1);const l=o.BigNumber.from(0);const u=o.BigNumber.from(1);const d=o.BigNumber.from(2);const p=o.BigNumber.from("1000000000000000000");const m=o.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const g=o.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");const v=o.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},"../../node_modules/.pnpm/@ethersproject+constants@5.8.0/node_modules/@ethersproject/constants/lib.esm/bignumbers.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{MaxInt256:()=>v,MaxUint256:()=>m,MinInt256:()=>g,NegativeOne:()=>a,One:()=>u,Two:()=>d,WeiPerEther:()=>p,Zero:()=>l});var o=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");const a=o.BigNumber.from(-1);const l=o.BigNumber.from(0);const u=o.BigNumber.from(1);const d=o.BigNumber.from(2);const p=o.BigNumber.from("1000000000000000000");const m=o.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const g=o.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");const v=o.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},"../../node_modules/.pnpm/@ethersproject+contracts@5.7.0/node_modules/@ethersproject/contracts/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="contracts/5.7.0"},"../../node_modules/.pnpm/@ethersproject+contracts@5.7.0/node_modules/@ethersproject/contracts/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BaseContract:()=>BaseContract,Contract:()=>Contract,ContractFactory:()=>ContractFactory});var o=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/coders/abstract-coder.js");var a=i("../../node_modules/.pnpm/@ethersproject+abi@5.7.0/node_modules/@ethersproject/abi/lib.esm/interface.js");var l=i("../../node_modules/.pnpm/@ethersproject+abstract-provider@5.8.0/node_modules/@ethersproject/abstract-provider/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+abstract-signer@5.8.0/node_modules/@ethersproject/abstract-signer/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var m=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var v=i("../../node_modules/.pnpm/@ethersproject+transactions@5.7.0/node_modules/@ethersproject/transactions/lib.esm/index.js");var y=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var _=i("../../node_modules/.pnpm/@ethersproject+contracts@5.7.0/node_modules/@ethersproject/contracts/lib.esm/_version.js");var w=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const A=new y.Logger(_.version);const k={chainId:true,data:true,from:true,gasLimit:true,gasPrice:true,nonce:true,to:true,value:true,type:true,accessList:true,maxFeePerGas:true,maxPriorityFeePerGas:true,customData:true,ccipReadEnabled:true};function resolveName(e,t){return w(this,void 0,void 0,function*(){const i=yield t;if(typeof i!=="string"){A.throwArgumentError("invalid address or ENS name","name",i)}try{return(0,d.getAddress)(i)}catch(e){}if(!e){A.throwError("a provider or signer is needed to resolve ENS names",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"})}const o=yield e.resolveName(i);if(o==null){A.throwArgumentError("resolver or addr is not configured for ENS name","name",i)}return o})}function resolveAddresses(e,t,i){return w(this,void 0,void 0,function*(){if(Array.isArray(i)){return yield Promise.all(i.map((i,o)=>resolveAddresses(e,Array.isArray(t)?t[o]:t[i.name],i)))}if(i.type==="address"){return yield resolveName(e,t)}if(i.type==="tuple"){return yield resolveAddresses(e,t,i.components)}if(i.baseType==="array"){if(!Array.isArray(t)){return Promise.reject(A.makeError("invalid value for array",y.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t}))}return yield Promise.all(t.map(t=>resolveAddresses(e,t,i.arrayChildren)))}return t})}function populateTransaction(e,t,i){return w(this,void 0,void 0,function*(){let o={};if(i.length===t.inputs.length+1&&typeof i[i.length-1]==="object"){o=(0,g.shallowCopy)(i.pop())}A.checkArgumentCount(i.length,t.inputs.length,"passed to contract");if(e.signer){if(o.from){o.from=(0,g.resolveProperties)({override:resolveName(e.signer,o.from),signer:e.signer.getAddress()}).then(e=>w(this,void 0,void 0,function*(){if((0,d.getAddress)(e.signer)!==e.override){A.throwError("Contract with a Signer cannot override from",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"})}return e.override}))}else{o.from=e.signer.getAddress()}}else if(o.from){o.from=resolveName(e.provider,o.from)}const a=yield(0,g.resolveProperties)({args:resolveAddresses(e.signer||e.provider,i,t.inputs),address:e.resolvedAddress,overrides:(0,g.resolveProperties)(o)||{}});const l=e.interface.encodeFunctionData(t,a.args);const u={data:l,to:a.address};const _=a.overrides;if(_.nonce!=null){u.nonce=p.BigNumber.from(_.nonce).toNumber()}if(_.gasLimit!=null){u.gasLimit=p.BigNumber.from(_.gasLimit)}if(_.gasPrice!=null){u.gasPrice=p.BigNumber.from(_.gasPrice)}if(_.maxFeePerGas!=null){u.maxFeePerGas=p.BigNumber.from(_.maxFeePerGas)}if(_.maxPriorityFeePerGas!=null){u.maxPriorityFeePerGas=p.BigNumber.from(_.maxPriorityFeePerGas)}if(_.from!=null){u.from=_.from}if(_.type!=null){u.type=_.type}if(_.accessList!=null){u.accessList=(0,v.accessListify)(_.accessList)}if(u.gasLimit==null&&t.gas!=null){let e=21e3;const i=(0,m.arrayify)(l);for(let t=0;t<i.length;t++){e+=4;if(i[t]){e+=64}}u.gasLimit=p.BigNumber.from(t.gas).add(e)}if(_.value){const e=p.BigNumber.from(_.value);if(!e.isZero()&&!t.payable){A.throwError("non-payable method cannot override value",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:o.value})}u.value=e}if(_.customData){u.customData=(0,g.shallowCopy)(_.customData)}if(_.ccipReadEnabled){u.ccipReadEnabled=!!_.ccipReadEnabled}delete o.nonce;delete o.gasLimit;delete o.gasPrice;delete o.from;delete o.value;delete o.type;delete o.accessList;delete o.maxFeePerGas;delete o.maxPriorityFeePerGas;delete o.customData;delete o.ccipReadEnabled;const k=Object.keys(o).filter(e=>o[e]!=null);if(k.length){A.throwError(`cannot override ${k.map(e=>JSON.stringify(e)).join(",")}`,y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:k})}return u})}function buildPopulate(e,t){return function(...i){return populateTransaction(e,t,i)}}function buildEstimate(e,t){const i=e.signer||e.provider;return function(...o){return w(this,void 0,void 0,function*(){if(!i){A.throwError("estimate require a provider or signer",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"})}const a=yield populateTransaction(e,t,o);return yield i.estimateGas(a)})}}function addContractWait(e,t){const i=t.wait.bind(t);t.wait=t=>i(t).then(t=>{t.events=t.logs.map(i=>{let o=(0,g.deepCopy)(i);let a=null;try{a=e.interface.parseLog(i)}catch(e){}if(a){o.args=a.args;o.decode=(t,i)=>e.interface.decodeEventLog(a.eventFragment,t,i);o.event=a.name;o.eventSignature=a.signature}o.removeListener=()=>e.provider;o.getBlock=()=>e.provider.getBlock(t.blockHash);o.getTransaction=()=>e.provider.getTransaction(t.transactionHash);o.getTransactionReceipt=()=>Promise.resolve(t);return o});return t})}function buildCall(e,t,i){const o=e.signer||e.provider;return function(...a){return w(this,void 0,void 0,function*(){let l=undefined;if(a.length===t.inputs.length+1&&typeof a[a.length-1]==="object"){const e=(0,g.shallowCopy)(a.pop());if(e.blockTag!=null){l=yield e.blockTag}delete e.blockTag;a.push(e)}if(e.deployTransaction!=null){yield e._deployed(l)}const u=yield populateTransaction(e,t,a);const d=yield o.call(u,l);try{let o=e.interface.decodeFunctionResult(t,d);if(i&&t.outputs.length===1){o=o[0]}return o}catch(t){if(t.code===y.Logger.errors.CALL_EXCEPTION){t.address=e.address;t.args=a;t.transaction=u}throw t}})}}function buildSend(e,t){return function(...i){return w(this,void 0,void 0,function*(){if(!e.signer){A.throwError("sending a transaction requires a signer",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"})}if(e.deployTransaction!=null){yield e._deployed()}const o=yield populateTransaction(e,t,i);const a=yield e.signer.sendTransaction(o);addContractWait(e,a);return a})}}function buildDefault(e,t,i){if(t.constant){return buildCall(e,t,i)}return buildSend(e,t)}function getEventTag(e){if(e.address&&(e.topics==null||e.topics.length===0)){return"*"}return(e.address||"*")+"@"+(e.topics?e.topics.map(e=>{if(Array.isArray(e)){return e.join("|")}return e}).join(":"):"")}class RunningEvent{constructor(e,t){(0,g.defineReadOnly)(this,"tag",e);(0,g.defineReadOnly)(this,"filter",t);this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=false;this._listeners=this._listeners.filter(i=>{if(t||i.listener!==e){return true}t=true;return false})}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();this._listeners=this._listeners.filter(t=>{const i=e.slice();setTimeout(()=>{t.listener.apply(this,i)},0);return!t.once});return t}prepareEvent(e){}getEmit(e){return[e]}}class ErrorRunningEvent extends RunningEvent{constructor(){super("error",null)}}class FragmentRunningEvent extends RunningEvent{constructor(e,t,i,o){const a={address:e};let l=t.getEventTopic(i);if(o){if(l!==o[0]){A.throwArgumentError("topic mismatch","topics",o)}a.topics=o.slice()}else{a.topics=[l]}super(getEventTag(a),a);(0,g.defineReadOnly)(this,"address",e);(0,g.defineReadOnly)(this,"interface",t);(0,g.defineReadOnly)(this,"fragment",i)}prepareEvent(e){super.prepareEvent(e);e.event=this.fragment.name;e.eventSignature=this.fragment.format();e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null;e.decodeError=t}}getEmit(e){const t=(0,o.checkResultErrors)(e.args);if(t.length){throw t[0].error}const i=(e.args||[]).slice();i.push(e);return i}}class WildcardRunningEvent extends RunningEvent{constructor(e,t){super("*",{address:e});(0,g.defineReadOnly)(this,"address",e);(0,g.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name;e.eventSignature=t.signature;e.decode=(e,i)=>this.interface.decodeEventLog(t.eventFragment,e,i);e.args=t.args}catch(e){}}}class BaseContract{constructor(e,t,i){(0,g.defineReadOnly)(this,"interface",(0,g.getStatic)(new.target,"getInterface")(t));if(i==null){(0,g.defineReadOnly)(this,"provider",null);(0,g.defineReadOnly)(this,"signer",null)}else if(u.Signer.isSigner(i)){(0,g.defineReadOnly)(this,"provider",i.provider||null);(0,g.defineReadOnly)(this,"signer",i)}else if(l.Provider.isProvider(i)){(0,g.defineReadOnly)(this,"provider",i);(0,g.defineReadOnly)(this,"signer",null)}else{A.throwArgumentError("invalid signer or provider","signerOrProvider",i)}(0,g.defineReadOnly)(this,"callStatic",{});(0,g.defineReadOnly)(this,"estimateGas",{});(0,g.defineReadOnly)(this,"functions",{});(0,g.defineReadOnly)(this,"populateTransaction",{});(0,g.defineReadOnly)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach(t=>{const i=this.interface.events[t];(0,g.defineReadOnly)(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(i,e)}));if(!e[i.name]){e[i.name]=[]}e[i.name].push(t)});Object.keys(e).forEach(t=>{const i=e[t];if(i.length===1){(0,g.defineReadOnly)(this.filters,t,this.filters[i[0]])}else{A.warn(`Duplicate definition of ${t} (${i.join(", ")})`)}})}(0,g.defineReadOnly)(this,"_runningEvents",{});(0,g.defineReadOnly)(this,"_wrappedEmits",{});if(e==null){A.throwArgumentError("invalid contract address or ENS name","addressOrName",e)}(0,g.defineReadOnly)(this,"address",e);if(this.provider){(0,g.defineReadOnly)(this,"resolvedAddress",resolveName(this.provider,e))}else{try{(0,g.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,d.getAddress)(e)))}catch(e){A.throwError("provider is required to use ENS name as contract address",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}}this.resolvedAddress.catch(e=>{});const o={};const a={};Object.keys(this.interface.functions).forEach(e=>{const t=this.interface.functions[e];if(a[e]){A.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);return}a[e]=true;{const i=t.name;if(!o[`%${i}`]){o[`%${i}`]=[]}o[`%${i}`].push(e)}if(this[e]==null){(0,g.defineReadOnly)(this,e,buildDefault(this,t,true))}if(this.functions[e]==null){(0,g.defineReadOnly)(this.functions,e,buildDefault(this,t,false))}if(this.callStatic[e]==null){(0,g.defineReadOnly)(this.callStatic,e,buildCall(this,t,true))}if(this.populateTransaction[e]==null){(0,g.defineReadOnly)(this.populateTransaction,e,buildPopulate(this,t))}if(this.estimateGas[e]==null){(0,g.defineReadOnly)(this.estimateGas,e,buildEstimate(this,t))}});Object.keys(o).forEach(e=>{const t=o[e];if(t.length>1){return}e=e.substring(1);const i=t[0];try{if(this[e]==null){(0,g.defineReadOnly)(this,e,this[i])}}catch(e){}if(this.functions[e]==null){(0,g.defineReadOnly)(this.functions,e,this.functions[i])}if(this.callStatic[e]==null){(0,g.defineReadOnly)(this.callStatic,e,this.callStatic[i])}if(this.populateTransaction[e]==null){(0,g.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[i])}if(this.estimateGas[e]==null){(0,g.defineReadOnly)(this.estimateGas,e,this.estimateGas[i])}})}static getContractAddress(e){return(0,d.getContractAddress)(e)}static getInterface(e){if(a.Interface.isInterface(e)){return e}return new a.Interface(e)}deployed(){return this._deployed()}_deployed(e){if(!this._deployedPromise){if(this.deployTransaction){this._deployedPromise=this.deployTransaction.wait().then(()=>this)}else{this._deployedPromise=this.provider.getCode(this.address,e).then(e=>{if(e==="0x"){A.throwError("contract not deployed",y.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"})}return this})}}return this._deployedPromise}fallback(e){if(!this.signer){A.throwError("sending a transactions require a signer",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"})}const t=(0,g.shallowCopy)(e||{});["from","to"].forEach(function(e){if(t[e]==null){return}A.throwError("cannot override "+e,y.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})});t.to=this.resolvedAddress;return this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){if(typeof e==="string"){e=new u.VoidSigner(e,this.provider)}const t=new this.constructor(this.address,this.interface,e);if(this.deployTransaction){(0,g.defineReadOnly)(t,"deployTransaction",this.deployTransaction)}return t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return a.Indexed.isIndexed(e)}_normalizeRunningEvent(e){if(this._runningEvents[e.tag]){return this._runningEvents[e.tag]}return e}_getRunningEvent(e){if(typeof e==="string"){if(e==="error"){return this._normalizeRunningEvent(new ErrorRunningEvent)}if(e==="event"){return this._normalizeRunningEvent(new RunningEvent("event",null))}if(e==="*"){return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if(typeof t!=="string"){throw new Error("invalid topic")}const i=this.interface.getEvent(t);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,i,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(t),t))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];if(t&&e.filter){this.provider.off(e.filter,t);delete this._wrappedEmits[e.tag]}}}_wrapEvent(e,t,i){const o=(0,g.deepCopy)(t);o.removeListener=()=>{if(!i){return}e.removeListener(i);this._checkRunningEvents(e)};o.getBlock=()=>this.provider.getBlock(t.blockHash);o.getTransaction=()=>this.provider.getTransaction(t.transactionHash);o.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash);e.prepareEvent(o);return o}_addEventListener(e,t,i){if(!this.provider){A.throwError("events require a provider or a signer with a provider",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"})}e.addListener(t,i);this._runningEvents[e.tag]=e;if(!this._wrappedEmits[e.tag]){const wrappedEmit=i=>{let o=this._wrapEvent(e,i,t);if(o.decodeError==null){try{const t=e.getEmit(o);this.emit(e.filter,...t)}catch(e){o.decodeError=e.error}}if(e.filter!=null){this.emit("event",o)}if(o.decodeError!=null){this.emit("error",o.decodeError,o)}};this._wrappedEmits[e.tag]=wrappedEmit;if(e.filter!=null){this.provider.on(e.filter,wrappedEmit)}}}queryFilter(e,t,i){const o=this._getRunningEvent(e);const a=(0,g.shallowCopy)(o.filter);if(typeof t==="string"&&(0,m.isHexString)(t,32)){if(i!=null){A.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i)}a.blockHash=t}else{a.fromBlock=t!=null?t:0;a.toBlock=i!=null?i:"latest"}return this.provider.getLogs(a).then(e=>e.map(e=>this._wrapEvent(o,e,null)))}on(e,t){this._addEventListener(this._getRunningEvent(e),t,false);return this}once(e,t){this._addEventListener(this._getRunningEvent(e),t,true);return this}emit(e,...t){if(!this.provider){return false}const i=this._getRunningEvent(e);const o=i.run(t)>0;this._checkRunningEvents(i);return o}listenerCount(e){if(!this.provider){return 0}if(e==null){return Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0)}return this._getRunningEvent(e).listenerCount()}listeners(e){if(!this.provider){return[]}if(e==null){const e=[];for(let t in this._runningEvents){this._runningEvents[t].listeners().forEach(t=>{e.push(t)})}return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider){return this}if(e==null){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners();this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);t.removeAllListeners();this._checkRunningEvents(t);return this}off(e,t){if(!this.provider){return this}const i=this._getRunningEvent(e);i.removeListener(t);this._checkRunningEvents(i);return this}removeListener(e,t){return this.off(e,t)}}class Contract extends BaseContract{}class ContractFactory{constructor(e,t,i){let o=null;if(typeof t==="string"){o=t}else if((0,m.isBytes)(t)){o=(0,m.hexlify)(t)}else if(t&&typeof t.object==="string"){o=t.object}else{o="!"}if(o.substring(0,2)!=="0x"){o="0x"+o}if(!(0,m.isHexString)(o)||o.length%2){A.throwArgumentError("invalid bytecode","bytecode",t)}if(i&&!u.Signer.isSigner(i)){A.throwArgumentError("invalid signer","signer",i)}(0,g.defineReadOnly)(this,"bytecode",o);(0,g.defineReadOnly)(this,"interface",(0,g.getStatic)(new.target,"getInterface")(e));(0,g.defineReadOnly)(this,"signer",i||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]==="object"){t=(0,g.shallowCopy)(e.pop());for(const e in t){if(!k[e]){throw new Error("unknown transaction override "+e)}}}["data","from","to"].forEach(e=>{if(t[e]==null){return}A.throwError("cannot override "+e,y.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})});if(t.value){const e=p.BigNumber.from(t.value);if(!e.isZero()&&!this.interface.deploy.payable){A.throwError("non-payable constructor cannot override value",y.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}}A.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");t.data=(0,m.hexlify)((0,m.concat)([this.bytecode,this.interface.encodeDeploy(e)]));return t}deploy(...e){return w(this,void 0,void 0,function*(){let t={};if(e.length===this.interface.deploy.inputs.length+1){t=e.pop()}A.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const i=yield resolveAddresses(this.signer,e,this.interface.deploy.inputs);i.push(t);const o=this.getDeployTransaction(...i);const a=yield this.signer.sendTransaction(o);const l=(0,g.getStatic)(this.constructor,"getContractAddress")(a);const u=(0,g.getStatic)(this.constructor,"getContract")(l,this.interface,this.signer);addContractWait(u,a);(0,g.defineReadOnly)(u,"deployTransaction",a);return u})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){if(e==null){A.throwError("missing compiler output",y.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"})}if(typeof e==="string"){e=JSON.parse(e)}const i=e.abi;let o=null;if(e.bytecode){o=e.bytecode}else if(e.evm&&e.evm.bytecode){o=e.evm.bytecode}return new this(i,o,t)}static getInterface(e){return Contract.getInterface(e)}static getContractAddress(e){return(0,d.getContractAddress)(e)}static getContract(e,t,i){return new Contract(e,t,i)}}},"../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="hash/5.7.0"},"../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/id.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{id:()=>id});var o=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");function id(e){return(0,o.keccak256)((0,a.toUtf8Bytes)(e))}},"../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/message.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hashMessage:()=>hashMessage,messagePrefix:()=>u});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");const u="Ethereum Signed Message:\n";function hashMessage(e){if(typeof e==="string"){e=(0,l.toUtf8Bytes)(e)}return(0,a.keccak256)((0,o.concat)([(0,l.toUtf8Bytes)(u),(0,l.toUtf8Bytes)(String(e.length)),e]))}},"../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/typed-data.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TypedDataEncoder:()=>TypedDataEncoder});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/_version.js");var g=i("../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/id.js");var v=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const y=new p.Logger(m.version);const _=new Uint8Array(32);_.fill(0);const w=a.BigNumber.from(-1);const A=a.BigNumber.from(0);const k=a.BigNumber.from(1);const T=a.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(e){const t=(0,l.arrayify)(e);const i=t.length%32;if(i){return(0,l.hexConcat)([t,_.slice(i)])}return(0,l.hexlify)(t)}const x=(0,l.hexZeroPad)(k.toHexString(),32);const I=(0,l.hexZeroPad)(A.toHexString(),32);const N={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"};const P=["name","version","chainId","verifyingContract","salt"];function checkString(e){return function(t){if(typeof t!=="string"){y.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t)}return t}}const C={name:checkString("name"),version:checkString("version"),chainId:function(e){try{return a.BigNumber.from(e).toString()}catch(e){}return y.throwArgumentError(`invalid domain value for "chainId"`,"domain.chainId",e)},verifyingContract:function(e){try{return(0,o.getAddress)(e).toLowerCase()}catch(e){}return y.throwArgumentError(`invalid domain value "verifyingContract"`,"domain.verifyingContract",e)},salt:function(e){try{const t=(0,l.arrayify)(e);if(t.length!==32){throw new Error("bad length")}return(0,l.hexlify)(t)}catch(e){}return y.throwArgumentError(`invalid domain value "salt"`,"domain.salt",e)}};function getBaseEncoder(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const i=t[1]==="";const o=parseInt(t[2]||"256");if(o%8!==0||o>256||t[2]&&t[2]!==String(o)){y.throwArgumentError("invalid numeric width","type",e)}const u=T.mask(i?o-1:o);const d=i?u.add(k).mul(w):A;return function(t){const i=a.BigNumber.from(t);if(i.lt(d)||i.gt(u)){y.throwArgumentError(`value out-of-bounds for ${e}`,"value",t)}return(0,l.hexZeroPad)(i.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const i=parseInt(t[1]);if(i===0||i>32||t[1]!==String(i)){y.throwArgumentError("invalid bytes width","type",e)}return function(t){const o=(0,l.arrayify)(t);if(o.length!==i){y.throwArgumentError(`invalid length for ${e}`,"value",t)}return hexPadRight(t)}}}switch(e){case"address":return function(e){return(0,l.hexZeroPad)((0,o.getAddress)(e),32)};case"bool":return function(e){return!e?I:x};case"bytes":return function(e){return(0,u.keccak256)(e)};case"string":return function(e){return(0,g.id)(e)}}return null}function encodeType(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class TypedDataEncoder{constructor(e){(0,d.defineReadOnly)(this,"types",Object.freeze((0,d.deepCopy)(e)));(0,d.defineReadOnly)(this,"_encoderCache",{});(0,d.defineReadOnly)(this,"_types",{});const t={};const i={};const o={};Object.keys(e).forEach(e=>{t[e]={};i[e]=[];o[e]={}});for(const o in e){const a={};e[o].forEach(l=>{if(a[l.name]){y.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(o)}`,"types",e)}a[l.name]=true;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];if(u===o){y.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e)}const d=getBaseEncoder(u);if(d){return}if(!i[u]){y.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e)}i[u].push(o);t[o][u]=true})}const a=Object.keys(i).filter(e=>i[e].length===0);if(a.length===0){y.throwArgumentError("missing primary type","types",e)}else if(a.length>1){y.throwArgumentError(`ambiguous primary types or unused types: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"types",e)}(0,d.defineReadOnly)(this,"primaryType",a[0]);function checkCircular(a,l){if(l[a]){y.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e)}l[a]=true;Object.keys(t[a]).forEach(e=>{if(!i[e]){return}checkCircular(e,l);Object.keys(l).forEach(t=>{o[t][e]=true})});delete l[a]}checkCircular(this.primaryType,{});for(const t in o){const i=Object.keys(o[t]);i.sort();this._types[t]=encodeType(t,e[t])+i.map(t=>encodeType(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];if(!t){t=this._encoderCache[e]=this._getEncoder(e)}return t}_getEncoder(e){{const t=getBaseEncoder(e);if(t){return t}}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1];const i=this.getEncoder(e);const o=parseInt(t[3]);return t=>{if(o>=0&&t.length!==o){y.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t)}let a=t.map(i);if(this._types[e]){a=a.map(u.keccak256)}return(0,u.keccak256)((0,l.hexConcat)(a))}}const i=this.types[e];if(i){const t=(0,g.id)(this._types[e]);return e=>{const o=i.map(({name:t,type:i})=>{const o=this.getEncoder(i)(e[t]);if(this._types[i]){return(0,u.keccak256)(o)}return o});o.unshift(t);return(0,l.hexConcat)(o)}}return y.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];if(!t){y.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e)}return t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,u.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){{const o=getBaseEncoder(e);if(o){return i(e,t)}}const o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){const e=o[1];const a=parseInt(o[3]);if(a>=0&&t.length!==a){y.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t)}return t.map(t=>this._visit(e,t,i))}const a=this.types[e];if(a){return a.reduce((e,{name:o,type:a})=>{e[o]=this._visit(a,t[o],i);return e},{})}return y.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new TypedDataEncoder(e)}static getPrimaryType(e){return TypedDataEncoder.from(e).primaryType}static hashStruct(e,t,i){return TypedDataEncoder.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){const o=N[i];if(!o){y.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e)}t.push({name:i,type:o})}t.sort((e,t)=>P.indexOf(e.name)-P.indexOf(t.name));return TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return(0,l.hexConcat)(["0x1901",TypedDataEncoder.hashDomain(e),TypedDataEncoder.from(t).hash(i)])}static hash(e,t,i){return(0,u.keccak256)(TypedDataEncoder.encode(e,t,i))}static resolveNames(e,t,i,o){return v(this,void 0,void 0,function*(){e=(0,d.shallowCopy)(e);const a={};if(e.verifyingContract&&!(0,l.isHexString)(e.verifyingContract,20)){a[e.verifyingContract]="0x"}const u=TypedDataEncoder.from(t);u.visit(i,(e,t)=>{if(e==="address"&&!(0,l.isHexString)(t,20)){a[t]="0x"}return t});for(const e in a){a[e]=yield o(e)}if(e.verifyingContract&&a[e.verifyingContract]){e.verifyingContract=a[e.verifyingContract]}i=u.visit(i,(e,t)=>{if(e==="address"&&a[t]){return a[t]}return t});return{domain:e,value:i}})}static getPayload(e,t,i){TypedDataEncoder.hashDomain(e);const o={};const u=[];P.forEach(t=>{const i=e[t];if(i==null){return}o[t]=C[t](i);u.push({name:t,type:N[t]})});const p=TypedDataEncoder.from(t);const m=(0,d.shallowCopy)(t);if(m.EIP712Domain){y.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t)}else{m.EIP712Domain=u}p.encode(i);return{types:m,domain:o,primaryType:p.primaryType,message:p.visit(i,(e,t)=>{if(e.match(/^bytes(\d*)/)){return(0,l.hexlify)((0,l.arrayify)(t))}if(e.match(/^u?int/)){return a.BigNumber.from(t).toString()}switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":if(typeof t!=="string"){y.throwArgumentError(`invalid string`,"value",t)}return t}return y.throwArgumentError("unsupported type","type",e)})}}}},"../../node_modules/.pnpm/@ethersproject+hash@5.8.0/node_modules/@ethersproject/hash/lib.esm/id.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{id:()=>id});var o=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");function id(e){return(0,o.keccak256)((0,a.toUtf8Bytes)(e))}},"../../node_modules/.pnpm/@ethersproject+hdnode@5.7.0/node_modules/@ethersproject/hdnode/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="hdnode/5.7.0"},"../../node_modules/.pnpm/@ethersproject+hdnode@5.7.0/node_modules/@ethersproject/hdnode/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{HDNode:()=>HDNode,defaultPath:()=>P,entropyToMnemonic:()=>entropyToMnemonic,getAccountPath:()=>getAccountPath,isValidMnemonic:()=>isValidMnemonic,mnemonicToEntropy:()=>mnemonicToEntropy,mnemonicToSeed:()=>mnemonicToSeed});var o=i("../../node_modules/.pnpm/@ethersproject+basex@5.8.0/node_modules/@ethersproject/basex/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var u=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");var d=i("../../node_modules/.pnpm/@ethersproject+pbkdf2@5.8.0/node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js");var p=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/sha2.js");var v=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/types.js");var y=i("../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/index.js");var _=i("../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/wordlists.js");var w=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var A=i("../../node_modules/.pnpm/@ethersproject+hdnode@5.7.0/node_modules/@ethersproject/hdnode/lib.esm/_version.js");const k=new w.Logger(A.version);const T=l.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");const x=(0,u.toUtf8Bytes)("Bitcoin seed");const I=2147483648;function getUpperMask(e){return(1<<e)-1<<8-e}function getLowerMask(e){return(1<<e)-1}function bytes32(e){return(0,a.hexZeroPad)((0,a.hexlify)(e),32)}function base58check(e){return o.Base58.encode((0,a.concat)([e,(0,a.hexDataSlice)((0,g.sha256)((0,g.sha256)(e)),0,4)]))}function getWordlist(e){if(e==null){return _.wordlists["en"]}if(typeof e==="string"){const t=_.wordlists[e];if(t==null){k.throwArgumentError("unknown locale","wordlist",e)}return t}return e}const N={};const P="m/44'/60'/0'/0/0";class HDNode{constructor(e,t,i,o,l,u,d,v){if(e!==N){throw new Error("HDNode constructor cannot be called directly")}if(t){const e=new m.SigningKey(t);(0,p.defineReadOnly)(this,"privateKey",e.privateKey);(0,p.defineReadOnly)(this,"publicKey",e.compressedPublicKey)}else{(0,p.defineReadOnly)(this,"privateKey",null);(0,p.defineReadOnly)(this,"publicKey",(0,a.hexlify)(i))}(0,p.defineReadOnly)(this,"parentFingerprint",o);(0,p.defineReadOnly)(this,"fingerprint",(0,a.hexDataSlice)((0,g.ripemd160)((0,g.sha256)(this.publicKey)),0,4));(0,p.defineReadOnly)(this,"address",(0,y.computeAddress)(this.publicKey));(0,p.defineReadOnly)(this,"chainCode",l);(0,p.defineReadOnly)(this,"index",u);(0,p.defineReadOnly)(this,"depth",d);if(v==null){(0,p.defineReadOnly)(this,"mnemonic",null);(0,p.defineReadOnly)(this,"path",null)}else if(typeof v==="string"){(0,p.defineReadOnly)(this,"mnemonic",null);(0,p.defineReadOnly)(this,"path",v)}else{(0,p.defineReadOnly)(this,"mnemonic",v);(0,p.defineReadOnly)(this,"path",v.path)}}get extendedKey(){if(this.depth>=256){throw new Error("Depth too large!")}return base58check((0,a.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,a.hexlify)(this.depth),this.parentFingerprint,(0,a.hexZeroPad)((0,a.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,a.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(N,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295){throw new Error("invalid index - "+String(e))}let t=this.path;if(t){t+="/"+(e&~I)}const i=new Uint8Array(37);if(e&I){if(!this.privateKey){throw new Error("cannot derive child of neutered node")}i.set((0,a.arrayify)(this.privateKey),1);if(t){t+="'"}}else{i.set((0,a.arrayify)(this.publicKey))}for(let t=24;t>=0;t-=8){i[33+(t>>3)]=e>>24-t&255}const o=(0,a.arrayify)((0,g.computeHmac)(v.SupportedAlgorithm.sha512,this.chainCode,i));const u=o.slice(0,32);const d=o.slice(32);let p=null;let y=null;if(this.privateKey){p=bytes32(l.BigNumber.from(u).add(this.privateKey).mod(T))}else{const e=new m.SigningKey((0,a.hexlify)(u));y=e._addPoint(this.publicKey)}let _=t;const w=this.mnemonic;if(w){_=Object.freeze({phrase:w.phrase,path:t,locale:w.locale||"en"})}return new HDNode(N,p,y,this.fingerprint,bytes32(d),e,this.depth+1,_)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0){throw new Error("invalid path - "+e)}if(t[0]==="m"){t.shift()}let i=this;for(let e=0;e<t.length;e++){const o=t[e];if(o.match(/^[0-9]+'$/)){const e=parseInt(o.substring(0,o.length-1));if(e>=I){throw new Error("invalid path index - "+o)}i=i._derive(I+e)}else if(o.match(/^[0-9]+$/)){const e=parseInt(o);if(e>=I){throw new Error("invalid path index - "+o)}i=i._derive(e)}else{throw new Error("invalid path component - "+o)}}return i}static _fromSeed(e,t){const i=(0,a.arrayify)(e);if(i.length<16||i.length>64){throw new Error("invalid seed")}const o=(0,a.arrayify)((0,g.computeHmac)(v.SupportedAlgorithm.sha512,x,i));return new HDNode(N,bytes32(o.slice(0,32)),null,"0x00000000",bytes32(o.slice(32)),0,0,t)}static fromMnemonic(e,t,i){i=getWordlist(i);e=entropyToMnemonic(mnemonicToEntropy(e,i),i);return HDNode._fromSeed(mnemonicToSeed(e,t),{phrase:e,path:"m",locale:i.locale})}static fromSeed(e){return HDNode._fromSeed(e,null)}static fromExtendedKey(e){const t=o.Base58.decode(e);if(t.length!==82||base58check(t.slice(0,78))!==e){k.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}const i=t[4];const l=(0,a.hexlify)(t.slice(5,9));const u=parseInt((0,a.hexlify)(t.slice(9,13)).substring(2),16);const d=(0,a.hexlify)(t.slice(13,45));const p=t.slice(45,78);switch((0,a.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(N,null,(0,a.hexlify)(p),l,d,u,i,null);case"0x0488ade4":case"0x04358394 ":if(p[0]!==0){break}return new HDNode(N,(0,a.hexlify)(p.slice(1)),null,l,d,u,i,null)}return k.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(e,t){if(!t){t=""}const i=(0,u.toUtf8Bytes)("mnemonic"+t,u.UnicodeNormalizationForm.NFKD);return(0,d.pbkdf2)((0,u.toUtf8Bytes)(e,u.UnicodeNormalizationForm.NFKD),i,2048,64,"sha512")}function mnemonicToEntropy(e,t){t=getWordlist(t);k.checkNormalize();const i=t.split(e);if(i.length%3!==0){throw new Error("invalid mnemonic")}const o=(0,a.arrayify)(new Uint8Array(Math.ceil(11*i.length/8)));let l=0;for(let e=0;e<i.length;e++){let a=t.getWordIndex(i[e].normalize("NFKD"));if(a===-1){throw new Error("invalid mnemonic")}for(let e=0;e<11;e++){if(a&1<<10-e){o[l>>3]|=1<<7-l%8}l++}}const u=32*i.length/3;const d=i.length/3;const p=getUpperMask(d);const m=(0,a.arrayify)((0,g.sha256)(o.slice(0,u/8)))[0]&p;if(m!==(o[o.length-1]&p)){throw new Error("invalid checksum")}return(0,a.hexlify)(o.slice(0,u/8))}function entropyToMnemonic(e,t){t=getWordlist(t);e=(0,a.arrayify)(e);if(e.length%4!==0||e.length<16||e.length>32){throw new Error("invalid entropy")}const i=[0];let o=11;for(let t=0;t<e.length;t++){if(o>8){i[i.length-1]<<=8;i[i.length-1]|=e[t];o-=8}else{i[i.length-1]<<=o;i[i.length-1]|=e[t]>>8-o;i.push(e[t]&getLowerMask(8-o));o+=3}}const l=e.length/4;const u=(0,a.arrayify)((0,g.sha256)(e))[0]&getUpperMask(l);i[i.length-1]<<=l;i[i.length-1]|=u>>8-l;return t.join(i.map(e=>t.getWord(e)))}function isValidMnemonic(e,t){try{mnemonicToEntropy(e,t);return true}catch(e){}return false}function getAccountPath(e){if(typeof e!=="number"||e<0||e>=I||e%1){k.throwArgumentError("invalid account index","index",e)}return`m/44'/60'/${e}'/0/0`}},"../../node_modules/.pnpm/@ethersproject+hdnode@5.8.0/node_modules/@ethersproject/hdnode/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="hdnode/5.8.0"},"../../node_modules/.pnpm/@ethersproject+hdnode@5.8.0/node_modules/@ethersproject/hdnode/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{HDNode:()=>HDNode,defaultPath:()=>P,entropyToMnemonic:()=>entropyToMnemonic,getAccountPath:()=>getAccountPath,isValidMnemonic:()=>isValidMnemonic,mnemonicToEntropy:()=>mnemonicToEntropy,mnemonicToSeed:()=>mnemonicToSeed});var o=i("../../node_modules/.pnpm/@ethersproject+basex@5.8.0/node_modules/@ethersproject/basex/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var u=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");var d=i("../../node_modules/.pnpm/@ethersproject+pbkdf2@5.8.0/node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js");var p=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/sha2.js");var v=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/types.js");var y=i("../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/index.js");var _=i("../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/wordlists.js");var w=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var A=i("../../node_modules/.pnpm/@ethersproject+hdnode@5.8.0/node_modules/@ethersproject/hdnode/lib.esm/_version.js");const k=new w.Logger(A.version);const T=l.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");const x=(0,u.toUtf8Bytes)("Bitcoin seed");const I=2147483648;function getUpperMask(e){return(1<<e)-1<<8-e}function getLowerMask(e){return(1<<e)-1}function bytes32(e){return(0,a.hexZeroPad)((0,a.hexlify)(e),32)}function base58check(e){return o.Base58.encode((0,a.concat)([e,(0,a.hexDataSlice)((0,g.sha256)((0,g.sha256)(e)),0,4)]))}function getWordlist(e){if(e==null){return _.wordlists["en"]}if(typeof e==="string"){const t=_.wordlists[e];if(t==null){k.throwArgumentError("unknown locale","wordlist",e)}return t}return e}const N={};const P="m/44'/60'/0'/0/0";class HDNode{constructor(e,t,i,o,l,u,d,v){if(e!==N){throw new Error("HDNode constructor cannot be called directly")}if(t){const e=new m.SigningKey(t);(0,p.defineReadOnly)(this,"privateKey",e.privateKey);(0,p.defineReadOnly)(this,"publicKey",e.compressedPublicKey)}else{(0,p.defineReadOnly)(this,"privateKey",null);(0,p.defineReadOnly)(this,"publicKey",(0,a.hexlify)(i))}(0,p.defineReadOnly)(this,"parentFingerprint",o);(0,p.defineReadOnly)(this,"fingerprint",(0,a.hexDataSlice)((0,g.ripemd160)((0,g.sha256)(this.publicKey)),0,4));(0,p.defineReadOnly)(this,"address",(0,y.computeAddress)(this.publicKey));(0,p.defineReadOnly)(this,"chainCode",l);(0,p.defineReadOnly)(this,"index",u);(0,p.defineReadOnly)(this,"depth",d);if(v==null){(0,p.defineReadOnly)(this,"mnemonic",null);(0,p.defineReadOnly)(this,"path",null)}else if(typeof v==="string"){(0,p.defineReadOnly)(this,"mnemonic",null);(0,p.defineReadOnly)(this,"path",v)}else{(0,p.defineReadOnly)(this,"mnemonic",v);(0,p.defineReadOnly)(this,"path",v.path)}}get extendedKey(){if(this.depth>=256){throw new Error("Depth too large!")}return base58check((0,a.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,a.hexlify)(this.depth),this.parentFingerprint,(0,a.hexZeroPad)((0,a.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,a.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new HDNode(N,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295){throw new Error("invalid index - "+String(e))}let t=this.path;if(t){t+="/"+(e&~I)}const i=new Uint8Array(37);if(e&I){if(!this.privateKey){throw new Error("cannot derive child of neutered node")}i.set((0,a.arrayify)(this.privateKey),1);if(t){t+="'"}}else{i.set((0,a.arrayify)(this.publicKey))}for(let t=24;t>=0;t-=8){i[33+(t>>3)]=e>>24-t&255}const o=(0,a.arrayify)((0,g.computeHmac)(v.SupportedAlgorithm.sha512,this.chainCode,i));const u=o.slice(0,32);const d=o.slice(32);let p=null;let y=null;if(this.privateKey){p=bytes32(l.BigNumber.from(u).add(this.privateKey).mod(T))}else{const e=new m.SigningKey((0,a.hexlify)(u));y=e._addPoint(this.publicKey)}let _=t;const w=this.mnemonic;if(w){_=Object.freeze({phrase:w.phrase,path:t,locale:w.locale||"en"})}return new HDNode(N,p,y,this.fingerprint,bytes32(d),e,this.depth+1,_)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0){throw new Error("invalid path - "+e)}if(t[0]==="m"){t.shift()}let i=this;for(let e=0;e<t.length;e++){const o=t[e];if(o.match(/^[0-9]+'$/)){const e=parseInt(o.substring(0,o.length-1));if(e>=I){throw new Error("invalid path index - "+o)}i=i._derive(I+e)}else if(o.match(/^[0-9]+$/)){const e=parseInt(o);if(e>=I){throw new Error("invalid path index - "+o)}i=i._derive(e)}else{throw new Error("invalid path component - "+o)}}return i}static _fromSeed(e,t){const i=(0,a.arrayify)(e);if(i.length<16||i.length>64){throw new Error("invalid seed")}const o=(0,a.arrayify)((0,g.computeHmac)(v.SupportedAlgorithm.sha512,x,i));return new HDNode(N,bytes32(o.slice(0,32)),null,"0x00000000",bytes32(o.slice(32)),0,0,t)}static fromMnemonic(e,t,i){i=getWordlist(i);e=entropyToMnemonic(mnemonicToEntropy(e,i),i);return HDNode._fromSeed(mnemonicToSeed(e,t),{phrase:e,path:"m",locale:i.locale})}static fromSeed(e){return HDNode._fromSeed(e,null)}static fromExtendedKey(e){const t=o.Base58.decode(e);if(t.length!==82||base58check(t.slice(0,78))!==e){k.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}const i=t[4];const l=(0,a.hexlify)(t.slice(5,9));const u=parseInt((0,a.hexlify)(t.slice(9,13)).substring(2),16);const d=(0,a.hexlify)(t.slice(13,45));const p=t.slice(45,78);switch((0,a.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new HDNode(N,null,(0,a.hexlify)(p),l,d,u,i,null);case"0x0488ade4":case"0x04358394 ":if(p[0]!==0){break}return new HDNode(N,(0,a.hexlify)(p.slice(1)),null,l,d,u,i,null)}return k.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function mnemonicToSeed(e,t){if(!t){t=""}const i=(0,u.toUtf8Bytes)("mnemonic"+t,u.UnicodeNormalizationForm.NFKD);return(0,d.pbkdf2)((0,u.toUtf8Bytes)(e,u.UnicodeNormalizationForm.NFKD),i,2048,64,"sha512")}function mnemonicToEntropy(e,t){t=getWordlist(t);k.checkNormalize();const i=t.split(e);if(i.length%3!==0){throw new Error("invalid mnemonic")}const o=(0,a.arrayify)(new Uint8Array(Math.ceil(11*i.length/8)));let l=0;for(let e=0;e<i.length;e++){let a=t.getWordIndex(i[e].normalize("NFKD"));if(a===-1){throw new Error("invalid mnemonic")}for(let e=0;e<11;e++){if(a&1<<10-e){o[l>>3]|=1<<7-l%8}l++}}const u=32*i.length/3;const d=i.length/3;const p=getUpperMask(d);const m=(0,a.arrayify)((0,g.sha256)(o.slice(0,u/8)))[0]&p;if(m!==(o[o.length-1]&p)){throw new Error("invalid checksum")}return(0,a.hexlify)(o.slice(0,u/8))}function entropyToMnemonic(e,t){t=getWordlist(t);e=(0,a.arrayify)(e);if(e.length%4!==0||e.length<16||e.length>32){throw new Error("invalid entropy")}const i=[0];let o=11;for(let t=0;t<e.length;t++){if(o>8){i[i.length-1]<<=8;i[i.length-1]|=e[t];o-=8}else{i[i.length-1]<<=o;i[i.length-1]|=e[t]>>8-o;i.push(e[t]&getLowerMask(8-o));o+=3}}const l=e.length/4;const u=(0,a.arrayify)((0,g.sha256)(e))[0]&getUpperMask(l);i[i.length-1]<<=l;i[i.length-1]|=u>>8-l;return t.join(i.map(e=>t.getWord(e)))}function isValidMnemonic(e,t){try{mnemonicToEntropy(e,t);return true}catch(e){}return false}function getAccountPath(e){if(typeof e!=="number"||e<0||e>=I||e%1){k.throwArgumentError("invalid account index","index",e)}return`m/44'/60'/${e}'/0/0`}},"../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="json-wallets/5.7.0"},"../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/crowdsale.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CrowdsaleAccount:()=>CrowdsaleAccount,decrypt:()=>decrypt});var o=i("../../node_modules/.pnpm/aes-js@3.0.0/node_modules/aes-js/index.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+pbkdf2@5.8.0/node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js");var m=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");var g=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var v=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var y=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/_version.js");var _=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/utils.js");const w=new v.Logger(y.version);class CrowdsaleAccount extends g.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function decrypt(e,t){const i=JSON.parse(e);t=(0,_.getPassword)(t);const o=(0,l.getAddress)((0,_.searchPath)(i,"ethaddr"));const g=(0,_.looseArrayify)((0,_.searchPath)(i,"encseed"));if(!g||g.length%16!==0){w.throwArgumentError("invalid encseed","json",e)}const v=(0,u.arrayify)((0,p.pbkdf2)(t,t,2e3,32,"sha256")).slice(0,16);const y=g.slice(0,16);const A=g.slice(16);const k=new(a().ModeOfOperation.cbc)(v,y);const T=a().padding.pkcs7.strip((0,u.arrayify)(k.decrypt(A)));let x="";for(let e=0;e<T.length;e++){x+=String.fromCharCode(T[e])}const I=(0,m.toUtf8Bytes)(x);const N=(0,d.keccak256)(I);return new CrowdsaleAccount({_isCrowdsaleAccount:true,address:o,privateKey:N})}},"../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decryptCrowdsale:()=>o.decrypt,decryptJsonWallet:()=>decryptJsonWallet,decryptJsonWalletSync:()=>decryptJsonWalletSync,decryptKeystore:()=>l.decrypt,decryptKeystoreSync:()=>l.decryptSync,encryptKeystore:()=>l.encrypt,getJsonWalletAddress:()=>a.getJsonWalletAddress,isCrowdsaleWallet:()=>a.isCrowdsaleWallet,isKeystoreWallet:()=>a.isKeystoreWallet});var o=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/crowdsale.js");var a=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/inspect.js");var l=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/keystore.js");function decryptJsonWallet(e,t,i){if((0,a.isCrowdsaleWallet)(e)){if(i){i(0)}const a=(0,o.decrypt)(e,t);if(i){i(1)}return Promise.resolve(a)}if((0,a.isKeystoreWallet)(e)){return(0,l.decrypt)(e,t,i)}return Promise.reject(new Error("invalid JSON wallet"))}function decryptJsonWalletSync(e,t){if((0,a.isCrowdsaleWallet)(e)){return(0,o.decrypt)(e,t)}if((0,a.isKeystoreWallet)(e)){return(0,l.decryptSync)(e,t)}throw new Error("invalid JSON wallet")}},"../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/inspect.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getJsonWalletAddress:()=>getJsonWalletAddress,isCrowdsaleWallet:()=>isCrowdsaleWallet,isKeystoreWallet:()=>isKeystoreWallet});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/index.js");function isCrowdsaleWallet(e){let t=null;try{t=JSON.parse(e)}catch(e){return false}return t.encseed&&t.ethaddr}function isKeystoreWallet(e){let t=null;try{t=JSON.parse(e)}catch(e){return false}if(!t.version||parseInt(t.version)!==t.version||parseInt(t.version)!==3){return false}return true}function getJsonWalletAddress(e){if(isCrowdsaleWallet(e)){try{return(0,o.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}}if(isKeystoreWallet(e)){try{return(0,o.getAddress)(JSON.parse(e).address)}catch(e){return null}}return null}},"../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/keystore.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{KeystoreAccount:()=>KeystoreAccount,decrypt:()=>decrypt,decryptSync:()=>decryptSync,encrypt:()=>encrypt});var o=i("../../node_modules/.pnpm/aes-js@3.0.0/node_modules/aes-js/index.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/scrypt-js@3.0.1/node_modules/scrypt-js/scrypt.js");var u=i.n(l);var d=i("../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+hdnode@5.8.0/node_modules/@ethersproject/hdnode/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var v=i("../../node_modules/.pnpm/@ethersproject+pbkdf2@5.8.0/node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js");var y=i("../../node_modules/.pnpm/@ethersproject+random@5.8.0/node_modules/@ethersproject/random/lib.esm/random.js");var _=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var w=i("../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/index.js");var A=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/utils.js");var k=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var T=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/_version.js");var x=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const I=new k.Logger(T.version);function hasMnemonic(e){return e!=null&&e.mnemonic&&e.mnemonic.phrase}class KeystoreAccount extends _.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function _decrypt(e,t,i){const o=(0,A.searchPath)(e,"crypto/cipher");if(o==="aes-128-ctr"){const o=(0,A.looseArrayify)((0,A.searchPath)(e,"crypto/cipherparams/iv"));const l=new(a().Counter)(o);const u=new(a().ModeOfOperation.ctr)(t,l);return(0,p.arrayify)(u.decrypt(i))}return null}function _getAccount(e,t){const i=(0,A.looseArrayify)((0,A.searchPath)(e,"crypto/ciphertext"));const o=(0,p.hexlify)((0,g.keccak256)((0,p.concat)([t.slice(16,32),i]))).substring(2);if(o!==(0,A.searchPath)(e,"crypto/mac").toLowerCase()){throw new Error("invalid password")}const l=_decrypt(e,t.slice(0,16),i);if(!l){I.throwError("unsupported cipher",k.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"})}const u=t.slice(32,64);const v=(0,w.computeAddress)(l);if(e.address){let t=e.address.toLowerCase();if(t.substring(0,2)!=="0x"){t="0x"+t}if((0,d.getAddress)(t)!==v){throw new Error("address mismatch")}}const y={_isKeystoreAccount:true,address:v,privateKey:(0,p.hexlify)(l)};if((0,A.searchPath)(e,"x-ethers/version")==="0.1"){const t=(0,A.looseArrayify)((0,A.searchPath)(e,"x-ethers/mnemonicCiphertext"));const i=(0,A.looseArrayify)((0,A.searchPath)(e,"x-ethers/mnemonicCounter"));const o=new(a().Counter)(i);const l=new(a().ModeOfOperation.ctr)(u,o);const d=(0,A.searchPath)(e,"x-ethers/path")||m.defaultPath;const g=(0,A.searchPath)(e,"x-ethers/locale")||"en";const v=(0,p.arrayify)(l.decrypt(t));try{const e=(0,m.entropyToMnemonic)(v,g);const t=m.HDNode.fromMnemonic(e,null,g).derivePath(d);if(t.privateKey!=y.privateKey){throw new Error("mnemonic mismatch")}y.mnemonic=t.mnemonic}catch(e){if(e.code!==k.Logger.errors.INVALID_ARGUMENT||e.argument!=="wordlist"){throw e}}}return new KeystoreAccount(y)}function pbkdf2Sync(e,t,i,o,a){return(0,p.arrayify)((0,v.pbkdf2)(e,t,i,o,a))}function pbkdf2(e,t,i,o,a){return Promise.resolve(pbkdf2Sync(e,t,i,o,a))}function _computeKdfKey(e,t,i,o,a){const l=(0,A.getPassword)(t);const u=(0,A.searchPath)(e,"crypto/kdf");if(u&&typeof u==="string"){const throwError=function(e,t){return I.throwArgumentError("invalid key-derivation function parameters",e,t)};if(u.toLowerCase()==="scrypt"){const t=(0,A.looseArrayify)((0,A.searchPath)(e,"crypto/kdfparams/salt"));const i=parseInt((0,A.searchPath)(e,"crypto/kdfparams/n"));const d=parseInt((0,A.searchPath)(e,"crypto/kdfparams/r"));const p=parseInt((0,A.searchPath)(e,"crypto/kdfparams/p"));if(!i||!d||!p){throwError("kdf",u)}if((i&i-1)!==0){throwError("N",i)}const m=parseInt((0,A.searchPath)(e,"crypto/kdfparams/dklen"));if(m!==32){throwError("dklen",m)}return o(l,t,i,d,p,64,a)}else if(u.toLowerCase()==="pbkdf2"){const t=(0,A.looseArrayify)((0,A.searchPath)(e,"crypto/kdfparams/salt"));let o=null;const a=(0,A.searchPath)(e,"crypto/kdfparams/prf");if(a==="hmac-sha256"){o="sha256"}else if(a==="hmac-sha512"){o="sha512"}else{throwError("prf",a)}const u=parseInt((0,A.searchPath)(e,"crypto/kdfparams/c"));const d=parseInt((0,A.searchPath)(e,"crypto/kdfparams/dklen"));if(d!==32){throwError("dklen",d)}return i(l,t,u,d,o)}}return I.throwArgumentError("unsupported key-derivation function","kdf",u)}function decryptSync(e,t){const i=JSON.parse(e);const o=_computeKdfKey(i,t,pbkdf2Sync,u().syncScrypt);return _getAccount(i,o)}function decrypt(e,t,i){return x(this,void 0,void 0,function*(){const o=JSON.parse(e);const a=yield _computeKdfKey(o,t,pbkdf2,u().scrypt,i);return _getAccount(o,a)})}function encrypt(e,t,i,o){try{if((0,d.getAddress)(e.address)!==(0,w.computeAddress)(e.privateKey)){throw new Error("address/privateKey mismatch")}if(hasMnemonic(e)){const t=e.mnemonic;const i=m.HDNode.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||m.defaultPath);if(i.privateKey!=e.privateKey){throw new Error("mnemonic mismatch")}}}catch(e){return Promise.reject(e)}if(typeof i==="function"&&!o){o=i;i={}}if(!i){i={}}const l=(0,p.arrayify)(e.privateKey);const v=(0,A.getPassword)(t);let _=null;let k=null;let T=null;if(hasMnemonic(e)){const t=e.mnemonic;_=(0,p.arrayify)((0,m.mnemonicToEntropy)(t.phrase,t.locale||"en"));k=t.path||m.defaultPath;T=t.locale||"en"}let x=i.client;if(!x){x="ethers.js"}let I=null;if(i.salt){I=(0,p.arrayify)(i.salt)}else{I=(0,y.randomBytes)(32)}let N=null;if(i.iv){N=(0,p.arrayify)(i.iv);if(N.length!==16){throw new Error("invalid iv")}}else{N=(0,y.randomBytes)(16)}let P=null;if(i.uuid){P=(0,p.arrayify)(i.uuid);if(P.length!==16){throw new Error("invalid uuid")}}else{P=(0,y.randomBytes)(16)}let C=1<<17,M=8,B=1;if(i.scrypt){if(i.scrypt.N){C=i.scrypt.N}if(i.scrypt.r){M=i.scrypt.r}if(i.scrypt.p){B=i.scrypt.p}}return u().scrypt(v,I,C,M,B,64,o).then(t=>{t=(0,p.arrayify)(t);const i=t.slice(0,16);const o=t.slice(16,32);const u=t.slice(32,64);const d=new(a().Counter)(N);const m=new(a().ModeOfOperation.ctr)(i,d);const v=(0,p.arrayify)(m.encrypt(l));const w=(0,g.keccak256)((0,p.concat)([o,v]));const j={address:e.address.substring(2).toLowerCase(),id:(0,A.uuidV4)(P),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,p.hexlify)(N).substring(2)},ciphertext:(0,p.hexlify)(v).substring(2),kdf:"scrypt",kdfparams:{salt:(0,p.hexlify)(I).substring(2),n:C,dklen:32,p:B,r:M},mac:w.substring(2)}};if(_){const e=(0,y.randomBytes)(16);const t=new(a().Counter)(e);const i=new(a().ModeOfOperation.ctr)(u,t);const o=(0,p.arrayify)(i.encrypt(_));const l=new Date;const d=l.getUTCFullYear()+"-"+(0,A.zpad)(l.getUTCMonth()+1,2)+"-"+(0,A.zpad)(l.getUTCDate(),2)+"T"+(0,A.zpad)(l.getUTCHours(),2)+"-"+(0,A.zpad)(l.getUTCMinutes(),2)+"-"+(0,A.zpad)(l.getUTCSeconds(),2)+".0Z";j["x-ethers"]={client:x,gethFilename:"UTC--"+d+"--"+j.address,mnemonicCounter:(0,p.hexlify)(e).substring(2),mnemonicCiphertext:(0,p.hexlify)(o).substring(2),path:k,locale:T,version:"0.1"}}return JSON.stringify(j)})}},"../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getPassword:()=>getPassword,looseArrayify:()=>looseArrayify,searchPath:()=>searchPath,uuidV4:()=>uuidV4,zpad:()=>zpad});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");function looseArrayify(e){if(typeof e==="string"&&e.substring(0,2)!=="0x"){e="0x"+e}return(0,o.arrayify)(e)}function zpad(e,t){e=String(e);while(e.length<t){e="0"+e}return e}function getPassword(e){if(typeof e==="string"){return(0,a.toUtf8Bytes)(e,a.UnicodeNormalizationForm.NFKC)}return(0,o.arrayify)(e)}function searchPath(e,t){let i=e;const o=t.toLowerCase().split("/");for(let e=0;e<o.length;e++){let t=null;for(const a in i){if(a.toLowerCase()===o[e]){t=i[a];break}}if(t===null){return null}i=t}return i}function uuidV4(e){const t=(0,o.arrayify)(e);t[6]=t[6]&15|64;t[8]=t[8]&63|128;const i=(0,o.hexlify)(t);return[i.substring(2,10),i.substring(10,14),i.substring(14,18),i.substring(18,22),i.substring(22,34)].join("-")}},"../../node_modules/.pnpm/@ethersproject+keccak256@5.7.0/node_modules/@ethersproject/keccak256/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{keccak256:()=>keccak256});var o=i("../../node_modules/.pnpm/js-sha3@0.8.0/node_modules/js-sha3/src/sha3.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");function keccak256(e){return"0x"+a().keccak_256((0,l.arrayify)(e))}},"../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{keccak256:()=>keccak256});var o=i("../../node_modules/.pnpm/js-sha3@0.8.0/node_modules/js-sha3/src/sha3.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");function keccak256(e){return"0x"+a().keccak_256((0,l.arrayify)(e))}},"../../node_modules/.pnpm/@ethersproject+logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="logger/5.7.0"},"../../node_modules/.pnpm/@ethersproject+logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ErrorCode:()=>v,LogLevel:()=>g,Logger:()=>Logger});var o=i("../../node_modules/.pnpm/@ethersproject+logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/_version.js");let a=false;let l=false;const u={debug:1,default:2,info:2,warning:3,error:4,off:5};let d=u["default"];let p=null;function _checkNormalize(){try{const e=[];["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test"){throw new Error("bad normalize")}}catch(i){e.push(t)}});if(e.length){throw new Error("missing "+e.join(", "))}if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769)){throw new Error("broken implementation")}}catch(e){return e.message}return null}const m=_checkNormalize();var g;(function(e){e["DEBUG"]="DEBUG";e["INFO"]="INFO";e["WARNING"]="WARNING";e["ERROR"]="ERROR";e["OFF"]="OFF"})(g||(g={}));var v;(function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR";e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED";e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION";e["NETWORK_ERROR"]="NETWORK_ERROR";e["SERVER_ERROR"]="SERVER_ERROR";e["TIMEOUT"]="TIMEOUT";e["BUFFER_OVERRUN"]="BUFFER_OVERRUN";e["NUMERIC_FAULT"]="NUMERIC_FAULT";e["MISSING_NEW"]="MISSING_NEW";e["INVALID_ARGUMENT"]="INVALID_ARGUMENT";e["MISSING_ARGUMENT"]="MISSING_ARGUMENT";e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT";e["CALL_EXCEPTION"]="CALL_EXCEPTION";e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS";e["NONCE_EXPIRED"]="NONCE_EXPIRED";e["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED";e["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT";e["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED";e["ACTION_REJECTED"]="ACTION_REJECTED"})(v||(v={}));const y="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:true,value:e,writable:false})}_log(e,t){const i=e.toLowerCase();if(u[i]==null){this.throwArgumentError("invalid log level name","logLevel",e)}if(d>u[i]){return}console.log.apply(console,t)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,t,i){if(l){return this.makeError("censored error",t,{})}if(!t){t=Logger.errors.UNKNOWN_ERROR}if(!i){i={}}const o=[];Object.keys(i).forEach(e=>{const t=i[e];try{if(t instanceof Uint8Array){let i="";for(let e=0;e<t.length;e++){i+=y[t[e]>>4];i+=y[t[e]&15]}o.push(e+"=Uint8Array(0x"+i+")")}else{o.push(e+"="+JSON.stringify(t))}}catch(t){o.push(e+"="+JSON.stringify(i[e].toString()))}});o.push(`code=${t}`);o.push(`version=${this.version}`);const a=e;let u="";switch(t){case v.NUMERIC_FAULT:{u="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":u+="-"+t;break;case"negative-power":case"negative-width":u+="-unsupported";break;case"unbound-bitwise-result":u+="-unbound-result";break}break}case v.CALL_EXCEPTION:case v.INSUFFICIENT_FUNDS:case v.MISSING_NEW:case v.NONCE_EXPIRED:case v.REPLACEMENT_UNDERPRICED:case v.TRANSACTION_REPLACED:case v.UNPREDICTABLE_GAS_LIMIT:u=t;break}if(u){e+=" [ See: https://links.ethers.org/v5-errors-"+u+" ]"}if(o.length){e+=" ("+o.join(", ")+")"}const d=new Error(e);d.reason=a;d.code=t;Object.keys(i).forEach(function(e){d[e]=i[e]});return d}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,o){if(!!e){return}this.throwError(t,i,o)}assertArgument(e,t,i,o){if(!!e){return}this.throwArgumentError(t,i,o)}checkNormalize(e){if(e==null){e="platform missing String.prototype.normalize"}if(m){this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m})}}checkSafeUint53(e,t){if(typeof e!=="number"){return}if(t==null){t="value not safe"}if(e<0||e>=9007199254740991){this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e})}if(e%1){this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e})}}checkArgumentCount(e,t,i){if(i){i=": "+i}else{i=""}if(e<t){this.throwError("missing argument"+i,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:t})}if(e>t){this.throwError("too many arguments"+i,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}}checkNew(e,t){if(e===Object||e==null){this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}}checkAbstract(e,t){if(e===t){this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"})}else if(e===Object||e==null){this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}}static globalLogger(){if(!p){p=new Logger(o.version)}return p}static setCensorship(e,t){if(!e&&t){this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}if(a){if(!e){return}this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}l=!!e;a=!!t}static setLogLevel(e){const t=u[e.toLowerCase()];if(t==null){Logger.globalLogger().warn("invalid log level - "+e);return}d=t}static from(e){return new Logger(e)}}Logger.errors=v;Logger.levels=g},"../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="logger/5.8.0"},"../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ErrorCode:()=>v,LogLevel:()=>g,Logger:()=>Logger});var o=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/_version.js");let a=false;let l=false;const u={debug:1,default:2,info:2,warning:3,error:4,off:5};let d=u["default"];let p=null;function _checkNormalize(){try{const e=[];["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test"){throw new Error("bad normalize")}}catch(i){e.push(t)}});if(e.length){throw new Error("missing "+e.join(", "))}if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769)){throw new Error("broken implementation")}}catch(e){return e.message}return null}const m=_checkNormalize();var g;(function(e){e["DEBUG"]="DEBUG";e["INFO"]="INFO";e["WARNING"]="WARNING";e["ERROR"]="ERROR";e["OFF"]="OFF"})(g||(g={}));var v;(function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR";e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED";e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION";e["NETWORK_ERROR"]="NETWORK_ERROR";e["SERVER_ERROR"]="SERVER_ERROR";e["TIMEOUT"]="TIMEOUT";e["BUFFER_OVERRUN"]="BUFFER_OVERRUN";e["NUMERIC_FAULT"]="NUMERIC_FAULT";e["MISSING_NEW"]="MISSING_NEW";e["INVALID_ARGUMENT"]="INVALID_ARGUMENT";e["MISSING_ARGUMENT"]="MISSING_ARGUMENT";e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT";e["CALL_EXCEPTION"]="CALL_EXCEPTION";e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS";e["NONCE_EXPIRED"]="NONCE_EXPIRED";e["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED";e["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT";e["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED";e["ACTION_REJECTED"]="ACTION_REJECTED"})(v||(v={}));const y="0123456789abcdef";class Logger{constructor(e){Object.defineProperty(this,"version",{enumerable:true,value:e,writable:false})}_log(e,t){const i=e.toLowerCase();if(u[i]==null){this.throwArgumentError("invalid log level name","logLevel",e)}if(d>u[i]){return}console.log.apply(console,t)}debug(...e){this._log(Logger.levels.DEBUG,e)}info(...e){this._log(Logger.levels.INFO,e)}warn(...e){this._log(Logger.levels.WARNING,e)}makeError(e,t,i){if(l){return this.makeError("censored error",t,{})}if(!t){t=Logger.errors.UNKNOWN_ERROR}if(!i){i={}}const o=[];Object.keys(i).forEach(e=>{const t=i[e];try{if(t instanceof Uint8Array){let i="";for(let e=0;e<t.length;e++){i+=y[t[e]>>4];i+=y[t[e]&15]}o.push(e+"=Uint8Array(0x"+i+")")}else{o.push(e+"="+JSON.stringify(t))}}catch(t){o.push(e+"="+JSON.stringify(i[e].toString()))}});o.push(`code=${t}`);o.push(`version=${this.version}`);const a=e;let u="";switch(t){case v.NUMERIC_FAULT:{u="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":u+="-"+t;break;case"negative-power":case"negative-width":u+="-unsupported";break;case"unbound-bitwise-result":u+="-unbound-result";break}break}case v.CALL_EXCEPTION:case v.INSUFFICIENT_FUNDS:case v.MISSING_NEW:case v.NONCE_EXPIRED:case v.REPLACEMENT_UNDERPRICED:case v.TRANSACTION_REPLACED:case v.UNPREDICTABLE_GAS_LIMIT:u=t;break}if(u){e+=" [ See: https://links.ethers.org/v5-errors-"+u+" ]"}if(o.length){e+=" ("+o.join(", ")+")"}const d=new Error(e);d.reason=a;d.code=t;Object.keys(i).forEach(function(e){d[e]=i[e]});return d}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,Logger.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,o){if(!!e){return}this.throwError(t,i,o)}assertArgument(e,t,i,o){if(!!e){return}this.throwArgumentError(t,i,o)}checkNormalize(e){if(e==null){e="platform missing String.prototype.normalize"}if(m){this.throwError("platform missing String.prototype.normalize",Logger.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m})}}checkSafeUint53(e,t){if(typeof e!=="number"){return}if(t==null){t="value not safe"}if(e<0||e>=9007199254740991){this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e})}if(e%1){this.throwError(t,Logger.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e})}}checkArgumentCount(e,t,i){if(i){i=": "+i}else{i=""}if(e<t){this.throwError("missing argument"+i,Logger.errors.MISSING_ARGUMENT,{count:e,expectedCount:t})}if(e>t){this.throwError("too many arguments"+i,Logger.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}}checkNew(e,t){if(e===Object||e==null){this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}}checkAbstract(e,t){if(e===t){this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"})}else if(e===Object||e==null){this.throwError("missing new",Logger.errors.MISSING_NEW,{name:t.name})}}static globalLogger(){if(!p){p=new Logger(o.version)}return p}static setCensorship(e,t){if(!e&&t){this.globalLogger().throwError("cannot permanently disable censorship",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}if(a){if(!e){return}this.globalLogger().throwError("error censorship permanent",Logger.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}l=!!e;a=!!t}static setLogLevel(e){const t=u[e.toLowerCase()];if(t==null){Logger.globalLogger().warn("invalid log level - "+e);return}d=t}static from(e){return new Logger(e)}}Logger.errors=v;Logger.levels=g},"../../node_modules/.pnpm/@ethersproject+pbkdf2@5.8.0/node_modules/@ethersproject/pbkdf2/lib.esm/pbkdf2.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{pbkdf2:()=>pbkdf2});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/sha2.js");function pbkdf2(e,t,i,l,u){e=(0,o.arrayify)(e);t=(0,o.arrayify)(t);let d;let p=1;const m=new Uint8Array(l);const g=new Uint8Array(t.length+4);g.set(t);let v;let y;for(let _=1;_<=p;_++){g[t.length]=_>>24&255;g[t.length+1]=_>>16&255;g[t.length+2]=_>>8&255;g[t.length+3]=_&255;let w=(0,o.arrayify)((0,a.computeHmac)(u,e,g));if(!d){d=w.length;y=new Uint8Array(d);p=Math.ceil(l/d);v=l-(p-1)*d}y.set(w);for(let t=1;t<i;t++){w=(0,o.arrayify)((0,a.computeHmac)(u,e,w));for(let e=0;e<d;e++)y[e]^=w[e]}const A=(_-1)*d;const k=_===p?v:d;m.set((0,o.arrayify)(y).slice(0,k),A)}return(0,o.hexlify)(m)}},"../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="properties/5.8.0"},"../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Description:()=>Description,checkProperties:()=>checkProperties,deepCopy:()=>deepCopy,defineReadOnly:()=>defineReadOnly,getStatic:()=>getStatic,resolveProperties:()=>resolveProperties,shallowCopy:()=>shallowCopy});var o=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/_version.js");var l=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const u=new o.Logger(a.version);function defineReadOnly(e,t,i){Object.defineProperty(e,t,{enumerable:true,value:i,writable:false})}function getStatic(e,t){for(let i=0;i<32;i++){if(e[t]){return e[t]}if(!e.prototype||typeof e.prototype!=="object"){break}e=Object.getPrototypeOf(e.prototype).constructor}return null}function resolveProperties(e){return l(this,void 0,void 0,function*(){const t=Object.keys(e).map(t=>{const i=e[t];return Promise.resolve(i).then(e=>({key:t,value:e}))});const i=yield Promise.all(t);return i.reduce((e,t)=>{e[t.key]=t.value;return e},{})})}function checkProperties(e,t){if(!e||typeof e!=="object"){u.throwArgumentError("invalid object","object",e)}Object.keys(e).forEach(i=>{if(!t[i]){u.throwArgumentError("invalid object key - "+i,"transaction:"+i,e)}})}function shallowCopy(e){const t={};for(const i in e){t[i]=e[i]}return t}const d={bigint:true,boolean:true,function:true,number:true,string:true};function _isFrozen(e){if(e===undefined||e===null||d[typeof e]){return true}if(Array.isArray(e)||typeof e==="object"){if(!Object.isFrozen(e)){return false}const t=Object.keys(e);for(let i=0;i<t.length;i++){let o=null;try{o=e[t[i]]}catch(e){continue}if(!_isFrozen(o)){return false}}return true}return u.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function _deepCopy(e){if(_isFrozen(e)){return e}if(Array.isArray(e)){return Object.freeze(e.map(e=>deepCopy(e)))}if(typeof e==="object"){const t={};for(const i in e){const o=e[i];if(o===undefined){continue}defineReadOnly(t,i,deepCopy(o))}return t}return u.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function deepCopy(e){return _deepCopy(e)}class Description{constructor(e){for(const t in e){this[t]=deepCopy(e[t])}}}},"../../node_modules/.pnpm/@ethersproject+random@5.7.0/node_modules/@ethersproject/random/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="random/5.7.0"},"../../node_modules/.pnpm/@ethersproject+random@5.7.0/node_modules/@ethersproject/random/lib.esm/random.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{randomBytes:()=>randomBytes});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+random@5.7.0/node_modules/@ethersproject/random/lib.esm/_version.js");const u=new a.Logger(l.version);function getGlobal(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof i.g!=="undefined"){return i.g}throw new Error("unable to locate global object")}const d=getGlobal();let p=d.crypto||d.msCrypto;if(!p||!p.getRandomValues){u.warn("WARNING: Missing strong random number source");p={getRandomValues:function(e){return u.throwError("no secure random source avaialble",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}}function randomBytes(e){if(e<=0||e>1024||e%1||e!=e){u.throwArgumentError("invalid length","length",e)}const t=new Uint8Array(e);p.getRandomValues(t);return(0,o.arrayify)(t)}},"../../node_modules/.pnpm/@ethersproject+random@5.8.0/node_modules/@ethersproject/random/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="random/5.8.0"},"../../node_modules/.pnpm/@ethersproject+random@5.8.0/node_modules/@ethersproject/random/lib.esm/random.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{randomBytes:()=>randomBytes});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+random@5.8.0/node_modules/@ethersproject/random/lib.esm/_version.js");const u=new a.Logger(l.version);function getGlobal(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof i.g!=="undefined"){return i.g}throw new Error("unable to locate global object")}const d=getGlobal();let p=d.crypto||d.msCrypto;if(!p||!p.getRandomValues){u.warn("WARNING: Missing strong random number source");p={getRandomValues:function(e){return u.throwError("no secure random source avaialble",a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}}function randomBytes(e){if(e<=0||e>1024||e%1||e!=e){u.throwArgumentError("invalid length","length",e)}const t=new Uint8Array(e);p.getRandomValues(t);return(0,o.arrayify)(t)}},"../../node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="rlp/5.7.0"},"../../node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decode:()=>decode,encode:()=>encode});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/_version.js");const u=new a.Logger(l.version);function arrayifyInteger(e){const t=[];while(e){t.unshift(e&255);e>>=8}return t}function unarrayifyInteger(e,t,i){let o=0;for(let a=0;a<i;a++){o=o*256+e[t+a]}return o}function _encode(e){if(Array.isArray(e)){let t=[];e.forEach(function(e){t=t.concat(_encode(e))});if(t.length<=55){t.unshift(192+t.length);return t}const i=arrayifyInteger(t.length);i.unshift(247+i.length);return i.concat(t)}if(!(0,o.isBytesLike)(e)){u.throwArgumentError("RLP object must be BytesLike","object",e)}const t=Array.prototype.slice.call((0,o.arrayify)(e));if(t.length===1&&t[0]<=127){return t}else if(t.length<=55){t.unshift(128+t.length);return t}const i=arrayifyInteger(t.length);i.unshift(183+i.length);return i.concat(t)}function encode(e){return(0,o.hexlify)(_encode(e))}function _decodeChildren(e,t,i,o){const l=[];while(i<t+1+o){const d=_decode(e,i);l.push(d.result);i+=d.consumed;if(i>t+1+o){u.throwError("child data too short",a.Logger.errors.BUFFER_OVERRUN,{})}}return{consumed:1+o,result:l}}function _decode(e,t){if(e.length===0){u.throwError("data too short",a.Logger.errors.BUFFER_OVERRUN,{})}if(e[t]>=248){const i=e[t]-247;if(t+1+i>e.length){u.throwError("data short segment too short",a.Logger.errors.BUFFER_OVERRUN,{})}const o=unarrayifyInteger(e,t+1,i);if(t+1+i+o>e.length){u.throwError("data long segment too short",a.Logger.errors.BUFFER_OVERRUN,{})}return _decodeChildren(e,t,t+1+i,i+o)}else if(e[t]>=192){const i=e[t]-192;if(t+1+i>e.length){u.throwError("data array too short",a.Logger.errors.BUFFER_OVERRUN,{})}return _decodeChildren(e,t,t+1,i)}else if(e[t]>=184){const i=e[t]-183;if(t+1+i>e.length){u.throwError("data array too short",a.Logger.errors.BUFFER_OVERRUN,{})}const l=unarrayifyInteger(e,t+1,i);if(t+1+i+l>e.length){u.throwError("data array too short",a.Logger.errors.BUFFER_OVERRUN,{})}const d=(0,o.hexlify)(e.slice(t+1+i,t+1+i+l));return{consumed:1+i+l,result:d}}else if(e[t]>=128){const i=e[t]-128;if(t+1+i>e.length){u.throwError("data too short",a.Logger.errors.BUFFER_OVERRUN,{})}const l=(0,o.hexlify)(e.slice(t+1,t+1+i));return{consumed:1+i,result:l}}return{consumed:1,result:(0,o.hexlify)(e[t])}}function decode(e){const t=(0,o.arrayify)(e);const i=_decode(t,0);if(i.consumed!==t.length){u.throwArgumentError("invalid rlp data","data",e)}return i.result}},"../../node_modules/.pnpm/@ethersproject+rlp@5.8.0/node_modules/@ethersproject/rlp/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="rlp/5.8.0"},"../../node_modules/.pnpm/@ethersproject+rlp@5.8.0/node_modules/@ethersproject/rlp/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decode:()=>decode,encode:()=>encode});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+rlp@5.8.0/node_modules/@ethersproject/rlp/lib.esm/_version.js");const u=new a.Logger(l.version);function arrayifyInteger(e){const t=[];while(e){t.unshift(e&255);e>>=8}return t}function unarrayifyInteger(e,t,i){let o=0;for(let a=0;a<i;a++){o=o*256+e[t+a]}return o}function _encode(e){if(Array.isArray(e)){let t=[];e.forEach(function(e){t=t.concat(_encode(e))});if(t.length<=55){t.unshift(192+t.length);return t}const i=arrayifyInteger(t.length);i.unshift(247+i.length);return i.concat(t)}if(!(0,o.isBytesLike)(e)){u.throwArgumentError("RLP object must be BytesLike","object",e)}const t=Array.prototype.slice.call((0,o.arrayify)(e));if(t.length===1&&t[0]<=127){return t}else if(t.length<=55){t.unshift(128+t.length);return t}const i=arrayifyInteger(t.length);i.unshift(183+i.length);return i.concat(t)}function encode(e){return(0,o.hexlify)(_encode(e))}function _decodeChildren(e,t,i,o){const l=[];while(i<t+1+o){const d=_decode(e,i);l.push(d.result);i+=d.consumed;if(i>t+1+o){u.throwError("child data too short",a.Logger.errors.BUFFER_OVERRUN,{})}}return{consumed:1+o,result:l}}function _decode(e,t){if(e.length===0){u.throwError("data too short",a.Logger.errors.BUFFER_OVERRUN,{})}if(e[t]>=248){const i=e[t]-247;if(t+1+i>e.length){u.throwError("data short segment too short",a.Logger.errors.BUFFER_OVERRUN,{})}const o=unarrayifyInteger(e,t+1,i);if(t+1+i+o>e.length){u.throwError("data long segment too short",a.Logger.errors.BUFFER_OVERRUN,{})}return _decodeChildren(e,t,t+1+i,i+o)}else if(e[t]>=192){const i=e[t]-192;if(t+1+i>e.length){u.throwError("data array too short",a.Logger.errors.BUFFER_OVERRUN,{})}return _decodeChildren(e,t,t+1,i)}else if(e[t]>=184){const i=e[t]-183;if(t+1+i>e.length){u.throwError("data array too short",a.Logger.errors.BUFFER_OVERRUN,{})}const l=unarrayifyInteger(e,t+1,i);if(t+1+i+l>e.length){u.throwError("data array too short",a.Logger.errors.BUFFER_OVERRUN,{})}const d=(0,o.hexlify)(e.slice(t+1+i,t+1+i+l));return{consumed:1+i+l,result:d}}else if(e[t]>=128){const i=e[t]-128;if(t+1+i>e.length){u.throwError("data too short",a.Logger.errors.BUFFER_OVERRUN,{})}const l=(0,o.hexlify)(e.slice(t+1,t+1+i));return{consumed:1+i,result:l}}return{consumed:1,result:(0,o.hexlify)(e[t])}}function decode(e){const t=(0,o.arrayify)(e);const i=_decode(t,0);if(i.consumed!==t.length){u.throwArgumentError("invalid rlp data","data",e)}return i.result}},"../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="sha2/5.8.0"},"../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/sha2.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{computeHmac:()=>computeHmac,ripemd160:()=>ripemd160,sha256:()=>sha256,sha512:()=>sha512});var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/types.js");var d=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/_version.js");const m=new d.Logger(p.version);function ripemd160(e){return"0x"+a().ripemd160().update((0,l.arrayify)(e)).digest("hex")}function sha256(e){return"0x"+a().sha256().update((0,l.arrayify)(e)).digest("hex")}function sha512(e){return"0x"+a().sha512().update((0,l.arrayify)(e)).digest("hex")}function computeHmac(e,t,i){if(!u.SupportedAlgorithm[e]){m.throwError("unsupported algorithm "+e,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e})}return"0x"+a().hmac(a()[e],(0,l.arrayify)(t)).update((0,l.arrayify)(i)).digest("hex")}},"../../node_modules/.pnpm/@ethersproject+sha2@5.8.0/node_modules/@ethersproject/sha2/lib.esm/types.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SupportedAlgorithm:()=>o});var o;(function(e){e["sha256"]="sha256";e["sha512"]="sha512"})(o||(o={}))},"../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="signing-key/5.7.0"},"../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/elliptic.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EC:()=>L});var o=i("../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js");var u=i.n(l);var d=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof i.g!=="undefined"?i.g:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule(e,t,i){return i={path:t,exports:{},require:function(e,t){return commonjsRequire(e,t===undefined||t===null?i.path:t)}},e(i,i.exports),i.exports}function getDefaultExportFromNamespaceIfPresent(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function getDefaultExportFromNamespaceIfNotNamed(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&Object.keys(e).length===1?e["default"]:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:true});Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:true,get:function(){return e[i]}})});return t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var p=assert;function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}assert.equal=function assertEqual(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var m=createCommonjsModule(function(e,t){"use strict";var i=t;function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e!=="string"){for(var o=0;o<e.length;o++)i[o]=e[o]|0;return i}if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var o=0;o<e.length;o+=2)i.push(parseInt(e[o]+e[o+1],16))}else{for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);var l=a>>8;var u=a&255;if(l)i.push(l,u);else i.push(u)}}return i}i.toArray=toArray;function zero2(e){if(e.length===1)return"0"+e;else return e}i.zero2=zero2;function toHex(e){var t="";for(var i=0;i<e.length;i++)t+=zero2(e[i].toString(16));return t}i.toHex=toHex;i.encode=function encode(e,t){if(t==="hex")return toHex(e);else return e}});var g=createCommonjsModule(function(e,t){"use strict";var i=t;i.assert=p;i.toArray=m.toArray;i.zero2=m.zero2;i.toHex=m.toHex;i.encode=m.encode;function getNAF(e,t,i){var o=new Array(Math.max(e.bitLength(),i)+1);o.fill(0);var a=1<<t+1;var l=e.clone();for(var u=0;u<o.length;u++){var d;var p=l.andln(a-1);if(l.isOdd()){if(p>(a>>1)-1)d=(a>>1)-p;else d=p;l.isubn(d)}else{d=0}o[u]=d;l.iushrn(1)}return o}i.getNAF=getNAF;function getJSF(e,t){var i=[[],[]];e=e.clone();t=t.clone();var o=0;var a=0;var l;while(e.cmpn(-o)>0||t.cmpn(-a)>0){var u=e.andln(3)+o&3;var d=t.andln(3)+a&3;if(u===3)u=-1;if(d===3)d=-1;var p;if((u&1)===0){p=0}else{l=e.andln(7)+o&7;if((l===3||l===5)&&d===2)p=-u;else p=u}i[0].push(p);var m;if((d&1)===0){m=0}else{l=t.andln(7)+a&7;if((l===3||l===5)&&u===2)m=-d;else m=d}i[1].push(m);if(2*o===p+1)o=1-o;if(2*a===m+1)a=1-a;e.iushrn(1);t.iushrn(1)}return i}i.getJSF=getJSF;function cachedProperty(e,t,i){var o="_"+t;e.prototype[t]=function cachedProperty(){return this[o]!==undefined?this[o]:this[o]=i.call(this)}}i.cachedProperty=cachedProperty;function parseBytes(e){return typeof e==="string"?i.toArray(e,"hex"):e}i.parseBytes=parseBytes;function intFromLE(e){return new(a())(e,"hex","le")}i.intFromLE=intFromLE});"use strict";var v=g.getNAF;var y=g.getJSF;var _=g.assert;function BaseCurve(e,t){this.type=e;this.p=new(a())(t.p,16);this.red=t.prime?a().red(t.prime):a().mont(this.p);this.zero=new(a())(0).toRed(this.red);this.one=new(a())(1).toRed(this.red);this.two=new(a())(2).toRed(this.red);this.n=t.n&&new(a())(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);if(!i||i.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}var w=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(e,t){_(e.precomputed);var i=e._getDoubles();var o=v(t,1,this._bitLength);var a=(1<<i.step+1)-(i.step%2===0?2:1);a/=3;var l=[];var u;var d;for(u=0;u<o.length;u+=i.step){d=0;for(var p=u+i.step-1;p>=u;p--)d=(d<<1)+o[p];l.push(d)}var m=this.jpoint(null,null,null);var g=this.jpoint(null,null,null);for(var y=a;y>0;y--){for(u=0;u<l.length;u++){d=l[u];if(d===y)g=g.mixedAdd(i.points[u]);else if(d===-y)g=g.mixedAdd(i.points[u].neg())}m=m.add(g)}return m.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(e,t){var i=4;var o=e._getNAFPoints(i);i=o.wnd;var a=o.points;var l=v(t,i,this._bitLength);var u=this.jpoint(null,null,null);for(var d=l.length-1;d>=0;d--){for(var p=0;d>=0&&l[d]===0;d--)p++;if(d>=0)p++;u=u.dblp(p);if(d<0)break;var m=l[d];_(m!==0);if(e.type==="affine"){if(m>0)u=u.mixedAdd(a[m-1>>1]);else u=u.mixedAdd(a[-m-1>>1].neg())}else{if(m>0)u=u.add(a[m-1>>1]);else u=u.add(a[-m-1>>1].neg())}}return e.type==="affine"?u.toP():u};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(e,t,i,o,a){var l=this._wnafT1;var u=this._wnafT2;var d=this._wnafT3;var p=0;var m;var g;var _;for(m=0;m<o;m++){_=t[m];var w=_._getNAFPoints(e);l[m]=w.wnd;u[m]=w.points}for(m=o-1;m>=1;m-=2){var A=m-1;var k=m;if(l[A]!==1||l[k]!==1){d[A]=v(i[A],l[A],this._bitLength);d[k]=v(i[k],l[k],this._bitLength);p=Math.max(d[A].length,p);p=Math.max(d[k].length,p);continue}var T=[t[A],null,null,t[k]];if(t[A].y.cmp(t[k].y)===0){T[1]=t[A].add(t[k]);T[2]=t[A].toJ().mixedAdd(t[k].neg())}else if(t[A].y.cmp(t[k].y.redNeg())===0){T[1]=t[A].toJ().mixedAdd(t[k]);T[2]=t[A].add(t[k].neg())}else{T[1]=t[A].toJ().mixedAdd(t[k]);T[2]=t[A].toJ().mixedAdd(t[k].neg())}var x=[-3,-1,-5,-7,0,7,5,1,3];var I=y(i[A],i[k]);p=Math.max(I[0].length,p);d[A]=new Array(p);d[k]=new Array(p);for(g=0;g<p;g++){var N=I[0][g]|0;var P=I[1][g]|0;d[A][g]=x[(N+1)*3+(P+1)];d[k][g]=0;u[A]=T}}var C=this.jpoint(null,null,null);var M=this._wnafT4;for(m=p;m>=0;m--){var B=0;while(m>=0){var j=true;for(g=0;g<o;g++){M[g]=d[g][m]|0;if(M[g]!==0)j=false}if(!j)break;B++;m--}if(m>=0)B++;C=C.dblp(B);if(m<0)break;for(g=0;g<o;g++){var O=M[g];_;if(O===0)continue;else if(O>0)_=u[g][O-1>>1];else if(O<0)_=u[g][-O-1>>1].neg();if(_.type==="affine")C=C.mixedAdd(_);else C=C.add(_)}}for(m=0;m<o;m++)u[m]=null;if(a)return C;else return C.toP()};function BasePoint(e,t){this.curve=e;this.type=t;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(e,t){e=g.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){if(e[0]===6)_(e[e.length-1]%2===0);else if(e[0]===7)_(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return o}else if((e[0]===2||e[0]===3)&&e.length-1===i){return this.pointFromX(e.slice(1,1+i),e[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(e){return this.encode(e,true)};BasePoint.prototype._encode=function _encode(e){var t=this.curve.p.byteLength();var i=this.getX().toArray("be",t);if(e)return[this.getY().isEven()?2:3].concat(i);return[4].concat(i,this.getY().toArray("be",t))};BasePoint.prototype.encode=function encode(e,t){return g.encode(this._encode(t),e)};BasePoint.prototype.precompute=function precompute(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};t.naf=this._getNAFPoints(8);t.doubles=this._getDoubles(4,e);t.beta=this._getBeta();this.precomputed=t;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(e){if(!this.precomputed)return false;var t=this.precomputed.doubles;if(!t)return false;return t.points.length>=Math.ceil((e.bitLength()+1)/t.step)};BasePoint.prototype._getDoubles=function _getDoubles(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var i=[this];var o=this;for(var a=0;a<t;a+=e){for(var l=0;l<e;l++)o=o.dbl();i.push(o)}return{step:e,points:i}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var t=[this];var i=(1<<e)-1;var o=i===1?null:this.dbl();for(var a=1;a<i;a++)t[a]=t[a-1].add(o);return{wnd:e,points:t}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(e){var t=this;for(var i=0;i<e;i++)t=t.dbl();return t};var A=createCommonjsModule(function(e){if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}});"use strict";var k=g.assert;function ShortCurve(e){w.call(this,"short",e);this.a=new(a())(e.a,16).toRed(this.red);this.b=new(a())(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}A(ShortCurve,w);var T=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(e){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var t;var i;if(e.beta){t=new(a())(e.beta,16).toRed(this.red)}else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1];t=t.toRed(this.red)}if(e.lambda){i=new(a())(e.lambda,16)}else{var l=this._getEndoRoots(this.n);if(this.g.mul(l[0]).x.cmp(this.g.x.redMul(t))===0){i=l[0]}else{i=l[1];k(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0)}}var u;if(e.basis){u=e.basis.map(function(e){return{a:new(a())(e.a,16),b:new(a())(e.b,16)}})}else{u=this._getEndoBasis(i)}return{beta:t,lambda:i,basis:u}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(e){var t=e===this.p?this.red:a().mont(e);var i=new(a())(2).toRed(t).redInvm();var o=i.redNeg();var l=new(a())(3).toRed(t).redNeg().redSqrt().redMul(i);var u=o.redAdd(l).fromRed();var d=o.redSub(l).fromRed();return[u,d]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(e){var t=this.n.ushrn(Math.floor(this.n.bitLength()/2));var i=e;var o=this.n.clone();var l=new(a())(1);var u=new(a())(0);var d=new(a())(0);var p=new(a())(1);var m;var g;var v;var y;var _;var w;var A;var k=0;var T;var x;while(i.cmpn(0)!==0){var I=o.div(i);T=o.sub(I.mul(i));x=d.sub(I.mul(l));var N=p.sub(I.mul(u));if(!v&&T.cmp(t)<0){m=A.neg();g=l;v=T.neg();y=x}else if(v&&++k===2){break}A=T;o=i;i=T;d=l;l=x;p=u;u=N}_=T.neg();w=x;var P=v.sqr().add(y.sqr());var C=_.sqr().add(w.sqr());if(C.cmp(P)>=0){_=m;w=g}if(v.negative){v=v.neg();y=y.neg()}if(_.negative){_=_.neg();w=w.neg()}return[{a:v,b:y},{a:_,b:w}]};ShortCurve.prototype._endoSplit=function _endoSplit(e){var t=this.endo.basis;var i=t[0];var o=t[1];var a=o.b.mul(e).divRound(this.n);var l=i.b.neg().mul(e).divRound(this.n);var u=a.mul(i.a);var d=l.mul(o.a);var p=a.mul(i.b);var m=l.mul(o.b);var g=e.sub(u).sub(d);var v=p.add(m).neg();return{k1:g,k2:v}};ShortCurve.prototype.pointFromX=function pointFromX(e,t){e=new(a())(e,16);if(!e.red)e=e.toRed(this.red);var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b);var o=i.redSqrt();if(o.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var l=o.fromRed().isOdd();if(t&&!l||!t&&l)o=o.redNeg();return this.point(e,o)};ShortCurve.prototype.validate=function validate(e){if(e.inf)return true;var t=e.x;var i=e.y;var o=this.a.redMul(t);var a=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return i.redSqr().redISub(a).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(e,t,i){var o=this._endoWnafT1;var a=this._endoWnafT2;for(var l=0;l<e.length;l++){var u=this._endoSplit(t[l]);var d=e[l];var p=d._getBeta();if(u.k1.negative){u.k1.ineg();d=d.neg(true)}if(u.k2.negative){u.k2.ineg();p=p.neg(true)}o[l*2]=d;o[l*2+1]=p;a[l*2]=u.k1;a[l*2+1]=u.k2}var m=this._wnafMulAdd(1,o,a,l*2,i);for(var g=0;g<l*2;g++){o[g]=null;a[g]=null}return m};function Point(e,t,i,o){w.BasePoint.call(this,e,"affine");if(t===null&&i===null){this.x=null;this.y=null;this.inf=true}else{this.x=new(a())(t,16);this.y=new(a())(i,16);if(o){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}A(Point,w.BasePoint);ShortCurve.prototype.point=function point(e,t,i){return new Point(this,e,t,i)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(e,t){return Point.fromJSON(this,e,t)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve;var endoMul=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t;t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(endoMul)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(endoMul)}}}return t};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(e,t,i){if(typeof t==="string")t=JSON.parse(t);var o=e.point(t[0],t[1],i);if(!t[2])return o;function obj2point(t){return e.point(t[0],t[1],i)}var a=t[2];o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(obj2point))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(obj2point))}};return o};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);if(t.cmpn(0)!==0)t=t.redMul(this.x.redSub(e.x).redInvm());var i=t.redSqr().redISub(this.x).redISub(e.x);var o=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,o)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a;var i=this.x.redSqr();var o=e.redInvm();var a=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(o);var l=a.redSqr().redISub(this.x.redAdd(this.x));var u=a.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,u)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(e){e=new(a())(e,16);if(this.isInfinity())return this;else if(this._hasDoubles(e))return this.curve._fixedNafMul(this,e);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[e]);else return this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function mulAdd(e,t,i){var o=[this,t];var a=[e,i];if(this.curve.endo)return this.curve._endoWnafMulAdd(o,a);else return this.curve._wnafMulAdd(1,o,a,2)};Point.prototype.jmulAdd=function jmulAdd(e,t,i){var o=[this,t];var a=[e,i];if(this.curve.endo)return this.curve._endoWnafMulAdd(o,a,true);else return this.curve._wnafMulAdd(1,o,a,2,true)};Point.prototype.eq=function eq(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point.prototype.neg=function neg(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed;var negate=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(negate)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(negate)}}}return t};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(e,t,i,o){w.BasePoint.call(this,e,"jacobian");if(t===null&&i===null&&o===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new(a())(0)}else{this.x=new(a())(t,16);this.y=new(a())(i,16);this.z=new(a())(o,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}A(JPoint,w.BasePoint);ShortCurve.prototype.jpoint=function jpoint(e,t,i){return new JPoint(this,e,t,i)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm();var t=e.redSqr();var i=this.x.redMul(t);var o=this.y.redMul(t).redMul(e);return this.curve.point(i,o)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr();var i=this.z.redSqr();var o=this.x.redMul(t);var a=e.x.redMul(i);var l=this.y.redMul(t.redMul(e.z));var u=e.y.redMul(i.redMul(this.z));var d=o.redSub(a);var p=l.redSub(u);if(d.cmpn(0)===0){if(p.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var m=d.redSqr();var g=m.redMul(d);var v=o.redMul(m);var y=p.redSqr().redIAdd(g).redISub(v).redISub(v);var _=p.redMul(v.redISub(y)).redISub(l.redMul(g));var w=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(y,_,w)};JPoint.prototype.mixedAdd=function mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr();var i=this.x;var o=e.x.redMul(t);var a=this.y;var l=e.y.redMul(t).redMul(this.z);var u=i.redSub(o);var d=a.redSub(l);if(u.cmpn(0)===0){if(d.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var p=u.redSqr();var m=p.redMul(u);var g=i.redMul(p);var v=d.redSqr().redIAdd(m).redISub(g).redISub(g);var y=d.redMul(g.redISub(v)).redISub(a.redMul(m));var _=this.z.redMul(u);return this.curve.jpoint(v,y,_)};JPoint.prototype.dblp=function dblp(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var o=this.curve.a;var a=this.curve.tinv;var l=this.x;var u=this.y;var d=this.z;var p=d.redSqr().redSqr();var m=u.redAdd(u);for(t=0;t<e;t++){var g=l.redSqr();var v=m.redSqr();var y=v.redSqr();var _=g.redAdd(g).redIAdd(g).redIAdd(o.redMul(p));var w=l.redMul(v);var A=_.redSqr().redISub(w.redAdd(w));var k=w.redISub(A);var T=_.redMul(k);T=T.redIAdd(T).redISub(y);var x=m.redMul(d);if(t+1<e)p=p.redMul(y);l=A;d=x;m=T}return this.curve.jpoint(l,m.redMul(a),d)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var e;var t;var i;if(this.zOne){var o=this.x.redSqr();var a=this.y.redSqr();var l=a.redSqr();var u=this.x.redAdd(a).redSqr().redISub(o).redISub(l);u=u.redIAdd(u);var d=o.redAdd(o).redIAdd(o);var p=d.redSqr().redISub(u).redISub(u);var m=l.redIAdd(l);m=m.redIAdd(m);m=m.redIAdd(m);e=p;t=d.redMul(u.redISub(p)).redISub(m);i=this.y.redAdd(this.y)}else{var g=this.x.redSqr();var v=this.y.redSqr();var y=v.redSqr();var _=this.x.redAdd(v).redSqr().redISub(g).redISub(y);_=_.redIAdd(_);var w=g.redAdd(g).redIAdd(g);var A=w.redSqr();var k=y.redIAdd(y);k=k.redIAdd(k);k=k.redIAdd(k);e=A.redISub(_).redISub(_);t=w.redMul(_.redISub(e)).redISub(k);i=this.y.redMul(this.z);i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};JPoint.prototype._threeDbl=function _threeDbl(){var e;var t;var i;if(this.zOne){var o=this.x.redSqr();var a=this.y.redSqr();var l=a.redSqr();var u=this.x.redAdd(a).redSqr().redISub(o).redISub(l);u=u.redIAdd(u);var d=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a);var p=d.redSqr().redISub(u).redISub(u);e=p;var m=l.redIAdd(l);m=m.redIAdd(m);m=m.redIAdd(m);t=d.redMul(u.redISub(p)).redISub(m);i=this.y.redAdd(this.y)}else{var g=this.z.redSqr();var v=this.y.redSqr();var y=this.x.redMul(v);var _=this.x.redSub(g).redMul(this.x.redAdd(g));_=_.redAdd(_).redIAdd(_);var w=y.redIAdd(y);w=w.redIAdd(w);var A=w.redAdd(w);e=_.redSqr().redISub(A);i=this.y.redAdd(this.z).redSqr().redISub(v).redISub(g);var k=v.redSqr();k=k.redIAdd(k);k=k.redIAdd(k);k=k.redIAdd(k);t=_.redMul(w.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,i)};JPoint.prototype._dbl=function _dbl(){var e=this.curve.a;var t=this.x;var i=this.y;var o=this.z;var a=o.redSqr().redSqr();var l=t.redSqr();var u=i.redSqr();var d=l.redAdd(l).redIAdd(l).redIAdd(e.redMul(a));var p=t.redAdd(t);p=p.redIAdd(p);var m=p.redMul(u);var g=d.redSqr().redISub(m.redAdd(m));var v=m.redISub(g);var y=u.redSqr();y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var _=d.redMul(v).redISub(y);var w=i.redAdd(i).redMul(o);return this.curve.jpoint(g,_,w)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr();var t=this.y.redSqr();var i=this.z.redSqr();var o=t.redSqr();var a=e.redAdd(e).redIAdd(e);var l=a.redSqr();var u=this.x.redAdd(t).redSqr().redISub(e).redISub(o);u=u.redIAdd(u);u=u.redAdd(u).redIAdd(u);u=u.redISub(l);var d=u.redSqr();var p=o.redIAdd(o);p=p.redIAdd(p);p=p.redIAdd(p);p=p.redIAdd(p);var m=a.redIAdd(u).redSqr().redISub(l).redISub(d).redISub(p);var g=t.redMul(m);g=g.redIAdd(g);g=g.redIAdd(g);var v=this.x.redMul(d).redISub(g);v=v.redIAdd(v);v=v.redIAdd(v);var y=this.y.redMul(m.redMul(p.redISub(m)).redISub(u.redMul(d)));y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var _=this.z.redAdd(u).redSqr().redISub(i).redISub(d);return this.curve.jpoint(v,y,_)};JPoint.prototype.mul=function mul(e,t){e=new(a())(e,t);return this.curve._wnafMul(this,e)};JPoint.prototype.eq=function eq(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return true;var t=this.z.redSqr();var i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return false;var o=t.redMul(this.z);var a=i.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(o)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(e){var t=this.z.redSqr();var i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return true;var o=e.clone();var a=this.curve.redN.redMul(t);for(;;){o.iadd(this.curve.n);if(o.cmp(this.curve.p)>=0)return false;i.redIAdd(a);if(this.x.cmp(i)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};var x=createCommonjsModule(function(e,t){"use strict";var i=t;i.base=w;i.short=T;i.mont=null;i.edwards=null});var I=createCommonjsModule(function(e,t){"use strict";var i=t;var o=g.assert;function PresetCurve(e){if(e.type==="short")this.curve=new x.short(e);else if(e.type==="edwards")this.curve=new x.edwards(e);else this.curve=new x.mont(e);this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;o(this.g.validate(),"Invalid curve");o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i.PresetCurve=PresetCurve;function defineCurve(e,t){Object.defineProperty(i,e,{configurable:true,enumerable:true,get:function(){var o=new PresetCurve(t);Object.defineProperty(i,e,{configurable:true,enumerable:true,value:o});return o}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u().sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u().sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u().sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u().sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u().sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u().sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u().sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch(e){a=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});"use strict";function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=m.toArray(e.entropy,e.entropyEnc||"hex");var i=m.toArray(e.nonce,e.nonceEnc||"hex");var o=m.toArray(e.pers,e.persEnc||"hex");p(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,i,o)}var N=HmacDRBG;HmacDRBG.prototype._init=function init(e,t,i){var o=e.concat(t).concat(i);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++){this.K[a]=0;this.V[a]=1}this._update(o);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new(u().hmac)(this.hash,this.K)};HmacDRBG.prototype._update=function update(e){var t=this._hmac().update(this.V).update([0]);if(e)t=t.update(e);this.K=t.digest();this.V=this._hmac().update(this.V).digest();if(!e)return;this.K=this._hmac().update(this.V).update([1]).update(e).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(e,t,i,o){if(typeof t!=="string"){o=i;i=t;t=null}e=m.toArray(e,t);i=m.toArray(i,o);p(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(e.concat(i||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(e,t,i,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof t!=="string"){o=i;i=t;t=null}if(i){i=m.toArray(i,o||"hex");this._update(i)}var a=[];while(a.length<e){this.V=this._hmac().update(this.V).digest();a=a.concat(this.V)}var l=a.slice(0,e);this._update(i);this._reseed++;return m.encode(l,t)};"use strict";var P=g.assert;function KeyPair(e,t){this.ec=e;this.priv=null;this.pub=null;if(t.priv)this._importPrivate(t.priv,t.privEnc);if(t.pub)this._importPublic(t.pub,t.pubEnc)}var C=KeyPair;KeyPair.fromPublic=function fromPublic(e,t,i){if(t instanceof KeyPair)return t;return new KeyPair(e,{pub:t,pubEnc:i})};KeyPair.fromPrivate=function fromPrivate(e,t,i){if(t instanceof KeyPair)return t;return new KeyPair(e,{priv:t,privEnc:i})};KeyPair.prototype.validate=function validate(){var e=this.getPublic();if(e.isInfinity())return{result:false,reason:"Invalid public key"};if(!e.validate())return{result:false,reason:"Public key is not a point"};if(!e.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(e,t){if(typeof e==="string"){t=e;e=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!t)return this.pub;return this.pub.encode(t,e)};KeyPair.prototype.getPrivate=function getPrivate(e){if(e==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(e,t){this.priv=new(a())(e,t||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(e,t){if(e.x||e.y){if(this.ec.curve.type==="mont"){P(e.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){P(e.x&&e.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};KeyPair.prototype.derive=function derive(e){if(!e.validate()){P(e.validate(),"public point not validated")}return e.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(e,t,i){return this.ec.sign(e,this,t,i)};KeyPair.prototype.verify=function verify(e,t){return this.ec.verify(e,t,this)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};"use strict";var M=g.assert;function Signature(e,t){if(e instanceof Signature)return e;if(this._importDER(e,t))return;M(e.r&&e.s,"Signature without r or s");this.r=new(a())(e.r,16);this.s=new(a())(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}var B=Signature;function Position(){this.place=0}function getLength(e,t){var i=e[t.place++];if(!(i&128)){return i}var o=i&15;if(o===0||o>4){return false}var a=0;for(var l=0,u=t.place;l<o;l++,u++){a<<=8;a|=e[u];a>>>=0}if(a<=127){return false}t.place=u;return a}function rmPadding(e){var t=0;var i=e.length-1;while(!e[t]&&!(e[t+1]&128)&&t<i){t++}if(t===0){return e}return e.slice(t)}Signature.prototype._importDER=function _importDER(e,t){e=g.toArray(e,t);var i=new Position;if(e[i.place++]!==48){return false}var o=getLength(e,i);if(o===false){return false}if(o+i.place!==e.length){return false}if(e[i.place++]!==2){return false}var l=getLength(e,i);if(l===false){return false}var u=e.slice(i.place,l+i.place);i.place+=l;if(e[i.place++]!==2){return false}var d=getLength(e,i);if(d===false){return false}if(e.length!==d+i.place){return false}var p=e.slice(i.place,d+i.place);if(u[0]===0){if(u[1]&128){u=u.slice(1)}else{return false}}if(p[0]===0){if(p[1]&128){p=p.slice(1)}else{return false}}this.r=new(a())(u);this.s=new(a())(p);this.recoveryParam=null;return true};function constructLength(e,t){if(t<128){e.push(t);return}var i=1+(Math.log(t)/Math.LN2>>>3);e.push(i|128);while(--i){e.push(t>>>(i<<3)&255)}e.push(t)}Signature.prototype.toDER=function toDER(e){var t=this.r.toArray();var i=this.s.toArray();if(t[0]&128)t=[0].concat(t);if(i[0]&128)i=[0].concat(i);t=rmPadding(t);i=rmPadding(i);while(!i[0]&&!(i[1]&128)){i=i.slice(1)}var o=[2];constructLength(o,t.length);o=o.concat(t);o.push(2);constructLength(o,i.length);var a=o.concat(i);var l=[48];constructLength(l,a.length);l=l.concat(a);return g.encode(l,e)};"use strict";var rand=function(){throw new Error("unsupported")};var j=g.assert;function EC(e){if(!(this instanceof EC))return new EC(e);if(typeof e==="string"){j(Object.prototype.hasOwnProperty.call(I,e),"Unknown curve "+e);e=I[e]}if(e instanceof I.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}var O=EC;EC.prototype.keyPair=function keyPair(e){return new C(this,e)};EC.prototype.keyFromPrivate=function keyFromPrivate(e,t){return C.fromPrivate(this,e,t)};EC.prototype.keyFromPublic=function keyFromPublic(e,t){return C.fromPublic(this,e,t)};EC.prototype.genKeyPair=function genKeyPair(e){if(!e)e={};var t=new N({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});var i=this.n.byteLength();var o=this.n.sub(new(a())(2));for(;;){var l=new(a())(t.generate(i));if(l.cmp(o)>0)continue;l.iaddn(1);return this.keyFromPrivate(l)}};EC.prototype._truncateToN=function _truncateToN(e,t){var i=e.byteLength()*8-this.n.bitLength();if(i>0)e=e.ushrn(i);if(!t&&e.cmp(this.n)>=0)return e.sub(this.n);else return e};EC.prototype.sign=function sign(e,t,i,o){if(typeof i==="object"){o=i;i=null}if(!o)o={};t=this.keyFromPrivate(t,i);e=this._truncateToN(new(a())(e,16));var l=this.n.byteLength();var u=t.getPrivate().toArray("be",l);var d=e.toArray("be",l);var p=new N({hash:this.hash,entropy:u,nonce:d,pers:o.pers,persEnc:o.persEnc||"utf8"});var m=this.n.sub(new(a())(1));for(var g=0;;g++){var v=o.k?o.k(g):new(a())(p.generate(this.n.byteLength()));v=this._truncateToN(v,true);if(v.cmpn(1)<=0||v.cmp(m)>=0)continue;var y=this.g.mul(v);if(y.isInfinity())continue;var _=y.getX();var w=_.umod(this.n);if(w.cmpn(0)===0)continue;var A=v.invm(this.n).mul(w.mul(t.getPrivate()).iadd(e));A=A.umod(this.n);if(A.cmpn(0)===0)continue;var k=(y.getY().isOdd()?1:0)|(_.cmp(w)!==0?2:0);if(o.canonical&&A.cmp(this.nh)>0){A=this.n.sub(A);k^=1}return new B({r:w,s:A,recoveryParam:k})}};EC.prototype.verify=function verify(e,t,i,o){e=this._truncateToN(new(a())(e,16));i=this.keyFromPublic(i,o);t=new B(t,"hex");var l=t.r;var u=t.s;if(l.cmpn(1)<0||l.cmp(this.n)>=0)return false;if(u.cmpn(1)<0||u.cmp(this.n)>=0)return false;var d=u.invm(this.n);var p=d.mul(e).umod(this.n);var m=d.mul(l).umod(this.n);var g;if(!this.curve._maxwellTrick){g=this.g.mulAdd(p,i.getPublic(),m);if(g.isInfinity())return false;return g.getX().umod(this.n).cmp(l)===0}g=this.g.jmulAdd(p,i.getPublic(),m);if(g.isInfinity())return false;return g.eqXToP(l)};EC.prototype.recoverPubKey=function(e,t,i,o){j((3&i)===i,"The recovery param is more than two bits");t=new B(t,o);var l=this.n;var u=new(a())(e);var d=t.r;var p=t.s;var m=i&1;var g=i>>1;if(d.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");if(g)d=this.curve.pointFromX(d.add(this.curve.n),m);else d=this.curve.pointFromX(d,m);var v=t.r.invm(l);var y=l.sub(u).mul(v).umod(l);var _=p.mul(v).umod(l);return this.g.mulAdd(y,d,_)};EC.prototype.getKeyRecoveryParam=function(e,t,i,o){t=new B(t,o);if(t.recoveryParam!==null)return t.recoveryParam;for(var a=0;a<4;a++){var l;try{l=this.recoverPubKey(e,t,a)}catch(e){continue}if(l.eq(i))return a}throw new Error("Unable to find valid recovery factor")};var D=createCommonjsModule(function(e,t){"use strict";var i=t;i.version={version:"6.5.4"}.version;i.utils=g;i.rand=function(){throw new Error("unsupported")};i.curve=x;i.curves=I;i.ec=O;i.eddsa=null});var L=D.ec},"../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SigningKey:()=>SigningKey,computePublicKey:()=>computePublicKey,recoverPublicKey:()=>recoverPublicKey});var o=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/elliptic.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/_version.js");const p=new u.Logger(d.version);let m=null;function getCurve(){if(!m){m=new o.EC("secp256k1")}return m}class SigningKey{constructor(e){(0,l.defineReadOnly)(this,"curve","secp256k1");(0,l.defineReadOnly)(this,"privateKey",(0,a.hexlify)(e));if((0,a.hexDataLength)(this.privateKey)!==32){p.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]")}const t=getCurve().keyFromPrivate((0,a.arrayify)(this.privateKey));(0,l.defineReadOnly)(this,"publicKey","0x"+t.getPublic(false,"hex"));(0,l.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(true,"hex"));(0,l.defineReadOnly)(this,"_isSigningKey",true)}_addPoint(e){const t=getCurve().keyFromPublic((0,a.arrayify)(this.publicKey));const i=getCurve().keyFromPublic((0,a.arrayify)(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve().keyFromPrivate((0,a.arrayify)(this.privateKey));const i=(0,a.arrayify)(e);if(i.length!==32){p.throwArgumentError("bad digest length","digest",e)}const o=t.sign(i,{canonical:true});return(0,a.splitSignature)({recoveryParam:o.recoveryParam,r:(0,a.hexZeroPad)("0x"+o.r.toString(16),32),s:(0,a.hexZeroPad)("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve().keyFromPrivate((0,a.arrayify)(this.privateKey));const i=getCurve().keyFromPublic((0,a.arrayify)(computePublicKey(e)));return(0,a.hexZeroPad)("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function recoverPublicKey(e,t){const i=(0,a.splitSignature)(t);const o={r:(0,a.arrayify)(i.r),s:(0,a.arrayify)(i.s)};return"0x"+getCurve().recoverPubKey((0,a.arrayify)(e),o,i.recoveryParam).encode("hex",false)}function computePublicKey(e,t){const i=(0,a.arrayify)(e);if(i.length===32){const e=new SigningKey(i);if(t){return"0x"+getCurve().keyFromPrivate(i).getPublic(true,"hex")}return e.publicKey}else if(i.length===33){if(t){return(0,a.hexlify)(i)}return"0x"+getCurve().keyFromPublic(i).getPublic(false,"hex")}else if(i.length===65){if(!t){return(0,a.hexlify)(i)}return"0x"+getCurve().keyFromPublic(i).getPublic(true,"hex")}return p.throwArgumentError("invalid public or private key","key","[REDACTED]")}},"../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="signing-key/5.8.0"},"../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/elliptic.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EC:()=>L});var o=i("../../node_modules/.pnpm/bn.js@5.2.2/node_modules/bn.js/lib/bn.js");var a=i.n(o);var l=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js");var u=i.n(l);var d=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof i.g!=="undefined"?i.g:typeof self!=="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function createCommonjsModule(e,t,i){return i={path:t,exports:{},require:function(e,t){return commonjsRequire(e,t===undefined||t===null?i.path:t)}},e(i,i.exports),i.exports}function getDefaultExportFromNamespaceIfPresent(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function getDefaultExportFromNamespaceIfNotNamed(e){return e&&Object.prototype.hasOwnProperty.call(e,"default")&&Object.keys(e).length===1?e["default"]:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:true});Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:true,get:function(){return e[i]}})});return t}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var p=assert;function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}assert.equal=function assertEqual(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var m=createCommonjsModule(function(e,t){"use strict";var i=t;function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e!=="string"){for(var o=0;o<e.length;o++)i[o]=e[o]|0;return i}if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var o=0;o<e.length;o+=2)i.push(parseInt(e[o]+e[o+1],16))}else{for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);var l=a>>8;var u=a&255;if(l)i.push(l,u);else i.push(u)}}return i}i.toArray=toArray;function zero2(e){if(e.length===1)return"0"+e;else return e}i.zero2=zero2;function toHex(e){var t="";for(var i=0;i<e.length;i++)t+=zero2(e[i].toString(16));return t}i.toHex=toHex;i.encode=function encode(e,t){if(t==="hex")return toHex(e);else return e}});var g=createCommonjsModule(function(e,t){"use strict";var i=t;i.assert=p;i.toArray=m.toArray;i.zero2=m.zero2;i.toHex=m.toHex;i.encode=m.encode;function getNAF(e,t,i){var o=new Array(Math.max(e.bitLength(),i)+1);var a;for(a=0;a<o.length;a+=1){o[a]=0}var l=1<<t+1;var u=e.clone();for(a=0;a<o.length;a++){var d;var p=u.andln(l-1);if(u.isOdd()){if(p>(l>>1)-1)d=(l>>1)-p;else d=p;u.isubn(d)}else{d=0}o[a]=d;u.iushrn(1)}return o}i.getNAF=getNAF;function getJSF(e,t){var i=[[],[]];e=e.clone();t=t.clone();var o=0;var a=0;var l;while(e.cmpn(-o)>0||t.cmpn(-a)>0){var u=e.andln(3)+o&3;var d=t.andln(3)+a&3;if(u===3)u=-1;if(d===3)d=-1;var p;if((u&1)===0){p=0}else{l=e.andln(7)+o&7;if((l===3||l===5)&&d===2)p=-u;else p=u}i[0].push(p);var m;if((d&1)===0){m=0}else{l=t.andln(7)+a&7;if((l===3||l===5)&&u===2)m=-d;else m=d}i[1].push(m);if(2*o===p+1)o=1-o;if(2*a===m+1)a=1-a;e.iushrn(1);t.iushrn(1)}return i}i.getJSF=getJSF;function cachedProperty(e,t,i){var o="_"+t;e.prototype[t]=function cachedProperty(){return this[o]!==undefined?this[o]:this[o]=i.call(this)}}i.cachedProperty=cachedProperty;function parseBytes(e){return typeof e==="string"?i.toArray(e,"hex"):e}i.parseBytes=parseBytes;function intFromLE(e){return new(a())(e,"hex","le")}i.intFromLE=intFromLE});"use strict";var v=g.getNAF;var y=g.getJSF;var _=g.assert;function BaseCurve(e,t){this.type=e;this.p=new(a())(t.p,16);this.red=t.prime?a().red(t.prime):a().mont(this.p);this.zero=new(a())(0).toRed(this.red);this.one=new(a())(1).toRed(this.red);this.two=new(a())(2).toRed(this.red);this.n=t.n&&new(a())(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);if(!i||i.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}var w=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(e,t){_(e.precomputed);var i=e._getDoubles();var o=v(t,1,this._bitLength);var a=(1<<i.step+1)-(i.step%2===0?2:1);a/=3;var l=[];var u;var d;for(u=0;u<o.length;u+=i.step){d=0;for(var p=u+i.step-1;p>=u;p--)d=(d<<1)+o[p];l.push(d)}var m=this.jpoint(null,null,null);var g=this.jpoint(null,null,null);for(var y=a;y>0;y--){for(u=0;u<l.length;u++){d=l[u];if(d===y)g=g.mixedAdd(i.points[u]);else if(d===-y)g=g.mixedAdd(i.points[u].neg())}m=m.add(g)}return m.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(e,t){var i=4;var o=e._getNAFPoints(i);i=o.wnd;var a=o.points;var l=v(t,i,this._bitLength);var u=this.jpoint(null,null,null);for(var d=l.length-1;d>=0;d--){for(var p=0;d>=0&&l[d]===0;d--)p++;if(d>=0)p++;u=u.dblp(p);if(d<0)break;var m=l[d];_(m!==0);if(e.type==="affine"){if(m>0)u=u.mixedAdd(a[m-1>>1]);else u=u.mixedAdd(a[-m-1>>1].neg())}else{if(m>0)u=u.add(a[m-1>>1]);else u=u.add(a[-m-1>>1].neg())}}return e.type==="affine"?u.toP():u};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(e,t,i,o,a){var l=this._wnafT1;var u=this._wnafT2;var d=this._wnafT3;var p=0;var m;var g;var _;for(m=0;m<o;m++){_=t[m];var w=_._getNAFPoints(e);l[m]=w.wnd;u[m]=w.points}for(m=o-1;m>=1;m-=2){var A=m-1;var k=m;if(l[A]!==1||l[k]!==1){d[A]=v(i[A],l[A],this._bitLength);d[k]=v(i[k],l[k],this._bitLength);p=Math.max(d[A].length,p);p=Math.max(d[k].length,p);continue}var T=[t[A],null,null,t[k]];if(t[A].y.cmp(t[k].y)===0){T[1]=t[A].add(t[k]);T[2]=t[A].toJ().mixedAdd(t[k].neg())}else if(t[A].y.cmp(t[k].y.redNeg())===0){T[1]=t[A].toJ().mixedAdd(t[k]);T[2]=t[A].add(t[k].neg())}else{T[1]=t[A].toJ().mixedAdd(t[k]);T[2]=t[A].toJ().mixedAdd(t[k].neg())}var x=[-3,-1,-5,-7,0,7,5,1,3];var I=y(i[A],i[k]);p=Math.max(I[0].length,p);d[A]=new Array(p);d[k]=new Array(p);for(g=0;g<p;g++){var N=I[0][g]|0;var P=I[1][g]|0;d[A][g]=x[(N+1)*3+(P+1)];d[k][g]=0;u[A]=T}}var C=this.jpoint(null,null,null);var M=this._wnafT4;for(m=p;m>=0;m--){var B=0;while(m>=0){var j=true;for(g=0;g<o;g++){M[g]=d[g][m]|0;if(M[g]!==0)j=false}if(!j)break;B++;m--}if(m>=0)B++;C=C.dblp(B);if(m<0)break;for(g=0;g<o;g++){var O=M[g];_;if(O===0)continue;else if(O>0)_=u[g][O-1>>1];else if(O<0)_=u[g][-O-1>>1].neg();if(_.type==="affine")C=C.mixedAdd(_);else C=C.add(_)}}for(m=0;m<o;m++)u[m]=null;if(a)return C;else return C.toP()};function BasePoint(e,t){this.curve=e;this.type=t;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(e,t){e=g.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){if(e[0]===6)_(e[e.length-1]%2===0);else if(e[0]===7)_(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return o}else if((e[0]===2||e[0]===3)&&e.length-1===i){return this.pointFromX(e.slice(1,1+i),e[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(e){return this.encode(e,true)};BasePoint.prototype._encode=function _encode(e){var t=this.curve.p.byteLength();var i=this.getX().toArray("be",t);if(e)return[this.getY().isEven()?2:3].concat(i);return[4].concat(i,this.getY().toArray("be",t))};BasePoint.prototype.encode=function encode(e,t){return g.encode(this._encode(t),e)};BasePoint.prototype.precompute=function precompute(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};t.naf=this._getNAFPoints(8);t.doubles=this._getDoubles(4,e);t.beta=this._getBeta();this.precomputed=t;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(e){if(!this.precomputed)return false;var t=this.precomputed.doubles;if(!t)return false;return t.points.length>=Math.ceil((e.bitLength()+1)/t.step)};BasePoint.prototype._getDoubles=function _getDoubles(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var i=[this];var o=this;for(var a=0;a<t;a+=e){for(var l=0;l<e;l++)o=o.dbl();i.push(o)}return{step:e,points:i}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var t=[this];var i=(1<<e)-1;var o=i===1?null:this.dbl();for(var a=1;a<i;a++)t[a]=t[a-1].add(o);return{wnd:e,points:t}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(e){var t=this;for(var i=0;i<e;i++)t=t.dbl();return t};var A=createCommonjsModule(function(e){if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}});"use strict";var k=g.assert;function ShortCurve(e){w.call(this,"short",e);this.a=new(a())(e.a,16).toRed(this.red);this.b=new(a())(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}A(ShortCurve,w);var T=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(e){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var t;var i;if(e.beta){t=new(a())(e.beta,16).toRed(this.red)}else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1];t=t.toRed(this.red)}if(e.lambda){i=new(a())(e.lambda,16)}else{var l=this._getEndoRoots(this.n);if(this.g.mul(l[0]).x.cmp(this.g.x.redMul(t))===0){i=l[0]}else{i=l[1];k(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0)}}var u;if(e.basis){u=e.basis.map(function(e){return{a:new(a())(e.a,16),b:new(a())(e.b,16)}})}else{u=this._getEndoBasis(i)}return{beta:t,lambda:i,basis:u}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(e){var t=e===this.p?this.red:a().mont(e);var i=new(a())(2).toRed(t).redInvm();var o=i.redNeg();var l=new(a())(3).toRed(t).redNeg().redSqrt().redMul(i);var u=o.redAdd(l).fromRed();var d=o.redSub(l).fromRed();return[u,d]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(e){var t=this.n.ushrn(Math.floor(this.n.bitLength()/2));var i=e;var o=this.n.clone();var l=new(a())(1);var u=new(a())(0);var d=new(a())(0);var p=new(a())(1);var m;var g;var v;var y;var _;var w;var A;var k=0;var T;var x;while(i.cmpn(0)!==0){var I=o.div(i);T=o.sub(I.mul(i));x=d.sub(I.mul(l));var N=p.sub(I.mul(u));if(!v&&T.cmp(t)<0){m=A.neg();g=l;v=T.neg();y=x}else if(v&&++k===2){break}A=T;o=i;i=T;d=l;l=x;p=u;u=N}_=T.neg();w=x;var P=v.sqr().add(y.sqr());var C=_.sqr().add(w.sqr());if(C.cmp(P)>=0){_=m;w=g}if(v.negative){v=v.neg();y=y.neg()}if(_.negative){_=_.neg();w=w.neg()}return[{a:v,b:y},{a:_,b:w}]};ShortCurve.prototype._endoSplit=function _endoSplit(e){var t=this.endo.basis;var i=t[0];var o=t[1];var a=o.b.mul(e).divRound(this.n);var l=i.b.neg().mul(e).divRound(this.n);var u=a.mul(i.a);var d=l.mul(o.a);var p=a.mul(i.b);var m=l.mul(o.b);var g=e.sub(u).sub(d);var v=p.add(m).neg();return{k1:g,k2:v}};ShortCurve.prototype.pointFromX=function pointFromX(e,t){e=new(a())(e,16);if(!e.red)e=e.toRed(this.red);var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b);var o=i.redSqrt();if(o.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var l=o.fromRed().isOdd();if(t&&!l||!t&&l)o=o.redNeg();return this.point(e,o)};ShortCurve.prototype.validate=function validate(e){if(e.inf)return true;var t=e.x;var i=e.y;var o=this.a.redMul(t);var a=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return i.redSqr().redISub(a).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(e,t,i){var o=this._endoWnafT1;var a=this._endoWnafT2;for(var l=0;l<e.length;l++){var u=this._endoSplit(t[l]);var d=e[l];var p=d._getBeta();if(u.k1.negative){u.k1.ineg();d=d.neg(true)}if(u.k2.negative){u.k2.ineg();p=p.neg(true)}o[l*2]=d;o[l*2+1]=p;a[l*2]=u.k1;a[l*2+1]=u.k2}var m=this._wnafMulAdd(1,o,a,l*2,i);for(var g=0;g<l*2;g++){o[g]=null;a[g]=null}return m};function Point(e,t,i,o){w.BasePoint.call(this,e,"affine");if(t===null&&i===null){this.x=null;this.y=null;this.inf=true}else{this.x=new(a())(t,16);this.y=new(a())(i,16);if(o){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}A(Point,w.BasePoint);ShortCurve.prototype.point=function point(e,t,i){return new Point(this,e,t,i)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(e,t){return Point.fromJSON(this,e,t)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve;var endoMul=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t;t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(endoMul)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(endoMul)}}}return t};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(e,t,i){if(typeof t==="string")t=JSON.parse(t);var o=e.point(t[0],t[1],i);if(!t[2])return o;function obj2point(t){return e.point(t[0],t[1],i)}var a=t[2];o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(obj2point))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(obj2point))}};return o};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);if(t.cmpn(0)!==0)t=t.redMul(this.x.redSub(e.x).redInvm());var i=t.redSqr().redISub(this.x).redISub(e.x);var o=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,o)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a;var i=this.x.redSqr();var o=e.redInvm();var a=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(o);var l=a.redSqr().redISub(this.x.redAdd(this.x));var u=a.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,u)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(e){e=new(a())(e,16);if(this.isInfinity())return this;else if(this._hasDoubles(e))return this.curve._fixedNafMul(this,e);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[e]);else return this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function mulAdd(e,t,i){var o=[this,t];var a=[e,i];if(this.curve.endo)return this.curve._endoWnafMulAdd(o,a);else return this.curve._wnafMulAdd(1,o,a,2)};Point.prototype.jmulAdd=function jmulAdd(e,t,i){var o=[this,t];var a=[e,i];if(this.curve.endo)return this.curve._endoWnafMulAdd(o,a,true);else return this.curve._wnafMulAdd(1,o,a,2,true)};Point.prototype.eq=function eq(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point.prototype.neg=function neg(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed;var negate=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(negate)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(negate)}}}return t};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(e,t,i,o){w.BasePoint.call(this,e,"jacobian");if(t===null&&i===null&&o===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new(a())(0)}else{this.x=new(a())(t,16);this.y=new(a())(i,16);this.z=new(a())(o,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}A(JPoint,w.BasePoint);ShortCurve.prototype.jpoint=function jpoint(e,t,i){return new JPoint(this,e,t,i)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm();var t=e.redSqr();var i=this.x.redMul(t);var o=this.y.redMul(t).redMul(e);return this.curve.point(i,o)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr();var i=this.z.redSqr();var o=this.x.redMul(t);var a=e.x.redMul(i);var l=this.y.redMul(t.redMul(e.z));var u=e.y.redMul(i.redMul(this.z));var d=o.redSub(a);var p=l.redSub(u);if(d.cmpn(0)===0){if(p.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var m=d.redSqr();var g=m.redMul(d);var v=o.redMul(m);var y=p.redSqr().redIAdd(g).redISub(v).redISub(v);var _=p.redMul(v.redISub(y)).redISub(l.redMul(g));var w=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(y,_,w)};JPoint.prototype.mixedAdd=function mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr();var i=this.x;var o=e.x.redMul(t);var a=this.y;var l=e.y.redMul(t).redMul(this.z);var u=i.redSub(o);var d=a.redSub(l);if(u.cmpn(0)===0){if(d.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var p=u.redSqr();var m=p.redMul(u);var g=i.redMul(p);var v=d.redSqr().redIAdd(m).redISub(g).redISub(g);var y=d.redMul(g.redISub(v)).redISub(a.redMul(m));var _=this.z.redMul(u);return this.curve.jpoint(v,y,_)};JPoint.prototype.dblp=function dblp(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var o=this.curve.a;var a=this.curve.tinv;var l=this.x;var u=this.y;var d=this.z;var p=d.redSqr().redSqr();var m=u.redAdd(u);for(t=0;t<e;t++){var g=l.redSqr();var v=m.redSqr();var y=v.redSqr();var _=g.redAdd(g).redIAdd(g).redIAdd(o.redMul(p));var w=l.redMul(v);var A=_.redSqr().redISub(w.redAdd(w));var k=w.redISub(A);var T=_.redMul(k);T=T.redIAdd(T).redISub(y);var x=m.redMul(d);if(t+1<e)p=p.redMul(y);l=A;d=x;m=T}return this.curve.jpoint(l,m.redMul(a),d)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var e;var t;var i;if(this.zOne){var o=this.x.redSqr();var a=this.y.redSqr();var l=a.redSqr();var u=this.x.redAdd(a).redSqr().redISub(o).redISub(l);u=u.redIAdd(u);var d=o.redAdd(o).redIAdd(o);var p=d.redSqr().redISub(u).redISub(u);var m=l.redIAdd(l);m=m.redIAdd(m);m=m.redIAdd(m);e=p;t=d.redMul(u.redISub(p)).redISub(m);i=this.y.redAdd(this.y)}else{var g=this.x.redSqr();var v=this.y.redSqr();var y=v.redSqr();var _=this.x.redAdd(v).redSqr().redISub(g).redISub(y);_=_.redIAdd(_);var w=g.redAdd(g).redIAdd(g);var A=w.redSqr();var k=y.redIAdd(y);k=k.redIAdd(k);k=k.redIAdd(k);e=A.redISub(_).redISub(_);t=w.redMul(_.redISub(e)).redISub(k);i=this.y.redMul(this.z);i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};JPoint.prototype._threeDbl=function _threeDbl(){var e;var t;var i;if(this.zOne){var o=this.x.redSqr();var a=this.y.redSqr();var l=a.redSqr();var u=this.x.redAdd(a).redSqr().redISub(o).redISub(l);u=u.redIAdd(u);var d=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a);var p=d.redSqr().redISub(u).redISub(u);e=p;var m=l.redIAdd(l);m=m.redIAdd(m);m=m.redIAdd(m);t=d.redMul(u.redISub(p)).redISub(m);i=this.y.redAdd(this.y)}else{var g=this.z.redSqr();var v=this.y.redSqr();var y=this.x.redMul(v);var _=this.x.redSub(g).redMul(this.x.redAdd(g));_=_.redAdd(_).redIAdd(_);var w=y.redIAdd(y);w=w.redIAdd(w);var A=w.redAdd(w);e=_.redSqr().redISub(A);i=this.y.redAdd(this.z).redSqr().redISub(v).redISub(g);var k=v.redSqr();k=k.redIAdd(k);k=k.redIAdd(k);k=k.redIAdd(k);t=_.redMul(w.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,i)};JPoint.prototype._dbl=function _dbl(){var e=this.curve.a;var t=this.x;var i=this.y;var o=this.z;var a=o.redSqr().redSqr();var l=t.redSqr();var u=i.redSqr();var d=l.redAdd(l).redIAdd(l).redIAdd(e.redMul(a));var p=t.redAdd(t);p=p.redIAdd(p);var m=p.redMul(u);var g=d.redSqr().redISub(m.redAdd(m));var v=m.redISub(g);var y=u.redSqr();y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var _=d.redMul(v).redISub(y);var w=i.redAdd(i).redMul(o);return this.curve.jpoint(g,_,w)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr();var t=this.y.redSqr();var i=this.z.redSqr();var o=t.redSqr();var a=e.redAdd(e).redIAdd(e);var l=a.redSqr();var u=this.x.redAdd(t).redSqr().redISub(e).redISub(o);u=u.redIAdd(u);u=u.redAdd(u).redIAdd(u);u=u.redISub(l);var d=u.redSqr();var p=o.redIAdd(o);p=p.redIAdd(p);p=p.redIAdd(p);p=p.redIAdd(p);var m=a.redIAdd(u).redSqr().redISub(l).redISub(d).redISub(p);var g=t.redMul(m);g=g.redIAdd(g);g=g.redIAdd(g);var v=this.x.redMul(d).redISub(g);v=v.redIAdd(v);v=v.redIAdd(v);var y=this.y.redMul(m.redMul(p.redISub(m)).redISub(u.redMul(d)));y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var _=this.z.redAdd(u).redSqr().redISub(i).redISub(d);return this.curve.jpoint(v,y,_)};JPoint.prototype.mul=function mul(e,t){e=new(a())(e,t);return this.curve._wnafMul(this,e)};JPoint.prototype.eq=function eq(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return true;var t=this.z.redSqr();var i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return false;var o=t.redMul(this.z);var a=i.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(o)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(e){var t=this.z.redSqr();var i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return true;var o=e.clone();var a=this.curve.redN.redMul(t);for(;;){o.iadd(this.curve.n);if(o.cmp(this.curve.p)>=0)return false;i.redIAdd(a);if(this.x.cmp(i)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};var x=createCommonjsModule(function(e,t){"use strict";var i=t;i.base=w;i.short=T;i.mont=null;i.edwards=null});var I=createCommonjsModule(function(e,t){"use strict";var i=t;var o=g.assert;function PresetCurve(e){if(e.type==="short")this.curve=new x.short(e);else if(e.type==="edwards")this.curve=new x.edwards(e);else this.curve=new x.mont(e);this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;o(this.g.validate(),"Invalid curve");o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i.PresetCurve=PresetCurve;function defineCurve(e,t){Object.defineProperty(i,e,{configurable:true,enumerable:true,get:function(){var o=new PresetCurve(t);Object.defineProperty(i,e,{configurable:true,enumerable:true,value:o});return o}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u().sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u().sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u().sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u().sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u().sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u().sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u().sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch(e){a=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});"use strict";function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=m.toArray(e.entropy,e.entropyEnc||"hex");var i=m.toArray(e.nonce,e.nonceEnc||"hex");var o=m.toArray(e.pers,e.persEnc||"hex");p(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,i,o)}var N=HmacDRBG;HmacDRBG.prototype._init=function init(e,t,i){var o=e.concat(t).concat(i);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++){this.K[a]=0;this.V[a]=1}this._update(o);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new(u().hmac)(this.hash,this.K)};HmacDRBG.prototype._update=function update(e){var t=this._hmac().update(this.V).update([0]);if(e)t=t.update(e);this.K=t.digest();this.V=this._hmac().update(this.V).digest();if(!e)return;this.K=this._hmac().update(this.V).update([1]).update(e).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(e,t,i,o){if(typeof t!=="string"){o=i;i=t;t=null}e=m.toArray(e,t);i=m.toArray(i,o);p(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(e.concat(i||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(e,t,i,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof t!=="string"){o=i;i=t;t=null}if(i){i=m.toArray(i,o||"hex");this._update(i)}var a=[];while(a.length<e){this.V=this._hmac().update(this.V).digest();a=a.concat(this.V)}var l=a.slice(0,e);this._update(i);this._reseed++;return m.encode(l,t)};"use strict";var P=g.assert;function KeyPair(e,t){this.ec=e;this.priv=null;this.pub=null;if(t.priv)this._importPrivate(t.priv,t.privEnc);if(t.pub)this._importPublic(t.pub,t.pubEnc)}var C=KeyPair;KeyPair.fromPublic=function fromPublic(e,t,i){if(t instanceof KeyPair)return t;return new KeyPair(e,{pub:t,pubEnc:i})};KeyPair.fromPrivate=function fromPrivate(e,t,i){if(t instanceof KeyPair)return t;return new KeyPair(e,{priv:t,privEnc:i})};KeyPair.prototype.validate=function validate(){var e=this.getPublic();if(e.isInfinity())return{result:false,reason:"Invalid public key"};if(!e.validate())return{result:false,reason:"Public key is not a point"};if(!e.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(e,t){if(typeof e==="string"){t=e;e=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!t)return this.pub;return this.pub.encode(t,e)};KeyPair.prototype.getPrivate=function getPrivate(e){if(e==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(e,t){this.priv=new(a())(e,t||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(e,t){if(e.x||e.y){if(this.ec.curve.type==="mont"){P(e.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){P(e.x&&e.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};KeyPair.prototype.derive=function derive(e){if(!e.validate()){P(e.validate(),"public point not validated")}return e.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(e,t,i){return this.ec.sign(e,this,t,i)};KeyPair.prototype.verify=function verify(e,t,i){return this.ec.verify(e,t,this,undefined,i)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};"use strict";var M=g.assert;function Signature(e,t){if(e instanceof Signature)return e;if(this._importDER(e,t))return;M(e.r&&e.s,"Signature without r or s");this.r=new(a())(e.r,16);this.s=new(a())(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}var B=Signature;function Position(){this.place=0}function getLength(e,t){var i=e[t.place++];if(!(i&128)){return i}var o=i&15;if(o===0||o>4){return false}if(e[t.place]===0){return false}var a=0;for(var l=0,u=t.place;l<o;l++,u++){a<<=8;a|=e[u];a>>>=0}if(a<=127){return false}t.place=u;return a}function rmPadding(e){var t=0;var i=e.length-1;while(!e[t]&&!(e[t+1]&128)&&t<i){t++}if(t===0){return e}return e.slice(t)}Signature.prototype._importDER=function _importDER(e,t){e=g.toArray(e,t);var i=new Position;if(e[i.place++]!==48){return false}var o=getLength(e,i);if(o===false){return false}if(o+i.place!==e.length){return false}if(e[i.place++]!==2){return false}var l=getLength(e,i);if(l===false){return false}if((e[i.place]&128)!==0){return false}var u=e.slice(i.place,l+i.place);i.place+=l;if(e[i.place++]!==2){return false}var d=getLength(e,i);if(d===false){return false}if(e.length!==d+i.place){return false}if((e[i.place]&128)!==0){return false}var p=e.slice(i.place,d+i.place);if(u[0]===0){if(u[1]&128){u=u.slice(1)}else{return false}}if(p[0]===0){if(p[1]&128){p=p.slice(1)}else{return false}}this.r=new(a())(u);this.s=new(a())(p);this.recoveryParam=null;return true};function constructLength(e,t){if(t<128){e.push(t);return}var i=1+(Math.log(t)/Math.LN2>>>3);e.push(i|128);while(--i){e.push(t>>>(i<<3)&255)}e.push(t)}Signature.prototype.toDER=function toDER(e){var t=this.r.toArray();var i=this.s.toArray();if(t[0]&128)t=[0].concat(t);if(i[0]&128)i=[0].concat(i);t=rmPadding(t);i=rmPadding(i);while(!i[0]&&!(i[1]&128)){i=i.slice(1)}var o=[2];constructLength(o,t.length);o=o.concat(t);o.push(2);constructLength(o,i.length);var a=o.concat(i);var l=[48];constructLength(l,a.length);l=l.concat(a);return g.encode(l,e)};"use strict";var rand=function(){throw new Error("unsupported")};var j=g.assert;function EC(e){if(!(this instanceof EC))return new EC(e);if(typeof e==="string"){j(Object.prototype.hasOwnProperty.call(I,e),"Unknown curve "+e);e=I[e]}if(e instanceof I.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}var O=EC;EC.prototype.keyPair=function keyPair(e){return new C(this,e)};EC.prototype.keyFromPrivate=function keyFromPrivate(e,t){return C.fromPrivate(this,e,t)};EC.prototype.keyFromPublic=function keyFromPublic(e,t){return C.fromPublic(this,e,t)};EC.prototype.genKeyPair=function genKeyPair(e){if(!e)e={};var t=new N({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});var i=this.n.byteLength();var o=this.n.sub(new(a())(2));for(;;){var l=new(a())(t.generate(i));if(l.cmp(o)>0)continue;l.iaddn(1);return this.keyFromPrivate(l)}};EC.prototype._truncateToN=function _truncateToN(e,t,i){var o;if(a().isBN(e)||typeof e==="number"){e=new(a())(e,16);o=e.byteLength()}else if(typeof e==="object"){o=e.length;e=new(a())(e,16)}else{var l=e.toString();o=l.length+1>>>1;e=new(a())(l,16)}if(typeof i!=="number"){i=o*8}var u=i-this.n.bitLength();if(u>0)e=e.ushrn(u);if(!t&&e.cmp(this.n)>=0)return e.sub(this.n);else return e};EC.prototype.sign=function sign(e,t,i,o){if(typeof i==="object"){o=i;i=null}if(!o)o={};if(typeof e!=="string"&&typeof e!=="number"&&!a().isBN(e)){j(typeof e==="object"&&e&&typeof e.length==="number","Expected message to be an array-like, a hex string, or a BN instance");j(e.length>>>0===e.length);for(var l=0;l<e.length;l++)j((e[l]&255)===e[l])}t=this.keyFromPrivate(t,i);e=this._truncateToN(e,false,o.msgBitLength);j(!e.isNeg(),"Can not sign a negative message");var u=this.n.byteLength();var d=t.getPrivate().toArray("be",u);var p=e.toArray("be",u);j(new(a())(p).eq(e),"Can not sign message");var m=new N({hash:this.hash,entropy:d,nonce:p,pers:o.pers,persEnc:o.persEnc||"utf8"});var g=this.n.sub(new(a())(1));for(var v=0;;v++){var y=o.k?o.k(v):new(a())(m.generate(this.n.byteLength()));y=this._truncateToN(y,true);if(y.cmpn(1)<=0||y.cmp(g)>=0)continue;var _=this.g.mul(y);if(_.isInfinity())continue;var w=_.getX();var A=w.umod(this.n);if(A.cmpn(0)===0)continue;var k=y.invm(this.n).mul(A.mul(t.getPrivate()).iadd(e));k=k.umod(this.n);if(k.cmpn(0)===0)continue;var T=(_.getY().isOdd()?1:0)|(w.cmp(A)!==0?2:0);if(o.canonical&&k.cmp(this.nh)>0){k=this.n.sub(k);T^=1}return new B({r:A,s:k,recoveryParam:T})}};EC.prototype.verify=function verify(e,t,i,o,a){if(!a)a={};e=this._truncateToN(e,false,a.msgBitLength);i=this.keyFromPublic(i,o);t=new B(t,"hex");var l=t.r;var u=t.s;if(l.cmpn(1)<0||l.cmp(this.n)>=0)return false;if(u.cmpn(1)<0||u.cmp(this.n)>=0)return false;var d=u.invm(this.n);var p=d.mul(e).umod(this.n);var m=d.mul(l).umod(this.n);var g;if(!this.curve._maxwellTrick){g=this.g.mulAdd(p,i.getPublic(),m);if(g.isInfinity())return false;return g.getX().umod(this.n).cmp(l)===0}g=this.g.jmulAdd(p,i.getPublic(),m);if(g.isInfinity())return false;return g.eqXToP(l)};EC.prototype.recoverPubKey=function(e,t,i,o){j((3&i)===i,"The recovery param is more than two bits");t=new B(t,o);var l=this.n;var u=new(a())(e);var d=t.r;var p=t.s;var m=i&1;var g=i>>1;if(d.cmp(this.curve.p.umod(this.curve.n))>=0&&g)throw new Error("Unable to find sencond key candinate");if(g)d=this.curve.pointFromX(d.add(this.curve.n),m);else d=this.curve.pointFromX(d,m);var v=t.r.invm(l);var y=l.sub(u).mul(v).umod(l);var _=p.mul(v).umod(l);return this.g.mulAdd(y,d,_)};EC.prototype.getKeyRecoveryParam=function(e,t,i,o){t=new B(t,o);if(t.recoveryParam!==null)return t.recoveryParam;for(var a=0;a<4;a++){var l;try{l=this.recoverPubKey(e,t,a)}catch(e){continue}if(l.eq(i))return a}throw new Error("Unable to find valid recovery factor")};var D=createCommonjsModule(function(e,t){"use strict";var i=t;i.version={version:"6.6.1"}.version;i.utils=g;i.rand=function(){throw new Error("unsupported")};i.curve=x;i.curves=I;i.ec=O;i.eddsa=null});var L=D.ec},"../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SigningKey:()=>SigningKey,computePublicKey:()=>computePublicKey,recoverPublicKey:()=>recoverPublicKey});var o=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/elliptic.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/_version.js");const p=new u.Logger(d.version);let m=null;function getCurve(){if(!m){m=new o.EC("secp256k1")}return m}class SigningKey{constructor(e){(0,l.defineReadOnly)(this,"curve","secp256k1");(0,l.defineReadOnly)(this,"privateKey",(0,a.hexlify)(e));if((0,a.hexDataLength)(this.privateKey)!==32){p.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]")}const t=getCurve().keyFromPrivate((0,a.arrayify)(this.privateKey));(0,l.defineReadOnly)(this,"publicKey","0x"+t.getPublic(false,"hex"));(0,l.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(true,"hex"));(0,l.defineReadOnly)(this,"_isSigningKey",true)}_addPoint(e){const t=getCurve().keyFromPublic((0,a.arrayify)(this.publicKey));const i=getCurve().keyFromPublic((0,a.arrayify)(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){const t=getCurve().keyFromPrivate((0,a.arrayify)(this.privateKey));const i=(0,a.arrayify)(e);if(i.length!==32){p.throwArgumentError("bad digest length","digest",e)}const o=t.sign(i,{canonical:true});return(0,a.splitSignature)({recoveryParam:o.recoveryParam,r:(0,a.hexZeroPad)("0x"+o.r.toString(16),32),s:(0,a.hexZeroPad)("0x"+o.s.toString(16),32)})}computeSharedSecret(e){const t=getCurve().keyFromPrivate((0,a.arrayify)(this.privateKey));const i=getCurve().keyFromPublic((0,a.arrayify)(computePublicKey(e)));return(0,a.hexZeroPad)("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function recoverPublicKey(e,t){const i=(0,a.splitSignature)(t);const o={r:(0,a.arrayify)(i.r),s:(0,a.arrayify)(i.s)};return"0x"+getCurve().recoverPubKey((0,a.arrayify)(e),o,i.recoveryParam).encode("hex",false)}function computePublicKey(e,t){const i=(0,a.arrayify)(e);if(i.length===32){const e=new SigningKey(i);if(t){return"0x"+getCurve().keyFromPrivate(i).getPublic(true,"hex")}return e.publicKey}else if(i.length===33){if(t){return(0,a.hexlify)(i)}return"0x"+getCurve().keyFromPublic(i).getPublic(false,"hex")}else if(i.length===65){if(!t){return(0,a.hexlify)(i)}return"0x"+getCurve().keyFromPublic(i).getPublic(true,"hex")}return p.throwArgumentError("invalid public or private key","key","[REDACTED]")}},"../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="strings/5.8.0"},"../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{UnicodeNormalizationForm:()=>d,Utf8ErrorFuncs:()=>m,Utf8ErrorReason:()=>p,_toEscapedUtf8String:()=>_toEscapedUtf8String,_toUtf8String:()=>_toUtf8String,toUtf8Bytes:()=>toUtf8Bytes,toUtf8CodePoints:()=>toUtf8CodePoints,toUtf8String:()=>toUtf8String});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/_version.js");const u=new a.Logger(l.version);var d;(function(e){e["current"]="";e["NFC"]="NFC";e["NFD"]="NFD";e["NFKC"]="NFKC";e["NFKD"]="NFKD"})(d||(d={}));var p;(function(e){e["UNEXPECTED_CONTINUE"]="unexpected continuation byte";e["BAD_PREFIX"]="bad codepoint prefix";e["OVERRUN"]="string overrun";e["MISSING_CONTINUE"]="missing continuation byte";e["OUT_OF_RANGE"]="out of UTF-8 range";e["UTF16_SURROGATE"]="UTF-16 surrogate";e["OVERLONG"]="overlong representation"})(p||(p={}));function errorFunc(e,t,i,o,a){return u.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",i)}function ignoreFunc(e,t,i,o,a){if(e===p.BAD_PREFIX||e===p.UNEXPECTED_CONTINUE){let e=0;for(let o=t+1;o<i.length;o++){if(i[o]>>6!==2){break}e++}return e}if(e===p.OVERRUN){return i.length-t-1}return 0}function replaceFunc(e,t,i,o,a){if(e===p.OVERLONG){o.push(a);return 0}o.push(65533);return ignoreFunc(e,t,i,o,a)}const m=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(e,t){if(t==null){t=m.error}e=(0,o.arrayify)(e);const i=[];let a=0;while(a<e.length){const o=e[a++];if(o>>7===0){i.push(o);continue}let l=null;let u=null;if((o&224)===192){l=1;u=127}else if((o&240)===224){l=2;u=2047}else if((o&248)===240){l=3;u=65535}else{if((o&192)===128){a+=t(p.UNEXPECTED_CONTINUE,a-1,e,i)}else{a+=t(p.BAD_PREFIX,a-1,e,i)}continue}if(a-1+l>=e.length){a+=t(p.OVERRUN,a-1,e,i);continue}let d=o&(1<<8-l-1)-1;for(let o=0;o<l;o++){let o=e[a];if((o&192)!=128){a+=t(p.MISSING_CONTINUE,a,e,i);d=null;break}d=d<<6|o&63;a++}if(d===null){continue}if(d>1114111){a+=t(p.OUT_OF_RANGE,a-1-l,e,i,d);continue}if(d>=55296&&d<=57343){a+=t(p.UTF16_SURROGATE,a-1-l,e,i,d);continue}if(d<=u){a+=t(p.OVERLONG,a-1-l,e,i,d);continue}i.push(d)}return i}function toUtf8Bytes(e,t=d.current){if(t!=d.current){u.checkNormalize();e=e.normalize(t)}let i=[];for(let t=0;t<e.length;t++){const o=e.charCodeAt(t);if(o<128){i.push(o)}else if(o<2048){i.push(o>>6|192);i.push(o&63|128)}else if((o&64512)==55296){t++;const a=e.charCodeAt(t);if(t>=e.length||(a&64512)!==56320){throw new Error("invalid utf-8 string")}const l=65536+((o&1023)<<10)+(a&1023);i.push(l>>18|240);i.push(l>>12&63|128);i.push(l>>6&63|128);i.push(l&63|128)}else{i.push(o>>12|224);i.push(o>>6&63|128);i.push(o&63|128)}}return(0,o.arrayify)(i)}function escapeChar(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function _toEscapedUtf8String(e,t){return'"'+getUtf8CodePoints(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127){return String.fromCharCode(e)}}if(e<=65535){return escapeChar(e)}e-=65536;return escapeChar((e>>10&1023)+55296)+escapeChar((e&1023)+56320)}).join("")+'"'}function _toUtf8String(e){return e.map(e=>{if(e<=65535){return String.fromCharCode(e)}e-=65536;return String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320)}).join("")}function toUtf8String(e,t){return _toUtf8String(getUtf8CodePoints(e,t))}function toUtf8CodePoints(e,t=d.current){return getUtf8CodePoints(toUtf8Bytes(e,t))}},"../../node_modules/.pnpm/@ethersproject+transactions@5.7.0/node_modules/@ethersproject/transactions/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="transactions/5.7.0"},"../../node_modules/.pnpm/@ethersproject+transactions@5.7.0/node_modules/@ethersproject/transactions/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TransactionTypes:()=>w,accessListify:()=>accessListify,computeAddress:()=>computeAddress,parse:()=>parse,recoverAddress:()=>recoverAddress,serialize:()=>serialize});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+constants@5.7.0/node_modules/@ethersproject/constants/lib.esm/bignumbers.js");var d=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+rlp@5.7.0/node_modules/@ethersproject/rlp/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/index.js");var v=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var y=i("../../node_modules/.pnpm/@ethersproject+transactions@5.7.0/node_modules/@ethersproject/transactions/lib.esm/_version.js");const _=new v.Logger(y.version);var w;(function(e){e[e["legacy"]=0]="legacy";e[e["eip2930"]=1]="eip2930";e[e["eip1559"]=2]="eip1559"})(w||(w={}));function handleAddress(e){if(e==="0x"){return null}return(0,o.getAddress)(e)}function handleNumber(e){if(e==="0x"){return u.Zero}return a.BigNumber.from(e)}const A=[{name:"nonce",maxLength:32,numeric:true},{name:"gasPrice",maxLength:32,numeric:true},{name:"gasLimit",maxLength:32,numeric:true},{name:"to",length:20},{name:"value",maxLength:32,numeric:true},{name:"data"}];const k={chainId:true,data:true,gasLimit:true,gasPrice:true,nonce:true,to:true,type:true,value:true};function computeAddress(e){const t=(0,g.computePublicKey)(e);return(0,o.getAddress)((0,l.hexDataSlice)((0,d.keccak256)((0,l.hexDataSlice)(t,1)),12))}function recoverAddress(e,t){return computeAddress((0,g.recoverPublicKey)((0,l.arrayify)(e),t))}function formatNumber(e,t){const i=(0,l.stripZeros)(a.BigNumber.from(e).toHexString());if(i.length>32){_.throwArgumentError("invalid length for "+t,"transaction:"+t,e)}return i}function accessSetify(e,t){return{address:(0,o.getAddress)(e),storageKeys:(t||[]).map((t,i)=>{if((0,l.hexDataLength)(t)!==32){_.throwArgumentError("invalid access list storageKey",`accessList[${e}:${i}]`,t)}return t.toLowerCase()})}}function accessListify(e){if(Array.isArray(e)){return e.map((e,t)=>{if(Array.isArray(e)){if(e.length>2){_.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e)}return accessSetify(e[0],e[1])}return accessSetify(e.address,e.storageKeys)})}const t=Object.keys(e).map(t=>{const i=e[t].reduce((e,t)=>{e[t]=true;return e},{});return accessSetify(t,Object.keys(i).sort())});t.sort((e,t)=>e.address.localeCompare(t.address));return t}function formatAccessList(e){return accessListify(e).map(e=>[e.address,e.storageKeys])}function _serializeEip1559(e,t){if(e.gasPrice!=null){const t=a.BigNumber.from(e.gasPrice);const i=a.BigNumber.from(e.maxFeePerGas||0);if(!t.eq(i)){_.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:i})}}const i=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit||0,"gasLimit"),e.to!=null?(0,o.getAddress)(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=(0,l.splitSignature)(t);i.push(formatNumber(e.recoveryParam,"recoveryParam"));i.push((0,l.stripZeros)(e.r));i.push((0,l.stripZeros)(e.s))}return(0,l.hexConcat)(["0x02",m.encode(i)])}function _serializeEip2930(e,t){const i=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit||0,"gasLimit"),e.to!=null?(0,o.getAddress)(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=(0,l.splitSignature)(t);i.push(formatNumber(e.recoveryParam,"recoveryParam"));i.push((0,l.stripZeros)(e.r));i.push((0,l.stripZeros)(e.s))}return(0,l.hexConcat)(["0x01",m.encode(i)])}function _serialize(e,t){(0,p.checkProperties)(e,k);const i=[];A.forEach(function(t){let o=e[t.name]||[];const a={};if(t.numeric){a.hexPad="left"}o=(0,l.arrayify)((0,l.hexlify)(o,a));if(t.length&&o.length!==t.length&&o.length>0){_.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,o)}if(t.maxLength){o=(0,l.stripZeros)(o);if(o.length>t.maxLength){_.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,o)}}i.push((0,l.hexlify)(o))});let o=0;if(e.chainId!=null){o=e.chainId;if(typeof o!=="number"){_.throwArgumentError("invalid transaction.chainId","transaction",e)}}else if(t&&!(0,l.isBytesLike)(t)&&t.v>28){o=Math.floor((t.v-35)/2)}if(o!==0){i.push((0,l.hexlify)(o));i.push("0x");i.push("0x")}if(!t){return m.encode(i)}const a=(0,l.splitSignature)(t);let u=27+a.recoveryParam;if(o!==0){i.pop();i.pop();i.pop();u+=o*2+8;if(a.v>28&&a.v!==u){_.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}}else if(a.v!==u){_.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}i.push((0,l.hexlify)(u));i.push((0,l.stripZeros)((0,l.arrayify)(a.r)));i.push((0,l.stripZeros)((0,l.arrayify)(a.s)));return m.encode(i)}function serialize(e,t){if(e.type==null||e.type===0){if(e.accessList!=null){_.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e)}return _serialize(e,t)}switch(e.type){case 1:return _serializeEip2930(e,t);case 2:return _serializeEip1559(e,t);default:break}return _.throwError(`unsupported transaction type: ${e.type}`,v.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature(e,t,i){try{const i=handleNumber(t[0]).toNumber();if(i!==0&&i!==1){throw new Error("bad recid")}e.v=i}catch(e){_.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,l.hexZeroPad)(t[1],32);e.s=(0,l.hexZeroPad)(t[2],32);try{const t=(0,d.keccak256)(i(e));e.from=recoverAddress(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function _parseEip1559(e){const t=m.decode(e.slice(1));if(t.length!==9&&t.length!==12){_.throwArgumentError("invalid component count for transaction type: 2","payload",(0,l.hexlify)(e))}const i=handleNumber(t[2]);const o=handleNumber(t[3]);const a={type:2,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),maxPriorityFeePerGas:i,maxFeePerGas:o,gasPrice:null,gasLimit:handleNumber(t[4]),to:handleAddress(t[5]),value:handleNumber(t[6]),data:t[7],accessList:accessListify(t[8])};if(t.length===9){return a}a.hash=(0,d.keccak256)(e);_parseEipSignature(a,t.slice(9),_serializeEip1559);return a}function _parseEip2930(e){const t=m.decode(e.slice(1));if(t.length!==8&&t.length!==11){_.throwArgumentError("invalid component count for transaction type: 1","payload",(0,l.hexlify)(e))}const i={type:1,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),gasPrice:handleNumber(t[2]),gasLimit:handleNumber(t[3]),to:handleAddress(t[4]),value:handleNumber(t[5]),data:t[6],accessList:accessListify(t[7])};if(t.length===8){return i}i.hash=(0,d.keccak256)(e);_parseEipSignature(i,t.slice(8),_serializeEip2930);return i}function _parse(e){const t=m.decode(e);if(t.length!==9&&t.length!==6){_.throwArgumentError("invalid raw transaction","rawTransaction",e)}const i={nonce:handleNumber(t[0]).toNumber(),gasPrice:handleNumber(t[1]),gasLimit:handleNumber(t[2]),to:handleAddress(t[3]),value:handleNumber(t[4]),data:t[5],chainId:0};if(t.length===6){return i}try{i.v=a.BigNumber.from(t[6]).toNumber()}catch(e){return i}i.r=(0,l.hexZeroPad)(t[7],32);i.s=(0,l.hexZeroPad)(t[8],32);if(a.BigNumber.from(i.r).isZero()&&a.BigNumber.from(i.s).isZero()){i.chainId=i.v;i.v=0}else{i.chainId=Math.floor((i.v-35)/2);if(i.chainId<0){i.chainId=0}let o=i.v-27;const a=t.slice(0,6);if(i.chainId!==0){a.push((0,l.hexlify)(i.chainId));a.push("0x");a.push("0x");o-=i.chainId*2+8}const u=(0,d.keccak256)(m.encode(a));try{i.from=recoverAddress(u,{r:(0,l.hexlify)(i.r),s:(0,l.hexlify)(i.s),recoveryParam:o})}catch(e){}i.hash=(0,d.keccak256)(e)}i.type=null;return i}function parse(e){const t=(0,l.arrayify)(e);if(t[0]>127){return _parse(t)}switch(t[0]){case 1:return _parseEip2930(t);case 2:return _parseEip1559(t);default:break}return _.throwError(`unsupported transaction type: ${t[0]}`,v.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}},"../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="transactions/5.8.0"},"../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TransactionTypes:()=>w,accessListify:()=>accessListify,computeAddress:()=>computeAddress,parse:()=>parse,recoverAddress:()=>recoverAddress,serialize:()=>serialize});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.8.0/node_modules/@ethersproject/address/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.8.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var l=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+constants@5.8.0/node_modules/@ethersproject/constants/lib.esm/bignumbers.js");var d=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+rlp@5.8.0/node_modules/@ethersproject/rlp/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.8.0/node_modules/@ethersproject/signing-key/lib.esm/index.js");var v=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var y=i("../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/_version.js");const _=new v.Logger(y.version);var w;(function(e){e[e["legacy"]=0]="legacy";e[e["eip2930"]=1]="eip2930";e[e["eip1559"]=2]="eip1559"})(w||(w={}));function handleAddress(e){if(e==="0x"){return null}return(0,o.getAddress)(e)}function handleNumber(e){if(e==="0x"){return u.Zero}return a.BigNumber.from(e)}const A=[{name:"nonce",maxLength:32,numeric:true},{name:"gasPrice",maxLength:32,numeric:true},{name:"gasLimit",maxLength:32,numeric:true},{name:"to",length:20},{name:"value",maxLength:32,numeric:true},{name:"data"}];const k={chainId:true,data:true,gasLimit:true,gasPrice:true,nonce:true,to:true,type:true,value:true};function computeAddress(e){const t=(0,g.computePublicKey)(e);return(0,o.getAddress)((0,l.hexDataSlice)((0,d.keccak256)((0,l.hexDataSlice)(t,1)),12))}function recoverAddress(e,t){return computeAddress((0,g.recoverPublicKey)((0,l.arrayify)(e),t))}function formatNumber(e,t){const i=(0,l.stripZeros)(a.BigNumber.from(e).toHexString());if(i.length>32){_.throwArgumentError("invalid length for "+t,"transaction:"+t,e)}return i}function accessSetify(e,t){return{address:(0,o.getAddress)(e),storageKeys:(t||[]).map((t,i)=>{if((0,l.hexDataLength)(t)!==32){_.throwArgumentError("invalid access list storageKey",`accessList[${e}:${i}]`,t)}return t.toLowerCase()})}}function accessListify(e){if(Array.isArray(e)){return e.map((e,t)=>{if(Array.isArray(e)){if(e.length>2){_.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e)}return accessSetify(e[0],e[1])}return accessSetify(e.address,e.storageKeys)})}const t=Object.keys(e).map(t=>{const i=e[t].reduce((e,t)=>{e[t]=true;return e},{});return accessSetify(t,Object.keys(i).sort())});t.sort((e,t)=>e.address.localeCompare(t.address));return t}function formatAccessList(e){return accessListify(e).map(e=>[e.address,e.storageKeys])}function _serializeEip1559(e,t){if(e.gasPrice!=null){const t=a.BigNumber.from(e.gasPrice);const i=a.BigNumber.from(e.maxFeePerGas||0);if(!t.eq(i)){_.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:i})}}const i=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit||0,"gasLimit"),e.to!=null?(0,o.getAddress)(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=(0,l.splitSignature)(t);i.push(formatNumber(e.recoveryParam,"recoveryParam"));i.push((0,l.stripZeros)(e.r));i.push((0,l.stripZeros)(e.s))}return(0,l.hexConcat)(["0x02",m.encode(i)])}function _serializeEip2930(e,t){const i=[formatNumber(e.chainId||0,"chainId"),formatNumber(e.nonce||0,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit||0,"gasLimit"),e.to!=null?(0,o.getAddress)(e.to):"0x",formatNumber(e.value||0,"value"),e.data||"0x",formatAccessList(e.accessList||[])];if(t){const e=(0,l.splitSignature)(t);i.push(formatNumber(e.recoveryParam,"recoveryParam"));i.push((0,l.stripZeros)(e.r));i.push((0,l.stripZeros)(e.s))}return(0,l.hexConcat)(["0x01",m.encode(i)])}function _serialize(e,t){(0,p.checkProperties)(e,k);const i=[];A.forEach(function(t){let o=e[t.name]||[];const a={};if(t.numeric){a.hexPad="left"}o=(0,l.arrayify)((0,l.hexlify)(o,a));if(t.length&&o.length!==t.length&&o.length>0){_.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,o)}if(t.maxLength){o=(0,l.stripZeros)(o);if(o.length>t.maxLength){_.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,o)}}i.push((0,l.hexlify)(o))});let o=0;if(e.chainId!=null){o=e.chainId;if(typeof o!=="number"){_.throwArgumentError("invalid transaction.chainId","transaction",e)}}else if(t&&!(0,l.isBytesLike)(t)&&t.v>28){o=Math.floor((t.v-35)/2)}if(o!==0){i.push((0,l.hexlify)(o));i.push("0x");i.push("0x")}if(!t){return m.encode(i)}const a=(0,l.splitSignature)(t);let u=27+a.recoveryParam;if(o!==0){i.pop();i.pop();i.pop();u+=o*2+8;if(a.v>28&&a.v!==u){_.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}}else if(a.v!==u){_.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)}i.push((0,l.hexlify)(u));i.push((0,l.stripZeros)((0,l.arrayify)(a.r)));i.push((0,l.stripZeros)((0,l.arrayify)(a.s)));return m.encode(i)}function serialize(e,t){if(e.type==null||e.type===0){if(e.accessList!=null){_.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e)}return _serialize(e,t)}switch(e.type){case 1:return _serializeEip2930(e,t);case 2:return _serializeEip1559(e,t);default:break}return _.throwError(`unsupported transaction type: ${e.type}`,v.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function _parseEipSignature(e,t,i){try{const i=handleNumber(t[0]).toNumber();if(i!==0&&i!==1){throw new Error("bad recid")}e.v=i}catch(e){_.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,l.hexZeroPad)(t[1],32);e.s=(0,l.hexZeroPad)(t[2],32);try{const t=(0,d.keccak256)(i(e));e.from=recoverAddress(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function _parseEip1559(e){const t=m.decode(e.slice(1));if(t.length!==9&&t.length!==12){_.throwArgumentError("invalid component count for transaction type: 2","payload",(0,l.hexlify)(e))}const i=handleNumber(t[2]);const o=handleNumber(t[3]);const a={type:2,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),maxPriorityFeePerGas:i,maxFeePerGas:o,gasPrice:null,gasLimit:handleNumber(t[4]),to:handleAddress(t[5]),value:handleNumber(t[6]),data:t[7],accessList:accessListify(t[8])};if(t.length===9){return a}a.hash=(0,d.keccak256)(e);_parseEipSignature(a,t.slice(9),_serializeEip1559);return a}function _parseEip2930(e){const t=m.decode(e.slice(1));if(t.length!==8&&t.length!==11){_.throwArgumentError("invalid component count for transaction type: 1","payload",(0,l.hexlify)(e))}const i={type:1,chainId:handleNumber(t[0]).toNumber(),nonce:handleNumber(t[1]).toNumber(),gasPrice:handleNumber(t[2]),gasLimit:handleNumber(t[3]),to:handleAddress(t[4]),value:handleNumber(t[5]),data:t[6],accessList:accessListify(t[7])};if(t.length===8){return i}i.hash=(0,d.keccak256)(e);_parseEipSignature(i,t.slice(8),_serializeEip2930);return i}function _parse(e){const t=m.decode(e);if(t.length!==9&&t.length!==6){_.throwArgumentError("invalid raw transaction","rawTransaction",e)}const i={nonce:handleNumber(t[0]).toNumber(),gasPrice:handleNumber(t[1]),gasLimit:handleNumber(t[2]),to:handleAddress(t[3]),value:handleNumber(t[4]),data:t[5],chainId:0};if(t.length===6){return i}try{i.v=a.BigNumber.from(t[6]).toNumber()}catch(e){return i}i.r=(0,l.hexZeroPad)(t[7],32);i.s=(0,l.hexZeroPad)(t[8],32);if(a.BigNumber.from(i.r).isZero()&&a.BigNumber.from(i.s).isZero()){i.chainId=i.v;i.v=0}else{i.chainId=Math.floor((i.v-35)/2);if(i.chainId<0){i.chainId=0}let o=i.v-27;const a=t.slice(0,6);if(i.chainId!==0){a.push((0,l.hexlify)(i.chainId));a.push("0x");a.push("0x");o-=i.chainId*2+8}const u=(0,d.keccak256)(m.encode(a));try{i.from=recoverAddress(u,{r:(0,l.hexlify)(i.r),s:(0,l.hexlify)(i.s),recoveryParam:o})}catch(e){}i.hash=(0,d.keccak256)(e)}i.type=null;return i}function parse(e){const t=(0,l.arrayify)(e);if(t[0]>127){return _parse(t)}switch(t[0]){case 1:return _parseEip2930(t);case 2:return _parseEip1559(t);default:break}return _.throwError(`unsupported transaction type: ${t[0]}`,v.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}},"../../node_modules/.pnpm/@ethersproject+units@5.7.0/node_modules/@ethersproject/units/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="units/5.7.0"},"../../node_modules/.pnpm/@ethersproject+units@5.7.0/node_modules/@ethersproject/units/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{commify:()=>commify,formatEther:()=>formatEther,formatUnits:()=>formatUnits,parseEther:()=>parseEther,parseUnits:()=>parseUnits});var o=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/fixednumber.js");var a=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+units@5.7.0/node_modules/@ethersproject/units/lib.esm/_version.js");const u=new a.Logger(l.version);const d=["wei","kwei","mwei","gwei","szabo","finney","ether"];function commify(e){const t=String(e).split(".");if(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||e==="."||e==="-."){u.throwArgumentError("invalid value","value",e)}let i=t[0];let o="";if(i.substring(0,1)==="-"){o="-";i=i.substring(1)}while(i.substring(0,1)==="0"){i=i.substring(1)}if(i===""){i="0"}let a="";if(t.length===2){a="."+(t[1]||"0")}while(a.length>2&&a[a.length-1]==="0"){a=a.substring(0,a.length-1)}const l=[];while(i.length){if(i.length<=3){l.unshift(i);break}else{const e=i.length-3;l.unshift(i.substring(e));i=i.substring(0,e)}}return o+l.join(",")+a}function formatUnits(e,t){if(typeof t==="string"){const e=d.indexOf(t);if(e!==-1){t=3*e}}return(0,o.formatFixed)(e,t!=null?t:18)}function parseUnits(e,t){if(typeof e!=="string"){u.throwArgumentError("value must be a string","value",e)}if(typeof t==="string"){const e=d.indexOf(t);if(e!==-1){t=3*e}}return(0,o.parseFixed)(e,t!=null?t:18)}function formatEther(e){return formatUnits(e,18)}function parseEther(e){return parseUnits(e,18)}},"../../node_modules/.pnpm/@ethersproject+wallet@5.7.0/node_modules/@ethersproject/wallet/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="wallet/5.7.0"},"../../node_modules/.pnpm/@ethersproject+wallet@5.7.0/node_modules/@ethersproject/wallet/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Wallet:()=>Wallet,verifyMessage:()=>verifyMessage,verifyTypedData:()=>verifyTypedData});var o=i("../../node_modules/.pnpm/@ethersproject+address@5.7.0/node_modules/@ethersproject/address/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+abstract-provider@5.8.0/node_modules/@ethersproject/abstract-provider/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+abstract-signer@5.8.0/node_modules/@ethersproject/abstract-signer/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var d=i("../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/message.js");var p=i("../../node_modules/.pnpm/@ethersproject+hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/typed-data.js");var m=i("../../node_modules/.pnpm/@ethersproject+hdnode@5.7.0/node_modules/@ethersproject/hdnode/lib.esm/index.js");var g=i("../../node_modules/.pnpm/@ethersproject+keccak256@5.8.0/node_modules/@ethersproject/keccak256/lib.esm/index.js");var v=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var y=i("../../node_modules/.pnpm/@ethersproject+random@5.7.0/node_modules/@ethersproject/random/lib.esm/random.js");var _=i("../../node_modules/.pnpm/@ethersproject+signing-key@5.7.0/node_modules/@ethersproject/signing-key/lib.esm/index.js");var w=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/keystore.js");var A=i("../../node_modules/.pnpm/@ethersproject+json-wallets@5.7.0/node_modules/@ethersproject/json-wallets/lib.esm/index.js");var k=i("../../node_modules/.pnpm/@ethersproject+transactions@5.8.0/node_modules/@ethersproject/transactions/lib.esm/index.js");var T=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var x=i("../../node_modules/.pnpm/@ethersproject+wallet@5.7.0/node_modules/@ethersproject/wallet/lib.esm/_version.js");var I=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const N=new T.Logger(x.version);function isAccount(e){return e!=null&&(0,u.isHexString)(e.privateKey,32)&&e.address!=null}function hasMnemonic(e){const t=e.mnemonic;return t&&t.phrase}class Wallet extends l.Signer{constructor(e,t){super();if(isAccount(e)){const t=new _.SigningKey(e.privateKey);(0,v.defineReadOnly)(this,"_signingKey",()=>t);(0,v.defineReadOnly)(this,"address",(0,k.computeAddress)(this.publicKey));if(this.address!==(0,o.getAddress)(e.address)){N.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]")}if(hasMnemonic(e)){const t=e.mnemonic;(0,v.defineReadOnly)(this,"_mnemonic",()=>({phrase:t.phrase,path:t.path||m.defaultPath,locale:t.locale||"en"}));const i=this.mnemonic;const o=m.HDNode.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);if((0,k.computeAddress)(o.privateKey)!==this.address){N.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}}else{(0,v.defineReadOnly)(this,"_mnemonic",()=>null)}}else{if(_.SigningKey.isSigningKey(e)){if(e.curve!=="secp256k1"){N.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]")}(0,v.defineReadOnly)(this,"_signingKey",()=>e)}else{if(typeof e==="string"){if(e.match(/^[0-9a-f]*$/i)&&e.length===64){e="0x"+e}}const t=new _.SigningKey(e);(0,v.defineReadOnly)(this,"_signingKey",()=>t)}(0,v.defineReadOnly)(this,"_mnemonic",()=>null);(0,v.defineReadOnly)(this,"address",(0,k.computeAddress)(this.publicKey))}if(t&&!a.Provider.isProvider(t)){N.throwArgumentError("invalid provider","provider",t)}(0,v.defineReadOnly)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new Wallet(this,e)}signTransaction(e){return(0,v.resolveProperties)(e).then(t=>{if(t.from!=null){if((0,o.getAddress)(t.from)!==this.address){N.throwArgumentError("transaction from address mismatch","transaction.from",e.from)}delete t.from}const i=this._signingKey().signDigest((0,g.keccak256)((0,k.serialize)(t)));return(0,k.serialize)(t,i)})}signMessage(e){return I(this,void 0,void 0,function*(){return(0,u.joinSignature)(this._signingKey().signDigest((0,d.hashMessage)(e)))})}_signTypedData(e,t,i){return I(this,void 0,void 0,function*(){const o=yield p.TypedDataEncoder.resolveNames(e,t,i,e=>{if(this.provider==null){N.throwError("cannot resolve ENS names without a provider",T.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e})}return this.provider.resolveName(e)});return(0,u.joinSignature)(this._signingKey().signDigest(p.TypedDataEncoder.hash(o.domain,t,o.value)))})}encrypt(e,t,i){if(typeof t==="function"&&!i){i=t;t={}}if(i&&typeof i!=="function"){throw new Error("invalid callback")}if(!t){t={}}return(0,w.encrypt)(this,e,t,i)}static createRandom(e){let t=(0,y.randomBytes)(16);if(!e){e={}}if(e.extraEntropy){t=(0,u.arrayify)((0,u.hexDataSlice)((0,g.keccak256)((0,u.concat)([t,e.extraEntropy])),0,16))}const i=(0,m.entropyToMnemonic)(t,e.locale);return Wallet.fromMnemonic(i,e.path,e.locale)}static fromEncryptedJson(e,t,i){return(0,A.decryptJsonWallet)(e,t,i).then(e=>new Wallet(e))}static fromEncryptedJsonSync(e,t){return new Wallet((0,A.decryptJsonWalletSync)(e,t))}static fromMnemonic(e,t,i){if(!t){t=m.defaultPath}return new Wallet(m.HDNode.fromMnemonic(e,null,i).derivePath(t))}}function verifyMessage(e,t){return(0,k.recoverAddress)((0,d.hashMessage)(e),t)}function verifyTypedData(e,t,i,o){return(0,k.recoverAddress)(p.TypedDataEncoder.hash(e,t,i),o)}},"../../node_modules/.pnpm/@ethersproject+web@5.8.0/node_modules/@ethersproject/web/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="web/5.8.0"},"../../node_modules/.pnpm/@ethersproject+web@5.8.0/node_modules/@ethersproject/web/lib.esm/geturl.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getUrl:()=>getUrl});var o=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var a=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};function getUrl(e,t){return a(this,void 0,void 0,function*(){if(t==null){t={}}const i={method:t.method||"GET",headers:t.headers||{},body:t.body||undefined};if(t.skipFetchSetup!==true){i.mode="cors";i.cache="no-cache";i.credentials="same-origin";i.redirect="follow";i.referrer="client"}if(t.fetchOptions!=null){const e=t.fetchOptions;if(e.mode){i.mode=e.mode}if(e.cache){i.cache=e.cache}if(e.credentials){i.credentials=e.credentials}if(e.redirect){i.redirect=e.redirect}if(e.referrer){i.referrer=e.referrer}}const a=yield fetch(e,i);const l=yield a.arrayBuffer();const u={};if(a.headers.forEach){a.headers.forEach((e,t)=>{u[t.toLowerCase()]=e})}else{a.headers.keys().forEach(e=>{u[e.toLowerCase()]=a.headers.get(e)})}return{headers:u,statusCode:a.status,statusMessage:a.statusText,body:(0,o.arrayify)(new Uint8Array(l))}})}},"../../node_modules/.pnpm/@ethersproject+web@5.8.0/node_modules/@ethersproject/web/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{_fetchData:()=>_fetchData,fetchJson:()=>fetchJson,poll:()=>poll});var o=i("../../node_modules/.pnpm/@ethersproject+base64@5.8.0/node_modules/@ethersproject/base64/lib.esm/base64.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.8.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+strings@5.8.0/node_modules/@ethersproject/strings/lib.esm/utf8.js");var d=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+web@5.8.0/node_modules/@ethersproject/web/lib.esm/_version.js");var m=i("../../node_modules/.pnpm/@ethersproject+web@5.8.0/node_modules/@ethersproject/web/lib.esm/geturl.js");var g=undefined&&undefined.__awaiter||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const v=new d.Logger(p.version);function staller(e){return new Promise(t=>{setTimeout(t,e)})}function bodyify(e,t){if(e==null){return null}if(typeof e==="string"){return e}if((0,a.isBytesLike)(e)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json")){try{return(0,u.toUtf8String)(e)}catch(e){}}return(0,a.hexlify)(e)}return e}function unpercent(e){return(0,u.toUtf8Bytes)(e.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function _fetchData(e,t,i){const a=typeof e==="object"&&e.throttleLimit!=null?e.throttleLimit:12;v.assertArgument(a>0&&a%1===0,"invalid connection throttle limit","connection.throttleLimit",a);const p=typeof e==="object"?e.throttleCallback:null;const y=typeof e==="object"&&typeof e.throttleSlotInterval==="number"?e.throttleSlotInterval:100;v.assertArgument(y>0&&y%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",y);const _=typeof e==="object"?!!e.errorPassThrough:false;const w={};let A=null;const k={method:"GET"};let T=false;let x=2*60*1e3;if(typeof e==="string"){A=e}else if(typeof e==="object"){if(e==null||e.url==null){v.throwArgumentError("missing URL","connection.url",e)}A=e.url;if(typeof e.timeout==="number"&&e.timeout>0){x=e.timeout}if(e.headers){for(const t in e.headers){w[t.toLowerCase()]={key:t,value:String(e.headers[t])};if(["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0){T=true}}}k.allowGzip=!!e.allowGzip;if(e.user!=null&&e.password!=null){if(A.substring(0,6)!=="https:"&&e.allowInsecureAuthentication!==true){v.throwError("basic authentication requires a secure https url",d.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:A,user:e.user,password:"[REDACTED]"})}const t=e.user+":"+e.password;w["authorization"]={key:"Authorization",value:"Basic "+(0,o.encode)((0,u.toUtf8Bytes)(t))}}if(e.skipFetchSetup!=null){k.skipFetchSetup=!!e.skipFetchSetup}if(e.fetchOptions!=null){k.fetchOptions=(0,l.shallowCopy)(e.fetchOptions)}}const I=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i");const N=A?A.match(I):null;if(N){try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":N[1]||"text/plain"},body:N[2]?(0,o.decode)(N[3]):unpercent(N[3])};let t=e.body;if(i){t=i(e.body,e)}return Promise.resolve(t)}catch(e){v.throwError("processing response error",d.Logger.errors.SERVER_ERROR,{body:bodyify(N[1],N[2]),error:e,requestBody:null,requestMethod:"GET",url:A})}}if(t){k.method="POST";k.body=t;if(w["content-type"]==null){w["content-type"]={key:"Content-Type",value:"application/octet-stream"}}if(w["content-length"]==null){w["content-length"]={key:"Content-Length",value:String(t.length)}}}const P={};Object.keys(w).forEach(e=>{const t=w[e];P[t.key]=t.value});k.headers=P;const C=function(){let e=null;const t=new Promise(function(t,i){if(x){e=setTimeout(()=>{if(e==null){return}e=null;i(v.makeError("timeout",d.Logger.errors.TIMEOUT,{requestBody:bodyify(k.body,P["content-type"]),requestMethod:k.method,timeout:x,url:A}))},x)}});const cancel=function(){if(e==null){return}clearTimeout(e);e=null};return{promise:t,cancel}}();const M=function(){return g(this,void 0,void 0,function*(){for(let e=0;e<a;e++){let t=null;try{t=yield(0,m.getUrl)(A,k);if(e<a){if(t.statusCode===301||t.statusCode===302){const e=t.headers.location||"";if(k.method==="GET"&&e.match(/^https:/)){A=t.headers.location;continue}}else if(t.statusCode===429){let i=true;if(p){i=yield p(e,A)}if(i){let i=0;const o=t.headers["retry-after"];if(typeof o==="string"&&o.match(/^[1-9][0-9]*$/)){i=parseInt(o)*1e3}else{i=y*parseInt(String(Math.random()*Math.pow(2,e)))}yield staller(i);continue}}}}catch(e){t=e.response;if(t==null){C.cancel();v.throwError("missing response",d.Logger.errors.SERVER_ERROR,{requestBody:bodyify(k.body,P["content-type"]),requestMethod:k.method,serverError:e,url:A})}}let o=t.body;if(T&&t.statusCode===304){o=null}else if(!_&&(t.statusCode<200||t.statusCode>=300)){C.cancel();v.throwError("bad response",d.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:bodyify(o,t.headers?t.headers["content-type"]:null),requestBody:bodyify(k.body,P["content-type"]),requestMethod:k.method,url:A})}if(i){try{const e=yield i(o,t);C.cancel();return e}catch(i){if(i.throttleRetry&&e<a){let t=true;if(p){t=yield p(e,A)}if(t){const t=y*parseInt(String(Math.random()*Math.pow(2,e)));yield staller(t);continue}}C.cancel();v.throwError("processing response error",d.Logger.errors.SERVER_ERROR,{body:bodyify(o,t.headers?t.headers["content-type"]:null),error:i,requestBody:bodyify(k.body,P["content-type"]),requestMethod:k.method,url:A})}}C.cancel();return o}return v.throwError("failed response",d.Logger.errors.SERVER_ERROR,{requestBody:bodyify(k.body,P["content-type"]),requestMethod:k.method,url:A})})}();return Promise.race([C.promise,M])}function fetchJson(e,t,i){let processJsonFunc=(e,t)=>{let o=null;if(e!=null){try{o=JSON.parse((0,u.toUtf8String)(e))}catch(t){v.throwError("invalid JSON",d.Logger.errors.SERVER_ERROR,{body:e,error:t})}}if(i){o=i(o,t)}return o};let o=null;if(t!=null){o=(0,u.toUtf8Bytes)(t);const i=typeof e==="string"?{url:e}:(0,l.shallowCopy)(e);if(i.headers){const e=Object.keys(i.headers).filter(e=>e.toLowerCase()==="content-type").length!==0;if(!e){i.headers=(0,l.shallowCopy)(i.headers);i.headers["content-type"]="application/json"}}else{i.headers={"content-type":"application/json"}}e=i}return _fetchData(e,o,processJsonFunc)}function poll(e,t){if(!t){t={}}t=(0,l.shallowCopy)(t);if(t.floor==null){t.floor=0}if(t.ceiling==null){t.ceiling=1e4}if(t.interval==null){t.interval=250}return new Promise(function(i,o){let a=null;let l=false;const cancel=()=>{if(l){return false}l=true;if(a){clearTimeout(a)}return true};if(t.timeout){a=setTimeout(()=>{if(cancel()){o(new Error("timeout"))}},t.timeout)}const u=t.retryLimit;let d=0;function check(){return e().then(function(e){if(e!==undefined){if(cancel()){i(e)}}else if(t.oncePoll){t.oncePoll.once("poll",check)}else if(t.onceBlock){t.onceBlock.once("block",check)}else if(!l){d++;if(d>u){if(cancel()){o(new Error("retry limit reached"))}return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,d)));if(e<t.floor){e=t.floor}if(e>t.ceiling){e=t.ceiling}setTimeout(check,e)}return null},function(e){if(cancel()){o(e)}})}check()})}},"../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="wordlists/5.8.0"},"../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/lang-en.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{langEn:()=>u});var o=i("../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/wordlist.js");const a="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let l=null;function loadWords(e){if(l!=null){return}l=a.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ");if(o.Wordlist.check(e)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"){l=null;throw new Error("BIP39 Wordlist for en (English) FAILED")}}class LangEn extends o.Wordlist{constructor(){super("en")}getWord(e){loadWords(this);return l[e]}getWordIndex(e){loadWords(this);return l.indexOf(e)}}const u=new LangEn;o.Wordlist.register(u)},"../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/wordlist.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Wordlist:()=>Wordlist,logger:()=>p});var o=i("../../node_modules/.pnpm/@ethersproject+hash@5.8.0/node_modules/@ethersproject/hash/lib.esm/id.js");var a=i("../../node_modules/.pnpm/@ethersproject+properties@5.8.0/node_modules/@ethersproject/properties/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+logger@5.8.0/node_modules/@ethersproject/logger/lib.esm/index.js");var u=i("../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/_version.js");const d=false;const p=new l.Logger(u.version);class Wordlist{constructor(e){p.checkAbstract(new.target,Wordlist);(0,a.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let i=0;i<2048;i++){const o=e.getWord(i);if(i!==e.getWordIndex(o)){return"0x"}t.push(o)}return(0,o.id)(t.join("\n")+"\n")}static register(e,t){if(!t){t=e.locale}if(d){try{const i=window;if(i._ethers&&i._ethers.wordlists){if(!i._ethers.wordlists[t]){(0,a.defineReadOnly)(i._ethers.wordlists,t,e)}}}catch(e){}}}}},"../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/wordlists.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{wordlists:()=>a});var o=i("../../node_modules/.pnpm/@ethersproject+wordlists@5.8.0/node_modules/@ethersproject/wordlists/lib.esm/lang-en.js");const a={en:o.langEn}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/_shortw_utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{createCurve:()=>createCurve,getHash:()=>getHash});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/hmac.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");var l=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/weierstrass.js");function getHash(e){return{hash:e,hmac:(t,...i)=>(0,o.hmac)(e,t,(0,a.concatBytes)(...i)),randomBytes:a.randomBytes}}function createCurve(e,t){const create=t=>(0,l.weierstrass)({...e,...getHash(t)});return Object.freeze({...create(t),create})}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/curve.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{validateBasic:()=>validateBasic,wNAF:()=>wNAF});var o=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/modular.js");var a=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/utils.js");const l=BigInt(0);const u=BigInt(1);function wNAF(e,t){const constTimeNegate=(e,t)=>{const i=t.negate();return e?i:t};const opts=e=>{const i=Math.ceil(t/e)+1;const o=2**(e-1);return{windows:i,windowSize:o}};return{constTimeNegate,unsafeLadder(t,i){let o=e.ZERO;let a=t;while(i>l){if(i&u)o=o.add(a);a=a.double();i>>=u}return o},precomputeWindow(e,t){const{windows:i,windowSize:o}=opts(t);const a=[];let l=e;let u=l;for(let e=0;e<i;e++){u=l;a.push(u);for(let e=1;e<o;e++){u=u.add(l);a.push(u)}l=u.double()}return a},wNAF(t,i,o){const{windows:a,windowSize:l}=opts(t);let d=e.ZERO;let p=e.BASE;const m=BigInt(2**t-1);const g=2**t;const v=BigInt(t);for(let e=0;e<a;e++){const t=e*l;let a=Number(o&m);o>>=v;if(a>l){a-=g;o+=u}const y=t;const _=t+Math.abs(a)-1;const w=e%2!==0;const A=a<0;if(a===0){p=p.add(constTimeNegate(w,i[y]))}else{d=d.add(constTimeNegate(A,i[_]))}}return{p:d,f:p}},wNAFCached(e,t,i,o){const a=e._WINDOW_SIZE||1;let l=t.get(e);if(!l){l=this.precomputeWindow(e,a);if(a!==1){t.set(e,o(l))}}return this.wNAF(a,l,i)}}}function validateBasic(e){(0,o.validateField)(e.Fp);(0,a.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"});return Object.freeze({...(0,o.nLength)(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/hash-to-curve.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{createHasher:()=>createHasher,expand_message_xmd:()=>expand_message_xmd,expand_message_xof:()=>expand_message_xof,hash_to_field:()=>hash_to_field,isogenyMap:()=>isogenyMap});var o=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/modular.js");var a=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/utils.js");function validateDST(e){if(e instanceof Uint8Array)return e;if(typeof e==="string")return(0,a.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}const l=a.bytesToNumberBE;function i2osp(e,t){if(e<0||e>=1<<8*t){throw new Error(`bad I2OSP call: value=${e} length=${t}`)}const i=Array.from({length:t}).fill(0);for(let o=t-1;o>=0;o--){i[o]=e&255;e>>>=8}return new Uint8Array(i)}function strxor(e,t){const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++){i[o]=e[o]^t[o]}return i}function isBytes(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function isNum(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function expand_message_xmd(e,t,i,o){isBytes(e);isBytes(t);isNum(i);if(t.length>255)t=o((0,a.concatBytes)((0,a.utf8ToBytes)("H2C-OVERSIZE-DST-"),t));const{outputLen:l,blockLen:u}=o;const d=Math.ceil(i/l);if(d>255)throw new Error("Invalid xmd length");const p=(0,a.concatBytes)(t,i2osp(t.length,1));const m=i2osp(0,u);const g=i2osp(i,2);const v=new Array(d);const y=o((0,a.concatBytes)(m,e,g,i2osp(0,1),p));v[0]=o((0,a.concatBytes)(y,i2osp(1,1),p));for(let e=1;e<=d;e++){const t=[strxor(y,v[e-1]),i2osp(e+1,1),p];v[e]=o((0,a.concatBytes)(...t))}const _=(0,a.concatBytes)(...v);return _.slice(0,i)}function expand_message_xof(e,t,i,o,l){isBytes(e);isBytes(t);isNum(i);if(t.length>255){const e=Math.ceil(2*o/8);t=l.create({dkLen:e}).update((0,a.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(i>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return l.create({dkLen:i}).update(e).update(i2osp(i,2)).update(t).update(i2osp(t.length,1)).digest()}function hash_to_field(e,t,i){(0,a.validateObject)(i,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:u,k:d,m:p,hash:m,expand:g,DST:v}=i;isBytes(e);isNum(t);const y=validateDST(v);const _=u.toString(2).length;const w=Math.ceil((_+d)/8);const A=t*p*w;let k;if(g==="xmd"){k=expand_message_xmd(e,y,A,m)}else if(g==="xof"){k=expand_message_xof(e,y,A,d,m)}else if(g==="_internal_pass"){k=e}else{throw new Error('expand must be "xmd" or "xof"')}const T=new Array(t);for(let e=0;e<t;e++){const t=new Array(p);for(let i=0;i<p;i++){const a=w*(i+e*p);const d=k.subarray(a,a+w);t[i]=(0,o.mod)(l(d),u)}T[e]=t}return T}function isogenyMap(e,t){const i=t.map(e=>Array.from(e).reverse());return(t,o)=>{const[a,l,u,d]=i.map(i=>i.reduce((i,o)=>e.add(e.mul(i,t),o)));t=e.div(a,l);o=e.mul(o,e.div(u,d));return{x:t,y:o}}}function createHasher(e,t,i){if(typeof t!=="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(o,a){const l=hash_to_field(o,2,{...i,DST:i.DST,...a});const u=e.fromAffine(t(l[0]));const d=e.fromAffine(t(l[1]));const p=u.add(d).clearCofactor();p.assertValidity();return p},encodeToCurve(o,a){const l=hash_to_field(o,1,{...i,DST:i.encodeDST,...a});const u=e.fromAffine(t(l[0])).clearCofactor();u.assertValidity();return u}}}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/modular.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Field:()=>Field,FpDiv:()=>FpDiv,FpInvertBatch:()=>FpInvertBatch,FpIsSquare:()=>FpIsSquare,FpPow:()=>FpPow,FpSqrt:()=>FpSqrt,FpSqrtEven:()=>FpSqrtEven,FpSqrtOdd:()=>FpSqrtOdd,getFieldBytesLength:()=>getFieldBytesLength,getMinHashLength:()=>getMinHashLength,hashToPrivateScalar:()=>hashToPrivateScalar,invert:()=>invert,isNegativeLE:()=>isNegativeLE,mapHashToField:()=>mapHashToField,mod:()=>mod,nLength:()=>nLength,pow:()=>pow,pow2:()=>pow2,tonelliShanks:()=>tonelliShanks,validateField:()=>validateField});var o=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/utils.js");const a=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(3);const p=BigInt(4),m=BigInt(5),g=BigInt(8);const v=BigInt(9),y=BigInt(16);function mod(e,t){const i=e%t;return i>=a?i:t+i}function pow(e,t,i){if(i<=a||t<a)throw new Error("Expected power/modulo > 0");if(i===l)return a;let o=l;while(t>a){if(t&l)o=o*e%i;e=e*e%i;t>>=l}return o}function pow2(e,t,i){let o=e;while(t-- >a){o*=o;o%=i}return o}function invert(e,t){if(e===a||t<=a){throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`)}let i=mod(e,t);let o=t;let u=a,d=l,p=l,m=a;while(i!==a){const e=o/i;const t=o%i;const a=u-p*e;const l=d-m*e;o=i,i=t,u=p,d=m,p=a,m=l}const g=o;if(g!==l)throw new Error("invert: does not exist");return mod(u,t)}function tonelliShanks(e){const t=(e-l)/u;let i,o,d;for(i=e-l,o=0;i%u===a;i/=u,o++);for(d=u;d<e&&pow(d,t,e)!==e-l;d++);if(o===1){const t=(e+l)/p;return function tonelliFast(e,i){const o=e.pow(i,t);if(!e.eql(e.sqr(o),i))throw new Error("Cannot find square root");return o}}const m=(i+l)/u;return function tonelliSlow(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let u=o;let p=e.pow(e.mul(e.ONE,d),i);let g=e.pow(a,m);let v=e.pow(a,i);while(!e.eql(v,e.ONE)){if(e.eql(v,e.ZERO))return e.ZERO;let t=1;for(let i=e.sqr(v);t<u;t++){if(e.eql(i,e.ONE))break;i=e.sqr(i)}const i=e.pow(p,l<<BigInt(u-t-1));p=e.sqr(i);g=e.mul(g,i);v=e.mul(v,p);u=t}return g}}function FpSqrt(e){if(e%p===d){const t=(e+l)/p;return function sqrt3mod4(e,i){const o=e.pow(i,t);if(!e.eql(e.sqr(o),i))throw new Error("Cannot find square root");return o}}if(e%g===m){const t=(e-m)/g;return function sqrt5mod8(e,i){const o=e.mul(i,u);const a=e.pow(o,t);const l=e.mul(i,a);const d=e.mul(e.mul(l,u),a);const p=e.mul(l,e.sub(d,e.ONE));if(!e.eql(e.sqr(p),i))throw new Error("Cannot find square root");return p}}if(e%y===v){}return tonelliShanks(e)}const isNegativeLE=(e,t)=>(mod(e,t)&l)===l;const _=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"};const i=_.reduce((e,t)=>{e[t]="function";return e},t);return(0,o.validateObject)(e,i)}function FpPow(e,t,i){if(i<a)throw new Error("Expected power > 0");if(i===a)return e.ONE;if(i===l)return t;let o=e.ONE;let u=t;while(i>a){if(i&l)o=e.mul(o,u);u=e.sqr(u);i>>=l}return o}function FpInvertBatch(e,t){const i=new Array(t.length);const o=t.reduce((t,o,a)=>{if(e.is0(o))return t;i[a]=t;return e.mul(t,o)},e.ONE);const a=e.inv(o);t.reduceRight((t,o,a)=>{if(e.is0(o))return t;i[a]=e.mul(t,i[a]);return e.mul(t,o)},a);return i}function FpDiv(e,t,i){return e.mul(t,typeof i==="bigint"?invert(i,e.ORDER):e.inv(i))}function FpIsSquare(e){const t=(e.ORDER-l)/u;return i=>{const o=e.pow(i,t);return e.eql(o,e.ZERO)||e.eql(o,e.ONE)}}function nLength(e,t){const i=t!==undefined?t:e.toString(2).length;const o=Math.ceil(i/8);return{nBitLength:i,nByteLength:o}}function Field(e,t,i=false,u={}){if(e<=a)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:d,nByteLength:p}=nLength(e,t);if(p>2048)throw new Error("Field lengths over 2048 bytes are not supported");const m=FpSqrt(e);const g=Object.freeze({ORDER:e,BITS:d,BYTES:p,MASK:(0,o.bitMask)(d),ZERO:a,ONE:l,create:t=>mod(t,e),isValid:t=>{if(typeof t!=="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof t}`);return a<=t&&t<e},is0:e=>e===a,isOdd:e=>(e&l)===l,neg:t=>mod(-t,e),eql:(e,t)=>e===t,sqr:t=>mod(t*t,e),add:(t,i)=>mod(t+i,e),sub:(t,i)=>mod(t-i,e),mul:(t,i)=>mod(t*i,e),pow:(e,t)=>FpPow(g,e,t),div:(t,i)=>mod(t*invert(i,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>invert(t,e),sqrt:u.sqrt||(e=>m(g,e)),invertBatch:e=>FpInvertBatch(g,e),cmov:(e,t,i)=>i?t:e,toBytes:e=>i?(0,o.numberToBytesLE)(e,p):(0,o.numberToBytesBE)(e,p),fromBytes:e=>{if(e.length!==p)throw new Error(`Fp.fromBytes: expected ${p}, got ${e.length}`);return i?(0,o.bytesToNumberLE)(e):(0,o.bytesToNumberBE)(e)}});return Object.freeze(g)}function FpSqrtOdd(e,t){if(!e.isOdd)throw new Error(`Field doesn't have isOdd`);const i=e.sqrt(t);return e.isOdd(i)?i:e.neg(i)}function FpSqrtEven(e,t){if(!e.isOdd)throw new Error(`Field doesn't have isOdd`);const i=e.sqrt(t);return e.isOdd(i)?e.neg(i):i}function hashToPrivateScalar(e,t,i=false){e=(0,o.ensureBytes)("privateHash",e);const a=e.length;const u=nLength(t).nByteLength+8;if(u<24||a<u||a>1024)throw new Error(`hashToPrivateScalar: expected ${u}-1024 bytes of input, got ${a}`);const d=i?(0,o.bytesToNumberLE)(e):(0,o.bytesToNumberBE)(e);return mod(d,t-l)+l}function getFieldBytesLength(e){if(typeof e!=="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function getMinHashLength(e){const t=getFieldBytesLength(e);return t+Math.ceil(t/2)}function mapHashToField(e,t,i=false){const a=e.length;const u=getFieldBytesLength(t);const d=getMinHashLength(t);if(a<16||a<d||a>1024)throw new Error(`expected ${d}-1024 bytes of input, got ${a}`);const p=i?(0,o.bytesToNumberBE)(e):(0,o.bytesToNumberLE)(e);const m=mod(p,t-l)+l;return i?(0,o.numberToBytesLE)(m,u):(0,o.numberToBytesBE)(m,u)}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bitGet:()=>bitGet,bitLen:()=>bitLen,bitMask:()=>bitMask,bitSet:()=>bitSet,bytesToHex:()=>bytesToHex,bytesToNumberBE:()=>bytesToNumberBE,bytesToNumberLE:()=>bytesToNumberLE,concatBytes:()=>concatBytes,createHmacDrbg:()=>createHmacDrbg,ensureBytes:()=>ensureBytes,equalBytes:()=>equalBytes,hexToBytes:()=>hexToBytes,hexToNumber:()=>hexToNumber,numberToBytesBE:()=>numberToBytesBE,numberToBytesLE:()=>numberToBytesLE,numberToHexUnpadded:()=>numberToHexUnpadded,numberToVarBytesBE:()=>numberToVarBytesBE,utf8ToBytes:()=>utf8ToBytes,validateObject:()=>validateObject});const o=BigInt(0);const a=BigInt(1);const l=BigInt(2);const u8a=e=>e instanceof Uint8Array;const u=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let t="";for(let i=0;i<e.length;i++){t+=u[e[i]]}return t}function numberToHexUnpadded(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function hexToNumber(e){if(typeof e!=="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function hexToBytes(e){if(typeof e!=="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(t/2);for(let t=0;t<i.length;t++){const o=t*2;const a=e.slice(o,o+2);const l=Number.parseInt(a,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");i[t]=l}return i}function bytesToNumberBE(e){return hexToNumber(bytesToHex(e))}function bytesToNumberLE(e){if(!u8a(e))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(e).reverse()))}function numberToBytesBE(e,t){return hexToBytes(e.toString(16).padStart(t*2,"0"))}function numberToBytesLE(e,t){return numberToBytesBE(e,t).reverse()}function numberToVarBytesBE(e){return hexToBytes(numberToHexUnpadded(e))}function ensureBytes(e,t,i){let o;if(typeof t==="string"){try{o=hexToBytes(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}}else if(u8a(t)){o=Uint8Array.from(t)}else{throw new Error(`${e} must be hex string or Uint8Array`)}const a=o.length;if(typeof i==="number"&&a!==i)throw new Error(`${e} expected ${i} bytes, got ${a}`);return o}function concatBytes(...e){const t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));let i=0;e.forEach(e=>{if(!u8a(e))throw new Error("Uint8Array expected");t.set(e,i);i+=e.length});return t}function equalBytes(e,t){if(e.length!==t.length)return false;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return false;return true}function utf8ToBytes(e){if(typeof e!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array((new TextEncoder).encode(e))}function bitLen(e){let t;for(t=0;e>o;e>>=a,t+=1);return t}function bitGet(e,t){return e>>BigInt(t)&a}const bitSet=(e,t,i)=>e|(i?a:o)<<BigInt(t);const bitMask=e=>(l<<BigInt(e-1))-a;const u8n=e=>new Uint8Array(e);const u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,t,i){if(typeof e!=="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!=="number"||t<2)throw new Error("qByteLen must be a number");if(typeof i!=="function")throw new Error("hmacFn must be a function");let o=u8n(e);let a=u8n(e);let l=0;const reset=()=>{o.fill(1);a.fill(0);l=0};const h=(...e)=>i(a,o,...e);const reseed=(e=u8n())=>{a=h(u8fr([0]),e);o=h();if(e.length===0)return;a=h(u8fr([1]),e);o=h()};const gen=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const i=[];while(e<t){o=h();const t=o.slice();i.push(t);e+=o.length}return concatBytes(...i)};const genUntil=(e,t)=>{reset();reseed(e);let i=undefined;while(!(i=t(gen())))reseed();reset();return i};return genUntil}const d={bigint:e=>typeof e==="bigint",function:e=>typeof e==="function",boolean:e=>typeof e==="boolean",string:e=>typeof e==="string",stringOrUint8Array:e=>typeof e==="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e==="function"&&Number.isSafeInteger(e.outputLen)};function validateObject(e,t,i={}){const checkField=(t,i,o)=>{const a=d[i];if(typeof a!=="function")throw new Error(`Invalid validator "${i}", expected function`);const l=e[t];if(o&&l===undefined)return;if(!a(l,e)){throw new Error(`Invalid param ${String(t)}=${l} (${typeof l}), expected ${i}`)}};for(const[e,i]of Object.entries(t))checkField(e,i,false);for(const[e,t]of Object.entries(i))checkField(e,t,true);return e}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/weierstrass.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{DER:()=>p,SWUFpSqrtRatio:()=>SWUFpSqrtRatio,mapToCurveSimpleSWU:()=>mapToCurveSimpleSWU,weierstrass:()=>weierstrass,weierstrassPoints:()=>weierstrassPoints});var o=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/modular.js");var a=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/utils.js");var l=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/curve.js");function validatePointOpts(e){const t=(0,l.validateBasic)(e);a.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:i,Fp:o,a:u}=t;if(i){if(!o.eql(u,o.ZERO)){throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0")}if(typeof i!=="object"||typeof i.beta!=="bigint"||typeof i.splitScalar!=="function"){throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}}return Object.freeze({...t})}const{bytesToNumberBE:u,hexToBytes:d}=a;const p={Err:class DERErr extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=p;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const i=e[1];const o=e.subarray(2,i+2);if(!i||o.length!==i)throw new t("Invalid signature integer: wrong length");if(o[0]&128)throw new t("Invalid signature integer: negative");if(o[0]===0&&!(o[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:u(o),l:e.subarray(i+2)}},toSig(e){const{Err:t}=p;const i=typeof e==="string"?d(e):e;if(!(i instanceof Uint8Array))throw new Error("ui8a expected");let o=i.length;if(o<2||i[0]!=48)throw new t("Invalid signature tag");if(i[1]!==o-2)throw new t("Invalid signature: incorrect length");const{d:a,l}=p._parseInt(i.subarray(2));const{d:u,l:m}=p._parseInt(l);if(m.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s:u}},hexFromSig(e){const slice=e=>Number.parseInt(e[0],16)&8?"00"+e:e;const h=e=>{const t=e.toString(16);return t.length&1?`0${t}`:t};const t=slice(h(e.s));const i=slice(h(e.r));const o=t.length/2;const a=i.length/2;const l=h(o);const u=h(a);return`30${h(a+o+4)}02${u}${i}02${l}${t}`}};const m=BigInt(0),g=BigInt(1),v=BigInt(2),y=BigInt(3),_=BigInt(4);function weierstrassPoints(e){const t=validatePointOpts(e);const{Fp:i}=t;const u=t.toBytes||((e,t,o)=>{const l=t.toAffine();return a.concatBytes(Uint8Array.from([4]),i.toBytes(l.x),i.toBytes(l.y))});const d=t.fromBytes||(e=>{const t=e.subarray(1);const o=i.fromBytes(t.subarray(0,i.BYTES));const a=i.fromBytes(t.subarray(i.BYTES,2*i.BYTES));return{x:o,y:a}});function weierstrassEquation(e){const{a:o,b:a}=t;const l=i.sqr(e);const u=i.mul(l,e);return i.add(i.add(u,i.mul(e,o)),a)}if(!i.eql(i.sqr(t.Gy),weierstrassEquation(t.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(e){return typeof e==="bigint"&&m<e&&e<t.n}function assertGE(e){if(!isWithinCurveOrder(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(e){const{allowedPrivateKeyLengths:i,nByteLength:l,wrapPrivateKey:u,n:d}=t;if(i&&typeof e!=="bigint"){if(e instanceof Uint8Array)e=a.bytesToHex(e);if(typeof e!=="string"||!i.includes(e.length))throw new Error("Invalid key");e=e.padStart(l*2,"0")}let p;try{p=typeof e==="bigint"?e:a.bytesToNumberBE((0,a.ensureBytes)("private key",e,l))}catch(t){throw new Error(`private key must be ${l} bytes, hex or bigint, not ${typeof e}`)}if(u)p=o.mod(p,d);assertGE(p);return p}const p=new Map;function assertPrjPoint(e){if(!(e instanceof Point))throw new Error("ProjectivePoint expected")}class Point{constructor(e,t,o){this.px=e;this.py=t;this.pz=o;if(e==null||!i.isValid(e))throw new Error("x required");if(t==null||!i.isValid(t))throw new Error("y required");if(o==null||!i.isValid(o))throw new Error("z required")}static fromAffine(e){const{x:t,y:o}=e||{};if(!e||!i.isValid(t)||!i.isValid(o))throw new Error("invalid affine point");if(e instanceof Point)throw new Error("projective point not allowed");const is0=e=>i.eql(e,i.ZERO);if(is0(t)&&is0(o))return Point.ZERO;return new Point(t,o,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=i.invertBatch(e.map(e=>e.pz));return e.map((e,i)=>e.toAffine(t[i])).map(Point.fromAffine)}static fromHex(e){const t=Point.fromAffine(d((0,a.ensureBytes)("pointHex",e)));t.assertValidity();return t}static fromPrivateKey(e){return Point.BASE.multiply(normPrivateKeyToScalar(e))}_setWindowSize(e){this._WINDOW_SIZE=e;p.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!i.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:o}=this.toAffine();if(!i.isValid(e)||!i.isValid(o))throw new Error("bad point: x or y not FE");const a=i.sqr(o);const l=weierstrassEquation(e);if(!i.eql(a,l))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(i.isOdd)return!i.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){assertPrjPoint(e);const{px:t,py:o,pz:a}=this;const{px:l,py:u,pz:d}=e;const p=i.eql(i.mul(t,d),i.mul(l,a));const m=i.eql(i.mul(o,d),i.mul(u,a));return p&&m}negate(){return new Point(this.px,i.neg(this.py),this.pz)}double(){const{a:e,b:o}=t;const a=i.mul(o,y);const{px:l,py:u,pz:d}=this;let p=i.ZERO,m=i.ZERO,g=i.ZERO;let v=i.mul(l,l);let _=i.mul(u,u);let w=i.mul(d,d);let A=i.mul(l,u);A=i.add(A,A);g=i.mul(l,d);g=i.add(g,g);p=i.mul(e,g);m=i.mul(a,w);m=i.add(p,m);p=i.sub(_,m);m=i.add(_,m);m=i.mul(p,m);p=i.mul(A,p);g=i.mul(a,g);w=i.mul(e,w);A=i.sub(v,w);A=i.mul(e,A);A=i.add(A,g);g=i.add(v,v);v=i.add(g,v);v=i.add(v,w);v=i.mul(v,A);m=i.add(m,v);w=i.mul(u,d);w=i.add(w,w);v=i.mul(w,A);p=i.sub(p,v);g=i.mul(w,_);g=i.add(g,g);g=i.add(g,g);return new Point(p,m,g)}add(e){assertPrjPoint(e);const{px:o,py:a,pz:l}=this;const{px:u,py:d,pz:p}=e;let m=i.ZERO,g=i.ZERO,v=i.ZERO;const _=t.a;const w=i.mul(t.b,y);let A=i.mul(o,u);let k=i.mul(a,d);let T=i.mul(l,p);let x=i.add(o,a);let I=i.add(u,d);x=i.mul(x,I);I=i.add(A,k);x=i.sub(x,I);I=i.add(o,l);let N=i.add(u,p);I=i.mul(I,N);N=i.add(A,T);I=i.sub(I,N);N=i.add(a,l);m=i.add(d,p);N=i.mul(N,m);m=i.add(k,T);N=i.sub(N,m);v=i.mul(_,I);m=i.mul(w,T);v=i.add(m,v);m=i.sub(k,v);v=i.add(k,v);g=i.mul(m,v);k=i.add(A,A);k=i.add(k,A);T=i.mul(_,T);I=i.mul(w,I);k=i.add(k,T);T=i.sub(A,T);T=i.mul(_,T);I=i.add(I,T);A=i.mul(k,I);g=i.add(g,A);A=i.mul(N,I);m=i.mul(x,m);m=i.sub(m,A);A=i.mul(x,k);v=i.mul(N,v);v=i.add(v,A);return new Point(m,g,v)}subtract(e){return this.add(e.negate())}is0(){return this.equals(Point.ZERO)}wNAF(e){return _.wNAFCached(this,p,e,e=>{const t=i.invertBatch(e.map(e=>e.pz));return e.map((e,i)=>e.toAffine(t[i])).map(Point.fromAffine)})}multiplyUnsafe(e){const o=Point.ZERO;if(e===m)return o;assertGE(e);if(e===g)return this;const{endo:a}=t;if(!a)return _.unsafeLadder(this,e);let{k1neg:l,k1:u,k2neg:d,k2:p}=a.splitScalar(e);let v=o;let y=o;let w=this;while(u>m||p>m){if(u&g)v=v.add(w);if(p&g)y=y.add(w);w=w.double();u>>=g;p>>=g}if(l)v=v.negate();if(d)y=y.negate();y=new Point(i.mul(y.px,a.beta),y.py,y.pz);return v.add(y)}multiply(e){assertGE(e);let o=e;let a,l;const{endo:u}=t;if(u){const{k1neg:e,k1:t,k2neg:d,k2:p}=u.splitScalar(o);let{p:m,f:g}=this.wNAF(t);let{p:v,f:y}=this.wNAF(p);m=_.constTimeNegate(e,m);v=_.constTimeNegate(d,v);v=new Point(i.mul(v.px,u.beta),v.py,v.pz);a=m.add(v);l=g.add(y)}else{const{p:e,f:t}=this.wNAF(o);a=e;l=t}return Point.normalizeZ([a,l])[0]}multiplyAndAddUnsafe(e,t,i){const o=Point.BASE;const mul=(e,t)=>t===m||t===g||!e.equals(o)?e.multiplyUnsafe(t):e.multiply(t);const a=mul(this,t).add(mul(e,i));return a.is0()?undefined:a}toAffine(e){const{px:t,py:o,pz:a}=this;const l=this.is0();if(e==null)e=l?i.ONE:i.inv(a);const u=i.mul(t,e);const d=i.mul(o,e);const p=i.mul(a,e);if(l)return{x:i.ZERO,y:i.ZERO};if(!i.eql(p,i.ONE))throw new Error("invZ was invalid");return{x:u,y:d}}isTorsionFree(){const{h:e,isTorsionFree:i}=t;if(e===g)return true;if(i)return i(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:i}=t;if(e===g)return this;if(i)return i(Point,this);return this.multiplyUnsafe(t.h)}toRawBytes(e=true){this.assertValidity();return u(Point,this,e)}toHex(e=true){return a.bytesToHex(this.toRawBytes(e))}}Point.BASE=new Point(t.Gx,t.Gy,i.ONE);Point.ZERO=new Point(i.ZERO,i.ONE,i.ZERO);const v=t.nBitLength;const _=(0,l.wNAF)(Point,t.endo?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}function validateOpts(e){const t=(0,l.validateBasic)(e);a.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"});return Object.freeze({lowS:true,...t})}function weierstrass(e){const t=validateOpts(e);const{Fp:i,n:l}=t;const u=i.BYTES+1;const d=2*i.BYTES+1;function isValidFieldElement(e){return m<e&&e<i.ORDER}function modN(e){return o.mod(e,l)}function invN(e){return o.invert(e,l)}const{ProjectivePoint:v,normPrivateKeyToScalar:y,weierstrassEquation:_,isWithinCurveOrder:w}=weierstrassPoints({...t,toBytes(e,t,o){const l=t.toAffine();const u=i.toBytes(l.x);const d=a.concatBytes;if(o){return d(Uint8Array.from([t.hasEvenY()?2:3]),u)}else{return d(Uint8Array.from([4]),u,i.toBytes(l.y))}},fromBytes(e){const t=e.length;const o=e[0];const l=e.subarray(1);if(t===u&&(o===2||o===3)){const e=a.bytesToNumberBE(l);if(!isValidFieldElement(e))throw new Error("Point is not on curve");const t=_(e);let u=i.sqrt(t);const d=(u&g)===g;const p=(o&1)===1;if(p!==d)u=i.neg(u);return{x:e,y:u}}else if(t===d&&o===4){const e=i.fromBytes(l.subarray(0,i.BYTES));const t=i.fromBytes(l.subarray(i.BYTES,2*i.BYTES));return{x:e,y:t}}else{throw new Error(`Point of length ${t} was invalid. Expected ${u} compressed bytes or ${d} uncompressed bytes`)}}});const numToNByteStr=e=>a.bytesToHex(a.numberToBytesBE(e,t.nByteLength));function isBiggerThanHalfOrder(e){const t=l>>g;return e>t}function normalizeS(e){return isBiggerThanHalfOrder(e)?modN(-e):e}const slcNum=(e,t,i)=>a.bytesToNumberBE(e.slice(t,i));class Signature{constructor(e,t,i){this.r=e;this.s=t;this.recovery=i;this.assertValidity()}static fromCompact(e){const i=t.nByteLength;e=(0,a.ensureBytes)("compactSignature",e,i*2);return new Signature(slcNum(e,0,i),slcNum(e,i,2*i))}static fromDER(e){const{r:t,s:i}=p.toSig((0,a.ensureBytes)("DER",e));return new Signature(t,i)}assertValidity(){if(!w(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!w(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new Signature(this.r,this.s,e)}recoverPublicKey(e){const{r:o,s:l,recovery:u}=this;const d=T((0,a.ensureBytes)("msgHash",e));if(u==null||![0,1,2,3].includes(u))throw new Error("recovery id invalid");const p=u===2||u===3?o+t.n:o;if(p>=i.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=(u&1)===0?"02":"03";const g=v.fromHex(m+numToNByteStr(p));const y=invN(p);const _=modN(-d*y);const w=modN(l*y);const A=v.BASE.multiplyAndAddUnsafe(g,_,w);if(!A)throw new Error("point at infinify");A.assertValidity();return A}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return a.hexToBytes(this.toDERHex())}toDERHex(){return p.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return a.hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const A={isValidPrivateKey(e){try{y(e);return true}catch(e){return false}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=o.getMinHashLength(t.n);return o.mapHashToField(t.randomBytes(e),t.n)},precompute(e=8,t=v.BASE){t._setWindowSize(e);t.multiply(BigInt(3));return t}};function getPublicKey(e,t=true){return v.fromPrivateKey(e).toRawBytes(t)}function isProbPub(e){const t=e instanceof Uint8Array;const i=typeof e==="string";const o=(t||i)&&e.length;if(t)return o===u||o===d;if(i)return o===2*u||o===2*d;if(e instanceof v)return true;return false}function getSharedSecret(e,t,i=true){if(isProbPub(e))throw new Error("first arg must be private key");if(!isProbPub(t))throw new Error("second arg must be public key");const o=v.fromHex(t);return o.multiply(y(e)).toRawBytes(i)}const k=t.bits2int||function(e){const i=a.bytesToNumberBE(e);const o=e.length*8-t.nBitLength;return o>0?i>>BigInt(o):i};const T=t.bits2int_modN||function(e){return modN(k(e))};const x=a.bitMask(t.nBitLength);function int2octets(e){if(typeof e!=="bigint")throw new Error("bigint expected");if(!(m<=e&&e<x))throw new Error(`bigint expected < 2^${t.nBitLength}`);return a.numberToBytesBE(e,t.nByteLength)}function prepSig(e,o,l=I){if(["recovered","canonical"].some(e=>e in l))throw new Error("sign() legacy options not supported");const{hash:u,randomBytes:d}=t;let{lowS:p,prehash:_,extraEntropy:A}=l;if(p==null)p=true;e=(0,a.ensureBytes)("msgHash",e);if(_)e=(0,a.ensureBytes)("prehashed msgHash",u(e));const x=T(e);const N=y(o);const P=[int2octets(N),int2octets(x)];if(A!=null){const e=A===true?d(i.BYTES):A;P.push((0,a.ensureBytes)("extraEntropy",e))}const C=a.concatBytes(...P);const M=x;function k2sig(e){const t=k(e);if(!w(t))return;const i=invN(t);const o=v.BASE.multiply(t).toAffine();const a=modN(o.x);if(a===m)return;const l=modN(i*modN(M+a*N));if(l===m)return;let u=(o.x===a?0:2)|Number(o.y&g);let d=l;if(p&&isBiggerThanHalfOrder(l)){d=normalizeS(l);u^=1}return new Signature(a,d,u)}return{seed:C,k2sig}}const I={lowS:t.lowS,prehash:false};const N={lowS:t.lowS,prehash:false};function sign(e,i,o=I){const{seed:l,k2sig:u}=prepSig(e,i,o);const d=t;const p=a.createHmacDrbg(d.hash.outputLen,d.nByteLength,d.hmac);return p(l,u)}v.BASE._setWindowSize(8);function verify(e,i,o,l=N){const u=e;i=(0,a.ensureBytes)("msgHash",i);o=(0,a.ensureBytes)("publicKey",o);if("strict"in l)throw new Error("options.strict was renamed to lowS");const{lowS:d,prehash:m}=l;let g=undefined;let y;try{if(typeof u==="string"||u instanceof Uint8Array){try{g=Signature.fromDER(u)}catch(e){if(!(e instanceof p.Err))throw e;g=Signature.fromCompact(u)}}else if(typeof u==="object"&&typeof u.r==="bigint"&&typeof u.s==="bigint"){const{r:e,s:t}=u;g=new Signature(e,t)}else{throw new Error("PARSE")}y=v.fromHex(o)}catch(e){if(e.message==="PARSE")throw new Error(`signature must be Signature instance, Uint8Array or hex string`);return false}if(d&&g.hasHighS())return false;if(m)i=t.hash(i);const{r:_,s:w}=g;const A=T(i);const k=invN(w);const x=modN(A*k);const I=modN(_*k);const P=v.BASE.multiplyAndAddUnsafe(y,x,I)?.toAffine();if(!P)return false;const C=modN(P.x);return C===_}return{CURVE:t,getPublicKey,getSharedSecret,sign,verify,ProjectivePoint:v,Signature,utils:A}}function SWUFpSqrtRatio(e,t){const i=e.ORDER;let o=m;for(let e=i-g;e%v===m;e/=v)o+=g;const a=o;const l=v<<a-g-g;const u=l*v;const d=(i-g)/u;const p=(d-g)/v;const w=u-g;const A=l;const k=e.pow(t,d);const T=e.pow(t,(d+g)/v);let sqrtRatio=(t,i)=>{let o=k;let l=e.pow(i,w);let u=e.sqr(l);u=e.mul(u,i);let d=e.mul(t,u);d=e.pow(d,p);d=e.mul(d,l);l=e.mul(d,i);u=e.mul(d,t);let m=e.mul(u,l);d=e.pow(m,A);let y=e.eql(d,e.ONE);l=e.mul(u,T);d=e.mul(m,o);u=e.cmov(l,u,y);m=e.cmov(d,m,y);for(let t=a;t>g;t--){let i=t-v;i=v<<i-g;let a=e.pow(m,i);const d=e.eql(a,e.ONE);l=e.mul(u,o);o=e.mul(o,o);a=e.mul(m,o);u=e.cmov(l,u,d);m=e.cmov(a,m,d)}return{isValid:y,value:u}};if(e.ORDER%_===y){const i=(e.ORDER-y)/_;const o=e.sqrt(e.neg(t));sqrtRatio=(t,a)=>{let l=e.sqr(a);const u=e.mul(t,a);l=e.mul(l,u);let d=e.pow(l,i);d=e.mul(d,u);const p=e.mul(d,o);const m=e.mul(e.sqr(d),a);const g=e.eql(m,t);let v=e.cmov(p,d,g);return{isValid:g,value:v}}}return sqrtRatio}function mapToCurveSimpleSWU(e,t){o.validateField(e);if(!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const i=SWUFpSqrtRatio(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return o=>{let a,l,u,d,p,m,g,v;a=e.sqr(o);a=e.mul(a,t.Z);l=e.sqr(a);l=e.add(l,a);u=e.add(l,e.ONE);u=e.mul(u,t.B);d=e.cmov(t.Z,e.neg(l),!e.eql(l,e.ZERO));d=e.mul(d,t.A);l=e.sqr(u);m=e.sqr(d);p=e.mul(m,t.A);l=e.add(l,p);l=e.mul(l,u);m=e.mul(m,d);p=e.mul(m,t.B);l=e.add(l,p);g=e.mul(a,u);const{isValid:y,value:_}=i(l,m);v=e.mul(a,o);v=e.mul(v,_);g=e.cmov(g,u,y);v=e.cmov(v,_,y);const w=e.isOdd(o)===e.isOdd(v);v=e.cmov(e.neg(v),v,w);g=e.div(g,d);return{x:g,y:v}}}},"../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/secp256k1.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{encodeToCurve:()=>B,hashToCurve:()=>M,schnorr:()=>I,secp256k1:()=>A});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha256.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");var l=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/modular.js");var u=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/weierstrass.js");var d=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/utils.js");var p=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/abstract/hash-to-curve.js");var m=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/_shortw_utils.js");const g=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f");const v=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");const y=BigInt(1);const _=BigInt(2);const divNearest=(e,t)=>(e+t/_)/t;function sqrtMod(e){const t=g;const i=BigInt(3),o=BigInt(6),a=BigInt(11),u=BigInt(22);const d=BigInt(23),p=BigInt(44),m=BigInt(88);const v=e*e*e%t;const y=v*v*e%t;const A=(0,l.pow2)(y,i,t)*y%t;const k=(0,l.pow2)(A,i,t)*y%t;const T=(0,l.pow2)(k,_,t)*v%t;const x=(0,l.pow2)(T,a,t)*T%t;const I=(0,l.pow2)(x,u,t)*x%t;const N=(0,l.pow2)(I,p,t)*I%t;const P=(0,l.pow2)(N,m,t)*N%t;const C=(0,l.pow2)(P,p,t)*I%t;const M=(0,l.pow2)(C,i,t)*y%t;const B=(0,l.pow2)(M,d,t)*x%t;const j=(0,l.pow2)(B,o,t)*v%t;const O=(0,l.pow2)(j,_,t);if(!w.eql(w.sqr(O),e))throw new Error("Cannot find square root");return O}const w=(0,l.Field)(g,undefined,undefined,{sqrt:sqrtMod});const A=(0,m.createCurve)({a:BigInt(0),b:BigInt(7),Fp:w,n:v,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:true,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=v;const i=BigInt("0x3086d221a7d46bcde86c90e49284eb15");const o=-y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3");const a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8");const u=i;const d=BigInt("0x100000000000000000000000000000000");const p=divNearest(u*e,t);const m=divNearest(-o*e,t);let g=(0,l.mod)(e-p*i-m*a,t);let _=(0,l.mod)(-p*o-m*u,t);const w=g>d;const A=_>d;if(w)g=t-g;if(A)_=t-_;if(g>d||_>d){throw new Error("splitScalar: Endomorphism failed, k="+e)}return{k1neg:w,k1:g,k2neg:A,k2:_}}}},o.sha256);const k=BigInt(0);const fe=e=>typeof e==="bigint"&&k<e&&e<g;const ge=e=>typeof e==="bigint"&&k<e&&e<v;const T={};function taggedHash(e,...t){let i=T[e];if(i===undefined){const t=(0,o.sha256)(Uint8Array.from(e,e=>e.charCodeAt(0)));i=(0,d.concatBytes)(t,t);T[e]=i}return(0,o.sha256)((0,d.concatBytes)(i,...t))}const pointToBytes=e=>e.toRawBytes(true).slice(1);const numTo32b=e=>(0,d.numberToBytesBE)(e,32);const modP=e=>(0,l.mod)(e,g);const modN=e=>(0,l.mod)(e,v);const x=A.ProjectivePoint;const GmulAdd=(e,t,i)=>x.BASE.multiplyAndAddUnsafe(e,t,i);function schnorrGetExtPubKey(e){let t=A.utils.normPrivateKeyToScalar(e);let i=x.fromPrivateKey(t);const o=i.hasEvenY()?t:modN(-t);return{scalar:o,bytes:pointToBytes(i)}}function lift_x(e){if(!fe(e))throw new Error("bad x: need 0 < x < p");const t=modP(e*e);const i=modP(t*e+BigInt(7));let o=sqrtMod(i);if(o%_!==k)o=modP(-o);const a=new x(e,o,y);a.assertValidity();return a}function challenge(...e){return modN((0,d.bytesToNumberBE)(taggedHash("BIP0340/challenge",...e)))}function schnorrGetPublicKey(e){return schnorrGetExtPubKey(e).bytes}function schnorrSign(e,t,i=(0,a.randomBytes)(32)){const o=(0,d.ensureBytes)("message",e);const{bytes:l,scalar:u}=schnorrGetExtPubKey(t);const p=(0,d.ensureBytes)("auxRand",i,32);const m=numTo32b(u^(0,d.bytesToNumberBE)(taggedHash("BIP0340/aux",p)));const g=taggedHash("BIP0340/nonce",m,l,o);const v=modN((0,d.bytesToNumberBE)(g));if(v===k)throw new Error("sign failed: k is zero");const{bytes:y,scalar:_}=schnorrGetExtPubKey(v);const w=challenge(y,l,o);const A=new Uint8Array(64);A.set(y,0);A.set(numTo32b(modN(_+w*u)),32);if(!schnorrVerify(A,o,l))throw new Error("sign: Invalid signature produced");return A}function schnorrVerify(e,t,i){const o=(0,d.ensureBytes)("signature",e,64);const a=(0,d.ensureBytes)("message",t);const l=(0,d.ensureBytes)("publicKey",i,32);try{const e=lift_x((0,d.bytesToNumberBE)(l));const t=(0,d.bytesToNumberBE)(o.subarray(0,32));if(!fe(t))return false;const i=(0,d.bytesToNumberBE)(o.subarray(32,64));if(!ge(i))return false;const u=challenge(numTo32b(t),pointToBytes(e),a);const p=GmulAdd(e,i,modN(-u));if(!p||!p.hasEvenY()||p.toAffine().x!==t)return false;return true}catch(e){return false}}const I=(()=>({getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:A.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE:d.numberToBytesBE,bytesToNumberBE:d.bytesToNumberBE,taggedHash,mod:l.mod}}))();const N=(()=>(0,p.isogenyMap)(w,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))))();const P=(()=>(0,u.mapToCurveSimpleSWU)(w,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:w.create(BigInt("-11"))}))();const C=(()=>(0,p.createHasher)(A.ProjectivePoint,e=>{const{x:t,y:i}=P(w.create(e[0]));return N(t,i)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:w.ORDER,m:1,k:128,expand:"xmd",hash:o.sha256}))();const M=(()=>C.hashToCurve)();const B=(()=>C.encodeToCurve)()},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_assert.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bool:()=>bool,bytes:()=>bytes,default:()=>a,exists:()=>exists,hash:()=>hash,number:()=>number,output:()=>output});function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bool(e){if(typeof e!=="boolean")throw new Error(`Expected boolean, not ${e}`)}function bytes(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function hash(e){if(typeof e!=="function"||typeof e.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen);number(e.blockLen)}function exists(e,t=true){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,t){bytes(e);const i=t.outputLen;if(e.length<i){throw new Error(`digestInto() expects output buffer of length at least ${i}`)}}const o={number,bool,bytes,hash,exists,output};const a=o},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_sha2.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SHA2:()=>SHA2});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_assert.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");function setBigUint64(e,t,i,o){if(typeof e.setBigUint64==="function")return e.setBigUint64(t,i,o);const a=BigInt(32);const l=BigInt(4294967295);const u=Number(i>>a&l);const d=Number(i&l);const p=o?4:0;const m=o?0:4;e.setUint32(t+p,u,o);e.setUint32(t+m,d,o)}class SHA2 extends a.Hash{constructor(e,t,i,o){super();this.blockLen=e;this.outputLen=t;this.padOffset=i;this.isLE=o;this.finished=false;this.length=0;this.pos=0;this.destroyed=false;this.buffer=new Uint8Array(e);this.view=(0,a.createView)(this.buffer)}update(e){(0,o.exists)(this);const{view:t,buffer:i,blockLen:l}=this;e=(0,a.toBytes)(e);const u=e.length;for(let o=0;o<u;){const d=Math.min(l-this.pos,u-o);if(d===l){const t=(0,a.createView)(e);for(;l<=u-o;o+=l)this.process(t,o);continue}i.set(e.subarray(o,o+d),this.pos);this.pos+=d;o+=d;if(this.pos===l){this.process(t,0);this.pos=0}}this.length+=e.length;this.roundClean();return this}digestInto(e){(0,o.exists)(this);(0,o.output)(e,this);this.finished=true;const{buffer:t,view:i,blockLen:l,isLE:u}=this;let{pos:d}=this;t[d++]=128;this.buffer.subarray(d).fill(0);if(this.padOffset>l-d){this.process(i,0);d=0}for(let e=d;e<l;e++)t[e]=0;setBigUint64(i,l-8,BigInt(this.length*8),u);this.process(i,0);const p=(0,a.createView)(e);const m=this.outputLen;if(m%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=m/4;const v=this.get();if(g>v.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<g;e++)p.setUint32(4*e,v[e],u)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);this.destroy();return i}_cloneInto(e){e||(e=new this.constructor);e.set(...this.get());const{blockLen:t,buffer:i,length:o,finished:a,destroyed:l,pos:u}=this;e.length=o;e.pos=u;e.finished=a;e.destroyed=l;if(o%t)e.buffer.set(i);return e}}},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_u64.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{add:()=>add,add3H:()=>add3H,add3L:()=>add3L,add4H:()=>add4H,add4L:()=>add4L,add5H:()=>add5H,add5L:()=>add5L,default:()=>u,fromBig:()=>fromBig,rotlBH:()=>rotlBH,rotlBL:()=>rotlBL,rotlSH:()=>rotlSH,rotlSL:()=>rotlSL,rotr32H:()=>rotr32H,rotr32L:()=>rotr32L,rotrBH:()=>rotrBH,rotrBL:()=>rotrBL,rotrSH:()=>rotrSH,rotrSL:()=>rotrSL,shrSH:()=>shrSH,shrSL:()=>shrSL,split:()=>split,toBig:()=>toBig});const o=BigInt(2**32-1);const a=BigInt(32);function fromBig(e,t=false){if(t)return{h:Number(e&o),l:Number(e>>a&o)};return{h:Number(e>>a&o)|0,l:Number(e&o)|0}}function split(e,t=false){let i=new Uint32Array(e.length);let o=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:l,l:u}=fromBig(e[a],t);[i[a],o[a]]=[l,u]}return[i,o]}const toBig=(e,t)=>BigInt(e>>>0)<<a|BigInt(t>>>0);const shrSH=(e,t,i)=>e>>>i;const shrSL=(e,t,i)=>e<<32-i|t>>>i;const rotrSH=(e,t,i)=>e>>>i|t<<32-i;const rotrSL=(e,t,i)=>e<<32-i|t>>>i;const rotrBH=(e,t,i)=>e<<64-i|t>>>i-32;const rotrBL=(e,t,i)=>e>>>i-32|t<<64-i;const rotr32H=(e,t)=>t;const rotr32L=(e,t)=>e;const rotlSH=(e,t,i)=>e<<i|t>>>32-i;const rotlSL=(e,t,i)=>t<<i|e>>>32-i;const rotlBH=(e,t,i)=>t<<i-32|e>>>64-i;const rotlBL=(e,t,i)=>e<<i-32|t>>>64-i;function add(e,t,i,o){const a=(t>>>0)+(o>>>0);return{h:e+i+(a/2**32|0)|0,l:a|0}}const add3L=(e,t,i)=>(e>>>0)+(t>>>0)+(i>>>0);const add3H=(e,t,i,o)=>t+i+o+(e/2**32|0)|0;const add4L=(e,t,i,o)=>(e>>>0)+(t>>>0)+(i>>>0)+(o>>>0);const add4H=(e,t,i,o,a)=>t+i+o+a+(e/2**32|0)|0;const add5L=(e,t,i,o,a)=>(e>>>0)+(t>>>0)+(i>>>0)+(o>>>0)+(a>>>0);const add5H=(e,t,i,o,a,l)=>t+i+o+a+l+(e/2**32|0)|0;const l={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};const u=l},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/crypto.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{crypto:()=>o});const o=typeof globalThis==="object"&&"crypto"in globalThis?globalThis.crypto:undefined},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/hmac.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{HMAC:()=>HMAC,hmac:()=>hmac});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_assert.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");class HMAC extends a.Hash{constructor(e,t){super();this.finished=false;this.destroyed=false;(0,o.hash)(e);const i=(0,a.toBytes)(t);this.iHash=e.create();if(typeof this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const l=this.blockLen;const u=new Uint8Array(l);u.set(i.length>l?e.create().update(i).digest():i);for(let e=0;e<u.length;e++)u[e]^=54;this.iHash.update(u);this.oHash=e.create();for(let e=0;e<u.length;e++)u[e]^=54^92;this.oHash.update(u);u.fill(0)}update(e){(0,o.exists)(this);this.iHash.update(e);return this}digestInto(e){(0,o.exists)(this);(0,o.bytes)(e,this.outputLen);this.finished=true;this.iHash.digestInto(e);this.oHash.update(e);this.oHash.digestInto(e);this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);this.digestInto(e);return e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:o,destroyed:a,blockLen:l,outputLen:u}=this;e=e;e.finished=o;e.destroyed=a;e.blockLen=l;e.outputLen=u;e.oHash=t._cloneInto(e.oHash);e.iHash=i._cloneInto(e.iHash);return e}destroy(){this.destroyed=true;this.oHash.destroy();this.iHash.destroy()}}const hmac=(e,t,i)=>new HMAC(e,t).update(i).digest();hmac.create=(e,t)=>new HMAC(e,t)},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/pbkdf2.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{pbkdf2:()=>pbkdf2,pbkdf2Async:()=>pbkdf2Async});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_assert.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/hmac.js");var l=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");function pbkdf2Init(e,t,i,u){(0,o.hash)(e);const d=(0,l.checkOpts)({dkLen:32,asyncTick:10},u);const{c:p,dkLen:m,asyncTick:g}=d;(0,o.number)(p);(0,o.number)(m);(0,o.number)(g);if(p<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const v=(0,l.toBytes)(t);const y=(0,l.toBytes)(i);const _=new Uint8Array(m);const w=a.hmac.create(e,v);const A=w._cloneInto().update(y);return{c:p,dkLen:m,asyncTick:g,DK:_,PRF:w,PRFSalt:A}}function pbkdf2Output(e,t,i,o,a){e.destroy();t.destroy();if(o)o.destroy();a.fill(0);return i}function pbkdf2(e,t,i,o){const{c:a,dkLen:u,DK:d,PRF:p,PRFSalt:m}=pbkdf2Init(e,t,i,o);let g;const v=new Uint8Array(4);const y=(0,l.createView)(v);const _=new Uint8Array(p.outputLen);for(let e=1,t=0;t<u;e++,t+=p.outputLen){const i=d.subarray(t,t+p.outputLen);y.setInt32(0,e,false);(g=m._cloneInto(g)).update(v).digestInto(_);i.set(_.subarray(0,i.length));for(let e=1;e<a;e++){p._cloneInto(g).update(_).digestInto(_);for(let e=0;e<i.length;e++)i[e]^=_[e]}}return pbkdf2Output(p,m,d,g,_)}async function pbkdf2Async(e,t,i,o){const{c:a,dkLen:u,asyncTick:d,DK:p,PRF:m,PRFSalt:g}=pbkdf2Init(e,t,i,o);let v;const y=new Uint8Array(4);const _=(0,l.createView)(y);const w=new Uint8Array(m.outputLen);for(let e=1,t=0;t<u;e++,t+=m.outputLen){const i=p.subarray(t,t+m.outputLen);_.setInt32(0,e,false);(v=g._cloneInto(v)).update(y).digestInto(w);i.set(w.subarray(0,i.length));await(0,l.asyncLoop)(a-1,d,()=>{m._cloneInto(v).update(w).digestInto(w);for(let e=0;e<i.length;e++)i[e]^=w[e]})}return pbkdf2Output(m,g,p,v,w)}},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/ripemd160.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{RIPEMD160:()=>RIPEMD160,ripemd160:()=>k});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_sha2.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");const l=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]);const u=Uint8Array.from({length:16},(e,t)=>t);const d=u.map(e=>(9*e+5)%16);let p=[u];let m=[d];for(let e=0;e<4;e++)for(let t of[p,m])t.push(t[e].map(e=>l[e]));const g=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e));const v=p.map((e,t)=>e.map(e=>g[t][e]));const y=m.map((e,t)=>e.map(e=>g[t][e]));const _=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]);const w=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);const rotl=(e,t)=>e<<t|e>>>32-t;function f(e,t,i,o){if(e===0)return t^i^o;else if(e===1)return t&i|~t&o;else if(e===2)return(t|~i)^o;else if(e===3)return t&o|i&~o;else return t^(i|~o)}const A=new Uint32Array(16);class RIPEMD160 extends o.SHA2{constructor(){super(64,20,8,true);this.h0=1732584193|0;this.h1=4023233417|0;this.h2=2562383102|0;this.h3=271733878|0;this.h4=3285377520|0}get(){const{h0:e,h1:t,h2:i,h3:o,h4:a}=this;return[e,t,i,o,a]}set(e,t,i,o,a){this.h0=e|0;this.h1=t|0;this.h2=i|0;this.h3=o|0;this.h4=a|0}process(e,t){for(let i=0;i<16;i++,t+=4)A[i]=e.getUint32(t,true);let i=this.h0|0,o=i,a=this.h1|0,l=a,u=this.h2|0,d=u,g=this.h3|0,k=g,T=this.h4|0,x=T;for(let e=0;e<5;e++){const t=4-e;const I=_[e],N=w[e];const P=p[e],C=m[e];const M=v[e],B=y[e];for(let t=0;t<16;t++){const o=rotl(i+f(e,a,u,g)+A[P[t]]+I,M[t])+T|0;i=T,T=g,g=rotl(u,10)|0,u=a,a=o}for(let e=0;e<16;e++){const i=rotl(o+f(t,l,d,k)+A[C[e]]+N,B[e])+x|0;o=x,x=k,k=rotl(d,10)|0,d=l,l=i}}this.set(this.h1+u+k|0,this.h2+g+x|0,this.h3+T+o|0,this.h4+i+l|0,this.h0+a+d|0)}roundClean(){A.fill(0)}destroy(){this.destroyed=true;this.buffer.fill(0);this.set(0,0,0,0,0)}}const k=(0,a.wrapConstructor)(()=>new RIPEMD160)},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/scrypt.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{scrypt:()=>scrypt,scryptAsync:()=>scryptAsync});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_assert.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha256.js");var l=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/pbkdf2.js");var u=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");const rotl=(e,t)=>e<<t|e>>>32-t;function XorAndSalsa(e,t,i,o,a,l){let u=e[t++]^i[o++],d=e[t++]^i[o++];let p=e[t++]^i[o++],m=e[t++]^i[o++];let g=e[t++]^i[o++],v=e[t++]^i[o++];let y=e[t++]^i[o++],_=e[t++]^i[o++];let w=e[t++]^i[o++],A=e[t++]^i[o++];let k=e[t++]^i[o++],T=e[t++]^i[o++];let x=e[t++]^i[o++],I=e[t++]^i[o++];let N=e[t++]^i[o++],P=e[t++]^i[o++];let C=u,M=d,B=p,j=m,O=g,D=v,L=y,F=_,U=w,H=A,q=k,G=T,z=x,W=I,V=N,Y=P;for(let e=0;e<8;e+=2){O^=rotl(C+z|0,7);U^=rotl(O+C|0,9);z^=rotl(U+O|0,13);C^=rotl(z+U|0,18);H^=rotl(D+M|0,7);W^=rotl(H+D|0,9);M^=rotl(W+H|0,13);D^=rotl(M+W|0,18);V^=rotl(q+L|0,7);B^=rotl(V+q|0,9);L^=rotl(B+V|0,13);q^=rotl(L+B|0,18);j^=rotl(Y+G|0,7);F^=rotl(j+Y|0,9);G^=rotl(F+j|0,13);Y^=rotl(G+F|0,18);M^=rotl(C+j|0,7);B^=rotl(M+C|0,9);j^=rotl(B+M|0,13);C^=rotl(j+B|0,18);L^=rotl(D+O|0,7);F^=rotl(L+D|0,9);O^=rotl(F+L|0,13);D^=rotl(O+F|0,18);G^=rotl(q+H|0,7);U^=rotl(G+q|0,9);H^=rotl(U+G|0,13);q^=rotl(H+U|0,18);z^=rotl(Y+V|0,7);W^=rotl(z+Y|0,9);V^=rotl(W+z|0,13);Y^=rotl(V+W|0,18)}a[l++]=u+C|0;a[l++]=d+M|0;a[l++]=p+B|0;a[l++]=m+j|0;a[l++]=g+O|0;a[l++]=v+D|0;a[l++]=y+L|0;a[l++]=_+F|0;a[l++]=w+U|0;a[l++]=A+H|0;a[l++]=k+q|0;a[l++]=T+G|0;a[l++]=x+z|0;a[l++]=I+W|0;a[l++]=N+V|0;a[l++]=P+Y|0}function BlockMix(e,t,i,o,a){let l=o+0;let u=o+16*a;for(let o=0;o<16;o++)i[u+o]=e[t+(2*a-1)*16+o];for(let o=0;o<a;o++,l+=16,t+=16){XorAndSalsa(i,u,e,t,i,l);if(o>0)u+=16;XorAndSalsa(i,l,e,t+=16,i,u)}}function scryptInit(e,t,i){const d=(0,u.checkOpts)({dkLen:32,asyncTick:10,maxmem:1024**3+1024},i);const{N:p,r:m,p:g,dkLen:v,asyncTick:y,maxmem:_,onProgress:w}=d;(0,o.number)(p);(0,o.number)(m);(0,o.number)(g);(0,o.number)(v);(0,o.number)(y);(0,o.number)(_);if(w!==undefined&&typeof w!=="function")throw new Error("progressCb should be function");const A=128*m;const k=A/4;if(p<=1||(p&p-1)!==0||p>=2**(A/8)||p>2**32){throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32")}if(g<0||g>(2**32-1)*32/A){throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)")}if(v<0||v>(2**32-1)*32){throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32")}const T=A*(p+g);if(T>_){throw new Error(`Scrypt: parameters too large, ${T} (128 * r * (N + p)) > ${_} (maxmem)`)}const x=(0,l.pbkdf2)(a.sha256,e,t,{c:1,dkLen:A*g});const I=(0,u.u32)(x);const N=(0,u.u32)(new Uint8Array(A*p));const P=(0,u.u32)(new Uint8Array(A));let blockMixCb=()=>{};if(w){const e=2*p*g;const t=Math.max(Math.floor(e/1e4),1);let i=0;blockMixCb=()=>{i++;if(w&&(!(i%t)||i===e))w(i/e)}}return{N:p,r:m,p:g,dkLen:v,blockSize32:k,V:N,B32:I,B:x,tmp:P,blockMixCb,asyncTick:y}}function scryptOutput(e,t,i,o,u){const d=(0,l.pbkdf2)(a.sha256,e,i,{c:1,dkLen:t});i.fill(0);o.fill(0);u.fill(0);return d}function scrypt(e,t,i){const{N:o,r:a,p:l,dkLen:u,blockSize32:d,V:p,B32:m,B:g,tmp:v,blockMixCb:y}=scryptInit(e,t,i);for(let e=0;e<l;e++){const t=d*e;for(let e=0;e<d;e++)p[e]=m[t+e];for(let e=0,t=0;e<o-1;e++){BlockMix(p,t,p,t+=d,a);y()}BlockMix(p,(o-1)*d,m,t,a);y();for(let e=0;e<o;e++){const e=m[t+d-16]%o;for(let i=0;i<d;i++)v[i]=m[t+i]^p[e*d+i];BlockMix(v,0,m,t,a);y()}}return scryptOutput(e,u,g,p,v)}async function scryptAsync(e,t,i){const{N:o,r:a,p:l,dkLen:d,blockSize32:p,V:m,B32:g,B:v,tmp:y,blockMixCb:_,asyncTick:w}=scryptInit(e,t,i);for(let e=0;e<l;e++){const t=p*e;for(let e=0;e<p;e++)m[e]=g[t+e];let i=0;await(0,u.asyncLoop)(o-1,w,()=>{BlockMix(m,i,m,i+=p,a);_()});BlockMix(m,(o-1)*p,g,t,a);_();await(0,u.asyncLoop)(o,w,()=>{const e=g[t+p-16]%o;for(let i=0;i<p;i++)y[i]=g[t+i]^m[e*p+i];BlockMix(y,0,g,t,a);_()})}return scryptOutput(e,d,v,m,y)}},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha256.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{sha224:()=>m,sha256:()=>p});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_sha2.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");const Chi=(e,t,i)=>e&t^~e&i;const Maj=(e,t,i)=>e&t^e&i^t&i;const l=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);const u=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);const d=new Uint32Array(64);class SHA256 extends o.SHA2{constructor(){super(64,32,8,false);this.A=u[0]|0;this.B=u[1]|0;this.C=u[2]|0;this.D=u[3]|0;this.E=u[4]|0;this.F=u[5]|0;this.G=u[6]|0;this.H=u[7]|0}get(){const{A:e,B:t,C:i,D:o,E:a,F:l,G:u,H:d}=this;return[e,t,i,o,a,l,u,d]}set(e,t,i,o,a,l,u,d){this.A=e|0;this.B=t|0;this.C=i|0;this.D=o|0;this.E=a|0;this.F=l|0;this.G=u|0;this.H=d|0}process(e,t){for(let i=0;i<16;i++,t+=4)d[i]=e.getUint32(t,false);for(let e=16;e<64;e++){const t=d[e-15];const i=d[e-2];const o=(0,a.rotr)(t,7)^(0,a.rotr)(t,18)^t>>>3;const l=(0,a.rotr)(i,17)^(0,a.rotr)(i,19)^i>>>10;d[e]=l+d[e-7]+o+d[e-16]|0}let{A:i,B:o,C:u,D:p,E:m,F:g,G:v,H:y}=this;for(let e=0;e<64;e++){const t=(0,a.rotr)(m,6)^(0,a.rotr)(m,11)^(0,a.rotr)(m,25);const _=y+t+Chi(m,g,v)+l[e]+d[e]|0;const w=(0,a.rotr)(i,2)^(0,a.rotr)(i,13)^(0,a.rotr)(i,22);const A=w+Maj(i,o,u)|0;y=v;v=g;g=m;m=p+_|0;p=u;u=o;o=i;i=_+A|0}i=i+this.A|0;o=o+this.B|0;u=u+this.C|0;p=p+this.D|0;m=m+this.E|0;g=g+this.F|0;v=v+this.G|0;y=y+this.H|0;this.set(i,o,u,p,m,g,v,y)}roundClean(){d.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0);this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super();this.A=3238371032|0;this.B=914150663|0;this.C=812702999|0;this.D=4144912697|0;this.E=4290775857|0;this.F=1750603025|0;this.G=1694076839|0;this.H=3204075428|0;this.outputLen=28}}const p=(0,a.wrapConstructor)(()=>new SHA256);const m=(0,a.wrapConstructor)(()=>new SHA224)},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha3.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Keccak:()=>Keccak,keccakP:()=>keccakP,keccak_224:()=>P,keccak_256:()=>C,keccak_384:()=>M,keccak_512:()=>B,sha3_224:()=>T,sha3_256:()=>x,sha3_384:()=>I,sha3_512:()=>N,shake128:()=>j,shake256:()=>O});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_assert.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_u64.js");var l=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");const[u,d,p]=[[],[],[]];const m=BigInt(0);const g=BigInt(1);const v=BigInt(2);const y=BigInt(7);const _=BigInt(256);const w=BigInt(113);for(let e=0,t=g,i=1,o=0;e<24;e++){[i,o]=[o,(2*i+3*o)%5];u.push(2*(5*o+i));d.push((e+1)*(e+2)/2%64);let a=m;for(let e=0;e<7;e++){t=(t<<g^(t>>y)*w)%_;if(t&v)a^=g<<(g<<BigInt(e))-g}p.push(a)}const[A,k]=(0,a.split)(p,true);const rotlH=(e,t,i)=>i>32?(0,a.rotlBH)(e,t,i):(0,a.rotlSH)(e,t,i);const rotlL=(e,t,i)=>i>32?(0,a.rotlBL)(e,t,i):(0,a.rotlSL)(e,t,i);function keccakP(e,t=24){const i=new Uint32Array(5*2);for(let o=24-t;o<24;o++){for(let t=0;t<10;t++)i[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const o=(t+8)%10;const a=(t+2)%10;const l=i[a];const u=i[a+1];const d=rotlH(l,u,1)^i[o];const p=rotlL(l,u,1)^i[o+1];for(let i=0;i<50;i+=10){e[t+i]^=d;e[t+i+1]^=p}}let t=e[2];let a=e[3];for(let i=0;i<24;i++){const o=d[i];const l=rotlH(t,a,o);const p=rotlL(t,a,o);const m=u[i];t=e[m];a=e[m+1];e[m]=l;e[m+1]=p}for(let t=0;t<50;t+=10){for(let o=0;o<10;o++)i[o]=e[t+o];for(let o=0;o<10;o++)e[t+o]^=~i[(o+2)%10]&i[(o+4)%10]}e[0]^=A[o];e[1]^=k[o]}i.fill(0)}class Keccak extends l.Hash{constructor(e,t,i,a=false,u=24){super();this.blockLen=e;this.suffix=t;this.outputLen=i;this.enableXOF=a;this.rounds=u;this.pos=0;this.posOut=0;this.finished=false;this.destroyed=false;(0,o.number)(i);if(0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200);this.state32=(0,l.u32)(this.state)}keccak(){keccakP(this.state32,this.rounds);this.posOut=0;this.pos=0}update(e){(0,o.exists)(this);const{blockLen:t,state:i}=this;e=(0,l.toBytes)(e);const a=e.length;for(let o=0;o<a;){const l=Math.min(t-this.pos,a-o);for(let t=0;t<l;t++)i[this.pos++]^=e[o++];if(this.pos===t)this.keccak()}return this}finish(){if(this.finished)return;this.finished=true;const{state:e,suffix:t,pos:i,blockLen:o}=this;e[i]^=t;if((t&128)!==0&&i===o-1)this.keccak();e[o-1]^=128;this.keccak()}writeInto(e){(0,o.exists)(this,false);(0,o.bytes)(e);this.finish();const t=this.state;const{blockLen:i}=this;for(let o=0,a=e.length;o<a;){if(this.posOut>=i)this.keccak();const l=Math.min(i-this.posOut,a-o);e.set(t.subarray(this.posOut,this.posOut+l),o);this.posOut+=l;o+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){(0,o.number)(e);return this.xofInto(new Uint8Array(e))}digestInto(e){(0,o.output)(e,this);if(this.finished)throw new Error("digest() was already called");this.writeInto(e);this.destroy();return e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=true;this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:o,rounds:a,enableXOF:l}=this;e||(e=new Keccak(t,i,o,l,a));e.state32.set(this.state32);e.pos=this.pos;e.posOut=this.posOut;e.finished=this.finished;e.rounds=a;e.suffix=i;e.outputLen=o;e.enableXOF=l;e.destroyed=this.destroyed;return e}}const gen=(e,t,i)=>(0,l.wrapConstructor)(()=>new Keccak(t,e,i));const T=gen(6,144,224/8);const x=gen(6,136,256/8);const I=gen(6,104,384/8);const N=gen(6,72,512/8);const P=gen(1,144,224/8);const C=gen(1,136,256/8);const M=gen(1,104,384/8);const B=gen(1,72,512/8);const genShake=(e,t,i)=>(0,l.wrapXOFConstructorWithOpts)((o={})=>new Keccak(t,e,o.dkLen===undefined?i:o.dkLen,true));const j=genShake(31,168,128/8);const O=genShake(31,136,256/8)},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha512.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SHA512:()=>SHA512,sha384:()=>_,sha512:()=>g,sha512_224:()=>v,sha512_256:()=>y});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_sha2.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/_u64.js");var l=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js");const[u,d]=(()=>a["default"].split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))();const p=new Uint32Array(80);const m=new Uint32Array(80);class SHA512 extends o.SHA2{constructor(){super(128,64,16,false);this.Ah=1779033703|0;this.Al=4089235720|0;this.Bh=3144134277|0;this.Bl=2227873595|0;this.Ch=1013904242|0;this.Cl=4271175723|0;this.Dh=2773480762|0;this.Dl=1595750129|0;this.Eh=1359893119|0;this.El=2917565137|0;this.Fh=2600822924|0;this.Fl=725511199|0;this.Gh=528734635|0;this.Gl=4215389547|0;this.Hh=1541459225|0;this.Hl=327033209|0}get(){const{Ah:e,Al:t,Bh:i,Bl:o,Ch:a,Cl:l,Dh:u,Dl:d,Eh:p,El:m,Fh:g,Fl:v,Gh:y,Gl:_,Hh:w,Hl:A}=this;return[e,t,i,o,a,l,u,d,p,m,g,v,y,_,w,A]}set(e,t,i,o,a,l,u,d,p,m,g,v,y,_,w,A){this.Ah=e|0;this.Al=t|0;this.Bh=i|0;this.Bl=o|0;this.Ch=a|0;this.Cl=l|0;this.Dh=u|0;this.Dl=d|0;this.Eh=p|0;this.El=m|0;this.Fh=g|0;this.Fl=v|0;this.Gh=y|0;this.Gl=_|0;this.Hh=w|0;this.Hl=A|0}process(e,t){for(let i=0;i<16;i++,t+=4){p[i]=e.getUint32(t);m[i]=e.getUint32(t+=4)}for(let e=16;e<80;e++){const t=p[e-15]|0;const i=m[e-15]|0;const o=a["default"].rotrSH(t,i,1)^a["default"].rotrSH(t,i,8)^a["default"].shrSH(t,i,7);const l=a["default"].rotrSL(t,i,1)^a["default"].rotrSL(t,i,8)^a["default"].shrSL(t,i,7);const u=p[e-2]|0;const d=m[e-2]|0;const g=a["default"].rotrSH(u,d,19)^a["default"].rotrBH(u,d,61)^a["default"].shrSH(u,d,6);const v=a["default"].rotrSL(u,d,19)^a["default"].rotrBL(u,d,61)^a["default"].shrSL(u,d,6);const y=a["default"].add4L(l,v,m[e-7],m[e-16]);const _=a["default"].add4H(y,o,g,p[e-7],p[e-16]);p[e]=_|0;m[e]=y|0}let{Ah:i,Al:o,Bh:l,Bl:g,Ch:v,Cl:y,Dh:_,Dl:w,Eh:A,El:k,Fh:T,Fl:x,Gh:I,Gl:N,Hh:P,Hl:C}=this;for(let e=0;e<80;e++){const t=a["default"].rotrSH(A,k,14)^a["default"].rotrSH(A,k,18)^a["default"].rotrBH(A,k,41);const M=a["default"].rotrSL(A,k,14)^a["default"].rotrSL(A,k,18)^a["default"].rotrBL(A,k,41);const B=A&T^~A&I;const j=k&x^~k&N;const O=a["default"].add5L(C,M,j,d[e],m[e]);const D=a["default"].add5H(O,P,t,B,u[e],p[e]);const L=O|0;const F=a["default"].rotrSH(i,o,28)^a["default"].rotrBH(i,o,34)^a["default"].rotrBH(i,o,39);const U=a["default"].rotrSL(i,o,28)^a["default"].rotrBL(i,o,34)^a["default"].rotrBL(i,o,39);const H=i&l^i&v^l&v;const q=o&g^o&y^g&y;P=I|0;C=N|0;I=T|0;N=x|0;T=A|0;x=k|0;({h:A,l:k}=a["default"].add(_|0,w|0,D|0,L|0));_=v|0;w=y|0;v=l|0;y=g|0;l=i|0;g=o|0;const G=a["default"].add3L(L,U,q);i=a["default"].add3H(G,D,F,H);o=G|0}({h:i,l:o}=a["default"].add(this.Ah|0,this.Al|0,i|0,o|0));({h:l,l:g}=a["default"].add(this.Bh|0,this.Bl|0,l|0,g|0));({h:v,l:y}=a["default"].add(this.Ch|0,this.Cl|0,v|0,y|0));({h:_,l:w}=a["default"].add(this.Dh|0,this.Dl|0,_|0,w|0));({h:A,l:k}=a["default"].add(this.Eh|0,this.El|0,A|0,k|0));({h:T,l:x}=a["default"].add(this.Fh|0,this.Fl|0,T|0,x|0));({h:I,l:N}=a["default"].add(this.Gh|0,this.Gl|0,I|0,N|0));({h:P,l:C}=a["default"].add(this.Hh|0,this.Hl|0,P|0,C|0));this.set(i,o,l,g,v,y,_,w,A,k,T,x,I,N,P,C)}roundClean(){p.fill(0);m.fill(0)}destroy(){this.buffer.fill(0);this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_224 extends SHA512{constructor(){super();this.Ah=2352822216|0;this.Al=424955298|0;this.Bh=1944164710|0;this.Bl=2312950998|0;this.Ch=502970286|0;this.Cl=855612546|0;this.Dh=1738396948|0;this.Dl=1479516111|0;this.Eh=258812777|0;this.El=2077511080|0;this.Fh=2011393907|0;this.Fl=79989058|0;this.Gh=1067287976|0;this.Gl=1780299464|0;this.Hh=286451373|0;this.Hl=2446758561|0;this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super();this.Ah=573645204|0;this.Al=4230739756|0;this.Bh=2673172387|0;this.Bl=3360449730|0;this.Ch=596883563|0;this.Cl=1867755857|0;this.Dh=2520282905|0;this.Dl=1497426621|0;this.Eh=2519219938|0;this.El=2827943907|0;this.Fh=3193839141|0;this.Fl=1401305490|0;this.Gh=721525244|0;this.Gl=746961066|0;this.Hh=246885852|0;this.Hl=2177182882|0;this.outputLen=32}}class SHA384 extends SHA512{constructor(){super();this.Ah=3418070365|0;this.Al=3238371032|0;this.Bh=1654270250|0;this.Bl=914150663|0;this.Ch=2438529370|0;this.Cl=812702999|0;this.Dh=355462360|0;this.Dl=4144912697|0;this.Eh=1731405415|0;this.El=4290775857|0;this.Fh=2394180231|0;this.Fl=1750603025|0;this.Gh=3675008525|0;this.Gl=1694076839|0;this.Hh=1203062813|0;this.Hl=3204075428|0;this.outputLen=48}}const g=(0,l.wrapConstructor)(()=>new SHA512);const v=(0,l.wrapConstructor)(()=>new SHA512_224);const y=(0,l.wrapConstructor)(()=>new SHA512_256);const _=(0,l.wrapConstructor)(()=>new SHA384)},"../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Hash:()=>Hash,asyncLoop:()=>asyncLoop,bytesToHex:()=>bytesToHex,checkOpts:()=>checkOpts,concatBytes:()=>concatBytes,createView:()=>createView,hexToBytes:()=>hexToBytes,isLE:()=>a,nextTick:()=>nextTick,randomBytes:()=>randomBytes,rotr:()=>rotr,toBytes:()=>toBytes,u32:()=>u32,u8:()=>u8,utf8ToBytes:()=>utf8ToBytes,wrapConstructor:()=>wrapConstructor,wrapConstructorWithOpts:()=>wrapConstructorWithOpts,wrapXOFConstructorWithOpts:()=>wrapXOFConstructorWithOpts});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/crypto.js");const u8a=e=>e instanceof Uint8Array;const u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);const u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));const createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);const rotr=(e,t)=>e<<32-t|e>>>t;const a=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!a)throw new Error("Non little-endian hardware is not supported");const l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let t="";for(let i=0;i<e.length;i++){t+=l[e[i]]}return t}function hexToBytes(e){if(typeof e!=="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(t/2);for(let t=0;t<i.length;t++){const o=t*2;const a=e.slice(o,o+2);const l=Number.parseInt(a,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");i[t]=l}return i}const nextTick=async()=>{};async function asyncLoop(e,t,i){let o=Date.now();for(let a=0;a<e;a++){i(a);const e=Date.now()-o;if(e>=0&&e<t)continue;await nextTick();o+=e}}function utf8ToBytes(e){if(typeof e!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){if(typeof e==="string")e=utf8ToBytes(e);if(!u8a(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function concatBytes(...e){const t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));let i=0;e.forEach(e=>{if(!u8a(e))throw new Error("Uint8Array expected");t.set(e,i);i+=e.length});return t}class Hash{clone(){return this._cloneInto()}}const u={}.toString;function checkOpts(e,t){if(t!==undefined&&u.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");const i=Object.assign(e,t);return i}function wrapConstructor(e){const hashC=t=>e().update(toBytes(t)).digest();const t=e();hashC.outputLen=t.outputLen;hashC.blockLen=t.blockLen;hashC.create=()=>e();return hashC}function wrapConstructorWithOpts(e){const hashC=(t,i)=>e(i).update(toBytes(t)).digest();const t=e({});hashC.outputLen=t.outputLen;hashC.blockLen=t.blockLen;hashC.create=t=>e(t);return hashC}function wrapXOFConstructorWithOpts(e){const hashC=(t,i)=>e(i).update(toBytes(t)).digest();const t=e({});hashC.outputLen=t.outputLen;hashC.blockLen=t.blockLen;hashC.create=t=>e(t);return hashC}function randomBytes(e=32){if(o.crypto&&typeof o.crypto.getRandomValues==="function"){return o.crypto.getRandomValues(new Uint8Array(e))}throw new Error("crypto.getRandomValues must be defined")}},"../../node_modules/.pnpm/aes-js@3.0.0/node_modules/aes-js/index.js":function(e){"use strict";(function(t){function checkInt(e){return parseInt(e)===e}function checkInts(e){if(!checkInt(e.length)){return false}for(var t=0;t<e.length;t++){if(!checkInt(e[t])||e[t]<0||e[t]>255){return false}}return true}function coerceArray(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&e.name==="Uint8Array"){if(t){if(e.slice){e=e.slice()}else{e=Array.prototype.slice.call(e)}}return e}if(Array.isArray(e)){if(!checkInts(e)){throw new Error("Array contains invalid value: "+e)}return new Uint8Array(e)}if(checkInt(e.length)&&checkInts(e)){return new Uint8Array(e)}throw new Error("unsupported array-like object")}function createArray(e){return new Uint8Array(e)}function copyArray(e,t,i,o,a){if(o!=null||a!=null){if(e.slice){e=e.slice(o,a)}else{e=Array.prototype.slice.call(e,o,a)}}t.set(e,i)}var i=function(){function toBytes(e){var t=[],i=0;e=encodeURI(e);while(i<e.length){var o=e.charCodeAt(i++);if(o===37){t.push(parseInt(e.substr(i,2),16));i+=2}else{t.push(o)}}return coerceArray(t)}function fromBytes(e){var t=[],i=0;while(i<e.length){var o=e[i];if(o<128){t.push(String.fromCharCode(o));i++}else if(o>191&&o<224){t.push(String.fromCharCode((o&31)<<6|e[i+1]&63));i+=2}else{t.push(String.fromCharCode((o&15)<<12|(e[i+1]&63)<<6|e[i+2]&63));i+=3}}return t.join("")}return{toBytes,fromBytes}}();var o=function(){function toBytes(e){var t=[];for(var i=0;i<e.length;i+=2){t.push(parseInt(e.substr(i,2),16))}return t}var e="0123456789abcdef";function fromBytes(t){var i=[];for(var o=0;o<t.length;o++){var a=t[o];i.push(e[(a&240)>>4]+e[a&15])}return i.join("")}return{toBytes,fromBytes}}();var a={16:10,24:12,32:14};var l=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145];var u=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];var d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];var p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986];var m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766];var g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126];var v=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436];var y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890];var _=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935];var w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600];var A=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480];var k=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795];var T=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855];var x=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150];var I=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function convertToInt32(e){var t=[];for(var i=0;i<e.length;i+=4){t.push(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])}return t}var AES=function(e){if(!(this instanceof AES)){throw Error("AES must be instanitated with `new`")}Object.defineProperty(this,"key",{value:coerceArray(e,true)});this._prepare()};AES.prototype._prepare=function(){var e=a[this.key.length];if(e==null){throw new Error("invalid key size (must be 16, 24 or 32 bytes)")}this._Ke=[];this._Kd=[];for(var t=0;t<=e;t++){this._Ke.push([0,0,0,0]);this._Kd.push([0,0,0,0])}var i=(e+1)*4;var o=this.key.length/4;var d=convertToInt32(this.key);var p;for(var t=0;t<o;t++){p=t>>2;this._Ke[p][t%4]=d[t];this._Kd[e-p][t%4]=d[t]}var m=0;var g=o,v;while(g<i){v=d[o-1];d[0]^=u[v>>16&255]<<24^u[v>>8&255]<<16^u[v&255]<<8^u[v>>24&255]^l[m]<<24;m+=1;if(o!=8){for(var t=1;t<o;t++){d[t]^=d[t-1]}}else{for(var t=1;t<o/2;t++){d[t]^=d[t-1]}v=d[o/2-1];d[o/2]^=u[v&255]^u[v>>8&255]<<8^u[v>>16&255]<<16^u[v>>24&255]<<24;for(var t=o/2+1;t<o;t++){d[t]^=d[t-1]}}var t=0,y,_;while(t<o&&g<i){y=g>>2;_=g%4;this._Ke[y][_]=d[t];this._Kd[e-y][_]=d[t++];g++}}for(var y=1;y<e;y++){for(var _=0;_<4;_++){v=this._Kd[y][_];this._Kd[y][_]=k[v>>24&255]^T[v>>16&255]^x[v>>8&255]^I[v&255]}}};AES.prototype.encrypt=function(e){if(e.length!=16){throw new Error("invalid plaintext size (must be 16 bytes)")}var t=this._Ke.length-1;var i=[0,0,0,0];var o=convertToInt32(e);for(var a=0;a<4;a++){o[a]^=this._Ke[0][a]}for(var l=1;l<t;l++){for(var a=0;a<4;a++){i[a]=p[o[a]>>24&255]^m[o[(a+1)%4]>>16&255]^g[o[(a+2)%4]>>8&255]^v[o[(a+3)%4]&255]^this._Ke[l][a]}o=i.slice()}var d=createArray(16),y;for(var a=0;a<4;a++){y=this._Ke[t][a];d[4*a]=(u[o[a]>>24&255]^y>>24)&255;d[4*a+1]=(u[o[(a+1)%4]>>16&255]^y>>16)&255;d[4*a+2]=(u[o[(a+2)%4]>>8&255]^y>>8)&255;d[4*a+3]=(u[o[(a+3)%4]&255]^y)&255}return d};AES.prototype.decrypt=function(e){if(e.length!=16){throw new Error("invalid ciphertext size (must be 16 bytes)")}var t=this._Kd.length-1;var i=[0,0,0,0];var o=convertToInt32(e);for(var a=0;a<4;a++){o[a]^=this._Kd[0][a]}for(var l=1;l<t;l++){for(var a=0;a<4;a++){i[a]=y[o[a]>>24&255]^_[o[(a+3)%4]>>16&255]^w[o[(a+2)%4]>>8&255]^A[o[(a+1)%4]&255]^this._Kd[l][a]}o=i.slice()}var u=createArray(16),p;for(var a=0;a<4;a++){p=this._Kd[t][a];u[4*a]=(d[o[a]>>24&255]^p>>24)&255;u[4*a+1]=(d[o[(a+3)%4]>>16&255]^p>>16)&255;u[4*a+2]=(d[o[(a+2)%4]>>8&255]^p>>8)&255;u[4*a+3]=(d[o[(a+1)%4]&255]^p)&255}return u};var ModeOfOperationECB=function(e){if(!(this instanceof ModeOfOperationECB)){throw Error("AES must be instanitated with `new`")}this.description="Electronic Code Block";this.name="ecb";this._aes=new AES(e)};ModeOfOperationECB.prototype.encrypt=function(e){e=coerceArray(e);if(e.length%16!==0){throw new Error("invalid plaintext size (must be multiple of 16 bytes)")}var t=createArray(e.length);var i=createArray(16);for(var o=0;o<e.length;o+=16){copyArray(e,i,0,o,o+16);i=this._aes.encrypt(i);copyArray(i,t,o)}return t};ModeOfOperationECB.prototype.decrypt=function(e){e=coerceArray(e);if(e.length%16!==0){throw new Error("invalid ciphertext size (must be multiple of 16 bytes)")}var t=createArray(e.length);var i=createArray(16);for(var o=0;o<e.length;o+=16){copyArray(e,i,0,o,o+16);i=this._aes.decrypt(i);copyArray(i,t,o)}return t};var ModeOfOperationCBC=function(e,t){if(!(this instanceof ModeOfOperationCBC)){throw Error("AES must be instanitated with `new`")}this.description="Cipher Block Chaining";this.name="cbc";if(!t){t=createArray(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 bytes)")}this._lastCipherblock=coerceArray(t,true);this._aes=new AES(e)};ModeOfOperationCBC.prototype.encrypt=function(e){e=coerceArray(e);if(e.length%16!==0){throw new Error("invalid plaintext size (must be multiple of 16 bytes)")}var t=createArray(e.length);var i=createArray(16);for(var o=0;o<e.length;o+=16){copyArray(e,i,0,o,o+16);for(var a=0;a<16;a++){i[a]^=this._lastCipherblock[a]}this._lastCipherblock=this._aes.encrypt(i);copyArray(this._lastCipherblock,t,o)}return t};ModeOfOperationCBC.prototype.decrypt=function(e){e=coerceArray(e);if(e.length%16!==0){throw new Error("invalid ciphertext size (must be multiple of 16 bytes)")}var t=createArray(e.length);var i=createArray(16);for(var o=0;o<e.length;o+=16){copyArray(e,i,0,o,o+16);i=this._aes.decrypt(i);for(var a=0;a<16;a++){t[o+a]=i[a]^this._lastCipherblock[a]}copyArray(e,this._lastCipherblock,0,o,o+16)}return t};var ModeOfOperationCFB=function(e,t,i){if(!(this instanceof ModeOfOperationCFB)){throw Error("AES must be instanitated with `new`")}this.description="Cipher Feedback";this.name="cfb";if(!t){t=createArray(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 size)")}if(!i){i=1}this.segmentSize=i;this._shiftRegister=coerceArray(t,true);this._aes=new AES(e)};ModeOfOperationCFB.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0){throw new Error("invalid plaintext size (must be segmentSize bytes)")}var t=coerceArray(e,true);var i;for(var o=0;o<t.length;o+=this.segmentSize){i=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++){t[o+a]^=i[a]}copyArray(this._shiftRegister,this._shiftRegister,0,this.segmentSize);copyArray(t,this._shiftRegister,16-this.segmentSize,o,o+this.segmentSize)}return t};ModeOfOperationCFB.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0){throw new Error("invalid ciphertext size (must be segmentSize bytes)")}var t=coerceArray(e,true);var i;for(var o=0;o<t.length;o+=this.segmentSize){i=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++){t[o+a]^=i[a]}copyArray(this._shiftRegister,this._shiftRegister,0,this.segmentSize);copyArray(e,this._shiftRegister,16-this.segmentSize,o,o+this.segmentSize)}return t};var ModeOfOperationOFB=function(e,t){if(!(this instanceof ModeOfOperationOFB)){throw Error("AES must be instanitated with `new`")}this.description="Output Feedback";this.name="ofb";if(!t){t=createArray(16)}else if(t.length!=16){throw new Error("invalid initialation vector size (must be 16 bytes)")}this._lastPrecipher=coerceArray(t,true);this._lastPrecipherIndex=16;this._aes=new AES(e)};ModeOfOperationOFB.prototype.encrypt=function(e){var t=coerceArray(e,true);for(var i=0;i<t.length;i++){if(this._lastPrecipherIndex===16){this._lastPrecipher=this._aes.encrypt(this._lastPrecipher);this._lastPrecipherIndex=0}t[i]^=this._lastPrecipher[this._lastPrecipherIndex++]}return t};ModeOfOperationOFB.prototype.decrypt=ModeOfOperationOFB.prototype.encrypt;var Counter=function(e){if(!(this instanceof Counter)){throw Error("Counter must be instanitated with `new`")}if(e!==0&&!e){e=1}if(typeof e==="number"){this._counter=createArray(16);this.setValue(e)}else{this.setBytes(e)}};Counter.prototype.setValue=function(e){if(typeof e!=="number"||parseInt(e)!=e){throw new Error("invalid counter value (must be an integer)")}for(var t=15;t>=0;--t){this._counter[t]=e%256;e=e>>8}};Counter.prototype.setBytes=function(e){e=coerceArray(e,true);if(e.length!=16){throw new Error("invalid counter bytes size (must be 16 bytes)")}this._counter=e};Counter.prototype.increment=function(){for(var e=15;e>=0;e--){if(this._counter[e]===255){this._counter[e]=0}else{this._counter[e]++;break}}};var ModeOfOperationCTR=function(e,t){if(!(this instanceof ModeOfOperationCTR)){throw Error("AES must be instanitated with `new`")}this.description="Counter";this.name="ctr";if(!(t instanceof Counter)){t=new Counter(t)}this._counter=t;this._remainingCounter=null;this._remainingCounterIndex=16;this._aes=new AES(e)};ModeOfOperationCTR.prototype.encrypt=function(e){var t=coerceArray(e,true);for(var i=0;i<t.length;i++){if(this._remainingCounterIndex===16){this._remainingCounter=this._aes.encrypt(this._counter._counter);this._remainingCounterIndex=0;this._counter.increment()}t[i]^=this._remainingCounter[this._remainingCounterIndex++]}return t};ModeOfOperationCTR.prototype.decrypt=ModeOfOperationCTR.prototype.encrypt;function pkcs7pad(e){e=coerceArray(e,true);var t=16-e.length%16;var i=createArray(e.length+t);copyArray(e,i);for(var o=e.length;o<i.length;o++){i[o]=t}return i}function pkcs7strip(e){e=coerceArray(e,true);if(e.length<16){throw new Error("PKCS#7 invalid length")}var t=e[e.length-1];if(t>16){throw new Error("PKCS#7 padding byte out of range")}var i=e.length-t;for(var o=0;o<t;o++){if(e[i+o]!==t){throw new Error("PKCS#7 invalid padding byte")}}var a=createArray(i);copyArray(e,a,0,0,i);return a}var N={AES,Counter,ModeOfOperation:{ecb:ModeOfOperationECB,cbc:ModeOfOperationCBC,cfb:ModeOfOperationCFB,ofb:ModeOfOperationOFB,ctr:ModeOfOperationCTR},utils:{hex:o,utf8:i},padding:{pkcs7:{pad:pkcs7pad,strip:pkcs7strip}},_arrayTest:{coerceArray,createArray,copyArray}};if(true){e.exports=N}else{}})(this)},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/aes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AES:()=>AES});var o=undefined&&undefined.__classPrivateFieldGet||function(e,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(e):o?o.value:t.get(e)};var a=undefined&&undefined.__classPrivateFieldSet||function(e,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,i):a?a.value=i:t.set(e,i),i};var l,u,d;const p={16:10,24:12,32:14};const m=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145];const g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22];const v=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125];const y=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986];const _=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766];const w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126];const A=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436];const k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890];const T=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935];const x=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600];const I=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480];const N=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795];const P=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855];const C=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150];const M=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function convertToInt32(e){const t=[];for(let i=0;i<e.length;i+=4){t.push(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])}return t}class AES{get key(){return o(this,l,"f").slice()}constructor(e){l.set(this,void 0);u.set(this,void 0);d.set(this,void 0);if(!(this instanceof AES)){throw Error("AES must be instanitated with `new`")}a(this,l,new Uint8Array(e),"f");const t=p[this.key.length];if(t==null){throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)")}a(this,d,[],"f");a(this,u,[],"f");for(let e=0;e<=t;e++){o(this,d,"f").push([0,0,0,0]);o(this,u,"f").push([0,0,0,0])}const i=(t+1)*4;const v=this.key.length/4;const y=convertToInt32(this.key);let _;for(let e=0;e<v;e++){_=e>>2;o(this,d,"f")[_][e%4]=y[e];o(this,u,"f")[t-_][e%4]=y[e]}let w=0;let A=v,k;while(A<i){k=y[v-1];y[0]^=g[k>>16&255]<<24^g[k>>8&255]<<16^g[k&255]<<8^g[k>>24&255]^m[w]<<24;w+=1;if(v!=8){for(let e=1;e<v;e++){y[e]^=y[e-1]}}else{for(let e=1;e<v/2;e++){y[e]^=y[e-1]}k=y[v/2-1];y[v/2]^=g[k&255]^g[k>>8&255]<<8^g[k>>16&255]<<16^g[k>>24&255]<<24;for(let e=v/2+1;e<v;e++){y[e]^=y[e-1]}}let e=0,a,l;while(e<v&&A<i){a=A>>2;l=A%4;o(this,d,"f")[a][l]=y[e];o(this,u,"f")[t-a][l]=y[e++];A++}}for(let e=1;e<t;e++){for(let t=0;t<4;t++){k=o(this,u,"f")[e][t];o(this,u,"f")[e][t]=N[k>>24&255]^P[k>>16&255]^C[k>>8&255]^M[k&255]}}}encrypt(e){if(e.length!=16){throw new TypeError("invalid plaintext size (must be 16 bytes)")}const t=o(this,d,"f").length-1;const i=[0,0,0,0];let a=convertToInt32(e);for(let e=0;e<4;e++){a[e]^=o(this,d,"f")[0][e]}for(let e=1;e<t;e++){for(let t=0;t<4;t++){i[t]=y[a[t]>>24&255]^_[a[(t+1)%4]>>16&255]^w[a[(t+2)%4]>>8&255]^A[a[(t+3)%4]&255]^o(this,d,"f")[e][t]}a=i.slice()}const l=new Uint8Array(16);let u=0;for(let e=0;e<4;e++){u=o(this,d,"f")[t][e];l[4*e]=(g[a[e]>>24&255]^u>>24)&255;l[4*e+1]=(g[a[(e+1)%4]>>16&255]^u>>16)&255;l[4*e+2]=(g[a[(e+2)%4]>>8&255]^u>>8)&255;l[4*e+3]=(g[a[(e+3)%4]&255]^u)&255}return l}decrypt(e){if(e.length!=16){throw new TypeError("invalid ciphertext size (must be 16 bytes)")}const t=o(this,u,"f").length-1;const i=[0,0,0,0];let a=convertToInt32(e);for(let e=0;e<4;e++){a[e]^=o(this,u,"f")[0][e]}for(let e=1;e<t;e++){for(let t=0;t<4;t++){i[t]=k[a[t]>>24&255]^T[a[(t+3)%4]>>16&255]^x[a[(t+2)%4]>>8&255]^I[a[(t+1)%4]&255]^o(this,u,"f")[e][t]}a=i.slice()}const l=new Uint8Array(16);let d=0;for(let e=0;e<4;e++){d=o(this,u,"f")[t][e];l[4*e]=(v[a[e]>>24&255]^d>>24)&255;l[4*e+1]=(v[a[(e+3)%4]>>16&255]^d>>16)&255;l[4*e+2]=(v[a[(e+2)%4]>>8&255]^d>>8)&255;l[4*e+3]=(v[a[(e+1)%4]&255]^d)&255}return l}}l=new WeakMap,u=new WeakMap,d=new WeakMap},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AES:()=>o.AES,CBC:()=>l.CBC,CFB:()=>u.CFB,CTR:()=>d.CTR,ECB:()=>p.ECB,ModeOfOperation:()=>a.ModeOfOperation,OFB:()=>m.OFB,pkcs7Pad:()=>g.pkcs7Pad,pkcs7Strip:()=>g.pkcs7Strip});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/aes.js");var a=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js");var l=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-cbc.js");var u=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-cfb.js");var d=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-ctr.js");var p=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-ecb.js");var m=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-ofb.js");var g=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/padding.js")},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-cbc.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CBC:()=>CBC});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js");var a=undefined&&undefined.__classPrivateFieldSet||function(e,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,i):a?a.value=i:t.set(e,i),i};var l=undefined&&undefined.__classPrivateFieldGet||function(e,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(e):o?o.value:t.get(e)};var u,d;class CBC extends o.ModeOfOperation{constructor(e,t){super("ECC",e,CBC);u.set(this,void 0);d.set(this,void 0);if(t){if(t.length%16){throw new TypeError("invalid iv size (must be 16 bytes)")}a(this,u,new Uint8Array(t),"f")}else{a(this,u,new Uint8Array(16),"f")}a(this,d,this.iv,"f")}get iv(){return new Uint8Array(l(this,u,"f"))}encrypt(e){if(e.length%16){throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)")}const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=16){for(let t=0;t<16;t++){l(this,d,"f")[t]^=e[i+t]}a(this,d,this.aes.encrypt(l(this,d,"f")),"f");t.set(l(this,d,"f"),i)}return t}decrypt(e){if(e.length%16){throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)")}const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=16){const o=this.aes.decrypt(e.subarray(i,i+16));for(let a=0;a<16;a++){t[i+a]=o[a]^l(this,d,"f")[a];l(this,d,"f")[a]=e[i+a]}}return t}}u=new WeakMap,d=new WeakMap},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-cfb.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CFB:()=>CFB});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js");var a=undefined&&undefined.__classPrivateFieldSet||function(e,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,i):a?a.value=i:t.set(e,i),i};var l=undefined&&undefined.__classPrivateFieldGet||function(e,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(e):o?o.value:t.get(e)};var u,d,p,m;class CFB extends o.ModeOfOperation{constructor(e,t,i=8){super("CFB",e,CFB);u.add(this);d.set(this,void 0);p.set(this,void 0);if(!Number.isInteger(i)||i%8){throw new TypeError("invalid segmentSize")}Object.defineProperties(this,{segmentSize:{enumerable:true,value:i}});if(t){if(t.length%16){throw new TypeError("invalid iv size (must be 16 bytes)")}a(this,d,new Uint8Array(t),"f")}else{a(this,d,new Uint8Array(16),"f")}a(this,p,this.iv,"f")}get iv(){return new Uint8Array(l(this,d,"f"))}encrypt(e){if(8*e.length%this.segmentSize){throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)")}const t=this.segmentSize/8;const i=new Uint8Array(e);for(let e=0;e<i.length;e+=t){const o=this.aes.encrypt(l(this,p,"f"));for(let a=0;a<t;a++){i[e+a]^=o[a]}l(this,u,"m",m).call(this,i.subarray(e))}return i}decrypt(e){if(8*e.length%this.segmentSize){throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)")}const t=this.segmentSize/8;const i=new Uint8Array(e);for(let o=0;o<i.length;o+=t){const a=this.aes.encrypt(l(this,p,"f"));for(let e=0;e<t;e++){i[o+e]^=a[e]}l(this,u,"m",m).call(this,e.subarray(o))}return i}}d=new WeakMap,p=new WeakMap,u=new WeakSet,m=function _CFB_shift(e){const t=this.segmentSize/8;l(this,p,"f").set(l(this,p,"f").subarray(t));l(this,p,"f").set(e.subarray(0,t),16-t)}},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-ctr.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CTR:()=>CTR});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js");var a=undefined&&undefined.__classPrivateFieldSet||function(e,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,i):a?a.value=i:t.set(e,i),i};var l=undefined&&undefined.__classPrivateFieldGet||function(e,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(e):o?o.value:t.get(e)};var u,d,p;class CTR extends o.ModeOfOperation{constructor(e,t){super("CTR",e,CTR);u.set(this,void 0);d.set(this,void 0);p.set(this,void 0);a(this,p,new Uint8Array(16),"f");l(this,p,"f").fill(0);a(this,u,l(this,p,"f"),"f");a(this,d,16,"f");if(t==null){t=1}if(typeof t==="number"){this.setCounterValue(t)}else{this.setCounterBytes(t)}}get counter(){return new Uint8Array(l(this,p,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER){throw new TypeError("invalid counter initial integer value")}for(let t=15;t>=0;--t){l(this,p,"f")[t]=e%256;e=Math.floor(e/256)}}setCounterBytes(e){if(e.length!==16){throw new TypeError("invalid counter initial Uint8Array value length")}l(this,p,"f").set(e)}increment(){for(let e=15;e>=0;e--){if(l(this,p,"f")[e]===255){l(this,p,"f")[e]=0}else{l(this,p,"f")[e]++;break}}}encrypt(e){var t,i;const o=new Uint8Array(e);for(let e=0;e<o.length;e++){if(l(this,d,"f")===16){a(this,u,this.aes.encrypt(l(this,p,"f")),"f");a(this,d,0,"f");this.increment()}o[e]^=l(this,u,"f")[(a(this,d,(i=l(this,d,"f"),t=i++,i),"f"),t)]}return o}decrypt(e){return this.encrypt(e)}}u=new WeakMap,d=new WeakMap,p=new WeakMap},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-ecb.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ECB:()=>ECB});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js");class ECB extends o.ModeOfOperation{constructor(e){super("ECB",e,ECB)}encrypt(e){if(e.length%16){throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)")}const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=16){t.set(this.aes.encrypt(e.subarray(i,i+16)),i)}return t}decrypt(e){if(e.length%16){throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)")}const t=new Uint8Array(e.length);for(let i=0;i<e.length;i+=16){t.set(this.aes.decrypt(e.subarray(i,i+16)),i)}return t}}},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode-ofb.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{OFB:()=>OFB});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js");var a=undefined&&undefined.__classPrivateFieldSet||function(e,t,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(e,i):a?a.value=i:t.set(e,i),i};var l=undefined&&undefined.__classPrivateFieldGet||function(e,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(e):o?o.value:t.get(e)};var u,d,p;class OFB extends o.ModeOfOperation{constructor(e,t){super("OFB",e,OFB);u.set(this,void 0);d.set(this,void 0);p.set(this,void 0);if(t){if(t.length%16){throw new TypeError("invalid iv size (must be 16 bytes)")}a(this,u,new Uint8Array(t),"f")}else{a(this,u,new Uint8Array(16),"f")}a(this,d,this.iv,"f");a(this,p,16,"f")}get iv(){return new Uint8Array(l(this,u,"f"))}encrypt(e){var t,i;if(e.length%16){throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)")}const o=new Uint8Array(e);for(let e=0;e<o.length;e++){if(l(this,p,"f")===16){a(this,d,this.aes.encrypt(l(this,d,"f")),"f");a(this,p,0,"f")}o[e]^=l(this,d,"f")[(a(this,p,(i=l(this,p,"f"),t=i++,i),"f"),t)]}return o}decrypt(e){if(e.length%16){throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)")}return this.encrypt(e)}}u=new WeakMap,d=new WeakMap,p=new WeakMap},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/mode.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ModeOfOperation:()=>ModeOfOperation});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/aes.js");class ModeOfOperation{constructor(e,t,i){if(i&&!(this instanceof i)){throw new Error(`${e} must be instantiated with "new"`)}Object.defineProperties(this,{aes:{enumerable:true,value:new o.AES(t)},name:{enumerable:true,value:e}})}}},"../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/padding.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{pkcs7Pad:()=>pkcs7Pad,pkcs7Strip:()=>pkcs7Strip});function pkcs7Pad(e){const t=16-e.length%16;const i=new Uint8Array(e.length+t);i.set(e);for(let o=e.length;o<i.length;o++){i[o]=t}return i}function pkcs7Strip(e){if(e.length<16){throw new TypeError("PKCS#7 invalid length")}const t=e[e.length-1];if(t>16){throw new TypeError("PKCS#7 padding byte out of range")}const i=e.length-t;for(let o=0;o<t;o++){if(e[i+o]!==t){throw new TypeError("PKCS#7 invalid padding byte")}}return new Uint8Array(e.subarray(0,i))}},"../../node_modules/.pnpm/alchemy-sdk@3.6.0_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/alchemy-sdk/dist/esm/index-643dc9bc.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{A:()=>Be,B:()=>C,C:()=>Z,D:()=>W,E:()=>Q,F:()=>M,G:()=>_,H:()=>B,I:()=>ve,J:()=>j,K:()=>O,L:()=>D,M:()=>L,N:()=>g,O:()=>A,P:()=>F,Q:()=>U,R:()=>H,S:()=>w,T:()=>v,U:()=>q,V:()=>Ae,W:()=>Wallet,X:()=>G,Y:()=>z,_:()=>__awaiter$1,a:()=>V,b:()=>getAlchemyWsUrl,c:()=>EthersEvent,d:()=>deepCopy,e:()=>getAlchemyEventTag,f:()=>fromHex,g:()=>getAlchemyHttpUrl,h:()=>Ce,i:()=>isAlchemyEvent,j:()=>k,k:()=>Me,l:()=>logWarn,m:()=>Alchemy,n:()=>noop,o:()=>Contract,p:()=>ContractFactory,q:()=>isHex,r:()=>y,s:()=>setLogLevel,t:()=>toHex,u:()=>T,v:()=>verifyAlchemyEventName,w:()=>x,x:()=>I,y:()=>N,z:()=>P});var o=i("../../node_modules/.pnpm/@ethersproject+units@5.7.0/node_modules/@ethersproject/units/lib.esm/index.js");var a=i("../../node_modules/.pnpm/@ethersproject+bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js");var l=i("../../node_modules/.pnpm/@ethersproject+bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js");var d=i("../../node_modules/.pnpm/@ethersproject+abstract-provider@5.8.0/node_modules/@ethersproject/abstract-provider/lib.esm/index.js");var p=i("../../node_modules/.pnpm/@ethersproject+wallet@5.7.0/node_modules/@ethersproject/wallet/lib.esm/index.js");var m=i("../../node_modules/.pnpm/@ethersproject+contracts@5.7.0/node_modules/@ethersproject/contracts/lib.esm/index.js");var g;(function(e){e["ETH_MAINNET"]="eth-mainnet";e["ETH_GOERLI"]="eth-goerli";e["ETH_SEPOLIA"]="eth-sepolia";e["ETH_HOLESKY"]="eth-holesky";e["ETH_HOODI"]="eth-hoodi";e["OPT_MAINNET"]="opt-mainnet";e["OPT_GOERLI"]="opt-goerli";e["OPT_SEPOLIA"]="opt-sepolia";e["ARB_MAINNET"]="arb-mainnet";e["ARB_GOERLI"]="arb-goerli";e["ARB_SEPOLIA"]="arb-sepolia";e["MATIC_MAINNET"]="polygon-mainnet";e["MATIC_MUMBAI"]="polygon-mumbai";e["MATIC_AMOY"]="polygon-amoy";e["ASTAR_MAINNET"]="astar-mainnet";e["POLYGONZKEVM_MAINNET"]="polygonzkevm-mainnet";e["POLYGONZKEVM_TESTNET"]="polygonzkevm-testnet";e["POLYGONZKEVM_CARDONA"]="polygonzkevm-cardona";e["BASE_MAINNET"]="base-mainnet";e["BASE_GOERLI"]="base-goerli";e["BASE_SEPOLIA"]="base-sepolia";e["ZKSYNC_MAINNET"]="zksync-mainnet";e["ZKSYNC_SEPOLIA"]="zksync-sepolia";e["SHAPE_MAINNET"]="shape-mainnet";e["SHAPE_SEPOLIA"]="shape-sepolia";e["LINEA_MAINNET"]="linea-mainnet";e["LINEA_SEPOLIA"]="linea-sepolia";e["FANTOM_MAINNET"]="fantom-mainnet";e["FANTOM_TESTNET"]="fantom-testnet";e["ZETACHAIN_MAINNET"]="zetachain-mainnet";e["ZETACHAIN_TESTNET"]="zetachain-testnet";e["ARBNOVA_MAINNET"]="arbnova-mainnet";e["BLAST_MAINNET"]="blast-mainnet";e["BLAST_SEPOLIA"]="blast-sepolia";e["MANTLE_MAINNET"]="mantle-mainnet";e["MANTLE_SEPOLIA"]="mantle-sepolia";e["SCROLL_MAINNET"]="scroll-mainnet";e["SCROLL_SEPOLIA"]="scroll-sepolia";e["GNOSIS_MAINNET"]="gnosis-mainnet";e["GNOSIS_CHIADO"]="gnosis-chiado";e["BNB_MAINNET"]="bnb-mainnet";e["BNB_TESTNET"]="bnb-testnet";e["AVAX_MAINNET"]="avax-mainnet";e["AVAX_FUJI"]="avax-fuji";e["CELO_MAINNET"]="celo-mainnet";e["CELO_ALFAJORES"]="celo-alfajores";e["CELO_BAKLAVA"]="celo-baklava";e["METIS_MAINNET"]="metis-mainnet";e["OPBNB_MAINNET"]="opbnb-mainnet";e["OPBNB_TESTNET"]="opbnb-testnet";e["BERACHAIN_BARTIO"]="berachain-bartio";e["BERACHAIN_MAINNET"]="berachain-mainnet";e["BERACHAIN_BEPOLIA"]="berachain-bepolia";e["SONEIUM_MAINNET"]="soneium-mainnet";e["SONEIUM_MINATO"]="soneium-minato";e["WORLDCHAIN_MAINNET"]="worldchain-mainnet";e["WORLDCHAIN_SEPOLIA"]="worldchain-sepolia";e["ROOTSTOCK_MAINNET"]="rootstock-mainnet";e["ROOTSTOCK_TESTNET"]="rootstock-testnet";e["FLOW_MAINNET"]="flow-mainnet";e["FLOW_TESTNET"]="flow-testnet";e["ZORA_MAINNET"]="zora-mainnet";e["ZORA_SEPOLIA"]="zora-sepolia";e["FRAX_MAINNET"]="frax-mainnet";e["FRAX_SEPOLIA"]="frax-sepolia";e["POLYNOMIAL_MAINNET"]="polynomial-mainnet";e["POLYNOMIAL_SEPOLIA"]="polynomial-sepolia";e["CROSSFI_MAINNET"]="crossfi-mainnet";e["CROSSFI_TESTNET"]="crossfi-testnet";e["APECHAIN_MAINNET"]="apechain-mainnet";e["APECHAIN_CURTIS"]="apechain-curtis";e["LENS_MAINNET"]="lens-mainnet";e["LENS_SEPOLIA"]="lens-sepolia";e["GEIST_MAINNET"]="geist-mainnet";e["GEIST_POLTER"]="geist-polter";e["LUMIA_PRISM"]="lumia-prism";e["LUMIA_TESTNET"]="lumia-testnet";e["UNICHAIN_MAINNET"]="unichain-mainnet";e["UNICHAIN_SEPOLIA"]="unichain-sepolia";e["SONIC_MAINNET"]="sonic-mainnet";e["SONIC_BLAZE"]="sonic-blaze";e["XMTP_TESTNET"]="xmtp-testnet";e["ABSTRACT_MAINNET"]="abstract-mainnet";e["ABSTRACT_TESTNET"]="abstract-testnet";e["DEGEN_MAINNET"]="degen-mainnet";e["INK_MAINNET"]="ink-mainnet";e["INK_SEPOLIA"]="ink-sepolia";e["SEI_MAINNET"]="sei-mainnet";e["SEI_TESTNET"]="sei-testnet";e["RONIN_MAINNET"]="ronin-mainnet";e["RONIN_SAIGON"]="ronin-saigon";e["MONAD_TESTNET"]="monad-testnet";e["SETTLUS_SEPTESTNET"]="settlus-septestnet";e["SETTLUS_MAINNET"]="settlus-mainnet";e["SOLANA_MAINNET"]="solana-mainnet";e["SOLANA_DEVNET"]="solana-devnet";e["GENSYN_TESTNET"]="gensyn-testnet";e["SUPERSEED_MAINNET"]="superseed-mainnet";e["SUPERSEED_SEPOLIA"]="superseed-sepolia";e["TEA_SEPOLIA"]="tea-sepolia";e["ANIME_MAINNET"]="anime-mainnet";e["ANIME_SEPOLIA"]="anime-sepolia";e["STORY_MAINNET"]="story-mainnet";e["STORY_AENEID"]="story-aeneid";e["MEGAETH_TESTNET"]="megaeth-testnet"})(g||(g={}));var v;(function(e){e["DEFAULT_TOKENS"]="DEFAULT_TOKENS";e["ERC20"]="erc20"})(v||(v={}));var y;(function(e){e["EXTERNAL"]="external";e["INTERNAL"]="internal";e["ERC20"]="erc20";e["ERC721"]="erc721";e["ERC1155"]="erc1155";e["SPECIALNFT"]="specialnft"})(y||(y={}));var _;(function(e){e["TO"]="TO";e["FROM"]="FROM"})(_||(_={}));var w;(function(e){e["ASCENDING"]="asc";e["DESCENDING"]="desc"})(w||(w={}));var A;(function(e){e["VERIFIED"]="verified";e["APPROVED"]="approved";e["REQUESTED"]="requested";e["NOT_REQUESTED"]="not_requested"})(A||(A={}));var k;(function(e){e["PENDING_TRANSACTIONS"]="alchemy_pendingTransactions";e["MINED_TRANSACTIONS"]="alchemy_minedTransactions"})(k||(k={}));var T;(function(e){e["NATIVE"]="NATIVE";e["ERC20"]="ERC20";e["ERC721"]="ERC721";e["ERC1155"]="ERC1155";e["SPECIAL_NFT"]="SPECIAL_NFT"})(T||(T={}));var x;(function(e){e["APPROVE"]="APPROVE";e["TRANSFER"]="TRANSFER"})(x||(x={}));var I;(function(e){e["ETHERSCAN"]="ETHERSCAN"})(I||(I={}));var N;(function(e){e["CREATE"]="CREATE";e["CALL"]="CALL";e["STATICCALL"]="STATICCALL";e["DELEGATECALL"]="DELEGATECALL"})(N||(N={}));var P;(function(e){e["UNSPECIFIED"]="TRANSACTION_JOB_STATUS_UNSPECIFIED";e["IN_PROGRESS"]="IN_PROGRESS";e["COMPLETE"]="COMPLETE";e["ABANDONED"]="ABANDONED"})(P||(P={}));var C;(function(e){e["V1"]="V1";e["V2"]="V2"})(C||(C={}));var M;(function(e){e["MINED_TRANSACTION"]="MINED_TRANSACTION";e["DROPPED_TRANSACTION"]="DROPPED_TRANSACTION";e["ADDRESS_ACTIVITY"]="ADDRESS_ACTIVITY";e["NFT_ACTIVITY"]="NFT_ACTIVITY";e["NFT_METADATA_UPDATE"]="NFT_METADATA_UPDATE";e["GRAPHQL"]="GRAPHQL"})(M||(M={}));var B;(function(e){e["PENDING"]="pending";e["LATEST"]="latest";e["SAFE"]="safe";e["FINALIZED"]="finalized";e["EARLIEST"]="earliest"})(B||(B={}));var j;(function(e){e["CALL_TRACER"]="callTracer";e["PRESTATE_TRACER"]="prestateTracer"})(j||(j={}));var O;(function(e){e["ERC721"]="ERC721";e["ERC1155"]="ERC1155";e["NO_SUPPORTED_NFT_STANDARD"]="NO_SUPPORTED_NFT_STANDARD";e["NOT_A_CONTRACT"]="NOT_A_CONTRACT";e["UNKNOWN"]="UNKNOWN"})(O||(O={}));var D;(function(e){e["Erc721TooManyOwners"]="Erc721TooManyOwners";e["Erc721TooManyTokens"]="Erc721TooManyTokens";e["Erc721DishonestTotalSupply"]="Erc721DishonestTotalSupply";e["MostlyHoneyPotOwners"]="MostlyHoneyPotOwners";e["OwnedByMostHoneyPots"]="OwnedByMostHoneyPots";e["LowDistinctOwnersPercent"]="LowDistinctOwnersPercent";e["HighHoneyPotOwnerPercent"]="HighHoneyPotOwnerPercent";e["HighHoneyPotPercent"]="HighHoneyPotPercent";e["HoneyPotsOwnMultipleTokens"]="HoneyPotsOwnMultipleTokens";e["NoSalesActivity"]="NoSalesActivity";e["HighAirdropPercent"]="HighAirdropPercent";e["Unknown"]="Unknown"})(D||(D={}));var L;(function(e){e["SPAM"]="SPAM";e["AIRDROPS"]="AIRDROPS"})(L||(L={}));var F;(function(e){e["TRANSFERTIME"]="TRANSFERTIME"})(F||(F={}));var U;(function(e){e["SEAPORT"]="seaport";e["LOOKSRARE"]="looksrare";e["X2Y2"]="x2y2";e["WYVERN"]="wyvern";e["CRYPTOPUNKS"]="cryptopunks";e["BLUR"]="blur";e["UNKNOWN"]="unknown"})(U||(U={}));var H;(function(e){e["BUYER"]="buyer";e["SELLER"]="seller"})(H||(H={}));var q;(function(e){e["DOES_NOT_EXIST"]="does_not_exist";e["ALREADY_QUEUED"]="already_queued";e["IN_PROGRESS"]="in_progress";e["FINISHED"]="finished";e["QUEUED"]="queued";e["QUEUE_FAILED"]="queue_failed"})(q||(q={}));var G;(function(e){e["OPENSEA"]="OpenSea"})(G||(G={}));var z;(function(e){e["FIVE_MINUTE"]="5m";e["ONE_HOUR"]="1h";e["ONE_DAY"]="1d"})(z||(z={}));function __awaiter$1(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})}function __values(e){var t=typeof Symbol==="function"&&Symbol.iterator,i=t&&e[t],o=0;if(i)return i.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&o>=e.length)e=void 0;return{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(e,t||[]),a,l=[];return a={},verb("next"),verb("throw"),verb("return"),a[Symbol.asyncIterator]=function(){return this},a;function verb(e){if(o[e])a[e]=function(t){return new Promise(function(i,o){l.push([e,t,i,o])>1||resume(e,t)})}}function resume(e,t){try{step(o[e](t))}catch(e){settle(l[0][3],e)}}function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(l[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){if(e(t),l.shift(),l.length)resume(l[0][0],l[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof __values==="function"?__values(e):e[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(t){i[t]=e[t]&&function(i){return new Promise(function(o,a){i=e[t](i),settle(o,a,i.done,i.value)})}}function settle(e,t,i,o){Promise.resolve(o).then(function(t){e({value:t,done:i})},t)}}const W="demo";const V=g.ETH_MAINNET;const Y=5;const $=0;function getAlchemyHttpUrl(e,t){return`https://${e}.g.alchemy.com/v2/${t}`}function getAlchemyNftHttpUrl(e,t){return`https://${e}.g.alchemy.com/nft/v3/${t}`}function getAlchemyWsUrl(e,t){return`wss://${e}.g.alchemy.com/v2/${t}`}function getAlchemyWebhookHttpUrl(){return"https://dashboard.alchemy.com/api"}function getPricesBaseUrl(e){return`https://api.g.alchemy.com/prices/v1/${e}`}function getDataBaseUrl(e){return`https://api.g.alchemy.com/data/v1/${e}`}var J;(function(e){e[e["BASE"]=0]="BASE";e[e["NFT"]=1]="NFT";e[e["WEBHOOK"]=2]="WEBHOOK";e[e["PRICES"]=3]="PRICES";e[e["PORTFOLIO"]=4]="PORTFOLIO"})(J||(J={}));const Q={[g.ETH_MAINNET]:"mainnet",[g.ETH_GOERLI]:"goerli",[g.ETH_SEPOLIA]:"sepolia",[g.ETH_HOLESKY]:"holesky",[g.ETH_HOODI]:"hoodi",[g.OPT_MAINNET]:"opt-mainnet",[g.OPT_GOERLI]:"optimism-goerli",[g.OPT_SEPOLIA]:"optimism-sepolia",[g.ARB_MAINNET]:"arbitrum",[g.ARB_GOERLI]:"arbitrum-goerli",[g.ARB_SEPOLIA]:"arbitrum-sepolia",[g.MATIC_MAINNET]:"matic",[g.MATIC_MUMBAI]:"maticmum",[g.MATIC_AMOY]:"maticamoy",[g.SOLANA_MAINNET]:null,[g.SOLANA_DEVNET]:null,[g.ASTAR_MAINNET]:"astar-mainnet",[g.POLYGONZKEVM_MAINNET]:"polygonzkevm-mainnet",[g.POLYGONZKEVM_TESTNET]:"polygonzkevm-testnet",[g.POLYGONZKEVM_CARDONA]:"polygonzkevm-cardona",[g.BASE_MAINNET]:"base-mainnet",[g.BASE_GOERLI]:"base-goerli",[g.BASE_SEPOLIA]:"base-sepolia",[g.ZKSYNC_MAINNET]:"zksync-mainnet",[g.ZKSYNC_SEPOLIA]:"zksync-sepolia",[g.SHAPE_MAINNET]:"shape-mainnet",[g.SHAPE_SEPOLIA]:"shape-sepolia",[g.LINEA_MAINNET]:"linea-mainnet",[g.LINEA_SEPOLIA]:"linea-sepolia",[g.FANTOM_MAINNET]:"fantom-mainnet",[g.FANTOM_TESTNET]:"fantom-testnet",[g.ZETACHAIN_MAINNET]:"zetachain-mainnet",[g.ZETACHAIN_TESTNET]:"zetachain-testnet",[g.ARBNOVA_MAINNET]:"arbnova-mainnet",[g.BLAST_MAINNET]:"blast-mainnet",[g.BLAST_SEPOLIA]:"blast-sepolia",[g.MANTLE_MAINNET]:"mantle-mainnet",[g.MANTLE_SEPOLIA]:"mantle-sepolia",[g.SCROLL_MAINNET]:"scroll-mainnet",[g.SCROLL_SEPOLIA]:"scroll-sepolia",[g.GNOSIS_MAINNET]:"gnosis-mainnet",[g.GNOSIS_CHIADO]:"gnosis-chiado",[g.BNB_MAINNET]:"bnb-mainnet",[g.BNB_TESTNET]:"bnb-testnet",[g.AVAX_MAINNET]:"avax-mainnet",[g.AVAX_FUJI]:"avax-fuji",[g.CELO_MAINNET]:"celo-mainnet",[g.CELO_ALFAJORES]:"celo-alfajores",[g.CELO_BAKLAVA]:"celo-baklava",[g.METIS_MAINNET]:"metis-mainnet",[g.OPBNB_MAINNET]:"opbnb-mainnet",[g.OPBNB_TESTNET]:"opbnb-testnet",[g.BERACHAIN_BARTIO]:"berachain-bartio",[g.BERACHAIN_MAINNET]:"berachain-mainnet",[g.BERACHAIN_BEPOLIA]:"berachain-bepolia",[g.SONEIUM_MAINNET]:"soneium-mainnet",[g.SONEIUM_MINATO]:"soneium-minato",[g.WORLDCHAIN_MAINNET]:"worldchain-mainnet",[g.WORLDCHAIN_SEPOLIA]:"worldchain-sepolia",[g.ROOTSTOCK_MAINNET]:"rootstock-mainnet",[g.ROOTSTOCK_TESTNET]:"rootstock-testnet",[g.FLOW_MAINNET]:"flow-mainnet",[g.FLOW_TESTNET]:"flow-testnet",[g.ZORA_MAINNET]:"zora-mainnet",[g.ZORA_SEPOLIA]:"zora-sepolia",[g.FRAX_MAINNET]:"frax-mainnet",[g.FRAX_SEPOLIA]:"frax-sepolia",[g.POLYNOMIAL_MAINNET]:"polynomial-mainnet",[g.POLYNOMIAL_SEPOLIA]:"polynomial-sepolia",[g.CROSSFI_MAINNET]:"crossfi-mainnet",[g.CROSSFI_TESTNET]:"crossfi-testnet",[g.APECHAIN_MAINNET]:"apechain-mainnet",[g.APECHAIN_CURTIS]:"apechain-curtis",[g.LENS_MAINNET]:"lens-mainnet",[g.LENS_SEPOLIA]:"lens-sepolia",[g.GEIST_MAINNET]:"geist-mainnet",[g.GEIST_POLTER]:"geist-polter",[g.LUMIA_PRISM]:"lumia-prism",[g.LUMIA_TESTNET]:"lumia-testnet",[g.UNICHAIN_MAINNET]:"unichain-mainnet",[g.UNICHAIN_SEPOLIA]:"unichain-sepolia",[g.SONIC_MAINNET]:"sonic-mainnet",[g.SONIC_BLAZE]:"sonic-blaze",[g.XMTP_TESTNET]:"xmtp-testnet",[g.ABSTRACT_MAINNET]:"abstract-mainnet",[g.ABSTRACT_TESTNET]:"abstract-testnet",[g.DEGEN_MAINNET]:"degen-mainnet",[g.INK_MAINNET]:"ink-mainnet",[g.INK_SEPOLIA]:"ink-sepolia",[g.SEI_MAINNET]:"sei-mainnet",[g.SEI_TESTNET]:"sei-testnet",[g.RONIN_MAINNET]:"ronin-mainnet",[g.RONIN_SAIGON]:"ronin-saigon",[g.MONAD_TESTNET]:"monad-testnet",[g.SETTLUS_MAINNET]:"settlus-mainnet",[g.SETTLUS_SEPTESTNET]:"settlus-septestnet",[g.GENSYN_TESTNET]:"gensyn-testnet",[g.SUPERSEED_MAINNET]:"superseed-mainnet",[g.SUPERSEED_SEPOLIA]:"superseed-sepolia",[g.TEA_SEPOLIA]:"tea-sepolia",[g.ANIME_MAINNET]:"anime-mainnet",[g.ANIME_SEPOLIA]:"anime-sepolia",[g.STORY_MAINNET]:"story-mainnet",[g.STORY_AENEID]:"story-aeneid",[g.MEGAETH_TESTNET]:"megaeth-testnet"};const Z={"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},"astar-mainnet":{chainId:592,name:"astar-mainnet"},sepolia:{chainId:11155111,name:"sepolia"},holesky:{chainId:17e3,name:"holesky"},hoodi:{chainId:560048,name:"hoodi"},"opt-mainnet":{chainId:10,name:"opt-mainnet"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},"polygonzkevm-mainnet":{chainId:1101,name:"polygonzkevm-mainnet"},"polygonzkevm-testnet":{chainId:1442,name:"polygonzkevm-testnet"},"polygonzkevm-cardona":{chainId:2442,name:"polygonzkevm-cardona"},"base-mainnet":{chainId:8453,name:"base-mainnet"},"base-goerli":{chainId:84531,name:"base-goerli"},"base-sepolia":{chainId:84532,name:"base-sepolia"},maticamoy:{chainId:80002,name:"maticamoy"},"zksync-mainnet":{chainId:324,name:"zksync-mainnet"},"zksync-sepolia":{chainId:300,name:"zksync-sepolia"},"shape-mainnet":{chainId:360,name:"shape-mainnet"},"shape-sepolia":{chainId:11011,name:"shape-sepolia"},"linea-mainnet":{chainId:59144,name:"linea-mainnet"},"linea-sepolia":{chainId:59141,name:"linea-sepolia"},"fantom-mainnet":{chainId:250,name:"fantom-mainnet"},"fantom-testnet":{chainId:4002,name:"fantom-testnet"},"zetachain-mainnet":{chainId:7e3,name:"zetachain-mainnet"},"zetachain-testnet":{chainId:7001,name:"zetachain-testnet"},"arbnova-mainnet":{chainId:42170,name:"arbnova-mainnet"},"blast-mainnet":{chainId:81457,name:"blast-mainnet"},"blast-sepolia":{chainId:168587773,name:"blast-sepolia"},"mantle-mainnet":{chainId:5e3,name:"mantle-mainnet"},"mantle-sepolia":{chainId:5003,name:"mantle-sepolia"},"scroll-mainnet":{chainId:534352,name:"scroll-mainnet"},"scroll-sepolia":{chainId:534351,name:"scroll-sepolia"},"gnosis-mainnet":{chainId:100,name:"gnosis-mainnet"},"gnosis-chiado":{chainId:10200,name:"gnosis-chiado"},"bnb-mainnet":{chainId:56,name:"bnb-mainnet"},"bnb-testnet":{chainId:97,name:"bnb-testnet"},"avax-mainnet":{chainId:43114,name:"avax-mainnet"},"avax-fuji":{chainId:43113,name:"avax-fuji"},"celo-mainnet":{chainId:42220,name:"celo-mainnet"},"celo-alfajores":{chainId:44787,name:"celo-alfajores"},"celo-baklava":{chainId:62320,name:"celo-baklava"},"metis-mainnet":{chainId:1088,name:"metis-mainnet"},"opbnb-mainnet":{chainId:204,name:"opbnb-mainnet"},"opbnb-testnet":{chainId:5611,name:"opbnb-testnet"},"berachain-bartio":{chainId:80084,name:"berachain-bartio"},"berachain-mainnet":{chainId:80094,name:"berachain-mainnet"},"berachain-bepolia":{chainId:80069,name:"berachain-bepolia"},"soneium-mainnet":{chainId:1868,name:"soneium-mainnet"},"soneium-minato":{chainId:1946,name:"soneium-minato"},"worldchain-mainnet":{chainId:480,name:"worldchain-mainnet"},"worldchain-sepolia":{chainId:4801,name:"worldchain-sepolia"},"rootstock-mainnet":{chainId:30,name:"rootstock-mainnet"},"rootstock-testnet":{chainId:31,name:"rootstock-testnet"},"flow-mainnet":{chainId:747,name:"flow-mainnet"},"flow-testnet":{chainId:545,name:"flow-testnet"},"zora-mainnet":{chainId:7777777,name:"zora-mainnet"},"zora-sepolia":{chainId:999999999,name:"zora-sepolia"},"frax-mainnet":{chainId:252,name:"frax-mainnet"},"frax-sepolia":{chainId:2522,name:"frax-sepolia"},"polynomial-mainnet":{chainId:8008,name:"polynomial-mainnet"},"polynomial-sepolia":{chainId:8009,name:"polynomial-sepolia"},"crossfi-mainnet":{chainId:4158,name:"crossfi-mainnet"},"crossfi-testnet":{chainId:4157,name:"crossfi-testnet"},"apechain-mainnet":{chainId:33139,name:"apechain-mainnet"},"apechain-curtis":{chainId:33111,name:"apechain-curtis"},"lens-mainnet":{chainId:232,name:"lens-mainnet"},"lens-sepolia":{chainId:37111,name:"lens-sepolia"},"geist-mainnet":{chainId:63157,name:"geist-mainnet"},"geist-polter":{chainId:631571,name:"geist-polter"},"lumia-prism":{chainId:994873017,name:"lumia-prism"},"lumia-testnet":{chainId:1952959480,name:"lumia-testnet"},"unichain-mainnet":{chainId:130,name:"unichain-mainnet"},"unichain-sepolia":{chainId:1301,name:"unichain-sepolia"},"sonic-mainnet":{chainId:146,name:"sonic-mainnet"},"sonic-blaze":{chainId:57054,name:"sonic-blaze"},"xmtp-testnet":{chainId:241320161,name:"xmtp-testnet"},"abstract-mainnet":{chainId:2741,name:"abstract-mainnet"},"abstract-testnet":{chainId:11124,name:"abstract-testnet"},"degen-mainnet":{chainId:666666666,name:"degen-mainnet"},"ink-mainnet":{chainId:57073,name:"ink-mainnet"},"ink-sepolia":{chainId:763373,name:"ink-sepolia"},"sei-mainnet":{chainId:1329,name:"sei-mainnet"},"sei-testnet":{chainId:1328,name:"sei-testnet"},"ronin-mainnet":{chainId:2020,name:"ronin-mainnet"},"ronin-saigon":{chainId:2021,name:"ronin-saigon"},"monad-testnet":{chainId:10143,name:"monad-testnet"},"settlus-mainnet":{chainId:5371,name:"settlus-mainnet"},"settlus-septestnet":{chainId:5373,name:"settlus-septestnet"},"gensyn-testnet":{chainId:685685,name:"gensyn-testnet"},"superseed-mainnet":{chainId:5330,name:"superseed-mainnet"},"superseed-sepolia":{chainId:53302,name:"superseed-sepolia"},"tea-sepolia":{chainId:10218,name:"tea-sepolia"},"anime-mainnet":{chainId:69e3,name:"anime-mainnet"},"anime-sepolia":{chainId:6900,name:"anime-sepolia"},"story-mainnet":{chainId:1514,name:"story-mainnet"},"story-aeneid":{chainId:1315,name:"story-aeneid"},"megaeth-testnet":{chainId:6342,name:"megaeth-testnet"}};function noop(){}const X="0x";const ee="0x0000000000000000000000000000000000000000";class AlchemyConfig{constructor(e){this.apiKey=(e===null||e===void 0?void 0:e.apiKey)||W;this.network=(e===null||e===void 0?void 0:e.network)||V;this.maxRetries=(e===null||e===void 0?void 0:e.maxRetries)||Y;this.url=e===null||e===void 0?void 0:e.url;this.authToken=e===null||e===void 0?void 0:e.authToken;this.batchRequests=(e===null||e===void 0?void 0:e.batchRequests)||false;this.requestTimeout=(e===null||e===void 0?void 0:e.requestTimeout)||$;this.connectionInfoOverrides=e===null||e===void 0?void 0:e.connectionInfoOverrides}_getRequestUrl(e){if(this.url!==undefined){return this.url}else if(e===J.NFT){return getAlchemyNftHttpUrl(this.network,this.apiKey)}else if(e===J.WEBHOOK){return getAlchemyWebhookHttpUrl()}else if(e===J.PRICES){return getPricesBaseUrl(this.apiKey)}else if(e===J.PORTFOLIO){return getDataBaseUrl(this.apiKey)}else{return getAlchemyHttpUrl(this.network,this.apiKey)}}getProvider(){if(!this._baseAlchemyProvider){this._baseAlchemyProvider=(()=>__awaiter$1(this,void 0,void 0,function*(){const{AlchemyProvider:e}=yield i.e("node_modules_pnpm_alchemy-sdk_3_6_0_bufferutil_4_0_9_typescript_5_8_3_utf-8-validate_5_0_10_n-d83b19").then(i.bind(i,"../../node_modules/.pnpm/alchemy-sdk@3.6.0_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/alchemy-sdk/dist/esm/alchemy-provider-0066b792.js"));return new e(this)}))()}return this._baseAlchemyProvider}getWebSocketProvider(){if(!this._baseAlchemyWssProvider){this._baseAlchemyWssProvider=(()=>__awaiter$1(this,void 0,void 0,function*(){const{AlchemyWebSocketProvider:e}=yield i.e("node_modules_pnpm_alchemy-sdk_3_6_0_bufferutil_4_0_9_typescript_5_8_3_utf-8-validate_5_0_10_n-632f4c").then(i.bind(i,"../../node_modules/.pnpm/alchemy-sdk@3.6.0_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/alchemy-sdk/dist/esm/alchemy-websocket-provider-98da5bb0.js"));return new e(this)}))()}return this._baseAlchemyWssProvider}}const te="logger/5.7.0";let re=false;let ne=false;const se={debug:1,default:2,info:2,warning:3,error:4,off:5};let ie=se["default"];let oe=null;function _checkNormalize(){try{const e=[];["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test"){throw new Error("bad normalize")}}catch(i){e.push(t)}});if(e.length){throw new Error("missing "+e.join(", "))}if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769)){throw new Error("broken implementation")}}catch(e){return e.message}return null}const ae=_checkNormalize();var le;(function(e){e["DEBUG"]="DEBUG";e["INFO"]="INFO";e["WARNING"]="WARNING";e["ERROR"]="ERROR";e["OFF"]="OFF"})(le||(le={}));var ce;(function(e){e["UNKNOWN_ERROR"]="UNKNOWN_ERROR";e["NOT_IMPLEMENTED"]="NOT_IMPLEMENTED";e["UNSUPPORTED_OPERATION"]="UNSUPPORTED_OPERATION";e["NETWORK_ERROR"]="NETWORK_ERROR";e["SERVER_ERROR"]="SERVER_ERROR";e["TIMEOUT"]="TIMEOUT";e["BUFFER_OVERRUN"]="BUFFER_OVERRUN";e["NUMERIC_FAULT"]="NUMERIC_FAULT";e["MISSING_NEW"]="MISSING_NEW";e["INVALID_ARGUMENT"]="INVALID_ARGUMENT";e["MISSING_ARGUMENT"]="MISSING_ARGUMENT";e["UNEXPECTED_ARGUMENT"]="UNEXPECTED_ARGUMENT";e["CALL_EXCEPTION"]="CALL_EXCEPTION";e["INSUFFICIENT_FUNDS"]="INSUFFICIENT_FUNDS";e["NONCE_EXPIRED"]="NONCE_EXPIRED";e["REPLACEMENT_UNDERPRICED"]="REPLACEMENT_UNDERPRICED";e["UNPREDICTABLE_GAS_LIMIT"]="UNPREDICTABLE_GAS_LIMIT";e["TRANSACTION_REPLACED"]="TRANSACTION_REPLACED";e["ACTION_REJECTED"]="ACTION_REJECTED"})(ce||(ce={}));const ue="0123456789abcdef";class Logger$1{constructor(e){Object.defineProperty(this,"version",{enumerable:true,value:e,writable:false})}_log(e,t){const i=e.toLowerCase();if(se[i]==null){this.throwArgumentError("invalid log level name","logLevel",e)}if(ie>se[i]){return}console.log.apply(console,t)}debug(...e){this._log(Logger$1.levels.DEBUG,e)}info(...e){this._log(Logger$1.levels.INFO,e)}warn(...e){this._log(Logger$1.levels.WARNING,e)}makeError(e,t,i){if(ne){return this.makeError("censored error",t,{})}if(!t){t=Logger$1.errors.UNKNOWN_ERROR}if(!i){i={}}const o=[];Object.keys(i).forEach(e=>{const t=i[e];try{if(t instanceof Uint8Array){let i="";for(let e=0;e<t.length;e++){i+=ue[t[e]>>4];i+=ue[t[e]&15]}o.push(e+"=Uint8Array(0x"+i+")")}else{o.push(e+"="+JSON.stringify(t))}}catch(t){o.push(e+"="+JSON.stringify(i[e].toString()))}});o.push(`code=${t}`);o.push(`version=${this.version}`);const a=e;let l="";switch(t){case ce.NUMERIC_FAULT:{l="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":l+="-"+t;break;case"negative-power":case"negative-width":l+="-unsupported";break;case"unbound-bitwise-result":l+="-unbound-result";break}break}case ce.CALL_EXCEPTION:case ce.INSUFFICIENT_FUNDS:case ce.MISSING_NEW:case ce.NONCE_EXPIRED:case ce.REPLACEMENT_UNDERPRICED:case ce.TRANSACTION_REPLACED:case ce.UNPREDICTABLE_GAS_LIMIT:l=t;break}if(l){e+=" [ See: https://links.ethers.org/v5-errors-"+l+" ]"}if(o.length){e+=" ("+o.join(", ")+")"}const u=new Error(e);u.reason=a;u.code=t;Object.keys(i).forEach(function(e){u[e]=i[e]});return u}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,Logger$1.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,o){if(!!e){return}this.throwError(t,i,o)}assertArgument(e,t,i,o){if(!!e){return}this.throwArgumentError(t,i,o)}checkNormalize(e){if(ae){this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ae})}}checkSafeUint53(e,t){if(typeof e!=="number"){return}if(t==null){t="value not safe"}if(e<0||e>=9007199254740991){this.throwError(t,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e})}if(e%1){this.throwError(t,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e})}}checkArgumentCount(e,t,i){if(i){i=": "+i}else{i=""}if(e<t){this.throwError("missing argument"+i,Logger$1.errors.MISSING_ARGUMENT,{count:e,expectedCount:t})}if(e>t){this.throwError("too many arguments"+i,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}}checkNew(e,t){if(e===Object||e==null){this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:t.name})}}checkAbstract(e,t){if(e===t){this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"})}else if(e===Object||e==null){this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:t.name})}}static globalLogger(){if(!oe){oe=new Logger$1(te)}return oe}static setCensorship(e,t){if(!e&&t){this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}if(re){if(!e){return}this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ne=!!e;re=!!t}static setLogLevel(e){const t=se[e.toLowerCase()];if(t==null){Logger$1.globalLogger().warn("invalid log level - "+e);return}ie=t}static from(e){return new Logger$1(e)}}Logger$1.errors=ce;Logger$1.levels=le;const de="properties/5.7.0";var he=false||function(e,t,i,o){function adopt(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,a){function fulfilled(e){try{step(o.next(e))}catch(e){a(e)}}function rejected(e){try{step(o["throw"](e))}catch(e){a(e)}}function step(e){e.done?i(e.value):adopt(e.value).then(fulfilled,rejected)}step((o=o.apply(e,t||[])).next())})};const pe=new Logger$1(de);function defineReadOnly(e,t,i){Object.defineProperty(e,t,{enumerable:true,value:i,writable:false})}function resolveProperties(e){return he(this,void 0,void 0,function*(){const t=Object.keys(e).map(t=>{const i=e[t];return Promise.resolve(i).then(e=>({key:t,value:e}))});const i=yield Promise.all(t);return i.reduce((e,t)=>{e[t.key]=t.value;return e},{})})}const me={bigint:true,boolean:true,function:true,number:true,string:true};function _isFrozen(e){if(e===undefined||e===null||me[typeof e]){return true}if(Array.isArray(e)||typeof e==="object"){if(!Object.isFrozen(e)){return false}const t=Object.keys(e);for(let i=0;i<t.length;i++){let o=null;try{o=e[t[i]]}catch(e){continue}if(!_isFrozen(o)){return false}}return true}return pe.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function _deepCopy(e){if(_isFrozen(e)){return e}if(Array.isArray(e)){return Object.freeze(e.map(e=>deepCopy(e)))}if(typeof e==="object"){const t={};for(const i in e){const o=e[i];if(o===undefined){continue}defineReadOnly(t,i,deepCopy(o))}return t}return pe.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}function deepCopy(e){return _deepCopy(e)}function fromHex(e){return l.BigNumber.from(e).toNumber()}function toHex(e){return l.BigNumber.from(e).toHexString()}function isHex(e){return/^0x[0-9a-fA-F]+$/.test(e)}function formatBlock(e){if(typeof e==="string"){return e}else if(Number.isInteger(e)){return toHex(e)}return e.toString()}function stringToEnum(e,t){return Object.values(t).includes(e)?e:null}function getNftContractForNftFromRaw(e){return nullsToUndefined(Object.assign(Object.assign({},getNftContractFromRaw(e)),{spamClassifications:e.spamClassifications.map(parseNftSpamClassification)}))}function getNftContractsForOwnerFromRaw(e){return nullsToUndefined(Object.assign(Object.assign({},getNftContractFromRaw(e)),{displayNft:e.displayNft,image:e.image,totalBalance:e.totalBalance,numDistinctTokensOwned:e.numDistinctTokensOwned,isSpam:e.isSpam}))}function getNftContractFromRaw(e){var t;return nullsToUndefined(Object.assign(Object.assign({},e),{tokenType:parseNftTokenType(e.tokenType),openSeaMetadata:Object.assign(Object.assign({},e.openSeaMetadata),{safelistRequestStatus:((t=e.openSeaMetadata)===null||t===void 0?void 0:t.safelistRequestStatus)?stringToEnum(e.openSeaMetadata.safelistRequestStatus,A):null})}))}function getNftCollectionFromRaw(e){return nullsToUndefined(Object.assign(Object.assign({},e),{floorPrice:Object.assign(Object.assign({},e.floorPrice),{marketplace:parseNftCollectionMarketplace(e.floorPrice.marketplace)})}))}function getBaseNftFromRaw(e,t){return{contractAddress:t?t:e.contractAddress,tokenId:e.tokenId}}function getNftFromRaw(e){return nullsToUndefined(Object.assign(Object.assign({},e),{contract:getNftContractForNftFromRaw(e.contract),tokenType:parseNftTokenType(e.tokenType),acquiredAt:e.acquiredAt,collection:e.collection,mint:e.mint}))}function getNftSalesFromRaw(e){return nullsToUndefined({nftSales:e.nftSales.map(e=>Object.assign(Object.assign({},e),{marketplace:parseNftSaleMarketplace(e.marketplace),taker:parseNftTaker(e.taker)})),validAt:e.validAt,pageKey:e.pageKey})}function parseNftSaleMarketplace(e){switch(e){case"looksrare":return U.LOOKSRARE;case"seaport":return U.SEAPORT;case"x2y2":return U.X2Y2;case"wyvern":return U.WYVERN;case"cryptopunks":return U.CRYPTOPUNKS;case"blur":return U.BLUR;default:return U.UNKNOWN}}function parseNftCollectionMarketplace(e){switch(e){case"OpenSea":return G.OPENSEA;default:return undefined}}function parseNftTaker(e){switch(e.toLowerCase()){case"buyer":return H.BUYER;case"seller":return H.SELLER;default:throw new Error(`Unsupported NftSaleTakerType ${e}`)}}function parseNftSpamClassification(e){const t=stringToEnum(e,D);if(t==null){return D.Unknown}return t}function parseNftTokenType(e){switch(e){case"erc721":case"ERC721":return O.ERC721;case"erc1155":case"ERC1155":return O.ERC1155;case"no_supported_nft_standard":case"NO_SUPPORTED_NFT_STANDARD":return O.NO_SUPPORTED_NFT_STANDARD;case"not_a_contract":case"NOT_A_CONTRACT":return O.NOT_A_CONTRACT;default:return O.UNKNOWN}}const ve=typeof window!=="undefined"&&window!==null;function nullsToUndefined(e){if(e===null||e===undefined){return undefined}if(e.constructor.name==="Object"||Array.isArray(e)){for(const t in e){e[t]=nullsToUndefined(e[t])}}return e}function getAssetTransfers(e,t,i="getAssetTransfers"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield e.getProvider();if(t.fromAddress){t.fromAddress=yield o._getAddress(t.fromAddress)}if(t.toAddress){t.toAddress=yield o._getAddress(t.toAddress)}return o._send("alchemy_getAssetTransfers",[Object.assign(Object.assign({},t),{fromBlock:t.fromBlock!=null?formatBlock(t.fromBlock):undefined,toBlock:t.toBlock!=null?formatBlock(t.toBlock):undefined,maxCount:t.maxCount!=null?toHex(t.maxCount):undefined})],i)})}function getTransactionReceipts(e,t,i="getTransactionReceipts"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield e.getProvider();return o._send("alchemy_getTransactionReceipts",[t],i)})}function getLogs(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield e.getProvider();yield i.getNetwork();const o=yield resolveProperties({filter:getFilter(e,t)});const a=yield i.send("eth_getLogs",[o.filter]);a.forEach(e=>{if(e.removed==null){e.removed=false}});return arrayOf(i.formatter.filterLog.bind(i.formatter))(a)})}function getFilter(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield e.getProvider();const o=yield t;let a={};["blockHash","topics"].forEach(e=>{if(o[e]==null){return}a[e]=o[e]});["fromBlock","toBlock"].forEach(e=>{if(o[e]==null){return}a[e]=i._getBlockTag(o[e])});a=i.formatter.filter(yield resolveProperties(a));if(Array.isArray(o.address)){a.address=yield Promise.all(o.address.map(e=>__awaiter$1(this,void 0,void 0,function*(){return i._getAddress(e)})))}else if(o.address!=null){a.address=yield i._getAddress(o.address)}return a})}function arrayOf(e){return function(t){if(!Array.isArray(t)){throw new Error("not an array")}const i=[];t.forEach(t=>{i.push(e(t))});return i}}class CoreNamespace{constructor(e){this.config=e}getBalance(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();return i.getBalance(e,t)})}isContractAddress(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();const i=yield t.getCode(e);return i!=="0x"})}getCode(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();return i.getCode(e,t)})}getStorageAt(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.config.getProvider();return o.getStorageAt(e,t,i)})}getTransactionCount(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();return i.getTransactionCount(e,t)})}getBlock(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.getBlock(e)})}getBlockWithTransactions(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.getBlockWithTransactions(e)})}getNetwork(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this.config.getProvider();return e.getNetwork()})}getBlockNumber(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this.config.getProvider();return e.getBlockNumber()})}getGasPrice(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this.config.getProvider();return e.getGasPrice()})}getFeeData(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this.config.getProvider();return e.getFeeData()})}ready(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this.config.getProvider();return e.ready})}call(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();return i.call(e,t)})}estimateGas(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.estimateGas(e)})}getTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.getTransaction(e)})}getTransactionReceipt(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.getTransactionReceipt(e)})}sendTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.sendTransaction(e)})}waitForTransaction(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.config.getProvider();return o.waitForTransaction(e,t,i)})}getLogs(e){return __awaiter$1(this,void 0,void 0,function*(){return getLogs(this.config,e)})}send(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();return i.send(e,t)})}findContractDeployer(e){var t;return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();const o=yield i.getBlockNumber();if((yield i.getCode(e,o))===X){throw new Error(`Contract '${e}' does not exist`)}const a=yield binarySearchFirstBlock(0,o+1,e,this.config);const l=yield getTransactionReceipts(this.config,{blockNumber:toHex(a)},"findContractDeployer");const u=(t=l.receipts)===null||t===void 0?void 0:t.find(t=>t.contractAddress===e.toLowerCase());return{deployerAddress:u===null||u===void 0?void 0:u.from,blockNumber:a}})}getTokenBalances(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();const o=yield i._getAddress(e);if(Array.isArray(t)){if(t.length>1500){throw new Error("You cannot pass in more than 1500 contract addresses to getTokenBalances()")}if(t.length===0){throw new Error("getTokenBalances() requires at least one contractAddress when using an array")}return i._send("alchemy_getTokenBalances",[o,t],"getTokenBalances")}else{const e=t===undefined?v.ERC20:t.type;const a=[o,e];if((t===null||t===void 0?void 0:t.type)===v.ERC20&&t.pageKey){a.push({pageKey:t.pageKey})}return i._send("alchemy_getTokenBalances",a,"getTokenBalances")}})}getTokensForOwner(e,t){var i;return __awaiter$1(this,void 0,void 0,function*(){const a=yield this.config.getProvider();const u=yield a._getAddress(e);const d=[u,(i=t===null||t===void 0?void 0:t.contractAddresses)!==null&&i!==void 0?i:v.ERC20];if(t===null||t===void 0?void 0:t.pageKey){d.push({pageKey:t.pageKey})}const p=yield a._send("alchemy_getTokenBalances",d,"getTokensForOwner");const m=p.tokenBalances.map(e=>({contractAddress:e.contractAddress,rawBalance:l.BigNumber.from(e.tokenBalance).toString()}));const g=yield Promise.allSettled(p.tokenBalances.map(e=>a._send("alchemy_getTokenMetadata",[e.contractAddress],"getTokensForOwner")));const y=g.map(e=>e.status==="fulfilled"?e.value:{name:null,symbol:null,decimals:null,logo:null});const _=m.map((e,t)=>Object.assign(Object.assign(Object.assign({},e),y[t]),{balance:y[t].decimals!==null?(0,o.formatUnits)(e.rawBalance,y[t].decimals):undefined}));return{tokens:_.map(e=>nullsToUndefined(e)),pageKey:p.pageKey}})}getTokenMetadata(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t._send("alchemy_getTokenMetadata",[e],"getTokenMetadata")})}getAssetTransfers(e){return __awaiter$1(this,void 0,void 0,function*(){return getAssetTransfers(this.config,e)})}getTransactionReceipts(e){return __awaiter$1(this,void 0,void 0,function*(){return getTransactionReceipts(this.config,e)})}resolveName(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.resolveName(e)})}lookupAddress(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.lookupAddress(e)})}}function binarySearchFirstBlock(e,t,i,o){return __awaiter$1(this,void 0,void 0,function*(){if(e>=t){return t}const a=Math.floor((e+t)/2);const l=yield o.getProvider();const u=yield l.getCode(i,a);if(u===X){return binarySearchFirstBlock(a+1,t,i,o)}return binarySearchFirstBlock(e,a,i,o)})}class DebugNamespace{constructor(e){this.config=e}traceCall(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.config.getProvider();const a=[e,t,parseTracerParams(i)];return o._send("debug_traceCall",a,"traceCall")})}traceTransaction(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.config.getProvider();const a=[e,parseTracerParams(t,i)];return o._send("debug_traceTransaction",a,"traceTransaction")})}traceBlock(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();let o;let l;if((0,a.isHexString)(e,32)){o="debug_traceBlockByHash";l=[e,parseTracerParams(t)]}else{o="debug_traceBlockByNumber";const i=typeof e==="number"?(0,a.hexStripZeros)((0,a.hexValue)(e)):e;l=[i,parseTracerParams(t)]}return i._send(o,l,"traceBlock")})}}function parseTracerParams(e,t){return Object.assign({tracer:e.type},e.onlyTopCall!==undefined&&{tracerConfig:{onlyTopCall:e.onlyTopCall,timeout:t}})}function sanitizeTokenType(e){if(e===O.ERC1155||e===O.ERC721){return e}return undefined}var ye;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["INFO"]=1]="INFO";e[e["WARN"]=2]="WARN";e[e["ERROR"]=3]="ERROR";e[e["SILENT"]=4]="SILENT"})(ye||(ye={}));const be={debug:ye.DEBUG,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT};const _e={[ye.DEBUG]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"};const we=ye.INFO;function setLogLevel(e){Ee.logLevel=be[e]}function logDebug(e,...t){Ee.debug(e,t)}function logInfo(e,...t){Ee.info(e,t)}function logWarn(e,...t){Ee.warn(e,t)}class Logger{constructor(){this._logLevel=we}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye)){throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``)}this._logLevel=e}debug(...e){this._log(ye.DEBUG,...e)}info(...e){this._log(ye.INFO,...e)}warn(...e){this._log(ye.WARN,...e)}error(...e){this._log(ye.ERROR,...e)}_log(e,...t){if(e<this._logLevel){return}const i=(new Date).toISOString();const o=_e[e];if(o){console[o](`[${i}] Alchemy:`,...t.map(stringify))}else{throw new Error(`Logger received an invalid logLevel (value: ${e})`)}}}function stringify(e){if(typeof e==="string"){return e}else{try{return JSON.stringify(e)}catch(t){return e}}}const Ee=new Logger;const Ae="3.6.0";function sendAxiosRequest(e,t,i,o,a){var l;const d=e+"/"+t;const p=Object.assign(Object.assign({},a),{headers:Object.assign(Object.assign(Object.assign({},a===null||a===void 0?void 0:a.headers),!ve&&{"Accept-Encoding":"gzip"}),{"Alchemy-Ethers-Sdk-Version":Ae,"Alchemy-Ethers-Sdk-Method":i}),method:(l=a===null||a===void 0?void 0:a.method)!==null&&l!==void 0?l:"GET",url:d,params:o});return(0,u["default"])(p)}const Se=1e3;const ke=1.5;const Te=30*1e3;const xe=5;class ExponentialBackoff{constructor(e=xe){this.maxAttempts=e;this.initialDelayMs=Se;this.backoffMultiplier=ke;this.maxDelayMs=Te;this.numAttempts=0;this.currentDelayMs=0;this.isInBackoff=false}backoff(){if(this.numAttempts>=this.maxAttempts){return Promise.reject(new Error(`Exceeded maximum number of attempts: ${this.maxAttempts}`))}if(this.isInBackoff){return Promise.reject(new Error("A backoff operation is already in progress"))}const e=this.withJitterMs(this.currentDelayMs);if(e>0){logDebug("ExponentialBackoff.backoff",`Backing off for ${e}ms`)}this.currentDelayMs*=this.backoffMultiplier;this.currentDelayMs=Math.max(this.currentDelayMs,this.initialDelayMs);this.currentDelayMs=Math.min(this.currentDelayMs,this.maxDelayMs);this.numAttempts+=1;return new Promise(t=>{this.isInBackoff=true;setTimeout(()=>{this.isInBackoff=false;t()},e)})}withJitterMs(e){return Math.min(e+(Math.random()-.5)*e,this.maxDelayMs)}}function requestHttpWithBackoff(e,t,i,o,a,l){return __awaiter$1(this,void 0,void 0,function*(){let d=undefined;const p=new ExponentialBackoff(e.maxRetries);for(let m=0;m<e.maxRetries+1;m++){try{if(d!==undefined){logInfo("requestHttp",`Retrying after error: ${d.message}`)}try{yield p.backoff()}catch(e){break}const u=yield sendAxiosRequest(e._getRequestUrl(t),i,o,a,Object.assign(Object.assign({},l),{timeout:e.requestTimeout}));if(u.status===200){logDebug(i,`Successful request: ${i}`);return u.data}else{logInfo(i,`Request failed: ${i}, ${u.status}, ${u.data}`);d=new Error(u.status+": "+u.data)}}catch(e){if(!u["default"].isAxiosError(e)||e.response===undefined){throw e}d=new Error(e.response.status+": "+JSON.stringify(e.response.data));if(!isRetryableHttpError(e,t)){break}}}return Promise.reject(d)})}function isRetryableHttpError(e,t){const i=t===J.WEBHOOK?[429,500]:[429];return e.response!==undefined&&i.includes(e.response.status)}function paginateEndpoint(e,t,i,o,a,l,u){return __asyncGenerator(this,arguments,function*paginateEndpoint_1(){let d=true;const p=Object.assign({},u);while(d){const u=yield __await(requestHttpWithBackoff(e,t,i,o,p));yield yield __await(u);if(u[l]!==null){p[a]=u[l]}else{d=false}}})}function getNftMetadata(e,t,i,o,a="getNftMetadata"){return __awaiter$1(this,void 0,void 0,function*(){const u=yield requestHttpWithBackoff(e,J.NFT,"getNFTMetadata",a,{contractAddress:t,tokenId:l.BigNumber.from(i).toString(),tokenType:sanitizeTokenType(o===null||o===void 0?void 0:o.tokenType),tokenUriTimeoutInMs:o===null||o===void 0?void 0:o.tokenUriTimeoutInMs,refreshCache:o===null||o===void 0?void 0:o.refreshCache});return getNftFromRaw(u)})}function getNftMetadataBatch(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o={tokens:t,tokenUriTimeoutInMs:i===null||i===void 0?void 0:i.tokenUriTimeoutInMs,refreshCache:i===null||i===void 0?void 0:i.refreshCache};const a=yield requestHttpWithBackoff(e,J.NFT,"getNFTMetadataBatch","getNftMetadataBatch",{},{method:"POST",data:o});return{nfts:a.nfts.map(e=>getNftFromRaw(e))}})}function getContractMetadata(e,t,i="getContractMetadata"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.NFT,"getContractMetadata",i,{contractAddress:t});return getNftContractFromRaw(o)})}function getContractMetadataBatch(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield requestHttpWithBackoff(e,J.NFT,"getContractMetadataBatch","getContractMetadataBatch",{},{method:"POST",data:{contractAddresses:t}});return{contracts:i.contracts.map(getNftContractFromRaw)}})}function getCollectionMetadata(e,t,i="getCollectionMetadata"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.NFT,"getCollectionMetadata",i,{collectionSlug:t});return getNftCollectionFromRaw(o)})}function getNftsForOwnerIterator(e,t,i,o="getNftsForOwnerIterator"){return __asyncGenerator(this,arguments,function*getNftsForOwnerIterator_1(){var a,l;const u=omitMetadataToWithMetadata(i===null||i===void 0?void 0:i.omitMetadata);try{for(var d=__asyncValues(paginateEndpoint(e,J.NFT,"getNFTsForOwner",o,"pageKey","pageKey",{contractAddresses:i===null||i===void 0?void 0:i.contractAddresses,pageKey:i===null||i===void 0?void 0:i.pageKey,excludeFilters:i===null||i===void 0?void 0:i.excludeFilters,includeFilters:i===null||i===void 0?void 0:i.includeFilters,owner:t,withMetadata:u,tokenUriTimeoutInMs:i===null||i===void 0?void 0:i.tokenUriTimeoutInMs,orderBy:i===null||i===void 0?void 0:i.orderBy})),p;p=yield __await(d.next()),!p.done;){const e=p.value;for(const t of e.ownedNfts){yield yield __await(Object.assign(Object.assign({},nftFromGetNftResponse(t)),{balance:t.balance}))}}}catch(e){a={error:e}}finally{try{if(p&&!p.done&&(l=d.return))yield __await(l.call(d))}finally{if(a)throw a.error}}})}function getNftsForOwner(e,t,i,o="getNftsForOwner"){return __awaiter$1(this,void 0,void 0,function*(){const a=omitMetadataToWithMetadata(i===null||i===void 0?void 0:i.omitMetadata);const l=yield requestHttpWithBackoff(e,J.NFT,"getNFTsForOwner",o,{contractAddresses:i===null||i===void 0?void 0:i.contractAddresses,pageKey:i===null||i===void 0?void 0:i.pageKey,excludeFilters:i===null||i===void 0?void 0:i.excludeFilters,includeFilters:i===null||i===void 0?void 0:i.includeFilters,owner:t,pageSize:i===null||i===void 0?void 0:i.pageSize,withMetadata:a,tokenUriTimeoutInMs:i===null||i===void 0?void 0:i.tokenUriTimeoutInMs,orderBy:i===null||i===void 0?void 0:i.orderBy});if(a){return nullsToUndefined({ownedNfts:l.ownedNfts.map(e=>Object.assign(Object.assign({},getNftFromRaw(e)),{balance:e.balance})),pageKey:l.pageKey,totalCount:l.totalCount,validAt:l.validAt})}return nullsToUndefined({ownedNfts:l.ownedNfts.map(e=>Object.assign(Object.assign({},getBaseNftFromRaw(e)),{balance:e.balance})),pageKey:l.pageKey,totalCount:l.totalCount,validAt:l.validAt})})}function getNftsForContract(e,t,i,o="getNftsForContract"){var a;return __awaiter$1(this,void 0,void 0,function*(){const l=omitMetadataToWithMetadata(i===null||i===void 0?void 0:i.omitMetadata);const u=yield requestHttpWithBackoff(e,J.NFT,"getNFTsForContract",o,{contractAddress:t,pageKey:i===null||i===void 0?void 0:i.pageKey,withMetadata:l,limit:(a=i===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:undefined,tokenUriTimeoutInMs:i===null||i===void 0?void 0:i.tokenUriTimeoutInMs});if(l){return nullsToUndefined({nfts:u.nfts.map(e=>getNftFromRaw(e)),pageKey:u.pageKey})}return nullsToUndefined({nfts:u.nfts.map(e=>getBaseNftFromRaw(e,t)),pageKey:u.pageKey})})}function getNftsForContractIterator(e,t,i,o="getNftsForContractIterator"){return __asyncGenerator(this,arguments,function*getNftsForContractIterator_1(){var a,l;const u=omitMetadataToWithMetadata(i===null||i===void 0?void 0:i.omitMetadata);try{for(var d=__asyncValues(paginateEndpoint(e,J.NFT,"getNFTsForContract",o,"pageKey","pageKey",{contractAddress:t,pageKey:i===null||i===void 0?void 0:i.pageKey,withMetadata:u})),p;p=yield __await(d.next()),!p.done;){const e=p.value;for(const i of e.nfts){yield yield __await(nftFromGetNftContractResponse(i,t))}}}catch(e){a={error:e}}finally{try{if(p&&!p.done&&(l=d.return))yield __await(l.call(d))}finally{if(a)throw a.error}}})}function getOwnersForContract(e,t,i,o="getOwnersForContract"){return __awaiter$1(this,void 0,void 0,function*(){const a=yield requestHttpWithBackoff(e,J.NFT,"getOwnersForContract",o,Object.assign(Object.assign({},i),{contractAddress:t}));if(i===null||i===void 0?void 0:i.withTokenBalances){return nullsToUndefined({owners:a.owners,pageKey:a.pageKey})}return nullsToUndefined({owners:a.owners,pageKey:a.pageKey})})}function getContractsForOwner(e,t,i,o="getContractsForOwner"){return __awaiter$1(this,void 0,void 0,function*(){const a=yield requestHttpWithBackoff(e,J.NFT,"getContractsForOwner",o,{owner:t,excludeFilters:i===null||i===void 0?void 0:i.excludeFilters,includeFilters:i===null||i===void 0?void 0:i.includeFilters,pageKey:i===null||i===void 0?void 0:i.pageKey,pageSize:i===null||i===void 0?void 0:i.pageSize,orderBy:i===null||i===void 0?void 0:i.orderBy});return nullsToUndefined({contracts:a.contracts.map(getNftContractsForOwnerFromRaw),pageKey:a.pageKey,totalCount:a.totalCount})})}function getOwnersForNft(e,t,i,o,a="getOwnersForNft"){return __awaiter$1(this,void 0,void 0,function*(){return requestHttpWithBackoff(e,J.NFT,"getOwnersForNFT",a,Object.assign({contractAddress:t,tokenId:l.BigNumber.from(i).toString()},o))})}function getMintedNfts(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield e.getProvider();const a=yield o._getAddress(t);const l=nftTokenTypeToCategory(i===null||i===void 0?void 0:i.tokenType);const u={fromBlock:"0x0",fromAddress:ee,toAddress:a,excludeZeroValue:true,contractAddresses:i===null||i===void 0?void 0:i.contractAddresses,category:l,maxCount:100,pageKey:i===null||i===void 0?void 0:i.pageKey};const d=yield getAssetTransfers(e,u,"getMintedNfts");return getNftsForTransfers(e,d)})}function getTransfersForOwner(e,t,i,o){return __awaiter$1(this,void 0,void 0,function*(){const a=yield e.getProvider();const l=yield a._getAddress(t);const u=nftTokenTypeToCategory(o===null||o===void 0?void 0:o.tokenType);const d={fromBlock:"0x0",excludeZeroValue:true,contractAddresses:o===null||o===void 0?void 0:o.contractAddresses,category:u,maxCount:100,pageKey:o===null||o===void 0?void 0:o.pageKey};if(i===_.TO){d.toAddress=l}else{d.fromAddress=l}const p=yield getAssetTransfers(e,d,"getTransfersForOwner");return getNftsForTransfers(e,p)})}function getTransfersForContract(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=[y.ERC721,y.ERC1155,y.SPECIALNFT];const a=yield e.getProvider();const l=(i===null||i===void 0?void 0:i.fromBlock)?a.formatter.blockTag(yield a._getBlockTag(i.fromBlock)):"0x0";const u=(i===null||i===void 0?void 0:i.toBlock)?a.formatter.blockTag(yield a._getBlockTag(i.toBlock)):undefined;const d={fromBlock:l,toBlock:u,excludeZeroValue:true,contractAddresses:[t],order:i===null||i===void 0?void 0:i.order,category:o,maxCount:100,pageKey:i===null||i===void 0?void 0:i.pageKey};const p=yield getAssetTransfers(e,d,"getTransfersForContract");return getNftsForTransfers(e,p)})}function nftTokenTypeToCategory(e){switch(e){case O.ERC721:return[y.ERC721];case O.ERC1155:return[y.ERC1155];default:return[y.ERC721,y.ERC1155,y.SPECIALNFT]}}function parse1155Transfer(e){return e.erc1155Metadata.map(t=>({contractAddress:e.rawContract.address,tokenId:t.tokenId,tokenType:O.ERC1155}))}function verifyNftOwnership(e,t,i,o="verifyNftOwnership"){return __awaiter$1(this,void 0,void 0,function*(){if(typeof i==="string"){const a=yield getNftsForOwner(e,t,{contractAddresses:[i],omitMetadata:true},o);return a.ownedNfts.length>0}else{if(i.length===0){throw new Error("Must provide at least one contract address")}const a=yield getNftsForOwner(e,t,{contractAddresses:i,omitMetadata:true},o);const l=i.reduce((e,t)=>{e[t]=false;return e},{});for(const e of a.ownedNfts){l[e.contractAddress]=true}return l}})}function isSpamContract(e,t,i="isSpamContract"){return __awaiter$1(this,void 0,void 0,function*(){return requestHttpWithBackoff(e,J.NFT,"isSpamContract",i,{contractAddress:t})})}function getSpamContracts(e,t="getSpamContracts"){return __awaiter$1(this,void 0,void 0,function*(){return requestHttpWithBackoff(e,J.NFT,"getSpamContracts",t,undefined)})}function reportSpam(e,t,i="reportSpam"){return __awaiter$1(this,void 0,void 0,function*(){void requestHttpWithBackoff(e,J.NFT,"reportSpam",i,{contractAddress:t})})}function isAirdropNft(e,t,i,o="isAirdropNft"){return __awaiter$1(this,void 0,void 0,function*(){return requestHttpWithBackoff(e,J.NFT,"isAirdropNFT",o,{contractAddress:t,tokenId:i})})}function getFloorPrice(e,t,i="getFloorPrice"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.NFT,"getFloorPrice",i,{contractAddress:t});return nullsToUndefined(o)})}function getNftSales(e,t={},i="getNftSales"){return __awaiter$1(this,void 0,void 0,function*(){const o=Object.assign({},t);const a=yield requestHttpWithBackoff(e,J.NFT,"getNFTSales",i,{fromBlock:o===null||o===void 0?void 0:o.fromBlock,toBlock:o===null||o===void 0?void 0:o.toBlock,order:o===null||o===void 0?void 0:o.order,marketplace:o===null||o===void 0?void 0:o.marketplace,contractAddress:o===null||o===void 0?void 0:o.contractAddress,tokenId:(o===null||o===void 0?void 0:o.tokenId)?l.BigNumber.from(o===null||o===void 0?void 0:o.tokenId).toString():undefined,sellerAddress:o===null||o===void 0?void 0:o.sellerAddress,buyerAddress:o===null||o===void 0?void 0:o.buyerAddress,taker:o===null||o===void 0?void 0:o.taker,limit:o===null||o===void 0?void 0:o.limit,pageKey:o===null||o===void 0?void 0:o.pageKey});return getNftSalesFromRaw(a)})}function computeRarity(e,t,i,o="computeRarity"){return __awaiter$1(this,void 0,void 0,function*(){const a=yield requestHttpWithBackoff(e,J.NFT,"computeRarity",o,{contractAddress:t,tokenId:l.BigNumber.from(i).toString()});return nullsToUndefined(a)})}function searchContractMetadata(e,t,i="searchContractMetadata"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.NFT,"searchContractMetadata",i,{query:t});return{contracts:o.contracts.map(getNftContractFromRaw)}})}function summarizeNftAttributes(e,t,i="summarizeNftAttributes"){return __awaiter$1(this,void 0,void 0,function*(){return requestHttpWithBackoff(e,J.NFT,"summarizeNFTAttributes",i,{contractAddress:t})})}function refreshNftMetadata(e,t,i,o="refreshNftMetadata"){return __awaiter$1(this,void 0,void 0,function*(){const a=l.BigNumber.from(i).toString();const u=yield getNftMetadata(e,t,a,undefined,o);const d=yield refresh(e,t,a,o);return u.timeLastUpdated!==d.timeLastUpdated})}function refreshContract(e,t,i="refreshContract"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.NFT,"reingestContract",i,{contractAddress:t});return{contractAddress:o.contractAddress,refreshState:parseReingestionState(o.reingestionState),progress:o.progress}})}function refresh(e,t,i,o){return __awaiter$1(this,void 0,void 0,function*(){const a=yield requestHttpWithBackoff(e,J.NFT,"getNFTMetadata",o,{contractAddress:t,tokenId:l.BigNumber.from(i).toString(),refreshCache:true});return getNftFromRaw(a)})}function nftFromGetNftResponse(e){if(isNftWithMetadata(e)){return getNftFromRaw(e)}else{return getBaseNftFromRaw(e)}}function nftFromGetNftContractResponse(e,t){if(isNftWithMetadata(e)){return getNftFromRaw(e)}else{return getBaseNftFromRaw(e,t)}}function isNftWithMetadata(e){return e.name!==undefined}function getNftsForTransfers(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=t.transfers.filter(e=>e.rawContract.address!==null).flatMap(e=>{var t;const i=getTokensFromTransfer(e);const o={from:e.from,to:(t=e.to)!==null&&t!==void 0?t:undefined,transactionHash:e.hash,blockNumber:e.blockNum};return i.map(e=>({metadata:o,token:e}))});if(i.length===0){return{nfts:[]}}const o=100;const a=[];for(let e=0;e<i.length;e+=o){a.push(i.slice(e,e+o))}const u=yield Promise.all(a.map(t=>getNftMetadataBatch(e,t.map(e=>e.token))));const d=u.map(e=>e.nfts).flat();const p=new Map;d.forEach(e=>{const t=`${e.contract.address.toLowerCase()}-${l.BigNumber.from(e.tokenId).toString()}`;p.set(t,e)});const m=i.map(e=>{const t=`${e.token.contractAddress.toLowerCase()}-${l.BigNumber.from(e.token.tokenId).toString()}`;return Object.assign(Object.assign({},p.get(t)),e.metadata)});return{nfts:m,pageKey:t.pageKey}})}function getTokensFromTransfer(e){if(e.category===y.ERC1155){return parse1155Transfer(e)}else{return[{contractAddress:e.rawContract.address,tokenId:e.tokenId,tokenType:e.category===y.ERC721?O.ERC721:undefined}]}}function omitMetadataToWithMetadata(e){return e===undefined?true:!e}function parseReingestionState(e){switch(e){case"does_not_exist":return q.DOES_NOT_EXIST;case"already_queued":return q.ALREADY_QUEUED;case"in_progress":return q.IN_PROGRESS;case"finished":return q.FINISHED;case"queued":return q.QUEUED;case"queue_failed":return q.QUEUE_FAILED;default:throw new Error("Unknown reingestion state: "+e)}}class NftNamespace{constructor(e){this.config=e}getNftMetadata(e,t,i,o){let a;if(typeof i==="object"){a={tokenType:i.tokenType,tokenUriTimeoutInMs:i.tokenUriTimeoutInMs,refreshCache:i.refreshCache}}else{a={tokenType:i,tokenUriTimeoutInMs:o}}return getNftMetadata(this.config,e,t,a)}getNftMetadataBatch(e,t){return getNftMetadataBatch(this.config,e,t)}getContractMetadata(e){return getContractMetadata(this.config,e)}getContractMetadataBatch(e){return getContractMetadataBatch(this.config,e)}getCollectionMetadata(e){return getCollectionMetadata(this.config,e)}getNftsForOwnerIterator(e,t){return getNftsForOwnerIterator(this.config,e,t)}getNftsForOwner(e,t){return getNftsForOwner(this.config,e,t)}getNftsForContract(e,t){return getNftsForContract(this.config,e,t)}getNftsForContractIterator(e,t){return getNftsForContractIterator(this.config,e,t)}getOwnersForContract(e,t){return getOwnersForContract(this.config,e,t)}getOwnersForNft(e,t,i){return getOwnersForNft(this.config,e,t,i)}getContractsForOwner(e,t){return getContractsForOwner(this.config,e,t)}getTransfersForOwner(e,t,i){return getTransfersForOwner(this.config,e,t,i)}getTransfersForContract(e,t){return getTransfersForContract(this.config,e,t)}getMintedNfts(e,t){return __awaiter$1(this,void 0,void 0,function*(){return getMintedNfts(this.config,e,t)})}verifyNftOwnership(e,t){return verifyNftOwnership(this.config,e,t)}isSpamContract(e){return isSpamContract(this.config,e)}getSpamContracts(){return getSpamContracts(this.config)}reportSpam(e){return reportSpam(this.config,e)}isAirdropNft(e,t){return isAirdropNft(this.config,e,t)}getFloorPrice(e){return getFloorPrice(this.config,e)}getNftSales(e){return getNftSales(this.config,e)}computeRarity(e,t){return computeRarity(this.config,e,t)}searchContractMetadata(e){return searchContractMetadata(this.config,e)}summarizeNftAttributes(e){return summarizeNftAttributes(this.config,e)}refreshNftMetadata(e,t){return refreshNftMetadata(this.config,e,t)}refreshContract(e){return refreshContract(this.config,e)}}class NotifyNamespace{constructor(e){this.config=e}getAllWebhooks(){return __awaiter$1(this,void 0,void 0,function*(){this.verifyConfig();const e=yield this.sendWebhookRequest("team-webhooks","getAllWebhooks",{});return{webhooks:parseRawWebhookResponse(e),totalCount:e.data.length}})}getAddresses(e,t){return __awaiter$1(this,void 0,void 0,function*(){this.verifyConfig();const i=typeof e==="string"?e:e.id;const o=yield this.sendWebhookRequest("webhook-addresses","getAddresses",{webhook_id:i,limit:t===null||t===void 0?void 0:t.limit,after:t===null||t===void 0?void 0:t.pageKey});return parseRawAddressActivityResponse(o)})}getGraphqlQuery(e){return __awaiter$1(this,void 0,void 0,function*(){this.verifyConfig();const t=typeof e==="string"?e:e.id;const i=yield this.sendWebhookRequest("dashboard-webhook-graphql-query","getGraphqlQuery",{webhook_id:t});return parseRawCustomGraphqlWebhookResponse(i)})}getNftFilters(e,t){return __awaiter$1(this,void 0,void 0,function*(){this.verifyConfig();const i=typeof e==="string"?e:e.id;const o=yield this.sendWebhookRequest("webhook-nft-filters","getNftFilters",{webhook_id:i,limit:t===null||t===void 0?void 0:t.limit,after:t===null||t===void 0?void 0:t.pageKey});return parseRawNftFiltersResponse(o)})}updateWebhook(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=typeof e==="string"?e:e.id;let o;let a;let l;let u;if("isActive"in t){o="update-webhook";a="updateWebhook";l="PUT";u={webhook_id:i,is_active:t.isActive}}else if("addFilters"in t||"removeFilters"in t){o="update-webhook-nft-filters";a="updateWebhookNftFilters";l="PATCH";u={webhook_id:i,nft_filters_to_add:t.addFilters?t.addFilters.map(nftFilterToParam):[],nft_filters_to_remove:t.removeFilters?t.removeFilters.map(nftFilterToParam):[]}}else if("addMetadataFilters"in t||"removeMetadataFilters"in t){o="update-webhook-nft-metadata-filters";a="updateWebhookNftMetadataFilters";l="PATCH";u={webhook_id:i,nft_metadata_filters_to_add:t.addMetadataFilters?t.addMetadataFilters.map(nftFilterToParam):[],nft_metadata_filters_to_remove:t.removeMetadataFilters?t.removeMetadataFilters.map(nftFilterToParam):[]}}else if("addAddresses"in t||"removeAddresses"in t){o="update-webhook-addresses";a="webhook:updateWebhookAddresses";l="PATCH";u={webhook_id:i,addresses_to_add:yield this.resolveAddresses(t.addAddresses),addresses_to_remove:yield this.resolveAddresses(t.removeAddresses)}}else if("newAddresses"in t){o="update-webhook-addresses";a="webhook:updateWebhookAddress";l="PUT";u={webhook_id:i,addresses:yield this.resolveAddresses(t.newAddresses)}}else{throw new Error("Invalid `update` param passed into `updateWebhook`")}yield this.sendWebhookRequest(o,a,{},{method:l,data:u})})}createWebhook(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){let o;if(t===M.MINED_TRANSACTION||t===M.DROPPED_TRANSACTION||t===M.GRAPHQL){if(!("appId"in i)){throw new Error("Transaction and GraphQL Webhooks require an app id.")}o=i.appId}let a=Ne.get(this.config.network);let u;let d;let p;let m;if(t===M.NFT_ACTIVITY||t===M.NFT_METADATA_UPDATE){if(!("filters"in i)||i.filters.length===0){throw new Error("Nft Activity Webhooks require a non-empty array input.")}a=i.network?Ne.get(i.network):a;const e=i.filters.map(e=>e.tokenId?{contract_address:e.contractAddress,token_id:l.BigNumber.from(e.tokenId).toString()}:{contract_address:e.contractAddress});u=t===M.NFT_ACTIVITY?{nft_filters:e}:{nft_metadata_filters:e}}else if(t===M.ADDRESS_ACTIVITY){if(i===undefined||!("addresses"in i)||i.addresses.length===0){throw new Error("Address Activity Webhooks require a non-empty array input.")}a=i.network?Ne.get(i.network):a;d=yield this.resolveAddresses(i.addresses)}else if(t==M.GRAPHQL){if(i===undefined||!("graphqlQuery"in i)||i.graphqlQuery.length===0){throw new Error("Custom Webhooks require a non-empty graphql query.")}a=i.network?Ne.get(i.network):a;p=i.graphqlQuery;m=i.skipEmptyMessages}const g=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({network:a,webhook_type:t,webhook_url:e},o&&{app_id:o}),i.name&&{name:i.name}),u),d&&{addresses:d}),p&&{graphql_query:{query:p,skip_empty_messages:!!m}});const v=yield this.sendWebhookRequest("create-webhook","createWebhook",{},{method:"POST",data:g});return parseRawWebhook(v.data)})}deleteWebhook(e){return __awaiter$1(this,void 0,void 0,function*(){this.verifyConfig();const t=typeof e==="string"?e:e.id;const i=yield this.sendWebhookRequest("delete-webhook","deleteWebhook",{webhook_id:t},{method:"DELETE"});if("message"in i){throw new Error(`Webhook not found. Failed to delete webhook: ${t}`)}})}verifyConfig(){if(this.config.authToken===undefined){throw new Error("Using the Notify API requires setting the Alchemy Auth Token in "+"the settings object when initializing Alchemy.")}}sendWebhookRequest(e,t,i,o){return requestHttpWithBackoff(this.config,J.WEBHOOK,e,t,i,Object.assign(Object.assign({},o),{headers:Object.assign({"X-Alchemy-Token":this.config.authToken},o===null||o===void 0?void 0:o.headers)}))}resolveAddresses(e){return __awaiter$1(this,void 0,void 0,function*(){if(e===undefined){return[]}const t=[];const i=yield this.config.getProvider();for(const o of e){const e=yield i.resolveName(o);if(e===null){throw new Error(`Unable to resolve the ENS address: ${o}`)}t.push(e)}return t})}}const Ie=Object.fromEntries(Object.entries(g));const Ne=Object.keys(g).reduce((e,t)=>{if(t in Ie){e.set(Ie[t],t)}return e},new Map);function parseRawWebhookResponse(e){return e.data.map(parseRawWebhook)}function parseRawWebhook(e){return Object.assign(Object.assign({id:e.id,network:Ie[e.network],type:e.webhook_type,url:e.webhook_url,isActive:e.is_active,timeCreated:new Date(e.time_created).toISOString(),signingKey:e.signing_key,version:e.version},e.app_id!==undefined&&{appId:e.app_id}),e.name!==undefined&&{name:e.name})}function parseRawAddressActivityResponse(e){return{addresses:e.data,totalCount:e.pagination.total_count,pageKey:e.pagination.cursors.after}}function parseRawCustomGraphqlWebhookResponse(e){return{graphqlQuery:e.data.graphql_query}}function parseRawNftFiltersResponse(e){return{filters:e.data.map(e=>e.token_id?{contractAddress:e.contract_address,tokenId:l.BigNumber.from(e.token_id).toString()}:{contractAddress:e.contract_address}),totalCount:e.pagination.total_count,pageKey:e.pagination.cursors.after}}function nftFilterToParam(e){return e.tokenId?{contract_address:e.contractAddress,token_id:l.BigNumber.from(e.tokenId).toString()}:{contract_address:e.contractAddress}}function getTokensByWallet(e,t,i=true,o=true,a=true,l="getTokensByWallet"){return __awaiter$1(this,void 0,void 0,function*(){const u={addresses:t,withMetadata:i,withPrices:o,includeNativeTokens:a};const d=yield requestHttpWithBackoff(e,J.PORTFOLIO,"assets/tokens/by-address",l,{},{data:u,method:"POST"});return nullsToUndefined(d)})}function getTokenBalancesByWallet(e,t,i=true,o="getTokenBalancesByWallet"){return __awaiter$1(this,void 0,void 0,function*(){const a={addresses:t,includeNativeTokens:i};const l=yield requestHttpWithBackoff(e,J.PORTFOLIO,"assets/tokens/balances/by-address",o,{},{method:"POST",data:a});return nullsToUndefined(l)})}function getNftsByWallet(e,t,i=true,o=undefined,a=undefined,l="getNftsByWallet"){return __awaiter$1(this,void 0,void 0,function*(){const u={addresses:t,withMetadata:i,pageKey:o,pageSize:a};const d=yield requestHttpWithBackoff(e,J.PORTFOLIO,"assets/nfts/by-address",l,{},{method:"POST",data:u});return nullsToUndefined(d)})}function getNftCollectionsByWallet(e,t,i=true,o=undefined,a=undefined,l="getNftCollectionsByWallet"){return __awaiter$1(this,void 0,void 0,function*(){const u={addresses:t,pageKey:o,pageSize:a,withMetadata:i};const d=yield requestHttpWithBackoff(e,J.PORTFOLIO,"assets/nfts/contracts/by-address",l,{},{method:"POST",data:u});return nullsToUndefined(d)})}function getTransactionsByWallet(e,t,i=undefined,o=undefined,a=undefined,l="getTransactionsByWallet"){return __awaiter$1(this,void 0,void 0,function*(){const u={addresses:t,before:i,after:o,limit:a};const d=yield requestHttpWithBackoff(e,J.PORTFOLIO,"transactions/history/by-address",l,{},{method:"POST",data:u});return nullsToUndefined(d)})}class PortfolioNamespace{constructor(e){this.config=e}getTokensByWallet(e,t=true,i=true,o=true){return getTokensByWallet(this.config,e,t,i,o)}getTokenBalancesByWallet(e,t=true){return getTokenBalancesByWallet(this.config,e,t)}getNftsByWallet(e,t=true,i,o){return getNftsByWallet(this.config,e,t,i,o)}getNftCollectionsByWallet(e,t=true,i,o){return getNftCollectionsByWallet(this.config,e,t,i,o)}getTransactionsByWallet(e,t,i,o){return getTransactionsByWallet(this.config,e,t,i,o)}}function getTokenPriceByAddress(e,t,i="getTokenPriceByAddress"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.PRICES,"tokens/by-address",i,{},{method:"POST",data:{addresses:t}});return nullsToUndefined(o)})}function getTokenPriceBySymbol(e,t,i="getTokenPriceBySymbol"){return __awaiter$1(this,void 0,void 0,function*(){const o=yield requestHttpWithBackoff(e,J.PRICES,"tokens/by-symbol",i,{symbols:t},{paramsSerializer:e=>{const t=new URLSearchParams;Object.entries(e).forEach(([e,i])=>{i.forEach(i=>t.append(e,i))});return t.toString()}});return nullsToUndefined(o)})}function getHistoricalPriceBySymbol(e,t,i,o,a,l="getHistoricalPriceBySymbol"){return __awaiter$1(this,void 0,void 0,function*(){const u=yield requestHttpWithBackoff(e,J.PRICES,"tokens/historical",l,{},{method:"POST",data:{symbol:t,startTime:i,endTime:o,interval:a}});return nullsToUndefined(u)})}function getHistoricalPriceByAddress(e,t,i,o,a,l,u="getHistoricalPriceByAddress"){return __awaiter$1(this,void 0,void 0,function*(){const d=yield requestHttpWithBackoff(e,J.PRICES,"tokens/historical",u,{},{method:"POST",data:{network:t,address:i,startTime:o,endTime:a,interval:l}});return nullsToUndefined(d)})}class PricesNamespace{constructor(e){this.config=e}getTokenPriceByAddress(e){return getTokenPriceByAddress(this.config,e)}getTokenPriceBySymbol(e){return getTokenPriceBySymbol(this.config,e)}getHistoricalPriceBySymbol(e,t,i,o){return getHistoricalPriceBySymbol(this.config,e,t,i,o)}getHistoricalPriceByAddress(e,t,i,o,a){return getHistoricalPriceByAddress(this.config,e,t,i,o,a)}}const Pe=[.9,1,1.1,1.2,1.3];class TransactNamespace{constructor(e){this.config=e}sendPrivateTransaction(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.config.getProvider();const a=t?toHex(t):undefined;return o._send("eth_sendPrivateTransaction",[{tx:e,maxBlockNumber:a,preferences:i}],"sendPrivateTransaction")})}cancelPrivateTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t._send("eth_cancelPrivateTransaction",[{txHash:e}],"cancelPrivateTransaction")})}simulateAssetChangesBundle(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();const o=t!==undefined?[e,t]:[e];const a=yield i._send("alchemy_simulateAssetChangesBundle",o,"simulateAssetChangesBundle");return nullsToUndefined(a)})}simulateAssetChanges(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();const o=t!==undefined?[e,t]:[e];const a=yield i._send("alchemy_simulateAssetChanges",o,"simulateAssetChanges");return nullsToUndefined(a)})}simulateExecutionBundle(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();const o=t!==undefined?[e,t]:[e];const a=i._send("alchemy_simulateExecutionBundle",o,"simulateExecutionBundle");return nullsToUndefined(a)})}simulateExecution(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();const o=t!==undefined?[e,t]:[e];const a=i._send("alchemy_simulateExecution",o,"simulateExecution");return nullsToUndefined(a)})}getTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.getTransaction(e)})}sendTransaction(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.sendTransaction(e)})}estimateGas(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t.estimateGas(e)})}getMaxPriorityFeePerGas(){return __awaiter$1(this,void 0,void 0,function*(){const e=yield this.config.getProvider();const t=yield e._send("eth_maxPriorityFeePerGas",[],"getMaxPriorityFeePerGas");return fromHex(t)})}waitForTransaction(e,t,i){return __awaiter$1(this,void 0,void 0,function*(){const o=yield this.config.getProvider();return o.waitForTransaction(e,t,i)})}sendGasOptimizedTransaction(e,t){return __awaiter$1(this,void 0,void 0,function*(){if(Array.isArray(e)){return this._sendGasOptimizedTransaction(e,"sendGasOptimizedTransactionPreSigned")}let i;let o;let a;const l=yield this.config.getProvider();try{i=yield this.estimateGas(e);o=yield this.getMaxPriorityFeePerGas();const t=yield l.getBlock("latest");a=t.baseFeePerGas.toNumber()}catch(e){throw new Error(`Failed to estimate gas for transaction: ${e}`)}const u=generateGasSpreadTransactions(e,i.toNumber(),a,o);const d=yield Promise.all(u.map(e=>t.signTransaction(e)));return this._sendGasOptimizedTransaction(d,"sendGasOptimizedTransactionGenerated")})}getGasOptimizedTransactionStatus(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();return t._send("alchemy_getGasOptimizedTransactionStatus",[e],"getGasOptimizedTransactionStatus")})}_sendGasOptimizedTransaction(e,t){return __awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getProvider();return i._send("alchemy_sendGasOptimizedTransaction",[{rawTransactions:e}],t)})}}function generateGasSpreadTransactions(e,t,i,o){return Pe.map(a=>Object.assign(Object.assign({},e),{gasLimit:t,maxFeePerGas:Math.round(i*a+o*a),maxPriorityFeePerGas:Math.round(a*o)}))}const Ce="alchemy-pending-transactions";const Me="alchemy-mined-transactions";const Be=[Ce,Me];class Event{constructor(e,t,i){this.listener=t;this.tag=e;this.once=i;this._lastBlockNumber=-2;this._inflight=false}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter;default:return this.tag}}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");if(e[0]!=="tx"){throw new Error("Not a transaction event")}return e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter"){throw new Error("Not a transaction event")}const t=e[1];const i=deserializeTopics(e[2]);const o={};if(i.length>0){o.topics=i}if(t&&t!=="*"){o.address=t}return o}pollable(){const e=["block","network","pending","poll"];return this.tag.indexOf(":")>=0||e.indexOf(this.tag)>=0}}class EthersEvent extends Event{get fromAddress(){const e=this.tag.split(":");if(e[0]!==Ce){return undefined}if(e[1]&&e[1]!=="*"){return deserializeAddressField(e[1])}else{return undefined}}get toAddress(){const e=this.tag.split(":");if(e[0]!==Ce){return undefined}if(e[2]&&e[2]!=="*"){return deserializeAddressField(e[2])}else{return undefined}}get hashesOnly(){const e=this.tag.split(":");if(!Be.includes(e[0])){return undefined}if(e[3]&&e[3]!=="*"){return e[3]==="true"}else{return undefined}}get includeRemoved(){const e=this.tag.split(":");if(e[0]!==Me){return undefined}if(e[2]&&e[2]!=="*"){return e[2]==="true"}else{return undefined}}get addresses(){const e=this.tag.split(":");if(e[0]!==Me){return undefined}if(e[1]&&e[1]!=="*"){return deserializeAddressesField(e[1])}else{return undefined}}}function isAlchemyEvent(e){return typeof e==="object"&&"method"in e}function getAlchemyEventTag(e){if(!isAlchemyEvent(e)){throw new Error("Event tag requires AlchemyEventType")}if(e.method===k.PENDING_TRANSACTIONS){return serializePendingTransactionsEvent(e)}else if(e.method===k.MINED_TRANSACTIONS){return serializeMinedTransactionsEvent(e)}else{throw new Error(`Unrecognized AlchemyFilterEvent: ${e}`)}}function verifyAlchemyEventName(e){if(!Object.values(k).includes(e.method)){throw new Error(`Invalid method name ${e.method}. Accepted method names: ${Object.values(k)}`)}}function serializePendingTransactionsEvent(e){const t=serializeAddressField(e.fromAddress);const i=serializeAddressField(e.toAddress);const o=serializeBooleanField(e.hashesOnly);return Ce+":"+t+":"+i+":"+o}function serializeMinedTransactionsEvent(e){const t=serializeAddressesField(e.addresses);const i=serializeBooleanField(e.includeRemoved);const o=serializeBooleanField(e.hashesOnly);return Me+":"+t+":"+i+":"+o}function serializeAddressesField(e){if(e===undefined){return"*"}return e.map(e=>serializeAddressField(e.to)+","+serializeAddressField(e.from)).join("|")}function serializeAddressField(e){if(e===undefined){return"*"}else if(Array.isArray(e)){return e.join("|")}else{return e}}function serializeBooleanField(e){if(e===undefined){return"*"}else{return e.toString()}}function deserializeTopics(e){if(e===""){return[]}return e.split(/&/g).map(e=>{if(e===""){return[]}const t=e.split("|").map(e=>e==="null"?null:e);return t.length===1?t[0]:t})}function deserializeAddressField(e){if(e===""){return undefined}const t=e.split("|");return t.length===1?t[0]:t}function deserializeAddressesField(e){if(e===""){return undefined}return e.split("|").map(e=>e.split(",")).map(e=>Object.assign(Object.assign({},e[0]!=="*"&&{to:e[0]}),e[1]!=="*"&&{from:e[1]}))}class WebSocketNamespace{constructor(e){this.config=e}on(e,t){void(()=>__awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getWebSocketProvider();const o=yield this._resolveEnsAlchemyEvent(e);i.on(o,t)}))();return this}once(e,t){void(()=>__awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getWebSocketProvider();const o=yield this._resolveEnsAlchemyEvent(e);i.once(o,t)}))();return this}off(e,t){void(()=>__awaiter$1(this,void 0,void 0,function*(){const i=yield this.config.getWebSocketProvider();const o=yield this._resolveEnsAlchemyEvent(e);return i.off(o,t)}))();return this}removeAllListeners(e){void(()=>__awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getWebSocketProvider();const i=e?yield this._resolveEnsAlchemyEvent(e):undefined;t.removeAllListeners(i)}))();return this}listenerCount(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getWebSocketProvider();const i=e?yield this._resolveEnsAlchemyEvent(e):undefined;return t.listenerCount(i)})}listeners(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getWebSocketProvider();const i=e?yield this._resolveEnsAlchemyEvent(e):undefined;return t.listeners(i)})}_resolveEnsAlchemyEvent(e){return __awaiter$1(this,void 0,void 0,function*(){if(!isAlchemyEvent(e)){return e}if(e.method===k.MINED_TRANSACTIONS&&e.addresses){const t=[];for(const i of e.addresses){if(i.to){i.to=yield this._resolveNameOrError(i.to)}if(i.from){i.from=yield this._resolveNameOrError(i.from)}t.push(i)}e.addresses=t}else if(e.method===k.PENDING_TRANSACTIONS){if(e.fromAddress){if(typeof e.fromAddress==="string"){e.fromAddress=yield this._resolveNameOrError(e.fromAddress)}else{e.fromAddress=yield Promise.all(e.fromAddress.map(e=>this._resolveNameOrError(e)))}}if(e.toAddress){if(typeof e.toAddress==="string"){e.toAddress=yield this._resolveNameOrError(e.toAddress)}else{e.toAddress=yield Promise.all(e.toAddress.map(e=>this._resolveNameOrError(e)))}}}return e})}_resolveNameOrError(e){return __awaiter$1(this,void 0,void 0,function*(){const t=yield this.config.getProvider();const i=yield t.resolveName(e);if(i===null){throw new Error(`Unable to resolve the ENS address: ${e}`)}return i})}}class Alchemy{constructor(e){this.config=new AlchemyConfig(e);this.core=new CoreNamespace(this.config);this.nft=new NftNamespace(this.config);this.ws=new WebSocketNamespace(this.config);this.transact=new TransactNamespace(this.config);this.notify=new NotifyNamespace(this.config);this.debug=new DebugNamespace(this.config);this.prices=new PricesNamespace(this.config);this.portfolio=new PortfolioNamespace(this.config)}}class Wallet extends p.Wallet{constructor(e,t){let i;if(t&&d.Provider.isProvider(t)){i=t}super(e,i);if(t&&!d.Provider.isProvider(t)){this.alchemyProviderPromise=t.config.getProvider()}}getBalance(e){return this.getWallet().then(t=>t.getBalance(e))}getTransactionCount(e){return this.getWallet().then(t=>t.getTransactionCount(e))}estimateGas(e){return this.getWallet().then(t=>t.estimateGas(e))}call(e,t){return this.getWallet().then(i=>i.call(e,t))}populateTransaction(e){return this.getWallet().then(t=>t.populateTransaction(e))}sendTransaction(e){return this.getWallet().then(t=>t.sendTransaction(e))}getChainId(){return this.getWallet().then(e=>e.getChainId())}getGasPrice(){return this.getWallet().then(e=>e.getGasPrice())}getFeeData(){return this.getWallet().then(e=>e.getFeeData())}resolveName(e){return this.getWallet().then(t=>t.resolveName(e))}getWallet(){return __awaiter$1(this,void 0,void 0,function*(){if(!this.alchemyProviderPromise){return this.connect(this.provider)}return this.connect(yield this.alchemyProviderPromise)})}}class Contract extends m.Contract{}class ContractFactory extends m.ContractFactory{}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1.js":(e,t,i)=>{var o=t;o.bignum=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");o.define=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/api.js").define;o.base=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/index.js");o.constants=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/constants/index.js");o.decoders=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/index.js");o.encoders=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/index.js")},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/api.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1.js");var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var l=t;l.define=function define(e,t){return new Entity(e,t)};function Entity(e,t){this.name=e;this.body=t;this.decoders={};this.encoders={}}Entity.prototype._createNamed=function createNamed(e){var t;try{t=i("../../node_modules/.pnpm/vm-browserify@1.1.2/node_modules/vm-browserify/index.js").runInThisContext("(function "+this.name+"(entity) {\n"+"  this._initNamed(entity);\n"+"})")}catch(e){t=function(e){this._initNamed(e)}}a(t,e);t.prototype._initNamed=function initnamed(t){e.call(this,t)};return new t(this)};Entity.prototype._getDecoder=function _getDecoder(e){e=e||"der";if(!this.decoders.hasOwnProperty(e))this.decoders[e]=this._createNamed(o.decoders[e]);return this.decoders[e]};Entity.prototype.decode=function decode(e,t,i){return this._getDecoder(t).decode(e,i)};Entity.prototype._getEncoder=function _getEncoder(e){e=e||"der";if(!this.encoders.hasOwnProperty(e))this.encoders[e]=this._createNamed(o.encoders[e]);return this.encoders[e]};Entity.prototype.encode=function encode(e,t,i){return this._getEncoder(t).encode(e,i)}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/buffer.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/index.js").Reporter;var l=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;function DecoderBuffer(e,t){a.call(this,t);if(!l.isBuffer(e)){this.error("Input not Buffer");return}this.base=e;this.offset=0;this.length=e.length}o(DecoderBuffer,a);t.DecoderBuffer=DecoderBuffer;DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:a.prototype.save.call(this)}};DecoderBuffer.prototype.restore=function restore(e){var t=new DecoderBuffer(this.base);t.offset=e.offset;t.length=this.offset;this.offset=e.offset;a.prototype.restore.call(this,e.reporter);return t};DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length};DecoderBuffer.prototype.readUInt8=function readUInt8(e){if(this.offset+1<=this.length)return this.base.readUInt8(this.offset++,true);else return this.error(e||"DecoderBuffer overrun")};DecoderBuffer.prototype.skip=function skip(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new DecoderBuffer(this.base);i._reporterState=this._reporterState;i.offset=this.offset;i.length=this.offset+e;this.offset+=e;return i};DecoderBuffer.prototype.raw=function raw(e){return this.base.slice(e?e.offset:this.offset,this.length)};function EncoderBuffer(e,t){if(Array.isArray(e)){this.length=0;this.value=e.map(function(e){if(!(e instanceof EncoderBuffer))e=new EncoderBuffer(e,t);this.length+=e.length;return e},this)}else if(typeof e==="number"){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e;this.length=1}else if(typeof e==="string"){this.value=e;this.length=l.byteLength(e)}else if(l.isBuffer(e)){this.value=e;this.length=e.length}else{return t.error("Unsupported type: "+typeof e)}}t.EncoderBuffer=EncoderBuffer;EncoderBuffer.prototype.join=function join(e,t){if(!e)e=new l(this.length);if(!t)t=0;if(this.length===0)return e;if(Array.isArray(this.value)){this.value.forEach(function(i){i.join(e,t);t+=i.length})}else{if(typeof this.value==="number")e[t]=this.value;else if(typeof this.value==="string")e.write(this.value,t);else if(l.isBuffer(this.value))this.value.copy(e,t);t+=this.length}return e}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/index.js":(e,t,i)=>{var o=t;o.Reporter=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/reporter.js").Reporter;o.DecoderBuffer=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/buffer.js").DecoderBuffer;o.EncoderBuffer=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/buffer.js").EncoderBuffer;o.Node=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/node.js")},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/node.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/index.js").Reporter;var a=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/index.js").EncoderBuffer;var l=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/index.js").DecoderBuffer;var u=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"];var p=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d);var m=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(e,t){var i={};this._baseState=i;i.enc=e;i.parent=t||null;i.children=null;i.tag=null;i.args=null;i.reverseArgs=null;i.choice=null;i.optional=false;i.any=false;i.obj=false;i.use=null;i.useDecoder=null;i.key=null;i["default"]=null;i.explicit=null;i.implicit=null;i.contains=null;if(!i.parent){i.children=[];this._wrap()}}e.exports=Node;var g=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){var e=this._baseState;var t={};g.forEach(function(i){t[i]=e[i]});var i=new this.constructor(t.parent);i._baseState=t;return i};Node.prototype._wrap=function wrap(){var e=this._baseState;p.forEach(function(t){this[t]=function _wrappedMethod(){var i=new this.constructor(this);e.children.push(i);return i[t].apply(i,arguments)}},this)};Node.prototype._init=function init(e){var t=this._baseState;u(t.parent===null);e.call(this);t.children=t.children.filter(function(e){return e._baseState.parent===this},this);u.equal(t.children.length,1,"Root node can have only one child")};Node.prototype._useArgs=function useArgs(e){var t=this._baseState;var i=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this);if(i.length!==0){u(t.children===null);t.children=i;i.forEach(function(e){e._baseState.parent=this},this)}if(e.length!==0){u(t.args===null);t.args=e;t.reverseArgs=e.map(function(e){if(typeof e!=="object"||e.constructor!==Object)return e;var t={};Object.keys(e).forEach(function(i){if(i==(i|0))i|=0;var o=e[i];t[o]=i});return t})}};m.forEach(function(e){Node.prototype[e]=function _overrided(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}});d.forEach(function(e){Node.prototype[e]=function _tagMethod(){var t=this._baseState;var i=Array.prototype.slice.call(arguments);u(t.tag===null);t.tag=e;this._useArgs(i);return this}});Node.prototype.use=function use(e){u(e);var t=this._baseState;u(t.use===null);t.use=e;return this};Node.prototype.optional=function optional(){var e=this._baseState;e.optional=true;return this};Node.prototype.def=function def(e){var t=this._baseState;u(t["default"]===null);t["default"]=e;t.optional=true;return this};Node.prototype.explicit=function explicit(e){var t=this._baseState;u(t.explicit===null&&t.implicit===null);t.explicit=e;return this};Node.prototype.implicit=function implicit(e){var t=this._baseState;u(t.explicit===null&&t.implicit===null);t.implicit=e;return this};Node.prototype.obj=function obj(){var e=this._baseState;var t=Array.prototype.slice.call(arguments);e.obj=true;if(t.length!==0)this._useArgs(t);return this};Node.prototype.key=function key(e){var t=this._baseState;u(t.key===null);t.key=e;return this};Node.prototype.any=function any(){var e=this._baseState;e.any=true;return this};Node.prototype.choice=function choice(e){var t=this._baseState;u(t.choice===null);t.choice=e;this._useArgs(Object.keys(e).map(function(t){return e[t]}));return this};Node.prototype.contains=function contains(e){var t=this._baseState;u(t.use===null);t.contains=e;return this};Node.prototype._decode=function decode(e,t){var i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,t));var o=i["default"];var a=true;var u=null;if(i.key!==null)u=e.enterKey(i.key);if(i.optional){var d=null;if(i.explicit!==null)d=i.explicit;else if(i.implicit!==null)d=i.implicit;else if(i.tag!==null)d=i.tag;if(d===null&&!i.any){var p=e.save();try{if(i.choice===null)this._decodeGeneric(i.tag,e,t);else this._decodeChoice(e,t);a=true}catch(e){a=false}e.restore(p)}else{a=this._peekTag(e,d,i.any);if(e.isError(a))return a}}var m;if(i.obj&&a)m=e.enterObject();if(a){if(i.explicit!==null){var g=this._decodeTag(e,i.explicit);if(e.isError(g))return g;e=g}var v=e.offset;if(i.use===null&&i.choice===null){if(i.any)var p=e.save();var y=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(y))return y;if(i.any)o=e.raw(p);else e=y}if(t&&t.track&&i.tag!==null)t.track(e.path(),v,e.length,"tagged");if(t&&t.track&&i.tag!==null)t.track(e.path(),e.offset,e.length,"content");if(i.any)o=o;else if(i.choice===null)o=this._decodeGeneric(i.tag,e,t);else o=this._decodeChoice(e,t);if(e.isError(o))return o;if(!i.any&&i.choice===null&&i.children!==null){i.children.forEach(function decodeChildren(i){i._decode(e,t)})}if(i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){var _=new l(o);o=this._getUse(i.contains,e._reporterState.obj)._decode(_,t)}}if(i.obj&&a)o=e.leaveObject(m);if(i.key!==null&&(o!==null||a===true))e.leaveKey(u,i.key,o);else if(u!==null)e.exitKey(u);return o};Node.prototype._decodeGeneric=function decodeGeneric(e,t,i){var o=this._baseState;if(e==="seq"||e==="set")return null;if(e==="seqof"||e==="setof")return this._decodeList(t,e,o.args[0],i);else if(/str$/.test(e))return this._decodeStr(t,e,i);else if(e==="objid"&&o.args)return this._decodeObjid(t,o.args[0],o.args[1],i);else if(e==="objid")return this._decodeObjid(t,null,null,i);else if(e==="gentime"||e==="utctime")return this._decodeTime(t,e,i);else if(e==="null_")return this._decodeNull(t,i);else if(e==="bool")return this._decodeBool(t,i);else if(e==="objDesc")return this._decodeStr(t,e,i);else if(e==="int"||e==="enum")return this._decodeInt(t,o.args&&o.args[0],i);if(o.use!==null){return this._getUse(o.use,t._reporterState.obj)._decode(t,i)}else{return t.error("unknown tag: "+e)}};Node.prototype._getUse=function _getUse(e,t){var i=this._baseState;i.useDecoder=this._use(e,t);u(i.useDecoder._baseState.parent===null);i.useDecoder=i.useDecoder._baseState.children[0];if(i.implicit!==i.useDecoder._baseState.implicit){i.useDecoder=i.useDecoder.clone();i.useDecoder._baseState.implicit=i.implicit}return i.useDecoder};Node.prototype._decodeChoice=function decodeChoice(e,t){var i=this._baseState;var o=null;var a=false;Object.keys(i.choice).some(function(l){var u=e.save();var d=i.choice[l];try{var p=d._decode(e,t);if(e.isError(p))return false;o={type:l,value:p};a=true}catch(t){e.restore(u);return false}return true},this);if(!a)return e.error("Choice not matched");return o};Node.prototype._createEncoderBuffer=function createEncoderBuffer(e){return new a(e,this.reporter)};Node.prototype._encode=function encode(e,t,i){var o=this._baseState;if(o["default"]!==null&&o["default"]===e)return;var a=this._encodeValue(e,t,i);if(a===undefined)return;if(this._skipDefault(a,t,i))return;return a};Node.prototype._encodeValue=function encode(e,t,i){var a=this._baseState;if(a.parent===null)return a.children[0]._encode(e,t||new o);var l=null;this.reporter=t;if(a.optional&&e===undefined){if(a["default"]!==null)e=a["default"];else return}var u=null;var d=false;if(a.any){l=this._createEncoderBuffer(e)}else if(a.choice){l=this._encodeChoice(e,t)}else if(a.contains){u=this._getUse(a.contains,i)._encode(e,t);d=true}else if(a.children){u=a.children.map(function(i){if(i._baseState.tag==="null_")return i._encode(null,t,e);if(i._baseState.key===null)return t.error("Child should have a key");var o=t.enterKey(i._baseState.key);if(typeof e!=="object")return t.error("Child expected, but input is not object");var a=i._encode(e[i._baseState.key],t,e);t.leaveKey(o);return a},this).filter(function(e){return e});u=this._createEncoderBuffer(u)}else{if(a.tag==="seqof"||a.tag==="setof"){if(!(a.args&&a.args.length===1))return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var p=this.clone();p._baseState.implicit=null;u=this._createEncoderBuffer(e.map(function(i){var o=this._baseState;return this._getUse(o.args[0],e)._encode(i,t)},p))}else if(a.use!==null){l=this._getUse(a.use,i)._encode(e,t)}else{u=this._encodePrimitive(a.tag,e);d=true}}var l;if(!a.any&&a.choice===null){var m=a.implicit!==null?a.implicit:a.tag;var g=a.implicit===null?"universal":"context";if(m===null){if(a.use===null)t.error("Tag could be omitted only for .use()")}else{if(a.use===null)l=this._encodeComposite(m,d,g,u)}}if(a.explicit!==null)l=this._encodeComposite(a.explicit,false,"context",l);return l};Node.prototype._encodeChoice=function encodeChoice(e,t){var i=this._baseState;var o=i.choice[e.type];if(!o){u(false,e.type+" not found in "+JSON.stringify(Object.keys(i.choice)))}return o._encode(e.value,t)};Node.prototype._encodePrimitive=function encodePrimitive(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);else if(e==="objid"&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);else if(e==="objid")return this._encodeObjid(t,null,null);else if(e==="gentime"||e==="utctime")return this._encodeTime(t,e);else if(e==="null_")return this._encodeNull();else if(e==="int"||e==="enum")return this._encodeInt(t,i.args&&i.reverseArgs[0]);else if(e==="bool")return this._encodeBool(t);else if(e==="objDesc")return this._encodeStr(t,e);else throw new Error("Unsupported tag: "+e)};Node.prototype._isNumstr=function isNumstr(e){return/^[0-9 ]*$/.test(e)};Node.prototype._isPrintstr=function isPrintstr(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/base/reporter.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");function Reporter(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}t.Reporter=Reporter;Reporter.prototype.isError=function isError(e){return e instanceof ReporterError};Reporter.prototype.save=function save(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Reporter.prototype.restore=function restore(e){var t=this._reporterState;t.obj=e.obj;t.path=t.path.slice(0,e.pathLen)};Reporter.prototype.enterKey=function enterKey(e){return this._reporterState.path.push(e)};Reporter.prototype.exitKey=function exitKey(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)};Reporter.prototype.leaveKey=function leaveKey(e,t,i){var o=this._reporterState;this.exitKey(e);if(o.obj!==null)o.obj[t]=i};Reporter.prototype.path=function path(){return this._reporterState.path.join("/")};Reporter.prototype.enterObject=function enterObject(){var e=this._reporterState;var t=e.obj;e.obj={};return t};Reporter.prototype.leaveObject=function leaveObject(e){var t=this._reporterState;var i=t.obj;t.obj=e;return i};Reporter.prototype.error=function error(e){var t;var i=this._reporterState;var o=e instanceof ReporterError;if(o){t=e}else{t=new ReporterError(i.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack)}if(!i.options.partial)throw t;if(!o)i.errors.push(t);return t};Reporter.prototype.wrapResult=function wrapResult(e){var t=this._reporterState;if(!t.options.partial)return e;return{result:this.isError(e)?null:e,errors:t.errors}};function ReporterError(e,t){this.path=e;this.rethrow(t)}o(ReporterError,Error);ReporterError.prototype.rethrow=function rethrow(e){this.message=e+" at: "+(this.path||"(shallow)");if(Error.captureStackTrace)Error.captureStackTrace(this,ReporterError);if(!this.stack){try{throw new Error(this.message)}catch(e){this.stack=e.stack}}return this}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/constants/der.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/constants/index.js");t.tagClass={0:"universal",1:"application",2:"context",3:"private"};t.tagClassByName=o._reverse(t.tagClass);t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};t.tagByName=o._reverse(t.tag)},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/constants/index.js":(e,t,i)=>{var o=t;o._reverse=function reverse(e){var t={};Object.keys(e).forEach(function(i){if((i|0)==i)i=i|0;var o=e[i];t[o]=i});return t};o.der=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/constants/der.js")},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/der.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1.js");var l=a.base;var u=a.bignum;var d=a.constants.der;function DERDecoder(e){this.enc="der";this.name=e.name;this.entity=e;this.tree=new DERNode;this.tree._init(e.body)}e.exports=DERDecoder;DERDecoder.prototype.decode=function decode(e,t){if(!(e instanceof l.DecoderBuffer))e=new l.DecoderBuffer(e,t);return this.tree._decode(e,t)};function DERNode(e){l.Node.call(this,"der",e)}o(DERNode,l.Node);DERNode.prototype._peekTag=function peekTag(e,t,i){if(e.isEmpty())return false;var o=e.save();var a=derDecodeTag(e,'Failed to peek tag: "'+t+'"');if(e.isError(a))return a;e.restore(o);return a.tag===t||a.tagStr===t||a.tagStr+"of"===t||i};DERNode.prototype._decodeTag=function decodeTag(e,t,i){var o=derDecodeTag(e,'Failed to decode tag of "'+t+'"');if(e.isError(o))return o;var a=derDecodeLen(e,o.primitive,'Failed to get length of "'+t+'"');if(e.isError(a))return a;if(!i&&o.tag!==t&&o.tagStr!==t&&o.tagStr+"of"!==t){return e.error('Failed to match tag: "'+t+'"')}if(o.primitive||a!==null)return e.skip(a,'Failed to match body of: "'+t+'"');var l=e.save();var u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');if(e.isError(u))return u;a=e.offset-l.offset;e.restore(l);return e.skip(a,'Failed to match body of: "'+t+'"')};DERNode.prototype._skipUntilEnd=function skipUntilEnd(e,t){while(true){var i=derDecodeTag(e,t);if(e.isError(i))return i;var o=derDecodeLen(e,i.primitive,t);if(e.isError(o))return o;var a;if(i.primitive||o!==null)a=e.skip(o);else a=this._skipUntilEnd(e,t);if(e.isError(a))return a;if(i.tagStr==="end")break}};DERNode.prototype._decodeList=function decodeList(e,t,i,o){var a=[];while(!e.isEmpty()){var l=this._peekTag(e,"end");if(e.isError(l))return l;var u=i.decode(e,"der",o);if(e.isError(u)&&l)break;a.push(u)}return a};DERNode.prototype._decodeStr=function decodeStr(e,t){if(t==="bitstr"){var i=e.readUInt8();if(e.isError(i))return i;return{unused:i,data:e.raw()}}else if(t==="bmpstr"){var o=e.raw();if(o.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");var a="";for(var l=0;l<o.length/2;l++){a+=String.fromCharCode(o.readUInt16BE(l*2))}return a}else if(t==="numstr"){var u=e.raw().toString("ascii");if(!this._isNumstr(u)){return e.error("Decoding of string type: "+"numstr unsupported characters")}return u}else if(t==="octstr"){return e.raw()}else if(t==="objDesc"){return e.raw()}else if(t==="printstr"){var d=e.raw().toString("ascii");if(!this._isPrintstr(d)){return e.error("Decoding of string type: "+"printstr unsupported characters")}return d}else if(/str$/.test(t)){return e.raw().toString()}else{return e.error("Decoding of string type: "+t+" unsupported")}};DERNode.prototype._decodeObjid=function decodeObjid(e,t,i){var o;var a=[];var l=0;while(!e.isEmpty()){var u=e.readUInt8();l<<=7;l|=u&127;if((u&128)===0){a.push(l);l=0}}if(u&128)a.push(l);var d=a[0]/40|0;var p=a[0]%40;if(i)o=a;else o=[d,p].concat(a.slice(1));if(t){var m=t[o.join(" ")];if(m===undefined)m=t[o.join(".")];if(m!==undefined)o=m}return o};DERNode.prototype._decodeTime=function decodeTime(e,t){var i=e.raw().toString();if(t==="gentime"){var o=i.slice(0,4)|0;var a=i.slice(4,6)|0;var l=i.slice(6,8)|0;var u=i.slice(8,10)|0;var d=i.slice(10,12)|0;var p=i.slice(12,14)|0}else if(t==="utctime"){var o=i.slice(0,2)|0;var a=i.slice(2,4)|0;var l=i.slice(4,6)|0;var u=i.slice(6,8)|0;var d=i.slice(8,10)|0;var p=i.slice(10,12)|0;if(o<70)o=2e3+o;else o=1900+o}else{return e.error("Decoding "+t+" time is not supported yet")}return Date.UTC(o,a-1,l,u,d,p,0)};DERNode.prototype._decodeNull=function decodeNull(e){return null};DERNode.prototype._decodeBool=function decodeBool(e){var t=e.readUInt8();if(e.isError(t))return t;else return t!==0};DERNode.prototype._decodeInt=function decodeInt(e,t){var i=e.raw();var o=new u(i);if(t)o=t[o.toString(10)]||o;return o};DERNode.prototype._use=function use(e,t){if(typeof e==="function")e=e(t);return e._getDecoder("der").tree};function derDecodeTag(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var o=d.tagClass[i>>6];var a=(i&32)===0;if((i&31)===31){var l=i;i=0;while((l&128)===128){l=e.readUInt8(t);if(e.isError(l))return l;i<<=7;i|=l&127}}else{i&=31}var u=d.tag[i];return{cls:o,primitive:a,tag:i,tagStr:u}}function derDecodeLen(e,t,i){var o=e.readUInt8(i);if(e.isError(o))return o;if(!t&&o===128)return null;if((o&128)===0){return o}var a=o&127;if(a>4)return e.error("length octect is too long");o=0;for(var l=0;l<a;l++){o<<=8;var u=e.readUInt8(i);if(e.isError(u))return u;o|=u}return o}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/index.js":(e,t,i)=>{var o=t;o.der=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/der.js");o.pem=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/pem.js")},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/pem.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/decoders/der.js");function PEMDecoder(e){l.call(this,e);this.enc="pem"}o(PEMDecoder,l);e.exports=PEMDecoder;PEMDecoder.prototype.decode=function decode(e,t){var i=e.toString().split(/[\r\n]+/g);var o=t.label.toUpperCase();var u=/^-----(BEGIN|END) ([^-]+)-----$/;var d=-1;var p=-1;for(var m=0;m<i.length;m++){var g=i[m].match(u);if(g===null)continue;if(g[2]!==o)continue;if(d===-1){if(g[1]!=="BEGIN")break;d=m}else{if(g[1]!=="END")break;p=m;break}}if(d===-1||p===-1)throw new Error("PEM section not found for: "+o);var v=i.slice(d+1,p).join("");v.replace(/[^a-z0-9\+\/=]+/gi,"");var y=new a(v,"base64");return l.prototype.decode.call(this,y,t)}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/der.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1.js");var u=l.base;var d=l.constants.der;function DEREncoder(e){this.enc="der";this.name=e.name;this.entity=e;this.tree=new DERNode;this.tree._init(e.body)}e.exports=DEREncoder;DEREncoder.prototype.encode=function encode(e,t){return this.tree._encode(e,t).join()};function DERNode(e){u.Node.call(this,"der",e)}o(DERNode,u.Node);DERNode.prototype._encodeComposite=function encodeComposite(e,t,i,o){var l=encodeTag(e,t,i,this.reporter);if(o.length<128){var u=new a(2);u[0]=l;u[1]=o.length;return this._createEncoderBuffer([u,o])}var d=1;for(var p=o.length;p>=256;p>>=8)d++;var u=new a(1+1+d);u[0]=l;u[1]=128|d;for(var p=1+d,m=o.length;m>0;p--,m>>=8)u[p]=m&255;return this._createEncoderBuffer([u,o])};DERNode.prototype._encodeStr=function encodeStr(e,t){if(t==="bitstr"){return this._createEncoderBuffer([e.unused|0,e.data])}else if(t==="bmpstr"){var i=new a(e.length*2);for(var o=0;o<e.length;o++){i.writeUInt16BE(e.charCodeAt(o),o*2)}return this._createEncoderBuffer(i)}else if(t==="numstr"){if(!this._isNumstr(e)){return this.reporter.error("Encoding of string type: numstr supports "+"only digits and space")}return this._createEncoderBuffer(e)}else if(t==="printstr"){if(!this._isPrintstr(e)){return this.reporter.error("Encoding of string type: printstr supports "+"only latin upper and lower case letters, "+"digits, space, apostrophe, left and rigth "+"parenthesis, plus sign, comma, hyphen, "+"dot, slash, colon, equal sign, "+"question mark")}return this._createEncoderBuffer(e)}else if(/str$/.test(t)){return this._createEncoderBuffer(e)}else if(t==="objDesc"){return this._createEncoderBuffer(e)}else{return this.reporter.error("Encoding of string type: "+t+" unsupported")}};DERNode.prototype._encodeObjid=function encodeObjid(e,t,i){if(typeof e==="string"){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var o=0;o<e.length;o++)e[o]|=0}else if(Array.isArray(e)){e=e.slice();for(var o=0;o<e.length;o++)e[o]|=0}if(!Array.isArray(e)){return this.reporter.error("objid() should be either array or string, "+"got: "+JSON.stringify(e))}if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}var l=0;for(var o=0;o<e.length;o++){var u=e[o];for(l++;u>=128;u>>=7)l++}var d=new a(l);var p=d.length-1;for(var o=e.length-1;o>=0;o--){var u=e[o];d[p--]=u&127;while((u>>=7)>0)d[p--]=128|u&127}return this._createEncoderBuffer(d)};function two(e){if(e<10)return"0"+e;else return e}DERNode.prototype._encodeTime=function encodeTime(e,t){var i;var o=new Date(e);if(t==="gentime"){i=[two(o.getFullYear()),two(o.getUTCMonth()+1),two(o.getUTCDate()),two(o.getUTCHours()),two(o.getUTCMinutes()),two(o.getUTCSeconds()),"Z"].join("")}else if(t==="utctime"){i=[two(o.getFullYear()%100),two(o.getUTCMonth()+1),two(o.getUTCDate()),two(o.getUTCHours()),two(o.getUTCMinutes()),two(o.getUTCSeconds()),"Z"].join("")}else{this.reporter.error("Encoding "+t+" time is not supported yet")}return this._encodeStr(i,"octstr")};DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")};DERNode.prototype._encodeInt=function encodeInt(e,t){if(typeof e==="string"){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e)){return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e))}e=t[e]}if(typeof e!=="number"&&!a.isBuffer(e)){var i=e.toArray();if(!e.sign&&i[0]&128){i.unshift(0)}e=new a(i)}if(a.isBuffer(e)){var o=e.length;if(e.length===0)o++;var l=new a(o);e.copy(l);if(e.length===0)l[0]=0;return this._createEncoderBuffer(l)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);var o=1;for(var u=e;u>=256;u>>=8)o++;var l=new Array(o);for(var u=l.length-1;u>=0;u--){l[u]=e&255;e>>=8}if(l[0]&128){l.unshift(0)}return this._createEncoderBuffer(new a(l))};DERNode.prototype._encodeBool=function encodeBool(e){return this._createEncoderBuffer(e?255:0)};DERNode.prototype._use=function use(e,t){if(typeof e==="function")e=e(t);return e._getEncoder("der").tree};DERNode.prototype._skipDefault=function skipDefault(e,t,i){var o=this._baseState;var a;if(o["default"]===null)return false;var l=e.join();if(o.defaultBuffer===undefined)o.defaultBuffer=this._encodeValue(o["default"],t,i).join();if(l.length!==o.defaultBuffer.length)return false;for(a=0;a<l.length;a++)if(l[a]!==o.defaultBuffer[a])return false;return true};function encodeTag(e,t,i,o){var a;if(e==="seqof")e="seq";else if(e==="setof")e="set";if(d.tagByName.hasOwnProperty(e))a=d.tagByName[e];else if(typeof e==="number"&&(e|0)===e)a=e;else return o.error("Unknown tag: "+e);if(a>=31)return o.error("Multi-octet tag encoding unsupported");if(!t)a|=32;a|=d.tagClassByName[i||"universal"]<<6;return a}},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/index.js":(e,t,i)=>{var o=t;o.der=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/der.js");o.pem=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/pem.js")},"../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/pem.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1/encoders/der.js");function PEMEncoder(e){a.call(this,e);this.enc="pem"}o(PEMEncoder,a);e.exports=PEMEncoder;PEMEncoder.prototype.encode=function encode(e,t){var i=a.prototype.encode.call(this,e);var o=i.toString("base64");var l=["-----BEGIN "+t.label+"-----"];for(var u=0;u<o.length;u+=64)l.push(o.slice(u,u+64));l.push("-----END "+t.label+"-----");return l.join("\n")}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/adapters.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/null.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/xhr.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/fetch.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");const p={http:a["default"],xhr:l["default"],fetch:u["default"]};o["default"].forEach(p,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`;const isResolvedHandle=e=>o["default"].isFunction(e)||e===null||e===false;const m={getAdapter:e=>{e=o["default"].isArray(e)?e:[e];const{length:t}=e;let i;let a;const l={};for(let o=0;o<t;o++){i=e[o];let t;a=i;if(!isResolvedHandle(i)){a=p[(t=String(i)).toLowerCase()];if(a===undefined){throw new d["default"](`Unknown adapter '${t}'`)}}if(a){break}l[t||"#"+o]=a}if(!a){const e=Object.entries(l).map(([e,t])=>`adapter ${e} `+(t===false?"is not supported by the environment":"is not available in the build"));let i=t?e.length>1?"since :\n"+e.map(renderReason).join("\n"):" "+renderReason(e[0]):"as no adapter specified";throw new d["default"](`There is no suitable adapter to dispatch the request `+i,"ERR_NOT_SUPPORT")}return a},adapters:p}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/fetch.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>I});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/composeSignals.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/trackStream.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");var m=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/progressEventReducer.js");var g=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/resolveConfig.js");var v=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/settle.js");const y=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function";const _=y&&typeof ReadableStream==="function";const w=y&&(typeof TextEncoder==="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer()));const test=(e,...t)=>{try{return!!e(...t)}catch(e){return false}};const A=_&&test(()=>{let e=false;const t=new Request(o["default"].origin,{body:new ReadableStream,method:"POST",get duplex(){e=true;return"half"}}).headers.has("Content-Type");return e&&!t});const k=64*1024;const T=_&&test(()=>a["default"].isReadableStream(new Response("").body));const x={stream:T&&(e=>e.body)};y&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!x[t]&&(x[t]=a["default"].isFunction(e[t])?e=>e[t]():(e,i)=>{throw new l["default"](`Response type '${t}' is not supported`,l["default"].ERR_NOT_SUPPORT,i)})})})(new Response);const getBodyLength=async e=>{if(e==null){return 0}if(a["default"].isBlob(e)){return e.size}if(a["default"].isSpecCompliantForm(e)){const t=new Request(o["default"].origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}if(a["default"].isArrayBufferView(e)||a["default"].isArrayBuffer(e)){return e.byteLength}if(a["default"].isURLSearchParams(e)){e=e+""}if(a["default"].isString(e)){return(await w(e)).byteLength}};const resolveBodyLength=async(e,t)=>{const i=a["default"].toFiniteNumber(e.getContentLength());return i==null?getBodyLength(t):i};const I=y&&(async e=>{let{url:t,method:i,data:o,signal:y,cancelToken:_,timeout:w,onDownloadProgress:I,onUploadProgress:N,responseType:P,headers:C,withCredentials:M="same-origin",fetchOptions:B}=(0,g["default"])(e);P=P?(P+"").toLowerCase():"text";let j=(0,u["default"])([y,_&&_.toAbortSignal()],w);let O;const D=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let L;try{if(N&&A&&i!=="get"&&i!=="head"&&(L=await resolveBodyLength(C,o))!==0){let e=new Request(t,{method:"POST",body:o,duplex:"half"});let i;if(a["default"].isFormData(o)&&(i=e.headers.get("content-type"))){C.setContentType(i)}if(e.body){const[t,i]=(0,m.progressEventDecorator)(L,(0,m.progressEventReducer)((0,m.asyncDecorator)(N)));o=(0,d.trackStream)(e.body,k,t,i)}}if(!a["default"].isString(M)){M=M?"include":"omit"}const l="credentials"in Request.prototype;O=new Request(t,{...B,signal:j,method:i.toUpperCase(),headers:C.normalize().toJSON(),body:o,duplex:"half",credentials:l?M:undefined});let u=await fetch(O,B);const g=T&&(P==="stream"||P==="response");if(T&&(I||g&&D)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=u[t]});const t=a["default"].toFiniteNumber(u.headers.get("content-length"));const[i,o]=I&&(0,m.progressEventDecorator)(t,(0,m.progressEventReducer)((0,m.asyncDecorator)(I),true))||[];u=new Response((0,d.trackStream)(u.body,k,i,()=>{o&&o();D&&D()}),e)}P=P||"text";let y=await x[a["default"].findKey(x,P)||"text"](u,e);!g&&D&&D();return await new Promise((t,i)=>{(0,v["default"])(t,i,{data:y,headers:p["default"].from(u.headers),status:u.status,statusText:u.statusText,config:e,request:O})})}catch(t){D&&D();if(t&&t.name==="TypeError"&&/Load failed|fetch/i.test(t.message)){throw Object.assign(new l["default"]("Network Error",l["default"].ERR_NETWORK,e,O),{cause:t.cause||t})}throw l["default"].from(t,t&&t.code,e,O)}})},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/xhr.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>w});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/settle.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/transitional.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CanceledError.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/parseProtocol.js");var m=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");var g=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");var v=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/progressEventReducer.js");var y=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/resolveConfig.js");const _=typeof XMLHttpRequest!=="undefined";const w=_&&function(e){return new Promise(function dispatchXhrRequest(t,i){const _=(0,y["default"])(e);let w=_.data;const A=g["default"].from(_.headers).normalize();let{responseType:k,onUploadProgress:T,onDownloadProgress:x}=_;let I;let N,P;let C,M;function done(){C&&C();M&&M();_.cancelToken&&_.cancelToken.unsubscribe(I);_.signal&&_.signal.removeEventListener("abort",I)}let B=new XMLHttpRequest;B.open(_.method.toUpperCase(),_.url,true);B.timeout=_.timeout;function onloadend(){if(!B){return}const o=g["default"].from("getAllResponseHeaders"in B&&B.getAllResponseHeaders());const l=!k||k==="text"||k==="json"?B.responseText:B.response;const u={data:l,status:B.status,statusText:B.statusText,headers:o,config:e,request:B};(0,a["default"])(function _resolve(e){t(e);done()},function _reject(e){i(e);done()},u);B=null}if("onloadend"in B){B.onloadend=onloadend}else{B.onreadystatechange=function handleLoad(){if(!B||B.readyState!==4){return}if(B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)){return}setTimeout(onloadend)}}B.onabort=function handleAbort(){if(!B){return}i(new u["default"]("Request aborted",u["default"].ECONNABORTED,e,B));B=null};B.onerror=function handleError(){i(new u["default"]("Network Error",u["default"].ERR_NETWORK,e,B));B=null};B.ontimeout=function handleTimeout(){let t=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded";const o=_.transitional||l["default"];if(_.timeoutErrorMessage){t=_.timeoutErrorMessage}i(new u["default"](t,o.clarifyTimeoutError?u["default"].ETIMEDOUT:u["default"].ECONNABORTED,e,B));B=null};w===undefined&&A.setContentType(null);if("setRequestHeader"in B){o["default"].forEach(A.toJSON(),function setRequestHeader(e,t){B.setRequestHeader(t,e)})}if(!o["default"].isUndefined(_.withCredentials)){B.withCredentials=!!_.withCredentials}if(k&&k!=="json"){B.responseType=_.responseType}if(x){[P,M]=(0,v.progressEventReducer)(x,true);B.addEventListener("progress",P)}if(T&&B.upload){[N,C]=(0,v.progressEventReducer)(T);B.upload.addEventListener("progress",N);B.upload.addEventListener("loadend",C)}if(_.cancelToken||_.signal){I=t=>{if(!B){return}i(!t||t.type?new d["default"](null,e,B):t);B.abort();B=null};_.cancelToken&&_.cancelToken.subscribe(I);if(_.signal){_.signal.aborted?I():_.signal.addEventListener("abort",I)}}const j=(0,p["default"])(_.url);if(j&&m["default"].protocols.indexOf(j)===-1){i(new u["default"]("Unsupported protocol "+j+":",u["default"].ERR_BAD_REQUEST,e));return}B.send(w||null)})}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/axios.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>P});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/bind.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/Axios.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/mergeConfig.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/index.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/formDataToJSON.js");var m=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CanceledError.js");var g=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CancelToken.js");var v=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/isCancel.js");var y=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/env/data.js");var _=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toFormData.js");var w=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var A=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/spread.js");var k=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/isAxiosError.js");var T=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");var x=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/adapters.js");var I=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/HttpStatusCode.js");function createInstance(e){const t=new l["default"](e);const i=(0,a["default"])(l["default"].prototype.request,t);o["default"].extend(i,l["default"].prototype,t,{allOwnKeys:true});o["default"].extend(i,t,null,{allOwnKeys:true});i.create=function create(t){return createInstance((0,u["default"])(e,t))};return i}const N=createInstance(d["default"]);N.Axios=l["default"];N.CanceledError=m["default"];N.CancelToken=g["default"];N.isCancel=v["default"];N.VERSION=y.VERSION;N.toFormData=_["default"];N.AxiosError=w["default"];N.Cancel=N.CanceledError;N.all=function all(e){return Promise.all(e)};N.spread=A["default"];N.isAxiosError=k["default"];N.mergeConfig=u["default"];N.AxiosHeaders=T["default"];N.formToJSON=e=>(0,p["default"])(o["default"].isHTMLForm(e)?new FormData(e):e);N.getAdapter=x["default"].getAdapter;N.HttpStatusCode=I["default"];N.default=N;const P=N},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CancelToken.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CanceledError.js");class CancelToken{constructor(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}let t;this.promise=new Promise(function promiseExecutor(e){t=e});const i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;while(t-- >0){i._listeners[t](e)}i._listeners=null});this.promise.then=e=>{let t;const o=new Promise(e=>{i.subscribe(e);t=e}).then(e);o.cancel=function reject(){i.unsubscribe(t)};return o};e(function cancel(e,a,l){if(i.reason){return}i.reason=new o["default"](e,a,l);t(i.reason)})}throwIfRequested(){if(this.reason){throw this.reason}}subscribe(e){if(this.reason){e(this.reason);return}if(this._listeners){this._listeners.push(e)}else{this._listeners=[e]}}unsubscribe(e){if(!this._listeners){return}const t=this._listeners.indexOf(e);if(t!==-1){this._listeners.splice(t,1)}}toAbortSignal(){const e=new AbortController;const abort=t=>{e.abort(t)};this.subscribe(abort);e.signal.unsubscribe=()=>this.unsubscribe(abort);return e.signal}static source(){let e;const t=new CancelToken(function executor(t){e=t});return{token:t,cancel:e}}}const a=CancelToken},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CanceledError.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");function CanceledError(e,t,i){o["default"].call(this,e==null?"canceled":e,o["default"].ERR_CANCELED,t,i);this.name="CanceledError"}a["default"].inherits(CanceledError,o["default"],{__CANCEL__:true});const l=CanceledError},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/isCancel.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>isCancel});function isCancel(e){return!!(e&&e.__CANCEL__)}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/Axios.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>y});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/buildURL.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/InterceptorManager.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/dispatchRequest.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/mergeConfig.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/buildFullPath.js");var m=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/validator.js");var g=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");const v=m["default"].validators;class Axios{constructor(e){this.defaults=e||{};this.interceptors={request:new l["default"],response:new l["default"]}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const i=t.stack?t.stack.replace(/^.+\n/,""):"";try{if(!e.stack){e.stack=i}else if(i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))){e.stack+="\n"+i}}catch(e){}}throw e}}_request(e,t){if(typeof e==="string"){t=t||{};t.url=e}else{t=e||{}}t=(0,d["default"])(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;if(i!==undefined){m["default"].assertOptions(i,{silentJSONParsing:v.transitional(v.boolean),forcedJSONParsing:v.transitional(v.boolean),clarifyTimeoutError:v.transitional(v.boolean)},false)}if(a!=null){if(o["default"].isFunction(a)){t.paramsSerializer={serialize:a}}else{m["default"].assertOptions(a,{encode:v.function,serialize:v.function},true)}}if(t.allowAbsoluteUrls!==undefined){}else if(this.defaults.allowAbsoluteUrls!==undefined){t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls}else{t.allowAbsoluteUrls=true}m["default"].assertOptions(t,{baseUrl:v.spelling("baseURL"),withXsrfToken:v.spelling("withXSRFToken")},true);t.method=(t.method||this.defaults.method||"get").toLowerCase();let p=l&&o["default"].merge(l.common,l[t.method]);l&&o["default"].forEach(["delete","get","head","post","put","patch","common"],e=>{delete l[e]});t.headers=g["default"].concat(p,l);const y=[];let _=true;this.interceptors.request.forEach(function unshiftRequestInterceptors(e){if(typeof e.runWhen==="function"&&e.runWhen(t)===false){return}_=_&&e.synchronous;y.unshift(e.fulfilled,e.rejected)});const w=[];this.interceptors.response.forEach(function pushResponseInterceptors(e){w.push(e.fulfilled,e.rejected)});let A;let k=0;let T;if(!_){const e=[u["default"].bind(this),undefined];e.unshift.apply(e,y);e.push.apply(e,w);T=e.length;A=Promise.resolve(t);while(k<T){A=A.then(e[k++],e[k++])}return A}T=y.length;let x=t;k=0;while(k<T){const e=y[k++];const t=y[k++];try{x=e(x)}catch(e){t.call(this,e);break}}try{A=u["default"].call(this,x)}catch(e){return Promise.reject(e)}k=0;T=w.length;while(k<T){A=A.then(w[k++],w[k++])}return A}getUri(e){e=(0,d["default"])(this.defaults,e);const t=(0,p["default"])(e.baseURL,e.url,e.allowAbsoluteUrls);return(0,a["default"])(t,e.params,e.paramsSerializer)}}o["default"].forEach(["delete","get","head","options"],function forEachMethodNoData(e){Axios.prototype[e]=function(t,i){return this.request((0,d["default"])(i||{},{method:e,url:t,data:(i||{}).data}))}});o["default"].forEach(["post","put","patch"],function forEachMethodWithData(e){function generateHTTPMethod(t){return function httpMethod(i,o,a){return this.request((0,d["default"])(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Axios.prototype[e]=generateHTTPMethod();Axios.prototype[e+"Form"]=generateHTTPMethod(true)});const y=Axios},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");function AxiosError(e,t,i,o,a){Error.call(this);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack}this.message=e;this.name="AxiosError";t&&(this.code=t);i&&(this.config=i);o&&(this.request=o);if(a){this.response=a;this.status=a.status?a.status:null}}o["default"].inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:o["default"].toJSONObject(this.config),code:this.code,status:this.status}}});const a=AxiosError.prototype;const l={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{l[e]={value:e}});Object.defineProperties(AxiosError,l);Object.defineProperty(a,"isAxiosError",{value:true});AxiosError.from=(e,t,i,l,u,d)=>{const p=Object.create(a);o["default"].toFlatObject(e,p,function filter(e){return e!==Error.prototype},e=>e!=="isAxiosError");AxiosError.call(p,e.message,t,i,l,u);p.cause=e;p.name=e.name;d&&Object.assign(p,d);return p};const u=AxiosError},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/parseHeaders.js");const l=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){if(e===false||e==null){return e}return o["default"].isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null);const i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;while(o=i.exec(e)){t[o[1]]=o[2]}return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,i,a,l){if(o["default"].isFunction(a)){return a.call(this,t,i)}if(l){t=i}if(!o["default"].isString(t))return;if(o["default"].isString(a)){return t.indexOf(a)!==-1}if(o["default"].isRegExp(a)){return a.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function buildAccessors(e,t){const i=o["default"].toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(e,i,a){return this[o].call(this,t,e,i,a)},configurable:true})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,i){const l=this;function setHeader(e,t,i){const a=normalizeHeader(t);if(!a){throw new Error("header name must be a non-empty string")}const u=o["default"].findKey(l,a);if(!u||l[u]===undefined||i===true||i===undefined&&l[u]!==false){l[u||t]=normalizeValue(e)}}const setHeaders=(e,t)=>o["default"].forEach(e,(e,i)=>setHeader(e,i,t));if(o["default"].isPlainObject(e)||e instanceof this.constructor){setHeaders(e,t)}else if(o["default"].isString(e)&&(e=e.trim())&&!isValidHeaderName(e)){setHeaders((0,a["default"])(e),t)}else if(o["default"].isObject(e)&&o["default"].isIterable(e)){let i={},a,l;for(const t of e){if(!o["default"].isArray(t)){throw TypeError("Object iterator must return a key-value pair")}i[l=t[0]]=(a=i[l])?o["default"].isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}setHeaders(i,t)}else{e!=null&&setHeader(t,e,i)}return this}get(e,t){e=normalizeHeader(e);if(e){const i=o["default"].findKey(this,e);if(i){const e=this[i];if(!t){return e}if(t===true){return parseTokens(e)}if(o["default"].isFunction(t)){return t.call(this,e,i)}if(o["default"].isRegExp(t)){return t.exec(e)}throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){e=normalizeHeader(e);if(e){const i=o["default"].findKey(this,e);return!!(i&&this[i]!==undefined&&(!t||matchHeaderValue(this,this[i],i,t)))}return false}delete(e,t){const i=this;let a=false;function deleteHeader(e){e=normalizeHeader(e);if(e){const l=o["default"].findKey(i,e);if(l&&(!t||matchHeaderValue(i,i[l],l,t))){delete i[l];a=true}}}if(o["default"].isArray(e)){e.forEach(deleteHeader)}else{deleteHeader(e)}return a}clear(e){const t=Object.keys(this);let i=t.length;let o=false;while(i--){const a=t[i];if(!e||matchHeaderValue(this,this[a],a,e,true)){delete this[a];o=true}}return o}normalize(e){const t=this;const i={};o["default"].forEach(this,(a,l)=>{const u=o["default"].findKey(i,l);if(u){t[u]=normalizeValue(a);delete t[l];return}const d=e?formatHeader(l):String(l).trim();if(d!==l){delete t[l]}t[d]=normalizeValue(a);i[d]=true});return this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);o["default"].forEach(this,(i,a)=>{i!=null&&i!==false&&(t[a]=e&&o["default"].isArray(i)?i.join(", "):i)});return t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);t.forEach(e=>i.set(e));return i}static accessor(e){const t=this[l]=this[l]={accessors:{}};const i=t.accessors;const a=this.prototype;function defineAccessor(e){const t=normalizeHeader(e);if(!i[t]){buildAccessors(a,e);i[t]=true}}o["default"].isArray(e)?e.forEach(defineAccessor):defineAccessor(e);return this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);o["default"].reduceDescriptors(AxiosHeaders.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}});o["default"].freezeMethods(AxiosHeaders);const u=AxiosHeaders},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/InterceptorManager.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");class InterceptorManager{constructor(){this.handlers=[]}use(e,t,i){this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:false,runWhen:i?i.runWhen:null});return this.handlers.length-1}eject(e){if(this.handlers[e]){this.handlers[e]=null}}clear(){if(this.handlers){this.handlers=[]}}forEach(e){o["default"].forEach(this.handlers,function forEachHandler(t){if(t!==null){e(t)}})}}const a=InterceptorManager},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/buildFullPath.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>buildFullPath});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/isAbsoluteURL.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/combineURLs.js");function buildFullPath(e,t,i){let l=!(0,o["default"])(t);if(e&&(l||i==false)){return(0,a["default"])(e,t)}return t}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/dispatchRequest.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>dispatchRequest});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/transformData.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/isCancel.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/index.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CanceledError.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/adapters/adapters.js");function throwIfCancellationRequested(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}if(e.signal&&e.signal.aborted){throw new u["default"](null,e)}}function dispatchRequest(e){throwIfCancellationRequested(e);e.headers=d["default"].from(e.headers);e.data=o["default"].call(e,e.transformRequest);if(["post","put","patch"].indexOf(e.method)!==-1){e.headers.setContentType("application/x-www-form-urlencoded",false)}const t=p["default"].getAdapter(e.adapter||l["default"].adapter);return t(e).then(function onAdapterResolution(t){throwIfCancellationRequested(e);t.data=o["default"].call(e,e.transformResponse,t);t.headers=d["default"].from(t.headers);return t},function onAdapterRejection(t){if(!(0,a["default"])(t)){throwIfCancellationRequested(e);if(t&&t.response){t.response.data=o["default"].call(e,e.transformResponse,t.response);t.response.headers=d["default"].from(t.response.headers)}}return Promise.reject(t)})}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/mergeConfig.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>mergeConfig});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");const headersToObject=e=>e instanceof a["default"]?{...e}:e;function mergeConfig(e,t){t=t||{};const i={};function getMergedValue(e,t,i,a){if(o["default"].isPlainObject(e)&&o["default"].isPlainObject(t)){return o["default"].merge.call({caseless:a},e,t)}else if(o["default"].isPlainObject(t)){return o["default"].merge({},t)}else if(o["default"].isArray(t)){return t.slice()}return t}function mergeDeepProperties(e,t,i,a){if(!o["default"].isUndefined(t)){return getMergedValue(e,t,i,a)}else if(!o["default"].isUndefined(e)){return getMergedValue(undefined,e,i,a)}}function valueFromConfig2(e,t){if(!o["default"].isUndefined(t)){return getMergedValue(undefined,t)}}function defaultToConfig2(e,t){if(!o["default"].isUndefined(t)){return getMergedValue(undefined,t)}else if(!o["default"].isUndefined(e)){return getMergedValue(undefined,e)}}function mergeDirectKeys(i,o,a){if(a in t){return getMergedValue(i,o)}else if(a in e){return getMergedValue(undefined,i)}}const a={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(e,t,i)=>mergeDeepProperties(headersToObject(e),headersToObject(t),i,true)};o["default"].forEach(Object.keys(Object.assign({},e,t)),function computeConfigValue(l){const u=a[l]||mergeDeepProperties;const d=u(e[l],t[l],l);o["default"].isUndefined(d)&&u!==mergeDirectKeys||(i[l]=d)});return i}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/settle.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>settle});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");function settle(e,t,i){const a=i.config.validateStatus;if(!i.status||!a||a(i.status)){e(i)}else{t(new o["default"]("Request failed with status code "+i.status,[o["default"].ERR_BAD_REQUEST,o["default"].ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/transformData.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>transformData});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/index.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");function transformData(e,t){const i=this||a["default"];const u=t||i;const d=l["default"].from(u.headers);let p=u.data;o["default"].forEach(e,function transform(e){p=e.call(i,p,d.normalize(),t?t.status:undefined)});d.normalize();return p}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>v});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/transitional.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toFormData.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toURLEncodedForm.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");var m=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/formDataToJSON.js");function stringifySafely(e,t,i){if(o["default"].isString(e)){try{(t||JSON.parse)(e);return o["default"].trim(e)}catch(e){if(e.name!=="SyntaxError"){throw e}}}return(i||JSON.stringify)(e)}const g={transitional:l["default"],adapter:["xhr","http","fetch"],transformRequest:[function transformRequest(e,t){const i=t.getContentType()||"";const a=i.indexOf("application/json")>-1;const l=o["default"].isObject(e);if(l&&o["default"].isHTMLForm(e)){e=new FormData(e)}const p=o["default"].isFormData(e);if(p){return a?JSON.stringify((0,m["default"])(e)):e}if(o["default"].isArrayBuffer(e)||o["default"].isBuffer(e)||o["default"].isStream(e)||o["default"].isFile(e)||o["default"].isBlob(e)||o["default"].isReadableStream(e)){return e}if(o["default"].isArrayBufferView(e)){return e.buffer}if(o["default"].isURLSearchParams(e)){t.setContentType("application/x-www-form-urlencoded;charset=utf-8",false);return e.toString()}let g;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1){return(0,d["default"])(e,this.formSerializer).toString()}if((g=o["default"].isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return(0,u["default"])(g?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(l||a){t.setContentType("application/json",false);return stringifySafely(e)}return e}],transformResponse:[function transformResponse(e){const t=this.transitional||g.transitional;const i=t&&t.forcedJSONParsing;const l=this.responseType==="json";if(o["default"].isResponse(e)||o["default"].isReadableStream(e)){return e}if(e&&o["default"].isString(e)&&(i&&!this.responseType||l)){const i=t&&t.silentJSONParsing;const o=!i&&l;try{return JSON.parse(e)}catch(e){if(o){if(e.name==="SyntaxError"){throw a["default"].from(e,a["default"].ERR_BAD_RESPONSE,this,null,this.response)}throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:p["default"].classes.FormData,Blob:p["default"].classes.Blob},validateStatus:function validateStatus(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":undefined}}};o["default"].forEach(["delete","get","head","post","put","patch"],e=>{g.headers[e]={}});const v=g},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/defaults/transitional.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});const o={silentJSONParsing:true,forcedJSONParsing:true,clarifyTimeoutError:false}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/env/data.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{VERSION:()=>o});const o="1.10.0"},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/AxiosURLSearchParams.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toFormData.js");function encode(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function replacer(e){return t[e]})}function AxiosURLSearchParams(e,t){this._pairs=[];e&&(0,o["default"])(e,this,t)}const a=AxiosURLSearchParams.prototype;a.append=function append(e,t){this._pairs.push([e,t])};a.toString=function toString(e){const t=e?function(t){return e.call(this,t,encode)}:encode;return this._pairs.map(function each(e){return t(e[0])+"="+t(e[1])},"").join("&")};const l=AxiosURLSearchParams},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/HttpStatusCode.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});const o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(o).forEach(([e,t])=>{o[t]=e});const a=o},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/bind.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>bind});function bind(e,t){return function wrap(){return e.apply(t,arguments)}}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/buildURL.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>buildURL});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/AxiosURLSearchParams.js");function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,i){if(!t){return e}const l=i&&i.encode||encode;if(o["default"].isFunction(i)){i={serialize:i}}const u=i&&i.serialize;let d;if(u){d=u(t,i)}else{d=o["default"].isURLSearchParams(t)?t.toString():new a["default"](t,i).toString(l)}if(d){const t=e.indexOf("#");if(t!==-1){e=e.slice(0,t)}e+=(e.indexOf("?")===-1?"?":"&")+d}return e}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/combineURLs.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>combineURLs});function combineURLs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/composeSignals.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/cancel/CanceledError.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");const composeSignals=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let i=new AbortController;let u;const onabort=function(e){if(!u){u=true;unsubscribe();const t=e instanceof Error?e:this.reason;i.abort(t instanceof a["default"]?t:new o["default"](t instanceof Error?t.message:t))}};let d=t&&setTimeout(()=>{d=null;onabort(new a["default"](`timeout ${t} of ms exceeded`,a["default"].ETIMEDOUT))},t);const unsubscribe=()=>{if(e){d&&clearTimeout(d);d=null;e.forEach(e=>{e.unsubscribe?e.unsubscribe(onabort):e.removeEventListener("abort",onabort)});e=null}};e.forEach(e=>e.addEventListener("abort",onabort));const{signal:p}=i;p.unsubscribe=()=>l["default"].asap(unsubscribe);return p}};const u=composeSignals},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/cookies.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");const l=a["default"].hasStandardBrowserEnv?{write(e,t,i,a,l,u){const d=[e+"="+encodeURIComponent(t)];o["default"].isNumber(i)&&d.push("expires="+new Date(i).toGMTString());o["default"].isString(a)&&d.push("path="+a);o["default"].isString(l)&&d.push("domain="+l);u===true&&d.push("secure");document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/formDataToJSON.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");function parsePropPath(e){return o["default"].matchAll(/\w+|\[(\w*)]/g,e).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(e){const t={};const i=Object.keys(e);let o;const a=i.length;let l;for(o=0;o<a;o++){l=i[o];t[l]=e[l]}return t}function formDataToJSON(e){function buildPath(e,t,i,a){let l=e[a++];if(l==="__proto__")return true;const u=Number.isFinite(+l);const d=a>=e.length;l=!l&&o["default"].isArray(i)?i.length:l;if(d){if(o["default"].hasOwnProp(i,l)){i[l]=[i[l],t]}else{i[l]=t}return!u}if(!i[l]||!o["default"].isObject(i[l])){i[l]=[]}const p=buildPath(e,t,i[l],a);if(p&&o["default"].isArray(i[l])){i[l]=arrayToObject(i[l])}return!u}if(o["default"].isFormData(e)&&o["default"].isFunction(e.entries)){const t={};o["default"].forEachEntry(e,(e,i)=>{buildPath(parsePropPath(e),i,t,0)});return t}return null}const a=formDataToJSON},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/isAbsoluteURL.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>isAbsoluteURL});function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/isAxiosError.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>isAxiosError});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");function isAxiosError(e){return o["default"].isObject(e)&&e.isAxiosError===true}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/isURLSameOrigin.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");const a=o["default"].hasStandardBrowserEnv?((e,t)=>i=>{i=new URL(i,o["default"].origin);return e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)})(new URL(o["default"].origin),o["default"].navigator&&/(msie|trident)/i.test(o["default"].navigator.userAgent)):()=>true},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/null.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});const o=null},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/parseHeaders.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");const a=o["default"].toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const __WEBPACK_DEFAULT_EXPORT__=e=>{const t={};let i;let o;let l;e&&e.split("\n").forEach(function parser(e){l=e.indexOf(":");i=e.substring(0,l).trim().toLowerCase();o=e.substring(l+1).trim();if(!i||t[i]&&a[i]){return}if(i==="set-cookie"){if(t[i]){t[i].push(o)}else{t[i]=[o]}}else{t[i]=t[i]?t[i]+", "+o:o}});return t}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/parseProtocol.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>parseProtocol});function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/progressEventReducer.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{asyncDecorator:()=>asyncDecorator,progressEventDecorator:()=>progressEventDecorator,progressEventReducer:()=>progressEventReducer});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/speedometer.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/throttle.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");const progressEventReducer=(e,t,i=3)=>{let l=0;const u=(0,o["default"])(50,250);return(0,a["default"])(i=>{const o=i.loaded;const a=i.lengthComputable?i.total:undefined;const d=o-l;const p=u(d);const m=o<=a;l=o;const g={loaded:o,total:a,progress:a?o/a:undefined,bytes:d,rate:p?p:undefined,estimated:p&&a&&m?(a-o)/p:undefined,event:i,lengthComputable:a!=null,[t?"download":"upload"]:true};e(g)},i)};const progressEventDecorator=(e,t)=>{const i=e!=null;return[o=>t[0]({lengthComputable:i,total:e,loaded:o}),t[1]]};const asyncDecorator=e=>(...t)=>l["default"].asap(()=>e(...t))},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/resolveConfig.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/isURLSameOrigin.js");var u=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/cookies.js");var d=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/buildFullPath.js");var p=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/mergeConfig.js");var m=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosHeaders.js");var g=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/buildURL.js");const __WEBPACK_DEFAULT_EXPORT__=e=>{const t=(0,p["default"])({},e);let{data:i,withXSRFToken:v,xsrfHeaderName:y,xsrfCookieName:_,headers:w,auth:A}=t;t.headers=w=m["default"].from(w);t.url=(0,g["default"])((0,d["default"])(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer);if(A){w.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):"")))}let k;if(a["default"].isFormData(i)){if(o["default"].hasStandardBrowserEnv||o["default"].hasStandardBrowserWebWorkerEnv){w.setContentType(undefined)}else if((k=w.getContentType())!==false){const[e,...t]=k?k.split(";").map(e=>e.trim()).filter(Boolean):[];w.setContentType([e||"multipart/form-data",...t].join("; "))}}if(o["default"].hasStandardBrowserEnv){v&&a["default"].isFunction(v)&&(v=v(t));if(v||v!==false&&(0,l["default"])(t.url)){const e=y&&_&&u["default"].read(_);if(e){w.set(y,e)}}}return t}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/speedometer.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function speedometer(e,t){e=e||10;const i=new Array(e);const o=new Array(e);let a=0;let l=0;let u;t=t!==undefined?t:1e3;return function push(d){const p=Date.now();const m=o[l];if(!u){u=p}i[a]=d;o[a]=p;let g=l;let v=0;while(g!==a){v+=i[g++];g=g%e}a=(a+1)%e;if(a===l){l=(l+1)%e}if(p-u<t){return}const y=m&&p-m;return y?Math.round(v*1e3/y):undefined}}const o=speedometer},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/spread.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>spread});function spread(e){return function wrap(t){return e.apply(null,t)}}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/throttle.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function throttle(e,t){let i=0;let o=1e3/t;let a;let l;const invoke=(t,o=Date.now())=>{i=o;a=null;if(l){clearTimeout(l);l=null}e.apply(null,t)};const throttled=(...e)=>{const t=Date.now();const u=t-i;if(u>=o){invoke(e,t)}else{a=e;if(!l){l=setTimeout(()=>{l=null;invoke(a)},o-u)}}};const flush=()=>a&&invoke(a);return[throttled,flush]}const o=throttle},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toFormData.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/null.js");var u=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js")["Buffer"];function isVisitable(e){return o["default"].isPlainObject(e)||o["default"].isArray(e)}function removeBrackets(e){return o["default"].endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,i){if(!e)return t;return e.concat(t).map(function each(e,t){e=removeBrackets(e);return!i&&t?"["+e+"]":e}).join(i?".":"")}function isFlatArray(e){return o["default"].isArray(e)&&!e.some(isVisitable)}const d=o["default"].toFlatObject(o["default"],{},null,function filter(e){return/^is[A-Z]/.test(e)});function toFormData(e,t,i){if(!o["default"].isObject(e)){throw new TypeError("target must be an object")}t=t||new(l["default"]||FormData);i=o["default"].toFlatObject(i,{metaTokens:true,dots:false,indexes:false},false,function defined(e,t){return!o["default"].isUndefined(t[e])});const p=i.metaTokens;const m=i.visitor||defaultVisitor;const g=i.dots;const v=i.indexes;const y=i.Blob||typeof Blob!=="undefined"&&Blob;const _=y&&o["default"].isSpecCompliantForm(t);if(!o["default"].isFunction(m)){throw new TypeError("visitor must be a function")}function convertValue(e){if(e===null)return"";if(o["default"].isDate(e)){return e.toISOString()}if(o["default"].isBoolean(e)){return e.toString()}if(!_&&o["default"].isBlob(e)){throw new a["default"]("Blob is not supported. Use a Buffer instead.")}if(o["default"].isArrayBuffer(e)||o["default"].isTypedArray(e)){return _&&typeof Blob==="function"?new Blob([e]):u.from(e)}return e}function defaultVisitor(e,i,a){let l=e;if(e&&!a&&typeof e==="object"){if(o["default"].endsWith(i,"{}")){i=p?i:i.slice(0,-2);e=JSON.stringify(e)}else if(o["default"].isArray(e)&&isFlatArray(e)||(o["default"].isFileList(e)||o["default"].endsWith(i,"[]"))&&(l=o["default"].toArray(e))){i=removeBrackets(i);l.forEach(function each(e,a){!(o["default"].isUndefined(e)||e===null)&&t.append(v===true?renderKey([i],a,g):v===null?i:i+"[]",convertValue(e))});return false}}if(isVisitable(e)){return true}t.append(renderKey(a,i,g),convertValue(e));return false}const w=[];const A=Object.assign(d,{defaultVisitor,convertValue,isVisitable});function build(e,i){if(o["default"].isUndefined(e))return;if(w.indexOf(e)!==-1){throw Error("Circular reference detected in "+i.join("."))}w.push(e);o["default"].forEach(e,function each(e,a){const l=!(o["default"].isUndefined(e)||e===null)&&m.call(t,e,o["default"].isString(a)?a.trim():a,i,A);if(l===true){build(e,i?i.concat(a):[a])}});w.pop()}if(!o["default"].isObject(e)){throw new TypeError("data must be an object")}build(e);return t}const p=toFormData},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toURLEncodedForm.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>toURLEncodedForm});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/toFormData.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js");function toURLEncodedForm(e,t){return(0,a["default"])(e,new l["default"].classes.URLSearchParams,Object.assign({visitor:function(e,t,i,a){if(l["default"].isNode&&o["default"].isBuffer(e)){this.append(t,e.toString("base64"));return false}return a.defaultVisitor.apply(this,arguments)}},t))}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/trackStream.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{readBytes:()=>readBytes,streamChunk:()=>streamChunk,trackStream:()=>trackStream});const streamChunk=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let o=0;let a;while(o<i){a=o+t;yield e.slice(o,a);o=a}};const readBytes=async function*(e,t){for await(const i of readStream(e)){yield*streamChunk(i,t)}};const readStream=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e){break}yield i}}finally{await t.cancel()}};const trackStream=(e,t,i,o)=>{const a=readBytes(e,t);let l=0;let u;let _onFinish=e=>{if(!u){u=true;o&&o(e)}};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await a.next();if(t){_onFinish();e.close();return}let u=o.byteLength;if(i){let e=l+=u;i(e)}e.enqueue(new Uint8Array(o))}catch(e){_onFinish(e);throw e}},cancel(e){_onFinish(e);return a.return()}},{highWaterMark:2})}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/validator.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>d});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/env/data.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/core/AxiosError.js");const l={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{l[e]=function validator(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const u={};l.transitional=function transitional(e,t,i){function formatMessage(e,t){return"[Axios v"+o.VERSION+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,o,l)=>{if(e===false){throw new a["default"](formatMessage(o," has been removed"+(t?" in "+t:"")),a["default"].ERR_DEPRECATED)}if(t&&!u[o]){u[o]=true;console.warn(formatMessage(o," has been deprecated since v"+t+" and will be removed in the near future"))}return e?e(i,o,l):true}};l.spelling=function spelling(e){return(t,i)=>{console.warn(`${i} is likely a misspelling of ${e}`);return true}};function assertOptions(e,t,i){if(typeof e!=="object"){throw new a["default"]("options must be an object",a["default"].ERR_BAD_OPTION_VALUE)}const o=Object.keys(e);let l=o.length;while(l-- >0){const u=o[l];const d=t[u];if(d){const t=e[u];const i=t===undefined||d(t,u,e);if(i!==true){throw new a["default"]("option "+u+" must be "+i,a["default"].ERR_BAD_OPTION_VALUE)}continue}if(i!==true){throw new a["default"]("Unknown option "+u,a["default"].ERR_BAD_OPTION)}}}const d={assertOptions,validators:l}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/classes/Blob.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});const o=typeof Blob!=="undefined"?Blob:null},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/classes/FormData.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});const o=typeof FormData!=="undefined"?FormData:null},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/AxiosURLSearchParams.js");const a=typeof URLSearchParams!=="undefined"?URLSearchParams:o["default"]},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/classes/FormData.js");var l=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/classes/Blob.js");const u={isBrowser:true,classes:{URLSearchParams:o["default"],FormData:a["default"],Blob:l["default"]},protocols:["http","https","file","blob","url","data"]}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/common/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hasBrowserEnv:()=>o,hasStandardBrowserEnv:()=>l,hasStandardBrowserWebWorkerEnv:()=>u,navigator:()=>a,origin:()=>d});const o=typeof window!=="undefined"&&typeof document!=="undefined";const a=typeof navigator==="object"&&navigator||undefined;const l=o&&(!a||["ReactNative","NativeScript","NS"].indexOf(a.product)<0);const u=(()=>typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function")();const d=o&&window.location.href||"http://localhost"},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/browser/index.js");var a=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/platform/common/utils.js");const l={...a,...o["default"]}},"../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>G});var o=i("../../node_modules/.pnpm/axios@1.10.0/node_modules/axios/lib/helpers/bind.js");var a=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const{toString:l}=Object.prototype;const{getPrototypeOf:u}=Object;const{iterator:d,toStringTag:p}=Symbol;const m=(e=>t=>{const i=l.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null));const kindOfTest=e=>{e=e.toLowerCase();return t=>m(t)===e};const typeOfTest=e=>t=>typeof t===e;const{isArray:g}=Array;const v=typeOfTest("undefined");function isBuffer(e){return e!==null&&!v(e)&&e.constructor!==null&&!v(e.constructor)&&w(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const y=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){t=ArrayBuffer.isView(e)}else{t=e&&e.buffer&&y(e.buffer)}return t}const _=typeOfTest("string");const w=typeOfTest("function");const A=typeOfTest("number");const isObject=e=>e!==null&&typeof e==="object";const isBoolean=e=>e===true||e===false;const isPlainObject=e=>{if(m(e)!=="object"){return false}const t=u(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(p in e)&&!(d in e)};const k=kindOfTest("Date");const T=kindOfTest("File");const x=kindOfTest("Blob");const I=kindOfTest("FileList");const isStream=e=>isObject(e)&&w(e.pipe);const isFormData=e=>{let t;return e&&(typeof FormData==="function"&&e instanceof FormData||w(e.append)&&((t=m(e))==="formdata"||t==="object"&&w(e.toString)&&e.toString()==="[object FormData]"))};const N=kindOfTest("URLSearchParams");const[P,C,M,B]=["ReadableStream","Request","Response","Headers"].map(kindOfTest);const trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:i=false}={}){if(e===null||typeof e==="undefined"){return}let o;let a;if(typeof e!=="object"){e=[e]}if(g(e)){for(o=0,a=e.length;o<a;o++){t.call(null,e[o],o,e)}}else{const a=i?Object.getOwnPropertyNames(e):Object.keys(e);const l=a.length;let u;for(o=0;o<l;o++){u=a[o];t.call(null,e[u],u,e)}}}function findKey(e,t){t=t.toLowerCase();const i=Object.keys(e);let o=i.length;let a;while(o-- >0){a=i[o];if(t===a.toLowerCase()){return a}}return null}const j=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:global})();const isContextDefined=e=>!v(e)&&e!==j;function merge(){const{caseless:e}=isContextDefined(this)&&this||{};const t={};const assignValue=(i,o)=>{const a=e&&findKey(t,o)||o;if(isPlainObject(t[a])&&isPlainObject(i)){t[a]=merge(t[a],i)}else if(isPlainObject(i)){t[a]=merge({},i)}else if(g(i)){t[a]=i.slice()}else{t[a]=i}};for(let e=0,t=arguments.length;e<t;e++){arguments[e]&&forEach(arguments[e],assignValue)}return t}const extend=(e,t,i,{allOwnKeys:a}={})=>{forEach(t,(t,a)=>{if(i&&w(t)){e[a]=(0,o["default"])(t,i)}else{e[a]=t}},{allOwnKeys:a});return e};const stripBOM=e=>{if(e.charCodeAt(0)===65279){e=e.slice(1)}return e};const inherits=(e,t,i,o)=>{e.prototype=Object.create(t.prototype,o);e.prototype.constructor=e;Object.defineProperty(e,"super",{value:t.prototype});i&&Object.assign(e.prototype,i)};const toFlatObject=(e,t,i,o)=>{let a;let l;let d;const p={};t=t||{};if(e==null)return t;do{a=Object.getOwnPropertyNames(e);l=a.length;while(l-- >0){d=a[l];if((!o||o(d,e,t))&&!p[d]){t[d]=e[d];p[d]=true}}e=i!==false&&u(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t};const endsWith=(e,t,i)=>{e=String(e);if(i===undefined||i>e.length){i=e.length}i-=t.length;const o=e.indexOf(t,i);return o!==-1&&o===i};const toArray=e=>{if(!e)return null;if(g(e))return e;let t=e.length;if(!A(t))return null;const i=new Array(t);while(t-- >0){i[t]=e[t]}return i};const O=(e=>t=>e&&t instanceof e)(typeof Uint8Array!=="undefined"&&u(Uint8Array));const forEachEntry=(e,t)=>{const i=e&&e[d];const o=i.call(e);let a;while((a=o.next())&&!a.done){const i=a.value;t.call(e,i[0],i[1])}};const matchAll=(e,t)=>{let i;const o=[];while((i=e.exec(t))!==null){o.push(i)}return o};const D=kindOfTest("HTMLFormElement");const toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function replacer(e,t,i){return t.toUpperCase()+i});const L=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype);const F=kindOfTest("RegExp");const reduceDescriptors=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e);const o={};forEach(i,(i,a)=>{let l;if((l=t(i,a,e))!==false){o[a]=l||i}});Object.defineProperties(e,o)};const freezeMethods=e=>{reduceDescriptors(e,(t,i)=>{if(w(e)&&["arguments","caller","callee"].indexOf(i)!==-1){return false}const o=e[i];if(!w(o))return;t.enumerable=false;if("writable"in t){t.writable=false;return}if(!t.set){t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}}})};const toObjectSet=(e,t)=>{const i={};const define=e=>{e.forEach(e=>{i[e]=true})};g(e)?define(e):define(String(e).split(t));return i};const noop=()=>{};const toFiniteNumber=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function isSpecCompliantForm(e){return!!(e&&w(e.append)&&e[p]==="FormData"&&e[d])}const toJSONObject=e=>{const t=new Array(10);const visit=(e,i)=>{if(isObject(e)){if(t.indexOf(e)>=0){return}if(!("toJSON"in e)){t[i]=e;const o=g(e)?[]:{};forEach(e,(e,t)=>{const a=visit(e,i+1);!v(a)&&(o[t]=a)});t[i]=undefined;return o}}return e};return visit(e,0)};const U=kindOfTest("AsyncFunction");const isThenable=e=>e&&(isObject(e)||w(e))&&w(e.then)&&w(e.catch);const H=((e,t)=>{if(e){return setImmediate}return t?((e,t)=>{j.addEventListener("message",({source:i,data:o})=>{if(i===j&&o===e){t.length&&t.shift()()}},false);return i=>{t.push(i);j.postMessage(e,"*")}})(`axios@${Math.random()}`,[]):e=>setTimeout(e)})(typeof setImmediate==="function",w(j.postMessage));const q=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(j):typeof a!=="undefined"&&a.nextTick||H;const isIterable=e=>e!=null&&w(e[d]);const G={isArray:g,isArrayBuffer:y,isBuffer,isFormData,isArrayBufferView,isString:_,isNumber:A,isBoolean,isObject,isPlainObject,isReadableStream:P,isRequest:C,isResponse:M,isHeaders:B,isUndefined:v,isDate:k,isFile:T,isBlob:x,isRegExp:F,isFunction:w,isStream,isURLSearchParams:N,isTypedArray:O,isFileList:I,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf:m,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm:D,hasOwnProperty:L,hasOwnProp:L,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:j,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn:U,isThenable,setImmediate:H,asap:q,isIterable}},"../../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js":(e,t)=>{"use strict";t.byteLength=byteLength;t.toByteArray=toByteArray;t.fromByteArray=fromByteArray;var i=[];var o=[];var a=typeof Uint8Array!=="undefined"?Uint8Array:Array;var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var u=0,d=l.length;u<d;++u){i[u]=l[u];o[l.charCodeAt(u)]=u}o["-".charCodeAt(0)]=62;o["_".charCodeAt(0)]=63;function getLens(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var i=e.indexOf("=");if(i===-1)i=t;var o=i===t?0:4-i%4;return[i,o]}function byteLength(e){var t=getLens(e);var i=t[0];var o=t[1];return(i+o)*3/4-o}function _byteLength(e,t,i){return(t+i)*3/4-i}function toByteArray(e){var t;var i=getLens(e);var l=i[0];var u=i[1];var d=new a(_byteLength(e,l,u));var p=0;var m=u>0?l-4:l;var g;for(g=0;g<m;g+=4){t=o[e.charCodeAt(g)]<<18|o[e.charCodeAt(g+1)]<<12|o[e.charCodeAt(g+2)]<<6|o[e.charCodeAt(g+3)];d[p++]=t>>16&255;d[p++]=t>>8&255;d[p++]=t&255}if(u===2){t=o[e.charCodeAt(g)]<<2|o[e.charCodeAt(g+1)]>>4;d[p++]=t&255}if(u===1){t=o[e.charCodeAt(g)]<<10|o[e.charCodeAt(g+1)]<<4|o[e.charCodeAt(g+2)]>>2;d[p++]=t>>8&255;d[p++]=t&255}return d}function tripletToBase64(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[e&63]}function encodeChunk(e,t,i){var o;var a=[];for(var l=t;l<i;l+=3){o=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(e[l+2]&255);a.push(tripletToBase64(o))}return a.join("")}function fromByteArray(e){var t;var o=e.length;var a=o%3;var l=[];var u=16383;for(var d=0,p=o-a;d<p;d+=u){l.push(encodeChunk(e,d,d+u>p?p:d+u))}if(a===1){t=e[o-1];l.push(i[t>>2]+i[t<<4&63]+"==")}else if(a===2){t=(e[o-2]<<8)+e[o-1];l.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")}return l.join("")}},"../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js":function(e,t,i){e=i.nmd(e);(function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}function BN(e,t,i){if(BN.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){i=t;t=10}this._init(e||0,t||10,i||"be")}}if(typeof e==="object"){e.exports=BN}else{t.BN=BN}BN.BN=BN;BN.wordSize=26;var o;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){o=window.Buffer}else{o=i("?9344").Buffer}}catch(e){}BN.isBN=function isBN(e){if(e instanceof BN){return true}return e!==null&&typeof e==="object"&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)};BN.max=function max(e,t){if(e.cmp(t)>0)return e;return t};BN.min=function min(e,t){if(e.cmp(t)<0)return e;return t};BN.prototype._init=function init(e,t,i){if(typeof e==="number"){return this._initNumber(e,t,i)}if(typeof e==="object"){return this._initArray(e,t,i)}if(t==="hex"){t=16}assert(t===(t|0)&&t>=2&&t<=36);e=e.toString().replace(/\s+/g,"");var o=0;if(e[0]==="-"){o++;this.negative=1}if(o<e.length){if(t===16){this._parseHex(e,o,i)}else{this._parseBase(e,t,o);if(i==="le"){this._initArray(this.toArray(),t,i)}}}};BN.prototype._initNumber=function _initNumber(e,t,i){if(e<0){this.negative=1;e=-e}if(e<67108864){this.words=[e&67108863];this.length=1}else if(e<4503599627370496){this.words=[e&67108863,e/67108864&67108863];this.length=2}else{assert(e<9007199254740992);this.words=[e&67108863,e/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),t,i)};BN.prototype._initArray=function _initArray(e,t,i){assert(typeof e.length==="number");if(e.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a,l;var u=0;if(i==="be"){for(o=e.length-1,a=0;o>=0;o-=3){l=e[o]|e[o-1]<<8|e[o-2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}else if(i==="le"){for(o=0,a=0;o<e.length;o+=3){l=e[o]|e[o+1]<<8|e[o+2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}return this.strip()};function parseHex4Bits(e,t){var i=e.charCodeAt(t);if(i>=65&&i<=70){return i-55}else if(i>=97&&i<=102){return i-87}else{return i-48&15}}function parseHexByte(e,t,i){var o=parseHex4Bits(e,i);if(i-1>=t){o|=parseHex4Bits(e,i-1)<<4}return o}BN.prototype._parseHex=function _parseHex(e,t,i){this.length=Math.ceil((e.length-t)/6);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a=0;var l=0;var u;if(i==="be"){for(o=e.length-1;o>=t;o-=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}else{var d=e.length-t;for(o=d%2===0?t+1:t;o<e.length;o+=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}this.strip()};function parseBase(e,t,i,o){var a=0;var l=Math.min(e.length,i);for(var u=t;u<l;u++){var d=e.charCodeAt(u)-48;a*=o;if(d>=49){a+=d-49+10}else if(d>=17){a+=d-17+10}else{a+=d}}return a}BN.prototype._parseBase=function _parseBase(e,t,i){this.words=[0];this.length=1;for(var o=0,a=1;a<=67108863;a*=t){o++}o--;a=a/t|0;var l=e.length-i;var u=l%o;var d=Math.min(l,l-u)+i;var p=0;for(var m=i;m<d;m+=o){p=parseBase(e,m,m+o,t);this.imuln(a);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}if(u!==0){var g=1;p=parseBase(e,m,e.length,t);for(m=0;m<u;m++){g*=t}this.imuln(g);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}this.strip()};BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++){e.words[t]=this.words[t]}e.length=this.length;e.negative=this.negative;e.red=this.red};BN.prototype.clone=function clone(){var e=new BN(null);this.copy(e);return e};BN.prototype._expand=function _expand(e){while(this.length<e){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(e,t){e=e||10;t=t|0||1;var i;if(e===16||e==="hex"){i="";var o=0;var d=0;for(var p=0;p<this.length;p++){var m=this.words[p];var g=((m<<o|d)&16777215).toString(16);d=m>>>24-o&16777215;o+=2;if(o>=26){o-=26;p--}if(d!==0||p!==this.length-1){i=a[6-g.length]+g+i}else{i=g+i}}if(d!==0){i=d.toString(16)+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(e===(e|0)&&e>=2&&e<=36){var v=l[e];var y=u[e];i="";var _=this.clone();_.negative=0;while(!_.isZero()){var w=_.modn(y).toString(e);_=_.idivn(y);if(!_.isZero()){i=a[v-w.length]+w+i}else{i=w+i}}if(this.isZero()){i="0"+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var e=this.words[0];if(this.length===2){e+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){e+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-e:e};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(e,t){assert(typeof o!=="undefined");return this.toArrayLike(o,e,t)};BN.prototype.toArray=function toArray(e,t){return this.toArrayLike(Array,e,t)};BN.prototype.toArrayLike=function toArrayLike(e,t,i){var o=this.byteLength();var a=i||Math.max(1,o);assert(o<=a,"byte array longer than desired length");assert(a>0,"Requested array length <= 0");this.strip();var l=t==="le";var u=new e(a);var d,p;var m=this.clone();if(!l){for(p=0;p<a-o;p++){u[p]=0}for(p=0;!m.isZero();p++){d=m.andln(255);m.iushrn(8);u[a-p-1]=d}}else{for(p=0;!m.isZero();p++){d=m.andln(255);m.iushrn(8);u[p]=d}for(;p<a;p++){u[p]=0}}return u};if(Math.clz32){BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}}else{BN.prototype._countBits=function _countBits(e){var t=e;var i=0;if(t>=4096){i+=13;t>>>=13}if(t>=64){i+=7;t>>>=7}if(t>=8){i+=4;t>>>=4}if(t>=2){i+=2;t>>>=2}return i+t}}BN.prototype._zeroBits=function _zeroBits(e){if(e===0)return 26;var t=e;var i=0;if((t&8191)===0){i+=13;t>>>=13}if((t&127)===0){i+=7;t>>>=7}if((t&15)===0){i+=4;t>>>=4}if((t&3)===0){i+=2;t>>>=2}if((t&1)===0){i++}return i};BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1];var t=this._countBits(e);return(this.length-1)*26+t};function toBitArray(e){var t=new Array(e.bitLength());for(var i=0;i<t.length;i++){var o=i/26|0;var a=i%26;t[i]=(e.words[o]&1<<a)>>>a}return t}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var e=0;for(var t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);e+=i;if(i!==26)break}return e};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(e){if(this.negative!==0){return this.abs().inotn(e).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(e){if(this.testn(e-1)){return this.notn(e).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(e){while(this.length<e.length){this.words[this.length++]=0}for(var t=0;t<e.length;t++){this.words[t]=this.words[t]|e.words[t]}return this.strip()};BN.prototype.ior=function ior(e){assert((this.negative|e.negative)===0);return this.iuor(e)};BN.prototype.or=function or(e){if(this.length>e.length)return this.clone().ior(e);return e.clone().ior(this)};BN.prototype.uor=function uor(e){if(this.length>e.length)return this.clone().iuor(e);return e.clone().iuor(this)};BN.prototype.iuand=function iuand(e){var t;if(this.length>e.length){t=e}else{t=this}for(var i=0;i<t.length;i++){this.words[i]=this.words[i]&e.words[i]}this.length=t.length;return this.strip()};BN.prototype.iand=function iand(e){assert((this.negative|e.negative)===0);return this.iuand(e)};BN.prototype.and=function and(e){if(this.length>e.length)return this.clone().iand(e);return e.clone().iand(this)};BN.prototype.uand=function uand(e){if(this.length>e.length)return this.clone().iuand(e);return e.clone().iuand(this)};BN.prototype.iuxor=function iuxor(e){var t;var i;if(this.length>e.length){t=this;i=e}else{t=e;i=this}for(var o=0;o<i.length;o++){this.words[o]=t.words[o]^i.words[o]}if(this!==t){for(;o<t.length;o++){this.words[o]=t.words[o]}}this.length=t.length;return this.strip()};BN.prototype.ixor=function ixor(e){assert((this.negative|e.negative)===0);return this.iuxor(e)};BN.prototype.xor=function xor(e){if(this.length>e.length)return this.clone().ixor(e);return e.clone().ixor(this)};BN.prototype.uxor=function uxor(e){if(this.length>e.length)return this.clone().iuxor(e);return e.clone().iuxor(this)};BN.prototype.inotn=function inotn(e){assert(typeof e==="number"&&e>=0);var t=Math.ceil(e/26)|0;var i=e%26;this._expand(t);if(i>0){t--}for(var o=0;o<t;o++){this.words[o]=~this.words[o]&67108863}if(i>0){this.words[o]=~this.words[o]&67108863>>26-i}return this.strip()};BN.prototype.notn=function notn(e){return this.clone().inotn(e)};BN.prototype.setn=function setn(e,t){assert(typeof e==="number"&&e>=0);var i=e/26|0;var o=e%26;this._expand(i+1);if(t){this.words[i]=this.words[i]|1<<o}else{this.words[i]=this.words[i]&~(1<<o)}return this.strip()};BN.prototype.iadd=function iadd(e){var t;if(this.negative!==0&&e.negative===0){this.negative=0;t=this.isub(e);this.negative^=1;return this._normSign()}else if(this.negative===0&&e.negative!==0){e.negative=0;t=this.isub(e);e.negative=1;return t._normSign()}var i,o;if(this.length>e.length){i=this;o=e}else{i=e;o=this}var a=0;for(var l=0;l<o.length;l++){t=(i.words[l]|0)+(o.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}for(;a!==0&&l<i.length;l++){t=(i.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}this.length=i.length;if(a!==0){this.words[this.length]=a;this.length++}else if(i!==this){for(;l<i.length;l++){this.words[l]=i.words[l]}}return this};BN.prototype.add=function add(e){var t;if(e.negative!==0&&this.negative===0){e.negative=0;t=this.sub(e);e.negative^=1;return t}else if(e.negative===0&&this.negative!==0){this.negative=0;t=e.sub(this);this.negative=1;return t}if(this.length>e.length)return this.clone().iadd(e);return e.clone().iadd(this)};BN.prototype.isub=function isub(e){if(e.negative!==0){e.negative=0;var t=this.iadd(e);e.negative=1;return t._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(e);this.negative=1;return this._normSign()}var i=this.cmp(e);if(i===0){this.negative=0;this.length=1;this.words[0]=0;return this}var o,a;if(i>0){o=this;a=e}else{o=e;a=this}var l=0;for(var u=0;u<a.length;u++){t=(o.words[u]|0)-(a.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}for(;l!==0&&u<o.length;u++){t=(o.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}if(l===0&&u<o.length&&o!==this){for(;u<o.length;u++){this.words[u]=o.words[u]}}this.length=Math.max(this.length,u);if(o!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(e){return this.clone().isub(e)};function smallMulTo(e,t,i){i.negative=t.negative^e.negative;var o=e.length+t.length|0;i.length=o;o=o-1|0;var a=e.words[0]|0;var l=t.words[0]|0;var u=a*l;var d=u&67108863;var p=u/67108864|0;i.words[0]=d;for(var m=1;m<o;m++){var g=p>>>26;var v=p&67108863;var y=Math.min(m,t.length-1);for(var _=Math.max(0,m-e.length+1);_<=y;_++){var w=m-_|0;a=e.words[w]|0;l=t.words[_]|0;u=a*l+v;g+=u/67108864|0;v=u&67108863}i.words[m]=v|0;p=g|0}if(p!==0){i.words[m]=p|0}else{i.length--}return i.strip()}var d=function comb10MulTo(e,t,i){var o=e.words;var a=t.words;var l=i.words;var u=0;var d;var p;var m;var g=o[0]|0;var v=g&8191;var y=g>>>13;var _=o[1]|0;var w=_&8191;var A=_>>>13;var k=o[2]|0;var T=k&8191;var x=k>>>13;var I=o[3]|0;var N=I&8191;var P=I>>>13;var C=o[4]|0;var M=C&8191;var B=C>>>13;var j=o[5]|0;var O=j&8191;var D=j>>>13;var L=o[6]|0;var F=L&8191;var U=L>>>13;var H=o[7]|0;var q=H&8191;var G=H>>>13;var z=o[8]|0;var W=z&8191;var V=z>>>13;var Y=o[9]|0;var $=Y&8191;var J=Y>>>13;var Q=a[0]|0;var Z=Q&8191;var X=Q>>>13;var ee=a[1]|0;var te=ee&8191;var re=ee>>>13;var ne=a[2]|0;var se=ne&8191;var ie=ne>>>13;var oe=a[3]|0;var ae=oe&8191;var le=oe>>>13;var ce=a[4]|0;var ue=ce&8191;var de=ce>>>13;var he=a[5]|0;var pe=he&8191;var me=he>>>13;var ve=a[6]|0;var ye=ve&8191;var be=ve>>>13;var _e=a[7]|0;var we=_e&8191;var Ee=_e>>>13;var Ae=a[8]|0;var Se=Ae&8191;var ke=Ae>>>13;var Te=a[9]|0;var xe=Te&8191;var Ie=Te>>>13;i.negative=e.negative^t.negative;i.length=19;d=Math.imul(v,Z);p=Math.imul(v,X);p=p+Math.imul(y,Z)|0;m=Math.imul(y,X);var Ne=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;d=Math.imul(w,Z);p=Math.imul(w,X);p=p+Math.imul(A,Z)|0;m=Math.imul(A,X);d=d+Math.imul(v,te)|0;p=p+Math.imul(v,re)|0;p=p+Math.imul(y,te)|0;m=m+Math.imul(y,re)|0;var Pe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;d=Math.imul(T,Z);p=Math.imul(T,X);p=p+Math.imul(x,Z)|0;m=Math.imul(x,X);d=d+Math.imul(w,te)|0;p=p+Math.imul(w,re)|0;p=p+Math.imul(A,te)|0;m=m+Math.imul(A,re)|0;d=d+Math.imul(v,se)|0;p=p+Math.imul(v,ie)|0;p=p+Math.imul(y,se)|0;m=m+Math.imul(y,ie)|0;var Ce=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;d=Math.imul(N,Z);p=Math.imul(N,X);p=p+Math.imul(P,Z)|0;m=Math.imul(P,X);d=d+Math.imul(T,te)|0;p=p+Math.imul(T,re)|0;p=p+Math.imul(x,te)|0;m=m+Math.imul(x,re)|0;d=d+Math.imul(w,se)|0;p=p+Math.imul(w,ie)|0;p=p+Math.imul(A,se)|0;m=m+Math.imul(A,ie)|0;d=d+Math.imul(v,ae)|0;p=p+Math.imul(v,le)|0;p=p+Math.imul(y,ae)|0;m=m+Math.imul(y,le)|0;var Me=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Me>>>26)|0;Me&=67108863;d=Math.imul(M,Z);p=Math.imul(M,X);p=p+Math.imul(B,Z)|0;m=Math.imul(B,X);d=d+Math.imul(N,te)|0;p=p+Math.imul(N,re)|0;p=p+Math.imul(P,te)|0;m=m+Math.imul(P,re)|0;d=d+Math.imul(T,se)|0;p=p+Math.imul(T,ie)|0;p=p+Math.imul(x,se)|0;m=m+Math.imul(x,ie)|0;d=d+Math.imul(w,ae)|0;p=p+Math.imul(w,le)|0;p=p+Math.imul(A,ae)|0;m=m+Math.imul(A,le)|0;d=d+Math.imul(v,ue)|0;p=p+Math.imul(v,de)|0;p=p+Math.imul(y,ue)|0;m=m+Math.imul(y,de)|0;var Be=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Be>>>26)|0;Be&=67108863;d=Math.imul(O,Z);p=Math.imul(O,X);p=p+Math.imul(D,Z)|0;m=Math.imul(D,X);d=d+Math.imul(M,te)|0;p=p+Math.imul(M,re)|0;p=p+Math.imul(B,te)|0;m=m+Math.imul(B,re)|0;d=d+Math.imul(N,se)|0;p=p+Math.imul(N,ie)|0;p=p+Math.imul(P,se)|0;m=m+Math.imul(P,ie)|0;d=d+Math.imul(T,ae)|0;p=p+Math.imul(T,le)|0;p=p+Math.imul(x,ae)|0;m=m+Math.imul(x,le)|0;d=d+Math.imul(w,ue)|0;p=p+Math.imul(w,de)|0;p=p+Math.imul(A,ue)|0;m=m+Math.imul(A,de)|0;d=d+Math.imul(v,pe)|0;p=p+Math.imul(v,me)|0;p=p+Math.imul(y,pe)|0;m=m+Math.imul(y,me)|0;var Re=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Re>>>26)|0;Re&=67108863;d=Math.imul(F,Z);p=Math.imul(F,X);p=p+Math.imul(U,Z)|0;m=Math.imul(U,X);d=d+Math.imul(O,te)|0;p=p+Math.imul(O,re)|0;p=p+Math.imul(D,te)|0;m=m+Math.imul(D,re)|0;d=d+Math.imul(M,se)|0;p=p+Math.imul(M,ie)|0;p=p+Math.imul(B,se)|0;m=m+Math.imul(B,ie)|0;d=d+Math.imul(N,ae)|0;p=p+Math.imul(N,le)|0;p=p+Math.imul(P,ae)|0;m=m+Math.imul(P,le)|0;d=d+Math.imul(T,ue)|0;p=p+Math.imul(T,de)|0;p=p+Math.imul(x,ue)|0;m=m+Math.imul(x,de)|0;d=d+Math.imul(w,pe)|0;p=p+Math.imul(w,me)|0;p=p+Math.imul(A,pe)|0;m=m+Math.imul(A,me)|0;d=d+Math.imul(v,ye)|0;p=p+Math.imul(v,be)|0;p=p+Math.imul(y,ye)|0;m=m+Math.imul(y,be)|0;var je=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(je>>>26)|0;je&=67108863;d=Math.imul(q,Z);p=Math.imul(q,X);p=p+Math.imul(G,Z)|0;m=Math.imul(G,X);d=d+Math.imul(F,te)|0;p=p+Math.imul(F,re)|0;p=p+Math.imul(U,te)|0;m=m+Math.imul(U,re)|0;d=d+Math.imul(O,se)|0;p=p+Math.imul(O,ie)|0;p=p+Math.imul(D,se)|0;m=m+Math.imul(D,ie)|0;d=d+Math.imul(M,ae)|0;p=p+Math.imul(M,le)|0;p=p+Math.imul(B,ae)|0;m=m+Math.imul(B,le)|0;d=d+Math.imul(N,ue)|0;p=p+Math.imul(N,de)|0;p=p+Math.imul(P,ue)|0;m=m+Math.imul(P,de)|0;d=d+Math.imul(T,pe)|0;p=p+Math.imul(T,me)|0;p=p+Math.imul(x,pe)|0;m=m+Math.imul(x,me)|0;d=d+Math.imul(w,ye)|0;p=p+Math.imul(w,be)|0;p=p+Math.imul(A,ye)|0;m=m+Math.imul(A,be)|0;d=d+Math.imul(v,we)|0;p=p+Math.imul(v,Ee)|0;p=p+Math.imul(y,we)|0;m=m+Math.imul(y,Ee)|0;var Oe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Oe>>>26)|0;Oe&=67108863;d=Math.imul(W,Z);p=Math.imul(W,X);p=p+Math.imul(V,Z)|0;m=Math.imul(V,X);d=d+Math.imul(q,te)|0;p=p+Math.imul(q,re)|0;p=p+Math.imul(G,te)|0;m=m+Math.imul(G,re)|0;d=d+Math.imul(F,se)|0;p=p+Math.imul(F,ie)|0;p=p+Math.imul(U,se)|0;m=m+Math.imul(U,ie)|0;d=d+Math.imul(O,ae)|0;p=p+Math.imul(O,le)|0;p=p+Math.imul(D,ae)|0;m=m+Math.imul(D,le)|0;d=d+Math.imul(M,ue)|0;p=p+Math.imul(M,de)|0;p=p+Math.imul(B,ue)|0;m=m+Math.imul(B,de)|0;d=d+Math.imul(N,pe)|0;p=p+Math.imul(N,me)|0;p=p+Math.imul(P,pe)|0;m=m+Math.imul(P,me)|0;d=d+Math.imul(T,ye)|0;p=p+Math.imul(T,be)|0;p=p+Math.imul(x,ye)|0;m=m+Math.imul(x,be)|0;d=d+Math.imul(w,we)|0;p=p+Math.imul(w,Ee)|0;p=p+Math.imul(A,we)|0;m=m+Math.imul(A,Ee)|0;d=d+Math.imul(v,Se)|0;p=p+Math.imul(v,ke)|0;p=p+Math.imul(y,Se)|0;m=m+Math.imul(y,ke)|0;var De=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(De>>>26)|0;De&=67108863;d=Math.imul($,Z);p=Math.imul($,X);p=p+Math.imul(J,Z)|0;m=Math.imul(J,X);d=d+Math.imul(W,te)|0;p=p+Math.imul(W,re)|0;p=p+Math.imul(V,te)|0;m=m+Math.imul(V,re)|0;d=d+Math.imul(q,se)|0;p=p+Math.imul(q,ie)|0;p=p+Math.imul(G,se)|0;m=m+Math.imul(G,ie)|0;d=d+Math.imul(F,ae)|0;p=p+Math.imul(F,le)|0;p=p+Math.imul(U,ae)|0;m=m+Math.imul(U,le)|0;d=d+Math.imul(O,ue)|0;p=p+Math.imul(O,de)|0;p=p+Math.imul(D,ue)|0;m=m+Math.imul(D,de)|0;d=d+Math.imul(M,pe)|0;p=p+Math.imul(M,me)|0;p=p+Math.imul(B,pe)|0;m=m+Math.imul(B,me)|0;d=d+Math.imul(N,ye)|0;p=p+Math.imul(N,be)|0;p=p+Math.imul(P,ye)|0;m=m+Math.imul(P,be)|0;d=d+Math.imul(T,we)|0;p=p+Math.imul(T,Ee)|0;p=p+Math.imul(x,we)|0;m=m+Math.imul(x,Ee)|0;d=d+Math.imul(w,Se)|0;p=p+Math.imul(w,ke)|0;p=p+Math.imul(A,Se)|0;m=m+Math.imul(A,ke)|0;d=d+Math.imul(v,xe)|0;p=p+Math.imul(v,Ie)|0;p=p+Math.imul(y,xe)|0;m=m+Math.imul(y,Ie)|0;var Le=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Le>>>26)|0;Le&=67108863;d=Math.imul($,te);p=Math.imul($,re);p=p+Math.imul(J,te)|0;m=Math.imul(J,re);d=d+Math.imul(W,se)|0;p=p+Math.imul(W,ie)|0;p=p+Math.imul(V,se)|0;m=m+Math.imul(V,ie)|0;d=d+Math.imul(q,ae)|0;p=p+Math.imul(q,le)|0;p=p+Math.imul(G,ae)|0;m=m+Math.imul(G,le)|0;d=d+Math.imul(F,ue)|0;p=p+Math.imul(F,de)|0;p=p+Math.imul(U,ue)|0;m=m+Math.imul(U,de)|0;d=d+Math.imul(O,pe)|0;p=p+Math.imul(O,me)|0;p=p+Math.imul(D,pe)|0;m=m+Math.imul(D,me)|0;d=d+Math.imul(M,ye)|0;p=p+Math.imul(M,be)|0;p=p+Math.imul(B,ye)|0;m=m+Math.imul(B,be)|0;d=d+Math.imul(N,we)|0;p=p+Math.imul(N,Ee)|0;p=p+Math.imul(P,we)|0;m=m+Math.imul(P,Ee)|0;d=d+Math.imul(T,Se)|0;p=p+Math.imul(T,ke)|0;p=p+Math.imul(x,Se)|0;m=m+Math.imul(x,ke)|0;d=d+Math.imul(w,xe)|0;p=p+Math.imul(w,Ie)|0;p=p+Math.imul(A,xe)|0;m=m+Math.imul(A,Ie)|0;var Fe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Fe>>>26)|0;Fe&=67108863;d=Math.imul($,se);p=Math.imul($,ie);p=p+Math.imul(J,se)|0;m=Math.imul(J,ie);d=d+Math.imul(W,ae)|0;p=p+Math.imul(W,le)|0;p=p+Math.imul(V,ae)|0;m=m+Math.imul(V,le)|0;d=d+Math.imul(q,ue)|0;p=p+Math.imul(q,de)|0;p=p+Math.imul(G,ue)|0;m=m+Math.imul(G,de)|0;d=d+Math.imul(F,pe)|0;p=p+Math.imul(F,me)|0;p=p+Math.imul(U,pe)|0;m=m+Math.imul(U,me)|0;d=d+Math.imul(O,ye)|0;p=p+Math.imul(O,be)|0;p=p+Math.imul(D,ye)|0;m=m+Math.imul(D,be)|0;d=d+Math.imul(M,we)|0;p=p+Math.imul(M,Ee)|0;p=p+Math.imul(B,we)|0;m=m+Math.imul(B,Ee)|0;d=d+Math.imul(N,Se)|0;p=p+Math.imul(N,ke)|0;p=p+Math.imul(P,Se)|0;m=m+Math.imul(P,ke)|0;d=d+Math.imul(T,xe)|0;p=p+Math.imul(T,Ie)|0;p=p+Math.imul(x,xe)|0;m=m+Math.imul(x,Ie)|0;var Ue=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ue>>>26)|0;Ue&=67108863;d=Math.imul($,ae);p=Math.imul($,le);p=p+Math.imul(J,ae)|0;m=Math.imul(J,le);d=d+Math.imul(W,ue)|0;p=p+Math.imul(W,de)|0;p=p+Math.imul(V,ue)|0;m=m+Math.imul(V,de)|0;d=d+Math.imul(q,pe)|0;p=p+Math.imul(q,me)|0;p=p+Math.imul(G,pe)|0;m=m+Math.imul(G,me)|0;d=d+Math.imul(F,ye)|0;p=p+Math.imul(F,be)|0;p=p+Math.imul(U,ye)|0;m=m+Math.imul(U,be)|0;d=d+Math.imul(O,we)|0;p=p+Math.imul(O,Ee)|0;p=p+Math.imul(D,we)|0;m=m+Math.imul(D,Ee)|0;d=d+Math.imul(M,Se)|0;p=p+Math.imul(M,ke)|0;p=p+Math.imul(B,Se)|0;m=m+Math.imul(B,ke)|0;d=d+Math.imul(N,xe)|0;p=p+Math.imul(N,Ie)|0;p=p+Math.imul(P,xe)|0;m=m+Math.imul(P,Ie)|0;var Ke=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ke>>>26)|0;Ke&=67108863;d=Math.imul($,ue);p=Math.imul($,de);p=p+Math.imul(J,ue)|0;m=Math.imul(J,de);d=d+Math.imul(W,pe)|0;p=p+Math.imul(W,me)|0;p=p+Math.imul(V,pe)|0;m=m+Math.imul(V,me)|0;d=d+Math.imul(q,ye)|0;p=p+Math.imul(q,be)|0;p=p+Math.imul(G,ye)|0;m=m+Math.imul(G,be)|0;d=d+Math.imul(F,we)|0;p=p+Math.imul(F,Ee)|0;p=p+Math.imul(U,we)|0;m=m+Math.imul(U,Ee)|0;d=d+Math.imul(O,Se)|0;p=p+Math.imul(O,ke)|0;p=p+Math.imul(D,Se)|0;m=m+Math.imul(D,ke)|0;d=d+Math.imul(M,xe)|0;p=p+Math.imul(M,Ie)|0;p=p+Math.imul(B,xe)|0;m=m+Math.imul(B,Ie)|0;var He=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(He>>>26)|0;He&=67108863;d=Math.imul($,pe);p=Math.imul($,me);p=p+Math.imul(J,pe)|0;m=Math.imul(J,me);d=d+Math.imul(W,ye)|0;p=p+Math.imul(W,be)|0;p=p+Math.imul(V,ye)|0;m=m+Math.imul(V,be)|0;d=d+Math.imul(q,we)|0;p=p+Math.imul(q,Ee)|0;p=p+Math.imul(G,we)|0;m=m+Math.imul(G,Ee)|0;d=d+Math.imul(F,Se)|0;p=p+Math.imul(F,ke)|0;p=p+Math.imul(U,Se)|0;m=m+Math.imul(U,ke)|0;d=d+Math.imul(O,xe)|0;p=p+Math.imul(O,Ie)|0;p=p+Math.imul(D,xe)|0;m=m+Math.imul(D,Ie)|0;var qe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(qe>>>26)|0;qe&=67108863;d=Math.imul($,ye);p=Math.imul($,be);p=p+Math.imul(J,ye)|0;m=Math.imul(J,be);d=d+Math.imul(W,we)|0;p=p+Math.imul(W,Ee)|0;p=p+Math.imul(V,we)|0;m=m+Math.imul(V,Ee)|0;d=d+Math.imul(q,Se)|0;p=p+Math.imul(q,ke)|0;p=p+Math.imul(G,Se)|0;m=m+Math.imul(G,ke)|0;d=d+Math.imul(F,xe)|0;p=p+Math.imul(F,Ie)|0;p=p+Math.imul(U,xe)|0;m=m+Math.imul(U,Ie)|0;var Ge=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ge>>>26)|0;Ge&=67108863;d=Math.imul($,we);p=Math.imul($,Ee);p=p+Math.imul(J,we)|0;m=Math.imul(J,Ee);d=d+Math.imul(W,Se)|0;p=p+Math.imul(W,ke)|0;p=p+Math.imul(V,Se)|0;m=m+Math.imul(V,ke)|0;d=d+Math.imul(q,xe)|0;p=p+Math.imul(q,Ie)|0;p=p+Math.imul(G,xe)|0;m=m+Math.imul(G,Ie)|0;var ze=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(ze>>>26)|0;ze&=67108863;d=Math.imul($,Se);p=Math.imul($,ke);p=p+Math.imul(J,Se)|0;m=Math.imul(J,ke);d=d+Math.imul(W,xe)|0;p=p+Math.imul(W,Ie)|0;p=p+Math.imul(V,xe)|0;m=m+Math.imul(V,Ie)|0;var We=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(We>>>26)|0;We&=67108863;d=Math.imul($,xe);p=Math.imul($,Ie);p=p+Math.imul(J,xe)|0;m=Math.imul(J,Ie);var Ve=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ve>>>26)|0;Ve&=67108863;l[0]=Ne;l[1]=Pe;l[2]=Ce;l[3]=Me;l[4]=Be;l[5]=Re;l[6]=je;l[7]=Oe;l[8]=De;l[9]=Le;l[10]=Fe;l[11]=Ue;l[12]=Ke;l[13]=He;l[14]=qe;l[15]=Ge;l[16]=ze;l[17]=We;l[18]=Ve;if(u!==0){l[19]=u;i.length++}return i};if(!Math.imul){d=smallMulTo}function bigMulTo(e,t,i){i.negative=t.negative^e.negative;i.length=e.length+t.length;var o=0;var a=0;for(var l=0;l<i.length-1;l++){var u=a;a=0;var d=o&67108863;var p=Math.min(l,t.length-1);for(var m=Math.max(0,l-e.length+1);m<=p;m++){var g=l-m;var v=e.words[g]|0;var y=t.words[m]|0;var _=v*y;var w=_&67108863;u=u+(_/67108864|0)|0;w=w+d|0;d=w&67108863;u=u+(w>>>26)|0;a+=u>>>26;u&=67108863}i.words[l]=d;o=u;u=a}if(o!==0){i.words[l]=o}else{i.length--}return i.strip()}function jumboMulTo(e,t,i){var o=new FFTM;return o.mulp(e,t,i)}BN.prototype.mulTo=function mulTo(e,t){var i;var o=this.length+e.length;if(this.length===10&&e.length===10){i=d(this,e,t)}else if(o<63){i=smallMulTo(this,e,t)}else if(o<1024){i=bigMulTo(this,e,t)}else{i=jumboMulTo(this,e,t)}return i};function FFTM(e,t){this.x=e;this.y=t}FFTM.prototype.makeRBT=function makeRBT(e){var t=new Array(e);var i=BN.prototype._countBits(e)-1;for(var o=0;o<e;o++){t[o]=this.revBin(o,i,e)}return t};FFTM.prototype.revBin=function revBin(e,t,i){if(e===0||e===i-1)return e;var o=0;for(var a=0;a<t;a++){o|=(e&1)<<t-a-1;e>>=1}return o};FFTM.prototype.permute=function permute(e,t,i,o,a,l){for(var u=0;u<l;u++){o[u]=t[e[u]];a[u]=i[e[u]]}};FFTM.prototype.transform=function transform(e,t,i,o,a,l){this.permute(l,e,t,i,o,a);for(var u=1;u<a;u<<=1){var d=u<<1;var p=Math.cos(2*Math.PI/d);var m=Math.sin(2*Math.PI/d);for(var g=0;g<a;g+=d){var v=p;var y=m;for(var _=0;_<u;_++){var w=i[g+_];var A=o[g+_];var k=i[g+_+u];var T=o[g+_+u];var x=v*k-y*T;T=v*T+y*k;k=x;i[g+_]=w+k;o[g+_]=A+T;i[g+_+u]=w-k;o[g+_+u]=A-T;if(_!==d){x=p*v-m*y;y=p*y+m*v;v=x}}}}};FFTM.prototype.guessLen13b=function guessLen13b(e,t){var i=Math.max(t,e)|1;var o=i&1;var a=0;for(i=i/2|0;i;i=i>>>1){a++}return 1<<a+1+o};FFTM.prototype.conjugate=function conjugate(e,t,i){if(i<=1)return;for(var o=0;o<i/2;o++){var a=e[o];e[o]=e[i-o-1];e[i-o-1]=a;a=t[o];t[o]=-t[i-o-1];t[i-o-1]=-a}};FFTM.prototype.normalize13b=function normalize13b(e,t){var i=0;for(var o=0;o<t/2;o++){var a=Math.round(e[2*o+1]/t)*8192+Math.round(e[2*o]/t)+i;e[o]=a&67108863;if(a<67108864){i=0}else{i=a/67108864|0}}return e};FFTM.prototype.convert13b=function convert13b(e,t,i,o){var a=0;for(var l=0;l<t;l++){a=a+(e[l]|0);i[2*l]=a&8191;a=a>>>13;i[2*l+1]=a&8191;a=a>>>13}for(l=2*t;l<o;++l){i[l]=0}assert(a===0);assert((a&~8191)===0)};FFTM.prototype.stub=function stub(e){var t=new Array(e);for(var i=0;i<e;i++){t[i]=0}return t};FFTM.prototype.mulp=function mulp(e,t,i){var o=2*this.guessLen13b(e.length,t.length);var a=this.makeRBT(o);var l=this.stub(o);var u=new Array(o);var d=new Array(o);var p=new Array(o);var m=new Array(o);var g=new Array(o);var v=new Array(o);var y=i.words;y.length=o;this.convert13b(e.words,e.length,u,o);this.convert13b(t.words,t.length,m,o);this.transform(u,l,d,p,o,a);this.transform(m,l,g,v,o,a);for(var _=0;_<o;_++){var w=d[_]*g[_]-p[_]*v[_];p[_]=d[_]*v[_]+p[_]*g[_];d[_]=w}this.conjugate(d,p,o);this.transform(d,p,y,l,o,a);this.conjugate(y,l,o);this.normalize13b(y,o);i.negative=e.negative^t.negative;i.length=e.length+t.length;return i.strip()};BN.prototype.mul=function mul(e){var t=new BN(null);t.words=new Array(this.length+e.length);return this.mulTo(e,t)};BN.prototype.mulf=function mulf(e){var t=new BN(null);t.words=new Array(this.length+e.length);return jumboMulTo(this,e,t)};BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)};BN.prototype.imuln=function imuln(e){assert(typeof e==="number");assert(e<67108864);var t=0;for(var i=0;i<this.length;i++){var o=(this.words[i]|0)*e;var a=(o&67108863)+(t&67108863);t>>=26;t+=o/67108864|0;t+=a>>>26;this.words[i]=a&67108863}if(t!==0){this.words[i]=t;this.length++}return this};BN.prototype.muln=function muln(e){return this.clone().imuln(e)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(e){var t=toBitArray(e);if(t.length===0)return new BN(1);var i=this;for(var o=0;o<t.length;o++,i=i.sqr()){if(t[o]!==0)break}if(++o<t.length){for(var a=i.sqr();o<t.length;o++,a=a.sqr()){if(t[o]===0)continue;i=i.mul(a)}}return i};BN.prototype.iushln=function iushln(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=67108863>>>26-t<<26-t;var a;if(t!==0){var l=0;for(a=0;a<this.length;a++){var u=this.words[a]&o;var d=(this.words[a]|0)-u<<t;this.words[a]=d|l;l=u>>>26-t}if(l){this.words[a]=l;this.length++}}if(i!==0){for(a=this.length-1;a>=0;a--){this.words[a+i]=this.words[a]}for(a=0;a<i;a++){this.words[a]=0}this.length+=i}return this.strip()};BN.prototype.ishln=function ishln(e){assert(this.negative===0);return this.iushln(e)};BN.prototype.iushrn=function iushrn(e,t,i){assert(typeof e==="number"&&e>=0);var o;if(t){o=(t-t%26)/26}else{o=0}var a=e%26;var l=Math.min((e-a)/26,this.length);var u=67108863^67108863>>>a<<a;var d=i;o-=l;o=Math.max(0,o);if(d){for(var p=0;p<l;p++){d.words[p]=this.words[p]}d.length=l}if(l===0){}else if(this.length>l){this.length-=l;for(p=0;p<this.length;p++){this.words[p]=this.words[p+l]}}else{this.words[0]=0;this.length=1}var m=0;for(p=this.length-1;p>=0&&(m!==0||p>=o);p--){var g=this.words[p]|0;this.words[p]=m<<26-a|g>>>a;m=g&u}if(d&&m!==0){d.words[d.length++]=m}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(e,t,i){assert(this.negative===0);return this.iushrn(e,t,i)};BN.prototype.shln=function shln(e){return this.clone().ishln(e)};BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)};BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)};BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)};BN.prototype.testn=function testn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i)return false;var a=this.words[i];return!!(a&o)};BN.prototype.imaskn=function imaskn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(t!==0){i++}this.length=Math.min(i,this.length);if(t!==0){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this.strip()};BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)};BN.prototype.iaddn=function iaddn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.isubn(-e);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<e){this.words[0]=e-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(e);this.negative=1;return this}return this._iaddn(e)};BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++){this.words[t]-=67108864;if(t===this.length-1){this.words[t+1]=1}else{this.words[t+1]++}}this.length=Math.max(this.length,t+1);return this};BN.prototype.isubn=function isubn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.iaddn(-e);if(this.negative!==0){this.negative=0;this.iaddn(e);this.negative=1;return this}this.words[0]-=e;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var t=0;t<this.length&&this.words[t]<0;t++){this.words[t]+=67108864;this.words[t+1]-=1}}return this.strip()};BN.prototype.addn=function addn(e){return this.clone().iaddn(e)};BN.prototype.subn=function subn(e){return this.clone().isubn(e)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(e,t,i){var o=e.length+i;var a;this._expand(o);var l;var u=0;for(a=0;a<e.length;a++){l=(this.words[a+i]|0)+u;var d=(e.words[a]|0)*t;l-=d&67108863;u=(l>>26)-(d/67108864|0);this.words[a+i]=l&67108863}for(;a<this.length-i;a++){l=(this.words[a+i]|0)+u;u=l>>26;this.words[a+i]=l&67108863}if(u===0)return this.strip();assert(u===-1);u=0;for(a=0;a<this.length;a++){l=-(this.words[a]|0)+u;u=l>>26;this.words[a]=l&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(e,t){var i=this.length-e.length;var o=this.clone();var a=e;var l=a.words[a.length-1]|0;var u=this._countBits(l);i=26-u;if(i!==0){a=a.ushln(i);o.iushln(i);l=a.words[a.length-1]|0}var d=o.length-a.length;var p;if(t!=="mod"){p=new BN(null);p.length=d+1;p.words=new Array(p.length);for(var m=0;m<p.length;m++){p.words[m]=0}}var g=o.clone()._ishlnsubmul(a,1,d);if(g.negative===0){o=g;if(p){p.words[d]=1}}for(var v=d-1;v>=0;v--){var y=(o.words[a.length+v]|0)*67108864+(o.words[a.length+v-1]|0);y=Math.min(y/l|0,67108863);o._ishlnsubmul(a,y,v);while(o.negative!==0){y--;o.negative=0;o._ishlnsubmul(a,1,v);if(!o.isZero()){o.negative^=1}}if(p){p.words[v]=y}}if(p){p.strip()}o.strip();if(t!=="div"&&i!==0){o.iushrn(i)}return{div:p||null,mod:o}};BN.prototype.divmod=function divmod(e,t,i){assert(!e.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var o,a,l;if(this.negative!==0&&e.negative===0){l=this.neg().divmod(e,t);if(t!=="mod"){o=l.div.neg()}if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.iadd(e)}}return{div:o,mod:a}}if(this.negative===0&&e.negative!==0){l=this.divmod(e.neg(),t);if(t!=="mod"){o=l.div.neg()}return{div:o,mod:l.mod}}if((this.negative&e.negative)!==0){l=this.neg().divmod(e.neg(),t);if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.isub(e)}}return{div:l.div,mod:a}}if(e.length>this.length||this.cmp(e)<0){return{div:new BN(0),mod:this}}if(e.length===1){if(t==="div"){return{div:this.divn(e.words[0]),mod:null}}if(t==="mod"){return{div:null,mod:new BN(this.modn(e.words[0]))}}return{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}}return this._wordDiv(e,t)};BN.prototype.div=function div(e){return this.divmod(e,"div",false).div};BN.prototype.mod=function mod(e){return this.divmod(e,"mod",false).mod};BN.prototype.umod=function umod(e){return this.divmod(e,"mod",true).mod};BN.prototype.divRound=function divRound(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=t.div.negative!==0?t.mod.isub(e):t.mod;var o=e.ushrn(1);var a=e.andln(1);var l=i.cmp(o);if(l<0||a===1&&l===0)return t.div;return t.div.negative!==0?t.div.isubn(1):t.div.iaddn(1)};BN.prototype.modn=function modn(e){assert(e<=67108863);var t=(1<<26)%e;var i=0;for(var o=this.length-1;o>=0;o--){i=(t*i+(this.words[o]|0))%e}return i};BN.prototype.idivn=function idivn(e){assert(e<=67108863);var t=0;for(var i=this.length-1;i>=0;i--){var o=(this.words[i]|0)+t*67108864;this.words[i]=o/e|0;t=o%e}return this.strip()};BN.prototype.divn=function divn(e){return this.clone().idivn(e)};BN.prototype.egcd=function egcd(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=new BN(0);var u=new BN(1);var d=0;while(t.isEven()&&i.isEven()){t.iushrn(1);i.iushrn(1);++d}var p=i.clone();var m=t.clone();while(!t.isZero()){for(var g=0,v=1;(t.words[0]&v)===0&&g<26;++g,v<<=1);if(g>0){t.iushrn(g);while(g-- >0){if(o.isOdd()||a.isOdd()){o.iadd(p);a.isub(m)}o.iushrn(1);a.iushrn(1)}}for(var y=0,_=1;(i.words[0]&_)===0&&y<26;++y,_<<=1);if(y>0){i.iushrn(y);while(y-- >0){if(l.isOdd()||u.isOdd()){l.iadd(p);u.isub(m)}l.iushrn(1);u.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(l);a.isub(u)}else{i.isub(t);l.isub(o);u.isub(a)}}return{a:l,b:u,gcd:i.iushln(d)}};BN.prototype._invmp=function _invmp(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var u=0,d=1;(t.words[0]&d)===0&&u<26;++u,d<<=1);if(u>0){t.iushrn(u);while(u-- >0){if(o.isOdd()){o.iadd(l)}o.iushrn(1)}}for(var p=0,m=1;(i.words[0]&m)===0&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0){if(a.isOdd()){a.iadd(l)}a.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(a)}else{i.isub(t);a.isub(o)}}var g;if(t.cmpn(1)===0){g=o}else{g=a}if(g.cmpn(0)<0){g.iadd(e)}return g};BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone();var i=e.clone();t.negative=0;i.negative=0;for(var o=0;t.isEven()&&i.isEven();o++){t.iushrn(1);i.iushrn(1)}do{while(t.isEven()){t.iushrn(1)}while(i.isEven()){i.iushrn(1)}var a=t.cmp(i);if(a<0){var l=t;t=i;i=l}else if(a===0||i.cmpn(1)===0){break}t.isub(i)}while(true);return i.iushln(o)};BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(e){return this.words[0]&e};BN.prototype.bincn=function bincn(e){assert(typeof e==="number");var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i){this._expand(i+1);this.words[i]|=o;return this}var a=o;for(var l=i;a!==0&&l<this.length;l++){var u=this.words[l]|0;u+=a;a=u>>>26;u&=67108863;this.words[l]=u}if(a!==0){this.words[l]=a;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(e){var t=e<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;this.strip();var i;if(this.length>1){i=1}else{if(t){e=-e}assert(e<=67108863,"Number is too big");var o=this.words[0]|0;i=o===e?0:o<e?-1:1}if(this.negative!==0)return-i|0;return i};BN.prototype.cmp=function cmp(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var t=this.ucmp(e);if(this.negative!==0)return-t|0;return t};BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;var t=0;for(var i=this.length-1;i>=0;i--){var o=this.words[i]|0;var a=e.words[i]|0;if(o===a)continue;if(o<a){t=-1}else if(o>a){t=1}break}return t};BN.prototype.gtn=function gtn(e){return this.cmpn(e)===1};BN.prototype.gt=function gt(e){return this.cmp(e)===1};BN.prototype.gten=function gten(e){return this.cmpn(e)>=0};BN.prototype.gte=function gte(e){return this.cmp(e)>=0};BN.prototype.ltn=function ltn(e){return this.cmpn(e)===-1};BN.prototype.lt=function lt(e){return this.cmp(e)===-1};BN.prototype.lten=function lten(e){return this.cmpn(e)<=0};BN.prototype.lte=function lte(e){return this.cmp(e)<=0};BN.prototype.eqn=function eqn(e){return this.cmpn(e)===0};BN.prototype.eq=function eq(e){return this.cmp(e)===0};BN.red=function red(e){return new Red(e)};BN.prototype.toRed=function toRed(e){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return e.convertTo(this)._forceRed(e)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(e){this.red=e;return this};BN.prototype.forceRed=function forceRed(e){assert(!this.red,"Already a number in reduction context");return this._forceRed(e)};BN.prototype.redAdd=function redAdd(e){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};BN.prototype.redIAdd=function redIAdd(e){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};BN.prototype.redSub=function redSub(e){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};BN.prototype.redISub=function redISub(e){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};BN.prototype.redShl=function redShl(e){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};BN.prototype.redMul=function redMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};BN.prototype.redIMul=function redIMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(e){assert(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var p={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e;this.p=new BN(t,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);e.words=new Array(Math.ceil(this.n/13));return e};MPrime.prototype.ireduce=function ireduce(e){var t=e;var i;do{this.split(t,this.tmp);t=this.imulK(t);t=t.iadd(this.tmp);i=t.bitLength()}while(i>this.n);var o=i<this.n?-1:t.ucmp(this.p);if(o===0){t.words[0]=0;t.length=1}else if(o>0){t.isub(this.p)}else{if(t.strip!==undefined){t.strip()}else{t._strip()}}return t};MPrime.prototype.split=function split(e,t){e.iushrn(this.n,0,t)};MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(e,t){var i=4194303;var o=Math.min(e.length,9);for(var a=0;a<o;a++){t.words[a]=e.words[a]}t.length=o;if(e.length<=9){e.words[0]=0;e.length=1;return}var l=e.words[9];t.words[t.length++]=l&i;for(a=10;a<e.length;a++){var u=e.words[a]|0;e.words[a-10]=(u&i)<<4|l>>>22;l=u}l>>>=22;e.words[a-10]=l;if(l===0&&e.length>10){e.length-=10}else{e.length-=9}};K256.prototype.imulK=function imulK(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;var t=0;for(var i=0;i<e.length;i++){var o=e.words[i]|0;t+=o*977;e.words[i]=t&67108863;t=o*64+(t/67108864|0)}if(e.words[e.length-1]===0){e.length--;if(e.words[e.length-1]===0){e.length--}}return e};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(e){var t=0;for(var i=0;i<e.length;i++){var o=(e.words[i]|0)*19+t;var a=o&67108863;o>>>=26;e.words[i]=a;t=o}if(t!==0){e.words[e.length++]=t}return e};BN._prime=function prime(e){if(p[e])return p[e];var prime;if(e==="k256"){prime=new K256}else if(e==="p224"){prime=new P224}else if(e==="p192"){prime=new P192}else if(e==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+e)}p[e]=prime;return prime};function Red(e){if(typeof e==="string"){var t=BN._prime(e);this.m=t.p;this.prime=t}else{assert(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}Red.prototype._verify1=function _verify1(e){assert(e.negative===0,"red works only with positives");assert(e.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(e,t){assert((e.negative|t.negative)===0,"red works only with positives");assert(e.red&&e.red===t.red,"red works only with red numbers")};Red.prototype.imod=function imod(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);return e.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(e){if(e.isZero()){return e.clone()}return this.m.sub(e)._forceRed(this)};Red.prototype.add=function add(e,t){this._verify2(e,t);var i=e.add(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i._forceRed(this)};Red.prototype.iadd=function iadd(e,t){this._verify2(e,t);var i=e.iadd(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i};Red.prototype.sub=function sub(e,t){this._verify2(e,t);var i=e.sub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i._forceRed(this)};Red.prototype.isub=function isub(e,t){this._verify2(e,t);var i=e.isub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i};Red.prototype.shl=function shl(e,t){this._verify1(e);return this.imod(e.ushln(t))};Red.prototype.imul=function imul(e,t){this._verify2(e,t);return this.imod(e.imul(t))};Red.prototype.mul=function mul(e,t){this._verify2(e,t);return this.imod(e.mul(t))};Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())};Red.prototype.sqr=function sqr(e){return this.mul(e,e)};Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var t=this.m.andln(3);assert(t%2===1);if(t===3){var i=this.m.add(new BN(1)).iushrn(2);return this.pow(e,i)}var o=this.m.subn(1);var a=0;while(!o.isZero()&&o.andln(1)===0){a++;o.iushrn(1)}assert(!o.isZero());var l=new BN(1).toRed(this);var u=l.redNeg();var d=this.m.subn(1).iushrn(1);var p=this.m.bitLength();p=new BN(2*p*p).toRed(this);while(this.pow(p,d).cmp(u)!==0){p.redIAdd(u)}var m=this.pow(p,o);var g=this.pow(e,o.addn(1).iushrn(1));var v=this.pow(e,o);var y=a;while(v.cmp(l)!==0){var _=v;for(var w=0;_.cmp(l)!==0;w++){_=_.redSqr()}assert(w<y);var A=this.pow(m,new BN(1).iushln(y-w-1));g=g.redMul(A);m=A.redSqr();v=v.redMul(m);y=w}return g};Red.prototype.invm=function invm(e){var t=e._invmp(this.m);if(t.negative!==0){t.negative=0;return this.imod(t).redNeg()}else{return this.imod(t)}};Red.prototype.pow=function pow(e,t){if(t.isZero())return new BN(1).toRed(this);if(t.cmpn(1)===0)return e.clone();var i=4;var o=new Array(1<<i);o[0]=new BN(1).toRed(this);o[1]=e;for(var a=2;a<o.length;a++){o[a]=this.mul(o[a-1],e)}var l=o[0];var u=0;var d=0;var p=t.bitLength()%26;if(p===0){p=26}for(a=t.length-1;a>=0;a--){var m=t.words[a];for(var g=p-1;g>=0;g--){var v=m>>g&1;if(l!==o[0]){l=this.sqr(l)}if(v===0&&u===0){d=0;continue}u<<=1;u|=v;d++;if(d!==i&&(a!==0||g!==0))continue;l=this.mul(l,o[u]);d=0;u=0}p=26}return l};Red.prototype.convertTo=function convertTo(e){var t=e.umod(this.m);return t===e?t.clone():t};Red.prototype.convertFrom=function convertFrom(e){var t=e.clone();t.red=null;return t};BN.mont=function mont(e){return new Mont(e)};function Mont(e){Red.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(e){var t=this.imod(e.mul(this.rinv));t.red=null;return t};Mont.prototype.imul=function imul(e,t){if(e.isZero()||t.isZero()){e.words[0]=0;e.length=1;return e}var i=e.imul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.mul=function mul(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var i=e.mul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.invm=function invm(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(false||e,this)},"../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js":function(e,t,i){e=i.nmd(e);(function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}function BN(e,t,i){if(BN.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){i=t;t=10}this._init(e||0,t||10,i||"be")}}if(typeof e==="object"){e.exports=BN}else{t.BN=BN}BN.BN=BN;BN.wordSize=26;var o;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){o=window.Buffer}else{o=i("?1ba8").Buffer}}catch(e){}BN.isBN=function isBN(e){if(e instanceof BN){return true}return e!==null&&typeof e==="object"&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)};BN.max=function max(e,t){if(e.cmp(t)>0)return e;return t};BN.min=function min(e,t){if(e.cmp(t)<0)return e;return t};BN.prototype._init=function init(e,t,i){if(typeof e==="number"){return this._initNumber(e,t,i)}if(typeof e==="object"){return this._initArray(e,t,i)}if(t==="hex"){t=16}assert(t===(t|0)&&t>=2&&t<=36);e=e.toString().replace(/\s+/g,"");var o=0;if(e[0]==="-"){o++;this.negative=1}if(o<e.length){if(t===16){this._parseHex(e,o,i)}else{this._parseBase(e,t,o);if(i==="le"){this._initArray(this.toArray(),t,i)}}}};BN.prototype._initNumber=function _initNumber(e,t,i){if(e<0){this.negative=1;e=-e}if(e<67108864){this.words=[e&67108863];this.length=1}else if(e<4503599627370496){this.words=[e&67108863,e/67108864&67108863];this.length=2}else{assert(e<9007199254740992);this.words=[e&67108863,e/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),t,i)};BN.prototype._initArray=function _initArray(e,t,i){assert(typeof e.length==="number");if(e.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a,l;var u=0;if(i==="be"){for(o=e.length-1,a=0;o>=0;o-=3){l=e[o]|e[o-1]<<8|e[o-2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}else if(i==="le"){for(o=0,a=0;o<e.length;o+=3){l=e[o]|e[o+1]<<8|e[o+2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}return this.strip()};function parseHex4Bits(e,t){var i=e.charCodeAt(t);if(i>=65&&i<=70){return i-55}else if(i>=97&&i<=102){return i-87}else{return i-48&15}}function parseHexByte(e,t,i){var o=parseHex4Bits(e,i);if(i-1>=t){o|=parseHex4Bits(e,i-1)<<4}return o}BN.prototype._parseHex=function _parseHex(e,t,i){this.length=Math.ceil((e.length-t)/6);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a=0;var l=0;var u;if(i==="be"){for(o=e.length-1;o>=t;o-=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}else{var d=e.length-t;for(o=d%2===0?t+1:t;o<e.length;o+=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}this.strip()};function parseBase(e,t,i,o){var a=0;var l=Math.min(e.length,i);for(var u=t;u<l;u++){var d=e.charCodeAt(u)-48;a*=o;if(d>=49){a+=d-49+10}else if(d>=17){a+=d-17+10}else{a+=d}}return a}BN.prototype._parseBase=function _parseBase(e,t,i){this.words=[0];this.length=1;for(var o=0,a=1;a<=67108863;a*=t){o++}o--;a=a/t|0;var l=e.length-i;var u=l%o;var d=Math.min(l,l-u)+i;var p=0;for(var m=i;m<d;m+=o){p=parseBase(e,m,m+o,t);this.imuln(a);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}if(u!==0){var g=1;p=parseBase(e,m,e.length,t);for(m=0;m<u;m++){g*=t}this.imuln(g);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}this.strip()};BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++){e.words[t]=this.words[t]}e.length=this.length;e.negative=this.negative;e.red=this.red};BN.prototype.clone=function clone(){var e=new BN(null);this.copy(e);return e};BN.prototype._expand=function _expand(e){while(this.length<e){this.words[this.length++]=0}return this};BN.prototype.strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(e,t){e=e||10;t=t|0||1;var i;if(e===16||e==="hex"){i="";var o=0;var d=0;for(var p=0;p<this.length;p++){var m=this.words[p];var g=((m<<o|d)&16777215).toString(16);d=m>>>24-o&16777215;o+=2;if(o>=26){o-=26;p--}if(d!==0||p!==this.length-1){i=a[6-g.length]+g+i}else{i=g+i}}if(d!==0){i=d.toString(16)+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(e===(e|0)&&e>=2&&e<=36){var v=l[e];var y=u[e];i="";var _=this.clone();_.negative=0;while(!_.isZero()){var w=_.modn(y).toString(e);_=_.idivn(y);if(!_.isZero()){i=a[v-w.length]+w+i}else{i=w+i}}if(this.isZero()){i="0"+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var e=this.words[0];if(this.length===2){e+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){e+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-e:e};BN.prototype.toJSON=function toJSON(){return this.toString(16)};BN.prototype.toBuffer=function toBuffer(e,t){assert(typeof o!=="undefined");return this.toArrayLike(o,e,t)};BN.prototype.toArray=function toArray(e,t){return this.toArrayLike(Array,e,t)};BN.prototype.toArrayLike=function toArrayLike(e,t,i){var o=this.byteLength();var a=i||Math.max(1,o);assert(o<=a,"byte array longer than desired length");assert(a>0,"Requested array length <= 0");this.strip();var l=t==="le";var u=new e(a);var d,p;var m=this.clone();if(!l){for(p=0;p<a-o;p++){u[p]=0}for(p=0;!m.isZero();p++){d=m.andln(255);m.iushrn(8);u[a-p-1]=d}}else{for(p=0;!m.isZero();p++){d=m.andln(255);m.iushrn(8);u[p]=d}for(;p<a;p++){u[p]=0}}return u};if(Math.clz32){BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}}else{BN.prototype._countBits=function _countBits(e){var t=e;var i=0;if(t>=4096){i+=13;t>>>=13}if(t>=64){i+=7;t>>>=7}if(t>=8){i+=4;t>>>=4}if(t>=2){i+=2;t>>>=2}return i+t}}BN.prototype._zeroBits=function _zeroBits(e){if(e===0)return 26;var t=e;var i=0;if((t&8191)===0){i+=13;t>>>=13}if((t&127)===0){i+=7;t>>>=7}if((t&15)===0){i+=4;t>>>=4}if((t&3)===0){i+=2;t>>>=2}if((t&1)===0){i++}return i};BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1];var t=this._countBits(e);return(this.length-1)*26+t};function toBitArray(e){var t=new Array(e.bitLength());for(var i=0;i<t.length;i++){var o=i/26|0;var a=i%26;t[i]=(e.words[o]&1<<a)>>>a}return t}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var e=0;for(var t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);e+=i;if(i!==26)break}return e};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(e){if(this.negative!==0){return this.abs().inotn(e).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(e){if(this.testn(e-1)){return this.notn(e).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(e){while(this.length<e.length){this.words[this.length++]=0}for(var t=0;t<e.length;t++){this.words[t]=this.words[t]|e.words[t]}return this.strip()};BN.prototype.ior=function ior(e){assert((this.negative|e.negative)===0);return this.iuor(e)};BN.prototype.or=function or(e){if(this.length>e.length)return this.clone().ior(e);return e.clone().ior(this)};BN.prototype.uor=function uor(e){if(this.length>e.length)return this.clone().iuor(e);return e.clone().iuor(this)};BN.prototype.iuand=function iuand(e){var t;if(this.length>e.length){t=e}else{t=this}for(var i=0;i<t.length;i++){this.words[i]=this.words[i]&e.words[i]}this.length=t.length;return this.strip()};BN.prototype.iand=function iand(e){assert((this.negative|e.negative)===0);return this.iuand(e)};BN.prototype.and=function and(e){if(this.length>e.length)return this.clone().iand(e);return e.clone().iand(this)};BN.prototype.uand=function uand(e){if(this.length>e.length)return this.clone().iuand(e);return e.clone().iuand(this)};BN.prototype.iuxor=function iuxor(e){var t;var i;if(this.length>e.length){t=this;i=e}else{t=e;i=this}for(var o=0;o<i.length;o++){this.words[o]=t.words[o]^i.words[o]}if(this!==t){for(;o<t.length;o++){this.words[o]=t.words[o]}}this.length=t.length;return this.strip()};BN.prototype.ixor=function ixor(e){assert((this.negative|e.negative)===0);return this.iuxor(e)};BN.prototype.xor=function xor(e){if(this.length>e.length)return this.clone().ixor(e);return e.clone().ixor(this)};BN.prototype.uxor=function uxor(e){if(this.length>e.length)return this.clone().iuxor(e);return e.clone().iuxor(this)};BN.prototype.inotn=function inotn(e){assert(typeof e==="number"&&e>=0);var t=Math.ceil(e/26)|0;var i=e%26;this._expand(t);if(i>0){t--}for(var o=0;o<t;o++){this.words[o]=~this.words[o]&67108863}if(i>0){this.words[o]=~this.words[o]&67108863>>26-i}return this.strip()};BN.prototype.notn=function notn(e){return this.clone().inotn(e)};BN.prototype.setn=function setn(e,t){assert(typeof e==="number"&&e>=0);var i=e/26|0;var o=e%26;this._expand(i+1);if(t){this.words[i]=this.words[i]|1<<o}else{this.words[i]=this.words[i]&~(1<<o)}return this.strip()};BN.prototype.iadd=function iadd(e){var t;if(this.negative!==0&&e.negative===0){this.negative=0;t=this.isub(e);this.negative^=1;return this._normSign()}else if(this.negative===0&&e.negative!==0){e.negative=0;t=this.isub(e);e.negative=1;return t._normSign()}var i,o;if(this.length>e.length){i=this;o=e}else{i=e;o=this}var a=0;for(var l=0;l<o.length;l++){t=(i.words[l]|0)+(o.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}for(;a!==0&&l<i.length;l++){t=(i.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}this.length=i.length;if(a!==0){this.words[this.length]=a;this.length++}else if(i!==this){for(;l<i.length;l++){this.words[l]=i.words[l]}}return this};BN.prototype.add=function add(e){var t;if(e.negative!==0&&this.negative===0){e.negative=0;t=this.sub(e);e.negative^=1;return t}else if(e.negative===0&&this.negative!==0){this.negative=0;t=e.sub(this);this.negative=1;return t}if(this.length>e.length)return this.clone().iadd(e);return e.clone().iadd(this)};BN.prototype.isub=function isub(e){if(e.negative!==0){e.negative=0;var t=this.iadd(e);e.negative=1;return t._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(e);this.negative=1;return this._normSign()}var i=this.cmp(e);if(i===0){this.negative=0;this.length=1;this.words[0]=0;return this}var o,a;if(i>0){o=this;a=e}else{o=e;a=this}var l=0;for(var u=0;u<a.length;u++){t=(o.words[u]|0)-(a.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}for(;l!==0&&u<o.length;u++){t=(o.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}if(l===0&&u<o.length&&o!==this){for(;u<o.length;u++){this.words[u]=o.words[u]}}this.length=Math.max(this.length,u);if(o!==this){this.negative=1}return this.strip()};BN.prototype.sub=function sub(e){return this.clone().isub(e)};function smallMulTo(e,t,i){i.negative=t.negative^e.negative;var o=e.length+t.length|0;i.length=o;o=o-1|0;var a=e.words[0]|0;var l=t.words[0]|0;var u=a*l;var d=u&67108863;var p=u/67108864|0;i.words[0]=d;for(var m=1;m<o;m++){var g=p>>>26;var v=p&67108863;var y=Math.min(m,t.length-1);for(var _=Math.max(0,m-e.length+1);_<=y;_++){var w=m-_|0;a=e.words[w]|0;l=t.words[_]|0;u=a*l+v;g+=u/67108864|0;v=u&67108863}i.words[m]=v|0;p=g|0}if(p!==0){i.words[m]=p|0}else{i.length--}return i.strip()}var d=function comb10MulTo(e,t,i){var o=e.words;var a=t.words;var l=i.words;var u=0;var d;var p;var m;var g=o[0]|0;var v=g&8191;var y=g>>>13;var _=o[1]|0;var w=_&8191;var A=_>>>13;var k=o[2]|0;var T=k&8191;var x=k>>>13;var I=o[3]|0;var N=I&8191;var P=I>>>13;var C=o[4]|0;var M=C&8191;var B=C>>>13;var j=o[5]|0;var O=j&8191;var D=j>>>13;var L=o[6]|0;var F=L&8191;var U=L>>>13;var H=o[7]|0;var q=H&8191;var G=H>>>13;var z=o[8]|0;var W=z&8191;var V=z>>>13;var Y=o[9]|0;var $=Y&8191;var J=Y>>>13;var Q=a[0]|0;var Z=Q&8191;var X=Q>>>13;var ee=a[1]|0;var te=ee&8191;var re=ee>>>13;var ne=a[2]|0;var se=ne&8191;var ie=ne>>>13;var oe=a[3]|0;var ae=oe&8191;var le=oe>>>13;var ce=a[4]|0;var ue=ce&8191;var de=ce>>>13;var he=a[5]|0;var pe=he&8191;var me=he>>>13;var ve=a[6]|0;var ye=ve&8191;var be=ve>>>13;var _e=a[7]|0;var we=_e&8191;var Ee=_e>>>13;var Ae=a[8]|0;var Se=Ae&8191;var ke=Ae>>>13;var Te=a[9]|0;var xe=Te&8191;var Ie=Te>>>13;i.negative=e.negative^t.negative;i.length=19;d=Math.imul(v,Z);p=Math.imul(v,X);p=p+Math.imul(y,Z)|0;m=Math.imul(y,X);var Ne=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;d=Math.imul(w,Z);p=Math.imul(w,X);p=p+Math.imul(A,Z)|0;m=Math.imul(A,X);d=d+Math.imul(v,te)|0;p=p+Math.imul(v,re)|0;p=p+Math.imul(y,te)|0;m=m+Math.imul(y,re)|0;var Pe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;d=Math.imul(T,Z);p=Math.imul(T,X);p=p+Math.imul(x,Z)|0;m=Math.imul(x,X);d=d+Math.imul(w,te)|0;p=p+Math.imul(w,re)|0;p=p+Math.imul(A,te)|0;m=m+Math.imul(A,re)|0;d=d+Math.imul(v,se)|0;p=p+Math.imul(v,ie)|0;p=p+Math.imul(y,se)|0;m=m+Math.imul(y,ie)|0;var Ce=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;d=Math.imul(N,Z);p=Math.imul(N,X);p=p+Math.imul(P,Z)|0;m=Math.imul(P,X);d=d+Math.imul(T,te)|0;p=p+Math.imul(T,re)|0;p=p+Math.imul(x,te)|0;m=m+Math.imul(x,re)|0;d=d+Math.imul(w,se)|0;p=p+Math.imul(w,ie)|0;p=p+Math.imul(A,se)|0;m=m+Math.imul(A,ie)|0;d=d+Math.imul(v,ae)|0;p=p+Math.imul(v,le)|0;p=p+Math.imul(y,ae)|0;m=m+Math.imul(y,le)|0;var Me=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Me>>>26)|0;Me&=67108863;d=Math.imul(M,Z);p=Math.imul(M,X);p=p+Math.imul(B,Z)|0;m=Math.imul(B,X);d=d+Math.imul(N,te)|0;p=p+Math.imul(N,re)|0;p=p+Math.imul(P,te)|0;m=m+Math.imul(P,re)|0;d=d+Math.imul(T,se)|0;p=p+Math.imul(T,ie)|0;p=p+Math.imul(x,se)|0;m=m+Math.imul(x,ie)|0;d=d+Math.imul(w,ae)|0;p=p+Math.imul(w,le)|0;p=p+Math.imul(A,ae)|0;m=m+Math.imul(A,le)|0;d=d+Math.imul(v,ue)|0;p=p+Math.imul(v,de)|0;p=p+Math.imul(y,ue)|0;m=m+Math.imul(y,de)|0;var Be=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Be>>>26)|0;Be&=67108863;d=Math.imul(O,Z);p=Math.imul(O,X);p=p+Math.imul(D,Z)|0;m=Math.imul(D,X);d=d+Math.imul(M,te)|0;p=p+Math.imul(M,re)|0;p=p+Math.imul(B,te)|0;m=m+Math.imul(B,re)|0;d=d+Math.imul(N,se)|0;p=p+Math.imul(N,ie)|0;p=p+Math.imul(P,se)|0;m=m+Math.imul(P,ie)|0;d=d+Math.imul(T,ae)|0;p=p+Math.imul(T,le)|0;p=p+Math.imul(x,ae)|0;m=m+Math.imul(x,le)|0;d=d+Math.imul(w,ue)|0;p=p+Math.imul(w,de)|0;p=p+Math.imul(A,ue)|0;m=m+Math.imul(A,de)|0;d=d+Math.imul(v,pe)|0;p=p+Math.imul(v,me)|0;p=p+Math.imul(y,pe)|0;m=m+Math.imul(y,me)|0;var Re=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Re>>>26)|0;Re&=67108863;d=Math.imul(F,Z);p=Math.imul(F,X);p=p+Math.imul(U,Z)|0;m=Math.imul(U,X);d=d+Math.imul(O,te)|0;p=p+Math.imul(O,re)|0;p=p+Math.imul(D,te)|0;m=m+Math.imul(D,re)|0;d=d+Math.imul(M,se)|0;p=p+Math.imul(M,ie)|0;p=p+Math.imul(B,se)|0;m=m+Math.imul(B,ie)|0;d=d+Math.imul(N,ae)|0;p=p+Math.imul(N,le)|0;p=p+Math.imul(P,ae)|0;m=m+Math.imul(P,le)|0;d=d+Math.imul(T,ue)|0;p=p+Math.imul(T,de)|0;p=p+Math.imul(x,ue)|0;m=m+Math.imul(x,de)|0;d=d+Math.imul(w,pe)|0;p=p+Math.imul(w,me)|0;p=p+Math.imul(A,pe)|0;m=m+Math.imul(A,me)|0;d=d+Math.imul(v,ye)|0;p=p+Math.imul(v,be)|0;p=p+Math.imul(y,ye)|0;m=m+Math.imul(y,be)|0;var je=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(je>>>26)|0;je&=67108863;d=Math.imul(q,Z);p=Math.imul(q,X);p=p+Math.imul(G,Z)|0;m=Math.imul(G,X);d=d+Math.imul(F,te)|0;p=p+Math.imul(F,re)|0;p=p+Math.imul(U,te)|0;m=m+Math.imul(U,re)|0;d=d+Math.imul(O,se)|0;p=p+Math.imul(O,ie)|0;p=p+Math.imul(D,se)|0;m=m+Math.imul(D,ie)|0;d=d+Math.imul(M,ae)|0;p=p+Math.imul(M,le)|0;p=p+Math.imul(B,ae)|0;m=m+Math.imul(B,le)|0;d=d+Math.imul(N,ue)|0;p=p+Math.imul(N,de)|0;p=p+Math.imul(P,ue)|0;m=m+Math.imul(P,de)|0;d=d+Math.imul(T,pe)|0;p=p+Math.imul(T,me)|0;p=p+Math.imul(x,pe)|0;m=m+Math.imul(x,me)|0;d=d+Math.imul(w,ye)|0;p=p+Math.imul(w,be)|0;p=p+Math.imul(A,ye)|0;m=m+Math.imul(A,be)|0;d=d+Math.imul(v,we)|0;p=p+Math.imul(v,Ee)|0;p=p+Math.imul(y,we)|0;m=m+Math.imul(y,Ee)|0;var Oe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Oe>>>26)|0;Oe&=67108863;d=Math.imul(W,Z);p=Math.imul(W,X);p=p+Math.imul(V,Z)|0;m=Math.imul(V,X);d=d+Math.imul(q,te)|0;p=p+Math.imul(q,re)|0;p=p+Math.imul(G,te)|0;m=m+Math.imul(G,re)|0;d=d+Math.imul(F,se)|0;p=p+Math.imul(F,ie)|0;p=p+Math.imul(U,se)|0;m=m+Math.imul(U,ie)|0;d=d+Math.imul(O,ae)|0;p=p+Math.imul(O,le)|0;p=p+Math.imul(D,ae)|0;m=m+Math.imul(D,le)|0;d=d+Math.imul(M,ue)|0;p=p+Math.imul(M,de)|0;p=p+Math.imul(B,ue)|0;m=m+Math.imul(B,de)|0;d=d+Math.imul(N,pe)|0;p=p+Math.imul(N,me)|0;p=p+Math.imul(P,pe)|0;m=m+Math.imul(P,me)|0;d=d+Math.imul(T,ye)|0;p=p+Math.imul(T,be)|0;p=p+Math.imul(x,ye)|0;m=m+Math.imul(x,be)|0;d=d+Math.imul(w,we)|0;p=p+Math.imul(w,Ee)|0;p=p+Math.imul(A,we)|0;m=m+Math.imul(A,Ee)|0;d=d+Math.imul(v,Se)|0;p=p+Math.imul(v,ke)|0;p=p+Math.imul(y,Se)|0;m=m+Math.imul(y,ke)|0;var De=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(De>>>26)|0;De&=67108863;d=Math.imul($,Z);p=Math.imul($,X);p=p+Math.imul(J,Z)|0;m=Math.imul(J,X);d=d+Math.imul(W,te)|0;p=p+Math.imul(W,re)|0;p=p+Math.imul(V,te)|0;m=m+Math.imul(V,re)|0;d=d+Math.imul(q,se)|0;p=p+Math.imul(q,ie)|0;p=p+Math.imul(G,se)|0;m=m+Math.imul(G,ie)|0;d=d+Math.imul(F,ae)|0;p=p+Math.imul(F,le)|0;p=p+Math.imul(U,ae)|0;m=m+Math.imul(U,le)|0;d=d+Math.imul(O,ue)|0;p=p+Math.imul(O,de)|0;p=p+Math.imul(D,ue)|0;m=m+Math.imul(D,de)|0;d=d+Math.imul(M,pe)|0;p=p+Math.imul(M,me)|0;p=p+Math.imul(B,pe)|0;m=m+Math.imul(B,me)|0;d=d+Math.imul(N,ye)|0;p=p+Math.imul(N,be)|0;p=p+Math.imul(P,ye)|0;m=m+Math.imul(P,be)|0;d=d+Math.imul(T,we)|0;p=p+Math.imul(T,Ee)|0;p=p+Math.imul(x,we)|0;m=m+Math.imul(x,Ee)|0;d=d+Math.imul(w,Se)|0;p=p+Math.imul(w,ke)|0;p=p+Math.imul(A,Se)|0;m=m+Math.imul(A,ke)|0;d=d+Math.imul(v,xe)|0;p=p+Math.imul(v,Ie)|0;p=p+Math.imul(y,xe)|0;m=m+Math.imul(y,Ie)|0;var Le=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Le>>>26)|0;Le&=67108863;d=Math.imul($,te);p=Math.imul($,re);p=p+Math.imul(J,te)|0;m=Math.imul(J,re);d=d+Math.imul(W,se)|0;p=p+Math.imul(W,ie)|0;p=p+Math.imul(V,se)|0;m=m+Math.imul(V,ie)|0;d=d+Math.imul(q,ae)|0;p=p+Math.imul(q,le)|0;p=p+Math.imul(G,ae)|0;m=m+Math.imul(G,le)|0;d=d+Math.imul(F,ue)|0;p=p+Math.imul(F,de)|0;p=p+Math.imul(U,ue)|0;m=m+Math.imul(U,de)|0;d=d+Math.imul(O,pe)|0;p=p+Math.imul(O,me)|0;p=p+Math.imul(D,pe)|0;m=m+Math.imul(D,me)|0;d=d+Math.imul(M,ye)|0;p=p+Math.imul(M,be)|0;p=p+Math.imul(B,ye)|0;m=m+Math.imul(B,be)|0;d=d+Math.imul(N,we)|0;p=p+Math.imul(N,Ee)|0;p=p+Math.imul(P,we)|0;m=m+Math.imul(P,Ee)|0;d=d+Math.imul(T,Se)|0;p=p+Math.imul(T,ke)|0;p=p+Math.imul(x,Se)|0;m=m+Math.imul(x,ke)|0;d=d+Math.imul(w,xe)|0;p=p+Math.imul(w,Ie)|0;p=p+Math.imul(A,xe)|0;m=m+Math.imul(A,Ie)|0;var Fe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Fe>>>26)|0;Fe&=67108863;d=Math.imul($,se);p=Math.imul($,ie);p=p+Math.imul(J,se)|0;m=Math.imul(J,ie);d=d+Math.imul(W,ae)|0;p=p+Math.imul(W,le)|0;p=p+Math.imul(V,ae)|0;m=m+Math.imul(V,le)|0;d=d+Math.imul(q,ue)|0;p=p+Math.imul(q,de)|0;p=p+Math.imul(G,ue)|0;m=m+Math.imul(G,de)|0;d=d+Math.imul(F,pe)|0;p=p+Math.imul(F,me)|0;p=p+Math.imul(U,pe)|0;m=m+Math.imul(U,me)|0;d=d+Math.imul(O,ye)|0;p=p+Math.imul(O,be)|0;p=p+Math.imul(D,ye)|0;m=m+Math.imul(D,be)|0;d=d+Math.imul(M,we)|0;p=p+Math.imul(M,Ee)|0;p=p+Math.imul(B,we)|0;m=m+Math.imul(B,Ee)|0;d=d+Math.imul(N,Se)|0;p=p+Math.imul(N,ke)|0;p=p+Math.imul(P,Se)|0;m=m+Math.imul(P,ke)|0;d=d+Math.imul(T,xe)|0;p=p+Math.imul(T,Ie)|0;p=p+Math.imul(x,xe)|0;m=m+Math.imul(x,Ie)|0;var Ue=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ue>>>26)|0;Ue&=67108863;d=Math.imul($,ae);p=Math.imul($,le);p=p+Math.imul(J,ae)|0;m=Math.imul(J,le);d=d+Math.imul(W,ue)|0;p=p+Math.imul(W,de)|0;p=p+Math.imul(V,ue)|0;m=m+Math.imul(V,de)|0;d=d+Math.imul(q,pe)|0;p=p+Math.imul(q,me)|0;p=p+Math.imul(G,pe)|0;m=m+Math.imul(G,me)|0;d=d+Math.imul(F,ye)|0;p=p+Math.imul(F,be)|0;p=p+Math.imul(U,ye)|0;m=m+Math.imul(U,be)|0;d=d+Math.imul(O,we)|0;p=p+Math.imul(O,Ee)|0;p=p+Math.imul(D,we)|0;m=m+Math.imul(D,Ee)|0;d=d+Math.imul(M,Se)|0;p=p+Math.imul(M,ke)|0;p=p+Math.imul(B,Se)|0;m=m+Math.imul(B,ke)|0;d=d+Math.imul(N,xe)|0;p=p+Math.imul(N,Ie)|0;p=p+Math.imul(P,xe)|0;m=m+Math.imul(P,Ie)|0;var Ke=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ke>>>26)|0;Ke&=67108863;d=Math.imul($,ue);p=Math.imul($,de);p=p+Math.imul(J,ue)|0;m=Math.imul(J,de);d=d+Math.imul(W,pe)|0;p=p+Math.imul(W,me)|0;p=p+Math.imul(V,pe)|0;m=m+Math.imul(V,me)|0;d=d+Math.imul(q,ye)|0;p=p+Math.imul(q,be)|0;p=p+Math.imul(G,ye)|0;m=m+Math.imul(G,be)|0;d=d+Math.imul(F,we)|0;p=p+Math.imul(F,Ee)|0;p=p+Math.imul(U,we)|0;m=m+Math.imul(U,Ee)|0;d=d+Math.imul(O,Se)|0;p=p+Math.imul(O,ke)|0;p=p+Math.imul(D,Se)|0;m=m+Math.imul(D,ke)|0;d=d+Math.imul(M,xe)|0;p=p+Math.imul(M,Ie)|0;p=p+Math.imul(B,xe)|0;m=m+Math.imul(B,Ie)|0;var He=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(He>>>26)|0;He&=67108863;d=Math.imul($,pe);p=Math.imul($,me);p=p+Math.imul(J,pe)|0;m=Math.imul(J,me);d=d+Math.imul(W,ye)|0;p=p+Math.imul(W,be)|0;p=p+Math.imul(V,ye)|0;m=m+Math.imul(V,be)|0;d=d+Math.imul(q,we)|0;p=p+Math.imul(q,Ee)|0;p=p+Math.imul(G,we)|0;m=m+Math.imul(G,Ee)|0;d=d+Math.imul(F,Se)|0;p=p+Math.imul(F,ke)|0;p=p+Math.imul(U,Se)|0;m=m+Math.imul(U,ke)|0;d=d+Math.imul(O,xe)|0;p=p+Math.imul(O,Ie)|0;p=p+Math.imul(D,xe)|0;m=m+Math.imul(D,Ie)|0;var qe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(qe>>>26)|0;qe&=67108863;d=Math.imul($,ye);p=Math.imul($,be);p=p+Math.imul(J,ye)|0;m=Math.imul(J,be);d=d+Math.imul(W,we)|0;p=p+Math.imul(W,Ee)|0;p=p+Math.imul(V,we)|0;m=m+Math.imul(V,Ee)|0;d=d+Math.imul(q,Se)|0;p=p+Math.imul(q,ke)|0;p=p+Math.imul(G,Se)|0;m=m+Math.imul(G,ke)|0;d=d+Math.imul(F,xe)|0;p=p+Math.imul(F,Ie)|0;p=p+Math.imul(U,xe)|0;m=m+Math.imul(U,Ie)|0;var Ge=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ge>>>26)|0;Ge&=67108863;d=Math.imul($,we);p=Math.imul($,Ee);p=p+Math.imul(J,we)|0;m=Math.imul(J,Ee);d=d+Math.imul(W,Se)|0;p=p+Math.imul(W,ke)|0;p=p+Math.imul(V,Se)|0;m=m+Math.imul(V,ke)|0;d=d+Math.imul(q,xe)|0;p=p+Math.imul(q,Ie)|0;p=p+Math.imul(G,xe)|0;m=m+Math.imul(G,Ie)|0;var ze=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(ze>>>26)|0;ze&=67108863;d=Math.imul($,Se);p=Math.imul($,ke);p=p+Math.imul(J,Se)|0;m=Math.imul(J,ke);d=d+Math.imul(W,xe)|0;p=p+Math.imul(W,Ie)|0;p=p+Math.imul(V,xe)|0;m=m+Math.imul(V,Ie)|0;var We=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(We>>>26)|0;We&=67108863;d=Math.imul($,xe);p=Math.imul($,Ie);p=p+Math.imul(J,xe)|0;m=Math.imul(J,Ie);var Ve=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ve>>>26)|0;Ve&=67108863;l[0]=Ne;l[1]=Pe;l[2]=Ce;l[3]=Me;l[4]=Be;l[5]=Re;l[6]=je;l[7]=Oe;l[8]=De;l[9]=Le;l[10]=Fe;l[11]=Ue;l[12]=Ke;l[13]=He;l[14]=qe;l[15]=Ge;l[16]=ze;l[17]=We;l[18]=Ve;if(u!==0){l[19]=u;i.length++}return i};if(!Math.imul){d=smallMulTo}function bigMulTo(e,t,i){i.negative=t.negative^e.negative;i.length=e.length+t.length;var o=0;var a=0;for(var l=0;l<i.length-1;l++){var u=a;a=0;var d=o&67108863;var p=Math.min(l,t.length-1);for(var m=Math.max(0,l-e.length+1);m<=p;m++){var g=l-m;var v=e.words[g]|0;var y=t.words[m]|0;var _=v*y;var w=_&67108863;u=u+(_/67108864|0)|0;w=w+d|0;d=w&67108863;u=u+(w>>>26)|0;a+=u>>>26;u&=67108863}i.words[l]=d;o=u;u=a}if(o!==0){i.words[l]=o}else{i.length--}return i.strip()}function jumboMulTo(e,t,i){var o=new FFTM;return o.mulp(e,t,i)}BN.prototype.mulTo=function mulTo(e,t){var i;var o=this.length+e.length;if(this.length===10&&e.length===10){i=d(this,e,t)}else if(o<63){i=smallMulTo(this,e,t)}else if(o<1024){i=bigMulTo(this,e,t)}else{i=jumboMulTo(this,e,t)}return i};function FFTM(e,t){this.x=e;this.y=t}FFTM.prototype.makeRBT=function makeRBT(e){var t=new Array(e);var i=BN.prototype._countBits(e)-1;for(var o=0;o<e;o++){t[o]=this.revBin(o,i,e)}return t};FFTM.prototype.revBin=function revBin(e,t,i){if(e===0||e===i-1)return e;var o=0;for(var a=0;a<t;a++){o|=(e&1)<<t-a-1;e>>=1}return o};FFTM.prototype.permute=function permute(e,t,i,o,a,l){for(var u=0;u<l;u++){o[u]=t[e[u]];a[u]=i[e[u]]}};FFTM.prototype.transform=function transform(e,t,i,o,a,l){this.permute(l,e,t,i,o,a);for(var u=1;u<a;u<<=1){var d=u<<1;var p=Math.cos(2*Math.PI/d);var m=Math.sin(2*Math.PI/d);for(var g=0;g<a;g+=d){var v=p;var y=m;for(var _=0;_<u;_++){var w=i[g+_];var A=o[g+_];var k=i[g+_+u];var T=o[g+_+u];var x=v*k-y*T;T=v*T+y*k;k=x;i[g+_]=w+k;o[g+_]=A+T;i[g+_+u]=w-k;o[g+_+u]=A-T;if(_!==d){x=p*v-m*y;y=p*y+m*v;v=x}}}}};FFTM.prototype.guessLen13b=function guessLen13b(e,t){var i=Math.max(t,e)|1;var o=i&1;var a=0;for(i=i/2|0;i;i=i>>>1){a++}return 1<<a+1+o};FFTM.prototype.conjugate=function conjugate(e,t,i){if(i<=1)return;for(var o=0;o<i/2;o++){var a=e[o];e[o]=e[i-o-1];e[i-o-1]=a;a=t[o];t[o]=-t[i-o-1];t[i-o-1]=-a}};FFTM.prototype.normalize13b=function normalize13b(e,t){var i=0;for(var o=0;o<t/2;o++){var a=Math.round(e[2*o+1]/t)*8192+Math.round(e[2*o]/t)+i;e[o]=a&67108863;if(a<67108864){i=0}else{i=a/67108864|0}}return e};FFTM.prototype.convert13b=function convert13b(e,t,i,o){var a=0;for(var l=0;l<t;l++){a=a+(e[l]|0);i[2*l]=a&8191;a=a>>>13;i[2*l+1]=a&8191;a=a>>>13}for(l=2*t;l<o;++l){i[l]=0}assert(a===0);assert((a&~8191)===0)};FFTM.prototype.stub=function stub(e){var t=new Array(e);for(var i=0;i<e;i++){t[i]=0}return t};FFTM.prototype.mulp=function mulp(e,t,i){var o=2*this.guessLen13b(e.length,t.length);var a=this.makeRBT(o);var l=this.stub(o);var u=new Array(o);var d=new Array(o);var p=new Array(o);var m=new Array(o);var g=new Array(o);var v=new Array(o);var y=i.words;y.length=o;this.convert13b(e.words,e.length,u,o);this.convert13b(t.words,t.length,m,o);this.transform(u,l,d,p,o,a);this.transform(m,l,g,v,o,a);for(var _=0;_<o;_++){var w=d[_]*g[_]-p[_]*v[_];p[_]=d[_]*v[_]+p[_]*g[_];d[_]=w}this.conjugate(d,p,o);this.transform(d,p,y,l,o,a);this.conjugate(y,l,o);this.normalize13b(y,o);i.negative=e.negative^t.negative;i.length=e.length+t.length;return i.strip()};BN.prototype.mul=function mul(e){var t=new BN(null);t.words=new Array(this.length+e.length);return this.mulTo(e,t)};BN.prototype.mulf=function mulf(e){var t=new BN(null);t.words=new Array(this.length+e.length);return jumboMulTo(this,e,t)};BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)};BN.prototype.imuln=function imuln(e){assert(typeof e==="number");assert(e<67108864);var t=0;for(var i=0;i<this.length;i++){var o=(this.words[i]|0)*e;var a=(o&67108863)+(t&67108863);t>>=26;t+=o/67108864|0;t+=a>>>26;this.words[i]=a&67108863}if(t!==0){this.words[i]=t;this.length++}this.length=e===0?1:this.length;return this};BN.prototype.muln=function muln(e){return this.clone().imuln(e)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(e){var t=toBitArray(e);if(t.length===0)return new BN(1);var i=this;for(var o=0;o<t.length;o++,i=i.sqr()){if(t[o]!==0)break}if(++o<t.length){for(var a=i.sqr();o<t.length;o++,a=a.sqr()){if(t[o]===0)continue;i=i.mul(a)}}return i};BN.prototype.iushln=function iushln(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=67108863>>>26-t<<26-t;var a;if(t!==0){var l=0;for(a=0;a<this.length;a++){var u=this.words[a]&o;var d=(this.words[a]|0)-u<<t;this.words[a]=d|l;l=u>>>26-t}if(l){this.words[a]=l;this.length++}}if(i!==0){for(a=this.length-1;a>=0;a--){this.words[a+i]=this.words[a]}for(a=0;a<i;a++){this.words[a]=0}this.length+=i}return this.strip()};BN.prototype.ishln=function ishln(e){assert(this.negative===0);return this.iushln(e)};BN.prototype.iushrn=function iushrn(e,t,i){assert(typeof e==="number"&&e>=0);var o;if(t){o=(t-t%26)/26}else{o=0}var a=e%26;var l=Math.min((e-a)/26,this.length);var u=67108863^67108863>>>a<<a;var d=i;o-=l;o=Math.max(0,o);if(d){for(var p=0;p<l;p++){d.words[p]=this.words[p]}d.length=l}if(l===0){}else if(this.length>l){this.length-=l;for(p=0;p<this.length;p++){this.words[p]=this.words[p+l]}}else{this.words[0]=0;this.length=1}var m=0;for(p=this.length-1;p>=0&&(m!==0||p>=o);p--){var g=this.words[p]|0;this.words[p]=m<<26-a|g>>>a;m=g&u}if(d&&m!==0){d.words[d.length++]=m}if(this.length===0){this.words[0]=0;this.length=1}return this.strip()};BN.prototype.ishrn=function ishrn(e,t,i){assert(this.negative===0);return this.iushrn(e,t,i)};BN.prototype.shln=function shln(e){return this.clone().ishln(e)};BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)};BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)};BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)};BN.prototype.testn=function testn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i)return false;var a=this.words[i];return!!(a&o)};BN.prototype.imaskn=function imaskn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(t!==0){i++}this.length=Math.min(i,this.length);if(t!==0){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this.strip()};BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)};BN.prototype.iaddn=function iaddn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.isubn(-e);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<e){this.words[0]=e-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(e);this.negative=1;return this}return this._iaddn(e)};BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++){this.words[t]-=67108864;if(t===this.length-1){this.words[t+1]=1}else{this.words[t+1]++}}this.length=Math.max(this.length,t+1);return this};BN.prototype.isubn=function isubn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.iaddn(-e);if(this.negative!==0){this.negative=0;this.iaddn(e);this.negative=1;return this}this.words[0]-=e;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var t=0;t<this.length&&this.words[t]<0;t++){this.words[t]+=67108864;this.words[t+1]-=1}}return this.strip()};BN.prototype.addn=function addn(e){return this.clone().iaddn(e)};BN.prototype.subn=function subn(e){return this.clone().isubn(e)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(e,t,i){var o=e.length+i;var a;this._expand(o);var l;var u=0;for(a=0;a<e.length;a++){l=(this.words[a+i]|0)+u;var d=(e.words[a]|0)*t;l-=d&67108863;u=(l>>26)-(d/67108864|0);this.words[a+i]=l&67108863}for(;a<this.length-i;a++){l=(this.words[a+i]|0)+u;u=l>>26;this.words[a+i]=l&67108863}if(u===0)return this.strip();assert(u===-1);u=0;for(a=0;a<this.length;a++){l=-(this.words[a]|0)+u;u=l>>26;this.words[a]=l&67108863}this.negative=1;return this.strip()};BN.prototype._wordDiv=function _wordDiv(e,t){var i=this.length-e.length;var o=this.clone();var a=e;var l=a.words[a.length-1]|0;var u=this._countBits(l);i=26-u;if(i!==0){a=a.ushln(i);o.iushln(i);l=a.words[a.length-1]|0}var d=o.length-a.length;var p;if(t!=="mod"){p=new BN(null);p.length=d+1;p.words=new Array(p.length);for(var m=0;m<p.length;m++){p.words[m]=0}}var g=o.clone()._ishlnsubmul(a,1,d);if(g.negative===0){o=g;if(p){p.words[d]=1}}for(var v=d-1;v>=0;v--){var y=(o.words[a.length+v]|0)*67108864+(o.words[a.length+v-1]|0);y=Math.min(y/l|0,67108863);o._ishlnsubmul(a,y,v);while(o.negative!==0){y--;o.negative=0;o._ishlnsubmul(a,1,v);if(!o.isZero()){o.negative^=1}}if(p){p.words[v]=y}}if(p){p.strip()}o.strip();if(t!=="div"&&i!==0){o.iushrn(i)}return{div:p||null,mod:o}};BN.prototype.divmod=function divmod(e,t,i){assert(!e.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var o,a,l;if(this.negative!==0&&e.negative===0){l=this.neg().divmod(e,t);if(t!=="mod"){o=l.div.neg()}if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.iadd(e)}}return{div:o,mod:a}}if(this.negative===0&&e.negative!==0){l=this.divmod(e.neg(),t);if(t!=="mod"){o=l.div.neg()}return{div:o,mod:l.mod}}if((this.negative&e.negative)!==0){l=this.neg().divmod(e.neg(),t);if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.isub(e)}}return{div:l.div,mod:a}}if(e.length>this.length||this.cmp(e)<0){return{div:new BN(0),mod:this}}if(e.length===1){if(t==="div"){return{div:this.divn(e.words[0]),mod:null}}if(t==="mod"){return{div:null,mod:new BN(this.modn(e.words[0]))}}return{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}}return this._wordDiv(e,t)};BN.prototype.div=function div(e){return this.divmod(e,"div",false).div};BN.prototype.mod=function mod(e){return this.divmod(e,"mod",false).mod};BN.prototype.umod=function umod(e){return this.divmod(e,"mod",true).mod};BN.prototype.divRound=function divRound(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=t.div.negative!==0?t.mod.isub(e):t.mod;var o=e.ushrn(1);var a=e.andln(1);var l=i.cmp(o);if(l<0||a===1&&l===0)return t.div;return t.div.negative!==0?t.div.isubn(1):t.div.iaddn(1)};BN.prototype.modn=function modn(e){assert(e<=67108863);var t=(1<<26)%e;var i=0;for(var o=this.length-1;o>=0;o--){i=(t*i+(this.words[o]|0))%e}return i};BN.prototype.idivn=function idivn(e){assert(e<=67108863);var t=0;for(var i=this.length-1;i>=0;i--){var o=(this.words[i]|0)+t*67108864;this.words[i]=o/e|0;t=o%e}return this.strip()};BN.prototype.divn=function divn(e){return this.clone().idivn(e)};BN.prototype.egcd=function egcd(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=new BN(0);var u=new BN(1);var d=0;while(t.isEven()&&i.isEven()){t.iushrn(1);i.iushrn(1);++d}var p=i.clone();var m=t.clone();while(!t.isZero()){for(var g=0,v=1;(t.words[0]&v)===0&&g<26;++g,v<<=1);if(g>0){t.iushrn(g);while(g-- >0){if(o.isOdd()||a.isOdd()){o.iadd(p);a.isub(m)}o.iushrn(1);a.iushrn(1)}}for(var y=0,_=1;(i.words[0]&_)===0&&y<26;++y,_<<=1);if(y>0){i.iushrn(y);while(y-- >0){if(l.isOdd()||u.isOdd()){l.iadd(p);u.isub(m)}l.iushrn(1);u.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(l);a.isub(u)}else{i.isub(t);l.isub(o);u.isub(a)}}return{a:l,b:u,gcd:i.iushln(d)}};BN.prototype._invmp=function _invmp(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var u=0,d=1;(t.words[0]&d)===0&&u<26;++u,d<<=1);if(u>0){t.iushrn(u);while(u-- >0){if(o.isOdd()){o.iadd(l)}o.iushrn(1)}}for(var p=0,m=1;(i.words[0]&m)===0&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0){if(a.isOdd()){a.iadd(l)}a.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(a)}else{i.isub(t);a.isub(o)}}var g;if(t.cmpn(1)===0){g=o}else{g=a}if(g.cmpn(0)<0){g.iadd(e)}return g};BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone();var i=e.clone();t.negative=0;i.negative=0;for(var o=0;t.isEven()&&i.isEven();o++){t.iushrn(1);i.iushrn(1)}do{while(t.isEven()){t.iushrn(1)}while(i.isEven()){i.iushrn(1)}var a=t.cmp(i);if(a<0){var l=t;t=i;i=l}else if(a===0||i.cmpn(1)===0){break}t.isub(i)}while(true);return i.iushln(o)};BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(e){return this.words[0]&e};BN.prototype.bincn=function bincn(e){assert(typeof e==="number");var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i){this._expand(i+1);this.words[i]|=o;return this}var a=o;for(var l=i;a!==0&&l<this.length;l++){var u=this.words[l]|0;u+=a;a=u>>>26;u&=67108863;this.words[l]=u}if(a!==0){this.words[l]=a;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(e){var t=e<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;this.strip();var i;if(this.length>1){i=1}else{if(t){e=-e}assert(e<=67108863,"Number is too big");var o=this.words[0]|0;i=o===e?0:o<e?-1:1}if(this.negative!==0)return-i|0;return i};BN.prototype.cmp=function cmp(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var t=this.ucmp(e);if(this.negative!==0)return-t|0;return t};BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;var t=0;for(var i=this.length-1;i>=0;i--){var o=this.words[i]|0;var a=e.words[i]|0;if(o===a)continue;if(o<a){t=-1}else if(o>a){t=1}break}return t};BN.prototype.gtn=function gtn(e){return this.cmpn(e)===1};BN.prototype.gt=function gt(e){return this.cmp(e)===1};BN.prototype.gten=function gten(e){return this.cmpn(e)>=0};BN.prototype.gte=function gte(e){return this.cmp(e)>=0};BN.prototype.ltn=function ltn(e){return this.cmpn(e)===-1};BN.prototype.lt=function lt(e){return this.cmp(e)===-1};BN.prototype.lten=function lten(e){return this.cmpn(e)<=0};BN.prototype.lte=function lte(e){return this.cmp(e)<=0};BN.prototype.eqn=function eqn(e){return this.cmpn(e)===0};BN.prototype.eq=function eq(e){return this.cmp(e)===0};BN.red=function red(e){return new Red(e)};BN.prototype.toRed=function toRed(e){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return e.convertTo(this)._forceRed(e)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(e){this.red=e;return this};BN.prototype.forceRed=function forceRed(e){assert(!this.red,"Already a number in reduction context");return this._forceRed(e)};BN.prototype.redAdd=function redAdd(e){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};BN.prototype.redIAdd=function redIAdd(e){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};BN.prototype.redSub=function redSub(e){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};BN.prototype.redISub=function redISub(e){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};BN.prototype.redShl=function redShl(e){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};BN.prototype.redMul=function redMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};BN.prototype.redIMul=function redIMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(e){assert(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var p={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e;this.p=new BN(t,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);e.words=new Array(Math.ceil(this.n/13));return e};MPrime.prototype.ireduce=function ireduce(e){var t=e;var i;do{this.split(t,this.tmp);t=this.imulK(t);t=t.iadd(this.tmp);i=t.bitLength()}while(i>this.n);var o=i<this.n?-1:t.ucmp(this.p);if(o===0){t.words[0]=0;t.length=1}else if(o>0){t.isub(this.p)}else{if(t.strip!==undefined){t.strip()}else{t._strip()}}return t};MPrime.prototype.split=function split(e,t){e.iushrn(this.n,0,t)};MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(e,t){var i=4194303;var o=Math.min(e.length,9);for(var a=0;a<o;a++){t.words[a]=e.words[a]}t.length=o;if(e.length<=9){e.words[0]=0;e.length=1;return}var l=e.words[9];t.words[t.length++]=l&i;for(a=10;a<e.length;a++){var u=e.words[a]|0;e.words[a-10]=(u&i)<<4|l>>>22;l=u}l>>>=22;e.words[a-10]=l;if(l===0&&e.length>10){e.length-=10}else{e.length-=9}};K256.prototype.imulK=function imulK(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;var t=0;for(var i=0;i<e.length;i++){var o=e.words[i]|0;t+=o*977;e.words[i]=t&67108863;t=o*64+(t/67108864|0)}if(e.words[e.length-1]===0){e.length--;if(e.words[e.length-1]===0){e.length--}}return e};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(e){var t=0;for(var i=0;i<e.length;i++){var o=(e.words[i]|0)*19+t;var a=o&67108863;o>>>=26;e.words[i]=a;t=o}if(t!==0){e.words[e.length++]=t}return e};BN._prime=function prime(e){if(p[e])return p[e];var prime;if(e==="k256"){prime=new K256}else if(e==="p224"){prime=new P224}else if(e==="p192"){prime=new P192}else if(e==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+e)}p[e]=prime;return prime};function Red(e){if(typeof e==="string"){var t=BN._prime(e);this.m=t.p;this.prime=t}else{assert(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}Red.prototype._verify1=function _verify1(e){assert(e.negative===0,"red works only with positives");assert(e.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(e,t){assert((e.negative|t.negative)===0,"red works only with positives");assert(e.red&&e.red===t.red,"red works only with red numbers")};Red.prototype.imod=function imod(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);return e.umod(this.m)._forceRed(this)};Red.prototype.neg=function neg(e){if(e.isZero()){return e.clone()}return this.m.sub(e)._forceRed(this)};Red.prototype.add=function add(e,t){this._verify2(e,t);var i=e.add(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i._forceRed(this)};Red.prototype.iadd=function iadd(e,t){this._verify2(e,t);var i=e.iadd(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i};Red.prototype.sub=function sub(e,t){this._verify2(e,t);var i=e.sub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i._forceRed(this)};Red.prototype.isub=function isub(e,t){this._verify2(e,t);var i=e.isub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i};Red.prototype.shl=function shl(e,t){this._verify1(e);return this.imod(e.ushln(t))};Red.prototype.imul=function imul(e,t){this._verify2(e,t);return this.imod(e.imul(t))};Red.prototype.mul=function mul(e,t){this._verify2(e,t);return this.imod(e.mul(t))};Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())};Red.prototype.sqr=function sqr(e){return this.mul(e,e)};Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var t=this.m.andln(3);assert(t%2===1);if(t===3){var i=this.m.add(new BN(1)).iushrn(2);return this.pow(e,i)}var o=this.m.subn(1);var a=0;while(!o.isZero()&&o.andln(1)===0){a++;o.iushrn(1)}assert(!o.isZero());var l=new BN(1).toRed(this);var u=l.redNeg();var d=this.m.subn(1).iushrn(1);var p=this.m.bitLength();p=new BN(2*p*p).toRed(this);while(this.pow(p,d).cmp(u)!==0){p.redIAdd(u)}var m=this.pow(p,o);var g=this.pow(e,o.addn(1).iushrn(1));var v=this.pow(e,o);var y=a;while(v.cmp(l)!==0){var _=v;for(var w=0;_.cmp(l)!==0;w++){_=_.redSqr()}assert(w<y);var A=this.pow(m,new BN(1).iushln(y-w-1));g=g.redMul(A);m=A.redSqr();v=v.redMul(m);y=w}return g};Red.prototype.invm=function invm(e){var t=e._invmp(this.m);if(t.negative!==0){t.negative=0;return this.imod(t).redNeg()}else{return this.imod(t)}};Red.prototype.pow=function pow(e,t){if(t.isZero())return new BN(1).toRed(this);if(t.cmpn(1)===0)return e.clone();var i=4;var o=new Array(1<<i);o[0]=new BN(1).toRed(this);o[1]=e;for(var a=2;a<o.length;a++){o[a]=this.mul(o[a-1],e)}var l=o[0];var u=0;var d=0;var p=t.bitLength()%26;if(p===0){p=26}for(a=t.length-1;a>=0;a--){var m=t.words[a];for(var g=p-1;g>=0;g--){var v=m>>g&1;if(l!==o[0]){l=this.sqr(l)}if(v===0&&u===0){d=0;continue}u<<=1;u|=v;d++;if(d!==i&&(a!==0||g!==0))continue;l=this.mul(l,o[u]);d=0;u=0}p=26}return l};Red.prototype.convertTo=function convertTo(e){var t=e.umod(this.m);return t===e?t.clone():t};Red.prototype.convertFrom=function convertFrom(e){var t=e.clone();t.red=null;return t};BN.mont=function mont(e){return new Mont(e)};function Mont(e){Red.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(e){var t=this.imod(e.mul(this.rinv));t.red=null;return t};Mont.prototype.imul=function imul(e,t){if(e.isZero()||t.isZero()){e.words[0]=0;e.length=1;return e}var i=e.imul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.mul=function mul(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var i=e.mul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.invm=function invm(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(false||e,this)},"../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js":function(e,t,i){e=i.nmd(e);(function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}function BN(e,t,i){if(BN.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){i=t;t=10}this._init(e||0,t||10,i||"be")}}if(typeof e==="object"){e.exports=BN}else{t.BN=BN}BN.BN=BN;BN.wordSize=26;var o;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){o=window.Buffer}else{o=i("?d4eb").Buffer}}catch(e){}BN.isBN=function isBN(e){if(e instanceof BN){return true}return e!==null&&typeof e==="object"&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)};BN.max=function max(e,t){if(e.cmp(t)>0)return e;return t};BN.min=function min(e,t){if(e.cmp(t)<0)return e;return t};BN.prototype._init=function init(e,t,i){if(typeof e==="number"){return this._initNumber(e,t,i)}if(typeof e==="object"){return this._initArray(e,t,i)}if(t==="hex"){t=16}assert(t===(t|0)&&t>=2&&t<=36);e=e.toString().replace(/\s+/g,"");var o=0;if(e[0]==="-"){o++;this.negative=1}if(o<e.length){if(t===16){this._parseHex(e,o,i)}else{this._parseBase(e,t,o);if(i==="le"){this._initArray(this.toArray(),t,i)}}}};BN.prototype._initNumber=function _initNumber(e,t,i){if(e<0){this.negative=1;e=-e}if(e<67108864){this.words=[e&67108863];this.length=1}else if(e<4503599627370496){this.words=[e&67108863,e/67108864&67108863];this.length=2}else{assert(e<9007199254740992);this.words=[e&67108863,e/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),t,i)};BN.prototype._initArray=function _initArray(e,t,i){assert(typeof e.length==="number");if(e.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a,l;var u=0;if(i==="be"){for(o=e.length-1,a=0;o>=0;o-=3){l=e[o]|e[o-1]<<8|e[o-2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}else if(i==="le"){for(o=0,a=0;o<e.length;o+=3){l=e[o]|e[o+1]<<8|e[o+2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}return this._strip()};function parseHex4Bits(e,t){var i=e.charCodeAt(t);if(i>=48&&i<=57){return i-48}else if(i>=65&&i<=70){return i-55}else if(i>=97&&i<=102){return i-87}else{assert(false,"Invalid character in "+e)}}function parseHexByte(e,t,i){var o=parseHex4Bits(e,i);if(i-1>=t){o|=parseHex4Bits(e,i-1)<<4}return o}BN.prototype._parseHex=function _parseHex(e,t,i){this.length=Math.ceil((e.length-t)/6);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a=0;var l=0;var u;if(i==="be"){for(o=e.length-1;o>=t;o-=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}else{var d=e.length-t;for(o=d%2===0?t+1:t;o<e.length;o+=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}this._strip()};function parseBase(e,t,i,o){var a=0;var l=0;var u=Math.min(e.length,i);for(var d=t;d<u;d++){var p=e.charCodeAt(d)-48;a*=o;if(p>=49){l=p-49+10}else if(p>=17){l=p-17+10}else{l=p}assert(p>=0&&l<o,"Invalid character");a+=l}return a}BN.prototype._parseBase=function _parseBase(e,t,i){this.words=[0];this.length=1;for(var o=0,a=1;a<=67108863;a*=t){o++}o--;a=a/t|0;var l=e.length-i;var u=l%o;var d=Math.min(l,l-u)+i;var p=0;for(var m=i;m<d;m+=o){p=parseBase(e,m,m+o,t);this.imuln(a);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}if(u!==0){var g=1;p=parseBase(e,m,e.length,t);for(m=0;m<u;m++){g*=t}this.imuln(g);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}this._strip()};BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++){e.words[t]=this.words[t]}e.length=this.length;e.negative=this.negative;e.red=this.red};function move(e,t){e.words=t.words;e.length=t.length;e.negative=t.negative;e.red=t.red}BN.prototype._move=function _move(e){move(e,this)};BN.prototype.clone=function clone(){var e=new BN(null);this.copy(e);return e};BN.prototype._expand=function _expand(e){while(this.length<e){this.words[this.length++]=0}return this};BN.prototype._strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};if(typeof Symbol!=="undefined"&&typeof Symbol.for==="function"){try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(e){BN.prototype.inspect=inspect}}else{BN.prototype.inspect=inspect}function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(e,t){e=e||10;t=t|0||1;var i;if(e===16||e==="hex"){i="";var o=0;var d=0;for(var p=0;p<this.length;p++){var m=this.words[p];var g=((m<<o|d)&16777215).toString(16);d=m>>>24-o&16777215;o+=2;if(o>=26){o-=26;p--}if(d!==0||p!==this.length-1){i=a[6-g.length]+g+i}else{i=g+i}}if(d!==0){i=d.toString(16)+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(e===(e|0)&&e>=2&&e<=36){var v=l[e];var y=u[e];i="";var _=this.clone();_.negative=0;while(!_.isZero()){var w=_.modrn(y).toString(e);_=_.idivn(y);if(!_.isZero()){i=a[v-w.length]+w+i}else{i=w+i}}if(this.isZero()){i="0"+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var e=this.words[0];if(this.length===2){e+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){e+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-e:e};BN.prototype.toJSON=function toJSON(){return this.toString(16,2)};if(o){BN.prototype.toBuffer=function toBuffer(e,t){return this.toArrayLike(o,e,t)}}BN.prototype.toArray=function toArray(e,t){return this.toArrayLike(Array,e,t)};var d=function allocate(e,t){if(e.allocUnsafe){return e.allocUnsafe(t)}return new e(t)};BN.prototype.toArrayLike=function toArrayLike(e,t,i){this._strip();var o=this.byteLength();var a=i||Math.max(1,o);assert(o<=a,"byte array longer than desired length");assert(a>0,"Requested array length <= 0");var l=d(e,a);var u=t==="le"?"LE":"BE";this["_toArrayLike"+u](l,o);return l};BN.prototype._toArrayLikeLE=function _toArrayLikeLE(e,t){var i=0;var o=0;for(var a=0,l=0;a<this.length;a++){var u=this.words[a]<<l|o;e[i++]=u&255;if(i<e.length){e[i++]=u>>8&255}if(i<e.length){e[i++]=u>>16&255}if(l===6){if(i<e.length){e[i++]=u>>24&255}o=0;l=0}else{o=u>>>24;l+=2}}if(i<e.length){e[i++]=o;while(i<e.length){e[i++]=0}}};BN.prototype._toArrayLikeBE=function _toArrayLikeBE(e,t){var i=e.length-1;var o=0;for(var a=0,l=0;a<this.length;a++){var u=this.words[a]<<l|o;e[i--]=u&255;if(i>=0){e[i--]=u>>8&255}if(i>=0){e[i--]=u>>16&255}if(l===6){if(i>=0){e[i--]=u>>24&255}o=0;l=0}else{o=u>>>24;l+=2}}if(i>=0){e[i--]=o;while(i>=0){e[i--]=0}}};if(Math.clz32){BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}}else{BN.prototype._countBits=function _countBits(e){var t=e;var i=0;if(t>=4096){i+=13;t>>>=13}if(t>=64){i+=7;t>>>=7}if(t>=8){i+=4;t>>>=4}if(t>=2){i+=2;t>>>=2}return i+t}}BN.prototype._zeroBits=function _zeroBits(e){if(e===0)return 26;var t=e;var i=0;if((t&8191)===0){i+=13;t>>>=13}if((t&127)===0){i+=7;t>>>=7}if((t&15)===0){i+=4;t>>>=4}if((t&3)===0){i+=2;t>>>=2}if((t&1)===0){i++}return i};BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1];var t=this._countBits(e);return(this.length-1)*26+t};function toBitArray(e){var t=new Array(e.bitLength());for(var i=0;i<t.length;i++){var o=i/26|0;var a=i%26;t[i]=e.words[o]>>>a&1}return t}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var e=0;for(var t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);e+=i;if(i!==26)break}return e};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(e){if(this.negative!==0){return this.abs().inotn(e).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(e){if(this.testn(e-1)){return this.notn(e).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(e){while(this.length<e.length){this.words[this.length++]=0}for(var t=0;t<e.length;t++){this.words[t]=this.words[t]|e.words[t]}return this._strip()};BN.prototype.ior=function ior(e){assert((this.negative|e.negative)===0);return this.iuor(e)};BN.prototype.or=function or(e){if(this.length>e.length)return this.clone().ior(e);return e.clone().ior(this)};BN.prototype.uor=function uor(e){if(this.length>e.length)return this.clone().iuor(e);return e.clone().iuor(this)};BN.prototype.iuand=function iuand(e){var t;if(this.length>e.length){t=e}else{t=this}for(var i=0;i<t.length;i++){this.words[i]=this.words[i]&e.words[i]}this.length=t.length;return this._strip()};BN.prototype.iand=function iand(e){assert((this.negative|e.negative)===0);return this.iuand(e)};BN.prototype.and=function and(e){if(this.length>e.length)return this.clone().iand(e);return e.clone().iand(this)};BN.prototype.uand=function uand(e){if(this.length>e.length)return this.clone().iuand(e);return e.clone().iuand(this)};BN.prototype.iuxor=function iuxor(e){var t;var i;if(this.length>e.length){t=this;i=e}else{t=e;i=this}for(var o=0;o<i.length;o++){this.words[o]=t.words[o]^i.words[o]}if(this!==t){for(;o<t.length;o++){this.words[o]=t.words[o]}}this.length=t.length;return this._strip()};BN.prototype.ixor=function ixor(e){assert((this.negative|e.negative)===0);return this.iuxor(e)};BN.prototype.xor=function xor(e){if(this.length>e.length)return this.clone().ixor(e);return e.clone().ixor(this)};BN.prototype.uxor=function uxor(e){if(this.length>e.length)return this.clone().iuxor(e);return e.clone().iuxor(this)};BN.prototype.inotn=function inotn(e){assert(typeof e==="number"&&e>=0);var t=Math.ceil(e/26)|0;var i=e%26;this._expand(t);if(i>0){t--}for(var o=0;o<t;o++){this.words[o]=~this.words[o]&67108863}if(i>0){this.words[o]=~this.words[o]&67108863>>26-i}return this._strip()};BN.prototype.notn=function notn(e){return this.clone().inotn(e)};BN.prototype.setn=function setn(e,t){assert(typeof e==="number"&&e>=0);var i=e/26|0;var o=e%26;this._expand(i+1);if(t){this.words[i]=this.words[i]|1<<o}else{this.words[i]=this.words[i]&~(1<<o)}return this._strip()};BN.prototype.iadd=function iadd(e){var t;if(this.negative!==0&&e.negative===0){this.negative=0;t=this.isub(e);this.negative^=1;return this._normSign()}else if(this.negative===0&&e.negative!==0){e.negative=0;t=this.isub(e);e.negative=1;return t._normSign()}var i,o;if(this.length>e.length){i=this;o=e}else{i=e;o=this}var a=0;for(var l=0;l<o.length;l++){t=(i.words[l]|0)+(o.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}for(;a!==0&&l<i.length;l++){t=(i.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}this.length=i.length;if(a!==0){this.words[this.length]=a;this.length++}else if(i!==this){for(;l<i.length;l++){this.words[l]=i.words[l]}}return this};BN.prototype.add=function add(e){var t;if(e.negative!==0&&this.negative===0){e.negative=0;t=this.sub(e);e.negative^=1;return t}else if(e.negative===0&&this.negative!==0){this.negative=0;t=e.sub(this);this.negative=1;return t}if(this.length>e.length)return this.clone().iadd(e);return e.clone().iadd(this)};BN.prototype.isub=function isub(e){if(e.negative!==0){e.negative=0;var t=this.iadd(e);e.negative=1;return t._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(e);this.negative=1;return this._normSign()}var i=this.cmp(e);if(i===0){this.negative=0;this.length=1;this.words[0]=0;return this}var o,a;if(i>0){o=this;a=e}else{o=e;a=this}var l=0;for(var u=0;u<a.length;u++){t=(o.words[u]|0)-(a.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}for(;l!==0&&u<o.length;u++){t=(o.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}if(l===0&&u<o.length&&o!==this){for(;u<o.length;u++){this.words[u]=o.words[u]}}this.length=Math.max(this.length,u);if(o!==this){this.negative=1}return this._strip()};BN.prototype.sub=function sub(e){return this.clone().isub(e)};function smallMulTo(e,t,i){i.negative=t.negative^e.negative;var o=e.length+t.length|0;i.length=o;o=o-1|0;var a=e.words[0]|0;var l=t.words[0]|0;var u=a*l;var d=u&67108863;var p=u/67108864|0;i.words[0]=d;for(var m=1;m<o;m++){var g=p>>>26;var v=p&67108863;var y=Math.min(m,t.length-1);for(var _=Math.max(0,m-e.length+1);_<=y;_++){var w=m-_|0;a=e.words[w]|0;l=t.words[_]|0;u=a*l+v;g+=u/67108864|0;v=u&67108863}i.words[m]=v|0;p=g|0}if(p!==0){i.words[m]=p|0}else{i.length--}return i._strip()}var p=function comb10MulTo(e,t,i){var o=e.words;var a=t.words;var l=i.words;var u=0;var d;var p;var m;var g=o[0]|0;var v=g&8191;var y=g>>>13;var _=o[1]|0;var w=_&8191;var A=_>>>13;var k=o[2]|0;var T=k&8191;var x=k>>>13;var I=o[3]|0;var N=I&8191;var P=I>>>13;var C=o[4]|0;var M=C&8191;var B=C>>>13;var j=o[5]|0;var O=j&8191;var D=j>>>13;var L=o[6]|0;var F=L&8191;var U=L>>>13;var H=o[7]|0;var q=H&8191;var G=H>>>13;var z=o[8]|0;var W=z&8191;var V=z>>>13;var Y=o[9]|0;var $=Y&8191;var J=Y>>>13;var Q=a[0]|0;var Z=Q&8191;var X=Q>>>13;var ee=a[1]|0;var te=ee&8191;var re=ee>>>13;var ne=a[2]|0;var se=ne&8191;var ie=ne>>>13;var oe=a[3]|0;var ae=oe&8191;var le=oe>>>13;var ce=a[4]|0;var ue=ce&8191;var de=ce>>>13;var he=a[5]|0;var pe=he&8191;var me=he>>>13;var ve=a[6]|0;var ye=ve&8191;var be=ve>>>13;var _e=a[7]|0;var we=_e&8191;var Ee=_e>>>13;var Ae=a[8]|0;var Se=Ae&8191;var ke=Ae>>>13;var Te=a[9]|0;var xe=Te&8191;var Ie=Te>>>13;i.negative=e.negative^t.negative;i.length=19;d=Math.imul(v,Z);p=Math.imul(v,X);p=p+Math.imul(y,Z)|0;m=Math.imul(y,X);var Ne=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;d=Math.imul(w,Z);p=Math.imul(w,X);p=p+Math.imul(A,Z)|0;m=Math.imul(A,X);d=d+Math.imul(v,te)|0;p=p+Math.imul(v,re)|0;p=p+Math.imul(y,te)|0;m=m+Math.imul(y,re)|0;var Pe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;d=Math.imul(T,Z);p=Math.imul(T,X);p=p+Math.imul(x,Z)|0;m=Math.imul(x,X);d=d+Math.imul(w,te)|0;p=p+Math.imul(w,re)|0;p=p+Math.imul(A,te)|0;m=m+Math.imul(A,re)|0;d=d+Math.imul(v,se)|0;p=p+Math.imul(v,ie)|0;p=p+Math.imul(y,se)|0;m=m+Math.imul(y,ie)|0;var Ce=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;d=Math.imul(N,Z);p=Math.imul(N,X);p=p+Math.imul(P,Z)|0;m=Math.imul(P,X);d=d+Math.imul(T,te)|0;p=p+Math.imul(T,re)|0;p=p+Math.imul(x,te)|0;m=m+Math.imul(x,re)|0;d=d+Math.imul(w,se)|0;p=p+Math.imul(w,ie)|0;p=p+Math.imul(A,se)|0;m=m+Math.imul(A,ie)|0;d=d+Math.imul(v,ae)|0;p=p+Math.imul(v,le)|0;p=p+Math.imul(y,ae)|0;m=m+Math.imul(y,le)|0;var Me=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Me>>>26)|0;Me&=67108863;d=Math.imul(M,Z);p=Math.imul(M,X);p=p+Math.imul(B,Z)|0;m=Math.imul(B,X);d=d+Math.imul(N,te)|0;p=p+Math.imul(N,re)|0;p=p+Math.imul(P,te)|0;m=m+Math.imul(P,re)|0;d=d+Math.imul(T,se)|0;p=p+Math.imul(T,ie)|0;p=p+Math.imul(x,se)|0;m=m+Math.imul(x,ie)|0;d=d+Math.imul(w,ae)|0;p=p+Math.imul(w,le)|0;p=p+Math.imul(A,ae)|0;m=m+Math.imul(A,le)|0;d=d+Math.imul(v,ue)|0;p=p+Math.imul(v,de)|0;p=p+Math.imul(y,ue)|0;m=m+Math.imul(y,de)|0;var Be=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Be>>>26)|0;Be&=67108863;d=Math.imul(O,Z);p=Math.imul(O,X);p=p+Math.imul(D,Z)|0;m=Math.imul(D,X);d=d+Math.imul(M,te)|0;p=p+Math.imul(M,re)|0;p=p+Math.imul(B,te)|0;m=m+Math.imul(B,re)|0;d=d+Math.imul(N,se)|0;p=p+Math.imul(N,ie)|0;p=p+Math.imul(P,se)|0;m=m+Math.imul(P,ie)|0;d=d+Math.imul(T,ae)|0;p=p+Math.imul(T,le)|0;p=p+Math.imul(x,ae)|0;m=m+Math.imul(x,le)|0;d=d+Math.imul(w,ue)|0;p=p+Math.imul(w,de)|0;p=p+Math.imul(A,ue)|0;m=m+Math.imul(A,de)|0;d=d+Math.imul(v,pe)|0;p=p+Math.imul(v,me)|0;p=p+Math.imul(y,pe)|0;m=m+Math.imul(y,me)|0;var Re=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Re>>>26)|0;Re&=67108863;d=Math.imul(F,Z);p=Math.imul(F,X);p=p+Math.imul(U,Z)|0;m=Math.imul(U,X);d=d+Math.imul(O,te)|0;p=p+Math.imul(O,re)|0;p=p+Math.imul(D,te)|0;m=m+Math.imul(D,re)|0;d=d+Math.imul(M,se)|0;p=p+Math.imul(M,ie)|0;p=p+Math.imul(B,se)|0;m=m+Math.imul(B,ie)|0;d=d+Math.imul(N,ae)|0;p=p+Math.imul(N,le)|0;p=p+Math.imul(P,ae)|0;m=m+Math.imul(P,le)|0;d=d+Math.imul(T,ue)|0;p=p+Math.imul(T,de)|0;p=p+Math.imul(x,ue)|0;m=m+Math.imul(x,de)|0;d=d+Math.imul(w,pe)|0;p=p+Math.imul(w,me)|0;p=p+Math.imul(A,pe)|0;m=m+Math.imul(A,me)|0;d=d+Math.imul(v,ye)|0;p=p+Math.imul(v,be)|0;p=p+Math.imul(y,ye)|0;m=m+Math.imul(y,be)|0;var je=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(je>>>26)|0;je&=67108863;d=Math.imul(q,Z);p=Math.imul(q,X);p=p+Math.imul(G,Z)|0;m=Math.imul(G,X);d=d+Math.imul(F,te)|0;p=p+Math.imul(F,re)|0;p=p+Math.imul(U,te)|0;m=m+Math.imul(U,re)|0;d=d+Math.imul(O,se)|0;p=p+Math.imul(O,ie)|0;p=p+Math.imul(D,se)|0;m=m+Math.imul(D,ie)|0;d=d+Math.imul(M,ae)|0;p=p+Math.imul(M,le)|0;p=p+Math.imul(B,ae)|0;m=m+Math.imul(B,le)|0;d=d+Math.imul(N,ue)|0;p=p+Math.imul(N,de)|0;p=p+Math.imul(P,ue)|0;m=m+Math.imul(P,de)|0;d=d+Math.imul(T,pe)|0;p=p+Math.imul(T,me)|0;p=p+Math.imul(x,pe)|0;m=m+Math.imul(x,me)|0;d=d+Math.imul(w,ye)|0;p=p+Math.imul(w,be)|0;p=p+Math.imul(A,ye)|0;m=m+Math.imul(A,be)|0;d=d+Math.imul(v,we)|0;p=p+Math.imul(v,Ee)|0;p=p+Math.imul(y,we)|0;m=m+Math.imul(y,Ee)|0;var Oe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Oe>>>26)|0;Oe&=67108863;d=Math.imul(W,Z);p=Math.imul(W,X);p=p+Math.imul(V,Z)|0;m=Math.imul(V,X);d=d+Math.imul(q,te)|0;p=p+Math.imul(q,re)|0;p=p+Math.imul(G,te)|0;m=m+Math.imul(G,re)|0;d=d+Math.imul(F,se)|0;p=p+Math.imul(F,ie)|0;p=p+Math.imul(U,se)|0;m=m+Math.imul(U,ie)|0;d=d+Math.imul(O,ae)|0;p=p+Math.imul(O,le)|0;p=p+Math.imul(D,ae)|0;m=m+Math.imul(D,le)|0;d=d+Math.imul(M,ue)|0;p=p+Math.imul(M,de)|0;p=p+Math.imul(B,ue)|0;m=m+Math.imul(B,de)|0;d=d+Math.imul(N,pe)|0;p=p+Math.imul(N,me)|0;p=p+Math.imul(P,pe)|0;m=m+Math.imul(P,me)|0;d=d+Math.imul(T,ye)|0;p=p+Math.imul(T,be)|0;p=p+Math.imul(x,ye)|0;m=m+Math.imul(x,be)|0;d=d+Math.imul(w,we)|0;p=p+Math.imul(w,Ee)|0;p=p+Math.imul(A,we)|0;m=m+Math.imul(A,Ee)|0;d=d+Math.imul(v,Se)|0;p=p+Math.imul(v,ke)|0;p=p+Math.imul(y,Se)|0;m=m+Math.imul(y,ke)|0;var De=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(De>>>26)|0;De&=67108863;d=Math.imul($,Z);p=Math.imul($,X);p=p+Math.imul(J,Z)|0;m=Math.imul(J,X);d=d+Math.imul(W,te)|0;p=p+Math.imul(W,re)|0;p=p+Math.imul(V,te)|0;m=m+Math.imul(V,re)|0;d=d+Math.imul(q,se)|0;p=p+Math.imul(q,ie)|0;p=p+Math.imul(G,se)|0;m=m+Math.imul(G,ie)|0;d=d+Math.imul(F,ae)|0;p=p+Math.imul(F,le)|0;p=p+Math.imul(U,ae)|0;m=m+Math.imul(U,le)|0;d=d+Math.imul(O,ue)|0;p=p+Math.imul(O,de)|0;p=p+Math.imul(D,ue)|0;m=m+Math.imul(D,de)|0;d=d+Math.imul(M,pe)|0;p=p+Math.imul(M,me)|0;p=p+Math.imul(B,pe)|0;m=m+Math.imul(B,me)|0;d=d+Math.imul(N,ye)|0;p=p+Math.imul(N,be)|0;p=p+Math.imul(P,ye)|0;m=m+Math.imul(P,be)|0;d=d+Math.imul(T,we)|0;p=p+Math.imul(T,Ee)|0;p=p+Math.imul(x,we)|0;m=m+Math.imul(x,Ee)|0;d=d+Math.imul(w,Se)|0;p=p+Math.imul(w,ke)|0;p=p+Math.imul(A,Se)|0;m=m+Math.imul(A,ke)|0;d=d+Math.imul(v,xe)|0;p=p+Math.imul(v,Ie)|0;p=p+Math.imul(y,xe)|0;m=m+Math.imul(y,Ie)|0;var Le=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Le>>>26)|0;Le&=67108863;d=Math.imul($,te);p=Math.imul($,re);p=p+Math.imul(J,te)|0;m=Math.imul(J,re);d=d+Math.imul(W,se)|0;p=p+Math.imul(W,ie)|0;p=p+Math.imul(V,se)|0;m=m+Math.imul(V,ie)|0;d=d+Math.imul(q,ae)|0;p=p+Math.imul(q,le)|0;p=p+Math.imul(G,ae)|0;m=m+Math.imul(G,le)|0;d=d+Math.imul(F,ue)|0;p=p+Math.imul(F,de)|0;p=p+Math.imul(U,ue)|0;m=m+Math.imul(U,de)|0;d=d+Math.imul(O,pe)|0;p=p+Math.imul(O,me)|0;p=p+Math.imul(D,pe)|0;m=m+Math.imul(D,me)|0;d=d+Math.imul(M,ye)|0;p=p+Math.imul(M,be)|0;p=p+Math.imul(B,ye)|0;m=m+Math.imul(B,be)|0;d=d+Math.imul(N,we)|0;p=p+Math.imul(N,Ee)|0;p=p+Math.imul(P,we)|0;m=m+Math.imul(P,Ee)|0;d=d+Math.imul(T,Se)|0;p=p+Math.imul(T,ke)|0;p=p+Math.imul(x,Se)|0;m=m+Math.imul(x,ke)|0;d=d+Math.imul(w,xe)|0;p=p+Math.imul(w,Ie)|0;p=p+Math.imul(A,xe)|0;m=m+Math.imul(A,Ie)|0;var Fe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Fe>>>26)|0;Fe&=67108863;d=Math.imul($,se);p=Math.imul($,ie);p=p+Math.imul(J,se)|0;m=Math.imul(J,ie);d=d+Math.imul(W,ae)|0;p=p+Math.imul(W,le)|0;p=p+Math.imul(V,ae)|0;m=m+Math.imul(V,le)|0;d=d+Math.imul(q,ue)|0;p=p+Math.imul(q,de)|0;p=p+Math.imul(G,ue)|0;m=m+Math.imul(G,de)|0;d=d+Math.imul(F,pe)|0;p=p+Math.imul(F,me)|0;p=p+Math.imul(U,pe)|0;m=m+Math.imul(U,me)|0;d=d+Math.imul(O,ye)|0;p=p+Math.imul(O,be)|0;p=p+Math.imul(D,ye)|0;m=m+Math.imul(D,be)|0;d=d+Math.imul(M,we)|0;p=p+Math.imul(M,Ee)|0;p=p+Math.imul(B,we)|0;m=m+Math.imul(B,Ee)|0;d=d+Math.imul(N,Se)|0;p=p+Math.imul(N,ke)|0;p=p+Math.imul(P,Se)|0;m=m+Math.imul(P,ke)|0;d=d+Math.imul(T,xe)|0;p=p+Math.imul(T,Ie)|0;p=p+Math.imul(x,xe)|0;m=m+Math.imul(x,Ie)|0;var Ue=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ue>>>26)|0;Ue&=67108863;d=Math.imul($,ae);p=Math.imul($,le);p=p+Math.imul(J,ae)|0;m=Math.imul(J,le);d=d+Math.imul(W,ue)|0;p=p+Math.imul(W,de)|0;p=p+Math.imul(V,ue)|0;m=m+Math.imul(V,de)|0;d=d+Math.imul(q,pe)|0;p=p+Math.imul(q,me)|0;p=p+Math.imul(G,pe)|0;m=m+Math.imul(G,me)|0;d=d+Math.imul(F,ye)|0;p=p+Math.imul(F,be)|0;p=p+Math.imul(U,ye)|0;m=m+Math.imul(U,be)|0;d=d+Math.imul(O,we)|0;p=p+Math.imul(O,Ee)|0;p=p+Math.imul(D,we)|0;m=m+Math.imul(D,Ee)|0;d=d+Math.imul(M,Se)|0;p=p+Math.imul(M,ke)|0;p=p+Math.imul(B,Se)|0;m=m+Math.imul(B,ke)|0;d=d+Math.imul(N,xe)|0;p=p+Math.imul(N,Ie)|0;p=p+Math.imul(P,xe)|0;m=m+Math.imul(P,Ie)|0;var Ke=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ke>>>26)|0;Ke&=67108863;d=Math.imul($,ue);p=Math.imul($,de);p=p+Math.imul(J,ue)|0;m=Math.imul(J,de);d=d+Math.imul(W,pe)|0;p=p+Math.imul(W,me)|0;p=p+Math.imul(V,pe)|0;m=m+Math.imul(V,me)|0;d=d+Math.imul(q,ye)|0;p=p+Math.imul(q,be)|0;p=p+Math.imul(G,ye)|0;m=m+Math.imul(G,be)|0;d=d+Math.imul(F,we)|0;p=p+Math.imul(F,Ee)|0;p=p+Math.imul(U,we)|0;m=m+Math.imul(U,Ee)|0;d=d+Math.imul(O,Se)|0;p=p+Math.imul(O,ke)|0;p=p+Math.imul(D,Se)|0;m=m+Math.imul(D,ke)|0;d=d+Math.imul(M,xe)|0;p=p+Math.imul(M,Ie)|0;p=p+Math.imul(B,xe)|0;m=m+Math.imul(B,Ie)|0;var He=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(He>>>26)|0;He&=67108863;d=Math.imul($,pe);p=Math.imul($,me);p=p+Math.imul(J,pe)|0;m=Math.imul(J,me);d=d+Math.imul(W,ye)|0;p=p+Math.imul(W,be)|0;p=p+Math.imul(V,ye)|0;m=m+Math.imul(V,be)|0;d=d+Math.imul(q,we)|0;p=p+Math.imul(q,Ee)|0;p=p+Math.imul(G,we)|0;m=m+Math.imul(G,Ee)|0;d=d+Math.imul(F,Se)|0;p=p+Math.imul(F,ke)|0;p=p+Math.imul(U,Se)|0;m=m+Math.imul(U,ke)|0;d=d+Math.imul(O,xe)|0;p=p+Math.imul(O,Ie)|0;p=p+Math.imul(D,xe)|0;m=m+Math.imul(D,Ie)|0;var qe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(qe>>>26)|0;qe&=67108863;d=Math.imul($,ye);p=Math.imul($,be);p=p+Math.imul(J,ye)|0;m=Math.imul(J,be);d=d+Math.imul(W,we)|0;p=p+Math.imul(W,Ee)|0;p=p+Math.imul(V,we)|0;m=m+Math.imul(V,Ee)|0;d=d+Math.imul(q,Se)|0;p=p+Math.imul(q,ke)|0;p=p+Math.imul(G,Se)|0;m=m+Math.imul(G,ke)|0;d=d+Math.imul(F,xe)|0;p=p+Math.imul(F,Ie)|0;p=p+Math.imul(U,xe)|0;m=m+Math.imul(U,Ie)|0;var Ge=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ge>>>26)|0;Ge&=67108863;d=Math.imul($,we);p=Math.imul($,Ee);p=p+Math.imul(J,we)|0;m=Math.imul(J,Ee);d=d+Math.imul(W,Se)|0;p=p+Math.imul(W,ke)|0;p=p+Math.imul(V,Se)|0;m=m+Math.imul(V,ke)|0;d=d+Math.imul(q,xe)|0;p=p+Math.imul(q,Ie)|0;p=p+Math.imul(G,xe)|0;m=m+Math.imul(G,Ie)|0;var ze=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(ze>>>26)|0;ze&=67108863;d=Math.imul($,Se);p=Math.imul($,ke);p=p+Math.imul(J,Se)|0;m=Math.imul(J,ke);d=d+Math.imul(W,xe)|0;p=p+Math.imul(W,Ie)|0;p=p+Math.imul(V,xe)|0;m=m+Math.imul(V,Ie)|0;var We=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(We>>>26)|0;We&=67108863;d=Math.imul($,xe);p=Math.imul($,Ie);p=p+Math.imul(J,xe)|0;m=Math.imul(J,Ie);var Ve=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ve>>>26)|0;Ve&=67108863;l[0]=Ne;l[1]=Pe;l[2]=Ce;l[3]=Me;l[4]=Be;l[5]=Re;l[6]=je;l[7]=Oe;l[8]=De;l[9]=Le;l[10]=Fe;l[11]=Ue;l[12]=Ke;l[13]=He;l[14]=qe;l[15]=Ge;l[16]=ze;l[17]=We;l[18]=Ve;if(u!==0){l[19]=u;i.length++}return i};if(!Math.imul){p=smallMulTo}function bigMulTo(e,t,i){i.negative=t.negative^e.negative;i.length=e.length+t.length;var o=0;var a=0;for(var l=0;l<i.length-1;l++){var u=a;a=0;var d=o&67108863;var p=Math.min(l,t.length-1);for(var m=Math.max(0,l-e.length+1);m<=p;m++){var g=l-m;var v=e.words[g]|0;var y=t.words[m]|0;var _=v*y;var w=_&67108863;u=u+(_/67108864|0)|0;w=w+d|0;d=w&67108863;u=u+(w>>>26)|0;a+=u>>>26;u&=67108863}i.words[l]=d;o=u;u=a}if(o!==0){i.words[l]=o}else{i.length--}return i._strip()}function jumboMulTo(e,t,i){return bigMulTo(e,t,i)}BN.prototype.mulTo=function mulTo(e,t){var i;var o=this.length+e.length;if(this.length===10&&e.length===10){i=p(this,e,t)}else if(o<63){i=smallMulTo(this,e,t)}else if(o<1024){i=bigMulTo(this,e,t)}else{i=jumboMulTo(this,e,t)}return i};function FFTM(e,t){this.x=e;this.y=t}FFTM.prototype.makeRBT=function makeRBT(e){var t=new Array(e);var i=BN.prototype._countBits(e)-1;for(var o=0;o<e;o++){t[o]=this.revBin(o,i,e)}return t};FFTM.prototype.revBin=function revBin(e,t,i){if(e===0||e===i-1)return e;var o=0;for(var a=0;a<t;a++){o|=(e&1)<<t-a-1;e>>=1}return o};FFTM.prototype.permute=function permute(e,t,i,o,a,l){for(var u=0;u<l;u++){o[u]=t[e[u]];a[u]=i[e[u]]}};FFTM.prototype.transform=function transform(e,t,i,o,a,l){this.permute(l,e,t,i,o,a);for(var u=1;u<a;u<<=1){var d=u<<1;var p=Math.cos(2*Math.PI/d);var m=Math.sin(2*Math.PI/d);for(var g=0;g<a;g+=d){var v=p;var y=m;for(var _=0;_<u;_++){var w=i[g+_];var A=o[g+_];var k=i[g+_+u];var T=o[g+_+u];var x=v*k-y*T;T=v*T+y*k;k=x;i[g+_]=w+k;o[g+_]=A+T;i[g+_+u]=w-k;o[g+_+u]=A-T;if(_!==d){x=p*v-m*y;y=p*y+m*v;v=x}}}}};FFTM.prototype.guessLen13b=function guessLen13b(e,t){var i=Math.max(t,e)|1;var o=i&1;var a=0;for(i=i/2|0;i;i=i>>>1){a++}return 1<<a+1+o};FFTM.prototype.conjugate=function conjugate(e,t,i){if(i<=1)return;for(var o=0;o<i/2;o++){var a=e[o];e[o]=e[i-o-1];e[i-o-1]=a;a=t[o];t[o]=-t[i-o-1];t[i-o-1]=-a}};FFTM.prototype.normalize13b=function normalize13b(e,t){var i=0;for(var o=0;o<t/2;o++){var a=Math.round(e[2*o+1]/t)*8192+Math.round(e[2*o]/t)+i;e[o]=a&67108863;if(a<67108864){i=0}else{i=a/67108864|0}}return e};FFTM.prototype.convert13b=function convert13b(e,t,i,o){var a=0;for(var l=0;l<t;l++){a=a+(e[l]|0);i[2*l]=a&8191;a=a>>>13;i[2*l+1]=a&8191;a=a>>>13}for(l=2*t;l<o;++l){i[l]=0}assert(a===0);assert((a&~8191)===0)};FFTM.prototype.stub=function stub(e){var t=new Array(e);for(var i=0;i<e;i++){t[i]=0}return t};FFTM.prototype.mulp=function mulp(e,t,i){var o=2*this.guessLen13b(e.length,t.length);var a=this.makeRBT(o);var l=this.stub(o);var u=new Array(o);var d=new Array(o);var p=new Array(o);var m=new Array(o);var g=new Array(o);var v=new Array(o);var y=i.words;y.length=o;this.convert13b(e.words,e.length,u,o);this.convert13b(t.words,t.length,m,o);this.transform(u,l,d,p,o,a);this.transform(m,l,g,v,o,a);for(var _=0;_<o;_++){var w=d[_]*g[_]-p[_]*v[_];p[_]=d[_]*v[_]+p[_]*g[_];d[_]=w}this.conjugate(d,p,o);this.transform(d,p,y,l,o,a);this.conjugate(y,l,o);this.normalize13b(y,o);i.negative=e.negative^t.negative;i.length=e.length+t.length;return i._strip()};BN.prototype.mul=function mul(e){var t=new BN(null);t.words=new Array(this.length+e.length);return this.mulTo(e,t)};BN.prototype.mulf=function mulf(e){var t=new BN(null);t.words=new Array(this.length+e.length);return jumboMulTo(this,e,t)};BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)};BN.prototype.imuln=function imuln(e){var t=e<0;if(t)e=-e;assert(typeof e==="number");assert(e<67108864);var i=0;for(var o=0;o<this.length;o++){var a=(this.words[o]|0)*e;var l=(a&67108863)+(i&67108863);i>>=26;i+=a/67108864|0;i+=l>>>26;this.words[o]=l&67108863}if(i!==0){this.words[o]=i;this.length++}return t?this.ineg():this};BN.prototype.muln=function muln(e){return this.clone().imuln(e)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(e){var t=toBitArray(e);if(t.length===0)return new BN(1);var i=this;for(var o=0;o<t.length;o++,i=i.sqr()){if(t[o]!==0)break}if(++o<t.length){for(var a=i.sqr();o<t.length;o++,a=a.sqr()){if(t[o]===0)continue;i=i.mul(a)}}return i};BN.prototype.iushln=function iushln(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=67108863>>>26-t<<26-t;var a;if(t!==0){var l=0;for(a=0;a<this.length;a++){var u=this.words[a]&o;var d=(this.words[a]|0)-u<<t;this.words[a]=d|l;l=u>>>26-t}if(l){this.words[a]=l;this.length++}}if(i!==0){for(a=this.length-1;a>=0;a--){this.words[a+i]=this.words[a]}for(a=0;a<i;a++){this.words[a]=0}this.length+=i}return this._strip()};BN.prototype.ishln=function ishln(e){assert(this.negative===0);return this.iushln(e)};BN.prototype.iushrn=function iushrn(e,t,i){assert(typeof e==="number"&&e>=0);var o;if(t){o=(t-t%26)/26}else{o=0}var a=e%26;var l=Math.min((e-a)/26,this.length);var u=67108863^67108863>>>a<<a;var d=i;o-=l;o=Math.max(0,o);if(d){for(var p=0;p<l;p++){d.words[p]=this.words[p]}d.length=l}if(l===0){}else if(this.length>l){this.length-=l;for(p=0;p<this.length;p++){this.words[p]=this.words[p+l]}}else{this.words[0]=0;this.length=1}var m=0;for(p=this.length-1;p>=0&&(m!==0||p>=o);p--){var g=this.words[p]|0;this.words[p]=m<<26-a|g>>>a;m=g&u}if(d&&m!==0){d.words[d.length++]=m}if(this.length===0){this.words[0]=0;this.length=1}return this._strip()};BN.prototype.ishrn=function ishrn(e,t,i){assert(this.negative===0);return this.iushrn(e,t,i)};BN.prototype.shln=function shln(e){return this.clone().ishln(e)};BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)};BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)};BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)};BN.prototype.testn=function testn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i)return false;var a=this.words[i];return!!(a&o)};BN.prototype.imaskn=function imaskn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(t!==0){i++}this.length=Math.min(i,this.length);if(t!==0){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this._strip()};BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)};BN.prototype.iaddn=function iaddn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.isubn(-e);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=e){this.words[0]=e-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(e);this.negative=1;return this}return this._iaddn(e)};BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++){this.words[t]-=67108864;if(t===this.length-1){this.words[t+1]=1}else{this.words[t+1]++}}this.length=Math.max(this.length,t+1);return this};BN.prototype.isubn=function isubn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.iaddn(-e);if(this.negative!==0){this.negative=0;this.iaddn(e);this.negative=1;return this}this.words[0]-=e;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var t=0;t<this.length&&this.words[t]<0;t++){this.words[t]+=67108864;this.words[t+1]-=1}}return this._strip()};BN.prototype.addn=function addn(e){return this.clone().iaddn(e)};BN.prototype.subn=function subn(e){return this.clone().isubn(e)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(e,t,i){var o=e.length+i;var a;this._expand(o);var l;var u=0;for(a=0;a<e.length;a++){l=(this.words[a+i]|0)+u;var d=(e.words[a]|0)*t;l-=d&67108863;u=(l>>26)-(d/67108864|0);this.words[a+i]=l&67108863}for(;a<this.length-i;a++){l=(this.words[a+i]|0)+u;u=l>>26;this.words[a+i]=l&67108863}if(u===0)return this._strip();assert(u===-1);u=0;for(a=0;a<this.length;a++){l=-(this.words[a]|0)+u;u=l>>26;this.words[a]=l&67108863}this.negative=1;return this._strip()};BN.prototype._wordDiv=function _wordDiv(e,t){var i=this.length-e.length;var o=this.clone();var a=e;var l=a.words[a.length-1]|0;var u=this._countBits(l);i=26-u;if(i!==0){a=a.ushln(i);o.iushln(i);l=a.words[a.length-1]|0}var d=o.length-a.length;var p;if(t!=="mod"){p=new BN(null);p.length=d+1;p.words=new Array(p.length);for(var m=0;m<p.length;m++){p.words[m]=0}}var g=o.clone()._ishlnsubmul(a,1,d);if(g.negative===0){o=g;if(p){p.words[d]=1}}for(var v=d-1;v>=0;v--){var y=(o.words[a.length+v]|0)*67108864+(o.words[a.length+v-1]|0);y=Math.min(y/l|0,67108863);o._ishlnsubmul(a,y,v);while(o.negative!==0){y--;o.negative=0;o._ishlnsubmul(a,1,v);if(!o.isZero()){o.negative^=1}}if(p){p.words[v]=y}}if(p){p._strip()}o._strip();if(t!=="div"&&i!==0){o.iushrn(i)}return{div:p||null,mod:o}};BN.prototype.divmod=function divmod(e,t,i){assert(!e.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var o,a,l;if(this.negative!==0&&e.negative===0){l=this.neg().divmod(e,t);if(t!=="mod"){o=l.div.neg()}if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.iadd(e)}}return{div:o,mod:a}}if(this.negative===0&&e.negative!==0){l=this.divmod(e.neg(),t);if(t!=="mod"){o=l.div.neg()}return{div:o,mod:l.mod}}if((this.negative&e.negative)!==0){l=this.neg().divmod(e.neg(),t);if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.isub(e)}}return{div:l.div,mod:a}}if(e.length>this.length||this.cmp(e)<0){return{div:new BN(0),mod:this}}if(e.length===1){if(t==="div"){return{div:this.divn(e.words[0]),mod:null}}if(t==="mod"){return{div:null,mod:new BN(this.modrn(e.words[0]))}}return{div:this.divn(e.words[0]),mod:new BN(this.modrn(e.words[0]))}}return this._wordDiv(e,t)};BN.prototype.div=function div(e){return this.divmod(e,"div",false).div};BN.prototype.mod=function mod(e){return this.divmod(e,"mod",false).mod};BN.prototype.umod=function umod(e){return this.divmod(e,"mod",true).mod};BN.prototype.divRound=function divRound(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=t.div.negative!==0?t.mod.isub(e):t.mod;var o=e.ushrn(1);var a=e.andln(1);var l=i.cmp(o);if(l<0||a===1&&l===0)return t.div;return t.div.negative!==0?t.div.isubn(1):t.div.iaddn(1)};BN.prototype.modrn=function modrn(e){var t=e<0;if(t)e=-e;assert(e<=67108863);var i=(1<<26)%e;var o=0;for(var a=this.length-1;a>=0;a--){o=(i*o+(this.words[a]|0))%e}return t?-o:o};BN.prototype.modn=function modn(e){return this.modrn(e)};BN.prototype.idivn=function idivn(e){var t=e<0;if(t)e=-e;assert(e<=67108863);var i=0;for(var o=this.length-1;o>=0;o--){var a=(this.words[o]|0)+i*67108864;this.words[o]=a/e|0;i=a%e}this._strip();return t?this.ineg():this};BN.prototype.divn=function divn(e){return this.clone().idivn(e)};BN.prototype.egcd=function egcd(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=new BN(0);var u=new BN(1);var d=0;while(t.isEven()&&i.isEven()){t.iushrn(1);i.iushrn(1);++d}var p=i.clone();var m=t.clone();while(!t.isZero()){for(var g=0,v=1;(t.words[0]&v)===0&&g<26;++g,v<<=1);if(g>0){t.iushrn(g);while(g-- >0){if(o.isOdd()||a.isOdd()){o.iadd(p);a.isub(m)}o.iushrn(1);a.iushrn(1)}}for(var y=0,_=1;(i.words[0]&_)===0&&y<26;++y,_<<=1);if(y>0){i.iushrn(y);while(y-- >0){if(l.isOdd()||u.isOdd()){l.iadd(p);u.isub(m)}l.iushrn(1);u.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(l);a.isub(u)}else{i.isub(t);l.isub(o);u.isub(a)}}return{a:l,b:u,gcd:i.iushln(d)}};BN.prototype._invmp=function _invmp(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var u=0,d=1;(t.words[0]&d)===0&&u<26;++u,d<<=1);if(u>0){t.iushrn(u);while(u-- >0){if(o.isOdd()){o.iadd(l)}o.iushrn(1)}}for(var p=0,m=1;(i.words[0]&m)===0&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0){if(a.isOdd()){a.iadd(l)}a.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(a)}else{i.isub(t);a.isub(o)}}var g;if(t.cmpn(1)===0){g=o}else{g=a}if(g.cmpn(0)<0){g.iadd(e)}return g};BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone();var i=e.clone();t.negative=0;i.negative=0;for(var o=0;t.isEven()&&i.isEven();o++){t.iushrn(1);i.iushrn(1)}do{while(t.isEven()){t.iushrn(1)}while(i.isEven()){i.iushrn(1)}var a=t.cmp(i);if(a<0){var l=t;t=i;i=l}else if(a===0||i.cmpn(1)===0){break}t.isub(i)}while(true);return i.iushln(o)};BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(e){return this.words[0]&e};BN.prototype.bincn=function bincn(e){assert(typeof e==="number");var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i){this._expand(i+1);this.words[i]|=o;return this}var a=o;for(var l=i;a!==0&&l<this.length;l++){var u=this.words[l]|0;u+=a;a=u>>>26;u&=67108863;this.words[l]=u}if(a!==0){this.words[l]=a;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(e){var t=e<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;this._strip();var i;if(this.length>1){i=1}else{if(t){e=-e}assert(e<=67108863,"Number is too big");var o=this.words[0]|0;i=o===e?0:o<e?-1:1}if(this.negative!==0)return-i|0;return i};BN.prototype.cmp=function cmp(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var t=this.ucmp(e);if(this.negative!==0)return-t|0;return t};BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;var t=0;for(var i=this.length-1;i>=0;i--){var o=this.words[i]|0;var a=e.words[i]|0;if(o===a)continue;if(o<a){t=-1}else if(o>a){t=1}break}return t};BN.prototype.gtn=function gtn(e){return this.cmpn(e)===1};BN.prototype.gt=function gt(e){return this.cmp(e)===1};BN.prototype.gten=function gten(e){return this.cmpn(e)>=0};BN.prototype.gte=function gte(e){return this.cmp(e)>=0};BN.prototype.ltn=function ltn(e){return this.cmpn(e)===-1};BN.prototype.lt=function lt(e){return this.cmp(e)===-1};BN.prototype.lten=function lten(e){return this.cmpn(e)<=0};BN.prototype.lte=function lte(e){return this.cmp(e)<=0};BN.prototype.eqn=function eqn(e){return this.cmpn(e)===0};BN.prototype.eq=function eq(e){return this.cmp(e)===0};BN.red=function red(e){return new Red(e)};BN.prototype.toRed=function toRed(e){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return e.convertTo(this)._forceRed(e)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(e){this.red=e;return this};BN.prototype.forceRed=function forceRed(e){assert(!this.red,"Already a number in reduction context");return this._forceRed(e)};BN.prototype.redAdd=function redAdd(e){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};BN.prototype.redIAdd=function redIAdd(e){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};BN.prototype.redSub=function redSub(e){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};BN.prototype.redISub=function redISub(e){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};BN.prototype.redShl=function redShl(e){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};BN.prototype.redMul=function redMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};BN.prototype.redIMul=function redIMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(e){assert(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e;this.p=new BN(t,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);e.words=new Array(Math.ceil(this.n/13));return e};MPrime.prototype.ireduce=function ireduce(e){var t=e;var i;do{this.split(t,this.tmp);t=this.imulK(t);t=t.iadd(this.tmp);i=t.bitLength()}while(i>this.n);var o=i<this.n?-1:t.ucmp(this.p);if(o===0){t.words[0]=0;t.length=1}else if(o>0){t.isub(this.p)}else{if(t.strip!==undefined){t.strip()}else{t._strip()}}return t};MPrime.prototype.split=function split(e,t){e.iushrn(this.n,0,t)};MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(e,t){var i=4194303;var o=Math.min(e.length,9);for(var a=0;a<o;a++){t.words[a]=e.words[a]}t.length=o;if(e.length<=9){e.words[0]=0;e.length=1;return}var l=e.words[9];t.words[t.length++]=l&i;for(a=10;a<e.length;a++){var u=e.words[a]|0;e.words[a-10]=(u&i)<<4|l>>>22;l=u}l>>>=22;e.words[a-10]=l;if(l===0&&e.length>10){e.length-=10}else{e.length-=9}};K256.prototype.imulK=function imulK(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;var t=0;for(var i=0;i<e.length;i++){var o=e.words[i]|0;t+=o*977;e.words[i]=t&67108863;t=o*64+(t/67108864|0)}if(e.words[e.length-1]===0){e.length--;if(e.words[e.length-1]===0){e.length--}}return e};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(e){var t=0;for(var i=0;i<e.length;i++){var o=(e.words[i]|0)*19+t;var a=o&67108863;o>>>=26;e.words[i]=a;t=o}if(t!==0){e.words[e.length++]=t}return e};BN._prime=function prime(e){if(m[e])return m[e];var prime;if(e==="k256"){prime=new K256}else if(e==="p224"){prime=new P224}else if(e==="p192"){prime=new P192}else if(e==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+e)}m[e]=prime;return prime};function Red(e){if(typeof e==="string"){var t=BN._prime(e);this.m=t.p;this.prime=t}else{assert(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}Red.prototype._verify1=function _verify1(e){assert(e.negative===0,"red works only with positives");assert(e.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(e,t){assert((e.negative|t.negative)===0,"red works only with positives");assert(e.red&&e.red===t.red,"red works only with red numbers")};Red.prototype.imod=function imod(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);move(e,e.umod(this.m)._forceRed(this));return e};Red.prototype.neg=function neg(e){if(e.isZero()){return e.clone()}return this.m.sub(e)._forceRed(this)};Red.prototype.add=function add(e,t){this._verify2(e,t);var i=e.add(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i._forceRed(this)};Red.prototype.iadd=function iadd(e,t){this._verify2(e,t);var i=e.iadd(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i};Red.prototype.sub=function sub(e,t){this._verify2(e,t);var i=e.sub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i._forceRed(this)};Red.prototype.isub=function isub(e,t){this._verify2(e,t);var i=e.isub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i};Red.prototype.shl=function shl(e,t){this._verify1(e);return this.imod(e.ushln(t))};Red.prototype.imul=function imul(e,t){this._verify2(e,t);return this.imod(e.imul(t))};Red.prototype.mul=function mul(e,t){this._verify2(e,t);return this.imod(e.mul(t))};Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())};Red.prototype.sqr=function sqr(e){return this.mul(e,e)};Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var t=this.m.andln(3);assert(t%2===1);if(t===3){var i=this.m.add(new BN(1)).iushrn(2);return this.pow(e,i)}var o=this.m.subn(1);var a=0;while(!o.isZero()&&o.andln(1)===0){a++;o.iushrn(1)}assert(!o.isZero());var l=new BN(1).toRed(this);var u=l.redNeg();var d=this.m.subn(1).iushrn(1);var p=this.m.bitLength();p=new BN(2*p*p).toRed(this);while(this.pow(p,d).cmp(u)!==0){p.redIAdd(u)}var m=this.pow(p,o);var g=this.pow(e,o.addn(1).iushrn(1));var v=this.pow(e,o);var y=a;while(v.cmp(l)!==0){var _=v;for(var w=0;_.cmp(l)!==0;w++){_=_.redSqr()}assert(w<y);var A=this.pow(m,new BN(1).iushln(y-w-1));g=g.redMul(A);m=A.redSqr();v=v.redMul(m);y=w}return g};Red.prototype.invm=function invm(e){var t=e._invmp(this.m);if(t.negative!==0){t.negative=0;return this.imod(t).redNeg()}else{return this.imod(t)}};Red.prototype.pow=function pow(e,t){if(t.isZero())return new BN(1).toRed(this);if(t.cmpn(1)===0)return e.clone();var i=4;var o=new Array(1<<i);o[0]=new BN(1).toRed(this);o[1]=e;for(var a=2;a<o.length;a++){o[a]=this.mul(o[a-1],e)}var l=o[0];var u=0;var d=0;var p=t.bitLength()%26;if(p===0){p=26}for(a=t.length-1;a>=0;a--){var m=t.words[a];for(var g=p-1;g>=0;g--){var v=m>>g&1;if(l!==o[0]){l=this.sqr(l)}if(v===0&&u===0){d=0;continue}u<<=1;u|=v;d++;if(d!==i&&(a!==0||g!==0))continue;l=this.mul(l,o[u]);d=0;u=0}p=26}return l};Red.prototype.convertTo=function convertTo(e){var t=e.umod(this.m);return t===e?t.clone():t};Red.prototype.convertFrom=function convertFrom(e){var t=e.clone();t.red=null;return t};BN.mont=function mont(e){return new Mont(e)};function Mont(e){Red.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(e){var t=this.imod(e.mul(this.rinv));t.red=null;return t};Mont.prototype.imul=function imul(e,t){if(e.isZero()||t.isZero()){e.words[0]=0;e.length=1;return e}var i=e.imul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.mul=function mul(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var i=e.mul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.invm=function invm(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(false||e,this)},"../../node_modules/.pnpm/bn.js@5.2.2/node_modules/bn.js/lib/bn.js":function(e,t,i){e=i.nmd(e);(function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}function BN(e,t,i){if(BN.isBN(e)){return e}this.negative=0;this.words=null;this.length=0;this.red=null;if(e!==null){if(t==="le"||t==="be"){i=t;t=10}this._init(e||0,t||10,i||"be")}}if(typeof e==="object"){e.exports=BN}else{t.BN=BN}BN.BN=BN;BN.wordSize=26;var o;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined"){o=window.Buffer}else{o=i("?74b8").Buffer}}catch(e){}BN.isBN=function isBN(e){if(e instanceof BN){return true}return e!==null&&typeof e==="object"&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)};BN.max=function max(e,t){if(e.cmp(t)>0)return e;return t};BN.min=function min(e,t){if(e.cmp(t)<0)return e;return t};BN.prototype._init=function init(e,t,i){if(typeof e==="number"){return this._initNumber(e,t,i)}if(typeof e==="object"){return this._initArray(e,t,i)}if(t==="hex"){t=16}assert(t===(t|0)&&t>=2&&t<=36);e=e.toString().replace(/\s+/g,"");var o=0;if(e[0]==="-"){o++;this.negative=1}if(o<e.length){if(t===16){this._parseHex(e,o,i)}else{this._parseBase(e,t,o);if(i==="le"){this._initArray(this.toArray(),t,i)}}}};BN.prototype._initNumber=function _initNumber(e,t,i){if(e<0){this.negative=1;e=-e}if(e<67108864){this.words=[e&67108863];this.length=1}else if(e<4503599627370496){this.words=[e&67108863,e/67108864&67108863];this.length=2}else{assert(e<9007199254740992);this.words=[e&67108863,e/67108864&67108863,1];this.length=3}if(i!=="le")return;this._initArray(this.toArray(),t,i)};BN.prototype._initArray=function _initArray(e,t,i){assert(typeof e.length==="number");if(e.length<=0){this.words=[0];this.length=1;return this}this.length=Math.ceil(e.length/3);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a,l;var u=0;if(i==="be"){for(o=e.length-1,a=0;o>=0;o-=3){l=e[o]|e[o-1]<<8|e[o-2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}else if(i==="le"){for(o=0,a=0;o<e.length;o+=3){l=e[o]|e[o+1]<<8|e[o+2]<<16;this.words[a]|=l<<u&67108863;this.words[a+1]=l>>>26-u&67108863;u+=24;if(u>=26){u-=26;a++}}}return this._strip()};function parseHex4Bits(e,t){var i=e.charCodeAt(t);if(i>=48&&i<=57){return i-48}else if(i>=65&&i<=70){return i-55}else if(i>=97&&i<=102){return i-87}else{assert(false,"Invalid character in "+e)}}function parseHexByte(e,t,i){var o=parseHex4Bits(e,i);if(i-1>=t){o|=parseHex4Bits(e,i-1)<<4}return o}BN.prototype._parseHex=function _parseHex(e,t,i){this.length=Math.ceil((e.length-t)/6);this.words=new Array(this.length);for(var o=0;o<this.length;o++){this.words[o]=0}var a=0;var l=0;var u;if(i==="be"){for(o=e.length-1;o>=t;o-=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}else{var d=e.length-t;for(o=d%2===0?t+1:t;o<e.length;o+=2){u=parseHexByte(e,t,o)<<a;this.words[l]|=u&67108863;if(a>=18){a-=18;l+=1;this.words[l]|=u>>>26}else{a+=8}}}this._strip()};function parseBase(e,t,i,o){var a=0;var l=0;var u=Math.min(e.length,i);for(var d=t;d<u;d++){var p=e.charCodeAt(d)-48;a*=o;if(p>=49){l=p-49+10}else if(p>=17){l=p-17+10}else{l=p}assert(p>=0&&l<o,"Invalid character");a+=l}return a}BN.prototype._parseBase=function _parseBase(e,t,i){this.words=[0];this.length=1;for(var o=0,a=1;a<=67108863;a*=t){o++}o--;a=a/t|0;var l=e.length-i;var u=l%o;var d=Math.min(l,l-u)+i;var p=0;for(var m=i;m<d;m+=o){p=parseBase(e,m,m+o,t);this.imuln(a);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}if(u!==0){var g=1;p=parseBase(e,m,e.length,t);for(m=0;m<u;m++){g*=t}this.imuln(g);if(this.words[0]+p<67108864){this.words[0]+=p}else{this._iaddn(p)}}this._strip()};BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++){e.words[t]=this.words[t]}e.length=this.length;e.negative=this.negative;e.red=this.red};function move(e,t){e.words=t.words;e.length=t.length;e.negative=t.negative;e.red=t.red}BN.prototype._move=function _move(e){move(e,this)};BN.prototype.clone=function clone(){var e=new BN(null);this.copy(e);return e};BN.prototype._expand=function _expand(e){while(this.length<e){this.words[this.length++]=0}return this};BN.prototype._strip=function strip(){while(this.length>1&&this.words[this.length-1]===0){this.length--}return this._normSign()};BN.prototype._normSign=function _normSign(){if(this.length===1&&this.words[0]===0){this.negative=0}return this};if(typeof Symbol!=="undefined"&&typeof Symbol.for==="function"){try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(e){BN.prototype.inspect=inspect}}else{BN.prototype.inspect=inspect}function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"];var l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5];var u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(e,t){e=e||10;t=t|0||1;var i;if(e===16||e==="hex"){i="";var o=0;var d=0;for(var p=0;p<this.length;p++){var m=this.words[p];var g=((m<<o|d)&16777215).toString(16);d=m>>>24-o&16777215;o+=2;if(o>=26){o-=26;p--}if(d!==0||p!==this.length-1){i=a[6-g.length]+g+i}else{i=g+i}}if(d!==0){i=d.toString(16)+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}if(e===(e|0)&&e>=2&&e<=36){var v=l[e];var y=u[e];i="";var _=this.clone();_.negative=0;while(!_.isZero()){var w=_.modrn(y).toString(e);_=_.idivn(y);if(!_.isZero()){i=a[v-w.length]+w+i}else{i=w+i}}if(this.isZero()){i="0"+i}while(i.length%t!==0){i="0"+i}if(this.negative!==0){i="-"+i}return i}assert(false,"Base should be between 2 and 36")};BN.prototype.toNumber=function toNumber(){var e=this.words[0];if(this.length===2){e+=this.words[1]*67108864}else if(this.length===3&&this.words[2]===1){e+=4503599627370496+this.words[1]*67108864}else if(this.length>2){assert(false,"Number can only safely store up to 53 bits")}return this.negative!==0?-e:e};BN.prototype.toJSON=function toJSON(){return this.toString(16,2)};if(o){BN.prototype.toBuffer=function toBuffer(e,t){return this.toArrayLike(o,e,t)}}BN.prototype.toArray=function toArray(e,t){return this.toArrayLike(Array,e,t)};var d=function allocate(e,t){if(e.allocUnsafe){return e.allocUnsafe(t)}return new e(t)};BN.prototype.toArrayLike=function toArrayLike(e,t,i){this._strip();var o=this.byteLength();var a=i||Math.max(1,o);assert(o<=a,"byte array longer than desired length");assert(a>0,"Requested array length <= 0");var l=d(e,a);var u=t==="le"?"LE":"BE";this["_toArrayLike"+u](l,o);return l};BN.prototype._toArrayLikeLE=function _toArrayLikeLE(e,t){var i=0;var o=0;for(var a=0,l=0;a<this.length;a++){var u=this.words[a]<<l|o;e[i++]=u&255;if(i<e.length){e[i++]=u>>8&255}if(i<e.length){e[i++]=u>>16&255}if(l===6){if(i<e.length){e[i++]=u>>24&255}o=0;l=0}else{o=u>>>24;l+=2}}if(i<e.length){e[i++]=o;while(i<e.length){e[i++]=0}}};BN.prototype._toArrayLikeBE=function _toArrayLikeBE(e,t){var i=e.length-1;var o=0;for(var a=0,l=0;a<this.length;a++){var u=this.words[a]<<l|o;e[i--]=u&255;if(i>=0){e[i--]=u>>8&255}if(i>=0){e[i--]=u>>16&255}if(l===6){if(i>=0){e[i--]=u>>24&255}o=0;l=0}else{o=u>>>24;l+=2}}if(i>=0){e[i--]=o;while(i>=0){e[i--]=0}}};if(Math.clz32){BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}}else{BN.prototype._countBits=function _countBits(e){var t=e;var i=0;if(t>=4096){i+=13;t>>>=13}if(t>=64){i+=7;t>>>=7}if(t>=8){i+=4;t>>>=4}if(t>=2){i+=2;t>>>=2}return i+t}}BN.prototype._zeroBits=function _zeroBits(e){if(e===0)return 26;var t=e;var i=0;if((t&8191)===0){i+=13;t>>>=13}if((t&127)===0){i+=7;t>>>=7}if((t&15)===0){i+=4;t>>>=4}if((t&3)===0){i+=2;t>>>=2}if((t&1)===0){i++}return i};BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1];var t=this._countBits(e);return(this.length-1)*26+t};function toBitArray(e){var t=new Array(e.bitLength());for(var i=0;i<t.length;i++){var o=i/26|0;var a=i%26;t[i]=e.words[o]>>>a&1}return t}BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;var e=0;for(var t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);e+=i;if(i!==26)break}return e};BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)};BN.prototype.toTwos=function toTwos(e){if(this.negative!==0){return this.abs().inotn(e).iaddn(1)}return this.clone()};BN.prototype.fromTwos=function fromTwos(e){if(this.testn(e-1)){return this.notn(e).iaddn(1).ineg()}return this.clone()};BN.prototype.isNeg=function isNeg(){return this.negative!==0};BN.prototype.neg=function neg(){return this.clone().ineg()};BN.prototype.ineg=function ineg(){if(!this.isZero()){this.negative^=1}return this};BN.prototype.iuor=function iuor(e){while(this.length<e.length){this.words[this.length++]=0}for(var t=0;t<e.length;t++){this.words[t]=this.words[t]|e.words[t]}return this._strip()};BN.prototype.ior=function ior(e){assert((this.negative|e.negative)===0);return this.iuor(e)};BN.prototype.or=function or(e){if(this.length>e.length)return this.clone().ior(e);return e.clone().ior(this)};BN.prototype.uor=function uor(e){if(this.length>e.length)return this.clone().iuor(e);return e.clone().iuor(this)};BN.prototype.iuand=function iuand(e){var t;if(this.length>e.length){t=e}else{t=this}for(var i=0;i<t.length;i++){this.words[i]=this.words[i]&e.words[i]}this.length=t.length;return this._strip()};BN.prototype.iand=function iand(e){assert((this.negative|e.negative)===0);return this.iuand(e)};BN.prototype.and=function and(e){if(this.length>e.length)return this.clone().iand(e);return e.clone().iand(this)};BN.prototype.uand=function uand(e){if(this.length>e.length)return this.clone().iuand(e);return e.clone().iuand(this)};BN.prototype.iuxor=function iuxor(e){var t;var i;if(this.length>e.length){t=this;i=e}else{t=e;i=this}for(var o=0;o<i.length;o++){this.words[o]=t.words[o]^i.words[o]}if(this!==t){for(;o<t.length;o++){this.words[o]=t.words[o]}}this.length=t.length;return this._strip()};BN.prototype.ixor=function ixor(e){assert((this.negative|e.negative)===0);return this.iuxor(e)};BN.prototype.xor=function xor(e){if(this.length>e.length)return this.clone().ixor(e);return e.clone().ixor(this)};BN.prototype.uxor=function uxor(e){if(this.length>e.length)return this.clone().iuxor(e);return e.clone().iuxor(this)};BN.prototype.inotn=function inotn(e){assert(typeof e==="number"&&e>=0);var t=Math.ceil(e/26)|0;var i=e%26;this._expand(t);if(i>0){t--}for(var o=0;o<t;o++){this.words[o]=~this.words[o]&67108863}if(i>0){this.words[o]=~this.words[o]&67108863>>26-i}return this._strip()};BN.prototype.notn=function notn(e){return this.clone().inotn(e)};BN.prototype.setn=function setn(e,t){assert(typeof e==="number"&&e>=0);var i=e/26|0;var o=e%26;this._expand(i+1);if(t){this.words[i]=this.words[i]|1<<o}else{this.words[i]=this.words[i]&~(1<<o)}return this._strip()};BN.prototype.iadd=function iadd(e){var t;if(this.negative!==0&&e.negative===0){this.negative=0;t=this.isub(e);this.negative^=1;return this._normSign()}else if(this.negative===0&&e.negative!==0){e.negative=0;t=this.isub(e);e.negative=1;return t._normSign()}var i,o;if(this.length>e.length){i=this;o=e}else{i=e;o=this}var a=0;for(var l=0;l<o.length;l++){t=(i.words[l]|0)+(o.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}for(;a!==0&&l<i.length;l++){t=(i.words[l]|0)+a;this.words[l]=t&67108863;a=t>>>26}this.length=i.length;if(a!==0){this.words[this.length]=a;this.length++}else if(i!==this){for(;l<i.length;l++){this.words[l]=i.words[l]}}return this};BN.prototype.add=function add(e){var t;if(e.negative!==0&&this.negative===0){e.negative=0;t=this.sub(e);e.negative^=1;return t}else if(e.negative===0&&this.negative!==0){this.negative=0;t=e.sub(this);this.negative=1;return t}if(this.length>e.length)return this.clone().iadd(e);return e.clone().iadd(this)};BN.prototype.isub=function isub(e){if(e.negative!==0){e.negative=0;var t=this.iadd(e);e.negative=1;return t._normSign()}else if(this.negative!==0){this.negative=0;this.iadd(e);this.negative=1;return this._normSign()}var i=this.cmp(e);if(i===0){this.negative=0;this.length=1;this.words[0]=0;return this}var o,a;if(i>0){o=this;a=e}else{o=e;a=this}var l=0;for(var u=0;u<a.length;u++){t=(o.words[u]|0)-(a.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}for(;l!==0&&u<o.length;u++){t=(o.words[u]|0)+l;l=t>>26;this.words[u]=t&67108863}if(l===0&&u<o.length&&o!==this){for(;u<o.length;u++){this.words[u]=o.words[u]}}this.length=Math.max(this.length,u);if(o!==this){this.negative=1}return this._strip()};BN.prototype.sub=function sub(e){return this.clone().isub(e)};function smallMulTo(e,t,i){i.negative=t.negative^e.negative;var o=e.length+t.length|0;i.length=o;o=o-1|0;var a=e.words[0]|0;var l=t.words[0]|0;var u=a*l;var d=u&67108863;var p=u/67108864|0;i.words[0]=d;for(var m=1;m<o;m++){var g=p>>>26;var v=p&67108863;var y=Math.min(m,t.length-1);for(var _=Math.max(0,m-e.length+1);_<=y;_++){var w=m-_|0;a=e.words[w]|0;l=t.words[_]|0;u=a*l+v;g+=u/67108864|0;v=u&67108863}i.words[m]=v|0;p=g|0}if(p!==0){i.words[m]=p|0}else{i.length--}return i._strip()}var p=function comb10MulTo(e,t,i){var o=e.words;var a=t.words;var l=i.words;var u=0;var d;var p;var m;var g=o[0]|0;var v=g&8191;var y=g>>>13;var _=o[1]|0;var w=_&8191;var A=_>>>13;var k=o[2]|0;var T=k&8191;var x=k>>>13;var I=o[3]|0;var N=I&8191;var P=I>>>13;var C=o[4]|0;var M=C&8191;var B=C>>>13;var j=o[5]|0;var O=j&8191;var D=j>>>13;var L=o[6]|0;var F=L&8191;var U=L>>>13;var H=o[7]|0;var q=H&8191;var G=H>>>13;var z=o[8]|0;var W=z&8191;var V=z>>>13;var Y=o[9]|0;var $=Y&8191;var J=Y>>>13;var Q=a[0]|0;var Z=Q&8191;var X=Q>>>13;var ee=a[1]|0;var te=ee&8191;var re=ee>>>13;var ne=a[2]|0;var se=ne&8191;var ie=ne>>>13;var oe=a[3]|0;var ae=oe&8191;var le=oe>>>13;var ce=a[4]|0;var ue=ce&8191;var de=ce>>>13;var he=a[5]|0;var pe=he&8191;var me=he>>>13;var ve=a[6]|0;var ye=ve&8191;var be=ve>>>13;var _e=a[7]|0;var we=_e&8191;var Ee=_e>>>13;var Ae=a[8]|0;var Se=Ae&8191;var ke=Ae>>>13;var Te=a[9]|0;var xe=Te&8191;var Ie=Te>>>13;i.negative=e.negative^t.negative;i.length=19;d=Math.imul(v,Z);p=Math.imul(v,X);p=p+Math.imul(y,Z)|0;m=Math.imul(y,X);var Ne=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ne>>>26)|0;Ne&=67108863;d=Math.imul(w,Z);p=Math.imul(w,X);p=p+Math.imul(A,Z)|0;m=Math.imul(A,X);d=d+Math.imul(v,te)|0;p=p+Math.imul(v,re)|0;p=p+Math.imul(y,te)|0;m=m+Math.imul(y,re)|0;var Pe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Pe>>>26)|0;Pe&=67108863;d=Math.imul(T,Z);p=Math.imul(T,X);p=p+Math.imul(x,Z)|0;m=Math.imul(x,X);d=d+Math.imul(w,te)|0;p=p+Math.imul(w,re)|0;p=p+Math.imul(A,te)|0;m=m+Math.imul(A,re)|0;d=d+Math.imul(v,se)|0;p=p+Math.imul(v,ie)|0;p=p+Math.imul(y,se)|0;m=m+Math.imul(y,ie)|0;var Ce=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ce>>>26)|0;Ce&=67108863;d=Math.imul(N,Z);p=Math.imul(N,X);p=p+Math.imul(P,Z)|0;m=Math.imul(P,X);d=d+Math.imul(T,te)|0;p=p+Math.imul(T,re)|0;p=p+Math.imul(x,te)|0;m=m+Math.imul(x,re)|0;d=d+Math.imul(w,se)|0;p=p+Math.imul(w,ie)|0;p=p+Math.imul(A,se)|0;m=m+Math.imul(A,ie)|0;d=d+Math.imul(v,ae)|0;p=p+Math.imul(v,le)|0;p=p+Math.imul(y,ae)|0;m=m+Math.imul(y,le)|0;var Me=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Me>>>26)|0;Me&=67108863;d=Math.imul(M,Z);p=Math.imul(M,X);p=p+Math.imul(B,Z)|0;m=Math.imul(B,X);d=d+Math.imul(N,te)|0;p=p+Math.imul(N,re)|0;p=p+Math.imul(P,te)|0;m=m+Math.imul(P,re)|0;d=d+Math.imul(T,se)|0;p=p+Math.imul(T,ie)|0;p=p+Math.imul(x,se)|0;m=m+Math.imul(x,ie)|0;d=d+Math.imul(w,ae)|0;p=p+Math.imul(w,le)|0;p=p+Math.imul(A,ae)|0;m=m+Math.imul(A,le)|0;d=d+Math.imul(v,ue)|0;p=p+Math.imul(v,de)|0;p=p+Math.imul(y,ue)|0;m=m+Math.imul(y,de)|0;var Be=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Be>>>26)|0;Be&=67108863;d=Math.imul(O,Z);p=Math.imul(O,X);p=p+Math.imul(D,Z)|0;m=Math.imul(D,X);d=d+Math.imul(M,te)|0;p=p+Math.imul(M,re)|0;p=p+Math.imul(B,te)|0;m=m+Math.imul(B,re)|0;d=d+Math.imul(N,se)|0;p=p+Math.imul(N,ie)|0;p=p+Math.imul(P,se)|0;m=m+Math.imul(P,ie)|0;d=d+Math.imul(T,ae)|0;p=p+Math.imul(T,le)|0;p=p+Math.imul(x,ae)|0;m=m+Math.imul(x,le)|0;d=d+Math.imul(w,ue)|0;p=p+Math.imul(w,de)|0;p=p+Math.imul(A,ue)|0;m=m+Math.imul(A,de)|0;d=d+Math.imul(v,pe)|0;p=p+Math.imul(v,me)|0;p=p+Math.imul(y,pe)|0;m=m+Math.imul(y,me)|0;var Re=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Re>>>26)|0;Re&=67108863;d=Math.imul(F,Z);p=Math.imul(F,X);p=p+Math.imul(U,Z)|0;m=Math.imul(U,X);d=d+Math.imul(O,te)|0;p=p+Math.imul(O,re)|0;p=p+Math.imul(D,te)|0;m=m+Math.imul(D,re)|0;d=d+Math.imul(M,se)|0;p=p+Math.imul(M,ie)|0;p=p+Math.imul(B,se)|0;m=m+Math.imul(B,ie)|0;d=d+Math.imul(N,ae)|0;p=p+Math.imul(N,le)|0;p=p+Math.imul(P,ae)|0;m=m+Math.imul(P,le)|0;d=d+Math.imul(T,ue)|0;p=p+Math.imul(T,de)|0;p=p+Math.imul(x,ue)|0;m=m+Math.imul(x,de)|0;d=d+Math.imul(w,pe)|0;p=p+Math.imul(w,me)|0;p=p+Math.imul(A,pe)|0;m=m+Math.imul(A,me)|0;d=d+Math.imul(v,ye)|0;p=p+Math.imul(v,be)|0;p=p+Math.imul(y,ye)|0;m=m+Math.imul(y,be)|0;var je=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(je>>>26)|0;je&=67108863;d=Math.imul(q,Z);p=Math.imul(q,X);p=p+Math.imul(G,Z)|0;m=Math.imul(G,X);d=d+Math.imul(F,te)|0;p=p+Math.imul(F,re)|0;p=p+Math.imul(U,te)|0;m=m+Math.imul(U,re)|0;d=d+Math.imul(O,se)|0;p=p+Math.imul(O,ie)|0;p=p+Math.imul(D,se)|0;m=m+Math.imul(D,ie)|0;d=d+Math.imul(M,ae)|0;p=p+Math.imul(M,le)|0;p=p+Math.imul(B,ae)|0;m=m+Math.imul(B,le)|0;d=d+Math.imul(N,ue)|0;p=p+Math.imul(N,de)|0;p=p+Math.imul(P,ue)|0;m=m+Math.imul(P,de)|0;d=d+Math.imul(T,pe)|0;p=p+Math.imul(T,me)|0;p=p+Math.imul(x,pe)|0;m=m+Math.imul(x,me)|0;d=d+Math.imul(w,ye)|0;p=p+Math.imul(w,be)|0;p=p+Math.imul(A,ye)|0;m=m+Math.imul(A,be)|0;d=d+Math.imul(v,we)|0;p=p+Math.imul(v,Ee)|0;p=p+Math.imul(y,we)|0;m=m+Math.imul(y,Ee)|0;var Oe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Oe>>>26)|0;Oe&=67108863;d=Math.imul(W,Z);p=Math.imul(W,X);p=p+Math.imul(V,Z)|0;m=Math.imul(V,X);d=d+Math.imul(q,te)|0;p=p+Math.imul(q,re)|0;p=p+Math.imul(G,te)|0;m=m+Math.imul(G,re)|0;d=d+Math.imul(F,se)|0;p=p+Math.imul(F,ie)|0;p=p+Math.imul(U,se)|0;m=m+Math.imul(U,ie)|0;d=d+Math.imul(O,ae)|0;p=p+Math.imul(O,le)|0;p=p+Math.imul(D,ae)|0;m=m+Math.imul(D,le)|0;d=d+Math.imul(M,ue)|0;p=p+Math.imul(M,de)|0;p=p+Math.imul(B,ue)|0;m=m+Math.imul(B,de)|0;d=d+Math.imul(N,pe)|0;p=p+Math.imul(N,me)|0;p=p+Math.imul(P,pe)|0;m=m+Math.imul(P,me)|0;d=d+Math.imul(T,ye)|0;p=p+Math.imul(T,be)|0;p=p+Math.imul(x,ye)|0;m=m+Math.imul(x,be)|0;d=d+Math.imul(w,we)|0;p=p+Math.imul(w,Ee)|0;p=p+Math.imul(A,we)|0;m=m+Math.imul(A,Ee)|0;d=d+Math.imul(v,Se)|0;p=p+Math.imul(v,ke)|0;p=p+Math.imul(y,Se)|0;m=m+Math.imul(y,ke)|0;var De=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(De>>>26)|0;De&=67108863;d=Math.imul($,Z);p=Math.imul($,X);p=p+Math.imul(J,Z)|0;m=Math.imul(J,X);d=d+Math.imul(W,te)|0;p=p+Math.imul(W,re)|0;p=p+Math.imul(V,te)|0;m=m+Math.imul(V,re)|0;d=d+Math.imul(q,se)|0;p=p+Math.imul(q,ie)|0;p=p+Math.imul(G,se)|0;m=m+Math.imul(G,ie)|0;d=d+Math.imul(F,ae)|0;p=p+Math.imul(F,le)|0;p=p+Math.imul(U,ae)|0;m=m+Math.imul(U,le)|0;d=d+Math.imul(O,ue)|0;p=p+Math.imul(O,de)|0;p=p+Math.imul(D,ue)|0;m=m+Math.imul(D,de)|0;d=d+Math.imul(M,pe)|0;p=p+Math.imul(M,me)|0;p=p+Math.imul(B,pe)|0;m=m+Math.imul(B,me)|0;d=d+Math.imul(N,ye)|0;p=p+Math.imul(N,be)|0;p=p+Math.imul(P,ye)|0;m=m+Math.imul(P,be)|0;d=d+Math.imul(T,we)|0;p=p+Math.imul(T,Ee)|0;p=p+Math.imul(x,we)|0;m=m+Math.imul(x,Ee)|0;d=d+Math.imul(w,Se)|0;p=p+Math.imul(w,ke)|0;p=p+Math.imul(A,Se)|0;m=m+Math.imul(A,ke)|0;d=d+Math.imul(v,xe)|0;p=p+Math.imul(v,Ie)|0;p=p+Math.imul(y,xe)|0;m=m+Math.imul(y,Ie)|0;var Le=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Le>>>26)|0;Le&=67108863;d=Math.imul($,te);p=Math.imul($,re);p=p+Math.imul(J,te)|0;m=Math.imul(J,re);d=d+Math.imul(W,se)|0;p=p+Math.imul(W,ie)|0;p=p+Math.imul(V,se)|0;m=m+Math.imul(V,ie)|0;d=d+Math.imul(q,ae)|0;p=p+Math.imul(q,le)|0;p=p+Math.imul(G,ae)|0;m=m+Math.imul(G,le)|0;d=d+Math.imul(F,ue)|0;p=p+Math.imul(F,de)|0;p=p+Math.imul(U,ue)|0;m=m+Math.imul(U,de)|0;d=d+Math.imul(O,pe)|0;p=p+Math.imul(O,me)|0;p=p+Math.imul(D,pe)|0;m=m+Math.imul(D,me)|0;d=d+Math.imul(M,ye)|0;p=p+Math.imul(M,be)|0;p=p+Math.imul(B,ye)|0;m=m+Math.imul(B,be)|0;d=d+Math.imul(N,we)|0;p=p+Math.imul(N,Ee)|0;p=p+Math.imul(P,we)|0;m=m+Math.imul(P,Ee)|0;d=d+Math.imul(T,Se)|0;p=p+Math.imul(T,ke)|0;p=p+Math.imul(x,Se)|0;m=m+Math.imul(x,ke)|0;d=d+Math.imul(w,xe)|0;p=p+Math.imul(w,Ie)|0;p=p+Math.imul(A,xe)|0;m=m+Math.imul(A,Ie)|0;var Fe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Fe>>>26)|0;Fe&=67108863;d=Math.imul($,se);p=Math.imul($,ie);p=p+Math.imul(J,se)|0;m=Math.imul(J,ie);d=d+Math.imul(W,ae)|0;p=p+Math.imul(W,le)|0;p=p+Math.imul(V,ae)|0;m=m+Math.imul(V,le)|0;d=d+Math.imul(q,ue)|0;p=p+Math.imul(q,de)|0;p=p+Math.imul(G,ue)|0;m=m+Math.imul(G,de)|0;d=d+Math.imul(F,pe)|0;p=p+Math.imul(F,me)|0;p=p+Math.imul(U,pe)|0;m=m+Math.imul(U,me)|0;d=d+Math.imul(O,ye)|0;p=p+Math.imul(O,be)|0;p=p+Math.imul(D,ye)|0;m=m+Math.imul(D,be)|0;d=d+Math.imul(M,we)|0;p=p+Math.imul(M,Ee)|0;p=p+Math.imul(B,we)|0;m=m+Math.imul(B,Ee)|0;d=d+Math.imul(N,Se)|0;p=p+Math.imul(N,ke)|0;p=p+Math.imul(P,Se)|0;m=m+Math.imul(P,ke)|0;d=d+Math.imul(T,xe)|0;p=p+Math.imul(T,Ie)|0;p=p+Math.imul(x,xe)|0;m=m+Math.imul(x,Ie)|0;var Ue=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ue>>>26)|0;Ue&=67108863;d=Math.imul($,ae);p=Math.imul($,le);p=p+Math.imul(J,ae)|0;m=Math.imul(J,le);d=d+Math.imul(W,ue)|0;p=p+Math.imul(W,de)|0;p=p+Math.imul(V,ue)|0;m=m+Math.imul(V,de)|0;d=d+Math.imul(q,pe)|0;p=p+Math.imul(q,me)|0;p=p+Math.imul(G,pe)|0;m=m+Math.imul(G,me)|0;d=d+Math.imul(F,ye)|0;p=p+Math.imul(F,be)|0;p=p+Math.imul(U,ye)|0;m=m+Math.imul(U,be)|0;d=d+Math.imul(O,we)|0;p=p+Math.imul(O,Ee)|0;p=p+Math.imul(D,we)|0;m=m+Math.imul(D,Ee)|0;d=d+Math.imul(M,Se)|0;p=p+Math.imul(M,ke)|0;p=p+Math.imul(B,Se)|0;m=m+Math.imul(B,ke)|0;d=d+Math.imul(N,xe)|0;p=p+Math.imul(N,Ie)|0;p=p+Math.imul(P,xe)|0;m=m+Math.imul(P,Ie)|0;var Ke=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ke>>>26)|0;Ke&=67108863;d=Math.imul($,ue);p=Math.imul($,de);p=p+Math.imul(J,ue)|0;m=Math.imul(J,de);d=d+Math.imul(W,pe)|0;p=p+Math.imul(W,me)|0;p=p+Math.imul(V,pe)|0;m=m+Math.imul(V,me)|0;d=d+Math.imul(q,ye)|0;p=p+Math.imul(q,be)|0;p=p+Math.imul(G,ye)|0;m=m+Math.imul(G,be)|0;d=d+Math.imul(F,we)|0;p=p+Math.imul(F,Ee)|0;p=p+Math.imul(U,we)|0;m=m+Math.imul(U,Ee)|0;d=d+Math.imul(O,Se)|0;p=p+Math.imul(O,ke)|0;p=p+Math.imul(D,Se)|0;m=m+Math.imul(D,ke)|0;d=d+Math.imul(M,xe)|0;p=p+Math.imul(M,Ie)|0;p=p+Math.imul(B,xe)|0;m=m+Math.imul(B,Ie)|0;var He=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(He>>>26)|0;He&=67108863;d=Math.imul($,pe);p=Math.imul($,me);p=p+Math.imul(J,pe)|0;m=Math.imul(J,me);d=d+Math.imul(W,ye)|0;p=p+Math.imul(W,be)|0;p=p+Math.imul(V,ye)|0;m=m+Math.imul(V,be)|0;d=d+Math.imul(q,we)|0;p=p+Math.imul(q,Ee)|0;p=p+Math.imul(G,we)|0;m=m+Math.imul(G,Ee)|0;d=d+Math.imul(F,Se)|0;p=p+Math.imul(F,ke)|0;p=p+Math.imul(U,Se)|0;m=m+Math.imul(U,ke)|0;d=d+Math.imul(O,xe)|0;p=p+Math.imul(O,Ie)|0;p=p+Math.imul(D,xe)|0;m=m+Math.imul(D,Ie)|0;var qe=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(qe>>>26)|0;qe&=67108863;d=Math.imul($,ye);p=Math.imul($,be);p=p+Math.imul(J,ye)|0;m=Math.imul(J,be);d=d+Math.imul(W,we)|0;p=p+Math.imul(W,Ee)|0;p=p+Math.imul(V,we)|0;m=m+Math.imul(V,Ee)|0;d=d+Math.imul(q,Se)|0;p=p+Math.imul(q,ke)|0;p=p+Math.imul(G,Se)|0;m=m+Math.imul(G,ke)|0;d=d+Math.imul(F,xe)|0;p=p+Math.imul(F,Ie)|0;p=p+Math.imul(U,xe)|0;m=m+Math.imul(U,Ie)|0;var Ge=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ge>>>26)|0;Ge&=67108863;d=Math.imul($,we);p=Math.imul($,Ee);p=p+Math.imul(J,we)|0;m=Math.imul(J,Ee);d=d+Math.imul(W,Se)|0;p=p+Math.imul(W,ke)|0;p=p+Math.imul(V,Se)|0;m=m+Math.imul(V,ke)|0;d=d+Math.imul(q,xe)|0;p=p+Math.imul(q,Ie)|0;p=p+Math.imul(G,xe)|0;m=m+Math.imul(G,Ie)|0;var ze=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(ze>>>26)|0;ze&=67108863;d=Math.imul($,Se);p=Math.imul($,ke);p=p+Math.imul(J,Se)|0;m=Math.imul(J,ke);d=d+Math.imul(W,xe)|0;p=p+Math.imul(W,Ie)|0;p=p+Math.imul(V,xe)|0;m=m+Math.imul(V,Ie)|0;var We=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(We>>>26)|0;We&=67108863;d=Math.imul($,xe);p=Math.imul($,Ie);p=p+Math.imul(J,xe)|0;m=Math.imul(J,Ie);var Ve=(u+d|0)+((p&8191)<<13)|0;u=(m+(p>>>13)|0)+(Ve>>>26)|0;Ve&=67108863;l[0]=Ne;l[1]=Pe;l[2]=Ce;l[3]=Me;l[4]=Be;l[5]=Re;l[6]=je;l[7]=Oe;l[8]=De;l[9]=Le;l[10]=Fe;l[11]=Ue;l[12]=Ke;l[13]=He;l[14]=qe;l[15]=Ge;l[16]=ze;l[17]=We;l[18]=Ve;if(u!==0){l[19]=u;i.length++}return i};if(!Math.imul){p=smallMulTo}function bigMulTo(e,t,i){i.negative=t.negative^e.negative;i.length=e.length+t.length;var o=0;var a=0;for(var l=0;l<i.length-1;l++){var u=a;a=0;var d=o&67108863;var p=Math.min(l,t.length-1);for(var m=Math.max(0,l-e.length+1);m<=p;m++){var g=l-m;var v=e.words[g]|0;var y=t.words[m]|0;var _=v*y;var w=_&67108863;u=u+(_/67108864|0)|0;w=w+d|0;d=w&67108863;u=u+(w>>>26)|0;a+=u>>>26;u&=67108863}i.words[l]=d;o=u;u=a}if(o!==0){i.words[l]=o}else{i.length--}return i._strip()}function jumboMulTo(e,t,i){return bigMulTo(e,t,i)}BN.prototype.mulTo=function mulTo(e,t){var i;var o=this.length+e.length;if(this.length===10&&e.length===10){i=p(this,e,t)}else if(o<63){i=smallMulTo(this,e,t)}else if(o<1024){i=bigMulTo(this,e,t)}else{i=jumboMulTo(this,e,t)}return i};function FFTM(e,t){this.x=e;this.y=t}FFTM.prototype.makeRBT=function makeRBT(e){var t=new Array(e);var i=BN.prototype._countBits(e)-1;for(var o=0;o<e;o++){t[o]=this.revBin(o,i,e)}return t};FFTM.prototype.revBin=function revBin(e,t,i){if(e===0||e===i-1)return e;var o=0;for(var a=0;a<t;a++){o|=(e&1)<<t-a-1;e>>=1}return o};FFTM.prototype.permute=function permute(e,t,i,o,a,l){for(var u=0;u<l;u++){o[u]=t[e[u]];a[u]=i[e[u]]}};FFTM.prototype.transform=function transform(e,t,i,o,a,l){this.permute(l,e,t,i,o,a);for(var u=1;u<a;u<<=1){var d=u<<1;var p=Math.cos(2*Math.PI/d);var m=Math.sin(2*Math.PI/d);for(var g=0;g<a;g+=d){var v=p;var y=m;for(var _=0;_<u;_++){var w=i[g+_];var A=o[g+_];var k=i[g+_+u];var T=o[g+_+u];var x=v*k-y*T;T=v*T+y*k;k=x;i[g+_]=w+k;o[g+_]=A+T;i[g+_+u]=w-k;o[g+_+u]=A-T;if(_!==d){x=p*v-m*y;y=p*y+m*v;v=x}}}}};FFTM.prototype.guessLen13b=function guessLen13b(e,t){var i=Math.max(t,e)|1;var o=i&1;var a=0;for(i=i/2|0;i;i=i>>>1){a++}return 1<<a+1+o};FFTM.prototype.conjugate=function conjugate(e,t,i){if(i<=1)return;for(var o=0;o<i/2;o++){var a=e[o];e[o]=e[i-o-1];e[i-o-1]=a;a=t[o];t[o]=-t[i-o-1];t[i-o-1]=-a}};FFTM.prototype.normalize13b=function normalize13b(e,t){var i=0;for(var o=0;o<t/2;o++){var a=Math.round(e[2*o+1]/t)*8192+Math.round(e[2*o]/t)+i;e[o]=a&67108863;if(a<67108864){i=0}else{i=a/67108864|0}}return e};FFTM.prototype.convert13b=function convert13b(e,t,i,o){var a=0;for(var l=0;l<t;l++){a=a+(e[l]|0);i[2*l]=a&8191;a=a>>>13;i[2*l+1]=a&8191;a=a>>>13}for(l=2*t;l<o;++l){i[l]=0}assert(a===0);assert((a&~8191)===0)};FFTM.prototype.stub=function stub(e){var t=new Array(e);for(var i=0;i<e;i++){t[i]=0}return t};FFTM.prototype.mulp=function mulp(e,t,i){var o=2*this.guessLen13b(e.length,t.length);var a=this.makeRBT(o);var l=this.stub(o);var u=new Array(o);var d=new Array(o);var p=new Array(o);var m=new Array(o);var g=new Array(o);var v=new Array(o);var y=i.words;y.length=o;this.convert13b(e.words,e.length,u,o);this.convert13b(t.words,t.length,m,o);this.transform(u,l,d,p,o,a);this.transform(m,l,g,v,o,a);for(var _=0;_<o;_++){var w=d[_]*g[_]-p[_]*v[_];p[_]=d[_]*v[_]+p[_]*g[_];d[_]=w}this.conjugate(d,p,o);this.transform(d,p,y,l,o,a);this.conjugate(y,l,o);this.normalize13b(y,o);i.negative=e.negative^t.negative;i.length=e.length+t.length;return i._strip()};BN.prototype.mul=function mul(e){var t=new BN(null);t.words=new Array(this.length+e.length);return this.mulTo(e,t)};BN.prototype.mulf=function mulf(e){var t=new BN(null);t.words=new Array(this.length+e.length);return jumboMulTo(this,e,t)};BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)};BN.prototype.imuln=function imuln(e){var t=e<0;if(t)e=-e;assert(typeof e==="number");assert(e<67108864);var i=0;for(var o=0;o<this.length;o++){var a=(this.words[o]|0)*e;var l=(a&67108863)+(i&67108863);i>>=26;i+=a/67108864|0;i+=l>>>26;this.words[o]=l&67108863}if(i!==0){this.words[o]=i;this.length++}this.length=e===0?1:this.length;return t?this.ineg():this};BN.prototype.muln=function muln(e){return this.clone().imuln(e)};BN.prototype.sqr=function sqr(){return this.mul(this)};BN.prototype.isqr=function isqr(){return this.imul(this.clone())};BN.prototype.pow=function pow(e){var t=toBitArray(e);if(t.length===0)return new BN(1);var i=this;for(var o=0;o<t.length;o++,i=i.sqr()){if(t[o]!==0)break}if(++o<t.length){for(var a=i.sqr();o<t.length;o++,a=a.sqr()){if(t[o]===0)continue;i=i.mul(a)}}return i};BN.prototype.iushln=function iushln(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=67108863>>>26-t<<26-t;var a;if(t!==0){var l=0;for(a=0;a<this.length;a++){var u=this.words[a]&o;var d=(this.words[a]|0)-u<<t;this.words[a]=d|l;l=u>>>26-t}if(l){this.words[a]=l;this.length++}}if(i!==0){for(a=this.length-1;a>=0;a--){this.words[a+i]=this.words[a]}for(a=0;a<i;a++){this.words[a]=0}this.length+=i}return this._strip()};BN.prototype.ishln=function ishln(e){assert(this.negative===0);return this.iushln(e)};BN.prototype.iushrn=function iushrn(e,t,i){assert(typeof e==="number"&&e>=0);var o;if(t){o=(t-t%26)/26}else{o=0}var a=e%26;var l=Math.min((e-a)/26,this.length);var u=67108863^67108863>>>a<<a;var d=i;o-=l;o=Math.max(0,o);if(d){for(var p=0;p<l;p++){d.words[p]=this.words[p]}d.length=l}if(l===0){}else if(this.length>l){this.length-=l;for(p=0;p<this.length;p++){this.words[p]=this.words[p+l]}}else{this.words[0]=0;this.length=1}var m=0;for(p=this.length-1;p>=0&&(m!==0||p>=o);p--){var g=this.words[p]|0;this.words[p]=m<<26-a|g>>>a;m=g&u}if(d&&m!==0){d.words[d.length++]=m}if(this.length===0){this.words[0]=0;this.length=1}return this._strip()};BN.prototype.ishrn=function ishrn(e,t,i){assert(this.negative===0);return this.iushrn(e,t,i)};BN.prototype.shln=function shln(e){return this.clone().ishln(e)};BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)};BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)};BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)};BN.prototype.testn=function testn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i)return false;var a=this.words[i];return!!(a&o)};BN.prototype.imaskn=function imaskn(e){assert(typeof e==="number"&&e>=0);var t=e%26;var i=(e-t)/26;assert(this.negative===0,"imaskn works only with positive numbers");if(this.length<=i){return this}if(t!==0){i++}this.length=Math.min(i,this.length);if(t!==0){var o=67108863^67108863>>>t<<t;this.words[this.length-1]&=o}return this._strip()};BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)};BN.prototype.iaddn=function iaddn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.isubn(-e);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<=e){this.words[0]=e-(this.words[0]|0);this.negative=0;return this}this.negative=0;this.isubn(e);this.negative=1;return this}return this._iaddn(e)};BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++){this.words[t]-=67108864;if(t===this.length-1){this.words[t+1]=1}else{this.words[t+1]++}}this.length=Math.max(this.length,t+1);return this};BN.prototype.isubn=function isubn(e){assert(typeof e==="number");assert(e<67108864);if(e<0)return this.iaddn(-e);if(this.negative!==0){this.negative=0;this.iaddn(e);this.negative=1;return this}this.words[0]-=e;if(this.length===1&&this.words[0]<0){this.words[0]=-this.words[0];this.negative=1}else{for(var t=0;t<this.length&&this.words[t]<0;t++){this.words[t]+=67108864;this.words[t+1]-=1}}return this._strip()};BN.prototype.addn=function addn(e){return this.clone().iaddn(e)};BN.prototype.subn=function subn(e){return this.clone().isubn(e)};BN.prototype.iabs=function iabs(){this.negative=0;return this};BN.prototype.abs=function abs(){return this.clone().iabs()};BN.prototype._ishlnsubmul=function _ishlnsubmul(e,t,i){var o=e.length+i;var a;this._expand(o);var l;var u=0;for(a=0;a<e.length;a++){l=(this.words[a+i]|0)+u;var d=(e.words[a]|0)*t;l-=d&67108863;u=(l>>26)-(d/67108864|0);this.words[a+i]=l&67108863}for(;a<this.length-i;a++){l=(this.words[a+i]|0)+u;u=l>>26;this.words[a+i]=l&67108863}if(u===0)return this._strip();assert(u===-1);u=0;for(a=0;a<this.length;a++){l=-(this.words[a]|0)+u;u=l>>26;this.words[a]=l&67108863}this.negative=1;return this._strip()};BN.prototype._wordDiv=function _wordDiv(e,t){var i=this.length-e.length;var o=this.clone();var a=e;var l=a.words[a.length-1]|0;var u=this._countBits(l);i=26-u;if(i!==0){a=a.ushln(i);o.iushln(i);l=a.words[a.length-1]|0}var d=o.length-a.length;var p;if(t!=="mod"){p=new BN(null);p.length=d+1;p.words=new Array(p.length);for(var m=0;m<p.length;m++){p.words[m]=0}}var g=o.clone()._ishlnsubmul(a,1,d);if(g.negative===0){o=g;if(p){p.words[d]=1}}for(var v=d-1;v>=0;v--){var y=(o.words[a.length+v]|0)*67108864+(o.words[a.length+v-1]|0);y=Math.min(y/l|0,67108863);o._ishlnsubmul(a,y,v);while(o.negative!==0){y--;o.negative=0;o._ishlnsubmul(a,1,v);if(!o.isZero()){o.negative^=1}}if(p){p.words[v]=y}}if(p){p._strip()}o._strip();if(t!=="div"&&i!==0){o.iushrn(i)}return{div:p||null,mod:o}};BN.prototype.divmod=function divmod(e,t,i){assert(!e.isZero());if(this.isZero()){return{div:new BN(0),mod:new BN(0)}}var o,a,l;if(this.negative!==0&&e.negative===0){l=this.neg().divmod(e,t);if(t!=="mod"){o=l.div.neg()}if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.iadd(e)}}return{div:o,mod:a}}if(this.negative===0&&e.negative!==0){l=this.divmod(e.neg(),t);if(t!=="mod"){o=l.div.neg()}return{div:o,mod:l.mod}}if((this.negative&e.negative)!==0){l=this.neg().divmod(e.neg(),t);if(t!=="div"){a=l.mod.neg();if(i&&a.negative!==0){a.isub(e)}}return{div:l.div,mod:a}}if(e.length>this.length||this.cmp(e)<0){return{div:new BN(0),mod:this}}if(e.length===1){if(t==="div"){return{div:this.divn(e.words[0]),mod:null}}if(t==="mod"){return{div:null,mod:new BN(this.modrn(e.words[0]))}}return{div:this.divn(e.words[0]),mod:new BN(this.modrn(e.words[0]))}}return this._wordDiv(e,t)};BN.prototype.div=function div(e){return this.divmod(e,"div",false).div};BN.prototype.mod=function mod(e){return this.divmod(e,"mod",false).mod};BN.prototype.umod=function umod(e){return this.divmod(e,"mod",true).mod};BN.prototype.divRound=function divRound(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=t.div.negative!==0?t.mod.isub(e):t.mod;var o=e.ushrn(1);var a=e.andln(1);var l=i.cmp(o);if(l<0||a===1&&l===0)return t.div;return t.div.negative!==0?t.div.isubn(1):t.div.iaddn(1)};BN.prototype.modrn=function modrn(e){var t=e<0;if(t)e=-e;assert(e<=67108863);var i=(1<<26)%e;var o=0;for(var a=this.length-1;a>=0;a--){o=(i*o+(this.words[a]|0))%e}return t?-o:o};BN.prototype.modn=function modn(e){return this.modrn(e)};BN.prototype.idivn=function idivn(e){var t=e<0;if(t)e=-e;assert(e<=67108863);var i=0;for(var o=this.length-1;o>=0;o--){var a=(this.words[o]|0)+i*67108864;this.words[o]=a/e|0;i=a%e}this._strip();return t?this.ineg():this};BN.prototype.divn=function divn(e){return this.clone().idivn(e)};BN.prototype.egcd=function egcd(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=new BN(0);var u=new BN(1);var d=0;while(t.isEven()&&i.isEven()){t.iushrn(1);i.iushrn(1);++d}var p=i.clone();var m=t.clone();while(!t.isZero()){for(var g=0,v=1;(t.words[0]&v)===0&&g<26;++g,v<<=1);if(g>0){t.iushrn(g);while(g-- >0){if(o.isOdd()||a.isOdd()){o.iadd(p);a.isub(m)}o.iushrn(1);a.iushrn(1)}}for(var y=0,_=1;(i.words[0]&_)===0&&y<26;++y,_<<=1);if(y>0){i.iushrn(y);while(y-- >0){if(l.isOdd()||u.isOdd()){l.iadd(p);u.isub(m)}l.iushrn(1);u.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(l);a.isub(u)}else{i.isub(t);l.isub(o);u.isub(a)}}return{a:l,b:u,gcd:i.iushln(d)}};BN.prototype._invmp=function _invmp(e){assert(e.negative===0);assert(!e.isZero());var t=this;var i=e.clone();if(t.negative!==0){t=t.umod(e)}else{t=t.clone()}var o=new BN(1);var a=new BN(0);var l=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var u=0,d=1;(t.words[0]&d)===0&&u<26;++u,d<<=1);if(u>0){t.iushrn(u);while(u-- >0){if(o.isOdd()){o.iadd(l)}o.iushrn(1)}}for(var p=0,m=1;(i.words[0]&m)===0&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0){if(a.isOdd()){a.iadd(l)}a.iushrn(1)}}if(t.cmp(i)>=0){t.isub(i);o.isub(a)}else{i.isub(t);a.isub(o)}}var g;if(t.cmpn(1)===0){g=o}else{g=a}if(g.cmpn(0)<0){g.iadd(e)}return g};BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone();var i=e.clone();t.negative=0;i.negative=0;for(var o=0;t.isEven()&&i.isEven();o++){t.iushrn(1);i.iushrn(1)}do{while(t.isEven()){t.iushrn(1)}while(i.isEven()){i.iushrn(1)}var a=t.cmp(i);if(a<0){var l=t;t=i;i=l}else if(a===0||i.cmpn(1)===0){break}t.isub(i)}while(true);return i.iushln(o)};BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)};BN.prototype.isEven=function isEven(){return(this.words[0]&1)===0};BN.prototype.isOdd=function isOdd(){return(this.words[0]&1)===1};BN.prototype.andln=function andln(e){return this.words[0]&e};BN.prototype.bincn=function bincn(e){assert(typeof e==="number");var t=e%26;var i=(e-t)/26;var o=1<<t;if(this.length<=i){this._expand(i+1);this.words[i]|=o;return this}var a=o;for(var l=i;a!==0&&l<this.length;l++){var u=this.words[l]|0;u+=a;a=u>>>26;u&=67108863;this.words[l]=u}if(a!==0){this.words[l]=a;this.length++}return this};BN.prototype.isZero=function isZero(){return this.length===1&&this.words[0]===0};BN.prototype.cmpn=function cmpn(e){var t=e<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;this._strip();var i;if(this.length>1){i=1}else{if(t){e=-e}assert(e<=67108863,"Number is too big");var o=this.words[0]|0;i=o===e?0:o<e?-1:1}if(this.negative!==0)return-i|0;return i};BN.prototype.cmp=function cmp(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var t=this.ucmp(e);if(this.negative!==0)return-t|0;return t};BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;var t=0;for(var i=this.length-1;i>=0;i--){var o=this.words[i]|0;var a=e.words[i]|0;if(o===a)continue;if(o<a){t=-1}else if(o>a){t=1}break}return t};BN.prototype.gtn=function gtn(e){return this.cmpn(e)===1};BN.prototype.gt=function gt(e){return this.cmp(e)===1};BN.prototype.gten=function gten(e){return this.cmpn(e)>=0};BN.prototype.gte=function gte(e){return this.cmp(e)>=0};BN.prototype.ltn=function ltn(e){return this.cmpn(e)===-1};BN.prototype.lt=function lt(e){return this.cmp(e)===-1};BN.prototype.lten=function lten(e){return this.cmpn(e)<=0};BN.prototype.lte=function lte(e){return this.cmp(e)<=0};BN.prototype.eqn=function eqn(e){return this.cmpn(e)===0};BN.prototype.eq=function eq(e){return this.cmp(e)===0};BN.red=function red(e){return new Red(e)};BN.prototype.toRed=function toRed(e){assert(!this.red,"Already a number in reduction context");assert(this.negative===0,"red works only with positives");return e.convertTo(this)._forceRed(e)};BN.prototype.fromRed=function fromRed(){assert(this.red,"fromRed works only with numbers in reduction context");return this.red.convertFrom(this)};BN.prototype._forceRed=function _forceRed(e){this.red=e;return this};BN.prototype.forceRed=function forceRed(e){assert(!this.red,"Already a number in reduction context");return this._forceRed(e)};BN.prototype.redAdd=function redAdd(e){assert(this.red,"redAdd works only with red numbers");return this.red.add(this,e)};BN.prototype.redIAdd=function redIAdd(e){assert(this.red,"redIAdd works only with red numbers");return this.red.iadd(this,e)};BN.prototype.redSub=function redSub(e){assert(this.red,"redSub works only with red numbers");return this.red.sub(this,e)};BN.prototype.redISub=function redISub(e){assert(this.red,"redISub works only with red numbers");return this.red.isub(this,e)};BN.prototype.redShl=function redShl(e){assert(this.red,"redShl works only with red numbers");return this.red.shl(this,e)};BN.prototype.redMul=function redMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.mul(this,e)};BN.prototype.redIMul=function redIMul(e){assert(this.red,"redMul works only with red numbers");this.red._verify2(this,e);return this.red.imul(this,e)};BN.prototype.redSqr=function redSqr(){assert(this.red,"redSqr works only with red numbers");this.red._verify1(this);return this.red.sqr(this)};BN.prototype.redISqr=function redISqr(){assert(this.red,"redISqr works only with red numbers");this.red._verify1(this);return this.red.isqr(this)};BN.prototype.redSqrt=function redSqrt(){assert(this.red,"redSqrt works only with red numbers");this.red._verify1(this);return this.red.sqrt(this)};BN.prototype.redInvm=function redInvm(){assert(this.red,"redInvm works only with red numbers");this.red._verify1(this);return this.red.invm(this)};BN.prototype.redNeg=function redNeg(){assert(this.red,"redNeg works only with red numbers");this.red._verify1(this);return this.red.neg(this)};BN.prototype.redPow=function redPow(e){assert(this.red&&!e.red,"redPow(normalNum)");this.red._verify1(this);return this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e;this.p=new BN(t,16);this.n=this.p.bitLength();this.k=new BN(1).iushln(this.n).isub(this.p);this.tmp=this._tmp()}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);e.words=new Array(Math.ceil(this.n/13));return e};MPrime.prototype.ireduce=function ireduce(e){var t=e;var i;do{this.split(t,this.tmp);t=this.imulK(t);t=t.iadd(this.tmp);i=t.bitLength()}while(i>this.n);var o=i<this.n?-1:t.ucmp(this.p);if(o===0){t.words[0]=0;t.length=1}else if(o>0){t.isub(this.p)}else{if(t.strip!==undefined){t.strip()}else{t._strip()}}return t};MPrime.prototype.split=function split(e,t){e.iushrn(this.n,0,t)};MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)};function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}inherits(K256,MPrime);K256.prototype.split=function split(e,t){var i=4194303;var o=Math.min(e.length,9);for(var a=0;a<o;a++){t.words[a]=e.words[a]}t.length=o;if(e.length<=9){e.words[0]=0;e.length=1;return}var l=e.words[9];t.words[t.length++]=l&i;for(a=10;a<e.length;a++){var u=e.words[a]|0;e.words[a-10]=(u&i)<<4|l>>>22;l=u}l>>>=22;e.words[a-10]=l;if(l===0&&e.length>10){e.length-=10}else{e.length-=9}};K256.prototype.imulK=function imulK(e){e.words[e.length]=0;e.words[e.length+1]=0;e.length+=2;var t=0;for(var i=0;i<e.length;i++){var o=e.words[i]|0;t+=o*977;e.words[i]=t&67108863;t=o*64+(t/67108864|0)}if(e.words[e.length-1]===0){e.length--;if(e.words[e.length-1]===0){e.length--}}return e};function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}inherits(P224,MPrime);function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}inherits(P192,MPrime);function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}inherits(P25519,MPrime);P25519.prototype.imulK=function imulK(e){var t=0;for(var i=0;i<e.length;i++){var o=(e.words[i]|0)*19+t;var a=o&67108863;o>>>=26;e.words[i]=a;t=o}if(t!==0){e.words[e.length++]=t}return e};BN._prime=function prime(e){if(m[e])return m[e];var prime;if(e==="k256"){prime=new K256}else if(e==="p224"){prime=new P224}else if(e==="p192"){prime=new P192}else if(e==="p25519"){prime=new P25519}else{throw new Error("Unknown prime "+e)}m[e]=prime;return prime};function Red(e){if(typeof e==="string"){var t=BN._prime(e);this.m=t.p;this.prime=t}else{assert(e.gtn(1),"modulus must be greater than 1");this.m=e;this.prime=null}}Red.prototype._verify1=function _verify1(e){assert(e.negative===0,"red works only with positives");assert(e.red,"red works only with red numbers")};Red.prototype._verify2=function _verify2(e,t){assert((e.negative|t.negative)===0,"red works only with positives");assert(e.red&&e.red===t.red,"red works only with red numbers")};Red.prototype.imod=function imod(e){if(this.prime)return this.prime.ireduce(e)._forceRed(this);move(e,e.umod(this.m)._forceRed(this));return e};Red.prototype.neg=function neg(e){if(e.isZero()){return e.clone()}return this.m.sub(e)._forceRed(this)};Red.prototype.add=function add(e,t){this._verify2(e,t);var i=e.add(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i._forceRed(this)};Red.prototype.iadd=function iadd(e,t){this._verify2(e,t);var i=e.iadd(t);if(i.cmp(this.m)>=0){i.isub(this.m)}return i};Red.prototype.sub=function sub(e,t){this._verify2(e,t);var i=e.sub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i._forceRed(this)};Red.prototype.isub=function isub(e,t){this._verify2(e,t);var i=e.isub(t);if(i.cmpn(0)<0){i.iadd(this.m)}return i};Red.prototype.shl=function shl(e,t){this._verify1(e);return this.imod(e.ushln(t))};Red.prototype.imul=function imul(e,t){this._verify2(e,t);return this.imod(e.imul(t))};Red.prototype.mul=function mul(e,t){this._verify2(e,t);return this.imod(e.mul(t))};Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())};Red.prototype.sqr=function sqr(e){return this.mul(e,e)};Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var t=this.m.andln(3);assert(t%2===1);if(t===3){var i=this.m.add(new BN(1)).iushrn(2);return this.pow(e,i)}var o=this.m.subn(1);var a=0;while(!o.isZero()&&o.andln(1)===0){a++;o.iushrn(1)}assert(!o.isZero());var l=new BN(1).toRed(this);var u=l.redNeg();var d=this.m.subn(1).iushrn(1);var p=this.m.bitLength();p=new BN(2*p*p).toRed(this);while(this.pow(p,d).cmp(u)!==0){p.redIAdd(u)}var m=this.pow(p,o);var g=this.pow(e,o.addn(1).iushrn(1));var v=this.pow(e,o);var y=a;while(v.cmp(l)!==0){var _=v;for(var w=0;_.cmp(l)!==0;w++){_=_.redSqr()}assert(w<y);var A=this.pow(m,new BN(1).iushln(y-w-1));g=g.redMul(A);m=A.redSqr();v=v.redMul(m);y=w}return g};Red.prototype.invm=function invm(e){var t=e._invmp(this.m);if(t.negative!==0){t.negative=0;return this.imod(t).redNeg()}else{return this.imod(t)}};Red.prototype.pow=function pow(e,t){if(t.isZero())return new BN(1).toRed(this);if(t.cmpn(1)===0)return e.clone();var i=4;var o=new Array(1<<i);o[0]=new BN(1).toRed(this);o[1]=e;for(var a=2;a<o.length;a++){o[a]=this.mul(o[a-1],e)}var l=o[0];var u=0;var d=0;var p=t.bitLength()%26;if(p===0){p=26}for(a=t.length-1;a>=0;a--){var m=t.words[a];for(var g=p-1;g>=0;g--){var v=m>>g&1;if(l!==o[0]){l=this.sqr(l)}if(v===0&&u===0){d=0;continue}u<<=1;u|=v;d++;if(d!==i&&(a!==0||g!==0))continue;l=this.mul(l,o[u]);d=0;u=0}p=26}return l};Red.prototype.convertTo=function convertTo(e){var t=e.umod(this.m);return t===e?t.clone():t};Red.prototype.convertFrom=function convertFrom(e){var t=e.clone();t.red=null;return t};BN.mont=function mont(e){return new Mont(e)};function Mont(e){Red.call(this,e);this.shift=this.m.bitLength();if(this.shift%26!==0){this.shift+=26-this.shift%26}this.r=new BN(1).iushln(this.shift);this.r2=this.imod(this.r.sqr());this.rinv=this.r._invmp(this.m);this.minv=this.rinv.mul(this.r).isubn(1).div(this.m);this.minv=this.minv.umod(this.r);this.minv=this.r.sub(this.minv)}inherits(Mont,Red);Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))};Mont.prototype.convertFrom=function convertFrom(e){var t=this.imod(e.mul(this.rinv));t.red=null;return t};Mont.prototype.imul=function imul(e,t){if(e.isZero()||t.isZero()){e.words[0]=0;e.length=1;return e}var i=e.imul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.mul=function mul(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var i=e.mul(t);var o=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);var a=i.isub(o).iushrn(this.shift);var l=a;if(a.cmp(this.m)>=0){l=a.isub(this.m)}else if(a.cmpn(0)<0){l=a.iadd(this.m)}return l._forceRed(this)};Mont.prototype.invm=function invm(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(false||e,this)},"../../node_modules/.pnpm/brorand@1.1.0/node_modules/brorand/index.js":(e,t,i)=>{var o;e.exports=function rand(e){if(!o)o=new Rand(null);return o.generate(e)};function Rand(e){this.rand=e}e.exports.Rand=Rand;Rand.prototype.generate=function generate(e){return this._rand(e)};Rand.prototype._rand=function _rand(e){if(this.rand.getBytes)return this.rand.getBytes(e);var t=new Uint8Array(e);for(var i=0;i<t.length;i++)t[i]=this.rand.getByte();return t};if(typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues){Rand.prototype._rand=function _rand(e){var t=new Uint8Array(e);self.crypto.getRandomValues(t);return t}}else if(self.msCrypto&&self.msCrypto.getRandomValues){Rand.prototype._rand=function _rand(e){var t=new Uint8Array(e);self.msCrypto.getRandomValues(t);return t}}else if(typeof window==="object"){Rand.prototype._rand=function(){throw new Error("Not implemented yet")}}}else{try{var a=i("?44d1");if(typeof a.randomBytes!=="function")throw new Error("Not supported");Rand.prototype._rand=function _rand(e){return a.randomBytes(e)}}catch(e){}}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/aes.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function asUInt32Array(e){if(!o.isBuffer(e))e=o.from(e);var t=e.length/4|0;var i=new Array(t);for(var a=0;a<t;a++){i[a]=e.readUInt32BE(a*4)}return i}function scrubVec(e){for(var t=0;t<e.length;e++){e[t]=0}}function cryptBlock(e,t,i,o,a){var l=i[0];var u=i[1];var d=i[2];var p=i[3];var m=e[0]^t[0];var g=e[1]^t[1];var v=e[2]^t[2];var y=e[3]^t[3];var _,w,A,k;var T=4;for(var x=1;x<a;x++){_=l[m>>>24]^u[g>>>16&255]^d[v>>>8&255]^p[y&255]^t[T++];w=l[g>>>24]^u[v>>>16&255]^d[y>>>8&255]^p[m&255]^t[T++];A=l[v>>>24]^u[y>>>16&255]^d[m>>>8&255]^p[g&255]^t[T++];k=l[y>>>24]^u[m>>>16&255]^d[g>>>8&255]^p[v&255]^t[T++];m=_;g=w;v=A;y=k}_=(o[m>>>24]<<24|o[g>>>16&255]<<16|o[v>>>8&255]<<8|o[y&255])^t[T++];w=(o[g>>>24]<<24|o[v>>>16&255]<<16|o[y>>>8&255]<<8|o[m&255])^t[T++];A=(o[v>>>24]<<24|o[y>>>16&255]<<16|o[m>>>8&255]<<8|o[g&255])^t[T++];k=(o[y>>>24]<<24|o[m>>>16&255]<<16|o[g>>>8&255]<<8|o[v&255])^t[T++];_=_>>>0;w=w>>>0;A=A>>>0;k=k>>>0;return[_,w,A,k]}var a=[0,1,2,4,8,16,32,64,128,27,54];var l=function(){var e=new Array(256);for(var t=0;t<256;t++){if(t<128){e[t]=t<<1}else{e[t]=t<<1^283}}var i=[];var o=[];var a=[[],[],[],[]];var l=[[],[],[],[]];var u=0;var d=0;for(var p=0;p<256;++p){var m=d^d<<1^d<<2^d<<3^d<<4;m=m>>>8^m&255^99;i[u]=m;o[m]=u;var g=e[u];var v=e[g];var y=e[v];var _=e[m]*257^m*16843008;a[0][u]=_<<24|_>>>8;a[1][u]=_<<16|_>>>16;a[2][u]=_<<8|_>>>24;a[3][u]=_;_=y*16843009^v*65537^g*257^u*16843008;l[0][m]=_<<24|_>>>8;l[1][m]=_<<16|_>>>16;l[2][m]=_<<8|_>>>24;l[3][m]=_;if(u===0){u=d=1}else{u=g^e[e[e[y^g]]];d^=e[e[d]]}}return{SBOX:i,INV_SBOX:o,SUB_MIX:a,INV_SUB_MIX:l}}();function AES(e){this._key=asUInt32Array(e);this._reset()}AES.blockSize=4*4;AES.keySize=256/8;AES.prototype.blockSize=AES.blockSize;AES.prototype.keySize=AES.keySize;AES.prototype._reset=function(){var e=this._key;var t=e.length;var i=t+6;var o=(i+1)*4;var u=[];for(var d=0;d<t;d++){u[d]=e[d]}for(d=t;d<o;d++){var p=u[d-1];if(d%t===0){p=p<<8|p>>>24;p=l.SBOX[p>>>24]<<24|l.SBOX[p>>>16&255]<<16|l.SBOX[p>>>8&255]<<8|l.SBOX[p&255];p^=a[d/t|0]<<24}else if(t>6&&d%t===4){p=l.SBOX[p>>>24]<<24|l.SBOX[p>>>16&255]<<16|l.SBOX[p>>>8&255]<<8|l.SBOX[p&255]}u[d]=u[d-t]^p}var m=[];for(var g=0;g<o;g++){var v=o-g;var y=u[v-(g%4?0:4)];if(g<4||v<=4){m[g]=y}else{m[g]=l.INV_SUB_MIX[0][l.SBOX[y>>>24]]^l.INV_SUB_MIX[1][l.SBOX[y>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[y>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[y&255]]}}this._nRounds=i;this._keySchedule=u;this._invKeySchedule=m};AES.prototype.encryptBlockRaw=function(e){e=asUInt32Array(e);return cryptBlock(e,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)};AES.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e);var i=o.allocUnsafe(16);i.writeUInt32BE(t[0],0);i.writeUInt32BE(t[1],4);i.writeUInt32BE(t[2],8);i.writeUInt32BE(t[3],12);return i};AES.prototype.decryptBlock=function(e){e=asUInt32Array(e);var t=e[1];e[1]=e[3];e[3]=t;var i=cryptBlock(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds);var a=o.allocUnsafe(16);a.writeUInt32BE(i[0],0);a.writeUInt32BE(i[3],4);a.writeUInt32BE(i[2],8);a.writeUInt32BE(i[1],12);return a};AES.prototype.scrub=function(){scrubVec(this._keySchedule);scrubVec(this._invKeySchedule);scrubVec(this._key)};e.exports.AES=AES},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/authCipher.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/aes.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var u=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var d=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/ghash.js");var p=i("../../node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js");var m=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/incr32.js");function xorTest(e,t){var i=0;if(e.length!==t.length)i++;var o=Math.min(e.length,t.length);for(var a=0;a<o;++a){i+=e[a]^t[a]}return i}function calcIv(e,t,i){if(t.length===12){e._finID=a.concat([t,a.from([0,0,0,1])]);return a.concat([t,a.from([0,0,0,2])])}var o=new d(i);var l=t.length;var u=l%16;o.update(t);if(u){u=16-u;o.update(a.alloc(u,0))}o.update(a.alloc(8,0));var p=l*8;var g=a.alloc(8);g.writeUIntBE(p,0,8);o.update(g);e._finID=o.state;var v=a.from(e._finID);m(v);return v}function StreamCipher(e,t,i,u){l.call(this);var p=a.alloc(4,0);this._cipher=new o.AES(t);var m=this._cipher.encryptBlock(p);this._ghash=new d(m);i=calcIv(this,i,m);this._prev=a.from(i);this._cache=a.allocUnsafe(0);this._secCache=a.allocUnsafe(0);this._decrypt=u;this._alen=0;this._len=0;this._mode=e;this._authTag=null;this._called=false}u(StreamCipher,l);StreamCipher.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;if(t<16){t=a.alloc(t,0);this._ghash.update(t)}}this._called=true;var i=this._mode.encrypt(this,e);if(this._decrypt){this._ghash.update(e)}else{this._ghash.update(i)}this._len+=e.length;return i};StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=p(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e;this._cipher.scrub()};StreamCipher.prototype.getAuthTag=function getAuthTag(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};StreamCipher.prototype.setAuthTag=function setAuthTag(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};StreamCipher.prototype.setAAD=function setAAD(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e);this._alen+=e.length};e.exports=StreamCipher},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/browser.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/encrypter.js");var a=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/decrypter.js");var l=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/list.json");function getCiphers(){return Object.keys(l)}t.createCipher=t.Cipher=o.createCipher;t.createCipheriv=t.Cipheriv=o.createCipheriv;t.createDecipher=t.Decipher=a.createDecipher;t.createDecipheriv=t.Decipheriv=a.createDecipheriv;t.listCiphers=t.getCiphers=getCiphers},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/decrypter.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/authCipher.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/index.js");var u=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/streamCipher.js");var d=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var p=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/aes.js");var m=i("../../node_modules/.pnpm/evp_bytestokey@1.0.3/node_modules/evp_bytestokey/index.js");var g=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");function Decipher(e,t,i){d.call(this);this._cache=new Splitter;this._last=void 0;this._cipher=new p.AES(t);this._prev=a.from(i);this._mode=e;this._autopadding=true}g(Decipher,d);Decipher.prototype._update=function(e){this._cache.add(e);var t;var i;var o=[];while(t=this._cache.get(this._autopadding)){i=this._mode.decrypt(this,t);o.push(i)}return a.concat(o)};Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding){return unpad(this._mode.decrypt(this,e))}else if(e){throw new Error("data not multiple of block length")}};Decipher.prototype.setAutoPadding=function(e){this._autopadding=!!e;return this};function Splitter(){this.cache=a.allocUnsafe(0)}Splitter.prototype.add=function(e){this.cache=a.concat([this.cache,e])};Splitter.prototype.get=function(e){var t;if(e){if(this.cache.length>16){t=this.cache.slice(0,16);this.cache=this.cache.slice(16);return t}}else{if(this.cache.length>=16){t=this.cache.slice(0,16);this.cache=this.cache.slice(16);return t}}return null};Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(e){var t=e[15];if(t<1||t>16){throw new Error("unable to decrypt data")}var i=-1;while(++i<t){if(e[i+(16-t)]!==t){throw new Error("unable to decrypt data")}}if(t===16)return;return e.slice(0,16-t)}function createDecipheriv(e,t,i){var d=l[e.toLowerCase()];if(!d)throw new TypeError("invalid suite type");if(typeof i==="string")i=a.from(i);if(d.mode!=="GCM"&&i.length!==d.iv)throw new TypeError("invalid iv length "+i.length);if(typeof t==="string")t=a.from(t);if(t.length!==d.key/8)throw new TypeError("invalid key length "+t.length);if(d.type==="stream"){return new u(d.module,t,i,true)}else if(d.type==="auth"){return new o(d.module,t,i,true)}return new Decipher(d.module,t,i)}function createDecipher(e,t){var i=l[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var o=m(t,false,i.key,i.iv);return createDecipheriv(e,o.key,o.iv)}t.createDecipher=createDecipher;t.createDecipheriv=createDecipheriv},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/encrypter.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/index.js");var a=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/authCipher.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var u=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/streamCipher.js");var d=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var p=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/aes.js");var m=i("../../node_modules/.pnpm/evp_bytestokey@1.0.3/node_modules/evp_bytestokey/index.js");var g=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");function Cipher(e,t,i){d.call(this);this._cache=new Splitter;this._cipher=new p.AES(t);this._prev=l.from(i);this._mode=e;this._autopadding=true}g(Cipher,d);Cipher.prototype._update=function(e){this._cache.add(e);var t;var i;var o=[];while(t=this._cache.get()){i=this._mode.encrypt(this,t);o.push(i)}return l.concat(o)};var v=l.alloc(16,16);Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding){e=this._mode.encrypt(this,e);this._cipher.scrub();return e}if(!e.equals(v)){this._cipher.scrub();throw new Error("data not multiple of block length")}};Cipher.prototype.setAutoPadding=function(e){this._autopadding=!!e;return this};function Splitter(){this.cache=l.allocUnsafe(0)}Splitter.prototype.add=function(e){this.cache=l.concat([this.cache,e])};Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);this.cache=this.cache.slice(16);return e}return null};Splitter.prototype.flush=function(){var e=16-this.cache.length;var t=l.allocUnsafe(e);var i=-1;while(++i<e){t.writeUInt8(e,i)}return l.concat([this.cache,t])};function createCipheriv(e,t,i){var d=o[e.toLowerCase()];if(!d)throw new TypeError("invalid suite type");if(typeof t==="string")t=l.from(t);if(t.length!==d.key/8)throw new TypeError("invalid key length "+t.length);if(typeof i==="string")i=l.from(i);if(d.mode!=="GCM"&&i.length!==d.iv)throw new TypeError("invalid iv length "+i.length);if(d.type==="stream"){return new u(d.module,t,i)}else if(d.type==="auth"){return new a(d.module,t,i)}return new Cipher(d.module,t,i)}function createCipher(e,t){var i=o[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var a=m(t,false,i.key,i.iv);return createCipheriv(e,a.key,a.iv)}t.createCipheriv=createCipheriv;t.createCipher=createCipher},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/ghash.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=o.alloc(16,0);function toArray(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function fromArray(e){var t=o.allocUnsafe(16);t.writeUInt32BE(e[0]>>>0,0);t.writeUInt32BE(e[1]>>>0,4);t.writeUInt32BE(e[2]>>>0,8);t.writeUInt32BE(e[3]>>>0,12);return t}function GHASH(e){this.h=e;this.state=o.alloc(16,0);this.cache=o.allocUnsafe(0)}GHASH.prototype.ghash=function(e){var t=-1;while(++t<e.length){this.state[t]^=e[t]}this._multiply()};GHASH.prototype._multiply=function(){var e=toArray(this.h);var t=[0,0,0,0];var i,o,a;var l=-1;while(++l<128){o=(this.state[~~(l/8)]&1<<7-l%8)!==0;if(o){t[0]^=e[0];t[1]^=e[1];t[2]^=e[2];t[3]^=e[3]}a=(e[3]&1)!==0;for(i=3;i>0;i--){e[i]=e[i]>>>1|(e[i-1]&1)<<31}e[0]=e[0]>>>1;if(a){e[0]=e[0]^225<<24}}this.state=fromArray(t)};GHASH.prototype.update=function(e){this.cache=o.concat([this.cache,e]);var t;while(this.cache.length>=16){t=this.cache.slice(0,16);this.cache=this.cache.slice(16);this.ghash(t)}};GHASH.prototype.final=function(e,t){if(this.cache.length){this.ghash(o.concat([this.cache,a],16))}this.ghash(fromArray([0,e,0,t]));return this.state};e.exports=GHASH},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/incr32.js":e=>{function incr32(e){var t=e.length;var i;while(t--){i=e.readUInt8(t);if(i===255){e.writeUInt8(0,t)}else{i++;e.writeUInt8(i,t);break}}}e.exports=incr32},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cbc.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js");t.encrypt=function(e,t){var i=o(t,e._prev);e._prev=e._cipher.encryptBlock(i);return e._prev};t.decrypt=function(e,t){var i=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return o(a,i)}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cfb.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js");function encryptStart(e,t,i){var l=t.length;var u=a(t,e._cache);e._cache=e._cache.slice(l);e._prev=o.concat([e._prev,i?t:u]);return u}t.encrypt=function(e,t,i){var a=o.allocUnsafe(0);var l;while(t.length){if(e._cache.length===0){e._cache=e._cipher.encryptBlock(e._prev);e._prev=o.allocUnsafe(0)}if(e._cache.length<=t.length){l=e._cache.length;a=o.concat([a,encryptStart(e,t.slice(0,l),i)]);t=t.slice(l)}else{a=o.concat([a,encryptStart(e,t,i)]);break}}return a}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cfb1.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function encryptByte(e,t,i){var o;var a=-1;var l=8;var u=0;var d,p;while(++a<l){o=e._cipher.encryptBlock(e._prev);d=t&1<<7-a?128:0;p=o[0]^d;u+=(p&128)>>a%8;e._prev=shiftIn(e._prev,i?d:p)}return u}function shiftIn(e,t){var i=e.length;var a=-1;var l=o.allocUnsafe(e.length);e=o.concat([e,o.from([t])]);while(++a<i){l[a]=e[a]<<1|e[a+1]>>7}return l}t.encrypt=function(e,t,i){var a=t.length;var l=o.allocUnsafe(a);var u=-1;while(++u<a){l[u]=encryptByte(e,t[u],i)}return l}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cfb8.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function encryptByte(e,t,i){var a=e._cipher.encryptBlock(e._prev);var l=a[0]^t;e._prev=o.concat([e._prev.slice(1),o.from([i?t:l])]);return l}t.encrypt=function(e,t,i){var a=t.length;var l=o.allocUnsafe(a);var u=-1;while(++u<a){l[u]=encryptByte(e,t[u],i)}return l}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ctr.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/incr32.js");function getBlock(e){var t=e._cipher.encryptBlockRaw(e._prev);l(e._prev);return t}var u=16;t.encrypt=function(e,t){var i=Math.ceil(t.length/u);var l=e._cache.length;e._cache=a.concat([e._cache,a.allocUnsafe(i*u)]);for(var d=0;d<i;d++){var p=getBlock(e);var m=l+d*u;e._cache.writeUInt32BE(p[0],m+0);e._cache.writeUInt32BE(p[1],m+4);e._cache.writeUInt32BE(p[2],m+8);e._cache.writeUInt32BE(p[3],m+12)}var g=e._cache.slice(0,t.length);e._cache=e._cache.slice(t.length);return o(t,g)}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ecb.js":(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)};t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/index.js":(e,t,i)=>{var o={ECB:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ecb.js"),CBC:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cbc.js"),CFB:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cfb.js"),CFB8:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cfb8.js"),CFB1:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/cfb1.js"),OFB:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ofb.js"),CTR:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ctr.js"),GCM:i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ctr.js")};var a=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/list.json");for(var l in a){a[l].module=o[a[l].mode]}e.exports=a},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/list.json":e=>{"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/ofb.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js")["Buffer"];var a=i("../../node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js");function getBlock(e){e._prev=e._cipher.encryptBlock(e._prev);return e._prev}t.encrypt=function(e,t){while(e._cache.length<t.length){e._cache=o.concat([e._cache,getBlock(e)])}var i=e._cache.slice(0,t.length);e._cache=e._cache.slice(t.length);return a(t,i)}},"../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/streamCipher.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/aes.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var u=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");function StreamCipher(e,t,i,u){l.call(this);this._cipher=new o.AES(t);this._prev=a.from(i);this._cache=a.allocUnsafe(0);this._secCache=a.allocUnsafe(0);this._decrypt=u;this._mode=e}u(StreamCipher,l);StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};StreamCipher.prototype._final=function(){this._cipher.scrub()};e.exports=StreamCipher},"../../node_modules/.pnpm/browserify-cipher@1.0.1/node_modules/browserify-cipher/browser.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/browserify-des@1.0.2/node_modules/browserify-des/index.js");var a=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/browser.js");var l=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/modes/index.js");var u=i("../../node_modules/.pnpm/browserify-des@1.0.2/node_modules/browserify-des/modes.js");var d=i("../../node_modules/.pnpm/evp_bytestokey@1.0.3/node_modules/evp_bytestokey/index.js");function createCipher(e,t){e=e.toLowerCase();var i,o;if(l[e]){i=l[e].key;o=l[e].iv}else if(u[e]){i=u[e].key*8;o=u[e].iv}else{throw new TypeError("invalid suite type")}var a=d(t,false,i,o);return createCipheriv(e,a.key,a.iv)}function createDecipher(e,t){e=e.toLowerCase();var i,o;if(l[e]){i=l[e].key;o=l[e].iv}else if(u[e]){i=u[e].key*8;o=u[e].iv}else{throw new TypeError("invalid suite type")}var a=d(t,false,i,o);return createDecipheriv(e,a.key,a.iv)}function createCipheriv(e,t,i){e=e.toLowerCase();if(l[e])return a.createCipheriv(e,t,i);if(u[e])return new o({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function createDecipheriv(e,t,i){e=e.toLowerCase();if(l[e])return a.createDecipheriv(e,t,i);if(u[e])return new o({key:t,iv:i,mode:e,decrypt:true});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(u).concat(a.getCiphers())}t.createCipher=t.Cipher=createCipher;t.createCipheriv=t.Cipheriv=createCipheriv;t.createDecipher=t.Decipher=createDecipher;t.createDecipheriv=t.Decipheriv=createDecipheriv;t.listCiphers=t.getCiphers=getCiphers},"../../node_modules/.pnpm/browserify-des@1.0.2/node_modules/browserify-des/index.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var a=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des.js");var l=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var u=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var d={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};d.des=d["des-cbc"];d.des3=d["des-ede3-cbc"];e.exports=DES;l(DES,o);function DES(e){o.call(this);var t=e.mode.toLowerCase();var i=d[t];var a;if(e.decrypt){a="decrypt"}else{a="encrypt"}var l=e.key;if(!u.isBuffer(l)){l=u.from(l)}if(t==="des-ede"||t==="des-ede-cbc"){l=u.concat([l,l.slice(0,8)])}var p=e.iv;if(!u.isBuffer(p)){p=u.from(p)}this._des=i.create({key:l,iv:p,type:a})}DES.prototype._update=function(e){return u.from(this._des.update(e))};DES.prototype._final=function(){return u.from(this._des.final())}},"../../node_modules/.pnpm/browserify-des@1.0.2/node_modules/browserify-des/modes.js":(e,t)=>{t["des-ecb"]={key:8,iv:0};t["des-cbc"]=t.des={key:8,iv:8};t["des-ede3-cbc"]=t.des3={key:24,iv:8};t["des-ede3"]={key:24,iv:0};t["des-ede-cbc"]={key:16,iv:8};t["des-ede"]={key:16,iv:0}},"../../node_modules/.pnpm/browserify-rsa@4.1.1/node_modules/browserify-rsa/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function getr(e){var t=e.modulus.byteLength();var i;do{i=new o(a(t))}while(i.cmp(e.modulus)>=0||!i.umod(e.prime1)||!i.umod(e.prime2));return i}function blind(e){var t=getr(e);var i=t.toRed(o.mont(e.modulus)).redPow(new o(e.publicExponent)).fromRed();return{blinder:i,unblinder:t.invm(e.modulus)}}function crt(e,t){var i=blind(t);var a=t.modulus.byteLength();var u=new o(e).mul(i.blinder).umod(t.modulus);var d=u.toRed(o.mont(t.prime1));var p=u.toRed(o.mont(t.prime2));var m=t.coefficient;var g=t.prime1;var v=t.prime2;var y=d.redPow(t.exponent1).fromRed();var _=p.redPow(t.exponent2).fromRed();var w=y.isub(_).imul(m).umod(g).imul(v);return _.iadd(w).imul(i.unblinder).umod(t.modulus).toArrayLike(l,"be",a)}crt.getr=getr;e.exports=crt},"../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/algos.js":(e,t,i)=>{"use strict";e.exports=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/algorithms.json")},"../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/algorithms.json":e=>{"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},"../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/curves.json":e=>{"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},"../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js");var l=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/readable-browser.js");var u=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var d=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/sign.js");var p=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/verify.js");var m=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/algorithms.json");Object.keys(m).forEach(function(e){m[e].id=o.from(m[e].id,"hex");m[e.toLowerCase()]=m[e]});function Sign(e){l.Writable.call(this);var t=m[e];if(!t){throw new Error("Unknown message digest")}this._hashType=t.hash;this._hash=a(t.hash);this._tag=t.id;this._signType=t.sign}u(Sign,l.Writable);Sign.prototype._write=function _write(e,t,i){this._hash.update(e);i()};Sign.prototype.update=function update(e,t){this._hash.update(typeof e==="string"?o.from(e,t):e);return this};Sign.prototype.sign=function signMethod(e,t){this.end();var i=this._hash.digest();var o=d(i,e,this._hashType,this._signType,this._tag);return t?o.toString(t):o};function Verify(e){l.Writable.call(this);var t=m[e];if(!t){throw new Error("Unknown message digest")}this._hash=a(t.hash);this._tag=t.id;this._signType=t.sign}u(Verify,l.Writable);Verify.prototype._write=function _write(e,t,i){this._hash.update(e);i()};Verify.prototype.update=function update(e,t){this._hash.update(typeof e==="string"?o.from(e,t):e);return this};Verify.prototype.verify=function verifyMethod(e,t,i){var a=typeof t==="string"?o.from(t,i):t;this.end();var l=this._hash.digest();return p(a,l,e,this._signType,this._tag)};function createSign(e){return new Sign(e)}function createVerify(e){return new Verify(e)}e.exports={Sign:createSign,Verify:createVerify,createSign,createVerify}},"../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/sign.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/browser.js");var l=i("../../node_modules/.pnpm/browserify-rsa@4.1.1/node_modules/browserify-rsa/index.js");var u=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic.js").ec;var d=i("../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js");var p=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/index.js");var m=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/curves.json");var g=1;function sign(e,t,i,a,u){var d=p(t);if(d.curve){if(a!=="ecdsa"&&a!=="ecdsa/rsa"){throw new Error("wrong private key type")}return ecSign(e,d)}else if(d.type==="dsa"){if(a!=="dsa"){throw new Error("wrong private key type")}return dsaSign(e,d,i)}if(a!=="rsa"&&a!=="ecdsa/rsa"){throw new Error("wrong private key type")}if(t.padding!==undefined&&t.padding!==g){throw new Error("illegal or unsupported padding mode")}e=o.concat([u,e]);var m=d.modulus.byteLength();var v=[0,1];while(e.length+v.length+1<m){v.push(255)}v.push(0);var y=-1;while(++y<e.length){v.push(e[y])}var _=l(v,d);return _}function ecSign(e,t){var i=m[t.curve.join(".")];if(!i){throw new Error("unknown curve "+t.curve.join("."))}var a=new u(i);var l=a.keyFromPrivate(t.privateKey);var d=l.sign(e);return o.from(d.toDER())}function dsaSign(e,t,i){var o=t.params.priv_key;var a=t.params.p;var l=t.params.q;var u=t.params.g;var p=new d(0);var m;var g=bits2int(e,l).mod(l);var v=false;var y=getKey(o,l,e,i);while(v===false){m=makeKey(l,y,i);p=makeR(u,m,a,l);v=m.invm(l).imul(g.add(o.mul(p))).mod(l);if(v.cmpn(0)===0){v=false;p=new d(0)}}return toDER(p,v)}function toDER(e,t){e=e.toArray();t=t.toArray();if(e[0]&128){e=[0].concat(e)}if(t[0]&128){t=[0].concat(t)}var i=e.length+t.length+4;var a=[48,i,2,e.length];a=a.concat(e,[2,t.length],t);return o.from(a)}function getKey(e,t,i,l){e=o.from(e.toArray());if(e.length<t.byteLength()){var u=o.alloc(t.byteLength()-e.length);e=o.concat([u,e])}var d=i.length;var p=bits2octets(i,t);var m=o.alloc(d);m.fill(1);var g=o.alloc(d);g=a(l,g).update(m).update(o.from([0])).update(e).update(p).digest();m=a(l,g).update(m).digest();g=a(l,g).update(m).update(o.from([1])).update(e).update(p).digest();m=a(l,g).update(m).digest();return{k:g,v:m}}function bits2int(e,t){var i=new d(e);var o=(e.length<<3)-t.bitLength();if(o>0){i.ishrn(o)}return i}function bits2octets(e,t){e=bits2int(e,t);e=e.mod(t);var i=o.from(e.toArray());if(i.length<t.byteLength()){var a=o.alloc(t.byteLength()-i.length);i=o.concat([a,i])}return i}function makeKey(e,t,i){var l;var u;do{l=o.alloc(0);while(l.length*8<e.bitLength()){t.v=a(i,t.k).update(t.v).digest();l=o.concat([l,t.v])}u=bits2int(l,e);t.k=a(i,t.k).update(t.v).update(o.from([0])).digest();t.v=a(i,t.k).update(t.v).digest()}while(u.cmp(e)!==-1);return u}function makeR(e,t,i,o){return e.toRed(d.mont(i)).redPow(t).fromRed().mod(o)}e.exports=sign;e.exports.getKey=getKey;e.exports.makeKey=makeKey},"../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/verify.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/bn.js@5.2.1/node_modules/bn.js/lib/bn.js");var l=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic.js").ec;var u=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/index.js");var d=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/curves.json");function verify(e,t,i,l,d){var p=u(i);if(p.type==="ec"){if(l!=="ecdsa"&&l!=="ecdsa/rsa"){throw new Error("wrong public key type")}return ecVerify(e,t,p)}else if(p.type==="dsa"){if(l!=="dsa"){throw new Error("wrong public key type")}return dsaVerify(e,t,p)}if(l!=="rsa"&&l!=="ecdsa/rsa"){throw new Error("wrong public key type")}t=o.concat([d,t]);var m=p.modulus.byteLength();var g=[1];var v=0;while(t.length+g.length+2<m){g.push(255);v+=1}g.push(0);var y=-1;while(++y<t.length){g.push(t[y])}g=o.from(g);var _=a.mont(p.modulus);e=new a(e).toRed(_);e=e.redPow(new a(p.publicExponent));e=o.from(e.fromRed().toArray());var w=v<8?1:0;m=Math.min(e.length,g.length);if(e.length!==g.length){w=1}y=-1;while(++y<m){w|=e[y]^g[y]}return w===0}function ecVerify(e,t,i){var o=d[i.data.algorithm.curve.join(".")];if(!o){throw new Error("unknown curve "+i.data.algorithm.curve.join("."))}var a=new l(o);var u=i.data.subjectPrivateKey.data;return a.verify(t,e,u)}function dsaVerify(e,t,i){var o=i.data.p;var l=i.data.q;var d=i.data.g;var p=i.data.pub_key;var m=u.signature.decode(e,"der");var g=m.s;var v=m.r;checkValue(g,l);checkValue(v,l);var y=a.mont(o);var _=g.invm(l);var w=d.toRed(y).redPow(new a(t).mul(_).mod(l)).fromRed().mul(p.toRed(y).redPow(v.mul(_).mod(l)).fromRed()).mod(o).mod(l);return w.cmp(v)===0}function checkValue(e,t){if(e.cmpn(0)<=0){throw new Error("invalid sig")}if(e.cmp(t)>=0){throw new Error("invalid sig")}}e.exports=verify},"../../node_modules/.pnpm/buffer-xor@1.0.3/node_modules/buffer-xor/index.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js")["Buffer"];e.exports=function xor(e,t){var i=Math.min(e.length,t.length);var a=new o(i);for(var l=0;l<i;++l){a[l]=e[l]^t[l]}return a}},"../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js":(e,t,i)=>{"use strict";const o=i("../../node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js");const a=i("../../node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js");const l=typeof Symbol==="function"&&typeof Symbol["for"]==="function"?Symbol["for"]("nodejs.util.inspect.custom"):null;t.Buffer=Buffer;t.SlowBuffer=SlowBuffer;t.INSPECT_MAX_BYTES=50;const u=2147483647;t.kMaxLength=u;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{const e=new Uint8Array(1);const t={foo:function(){return 42}};Object.setPrototypeOf(t,Uint8Array.prototype);Object.setPrototypeOf(e,t);return e.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(e){if(e>u){throw new RangeError('The value "'+e+'" is invalid for option "size"')}const t=new Uint8Array(e);Object.setPrototypeOf(t,Buffer.prototype);return t}function Buffer(e,t,i){if(typeof e==="number"){if(typeof t==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(e)}return from(e,t,i)}Buffer.poolSize=8192;function from(e,t,i){if(typeof e==="string"){return fromString(e,t)}if(ArrayBuffer.isView(e)){return fromArrayView(e)}if(e==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer)){return fromArrayBuffer(e,t,i)}if(typeof SharedArrayBuffer!=="undefined"&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer))){return fromArrayBuffer(e,t,i)}if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}const o=e.valueOf&&e.valueOf();if(o!=null&&o!==e){return Buffer.from(o,t,i)}const a=fromObject(e);if(a)return a;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==="function"){return Buffer.from(e[Symbol.toPrimitive]("string"),t,i)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}Buffer.from=function(e,t,i){return from(e,t,i)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be of type number')}else if(e<0){throw new RangeError('The value "'+e+'" is invalid for option "size"')}}function alloc(e,t,i){assertSize(e);if(e<=0){return createBuffer(e)}if(t!==undefined){return typeof i==="string"?createBuffer(e).fill(t,i):createBuffer(e).fill(t)}return createBuffer(e)}Buffer.alloc=function(e,t,i){return alloc(e,t,i)};function allocUnsafe(e){assertSize(e);return createBuffer(e<0?0:checked(e)|0)}Buffer.allocUnsafe=function(e){return allocUnsafe(e)};Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)};function fromString(e,t){if(typeof t!=="string"||t===""){t="utf8"}if(!Buffer.isEncoding(t)){throw new TypeError("Unknown encoding: "+t)}const i=byteLength(e,t)|0;let o=createBuffer(i);const a=o.write(e,t);if(a!==i){o=o.slice(0,a)}return o}function fromArrayLike(e){const t=e.length<0?0:checked(e.length)|0;const i=createBuffer(t);for(let o=0;o<t;o+=1){i[o]=e[o]&255}return i}function fromArrayView(e){if(isInstance(e,Uint8Array)){const t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}function fromArrayBuffer(e,t,i){if(t<0||e.byteLength<t){throw new RangeError('"offset" is outside of buffer bounds')}if(e.byteLength<t+(i||0)){throw new RangeError('"length" is outside of buffer bounds')}let o;if(t===undefined&&i===undefined){o=new Uint8Array(e)}else if(i===undefined){o=new Uint8Array(e,t)}else{o=new Uint8Array(e,t,i)}Object.setPrototypeOf(o,Buffer.prototype);return o}function fromObject(e){if(Buffer.isBuffer(e)){const t=checked(e.length)|0;const i=createBuffer(t);if(i.length===0){return i}e.copy(i,0,0,t);return i}if(e.length!==undefined){if(typeof e.length!=="number"||numberIsNaN(e.length)){return createBuffer(0)}return fromArrayLike(e)}if(e.type==="Buffer"&&Array.isArray(e.data)){return fromArrayLike(e.data)}}function checked(e){if(e>=u){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+u.toString(16)+" bytes")}return e|0}function SlowBuffer(e){if(+e!=e){e=0}return Buffer.alloc(+e)}Buffer.isBuffer=function isBuffer(e){return e!=null&&e._isBuffer===true&&e!==Buffer.prototype};Buffer.compare=function compare(e,t){if(isInstance(e,Uint8Array))e=Buffer.from(e,e.offset,e.byteLength);if(isInstance(t,Uint8Array))t=Buffer.from(t,t.offset,t.byteLength);if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(e===t)return 0;let i=e.length;let o=t.length;for(let a=0,l=Math.min(i,o);a<l;++a){if(e[a]!==t[a]){i=e[a];o=t[a];break}}if(i<o)return-1;if(o<i)return 1;return 0};Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(e,t){if(!Array.isArray(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return Buffer.alloc(0)}let i;if(t===undefined){t=0;for(i=0;i<e.length;++i){t+=e[i].length}}const o=Buffer.allocUnsafe(t);let a=0;for(i=0;i<e.length;++i){let t=e[i];if(isInstance(t,Uint8Array)){if(a+t.length>o.length){if(!Buffer.isBuffer(t))t=Buffer.from(t);t.copy(o,a)}else{Uint8Array.prototype.set.call(o,t,a)}}else if(!Buffer.isBuffer(t)){throw new TypeError('"list" argument must be an Array of Buffers')}else{t.copy(o,a)}a+=t.length}return o};function byteLength(e,t){if(Buffer.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof e)}const i=e.length;const o=arguments.length>2&&arguments[2]===true;if(!o&&i===0)return 0;let a=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return base64ToBytes(e).length;default:if(a){return o?-1:utf8ToBytes(e).length}t=(""+t).toLowerCase();a=true}}}Buffer.byteLength=byteLength;function slowToString(e,t,i){let o=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(i===undefined||i>this.length){i=this.length}if(i<=0){return""}i>>>=0;t>>>=0;if(i<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return hexSlice(this,t,i);case"utf8":case"utf-8":return utf8Slice(this,t,i);case"ascii":return asciiSlice(this,t,i);case"latin1":case"binary":return latin1Slice(this,t,i);case"base64":return base64Slice(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,i);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();o=true}}}Buffer.prototype._isBuffer=true;function swap(e,t,i){const o=e[t];e[t]=e[i];e[i]=o}Buffer.prototype.swap16=function swap16(){const e=this.length;if(e%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(let t=0;t<e;t+=2){swap(this,t,t+1)}return this};Buffer.prototype.swap32=function swap32(){const e=this.length;if(e%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(let t=0;t<e;t+=4){swap(this,t,t+3);swap(this,t+1,t+2)}return this};Buffer.prototype.swap64=function swap64(){const e=this.length;if(e%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(let t=0;t<e;t+=8){swap(this,t,t+7);swap(this,t+1,t+6);swap(this,t+2,t+5);swap(this,t+3,t+4)}return this};Buffer.prototype.toString=function toString(){const e=this.length;if(e===0)return"";if(arguments.length===0)return utf8Slice(this,0,e);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return Buffer.compare(this,e)===0};Buffer.prototype.inspect=function inspect(){let e="";const i=t.INSPECT_MAX_BYTES;e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim();if(this.length>i)e+=" ... ";return"<Buffer "+e+">"};if(l){Buffer.prototype[l]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(e,t,i,o,a){if(isInstance(e,Uint8Array)){e=Buffer.from(e,e.offset,e.byteLength)}if(!Buffer.isBuffer(e)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof e)}if(t===undefined){t=0}if(i===undefined){i=e?e.length:0}if(o===undefined){o=0}if(a===undefined){a=this.length}if(t<0||i>e.length||o<0||a>this.length){throw new RangeError("out of range index")}if(o>=a&&t>=i){return 0}if(o>=a){return-1}if(t>=i){return 1}t>>>=0;i>>>=0;o>>>=0;a>>>=0;if(this===e)return 0;let l=a-o;let u=i-t;const d=Math.min(l,u);const p=this.slice(o,a);const m=e.slice(t,i);for(let e=0;e<d;++e){if(p[e]!==m[e]){l=p[e];u=m[e];break}}if(l<u)return-1;if(u<l)return 1;return 0};function bidirectionalIndexOf(e,t,i,o,a){if(e.length===0)return-1;if(typeof i==="string"){o=i;i=0}else if(i>2147483647){i=2147483647}else if(i<-2147483648){i=-2147483648}i=+i;if(numberIsNaN(i)){i=a?0:e.length-1}if(i<0)i=e.length+i;if(i>=e.length){if(a)return-1;else i=e.length-1}else if(i<0){if(a)i=0;else return-1}if(typeof t==="string"){t=Buffer.from(t,o)}if(Buffer.isBuffer(t)){if(t.length===0){return-1}return arrayIndexOf(e,t,i,o,a)}else if(typeof t==="number"){t=t&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(a){return Uint8Array.prototype.indexOf.call(e,t,i)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,i)}}return arrayIndexOf(e,[t],i,o,a)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,i,o,a){let l=1;let u=e.length;let d=t.length;if(o!==undefined){o=String(o).toLowerCase();if(o==="ucs2"||o==="ucs-2"||o==="utf16le"||o==="utf-16le"){if(e.length<2||t.length<2){return-1}l=2;u/=2;d/=2;i/=2}}function read(e,t){if(l===1){return e[t]}else{return e.readUInt16BE(t*l)}}let p;if(a){let o=-1;for(p=i;p<u;p++){if(read(e,p)===read(t,o===-1?0:p-o)){if(o===-1)o=p;if(p-o+1===d)return o*l}else{if(o!==-1)p-=p-o;o=-1}}}else{if(i+d>u)i=u-d;for(p=i;p>=0;p--){let i=true;for(let o=0;o<d;o++){if(read(e,p+o)!==read(t,o)){i=false;break}}if(i)return p}}return-1}Buffer.prototype.includes=function includes(e,t,i){return this.indexOf(e,t,i)!==-1};Buffer.prototype.indexOf=function indexOf(e,t,i){return bidirectionalIndexOf(this,e,t,i,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,i){return bidirectionalIndexOf(this,e,t,i,false)};function hexWrite(e,t,i,o){i=Number(i)||0;const a=e.length-i;if(!o){o=a}else{o=Number(o);if(o>a){o=a}}const l=t.length;if(o>l/2){o=l/2}let u;for(u=0;u<o;++u){const o=parseInt(t.substr(u*2,2),16);if(numberIsNaN(o))return u;e[i+u]=o}return u}function utf8Write(e,t,i,o){return blitBuffer(utf8ToBytes(t,e.length-i),e,i,o)}function asciiWrite(e,t,i,o){return blitBuffer(asciiToBytes(t),e,i,o)}function base64Write(e,t,i,o){return blitBuffer(base64ToBytes(t),e,i,o)}function ucs2Write(e,t,i,o){return blitBuffer(utf16leToBytes(t,e.length-i),e,i,o)}Buffer.prototype.write=function write(e,t,i,o){if(t===undefined){o="utf8";i=this.length;t=0}else if(i===undefined&&typeof t==="string"){o=t;i=this.length;t=0}else if(isFinite(t)){t=t>>>0;if(isFinite(i)){i=i>>>0;if(o===undefined)o="utf8"}else{o=i;i=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}const a=this.length-t;if(i===undefined||i>a)i=a;if(e.length>0&&(i<0||t<0)||t>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!o)o="utf8";let l=false;for(;;){switch(o){case"hex":return hexWrite(this,e,t,i);case"utf8":case"utf-8":return utf8Write(this,e,t,i);case"ascii":case"latin1":case"binary":return asciiWrite(this,e,t,i);case"base64":return base64Write(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,i);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase();l=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(e,t,i){if(t===0&&i===e.length){return o.fromByteArray(e)}else{return o.fromByteArray(e.slice(t,i))}}function utf8Slice(e,t,i){i=Math.min(e.length,i);const o=[];let a=t;while(a<i){const t=e[a];let l=null;let u=t>239?4:t>223?3:t>191?2:1;if(a+u<=i){let i,o,d,p;switch(u){case 1:if(t<128){l=t}break;case 2:i=e[a+1];if((i&192)===128){p=(t&31)<<6|i&63;if(p>127){l=p}}break;case 3:i=e[a+1];o=e[a+2];if((i&192)===128&&(o&192)===128){p=(t&15)<<12|(i&63)<<6|o&63;if(p>2047&&(p<55296||p>57343)){l=p}}break;case 4:i=e[a+1];o=e[a+2];d=e[a+3];if((i&192)===128&&(o&192)===128&&(d&192)===128){p=(t&15)<<18|(i&63)<<12|(o&63)<<6|d&63;if(p>65535&&p<1114112){l=p}}}}if(l===null){l=65533;u=1}else if(l>65535){l-=65536;o.push(l>>>10&1023|55296);l=56320|l&1023}o.push(l);a+=u}return decodeCodePointsArray(o)}const d=4096;function decodeCodePointsArray(e){const t=e.length;if(t<=d){return String.fromCharCode.apply(String,e)}let i="";let o=0;while(o<t){i+=String.fromCharCode.apply(String,e.slice(o,o+=d))}return i}function asciiSlice(e,t,i){let o="";i=Math.min(e.length,i);for(let a=t;a<i;++a){o+=String.fromCharCode(e[a]&127)}return o}function latin1Slice(e,t,i){let o="";i=Math.min(e.length,i);for(let a=t;a<i;++a){o+=String.fromCharCode(e[a])}return o}function hexSlice(e,t,i){const o=e.length;if(!t||t<0)t=0;if(!i||i<0||i>o)i=o;let a="";for(let o=t;o<i;++o){a+=g[e[o]]}return a}function utf16leSlice(e,t,i){const o=e.slice(t,i);let a="";for(let e=0;e<o.length-1;e+=2){a+=String.fromCharCode(o[e]+o[e+1]*256)}return a}Buffer.prototype.slice=function slice(e,t){const i=this.length;e=~~e;t=t===undefined?i:~~t;if(e<0){e+=i;if(e<0)e=0}else if(e>i){e=i}if(t<0){t+=i;if(t<0)t=0}else if(t>i){t=i}if(t<e)t=e;const o=this.subarray(e,t);Object.setPrototypeOf(o,Buffer.prototype);return o};function checkOffset(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function readUIntLE(e,t,i){e=e>>>0;t=t>>>0;if(!i)checkOffset(e,t,this.length);let o=this[e];let a=1;let l=0;while(++l<t&&(a*=256)){o+=this[e+l]*a}return o};Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function readUIntBE(e,t,i){e=e>>>0;t=t>>>0;if(!i){checkOffset(e,t,this.length)}let o=this[e+--t];let a=1;while(t>0&&(a*=256)){o+=this[e+--t]*a}return o};Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function readUInt8(e,t){e=e>>>0;if(!t)checkOffset(e,1,this.length);return this[e]};Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){e=e>>>0;if(!t)checkOffset(e,2,this.length);return this[e]|this[e+1]<<8};Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){e=e>>>0;if(!t)checkOffset(e,2,this.length);return this[e]<<8|this[e+1]};Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){e=e>>>0;if(!t)checkOffset(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){e=e>>>0;if(!t)checkOffset(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Buffer.prototype.readBigUInt64LE=defineBigIntMethod(function readBigUInt64LE(e){e=e>>>0;validateNumber(e,"offset");const t=this[e];const i=this[e+7];if(t===undefined||i===undefined){boundsError(e,this.length-8)}const o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24;const a=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(o)+(BigInt(a)<<BigInt(32))});Buffer.prototype.readBigUInt64BE=defineBigIntMethod(function readBigUInt64BE(e){e=e>>>0;validateNumber(e,"offset");const t=this[e];const i=this[e+7];if(t===undefined||i===undefined){boundsError(e,this.length-8)}const o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e];const a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(o)<<BigInt(32))+BigInt(a)});Buffer.prototype.readIntLE=function readIntLE(e,t,i){e=e>>>0;t=t>>>0;if(!i)checkOffset(e,t,this.length);let o=this[e];let a=1;let l=0;while(++l<t&&(a*=256)){o+=this[e+l]*a}a*=128;if(o>=a)o-=Math.pow(2,8*t);return o};Buffer.prototype.readIntBE=function readIntBE(e,t,i){e=e>>>0;t=t>>>0;if(!i)checkOffset(e,t,this.length);let o=t;let a=1;let l=this[e+--o];while(o>0&&(a*=256)){l+=this[e+--o]*a}a*=128;if(l>=a)l-=Math.pow(2,8*t);return l};Buffer.prototype.readInt8=function readInt8(e,t){e=e>>>0;if(!t)checkOffset(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(e,t){e=e>>>0;if(!t)checkOffset(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Buffer.prototype.readInt16BE=function readInt16BE(e,t){e=e>>>0;if(!t)checkOffset(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Buffer.prototype.readInt32LE=function readInt32LE(e,t){e=e>>>0;if(!t)checkOffset(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(e,t){e=e>>>0;if(!t)checkOffset(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Buffer.prototype.readBigInt64LE=defineBigIntMethod(function readBigInt64LE(e){e=e>>>0;validateNumber(e,"offset");const t=this[e];const i=this[e+7];if(t===undefined||i===undefined){boundsError(e,this.length-8)}const o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});Buffer.prototype.readBigInt64BE=defineBigIntMethod(function readBigInt64BE(e){e=e>>>0;validateNumber(e,"offset");const t=this[e];const i=this[e+7];if(t===undefined||i===undefined){boundsError(e,this.length-8)}const o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});Buffer.prototype.readFloatLE=function readFloatLE(e,t){e=e>>>0;if(!t)checkOffset(e,4,this.length);return a.read(this,e,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(e,t){e=e>>>0;if(!t)checkOffset(e,4,this.length);return a.read(this,e,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){e=e>>>0;if(!t)checkOffset(e,8,this.length);return a.read(this,e,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){e=e>>>0;if(!t)checkOffset(e,8,this.length);return a.read(this,e,false,52,8)};function checkInt(e,t,i,o,a,l){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<l)throw new RangeError('"value" argument is out of bounds');if(i+o>e.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,i,o){e=+e;t=t>>>0;i=i>>>0;if(!o){const o=Math.pow(2,8*i)-1;checkInt(this,e,t,i,o,0)}let a=1;let l=0;this[t]=e&255;while(++l<i&&(a*=256)){this[t+l]=e/a&255}return t+i};Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,i,o){e=+e;t=t>>>0;i=i>>>0;if(!o){const o=Math.pow(2,8*i)-1;checkInt(this,e,t,i,o,0)}let a=i-1;let l=1;this[t+a]=e&255;while(--a>=0&&(l*=256)){this[t+a]=e/l&255}return t+i};Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function writeUInt8(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,1,255,0);this[t]=e&255;return t+1};Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,2,65535,0);this[t]=e&255;this[t+1]=e>>>8;return t+2};Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,2,65535,0);this[t]=e>>>8;this[t+1]=e&255;return t+2};Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,4,4294967295,0);this[t+3]=e>>>24;this[t+2]=e>>>16;this[t+1]=e>>>8;this[t]=e&255;return t+4};Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,4,4294967295,0);this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e&255;return t+4};function wrtBigUInt64LE(e,t,i,o,a){checkIntBI(t,o,a,e,i,7);let l=Number(t&BigInt(4294967295));e[i++]=l;l=l>>8;e[i++]=l;l=l>>8;e[i++]=l;l=l>>8;e[i++]=l;let u=Number(t>>BigInt(32)&BigInt(4294967295));e[i++]=u;u=u>>8;e[i++]=u;u=u>>8;e[i++]=u;u=u>>8;e[i++]=u;return i}function wrtBigUInt64BE(e,t,i,o,a){checkIntBI(t,o,a,e,i,7);let l=Number(t&BigInt(4294967295));e[i+7]=l;l=l>>8;e[i+6]=l;l=l>>8;e[i+5]=l;l=l>>8;e[i+4]=l;let u=Number(t>>BigInt(32)&BigInt(4294967295));e[i+3]=u;u=u>>8;e[i+2]=u;u=u>>8;e[i+1]=u;u=u>>8;e[i]=u;return i+8}Buffer.prototype.writeBigUInt64LE=defineBigIntMethod(function writeBigUInt64LE(e,t=0){return wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Buffer.prototype.writeBigUInt64BE=defineBigIntMethod(function writeBigUInt64BE(e,t=0){return wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});Buffer.prototype.writeIntLE=function writeIntLE(e,t,i,o){e=+e;t=t>>>0;if(!o){const o=Math.pow(2,8*i-1);checkInt(this,e,t,i,o-1,-o)}let a=0;let l=1;let u=0;this[t]=e&255;while(++a<i&&(l*=256)){if(e<0&&u===0&&this[t+a-1]!==0){u=1}this[t+a]=(e/l>>0)-u&255}return t+i};Buffer.prototype.writeIntBE=function writeIntBE(e,t,i,o){e=+e;t=t>>>0;if(!o){const o=Math.pow(2,8*i-1);checkInt(this,e,t,i,o-1,-o)}let a=i-1;let l=1;let u=0;this[t+a]=e&255;while(--a>=0&&(l*=256)){if(e<0&&u===0&&this[t+a+1]!==0){u=1}this[t+a]=(e/l>>0)-u&255}return t+i};Buffer.prototype.writeInt8=function writeInt8(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,1,127,-128);if(e<0)e=255+e+1;this[t]=e&255;return t+1};Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,2,32767,-32768);this[t]=e&255;this[t+1]=e>>>8;return t+2};Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,2,32767,-32768);this[t]=e>>>8;this[t+1]=e&255;return t+2};Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,4,2147483647,-2147483648);this[t]=e&255;this[t+1]=e>>>8;this[t+2]=e>>>16;this[t+3]=e>>>24;return t+4};Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,i){e=+e;t=t>>>0;if(!i)checkInt(this,e,t,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;this[t]=e>>>24;this[t+1]=e>>>16;this[t+2]=e>>>8;this[t+3]=e&255;return t+4};Buffer.prototype.writeBigInt64LE=defineBigIntMethod(function writeBigInt64LE(e,t=0){return wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});Buffer.prototype.writeBigInt64BE=defineBigIntMethod(function writeBigInt64BE(e,t=0){return wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function checkIEEE754(e,t,i,o,a,l){if(i+o>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function writeFloat(e,t,i,o,l){t=+t;i=i>>>0;if(!l){checkIEEE754(e,t,i,4,34028234663852886e22,-34028234663852886e22)}a.write(e,t,i,o,23,4);return i+4}Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,i){return writeFloat(this,e,t,true,i)};Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,i){return writeFloat(this,e,t,false,i)};function writeDouble(e,t,i,o,l){t=+t;i=i>>>0;if(!l){checkIEEE754(e,t,i,8,17976931348623157e292,-17976931348623157e292)}a.write(e,t,i,o,52,8);return i+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,i){return writeDouble(this,e,t,true,i)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,i){return writeDouble(this,e,t,false,i)};Buffer.prototype.copy=function copy(e,t,i,o){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(!i)i=0;if(!o&&o!==0)o=this.length;if(t>=e.length)t=e.length;if(!t)t=0;if(o>0&&o<i)o=i;if(o===i)return 0;if(e.length===0||this.length===0)return 0;if(t<0){throw new RangeError("targetStart out of bounds")}if(i<0||i>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");if(o>this.length)o=this.length;if(e.length-t<o-i){o=e.length-t+i}const a=o-i;if(this===e&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(t,i,o)}else{Uint8Array.prototype.set.call(e,this.subarray(i,o),t)}return a};Buffer.prototype.fill=function fill(e,t,i,o){if(typeof e==="string"){if(typeof t==="string"){o=t;t=0;i=this.length}else if(typeof i==="string"){o=i;i=this.length}if(o!==undefined&&typeof o!=="string"){throw new TypeError("encoding must be a string")}if(typeof o==="string"&&!Buffer.isEncoding(o)){throw new TypeError("Unknown encoding: "+o)}if(e.length===1){const t=e.charCodeAt(0);if(o==="utf8"&&t<128||o==="latin1"){e=t}}}else if(typeof e==="number"){e=e&255}else if(typeof e==="boolean"){e=Number(e)}if(t<0||this.length<t||this.length<i){throw new RangeError("Out of range index")}if(i<=t){return this}t=t>>>0;i=i===undefined?this.length:i>>>0;if(!e)e=0;let a;if(typeof e==="number"){for(a=t;a<i;++a){this[a]=e}}else{const l=Buffer.isBuffer(e)?e:Buffer.from(e,o);const u=l.length;if(u===0){throw new TypeError('The value "'+e+'" is invalid for argument "value"')}for(a=0;a<i-t;++a){this[a+t]=l[a%u]}}return this};const p={};function E(e,t,i){p[e]=class NodeError extends i{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:true,configurable:true});this.name=`${this.name} [${e}]`;this.stack;delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:true,enumerable:true,value:e,writable:true})}toString(){return`${this.name} [${e}]: ${this.message}`}}}E("ERR_BUFFER_OUT_OF_BOUNDS",function(e){if(e){return`${e} is outside of buffer bounds`}return"Attempt to access memory outside buffer bounds"},RangeError);E("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);E("ERR_OUT_OF_RANGE",function(e,t,i){let o=`The value of "${e}" is out of range.`;let a=i;if(Number.isInteger(i)&&Math.abs(i)>2**32){a=addNumericalSeparator(String(i))}else if(typeof i==="bigint"){a=String(i);if(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32))){a=addNumericalSeparator(a)}a+="n"}o+=` It must be ${t}. Received ${a}`;return o},RangeError);function addNumericalSeparator(e){let t="";let i=e.length;const o=e[0]==="-"?1:0;for(;i>=o+4;i-=3){t=`_${e.slice(i-3,i)}${t}`}return`${e.slice(0,i)}${t}`}function checkBounds(e,t,i){validateNumber(t,"offset");if(e[t]===undefined||e[t+i]===undefined){boundsError(t,e.length-(i+1))}}function checkIntBI(e,t,i,o,a,l){if(e>i||e<t){const o=typeof t==="bigint"?"n":"";let a;if(l>3){if(t===0||t===BigInt(0)){a=`>= 0${o} and < 2${o} ** ${(l+1)*8}${o}`}else{a=`>= -(2${o} ** ${(l+1)*8-1}${o}) and < 2 ** `+`${(l+1)*8-1}${o}`}}else{a=`>= ${t}${o} and <= ${i}${o}`}throw new p.ERR_OUT_OF_RANGE("value",a,e)}checkBounds(o,a,l)}function validateNumber(e,t){if(typeof e!=="number"){throw new p.ERR_INVALID_ARG_TYPE(t,"number",e)}}function boundsError(e,t,i){if(Math.floor(e)!==e){validateNumber(e,i);throw new p.ERR_OUT_OF_RANGE(i||"offset","an integer",e)}if(t<0){throw new p.ERR_BUFFER_OUT_OF_BOUNDS}throw new p.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}const m=/[^+/0-9A-Za-z-_]/g;function base64clean(e){e=e.split("=")[0];e=e.trim().replace(m,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function utf8ToBytes(e,t){t=t||Infinity;let i;const o=e.length;let a=null;const l=[];for(let u=0;u<o;++u){i=e.charCodeAt(u);if(i>55295&&i<57344){if(!a){if(i>56319){if((t-=3)>-1)l.push(239,191,189);continue}else if(u+1===o){if((t-=3)>-1)l.push(239,191,189);continue}a=i;continue}if(i<56320){if((t-=3)>-1)l.push(239,191,189);a=i;continue}i=(a-55296<<10|i-56320)+65536}else if(a){if((t-=3)>-1)l.push(239,191,189)}a=null;if(i<128){if((t-=1)<0)break;l.push(i)}else if(i<2048){if((t-=2)<0)break;l.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;l.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;l.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else{throw new Error("Invalid code point")}}return l}function asciiToBytes(e){const t=[];for(let i=0;i<e.length;++i){t.push(e.charCodeAt(i)&255)}return t}function utf16leToBytes(e,t){let i,o,a;const l=[];for(let u=0;u<e.length;++u){if((t-=2)<0)break;i=e.charCodeAt(u);o=i>>8;a=i%256;l.push(a);l.push(o)}return l}function base64ToBytes(e){return o.toByteArray(base64clean(e))}function blitBuffer(e,t,i,o){let a;for(a=0;a<o;++a){if(a+i>=t.length||a>=e.length)break;t[a+i]=e[a]}return a}function isInstance(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function numberIsNaN(e){return e!==e}const g=function(){const e="0123456789abcdef";const t=new Array(256);for(let i=0;i<16;++i){const o=i*16;for(let a=0;a<16;++a){t[o+a]=e[i]+e[a]}}return t}();function defineBigIntMethod(e){return typeof BigInt==="undefined"?BufferBigIntNotDefined:e}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}},"../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/stream@0.0.3/node_modules/stream/index.js").Transform;var l=i("../../node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js").StringDecoder;var u=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");function CipherBase(e){a.call(this);this.hashMode=typeof e==="string";if(this.hashMode){this[e]=this._finalOrDigest}else{this["final"]=this._finalOrDigest}if(this._final){this.__final=this._final;this._final=null}this._decoder=null;this._encoding=null}u(CipherBase,a);var d=typeof Uint8Array!=="undefined";var p=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&ArrayBuffer.isView&&(o.prototype instanceof Uint8Array||o.TYPED_ARRAY_SUPPORT);function toBuffer(e,t){if(e instanceof o){return e}if(typeof e==="string"){return o.from(e,t)}if(p&&ArrayBuffer.isView(e)){if(e.byteLength===0){return o.alloc(0)}var i=o.from(e.buffer,e.byteOffset,e.byteLength);if(i.byteLength===e.byteLength){return i}}if(d&&e instanceof Uint8Array){return o.from(e)}if(o.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)){return o.from(e)}throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}CipherBase.prototype.update=function(e,t,i){var o=toBuffer(e,t);var a=this._update(o);if(this.hashMode){return this}if(i){a=this._toString(a,i)}return a};CipherBase.prototype.setAutoPadding=function(){};CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase.prototype._transform=function(e,t,i){var o;try{if(this.hashMode){this._update(e)}else{this.push(this._update(e))}}catch(e){o=e}finally{i(o)}};CipherBase.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)};CipherBase.prototype._finalOrDigest=function(e){var t=this.__final()||o.alloc(0);if(e){t=this._toString(t,e,true)}return t};CipherBase.prototype._toString=function(e,t,i){if(!this._decoder){this._decoder=new l(t);this._encoding=t}if(this._encoding!==t){throw new Error("can’t switch encodings")}var o=this._decoder.write(e);if(i){o+=this._decoder.end()}return o};e.exports=CipherBase},"../../node_modules/.pnpm/clipboard@2.0.11/node_modules/clipboard/dist/clipboard.js":function(e){(function webpackUniversalModuleDefinition(t,i){if(true)e.exports=i();else{}})(this,function(){return function(){var e={686:function(e,t,i){"use strict";i.d(t,{default:function(){return T}});var o=i(279);var a=i.n(o);var l=i(370);var u=i.n(l);var d=i(817);var p=i.n(d);function command(e){try{return document.execCommand(e)}catch(e){return false}}var m=function ClipboardActionCut(e){var t=p()(e);command("cut");return t};var g=m;function createFakeElement(e){var t=document.documentElement.getAttribute("dir")==="rtl";var i=document.createElement("textarea");i.style.fontSize="12pt";i.style.border="0";i.style.padding="0";i.style.margin="0";i.style.position="absolute";i.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;i.style.top="".concat(o,"px");i.setAttribute("readonly","");i.value=e;return i}var v=function fakeCopyAction(e,t){var i=createFakeElement(e);t.container.appendChild(i);var o=p()(i);command("copy");i.remove();return o};var y=function ClipboardActionCopy(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{container:document.body};var i="";if(typeof e==="string"){i=v(e,t)}else if(e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(e===null||e===void 0?void 0:e.type)){i=v(e.value,t)}else{i=p()(e);command("copy")}return i};var _=y;function _typeof(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(e){return typeof e}}else{_typeof=function _typeof(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}var w=function ClipboardActionDefault(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.action,i=t===void 0?"copy":t,o=e.container,a=e.target,l=e.text;if(i!=="copy"&&i!=="cut"){throw new Error('Invalid "action" value, use either "copy" or "cut"')}if(a!==undefined){if(a&&_typeof(a)==="object"&&a.nodeType===1){if(i==="copy"&&a.hasAttribute("disabled")){throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute')}if(i==="cut"&&(a.hasAttribute("readonly")||a.hasAttribute("disabled"))){throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}}else{throw new Error('Invalid "target" value, use a valid Element')}}if(l){return _(l,{container:o})}if(a){return i==="cut"?g(a):_(a,{container:o})}};var A=w;function clipboard_typeof(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){clipboard_typeof=function _typeof(e){return typeof e}}else{clipboard_typeof=function _typeof(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return clipboard_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||false;o.configurable=true;if("value"in o)o.writable=true;Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){if(t)_defineProperties(e.prototype,t);if(i)_defineProperties(e,i);return e}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){e.__proto__=t;return e};return _setPrototypeOf(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function _createSuperInternal(){var i=_getPrototypeOf(e),o;if(t){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,a)}else{o=i.apply(this,arguments)}return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(e,t){if(t&&(clipboard_typeof(t)==="object"||typeof t==="function")){return t}return _assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf(e){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(e)}function getAttributeValue(e,t){var i="data-clipboard-".concat(e);if(!t.hasAttribute(i)){return}return t.getAttribute(i)}var k=function(e){_inherits(Clipboard,e);var t=_createSuper(Clipboard);function Clipboard(e,i){var o;_classCallCheck(this,Clipboard);o=t.call(this);o.resolveOptions(i);o.listenClick(e);return o}_createClass(Clipboard,[{key:"resolveOptions",value:function resolveOptions(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=typeof e.action==="function"?e.action:this.defaultAction;this.target=typeof e.target==="function"?e.target:this.defaultTarget;this.text=typeof e.text==="function"?e.text:this.defaultText;this.container=clipboard_typeof(e.container)==="object"?e.container:document.body}},{key:"listenClick",value:function listenClick(e){var t=this;this.listener=u()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function onClick(e){var t=e.delegateTarget||e.currentTarget;var i=this.action(t)||"copy";var o=A({action:i,container:this.container,target:this.target(t),text:this.text(t)});this.emit(o?"success":"error",{action:i,text:o,trigger:t,clearSelection:function clearSelection(){if(t){t.focus()}window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function defaultAction(e){return getAttributeValue("action",e)}},{key:"defaultTarget",value:function defaultTarget(e){var t=getAttributeValue("target",e);if(t){return document.querySelector(t)}}},{key:"defaultText",value:function defaultText(e){return getAttributeValue("text",e)}},{key:"destroy",value:function destroy(){this.listener.destroy()}}],[{key:"copy",value:function copy(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{container:document.body};return _(e,t)}},{key:"cut",value:function cut(e){return g(e)}},{key:"isSupported",value:function isSupported(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:["copy","cut"];var t=typeof e==="string"?[e]:e;var i=!!document.queryCommandSupported;t.forEach(function(e){i=i&&!!document.queryCommandSupported(e)});return i}}]);return Clipboard}(a());var T=k},828:function(e){var t=9;if(typeof Element!=="undefined"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function closest(e,i){while(e&&e.nodeType!==t){if(typeof e.matches==="function"&&e.matches(i)){return e}e=e.parentNode}}e.exports=closest},438:function(e,t,i){var o=i(828);function _delegate(e,t,i,o,a){var l=listener.apply(this,arguments);e.addEventListener(i,l,a);return{destroy:function(){e.removeEventListener(i,l,a)}}}function delegate(e,t,i,o,a){if(typeof e.addEventListener==="function"){return _delegate.apply(null,arguments)}if(typeof i==="function"){return _delegate.bind(null,document).apply(null,arguments)}if(typeof e==="string"){e=document.querySelectorAll(e)}return Array.prototype.map.call(e,function(e){return _delegate(e,t,i,o,a)})}function listener(e,t,i,a){return function(i){i.delegateTarget=o(i.target,t);if(i.delegateTarget){a.call(e,i)}}}e.exports=delegate},879:function(e,t){t.node=function(e){return e!==undefined&&e instanceof HTMLElement&&e.nodeType===1};t.nodeList=function(e){var i=Object.prototype.toString.call(e);return e!==undefined&&(i==="[object NodeList]"||i==="[object HTMLCollection]")&&"length"in e&&(e.length===0||t.node(e[0]))};t.string=function(e){return typeof e==="string"||e instanceof String};t.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},370:function(e,t,i){var o=i(879);var a=i(438);function listen(e,t,i){if(!e&&!t&&!i){throw new Error("Missing required arguments")}if(!o.string(t)){throw new TypeError("Second argument must be a String")}if(!o.fn(i)){throw new TypeError("Third argument must be a Function")}if(o.node(e)){return listenNode(e,t,i)}else if(o.nodeList(e)){return listenNodeList(e,t,i)}else if(o.string(e)){return listenSelector(e,t,i)}else{throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}}function listenNode(e,t,i){e.addEventListener(t,i);return{destroy:function(){e.removeEventListener(t,i)}}}function listenNodeList(e,t,i){Array.prototype.forEach.call(e,function(e){e.addEventListener(t,i)});return{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,i)})}}}function listenSelector(e,t,i){return a(document.body,e,t,i)}e.exports=listen},817:function(e){function select(e){var t;if(e.nodeName==="SELECT"){e.focus();t=e.value}else if(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"){var i=e.hasAttribute("readonly");if(!i){e.setAttribute("readonly","")}e.select();e.setSelectionRange(0,e.value.length);if(!i){e.removeAttribute("readonly")}t=e.value}else{if(e.hasAttribute("contenteditable")){e.focus()}var o=window.getSelection();var a=document.createRange();a.selectNodeContents(e);o.removeAllRanges();o.addRange(a);t=o.toString()}return t}e.exports=select},279:function(e){function E(){}E.prototype={on:function(e,t,i){var o=this.e||(this.e={});(o[e]||(o[e]=[])).push({fn:t,ctx:i});return this},once:function(e,t,i){var o=this;function listener(){o.off(e,listener);t.apply(i,arguments)}listener._=t;return this.on(e,listener,i)},emit:function(e){var t=[].slice.call(arguments,1);var i=((this.e||(this.e={}))[e]||[]).slice();var o=0;var a=i.length;for(o;o<a;o++){i[o].fn.apply(i[o].ctx,t)}return this},off:function(e,t){var i=this.e||(this.e={});var o=i[e];var a=[];if(o&&t){for(var l=0,u=o.length;l<u;l++){if(o[l].fn!==t&&o[l].fn._!==t)a.push(o[l])}}a.length?i[e]=a:delete i[e];return this}};e.exports=E;e.exports.TinyEmitter=E}};var t={};function __nested_webpack_require_24495__(i){if(t[i]){return t[i].exports}var o=t[i]={exports:{}};e[i](o,o.exports,__nested_webpack_require_24495__);return o.exports}!function(){__nested_webpack_require_24495__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};__nested_webpack_require_24495__.d(t,{a:t});return t}}();!function(){__nested_webpack_require_24495__.d=function(e,t){for(var i in t){if(__nested_webpack_require_24495__.o(t,i)&&!__nested_webpack_require_24495__.o(e,i)){Object.defineProperty(e,i,{enumerable:true,get:t[i]})}}}}();!function(){__nested_webpack_require_24495__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();return __nested_webpack_require_24495__(686)}().default})},"../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs":(e,t,i)=>{"use strict";i.r(t);i.d(t,{clsx:()=>clsx,default:()=>o});function r(e){var t,i,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(i=r(e[t]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function clsx(){for(var e,t,i=0,o="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}const o=clsx},"../../node_modules/.pnpm/component-emitter@2.0.0/node_modules/component-emitter/index.js":e=>{function Emitter(e){if(e){return mixin(e)}this._callbacks=new Map}function mixin(e){Object.assign(e,Emitter.prototype);e._callbacks=new Map;return e}Emitter.prototype.on=function(e,t){const i=this._callbacks.get(e)??[];i.push(t);this._callbacks.set(e,i);return this};Emitter.prototype.once=function(e,t){const on=(...i)=>{this.off(e,on);t.apply(this,i)};on.fn=t;this.on(e,on);return this};Emitter.prototype.off=function(e,t){if(e===undefined&&t===undefined){this._callbacks.clear();return this}if(t===undefined){this._callbacks.delete(e);return this}const i=this._callbacks.get(e);if(i){for(const[e,o]of i.entries()){if(o===t||o.fn===t){i.splice(e,1);break}}if(i.length===0){this._callbacks.delete(e)}else{this._callbacks.set(e,i)}}return this};Emitter.prototype.emit=function(e,...t){const i=this._callbacks.get(e);if(i){const e=[...i];for(const i of e){i.apply(this,t)}}return this};Emitter.prototype.listeners=function(e){return this._callbacks.get(e)??[]};Emitter.prototype.listenerCount=function(e){if(e){return this.listeners(e).length}let t=0;for(const e of this._callbacks.values()){t+=e.length}return t};Emitter.prototype.hasListeners=function(e){return this.listenerCount(e)>0};Emitter.prototype.addEventListener=Emitter.prototype.on;Emitter.prototype.removeListener=Emitter.prototype.off;Emitter.prototype.removeEventListener=Emitter.prototype.off;Emitter.prototype.removeAllListeners=Emitter.prototype.off;if(true){e.exports=Emitter}},"../../node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js":(e,t,i)=>{function isArray(e){if(Array.isArray){return Array.isArray(e)}return objectToString(e)==="[object Array]"}t.isArray=isArray;function isBoolean(e){return typeof e==="boolean"}t.isBoolean=isBoolean;function isNull(e){return e===null}t.isNull=isNull;function isNullOrUndefined(e){return e==null}t.isNullOrUndefined=isNullOrUndefined;function isNumber(e){return typeof e==="number"}t.isNumber=isNumber;function isString(e){return typeof e==="string"}t.isString=isString;function isSymbol(e){return typeof e==="symbol"}t.isSymbol=isSymbol;function isUndefined(e){return e===void 0}t.isUndefined=isUndefined;function isRegExp(e){return objectToString(e)==="[object RegExp]"}t.isRegExp=isRegExp;function isObject(e){return typeof e==="object"&&e!==null}t.isObject=isObject;function isDate(e){return objectToString(e)==="[object Date]"}t.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}t.isError=isError;function isFunction(e){return typeof e==="function"}t.isFunction=isFunction;function isPrimitive(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}t.isPrimitive=isPrimitive;t.isBuffer=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer.isBuffer;function objectToString(e){return Object.prototype.toString.call(e)}},"../../node_modules/.pnpm/create-ecdh@4.0.4/node_modules/create-ecdh/browser.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js")["Buffer"];var a=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic.js");var l=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");e.exports=function createECDH(e){return new ECDH(e)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};u.p224=u.secp224r1;u.p256=u.secp256r1=u.prime256v1;u.p192=u.secp192r1=u.prime192v1;u.p384=u.secp384r1;u.p521=u.secp521r1;function ECDH(e){this.curveType=u[e];if(!this.curveType){this.curveType={name:e}}this.curve=new a.ec(this.curveType.name);this.keys=void 0}ECDH.prototype.generateKeys=function(e,t){this.keys=this.curve.genKeyPair();return this.getPublicKey(e,t)};ECDH.prototype.computeSecret=function(e,t,i){t=t||"utf8";if(!o.isBuffer(e)){e=new o(e,t)}var a=this.curve.keyFromPublic(e).getPublic();var l=a.mul(this.keys.getPrivate()).getX();return formatReturnValue(l,i,this.curveType.byteLength)};ECDH.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic(t==="compressed",true);if(t==="hybrid"){if(i[i.length-1]%2){i[0]=7}else{i[0]=6}}return formatReturnValue(i,e)};ECDH.prototype.getPrivateKey=function(e){return formatReturnValue(this.keys.getPrivate(),e)};ECDH.prototype.setPublicKey=function(e,t){t=t||"utf8";if(!o.isBuffer(e)){e=new o(e,t)}this.keys._importPublic(e);return this};ECDH.prototype.setPrivateKey=function(e,t){t=t||"utf8";if(!o.isBuffer(e)){e=new o(e,t)}var i=new l(e);i=i.toString(16);this.keys=this.curve.genKeyPair();this.keys._importPrivate(i);return this};function formatReturnValue(e,t,i){if(!Array.isArray(e)){e=e.toArray()}var a=new o(e);if(i&&a.length<i){var l=new o(i-a.length);l.fill(0);a=o.concat([l,a])}if(!t){return a}else{return a.toString(t)}}},"../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js");var l=i("../../node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js");var u=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js");var d=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");function Hash(e){d.call(this,"digest");this._hash=e}o(Hash,d);Hash.prototype._update=function(e){this._hash.update(e)};Hash.prototype._final=function(){return this._hash.digest()};e.exports=function createHash(e){e=e.toLowerCase();if(e==="md5")return new a;if(e==="rmd160"||e==="ripemd160")return new l;return new Hash(u(e))}},"../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/md5.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js");e.exports=function(e){return(new o).update(e).digest()}},"../../node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/browser.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/legacy.js");var l=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var u=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var d=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/md5.js");var p=i("../../node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js");var m=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js");var g=u.alloc(128);function Hmac(e,t){l.call(this,"digest");if(typeof t==="string"){t=u.from(t)}var i=e==="sha512"||e==="sha384"?128:64;this._alg=e;this._key=t;if(t.length>i){var o=e==="rmd160"?new p:m(e);t=o.update(t).digest()}else if(t.length<i){t=u.concat([t,g],i)}var a=this._ipad=u.allocUnsafe(i);var d=this._opad=u.allocUnsafe(i);for(var v=0;v<i;v++){a[v]=t[v]^54;d[v]=t[v]^92}this._hash=e==="rmd160"?new p:m(e);this._hash.update(a)}o(Hmac,l);Hmac.prototype._update=function(e){this._hash.update(e)};Hmac.prototype._final=function(){var e=this._hash.digest();var t=this._alg==="rmd160"?new p:m(this._alg);return t.update(this._opad).update(e).digest()};e.exports=function createHmac(e,t){e=e.toLowerCase();if(e==="rmd160"||e==="ripemd160"){return new Hmac("rmd160",t)}if(e==="md5"){return new a(d,t)}return new Hmac(e,t)}},"../../node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/legacy.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var l=i("../../node_modules/.pnpm/cipher-base@1.0.6/node_modules/cipher-base/index.js");var u=a.alloc(128);var d=64;function Hmac(e,t){l.call(this,"digest");if(typeof t==="string"){t=a.from(t)}this._alg=e;this._key=t;if(t.length>d){t=e(t)}else if(t.length<d){t=a.concat([t,u],d)}var i=this._ipad=a.allocUnsafe(d);var o=this._opad=a.allocUnsafe(d);for(var p=0;p<d;p++){i[p]=t[p]^54;o[p]=t[p]^92}this._hash=[i]}o(Hmac,l);Hmac.prototype._update=function(e){this._hash.push(e)};Hmac.prototype._final=function(){var e=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,e]))};e.exports=Hmac},"../../node_modules/.pnpm/crypto-browserify@3.12.1/node_modules/crypto-browserify/index.js":(e,t,i)=>{"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i("../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js");t.createHash=t.Hash=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js");t.createHmac=t.Hmac=i("../../node_modules/.pnpm/create-hmac@1.1.7/node_modules/create-hmac/browser.js");var o=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/algos.js");var a=Object.keys(o);var l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);t.getHashes=function(){return l};var u=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/browser.js");t.pbkdf2=u.pbkdf2;t.pbkdf2Sync=u.pbkdf2Sync;var d=i("../../node_modules/.pnpm/browserify-cipher@1.0.1/node_modules/browserify-cipher/browser.js");t.Cipher=d.Cipher;t.createCipher=d.createCipher;t.Cipheriv=d.Cipheriv;t.createCipheriv=d.createCipheriv;t.Decipher=d.Decipher;t.createDecipher=d.createDecipher;t.Decipheriv=d.Decipheriv;t.createDecipheriv=d.createDecipheriv;t.getCiphers=d.getCiphers;t.listCiphers=d.listCiphers;var p=i("../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/browser.js");t.DiffieHellmanGroup=p.DiffieHellmanGroup;t.createDiffieHellmanGroup=p.createDiffieHellmanGroup;t.getDiffieHellman=p.getDiffieHellman;t.createDiffieHellman=p.createDiffieHellman;t.DiffieHellman=p.DiffieHellman;var m=i("../../node_modules/.pnpm/browserify-sign@4.2.3/node_modules/browserify-sign/browser/index.js");t.createSign=m.createSign;t.Sign=m.Sign;t.createVerify=m.createVerify;t.Verify=m.Verify;t.createECDH=i("../../node_modules/.pnpm/create-ecdh@4.0.4/node_modules/create-ecdh/browser.js");var g=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/browser.js");t.publicEncrypt=g.publicEncrypt;t.privateEncrypt=g.privateEncrypt;t.publicDecrypt=g.publicDecrypt;t.privateDecrypt=g.privateDecrypt;var v=i("../../node_modules/.pnpm/randomfill@1.0.4/node_modules/randomfill/browser.js");t.randomFill=v.randomFill;t.randomFillSync=v.randomFillSync;t.createCredentials=function(){throw new Error("sorry, createCredentials is not implemented yet\nwe accept pull requests\nhttps://github.com/browserify/crypto-browserify")};t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},"../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des.js":(e,t,i)=>{"use strict";t.utils=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/utils.js");t.Cipher=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/cipher.js");t.DES=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/des.js");t.CBC=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/cbc.js");t.EDE=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/ede.js")},"../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/cbc.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var l={};function CBCState(e){o.equal(e.length,8,"Invalid IV length");this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function instantiate(e){function CBC(t){e.call(this,t);this._cbcInit()}a(CBC,e);var t=Object.keys(l);for(var i=0;i<t.length;i++){var o=t[i];CBC.prototype[o]=l[o]}CBC.create=function create(e){return new CBC(e)};return CBC}t.instantiate=instantiate;l._cbcInit=function _cbcInit(){var e=new CBCState(this.options.iv);this._cbcState=e};l._update=function _update(e,t,i,o){var a=this._cbcState;var l=this.constructor.super_.prototype;var u=a.iv;if(this.type==="encrypt"){for(var d=0;d<this.blockSize;d++)u[d]^=e[t+d];l._update.call(this,u,0,i,o);for(var d=0;d<this.blockSize;d++)u[d]=i[o+d]}else{l._update.call(this,e,t,i,o);for(var d=0;d<this.blockSize;d++)i[o+d]^=u[d];for(var d=0;d<this.blockSize;d++)u[d]=e[t+d]}}},"../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/cipher.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");function Cipher(e){this.options=e;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=new Array(this.blockSize);this.bufferOff=0;this.padding=e.padding!==false}e.exports=Cipher;Cipher.prototype._init=function _init(){};Cipher.prototype.update=function update(e){if(e.length===0)return[];if(this.type==="decrypt")return this._updateDecrypt(e);else return this._updateEncrypt(e)};Cipher.prototype._buffer=function _buffer(e,t){var i=Math.min(this.buffer.length-this.bufferOff,e.length-t);for(var o=0;o<i;o++)this.buffer[this.bufferOff+o]=e[t+o];this.bufferOff+=i;return i};Cipher.prototype._flushBuffer=function _flushBuffer(e,t){this._update(this.buffer,0,e,t);this.bufferOff=0;return this.blockSize};Cipher.prototype._updateEncrypt=function _updateEncrypt(e){var t=0;var i=0;var o=(this.bufferOff+e.length)/this.blockSize|0;var a=new Array(o*this.blockSize);if(this.bufferOff!==0){t+=this._buffer(e,t);if(this.bufferOff===this.buffer.length)i+=this._flushBuffer(a,i)}var l=e.length-(e.length-t)%this.blockSize;for(;t<l;t+=this.blockSize){this._update(e,t,a,i);i+=this.blockSize}for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return a};Cipher.prototype._updateDecrypt=function _updateDecrypt(e){var t=0;var i=0;var o=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1;var a=new Array(o*this.blockSize);for(;o>0;o--){t+=this._buffer(e,t);i+=this._flushBuffer(a,i)}t+=this._buffer(e,t);return a};Cipher.prototype.final=function final(e){var t;if(e)t=this.update(e);var i;if(this.type==="encrypt")i=this._finalEncrypt();else i=this._finalDecrypt();if(t)return t.concat(i);else return i};Cipher.prototype._pad=function _pad(e,t){if(t===0)return false;while(t<e.length)e[t++]=0;return true};Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);this._update(this.buffer,0,e,0);return e};Cipher.prototype._unpad=function _unpad(e){return e};Cipher.prototype._finalDecrypt=function _finalDecrypt(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);this._flushBuffer(e,0);return this._unpad(e)}},"../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/des.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var l=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/utils.js");var u=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/cipher.js");function DESState(){this.tmp=new Array(2);this.keys=null}function DES(e){u.call(this,e);var t=new DESState;this._desState=t;this.deriveKeys(t,e.key)}a(DES,u);e.exports=DES;DES.create=function create(e){return new DES(e)};var d=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(e,t){e.keys=new Array(16*2);o.equal(t.length,this.blockSize,"Invalid key length");var i=l.readUInt32BE(t,0);var a=l.readUInt32BE(t,4);l.pc1(i,a,e.tmp,0);i=e.tmp[0];a=e.tmp[1];for(var u=0;u<e.keys.length;u+=2){var p=d[u>>>1];i=l.r28shl(i,p);a=l.r28shl(a,p);l.pc2(i,a,e.keys,u)}};DES.prototype._update=function _update(e,t,i,o){var a=this._desState;var u=l.readUInt32BE(e,t);var d=l.readUInt32BE(e,t+4);l.ip(u,d,a.tmp,0);u=a.tmp[0];d=a.tmp[1];if(this.type==="encrypt")this._encrypt(a,u,d,a.tmp,0);else this._decrypt(a,u,d,a.tmp,0);u=a.tmp[0];d=a.tmp[1];l.writeUInt32BE(i,u,o);l.writeUInt32BE(i,d,o+4)};DES.prototype._pad=function _pad(e,t){if(this.padding===false){return false}var i=e.length-t;for(var o=t;o<e.length;o++)e[o]=i;return true};DES.prototype._unpad=function _unpad(e){if(this.padding===false){return e}var t=e[e.length-1];for(var i=e.length-t;i<e.length;i++)o.equal(e[i],t);return e.slice(0,e.length-t)};DES.prototype._encrypt=function _encrypt(e,t,i,o,a){var u=t;var d=i;for(var p=0;p<e.keys.length;p+=2){var m=e.keys[p];var g=e.keys[p+1];l.expand(d,e.tmp,0);m^=e.tmp[0];g^=e.tmp[1];var v=l.substitute(m,g);var y=l.permute(v);var _=d;d=(u^y)>>>0;u=_}l.rip(d,u,o,a)};DES.prototype._decrypt=function _decrypt(e,t,i,o,a){var u=i;var d=t;for(var p=e.keys.length-2;p>=0;p-=2){var m=e.keys[p];var g=e.keys[p+1];l.expand(u,e.tmp,0);m^=e.tmp[0];g^=e.tmp[1];var v=l.substitute(m,g);var y=l.permute(v);var _=u;u=(d^y)>>>0;d=_}l.rip(u,d,o,a)}},"../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/ede.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var l=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/cipher.js");var u=i("../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/des.js");function EDEState(e,t){o.equal(t.length,24,"Invalid key length");var i=t.slice(0,8);var a=t.slice(8,16);var l=t.slice(16,24);if(e==="encrypt"){this.ciphers=[u.create({type:"encrypt",key:i}),u.create({type:"decrypt",key:a}),u.create({type:"encrypt",key:l})]}else{this.ciphers=[u.create({type:"decrypt",key:l}),u.create({type:"encrypt",key:a}),u.create({type:"decrypt",key:i})]}}function EDE(e){l.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}a(EDE,l);e.exports=EDE;EDE.create=function create(e){return new EDE(e)};EDE.prototype._update=function _update(e,t,i,o){var a=this._edeState;a.ciphers[0]._update(e,t,i,o);a.ciphers[1]._update(i,o,i,o);a.ciphers[2]._update(i,o,i,o)};EDE.prototype._pad=u.prototype._pad;EDE.prototype._unpad=u.prototype._unpad},"../../node_modules/.pnpm/des.js@1.1.0/node_modules/des.js/lib/des/utils.js":(e,t)=>{"use strict";t.readUInt32BE=function readUInt32BE(e,t){var i=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return i>>>0};t.writeUInt32BE=function writeUInt32BE(e,t,i){e[0+i]=t>>>24;e[1+i]=t>>>16&255;e[2+i]=t>>>8&255;e[3+i]=t&255};t.ip=function ip(e,t,i,o){var a=0;var l=0;for(var u=6;u>=0;u-=2){for(var d=0;d<=24;d+=8){a<<=1;a|=t>>>d+u&1}for(var d=0;d<=24;d+=8){a<<=1;a|=e>>>d+u&1}}for(var u=6;u>=0;u-=2){for(var d=1;d<=25;d+=8){l<<=1;l|=t>>>d+u&1}for(var d=1;d<=25;d+=8){l<<=1;l|=e>>>d+u&1}}i[o+0]=a>>>0;i[o+1]=l>>>0};t.rip=function rip(e,t,i,o){var a=0;var l=0;for(var u=0;u<4;u++){for(var d=24;d>=0;d-=8){a<<=1;a|=t>>>d+u&1;a<<=1;a|=e>>>d+u&1}}for(var u=4;u<8;u++){for(var d=24;d>=0;d-=8){l<<=1;l|=t>>>d+u&1;l<<=1;l|=e>>>d+u&1}}i[o+0]=a>>>0;i[o+1]=l>>>0};t.pc1=function pc1(e,t,i,o){var a=0;var l=0;for(var u=7;u>=5;u--){for(var d=0;d<=24;d+=8){a<<=1;a|=t>>d+u&1}for(var d=0;d<=24;d+=8){a<<=1;a|=e>>d+u&1}}for(var d=0;d<=24;d+=8){a<<=1;a|=t>>d+u&1}for(var u=1;u<=3;u++){for(var d=0;d<=24;d+=8){l<<=1;l|=t>>d+u&1}for(var d=0;d<=24;d+=8){l<<=1;l|=e>>d+u&1}}for(var d=0;d<=24;d+=8){l<<=1;l|=e>>d+u&1}i[o+0]=a>>>0;i[o+1]=l>>>0};t.r28shl=function r28shl(e,t){return e<<t&268435455|e>>>28-t};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function pc2(e,t,o,a){var l=0;var u=0;var d=i.length>>>1;for(var p=0;p<d;p++){l<<=1;l|=e>>>i[p]&1}for(var p=d;p<i.length;p++){u<<=1;u|=t>>>i[p]&1}o[a+0]=l>>>0;o[a+1]=u>>>0};t.expand=function expand(e,t,i){var o=0;var a=0;o=(e&1)<<5|e>>>27;for(var l=23;l>=15;l-=4){o<<=6;o|=e>>>l&63}for(var l=11;l>=3;l-=4){a|=e>>>l&63;a<<=6}a|=(e&31)<<1|e>>>31;t[i+0]=o>>>0;t[i+1]=a>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function substitute(e,t){var i=0;for(var a=0;a<4;a++){var l=e>>>18-a*6&63;var u=o[a*64+l];i<<=4;i|=u}for(var a=0;a<4;a++){var l=t>>>18-a*6&63;var u=o[4*64+a*64+l];i<<=4;i|=u}return i>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function permute(e){var t=0;for(var i=0;i<a.length;i++){t<<=1;t|=e>>>a[i]&1}return t>>>0};t.padSplit=function padSplit(e,t,i){var o=e.toString(2);while(o.length<t)o="0"+o;var a=[];for(var l=0;l<t;l+=i)a.push(o.slice(l,l+i));return a.join(" ")}},"../../node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BotInfo:()=>p,BrowserInfo:()=>l,NodeInfo:()=>u,ReactNativeInfo:()=>m,SearchBotDeviceInfo:()=>d,browserName:()=>browserName,detect:()=>detect,detectOS:()=>detectOS,getNodeVersion:()=>getNodeVersion,parseUserAgent:()=>parseUserAgent});var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var a=undefined&&undefined.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var o=0,a=t.length,l;o<a;o++){if(l||!(o in t)){if(!l)l=Array.prototype.slice.call(t,0,o);l[o]=t[o]}}return e.concat(l||Array.prototype.slice.call(t))};var l=function(){function BrowserInfo(e,t,i){this.name=e;this.version=t;this.os=i;this.type="browser"}return BrowserInfo}();var u=function(){function NodeInfo(e){this.version=e;this.type="node";this.name="node";this.os=o.platform}return NodeInfo}();var d=function(){function SearchBotDeviceInfo(e,t,i,o){this.name=e;this.version=t;this.os=i;this.bot=o;this.type="bot-device"}return SearchBotDeviceInfo}();var p=function(){function BotInfo(){this.type="bot";this.bot=true;this.name="bot";this.version=null;this.os=null}return BotInfo}();var m=function(){function ReactNativeInfo(){this.type="react-native";this.name="react-native";this.version=null;this.os=null}return ReactNativeInfo}();var g=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;var v=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/;var y=3;var _=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",g]];var w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(e){if(!!e){return parseUserAgent(e)}if(typeof document==="undefined"&&typeof navigator!=="undefined"&&navigator.product==="ReactNative"){return new m}if(typeof navigator!=="undefined"){return parseUserAgent(navigator.userAgent)}return getNodeVersion()}function matchUserAgent(e){return e!==""&&_.reduce(function(t,i){var browser=i[0],o=i[1];if(t){return t}var a=o.exec(e);return!!a&&[browser,a]},false)}function browserName(e){var t=matchUserAgent(e);return t?t[0]:null}function parseUserAgent(e){var t=matchUserAgent(e);if(!t){return null}var i=t[0],o=t[1];if(i==="searchbot"){return new p}var u=o[1]&&o[1].split(".").join("_").split("_").slice(0,3);if(u){if(u.length<y){u=a(a([],u,true),createVersionParts(y-u.length),true)}}else{u=[]}var m=u.join(".");var g=detectOS(e);var _=v.exec(e);if(_&&_[1]){return new d(i,m,g,_[1])}return new l(i,m,g)}function detectOS(e){for(var t=0,i=w.length;t<i;t++){var o=w[t],a=o[0],l=o[1];var u=l.exec(e);if(u){return a}}return null}function getNodeVersion(){var e=typeof o!=="undefined"&&o.version;return e?new u(o.version.slice(1)):null}function createVersionParts(e){var t=[];for(var i=0;i<e;i++){t.push("0")}return t}},"../../node_modules/.pnpm/dexie@4.0.11/node_modules/dexie/dist/dexie.js":function(e,t,i){(function(t,i){true?e.exports=i():0})(this,function(){"use strict";var extendStatics=function(e,t){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]};return extendStatics(e,t)};function __extends(e,t){if(typeof t!=="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function __(){this.constructor=e}e.prototype=t===null?Object.create(t):(__.prototype=t.prototype,new __)}var __assign=function(){__assign=Object.assign||function __assign(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a))e[a]=t[a]}return e};return __assign.apply(this,arguments)};function __spreadArray(e,t,i){if(i||arguments.length===2)for(var o=0,a=t.length,l;o<a;o++){if(l||!(o in t)){if(!l)l=Array.prototype.slice.call(t,0,o);l[o]=t[o]}}return e.concat(l||Array.prototype.slice.call(t))}var e=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:i.g;var t=Object.keys;var o=Array.isArray;if(typeof Promise!=="undefined"&&!e.Promise){e.Promise=Promise}function extend(e,i){if(typeof i!=="object")return e;t(i).forEach(function(t){e[t]=i[t]});return e}var a=Object.getPrototypeOf;var l={}.hasOwnProperty;function hasOwn(e,t){return l.call(e,t)}function props(e,i){if(typeof i==="function")i=i(a(e));(typeof Reflect==="undefined"?t:Reflect.ownKeys)(i).forEach(function(t){setProp(e,t,i[t])})}var u=Object.defineProperty;function setProp(e,t,i,o){u(e,t,extend(i&&hasOwn(i,"get")&&typeof i.get==="function"?{get:i.get,set:i.set,configurable:true}:{value:i,configurable:true,writable:true},o))}function derive(e){return{from:function(t){e.prototype=Object.create(t.prototype);setProp(e.prototype,"constructor",e);return{extend:props.bind(null,e.prototype)}}}}var d=Object.getOwnPropertyDescriptor;function getPropertyDescriptor(e,t){var i=d(e,t);var o;return i||(o=a(e))&&getPropertyDescriptor(o,t)}var p=[].slice;function slice(e,t,i){return p.call(e,t,i)}function override(e,t){return t(e)}function assert(e){if(!e)throw new Error("Assertion Failed")}function asap$1(t){if(e.setImmediate)setImmediate(t);else setTimeout(t,0)}function arrayToObject(e,t){return e.reduce(function(e,i,o){var a=t(i,o);if(a)e[a[0]]=a[1];return e},{})}function getByKeyPath(e,t){if(typeof t==="string"&&hasOwn(e,t))return e[t];if(!t)return e;if(typeof t!=="string"){var i=[];for(var o=0,a=t.length;o<a;++o){var l=getByKeyPath(e,t[o]);i.push(l)}return i}var u=t.indexOf(".");if(u!==-1){var d=e[t.substr(0,u)];return d==null?undefined:getByKeyPath(d,t.substr(u+1))}return undefined}function setByKeyPath(e,t,i){if(!e||t===undefined)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if(typeof t!=="string"&&"length"in t){assert(typeof i!=="string"&&"length"in i);for(var a=0,l=t.length;a<l;++a){setByKeyPath(e,t[a],i[a])}}else{var u=t.indexOf(".");if(u!==-1){var d=t.substr(0,u);var p=t.substr(u+1);if(p==="")if(i===undefined){if(o(e)&&!isNaN(parseInt(d)))e.splice(d,1);else delete e[d]}else e[d]=i;else{var m=e[d];if(!m||!hasOwn(e,d))m=e[d]={};setByKeyPath(m,p,i)}}else{if(i===undefined){if(o(e)&&!isNaN(parseInt(t)))e.splice(t,1);else delete e[t]}else e[t]=i}}}function delByKeyPath(e,t){if(typeof t==="string")setByKeyPath(e,t,undefined);else if("length"in t)[].map.call(t,function(t){setByKeyPath(e,t,undefined)})}function shallowClone(e){var t={};for(var i in e){if(hasOwn(e,i))t[i]=e[i]}return t}var m=[].concat;function flatten(e){return m.apply([],e)}var g="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(flatten([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(t){return e[t]});var v=new Set(g.map(function(t){return e[t]}));function cloneSimpleObjectTree(e){var t={};for(var i in e)if(hasOwn(e,i)){var o=e[i];t[i]=!o||typeof o!=="object"||v.has(o.constructor)?o:cloneSimpleObjectTree(o)}return t}function objectIsEmpty(e){for(var t in e)if(hasOwn(e,t))return false;return true}var y=null;function deepClone(e){y=new WeakMap;var t=innerDeepClone(e);y=null;return t}function innerDeepClone(e){if(!e||typeof e!=="object")return e;var t=y.get(e);if(t)return t;if(o(e)){t=[];y.set(e,t);for(var i=0,l=e.length;i<l;++i){t.push(innerDeepClone(e[i]))}}else if(v.has(e.constructor)){t=e}else{var u=a(e);t=u===Object.prototype?{}:Object.create(u);y.set(e,t);for(var d in e){if(hasOwn(e,d)){t[d]=innerDeepClone(e[d])}}}return t}var _={}.toString;function toStringTag(e){return _.call(e).slice(8,-1)}var w=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator";var A=typeof w==="symbol"?function(e){var t;return e!=null&&(t=e[w])&&t.apply(e)}:function(){return null};function delArrayItem(e,t){var i=e.indexOf(t);if(i>=0)e.splice(i,1);return i>=0}var k={};function getArrayOf(e){var t,i,a,l;if(arguments.length===1){if(o(e))return e.slice();if(this===k&&typeof e==="string")return[e];if(l=A(e)){i=[];while(a=l.next(),!a.done)i.push(a.value);return i}if(e==null)return[e];t=e.length;if(typeof t==="number"){i=new Array(t);while(t--)i[t]=e[t];return i}return[e]}t=arguments.length;i=new Array(t);while(t--)i[t]=arguments[t];return i}var T=typeof Symbol!=="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return false};var x=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var I=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];var N=x.concat(I);var P={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function DexieError(e,t){this.name=e;this.message=t}derive(DexieError).from(Error).extend({toString:function(){return this.name+": "+this.message}});function getMultiErrorMessage(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,i){return i.indexOf(e)===t}).join("\n")}function ModifyError(e,t,i,o){this.failures=t;this.failedKeys=o;this.successCount=i;this.message=getMultiErrorMessage(e,t)}derive(ModifyError).from(DexieError);function BulkError(e,t){this.name="BulkError";this.failures=Object.keys(t).map(function(e){return t[e]});this.failuresByPos=t;this.message=getMultiErrorMessage(e,this.failures)}derive(BulkError).from(DexieError);var C=N.reduce(function(e,t){return e[t]=t+"Error",e},{});var M=DexieError;var B=N.reduce(function(e,t){var i=t+"Error";function DexieError(e,o){this.name=i;if(!e){this.message=P[t]||i;this.inner=null}else if(typeof e==="string"){this.message="".concat(e).concat(!o?"":"\n "+o);this.inner=o||null}else if(typeof e==="object"){this.message="".concat(e.name," ").concat(e.message);this.inner=e}}derive(DexieError).from(M);e[t]=DexieError;return e},{});B.Syntax=SyntaxError;B.Type=TypeError;B.Range=RangeError;var j=I.reduce(function(e,t){e[t+"Error"]=B[t];return e},{});function mapError(e,t){if(!e||e instanceof DexieError||e instanceof TypeError||e instanceof SyntaxError||!e.name||!j[e.name])return e;var i=new j[e.name](t||e.message,e);if("stack"in e){setProp(i,"stack",{get:function(){return this.inner.stack}})}return i}var O=N.reduce(function(e,t){if(["Syntax","Type","Range"].indexOf(t)===-1)e[t+"Error"]=B[t];return e},{});O.ModifyError=ModifyError;O.DexieError=DexieError;O.BulkError=BulkError;function nop(){}function mirror(e){return e}function pureFunctionChain(e,t){if(e==null||e===mirror)return t;return function(i){return t(e(i))}}function callBoth(e,t){return function(){e.apply(this,arguments);t.apply(this,arguments)}}function hookCreatingChain(e,t){if(e===nop)return t;return function(){var i=e.apply(this,arguments);if(i!==undefined)arguments[0]=i;var o=this.onsuccess,a=this.onerror;this.onsuccess=null;this.onerror=null;var l=t.apply(this,arguments);if(o)this.onsuccess=this.onsuccess?callBoth(o,this.onsuccess):o;if(a)this.onerror=this.onerror?callBoth(a,this.onerror):a;return l!==undefined?l:i}}function hookDeletingChain(e,t){if(e===nop)return t;return function(){e.apply(this,arguments);var i=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null;t.apply(this,arguments);if(i)this.onsuccess=this.onsuccess?callBoth(i,this.onsuccess):i;if(o)this.onerror=this.onerror?callBoth(o,this.onerror):o}}function hookUpdatingChain(e,t){if(e===nop)return t;return function(i){var o=e.apply(this,arguments);extend(i,o);var a=this.onsuccess,l=this.onerror;this.onsuccess=null;this.onerror=null;var u=t.apply(this,arguments);if(a)this.onsuccess=this.onsuccess?callBoth(a,this.onsuccess):a;if(l)this.onerror=this.onerror?callBoth(l,this.onerror):l;return o===undefined?u===undefined?undefined:u:extend(o,u)}}function reverseStoppableEventChain(e,t){if(e===nop)return t;return function(){if(t.apply(this,arguments)===false)return false;return e.apply(this,arguments)}}function promisableChain(e,t){if(e===nop)return t;return function(){var i=e.apply(this,arguments);if(i&&typeof i.then==="function"){var o=this,a=arguments.length,l=new Array(a);while(a--)l[a]=arguments[a];return i.then(function(){return t.apply(o,l)})}return t.apply(this,arguments)}}var D=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function setDebug(e,t){D=e}var L={};var F=100,U=typeof Promise==="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[e,a(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,a(t),e]}(),H=U[0],q=U[1],G=U[2],z=q&&q.then;var W=H&&H.constructor;var V=!!G;function schedulePhysicalTick(){queueMicrotask(physicalTick)}var asap=function(e,t){te.push([e,t]);if($){schedulePhysicalTick();$=false}};var Y=true,$=true,J=[],Q=[],Z=mirror;var X={id:"global",global:true,ref:0,unhandleds:[],onunhandled:nop,pgp:false,env:{},finalize:nop};var ee=X;var te=[];var re=0;var ne=[];function DexiePromise(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=false;var t=this._PSD=ee;if(typeof e!=="function"){if(e!==L)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];if(this._state===false)handleRejection(this,this._value);return}this._state=null;this._value=null;++t.ref;executePromiseTask(this,e)}var se={get:function(){var e=ee,t=ce;function then(i,o){var a=this;var l=!e.global&&(e!==ee||t!==ce);var u=l&&!decrementExpectedAwaits();var d=new DexiePromise(function(t,d){propagateToListener(a,new Listener(nativeAwaitCompatibleWrap(i,e,l,u),nativeAwaitCompatibleWrap(o,e,l,u),t,d,e))});if(this._consoleTask)d._consoleTask=this._consoleTask;return d}then.prototype=L;return then},set:function(e){setProp(this,"then",e&&e.prototype===L?se:{get:function(){return e},set:se.set})}};props(DexiePromise.prototype,{then:se,_then:function(e,t){propagateToListener(this,new Listener(null,null,e,t,ee))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],i=arguments[1];return typeof t==="function"?this.then(null,function(e){return e instanceof t?i(e):PromiseReject(e)}):this.then(null,function(e){return e&&e.name===t?i(e):PromiseReject(e)})},finally:function(e){return this.then(function(t){return DexiePromise.resolve(e()).then(function(){return t})},function(t){return DexiePromise.resolve(e()).then(function(){return PromiseReject(t)})})},timeout:function(e,t){var i=this;return e<Infinity?new DexiePromise(function(o,a){var l=setTimeout(function(){return a(new B.Timeout(t))},e);i.then(o,a).finally(clearTimeout.bind(null,l))}):this}});if(typeof Symbol!=="undefined"&&Symbol.toStringTag)setProp(DexiePromise.prototype,Symbol.toStringTag,"Dexie.Promise");X.env=snapShot();function Listener(e,t,i,o,a){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.resolve=i;this.reject=o;this.psd=a}props(DexiePromise,{all:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(t,i){if(e.length===0)t([]);var o=e.length;e.forEach(function(a,l){return DexiePromise.resolve(a).then(function(i){e[l]=i;if(! --o)t(e)},i)})})},resolve:function(e){if(e instanceof DexiePromise)return e;if(e&&typeof e.then==="function")return new DexiePromise(function(t,i){e.then(t,i)});var t=new DexiePromise(L,true,e);return t},reject:PromiseReject,race:function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(t,i){e.map(function(e){return DexiePromise.resolve(e).then(t,i)})})},PSD:{get:function(){return ee},set:function(e){return ee=e}},totalEchoes:{get:function(){return ce}},newPSD:newScope,usePSD,scheduler:{get:function(){return asap},set:function(e){asap=e}},rejectionMapper:{get:function(){return Z},set:function(e){Z=e}},follow:function(e,t){return new DexiePromise(function(i,o){return newScope(function(t,i){var o=ee;o.unhandleds=[];o.onunhandled=i;o.finalize=callBoth(function(){var e=this;run_at_end_of_this_or_next_physical_tick(function(){e.unhandleds.length===0?t():i(e.unhandleds[0])})},o.finalize);e()},t,i,o)})}});if(W){if(W.allSettled)setProp(DexiePromise,"allSettled",function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(t){if(e.length===0)t([]);var i=e.length;var o=new Array(i);e.forEach(function(e,a){return DexiePromise.resolve(e).then(function(e){return o[a]={status:"fulfilled",value:e}},function(e){return o[a]={status:"rejected",reason:e}}).then(function(){return--i||t(o)})})})});if(W.any&&typeof AggregateError!=="undefined")setProp(DexiePromise,"any",function(){var e=getArrayOf.apply(null,arguments).map(onPossibleParallellAsync);return new DexiePromise(function(t,i){if(e.length===0)i(new AggregateError([]));var o=e.length;var a=new Array(o);e.forEach(function(e,l){return DexiePromise.resolve(e).then(function(e){return t(e)},function(e){a[l]=e;if(! --o)i(new AggregateError(a))})})})});if(W.withResolvers)DexiePromise.withResolvers=W.withResolvers}function executePromiseTask(e,t){try{t(function(t){if(e._state!==null)return;if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var i=e._lib&&beginMicroTickScope();if(t&&typeof t.then==="function"){executePromiseTask(e,function(e,i){t instanceof DexiePromise?t._then(e,i):t.then(e,i)})}else{e._state=true;e._value=t;propagateAllListeners(e)}if(i)endMicroTickScope()},handleRejection.bind(null,e))}catch(t){handleRejection(e,t)}}function handleRejection(e,t){Q.push(t);if(e._state!==null)return;var i=e._lib&&beginMicroTickScope();t=Z(t);e._state=false;e._value=t;addPossiblyUnhandledError(e);propagateAllListeners(e);if(i)endMicroTickScope()}function propagateAllListeners(e){var t=e._listeners;e._listeners=[];for(var i=0,o=t.length;i<o;++i){propagateToListener(e,t[i])}var a=e._PSD;--a.ref||a.finalize();if(re===0){++re;asap(function(){if(--re===0)finalizePhysicalTick()},[])}}function propagateToListener(e,t){if(e._state===null){e._listeners.push(t);return}var i=e._state?t.onFulfilled:t.onRejected;if(i===null){return(e._state?t.resolve:t.reject)(e._value)}++t.psd.ref;++re;asap(callListener,[i,e,t])}function callListener(e,t,i){try{var o,a=t._value;if(!t._state&&Q.length)Q=[];o=D&&t._consoleTask?t._consoleTask.run(function(){return e(a)}):e(a);if(!t._state&&Q.indexOf(a)===-1){markErrorAsHandled(t)}i.resolve(o)}catch(e){i.reject(e)}finally{if(--re===0)finalizePhysicalTick();--i.psd.ref||i.psd.finalize()}}function physicalTick(){usePSD(X,function(){beginMicroTickScope()&&endMicroTickScope()})}function beginMicroTickScope(){var e=Y;Y=false;$=false;return e}function endMicroTickScope(){var e,t,i;do{while(te.length>0){e=te;te=[];i=e.length;for(t=0;t<i;++t){var o=e[t];o[0].apply(null,o[1])}}}while(te.length>0);Y=true;$=true}function finalizePhysicalTick(){var e=J;J=[];e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});var t=ne.slice(0);var i=t.length;while(i)t[--i]()}function run_at_end_of_this_or_next_physical_tick(e){function finalizer(){e();ne.splice(ne.indexOf(finalizer),1)}ne.push(finalizer);++re;asap(function(){if(--re===0)finalizePhysicalTick()},[])}function addPossiblyUnhandledError(e){if(!J.some(function(t){return t._value===e._value}))J.push(e)}function markErrorAsHandled(e){var t=J.length;while(t)if(J[--t]._value===e._value){J.splice(t,1);return}}function PromiseReject(e){return new DexiePromise(L,false,e)}function wrap(e,t){var i=ee;return function(){var o=beginMicroTickScope(),a=ee;try{switchToZone(i,true);return e.apply(this,arguments)}catch(e){t&&t(e)}finally{switchToZone(a,false);if(o)endMicroTickScope()}}}var ie={awaits:0,echoes:0,id:0};var oe=0;var ae=[];var le=0;var ce=0;var ue=0;function newScope(e,t,i,o){var a=ee,l=Object.create(a);l.parent=a;l.ref=0;l.global=false;l.id=++ue;X.env;l.env=V?{Promise:DexiePromise,PromiseProp:{value:DexiePromise,configurable:true,writable:true},all:DexiePromise.all,race:DexiePromise.race,allSettled:DexiePromise.allSettled,any:DexiePromise.any,resolve:DexiePromise.resolve,reject:DexiePromise.reject}:{};if(t)extend(l,t);++a.ref;l.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=usePSD(l,e,i,o);if(l.ref===0)l.finalize();return u}function incrementExpectedAwaits(){if(!ie.id)ie.id=++oe;++ie.awaits;ie.echoes+=F;return ie.id}function decrementExpectedAwaits(){if(!ie.awaits)return false;if(--ie.awaits===0)ie.id=0;ie.echoes=ie.awaits*F;return true}if((""+z).indexOf("[native code]")===-1){incrementExpectedAwaits=decrementExpectedAwaits=nop}function onPossibleParallellAsync(e){if(ie.echoes&&e&&e.constructor===W){incrementExpectedAwaits();return e.then(function(e){decrementExpectedAwaits();return e},function(e){decrementExpectedAwaits();return de(e)})}return e}function zoneEnterEcho(e){++ce;if(!ie.echoes||--ie.echoes===0){ie.echoes=ie.awaits=ie.id=0}ae.push(ee);switchToZone(e,true)}function zoneLeaveEcho(){var e=ae[ae.length-1];ae.pop();switchToZone(e,false)}function switchToZone(t,i){var o=ee;if(i?ie.echoes&&(!le++||t!==ee):le&&(! --le||t!==ee)){queueMicrotask(i?zoneEnterEcho.bind(null,t):zoneLeaveEcho)}if(t===ee)return;ee=t;if(o===X)X.env=snapShot();if(V){var a=X.env.Promise;var l=t.env;if(o.global||t.global){Object.defineProperty(e,"Promise",l.PromiseProp);a.all=l.all;a.race=l.race;a.resolve=l.resolve;a.reject=l.reject;if(l.allSettled)a.allSettled=l.allSettled;if(l.any)a.any=l.any}}}function snapShot(){var t=e.Promise;return V?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(e,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function usePSD(e,t,i,o,a){var l=ee;try{switchToZone(e,true);return t(i,o,a)}finally{switchToZone(l,false)}}function nativeAwaitCompatibleWrap(e,t,i,o){return typeof e!=="function"?e:function(){var a=ee;if(i)incrementExpectedAwaits();switchToZone(t,true);try{return e.apply(this,arguments)}finally{switchToZone(a,false);if(o)queueMicrotask(decrementExpectedAwaits)}}}function execInGlobalContext(e){if(Promise===W&&ie.echoes===0){if(le===0){e()}else{enqueueNativeMicroTask(e)}}else{setTimeout(e,0)}}var de=DexiePromise.reject;function tempTransaction(e,t,i,o){if(!e.idbdb||!e._state.openComplete&&(!ee.letThrough&&!e._vip)){if(e._state.openComplete){return de(new B.DatabaseClosed(e._state.dbOpenError))}if(!e._state.isBeingOpened){if(!e._state.autoOpen)return de(new B.DatabaseClosed);e.open().catch(nop)}return e._state.dbReadyPromise.then(function(){return tempTransaction(e,t,i,o)})}else{var a=e._createTransaction(t,i,e._dbSchema);try{a.create();e._state.PR1398_maxLoop=3}catch(a){if(a.name===C.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0){console.warn("Dexie: Need to reopen db");e.close({disableAutoOpen:false});return e.open().then(function(){return tempTransaction(e,t,i,o)})}return de(a)}return a._promise(t,function(e,t){return newScope(function(){ee.trans=a;return o(e,t,a)})}).then(function(e){if(t==="readwrite")try{a.idbtrans.commit()}catch(e){}return t==="readonly"?e:a._completion.then(function(){return e})})}}var he="4.0.11";var pe=String.fromCharCode(65535);var me=-Infinity;var ve="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";var ye="String expected.";var be=[];var _e="__dbnames";var we="readonly";var Ee="readwrite";function combine(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Ae={type:3,lower:-Infinity,lowerOpen:false,upper:[[]],upperOpen:false};function workaroundForUndefinedPrimKey(e){return typeof e==="string"&&!/\./.test(e)?function(t){if(t[e]===undefined&&e in t){t=deepClone(t);delete t[e]}return t}:function(e){return e}}function Entity(){throw B.Type()}function cmp(e,t){try{var i=type(e);var o=type(t);if(i!==o){if(i==="Array")return 1;if(o==="Array")return-1;if(i==="binary")return 1;if(o==="binary")return-1;if(i==="string")return 1;if(o==="string")return-1;if(i==="Date")return 1;if(o!=="Date")return NaN;return-1}switch(i){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":{return compareUint8Arrays(getUint8Array(e),getUint8Array(t))}case"Array":return compareArrays(e,t)}}catch(e){}return NaN}function compareArrays(e,t){var i=e.length;var o=t.length;var a=i<o?i:o;for(var l=0;l<a;++l){var u=cmp(e[l],t[l]);if(u!==0)return u}return i===o?0:i<o?-1:1}function compareUint8Arrays(e,t){var i=e.length;var o=t.length;var a=i<o?i:o;for(var l=0;l<a;++l){if(e[l]!==t[l])return e[l]<t[l]?-1:1}return i===o?0:i<o?-1:1}function type(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var i=toStringTag(e);return i==="ArrayBuffer"?"binary":i}function getUint8Array(e){if(e instanceof Uint8Array)return e;if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return new Uint8Array(e)}var Se=function(){function Table(){}Table.prototype._trans=function(e,t,i){var o=this._tx||ee.trans;var a=this.name;var l=D&&typeof console!=="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function checkTableInTransaction(e,i,o){if(!o.schema[a])throw new B.NotFound("Table "+a+" not part of transaction");return t(o.idbtrans,o)}var u=beginMicroTickScope();try{var d=o&&o.db._novip===this.db._novip?o===ee.trans?o._promise(e,checkTableInTransaction,i):newScope(function(){return o._promise(e,checkTableInTransaction,i)},{trans:o,transless:ee.transless||ee}):tempTransaction(this.db,e,[this.name],checkTableInTransaction);if(l){d._consoleTask=l;d=d.catch(function(e){console.trace(e);return de(e)})}return d}finally{if(u)endMicroTickScope()}};Table.prototype.get=function(e,t){var i=this;if(e&&e.constructor===Object)return this.where(e).first(t);if(e==null)return de(new B.Type("Invalid argument to Table.get()"));return this._trans("readonly",function(t){return i.core.get({trans:t,key:e}).then(function(e){return i.hook.reading.fire(e)})}).then(t)};Table.prototype.where=function(e){if(typeof e==="string")return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var i=t(e);if(i.length===1)return this.where(i[0]).equals(e[i[0]]);var a=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&i.every(function(t){return e.keyPath.indexOf(t)>=0})){for(var t=0;t<i.length;++t){if(i.indexOf(e.keyPath[t])===-1)return false}return true}return false}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(a&&this.db._maxKey!==pe){var l=a.keyPath.slice(0,i.length);return this.where(l).equals(l.map(function(t){return e[t]}))}if(!a&&D)console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var u=this.schema.idxByName;function equals(e,t){return cmp(e,t)===0}var d=i.reduce(function(t,i){var a=t[0],l=t[1];var d=u[i];var p=e[i];return[a||d,a||!d?combine(l,d&&d.multi?function(e){var t=getByKeyPath(e,i);return o(t)&&t.some(function(e){return equals(p,e)})}:function(e){return equals(p,getByKeyPath(e,i))}):l]},[null,null]),p=d[0],m=d[1];return p?this.where(p.name).equals(e[p.keyPath]).filter(m):a?this.filter(m):this.where(i).equals("")};Table.prototype.filter=function(e){return this.toCollection().and(e)};Table.prototype.count=function(e){return this.toCollection().count(e)};Table.prototype.offset=function(e){return this.toCollection().offset(e)};Table.prototype.limit=function(e){return this.toCollection().limit(e)};Table.prototype.each=function(e){return this.toCollection().each(e)};Table.prototype.toArray=function(e){return this.toCollection().toArray(e)};Table.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};Table.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))};Table.prototype.reverse=function(){return this.toCollection().reverse()};Table.prototype.mapToClass=function(e){var t=this,i=t.db,o=t.name;this.schema.mappedClass=e;if(e.prototype instanceof Entity){e=function(e){__extends(class_1,e);function class_1(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(class_1.prototype,"db",{get:function(){return i},enumerable:false,configurable:true});class_1.prototype.table=function(){return o};return class_1}(e)}var l=new Set;for(var u=e.prototype;u;u=a(u)){Object.getOwnPropertyNames(u).forEach(function(e){return l.add(e)})}var readHook=function(t){if(!t)return t;var i=Object.create(e.prototype);for(var o in t)if(!l.has(o))try{i[o]=t[o]}catch(e){}return i};if(this.schema.readHook){this.hook.reading.unsubscribe(this.schema.readHook)}this.schema.readHook=readHook;this.hook("reading",readHook);return e};Table.prototype.defineClass=function(){function Class(e){extend(this,e)}return this.mapToClass(Class)};Table.prototype.add=function(e,t){var i=this;var o=this.schema.primKey,a=o.auto,l=o.keyPath;var u=e;if(l&&a){u=workaroundForUndefinedPrimKey(l)(e)}return this._trans("readwrite",function(e){return i.core.mutate({trans:e,type:"add",keys:t!=null?[t]:null,values:[u]})}).then(function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult}).then(function(t){if(l){try{setByKeyPath(e,l,t)}catch(e){}}return t})};Table.prototype.update=function(e,t){if(typeof e==="object"&&!o(e)){var i=getByKeyPath(e,this.schema.primKey.keyPath);if(i===undefined)return de(new B.InvalidArgument("Given object does not contain its primary key"));return this.where(":id").equals(i).modify(t)}else{return this.where(":id").equals(e).modify(t)}};Table.prototype.put=function(e,t){var i=this;var o=this.schema.primKey,a=o.auto,l=o.keyPath;var u=e;if(l&&a){u=workaroundForUndefinedPrimKey(l)(e)}return this._trans("readwrite",function(e){return i.core.mutate({trans:e,type:"put",values:[u],keys:t!=null?[t]:null})}).then(function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):e.lastResult}).then(function(t){if(l){try{setByKeyPath(e,l,t)}catch(e){}}return t})};Table.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:[e]})}).then(function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):undefined})};Table.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:Ae})}).then(function(e){return e.numFailures?DexiePromise.reject(e.failures[0]):undefined})};Table.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(i){return t.core.getMany({keys:e,trans:i}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})};Table.prototype.bulkAdd=function(e,t,i){var o=this;var a=Array.isArray(t)?t:undefined;i=i||(a?undefined:t);var l=i?i.allKeys:undefined;return this._trans("readwrite",function(t){var i=o.schema.primKey,u=i.auto,d=i.keyPath;if(d&&a)throw new B.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length;var m=d&&u?e.map(workaroundForUndefinedPrimKey(d)):e;return o.core.mutate({trans:t,type:"add",keys:a,values:m,wantResults:l}).then(function(e){var t=e.numFailures,i=e.results,a=e.lastResult,u=e.failures;var d=l?i:a;if(t===0)return d;throw new BulkError("".concat(o.name,".bulkAdd(): ").concat(t," of ").concat(p," operations failed"),u)})})};Table.prototype.bulkPut=function(e,t,i){var o=this;var a=Array.isArray(t)?t:undefined;i=i||(a?undefined:t);var l=i?i.allKeys:undefined;return this._trans("readwrite",function(t){var i=o.schema.primKey,u=i.auto,d=i.keyPath;if(d&&a)throw new B.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==e.length)throw new B.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length;var m=d&&u?e.map(workaroundForUndefinedPrimKey(d)):e;return o.core.mutate({trans:t,type:"put",keys:a,values:m,wantResults:l}).then(function(e){var t=e.numFailures,i=e.results,a=e.lastResult,u=e.failures;var d=l?i:a;if(t===0)return d;throw new BulkError("".concat(o.name,".bulkPut(): ").concat(t," of ").concat(p," operations failed"),u)})})};Table.prototype.bulkUpdate=function(e){var t=this;var i=this.core;var o=e.map(function(e){return e.key});var a=e.map(function(e){return e.changes});var l=[];return this._trans("readwrite",function(u){return i.getMany({trans:u,keys:o,cache:"clone"}).then(function(d){var p=[];var m=[];e.forEach(function(e,i){var o=e.key,a=e.changes;var u=d[i];if(u){for(var g=0,v=Object.keys(a);g<v.length;g++){var y=v[g];var _=a[y];if(y===t.schema.primKey.keyPath){if(cmp(_,o)!==0){throw new B.Constraint("Cannot update primary key in bulkUpdate()")}}else{setByKeyPath(u,y,_)}}l.push(i);p.push(o);m.push(u)}});var g=p.length;return i.mutate({trans:u,type:"put",keys:p,values:m,updates:{keys:o,changeSpecs:a}}).then(function(e){var i=e.numFailures,o=e.failures;if(i===0)return g;for(var a=0,u=Object.keys(o);a<u.length;a++){var d=u[a];var p=l[Number(d)];if(p!=null){var m=o[d];delete o[d];o[p]=m}}throw new BulkError("".concat(t.name,".bulkUpdate(): ").concat(i," of ").concat(g," operations failed"),o)})})})};Table.prototype.bulkDelete=function(e){var t=this;var i=e.length;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:e})}).then(function(e){var o=e.numFailures,a=e.lastResult,l=e.failures;if(o===0)return a;throw new BulkError("".concat(t.name,".bulkDelete(): ").concat(o," of ").concat(i," operations failed"),l)})};return Table}();function Events(e){var i={};var rv=function(t,o){if(o){var a=arguments.length,l=new Array(a-1);while(--a)l[a-1]=arguments[a];i[t].subscribe.apply(null,l);return e}else if(typeof t==="string"){return i[t]}};rv.addEventType=add;for(var a=1,l=arguments.length;a<l;++a){add(arguments[a])}return rv;function add(e,t,o){if(typeof e==="object")return addConfiguredEvents(e);if(!t)t=reverseStoppableEventChain;if(!o)o=nop;var a={subscribers:[],fire:o,subscribe:function(e){if(a.subscribers.indexOf(e)===-1){a.subscribers.push(e);a.fire=t(a.fire,e)}},unsubscribe:function(e){a.subscribers=a.subscribers.filter(function(t){return t!==e});a.fire=a.subscribers.reduce(t,o)}};i[e]=rv[e]=a;return a}function addConfiguredEvents(e){t(e).forEach(function(t){var i=e[t];if(o(i)){add(t,e[t][0],e[t][1])}else if(i==="asap"){var a=add(t,mirror,function fire(){var e=arguments.length,t=new Array(e);while(e--)t[e]=arguments[e];a.subscribers.forEach(function(e){asap$1(function fireEvent(){e.apply(null,t)})})})}else throw new B.InvalidArgument("Invalid event config")})}}function makeClassConstructor(e,t){derive(t).from({prototype:e});return t}function createTableConstructor(e){return makeClassConstructor(Se.prototype,function Table(t,i,o){this.db=e;this._tx=o;this.name=t;this.schema=i;this.hook=e._allTables[t]?e._allTables[t].hook:Events(null,{creating:[hookCreatingChain,nop],reading:[pureFunctionChain,mirror],updating:[hookUpdatingChain,nop],deleting:[hookDeletingChain,nop]})})}function isPlainKeyRange(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function addFilter(e,t){e.filter=combine(e.filter,t)}function addReplayFilter(e,t,i){var o=e.replayFilter;e.replayFilter=o?function(){return combine(o(),t())}:t;e.justLimit=i&&!o}function addMatchFilter(e,t){e.isMatch=combine(e.isMatch,t)}function getIndexOrStore(e,t){if(e.isPrimKey)return t.primaryKey;var i=t.getIndexByKeyPath(e.index);if(!i)throw new B.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return i}function openCursor(e,t,i){var o=getIndexOrStore(e,t.schema);return t.openCursor({trans:i,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:o,range:e.range}})}function iter(e,t,i,o){var a=e.replayFilter?combine(e.filter,e.replayFilter()):e.filter;if(!e.or){return iterate(openCursor(e,o,i),combine(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}else{var l={};var union=function(e,i,o){if(!a||a(i,o,function(e){return i.stop(e)},function(e){return i.fail(e)})){var u=i.primaryKey;var d=""+u;if(d==="[object ArrayBuffer]")d=""+new Uint8Array(u);if(!hasOwn(l,d)){l[d]=true;t(e,i,o)}}};return Promise.all([e.or._iterate(union,i),iterate(openCursor(e,o,i),e.algorithm,union,!e.keysOnly&&e.valueMapper)])}}function iterate(e,t,i,o){var a=o?function(e,t,a){return i(o(e),t,a)}:i;var l=wrap(a);return e.then(function(e){if(e){return e.start(function(){var c=function(){return e.continue()};if(!t||t(e,function(e){return c=e},function(t){e.stop(t);c=nop},function(t){e.fail(t);c=nop}))l(e.value,e,function(e){return c=e});c()})}})}var ke=function(){function PropModification(e){this["@@propmod"]=e}PropModification.prototype.execute=function(e){var t;var i=this["@@propmod"];if(i.add!==undefined){var a=i.add;if(o(a)){return __spreadArray(__spreadArray([],o(e)?e:[],true),a,true).sort()}if(typeof a==="number")return(Number(e)||0)+a;if(typeof a==="bigint"){try{return BigInt(e)+a}catch(e){return BigInt(0)+a}}throw new TypeError("Invalid term ".concat(a))}if(i.remove!==undefined){var l=i.remove;if(o(l)){return o(e)?e.filter(function(e){return!l.includes(e)}).sort():[]}if(typeof l==="number")return Number(e)-l;if(typeof l==="bigint"){try{return BigInt(e)-l}catch(e){return BigInt(0)-l}}throw new TypeError("Invalid subtrahend ".concat(l))}var u=(t=i.replacePrefix)===null||t===void 0?void 0:t[0];if(u&&typeof e==="string"&&e.startsWith(u)){return i.replacePrefix[1]+e.substring(u.length)}return e};return PropModification}();var Te=function(){function Collection(){}Collection.prototype._read=function(e,t){var i=this._ctx;return i.error?i.table._trans(null,de.bind(null,i.error)):i.table._trans("readonly",e).then(t)};Collection.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,de.bind(null,t.error)):t.table._trans("readwrite",e,"locked")};Collection.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=combine(t.algorithm,e)};Collection.prototype._iterate=function(e,t){return iter(this._ctx,e,t,this._ctx.table.core)};Collection.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),i=Object.create(this._ctx);if(e)extend(i,e);t._ctx=i;return t};Collection.prototype.raw=function(){this._ctx.valueMapper=null;return this};Collection.prototype.each=function(e){var t=this._ctx;return this._read(function(i){return iter(t,e,i,t.table.core)})};Collection.prototype.count=function(e){var t=this;return this._read(function(e){var i=t._ctx;var o=i.table.core;if(isPlainKeyRange(i,true)){return o.count({trans:e,query:{index:getIndexOrStore(i,o.schema),range:i.range}}).then(function(e){return Math.min(e,i.limit)})}else{var a=0;return iter(i,function(){++a;return false},e,o).then(function(){return a})}}).then(e)};Collection.prototype.sortBy=function(e,t){var i=e.split(".").reverse(),o=i[0],a=i.length-1;function getval(e,t){if(t)return getval(e[i[t]],t-1);return e[o]}var l=this._ctx.dir==="next"?1:-1;function sorter(e,t){var i=getval(e,a),o=getval(t,a);return cmp(i,o)*l}return this.toArray(function(e){return e.sort(sorter)}).then(t)};Collection.prototype.toArray=function(e){var t=this;return this._read(function(e){var i=t._ctx;if(i.dir==="next"&&isPlainKeyRange(i,true)&&i.limit>0){var o=i.valueMapper;var a=getIndexOrStore(i,i.table.core.schema);return i.table.core.query({trans:e,limit:i.limit,values:true,query:{index:a,range:i.range}}).then(function(e){var t=e.result;return o?t.map(o):t})}else{var l=[];return iter(i,function(e){return l.push(e)},e,i.table.core).then(function(){return l})}},e)};Collection.prototype.offset=function(e){var t=this._ctx;if(e<=0)return this;t.offset+=e;if(isPlainKeyRange(t)){addReplayFilter(t,function(){var t=e;return function(e,i){if(t===0)return true;if(t===1){--t;return false}i(function(){e.advance(t);t=0});return false}})}else{addReplayFilter(t,function(){var t=e;return function(){return--t<0}})}return this};Collection.prototype.limit=function(e){this._ctx.limit=Math.min(this._ctx.limit,e);addReplayFilter(this._ctx,function(){var t=e;return function(e,i,o){if(--t<=0)i(o);return t>=0}},true);return this};Collection.prototype.until=function(e,t){addFilter(this._ctx,function(i,o,a){if(e(i.value)){o(a);return t}else{return true}});return this};Collection.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)};Collection.prototype.last=function(e){return this.reverse().first(e)};Collection.prototype.filter=function(e){addFilter(this._ctx,function(t){return e(t.value)});addMatchFilter(this._ctx,e);return this};Collection.prototype.and=function(e){return this.filter(e)};Collection.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)};Collection.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";if(this._ondirectionchange)this._ondirectionchange(this._ctx.dir);return this};Collection.prototype.desc=function(){return this.reverse()};Collection.prototype.eachKey=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each(function(t,i){e(i.key,i)})};Collection.prototype.eachUniqueKey=function(e){this._ctx.unique="unique";return this.eachKey(e)};Collection.prototype.eachPrimaryKey=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;return this.each(function(t,i){e(i.primaryKey,i)})};Collection.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var i=[];return this.each(function(e,t){i.push(t.key)}).then(function(){return i}).then(e)};Collection.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&isPlainKeyRange(t,true)&&t.limit>0){return this._read(function(e){var i=getIndexOrStore(t,t.table.core.schema);return t.table.core.query({trans:e,values:false,limit:t.limit,query:{index:i,range:t.range}})}).then(function(e){var t=e.result;return t}).then(e)}t.keysOnly=!t.isMatch;var i=[];return this.each(function(e,t){i.push(t.primaryKey)}).then(function(){return i}).then(e)};Collection.prototype.uniqueKeys=function(e){this._ctx.unique="unique";return this.keys(e)};Collection.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)};Collection.prototype.lastKey=function(e){return this.reverse().firstKey(e)};Collection.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var i={};addFilter(this._ctx,function(e){var t=e.primaryKey.toString();var o=hasOwn(i,t);i[t]=true;return!o});return this};Collection.prototype.modify=function(e){var i=this;var o=this._ctx;return this._write(function(a){var l;if(typeof e==="function"){l=e}else{var u=t(e);var d=u.length;l=function(t){var i=false;for(var o=0;o<d;++o){var a=u[o];var l=e[a];var p=getByKeyPath(t,a);if(l instanceof ke){setByKeyPath(t,a,l.execute(p));i=true}else if(p!==l){setByKeyPath(t,a,l);i=true}}return i}}var p=o.table.core;var m=p.schema.primaryKey,g=m.outbound,v=m.extractKey;var y=200;var _=i.db._options.modifyChunkSize;if(_){if(typeof _=="object"){y=_[p.name]||_["*"]||200}else{y=_}}var w=[];var A=0;var k=[];var applyMutateResult=function(e,i){var o=i.failures,a=i.numFailures;A+=e-a;for(var l=0,u=t(o);l<u.length;l++){var d=u[l];w.push(o[d])}};return i.clone().primaryKeys().then(function(t){var i=isPlainKeyRange(o)&&o.limit===Infinity&&(typeof e!=="function"||e===deleteCallback)&&{index:o.index,range:o.range};var nextChunk=function(o){var u=Math.min(y,t.length-o);return p.getMany({trans:a,keys:t.slice(o,o+u),cache:"immutable"}).then(function(d){var m=[];var _=[];var w=g?[]:null;var A=[];for(var k=0;k<u;++k){var T=d[k];var x={value:deepClone(T),primKey:t[o+k]};if(l.call(x,x.value,x)!==false){if(x.value==null){A.push(t[o+k])}else if(!g&&cmp(v(T),v(x.value))!==0){A.push(t[o+k]);m.push(x.value)}else{_.push(x.value);if(g)w.push(t[o+k])}}}return Promise.resolve(m.length>0&&p.mutate({trans:a,type:"add",values:m}).then(function(e){for(var t in e.failures){A.splice(parseInt(t),1)}applyMutateResult(m.length,e)})).then(function(){return(_.length>0||i&&typeof e==="object")&&p.mutate({trans:a,type:"put",keys:w,values:_,criteria:i,changeSpec:typeof e!=="function"&&e,isAdditionalChunk:o>0}).then(function(e){return applyMutateResult(_.length,e)})}).then(function(){return(A.length>0||i&&e===deleteCallback)&&p.mutate({trans:a,type:"delete",keys:A,criteria:i,isAdditionalChunk:o>0}).then(function(e){return applyMutateResult(A.length,e)})}).then(function(){return t.length>o+u&&nextChunk(o+y)})})};return nextChunk(0).then(function(){if(w.length>0)throw new ModifyError("Error modifying one or more objects",w,A,k);return t.length})})})};Collection.prototype.delete=function(){var e=this._ctx,t=e.range;if(isPlainKeyRange(e)&&(e.isPrimKey||t.type===3)){return this._write(function(i){var o=e.table.core.schema.primaryKey;var a=t;return e.table.core.count({trans:i,query:{index:o,range:a}}).then(function(t){return e.table.core.mutate({trans:i,type:"deleteRange",range:a}).then(function(e){var i=e.failures;e.lastResult;e.results;var o=e.numFailures;if(o)throw new ModifyError("Could not delete some values",Object.keys(i).map(function(e){return i[e]}),t-o);return t-o})})})}return this.modify(deleteCallback)};return Collection}();var deleteCallback=function(e,t){return t.value=null};function createCollectionConstructor(e){return makeClassConstructor(Te.prototype,function Collection(t,i){this.db=e;var o=Ae,a=null;if(i)try{o=i()}catch(e){a=e}var l=t._ctx;var u=l.table;var d=u.hook.reading.fire;this._ctx={table:u,index:l.index,isPrimKey:!l.index||u.schema.primKey.keyPath&&l.index===u.schema.primKey.name,range:o,keysOnly:false,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:true,isMatch:null,offset:0,limit:Infinity,error:a,or:l.or,valueMapper:d!==mirror?d:null}})}function simpleCompare(e,t){return e<t?-1:e===t?0:1}function simpleCompareReverse(e,t){return e>t?-1:e===t?0:1}function fail(e,t,i){var o=e instanceof xe?new e.Collection(e):e;o._ctx.error=i?new i(t):new TypeError(t);return o}function emptyCollection(e){return new e.Collection(e,function(){return rangeEqual("")}).limit(0)}function upperFactory(e){return e==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function lowerFactory(e){return e==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function nextCasing(e,t,i,o,a,l){var u=Math.min(e.length,o.length);var d=-1;for(var p=0;p<u;++p){var m=t[p];if(m!==o[p]){if(a(e[p],i[p])<0)return e.substr(0,p)+i[p]+i.substr(p+1);if(a(e[p],o[p])<0)return e.substr(0,p)+o[p]+i.substr(p+1);if(d>=0)return e.substr(0,d)+t[d]+i.substr(d+1);return null}if(a(e[p],m)<0)d=p}if(u<o.length&&l==="next")return e+i.substr(e.length);if(u<e.length&&l==="prev")return e.substr(0,i.length);return d<0?null:e.substr(0,d)+o[d]+i.substr(d+1)}function addIgnoreCaseAlgorithm(e,t,i,o){var a,l,u,d,p,m,g,v=i.length;if(!i.every(function(e){return typeof e==="string"})){return fail(e,ye)}function initDirection(e){a=upperFactory(e);l=lowerFactory(e);u=e==="next"?simpleCompare:simpleCompareReverse;var t=i.map(function(e){return{lower:l(e),upper:a(e)}}).sort(function(e,t){return u(e.lower,t.lower)});d=t.map(function(e){return e.upper});p=t.map(function(e){return e.lower});m=e;g=e==="next"?"":o}initDirection("next");var y=new e.Collection(e,function(){return createRange(d[0],p[v-1]+o)});y._ondirectionchange=function(e){initDirection(e)};var _=0;y._addAlgorithm(function(e,i,o){var a=e.key;if(typeof a!=="string")return false;var y=l(a);if(t(y,p,_)){return true}else{var w=null;for(var A=_;A<v;++A){var k=nextCasing(a,y,d[A],p[A],u,m);if(k===null&&w===null)_=A+1;else if(w===null||u(w,k)>0){w=k}}if(w!==null){i(function(){e.continue(w+g)})}else{i(o)}return false}});return y}function createRange(e,t,i,o){return{type:2,lower:e,upper:t,lowerOpen:i,upperOpen:o}}function rangeEqual(e){return{type:1,lower:e,upper:e}}var xe=function(){function WhereClause(){}Object.defineProperty(WhereClause.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:false,configurable:true});WhereClause.prototype.between=function(e,t,i,o){i=i!==false;o=o===true;try{if(this._cmp(e,t)>0||this._cmp(e,t)===0&&(i||o)&&!(i&&o))return emptyCollection(this);return new this.Collection(this,function(){return createRange(e,t,!i,!o)})}catch(e){return fail(this,ve)}};WhereClause.prototype.equals=function(e){if(e==null)return fail(this,ve);return new this.Collection(this,function(){return rangeEqual(e)})};WhereClause.prototype.above=function(e){if(e==null)return fail(this,ve);return new this.Collection(this,function(){return createRange(e,undefined,true)})};WhereClause.prototype.aboveOrEqual=function(e){if(e==null)return fail(this,ve);return new this.Collection(this,function(){return createRange(e,undefined,false)})};WhereClause.prototype.below=function(e){if(e==null)return fail(this,ve);return new this.Collection(this,function(){return createRange(undefined,e,false,true)})};WhereClause.prototype.belowOrEqual=function(e){if(e==null)return fail(this,ve);return new this.Collection(this,function(){return createRange(undefined,e)})};WhereClause.prototype.startsWith=function(e){if(typeof e!=="string")return fail(this,ye);return this.between(e,e+pe,true,true)};WhereClause.prototype.startsWithIgnoreCase=function(e){if(e==="")return this.startsWith(e);return addIgnoreCaseAlgorithm(this,function(e,t){return e.indexOf(t[0])===0},[e],pe)};WhereClause.prototype.equalsIgnoreCase=function(e){return addIgnoreCaseAlgorithm(this,function(e,t){return e===t[0]},[e],"")};WhereClause.prototype.anyOfIgnoreCase=function(){var e=getArrayOf.apply(k,arguments);if(e.length===0)return emptyCollection(this);return addIgnoreCaseAlgorithm(this,function(e,t){return t.indexOf(e)!==-1},e,"")};WhereClause.prototype.startsWithAnyOfIgnoreCase=function(){var e=getArrayOf.apply(k,arguments);if(e.length===0)return emptyCollection(this);return addIgnoreCaseAlgorithm(this,function(e,t){return t.some(function(t){return e.indexOf(t)===0})},e,pe)};WhereClause.prototype.anyOf=function(){var e=this;var t=getArrayOf.apply(k,arguments);var i=this._cmp;try{t.sort(i)}catch(e){return fail(this,ve)}if(t.length===0)return emptyCollection(this);var o=new this.Collection(this,function(){return createRange(t[0],t[t.length-1])});o._ondirectionchange=function(o){i=o==="next"?e._ascending:e._descending;t.sort(i)};var a=0;o._addAlgorithm(function(e,o,l){var u=e.key;while(i(u,t[a])>0){++a;if(a===t.length){o(l);return false}}if(i(u,t[a])===0){return true}else{o(function(){e.continue(t[a])});return false}});return o};WhereClause.prototype.notEqual=function(e){return this.inAnyRange([[me,e],[e,this.db._maxKey]],{includeLowers:false,includeUppers:false})};WhereClause.prototype.noneOf=function(){var e=getArrayOf.apply(k,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return fail(this,ve)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[me,t]]},null);t.push([e[e.length-1],this.db._maxKey]);return this.inAnyRange(t,{includeLowers:false,includeUppers:false})};WhereClause.prototype.inAnyRange=function(e,t){var i=this;var o=this._cmp,a=this._ascending,l=this._descending,u=this._min,d=this._max;if(e.length===0)return emptyCollection(this);if(!e.every(function(e){return e[0]!==undefined&&e[1]!==undefined&&a(e[0],e[1])<=0})){return fail(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",B.InvalidArgument)}var p=!t||t.includeLowers!==false;var m=t&&t.includeUppers===true;function addRange(e,t){var i=0,a=e.length;for(;i<a;++i){var l=e[i];if(o(t[0],l[1])<0&&o(t[1],l[0])>0){l[0]=u(l[0],t[0]);l[1]=d(l[1],t[1]);break}}if(i===a)e.push(t);return e}var g=a;function rangeSorter(e,t){return g(e[0],t[0])}var v;try{v=e.reduce(addRange,[]);v.sort(rangeSorter)}catch(e){return fail(this,ve)}var y=0;var _=m?function(e){return a(e,v[y][1])>0}:function(e){return a(e,v[y][1])>=0};var w=p?function(e){return l(e,v[y][0])>0}:function(e){return l(e,v[y][0])>=0};function keyWithinCurrentRange(e){return!_(e)&&!w(e)}var A=_;var k=new this.Collection(this,function(){return createRange(v[0][0],v[v.length-1][1],!p,!m)});k._ondirectionchange=function(e){if(e==="next"){A=_;g=a}else{A=w;g=l}v.sort(rangeSorter)};k._addAlgorithm(function(e,t,o){var l=e.key;while(A(l)){++y;if(y===v.length){t(o);return false}}if(keyWithinCurrentRange(l)){return true}else if(i._cmp(l,v[y][1])===0||i._cmp(l,v[y][0])===0){return false}else{t(function(){if(g===a)e.continue(v[y][0]);else e.continue(v[y][1])});return false}});return k};WhereClause.prototype.startsWithAnyOf=function(){var e=getArrayOf.apply(k,arguments);if(!e.every(function(e){return typeof e==="string"})){return fail(this,"startsWithAnyOf() only works with strings")}if(e.length===0)return emptyCollection(this);return this.inAnyRange(e.map(function(e){return[e,e+pe]}))};return WhereClause}();function createWhereClauseConstructor(e){return makeClassConstructor(xe.prototype,function WhereClause(t,i,o){this.db=e;this._ctx={table:t,index:i===":id"?null:i,or:o};this._cmp=this._ascending=cmp;this._descending=function(e,t){return cmp(t,e)};this._max=function(e,t){return cmp(e,t)>0?e:t};this._min=function(e,t){return cmp(e,t)<0?e:t};this._IDBKeyRange=e._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new B.MissingAPI})}function eventRejectHandler(e){return wrap(function(t){preventDefault(t);e(t.target.error);return false})}function preventDefault(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault()}var Ie="storagemutated";var Ne="x-storagemutated-1";var Pe=Events(null,Ie);var Ce=function(){function Transaction(){}Transaction.prototype._lock=function(){assert(!ee.global);++this._reculock;if(this._reculock===1&&!ee.global)ee.lockOwnerFor=this;return this};Transaction.prototype._unlock=function(){assert(!ee.global);if(--this._reculock===0){if(!ee.global)ee.lockOwnerFor=null;while(this._blockedFuncs.length>0&&!this._locked()){var e=this._blockedFuncs.shift();try{usePSD(e[1],e[0])}catch(e){}}}return this};Transaction.prototype._locked=function(){return this._reculock&&ee.lockOwnerFor!==this};Transaction.prototype.create=function(e){var t=this;if(!this.mode)return this;var i=this.db.idbdb;var o=this.db._state.dbOpenError;assert(!this.idbtrans);if(!e&&!i){switch(o&&o.name){case"DatabaseClosedError":throw new B.DatabaseClosed(o);case"MissingAPIError":throw new B.MissingAPI(o.message,o);default:throw new B.OpenFailed(o)}}if(!this.active)throw new B.TransactionInactive;assert(this._completion._state===null);e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):i.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));e.onerror=wrap(function(i){preventDefault(i);t._reject(e.error)});e.onabort=wrap(function(i){preventDefault(i);t.active&&t._reject(new B.Abort(e.error));t.active=false;t.on("abort").fire(i)});e.oncomplete=wrap(function(){t.active=false;t._resolve();if("mutatedParts"in e){Pe.storagemutated.fire(e["mutatedParts"])}});return this};Transaction.prototype._promise=function(e,t,i){var o=this;if(e==="readwrite"&&this.mode!=="readwrite")return de(new B.ReadOnly("Transaction is readonly"));if(!this.active)return de(new B.TransactionInactive);if(this._locked()){return new DexiePromise(function(a,l){o._blockedFuncs.push([function(){o._promise(e,t,i).then(a,l)},ee])})}else if(i){return newScope(function(){var e=new DexiePromise(function(e,i){o._lock();var a=t(e,i,o);if(a&&a.then)a.then(e,i)});e.finally(function(){return o._unlock()});e._lib=true;return e})}else{var a=new DexiePromise(function(e,i){var a=t(e,i,o);if(a&&a.then)a.then(e,i)});a._lib=true;return a}};Transaction.prototype._root=function(){return this.parent?this.parent._root():this};Transaction.prototype.waitFor=function(e){var t=this._root();var i=DexiePromise.resolve(e);if(t._waitingFor){t._waitingFor=t._waitingFor.then(function(){return i})}else{t._waitingFor=i;t._waitingQueue=[];var o=t.idbtrans.objectStore(t.storeNames[0]);(function spin(){++t._spinCount;while(t._waitingQueue.length)t._waitingQueue.shift()();if(t._waitingFor)o.get(-Infinity).onsuccess=spin})()}var a=t._waitingFor;return new DexiePromise(function(e,o){i.then(function(i){return t._waitingQueue.push(wrap(e.bind(null,i)))},function(e){return t._waitingQueue.push(wrap(o.bind(null,e)))}).finally(function(){if(t._waitingFor===a){t._waitingFor=null}})})};Transaction.prototype.abort=function(){if(this.active){this.active=false;if(this.idbtrans)this.idbtrans.abort();this._reject(new B.Abort)}};Transaction.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(hasOwn(t,e))return t[e];var i=this.schema[e];if(!i){throw new B.NotFound("Table "+e+" not part of transaction")}var o=new this.db.Table(e,i,this);o.core=this.db.core.table(e);t[e]=o;return o};return Transaction}();function createTransactionConstructor(e){return makeClassConstructor(Ce.prototype,function Transaction(t,i,o,a,l){var u=this;this.db=e;this.mode=t;this.storeNames=i;this.schema=o;this.chromeTransactionDurability=a;this.idbtrans=null;this.on=Events(this,"complete","error","abort");this.parent=l||null;this.active=true;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new DexiePromise(function(e,t){u._resolve=e;u._reject=t});this._completion.then(function(){u.active=false;u.on.complete.fire()},function(e){var t=u.active;u.active=false;u.on.error.fire(e);u.parent?u.parent._reject(e):t&&u.idbtrans&&u.idbtrans.abort();return de(e)})})}function createIndexSpec(e,t,i,o,a,l,u){return{name:e,keyPath:t,unique:i,multi:o,auto:a,compound:l,src:(i&&!u?"&":"")+(o?"*":"")+(a?"++":"")+nameFromKeyPath(t)}}function nameFromKeyPath(e){return typeof e==="string"?e:e?"["+[].join.call(e,"+")+"]":""}function createTableSchema(e,t,i){return{name:e,primKey:t,indexes:i,mappedClass:null,idxByName:arrayToObject(i,function(e){return[e.name,e]})}}function safariMultiStoreFix(e){return e.length===1?e[0]:e}var getMaxKey=function(e){try{e.only([[]]);getMaxKey=function(){return[[]]};return[[]]}catch(e){getMaxKey=function(){return pe};return pe}};function getKeyExtractor(e){if(e==null){return function(){return undefined}}else if(typeof e==="string"){return getSinglePathKeyExtractor(e)}else{return function(t){return getByKeyPath(t,e)}}}function getSinglePathKeyExtractor(e){var t=e.split(".");if(t.length===1){return function(t){return t[e]}}else{return function(t){return getByKeyPath(t,e)}}}function arrayify(e){return[].slice.call(e)}var Me=0;function getKeyPathAlias(e){return e==null?":id":typeof e==="string"?e:"[".concat(e.join("+"),"]")}function createDBCore(e,t,i){function extractSchema(e,t){var i=arrayify(e.objectStoreNames);return{schema:{name:e.name,tables:i.map(function(e){return t.objectStore(e)}).map(function(e){var t=e.keyPath,i=e.autoIncrement;var a=o(t);var l=t==null;var u={};var d={name:e.name,primaryKey:{name:null,isPrimaryKey:true,outbound:l,compound:a,keyPath:t,autoIncrement:i,unique:true,extractKey:getKeyExtractor(t)},indexes:arrayify(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,i=e.unique,a=e.multiEntry,l=e.keyPath;var d=o(l);var p={name:t,compound:d,keyPath:l,unique:i,multiEntry:a,extractKey:getKeyExtractor(l)};u[getKeyPathAlias(l)]=p;return p}),getIndexByKeyPath:function(e){return u[getKeyPathAlias(e)]}};u[":id"]=d.primaryKey;if(t!=null){u[getKeyPathAlias(t)]=d.primaryKey}return d})},hasGetAll:i.length>0&&"getAll"in t.objectStore(i[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function makeIDBKeyRange(e){if(e.type===3)return null;if(e.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var i=e.lower,o=e.upper,a=e.lowerOpen,l=e.upperOpen;var u=i===undefined?o===undefined?null:t.upperBound(o,!!l):o===undefined?t.lowerBound(i,!!a):t.bound(i,o,!!a,!!l);return u}function createDbCoreTable(e){var t=e.name;function mutate(e){var i=e.trans,o=e.type,a=e.keys,l=e.values,u=e.range;return new Promise(function(e,d){e=wrap(e);var p=i.objectStore(t);var m=p.keyPath==null;var g=o==="put"||o==="add";if(!g&&o!=="delete"&&o!=="deleteRange")throw new Error("Invalid operation type: "+o);var v=(a||l||{length:1}).length;if(a&&l&&a.length!==l.length){throw new Error("Given keys array must have same length as given values array.")}if(v===0)return e({numFailures:0,failures:{},results:[],lastResult:undefined});var y;var _=[];var w=[];var A=0;var errorHandler=function(e){++A;preventDefault(e)};if(o==="deleteRange"){if(u.type===4)return e({numFailures:A,failures:w,results:[],lastResult:undefined});if(u.type===3)_.push(y=p.clear());else _.push(y=p.delete(makeIDBKeyRange(u)))}else{var k=g?m?[l,a]:[l,null]:[a,null],T=k[0],x=k[1];if(g){for(var I=0;I<v;++I){_.push(y=x&&x[I]!==undefined?p[o](T[I],x[I]):p[o](T[I]));y.onerror=errorHandler}}else{for(var I=0;I<v;++I){_.push(y=p[o](T[I]));y.onerror=errorHandler}}}var done=function(t){var i=t.target.result;_.forEach(function(e,t){return e.error!=null&&(w[t]=e.error)});e({numFailures:A,failures:w,results:o==="delete"?a:_.map(function(e){return e.result}),lastResult:i})};y.onerror=function(e){errorHandler(e);done(e)};y.onsuccess=done})}function openCursor(e){var i=e.trans,o=e.values,a=e.query,l=e.reverse,u=e.unique;return new Promise(function(e,d){e=wrap(e);var p=a.index,m=a.range;var g=i.objectStore(t);var v=p.isPrimaryKey?g:g.index(p.name);var y=l?u?"prevunique":"prev":u?"nextunique":"next";var _=o||!("openKeyCursor"in v)?v.openCursor(makeIDBKeyRange(m),y):v.openKeyCursor(makeIDBKeyRange(m),y);_.onerror=eventRejectHandler(d);_.onsuccess=wrap(function(t){var o=_.result;if(!o){e(null);return}o.___id=++Me;o.done=false;var a=o.continue.bind(o);var l=o.continuePrimaryKey;if(l)l=l.bind(o);var u=o.advance.bind(o);var doThrowCursorIsNotStarted=function(){throw new Error("Cursor not started")};var doThrowCursorIsStopped=function(){throw new Error("Cursor not stopped")};o.trans=i;o.stop=o.continue=o.continuePrimaryKey=o.advance=doThrowCursorIsNotStarted;o.fail=wrap(d);o.next=function(){var e=this;var t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})};o.start=function(e){var t=new Promise(function(e,t){e=wrap(e);_.onerror=eventRejectHandler(t);o.fail=t;o.stop=function(t){o.stop=o.continue=o.continuePrimaryKey=o.advance=doThrowCursorIsStopped;e(t)}});var guardedCallback=function(){if(_.result){try{e()}catch(e){o.fail(e)}}else{o.done=true;o.start=function(){throw new Error("Cursor behind last entry")};o.stop()}};_.onsuccess=wrap(function(e){_.onsuccess=guardedCallback;guardedCallback()});o.continue=a;o.continuePrimaryKey=l;o.advance=u;guardedCallback();return t};e(o)},d)})}function query(e){return function(i){return new Promise(function(o,a){o=wrap(o);var l=i.trans,u=i.values,d=i.limit,p=i.query;var m=d===Infinity?undefined:d;var g=p.index,v=p.range;var y=l.objectStore(t);var _=g.isPrimaryKey?y:y.index(g.name);var w=makeIDBKeyRange(v);if(d===0)return o({result:[]});if(e){var A=u?_.getAll(w,m):_.getAllKeys(w,m);A.onsuccess=function(e){return o({result:e.target.result})};A.onerror=eventRejectHandler(a)}else{var k=0;var T=u||!("openKeyCursor"in _)?_.openCursor(w):_.openKeyCursor(w);var x=[];T.onsuccess=function(e){var t=T.result;if(!t)return o({result:x});x.push(u?t.value:t.primaryKey);if(++k===d)return o({result:x});t.continue()};T.onerror=eventRejectHandler(a)}})}}return{name:t,schema:e,mutate,getMany:function(e){var i=e.trans,o=e.keys;return new Promise(function(e,a){e=wrap(e);var l=i.objectStore(t);var u=o.length;var d=new Array(u);var p=0;var m=0;var g;var successHandler=function(t){var i=t.target;if((d[i._pos]=i.result)!=null);if(++m===p)e(d)};var v=eventRejectHandler(a);for(var y=0;y<u;++y){var _=o[y];if(_!=null){g=l.get(o[y]);g._pos=y;g.onsuccess=successHandler;g.onerror=v;++p}}if(p===0)e(d)})},get:function(e){var i=e.trans,o=e.key;return new Promise(function(e,a){e=wrap(e);var l=i.objectStore(t);var u=l.get(o);u.onsuccess=function(t){return e(t.target.result)};u.onerror=eventRejectHandler(a)})},query:query(u),openCursor,count:function(e){var i=e.query,o=e.trans;var a=i.index,l=i.range;return new Promise(function(e,i){var u=o.objectStore(t);var d=a.isPrimaryKey?u:u.index(a.name);var p=makeIDBKeyRange(l);var m=p?d.count(p):d.count();m.onsuccess=wrap(function(t){return e(t.target.result)});m.onerror=eventRejectHandler(i)})}}}var a=extractSchema(e,i),l=a.schema,u=a.hasGetAll;var d=l.tables.map(function(e){return createDbCoreTable(e)});var p={};d.forEach(function(e){return p[e.name]=e});return{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){var t=p[e];if(!t)throw new Error("Table '".concat(e,"' not found"));return p[e]},MIN_KEY:-Infinity,MAX_KEY:getMaxKey(t),schema:l}}function createMiddlewareStack(e,t){return t.reduce(function(e,t){var i=t.create;return __assign(__assign({},e),i(e))},e)}function createMiddlewareStacks(e,t,i,o){var a=i.IDBKeyRange;i.indexedDB;var l=createMiddlewareStack(createDBCore(t,a,o),e.dbcore);return{dbcore:l}}function generateMiddlewareStacks(e,t){var i=t.db;var o=createMiddlewareStacks(e._middlewares,i,e._deps,t);e.core=o.dbcore;e.tables.forEach(function(t){var i=t.name;if(e.core.schema.tables.some(function(e){return e.name===i})){t.core=e.core.table(i);if(e[i]instanceof e.Table){e[i].core=t.core}}})}function setApiOnPlace(e,t,i,o){i.forEach(function(i){var a=o[i];t.forEach(function(t){var o=getPropertyDescriptor(t,i);if(!o||"value"in o&&o.value===undefined){if(t===e.Transaction.prototype||t instanceof e.Transaction){setProp(t,i,{get:function(){return this.table(i)},set:function(e){u(this,i,{value:e,writable:true,configurable:true,enumerable:true})}})}else{t[i]=new e.Table(i,a)}}})})}function removeTablesApi(e,t){t.forEach(function(t){for(var i in t){if(t[i]instanceof e.Table)delete t[i]}})}function lowerVersionFirst(e,t){return e._cfg.version-t._cfg.version}function runUpgraders(e,i,o,a){var l=e._dbSchema;if(o.objectStoreNames.contains("$meta")&&!l.$meta){l.$meta=createTableSchema("$meta",parseIndexSyntax("")[0],[]);e._storeNames.push("$meta")}var u=e._createTransaction("readwrite",e._storeNames,l);u.create(o);u._completion.catch(a);var d=u._reject.bind(u);var p=ee.transless||ee;newScope(function(){ee.trans=u;ee.transless=p;if(i===0){t(l).forEach(function(e){createTable(o,e,l[e].primKey,l[e].indexes)});generateMiddlewareStacks(e,o);DexiePromise.follow(function(){return e.on.populate.fire(u)}).catch(d)}else{generateMiddlewareStacks(e,o);return getExistingVersion(e,u,i).then(function(t){return updateTablesAndIndexes(e,t,u,o)}).catch(d)}})}function patchCurrentVersion(e,t){createMissingTables(e._dbSchema,t);if(t.db.version%10===0&&!t.objectStoreNames.contains("$meta")){t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version")}var i=buildGlobalSchema(e,e.idbdb,t);adjustToExistingIndexNames(e,e._dbSchema,t);var o=getSchemaDiff(i,e._dbSchema);var _loop_1=function(e){if(e.change.length||e.recreate){console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key."));return{value:void 0}}var i=t.objectStore(e.name);e.add.forEach(function(t){if(D)console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src));addIndex(i,t)})};for(var a=0,l=o.change;a<l.length;a++){var u=l[a];var d=_loop_1(u);if(typeof d==="object")return d.value}}function getExistingVersion(e,t,i){if(t.storeNames.includes("$meta")){return t.table("$meta").get("version").then(function(e){return e!=null?e:i})}else{return DexiePromise.resolve(i)}}function updateTablesAndIndexes(e,i,o,a){var l=[];var u=e._versions;var d=e._dbSchema=buildGlobalSchema(e,e.idbdb,a);var p=u.filter(function(e){return e._cfg.version>=i});if(p.length===0){return DexiePromise.resolve()}p.forEach(function(u){l.push(function(){var l=d;var p=u._cfg.dbschema;adjustToExistingIndexNames(e,l,a);adjustToExistingIndexNames(e,p,a);d=e._dbSchema=p;var m=getSchemaDiff(l,p);m.add.forEach(function(e){createTable(a,e[0],e[1].primKey,e[1].indexes)});m.change.forEach(function(e){if(e.recreate){throw new B.Upgrade("Not yet support for changing primary key")}else{var t=a.objectStore(e.name);e.add.forEach(function(e){return addIndex(t,e)});e.change.forEach(function(e){t.deleteIndex(e.name);addIndex(t,e)});e.del.forEach(function(e){return t.deleteIndex(e)})}});var g=u._cfg.contentUpgrade;if(g&&u._cfg.version>i){generateMiddlewareStacks(e,a);o._memoizedTables={};var v=shallowClone(p);m.del.forEach(function(e){v[e]=l[e]});removeTablesApi(e,[e.Transaction.prototype]);setApiOnPlace(e,[e.Transaction.prototype],t(v),v);o.schema=v;var y=T(g);if(y){incrementExpectedAwaits()}var _;var w=DexiePromise.follow(function(){_=g(o);if(_){if(y){var e=decrementExpectedAwaits.bind(null,null);_.then(e,e)}}});return _&&typeof _.then==="function"?DexiePromise.resolve(_):w.then(function(){return _})}});l.push(function(t){var i=u._cfg.dbschema;deleteRemovedTables(i,t);removeTablesApi(e,[e.Transaction.prototype]);setApiOnPlace(e,[e.Transaction.prototype],e._storeNames,e._dbSchema);o.schema=e._dbSchema});l.push(function(t){if(e.idbdb.objectStoreNames.contains("$meta")){if(Math.ceil(e.idbdb.version/10)===u._cfg.version){e.idbdb.deleteObjectStore("$meta");delete e._dbSchema.$meta;e._storeNames=e._storeNames.filter(function(e){return e!=="$meta"})}else{t.objectStore("$meta").put(u._cfg.version,"version")}}})});function runQueue(){return l.length?DexiePromise.resolve(l.shift()(o.idbtrans)).then(runQueue):DexiePromise.resolve()}return runQueue().then(function(){createMissingTables(d,a)})}function getSchemaDiff(e,t){var i={del:[],add:[],change:[]};var o;for(o in e){if(!t[o])i.del.push(o)}for(o in t){var a=e[o],l=t[o];if(!a){i.add.push([o,l])}else{var u={name:o,def:l,recreate:false,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!==""+(l.primKey.keyPath||"")||a.primKey.auto!==l.primKey.auto){u.recreate=true;i.change.push(u)}else{var d=a.idxByName;var p=l.idxByName;var m=void 0;for(m in d){if(!p[m])u.del.push(m)}for(m in p){var g=d[m],v=p[m];if(!g)u.add.push(v);else if(g.src!==v.src)u.change.push(v)}if(u.del.length>0||u.add.length>0||u.change.length>0){i.change.push(u)}}}}return i}function createTable(e,t,i,o){var a=e.db.createObjectStore(t,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});o.forEach(function(e){return addIndex(a,e)});return a}function createMissingTables(e,i){t(e).forEach(function(t){if(!i.db.objectStoreNames.contains(t)){if(D)console.debug("Dexie: Creating missing table",t);createTable(i,t,e[t].primKey,e[t].indexes)}})}function deleteRemovedTables(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(i){return e[i]==null&&t.db.deleteObjectStore(i)})}function addIndex(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function buildGlobalSchema(e,t,i){var o={};var a=slice(t.objectStoreNames,0);a.forEach(function(e){var t=i.objectStore(e);var a=t.keyPath;var l=createIndexSpec(nameFromKeyPath(a),a||"",true,false,!!t.autoIncrement,a&&typeof a!=="string",true);var u=[];for(var d=0;d<t.indexNames.length;++d){var p=t.index(t.indexNames[d]);a=p.keyPath;var m=createIndexSpec(p.name,a,!!p.unique,!!p.multiEntry,false,a&&typeof a!=="string",false);u.push(m)}o[e]=createTableSchema(e,l,u)});return o}function readGlobalSchema(e,i,o){e.verno=i.version/10;var a=e._dbSchema=buildGlobalSchema(e,i,o);e._storeNames=slice(i.objectStoreNames,0);setApiOnPlace(e,[e._allTables],t(a),a)}function verifyInstalledSchema(e,t){var i=buildGlobalSchema(e,e.idbdb,t);var o=getSchemaDiff(i,e._dbSchema);return!(o.add.length||o.change.some(function(e){return e.add.length||e.change.length}))}function adjustToExistingIndexNames(t,i,o){var a=o.db.objectStoreNames;for(var l=0;l<a.length;++l){var u=a[l];var d=o.objectStore(u);t._hasGetAll="getAll"in d;for(var p=0;p<d.indexNames.length;++p){var m=d.indexNames[p];var g=d.index(m).keyPath;var v=typeof g==="string"?g:"["+slice(g).join("+")+"]";if(i[u]){var y=i[u].idxByName[v];if(y){y.name=m;delete i[u].idxByName[v];i[u].idxByName[m]=y}}}}if(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604){t._hasGetAll=false}}function parseIndexSyntax(e){return e.split(",").map(function(e,t){e=e.trim();var i=e.replace(/([&*]|\+\+)/g,"");var a=/^\[/.test(i)?i.match(/^\[(.*)\]$/)[1].split("+"):i;return createIndexSpec(i,a||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(a),t===0)})}var Be=function(){function Version(){}Version.prototype._parseStoresSpec=function(e,i){t(e).forEach(function(t){if(e[t]!==null){var o=parseIndexSyntax(e[t]);var a=o.shift();a.unique=true;if(a.multi)throw new B.Schema("Primary key cannot be multi-valued");o.forEach(function(e){if(e.auto)throw new B.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new B.Schema("Index must have a name and cannot be an empty string")});i[t]=createTableSchema(t,a,o)}})};Version.prototype.stores=function(e){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?extend(this._cfg.storesSource,e):e;var o=i._versions;var a={};var l={};o.forEach(function(e){extend(a,e._cfg.storesSource);l=e._cfg.dbschema={};e._parseStoresSpec(a,l)});i._dbSchema=l;removeTablesApi(i,[i._allTables,i,i.Transaction.prototype]);setApiOnPlace(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],t(l),l);i._storeNames=t(l);return this};Version.prototype.upgrade=function(e){this._cfg.contentUpgrade=promisableChain(this._cfg.contentUpgrade||nop,e);return this};return Version}();function createVersionConstructor(e){return makeClassConstructor(Be.prototype,function Version(t){this.db=e;this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function getDbNamesTable(e,t){var i=e["_dbNamesDB"];if(!i){i=e["_dbNamesDB"]=new qe(_e,{addons:[],indexedDB:e,IDBKeyRange:t});i.version(1).stores({dbnames:"name"})}return i.table("dbnames")}function hasDatabasesNative(e){return e&&typeof e.databases==="function"}function getDatabaseNames(e){var t=e.indexedDB,i=e.IDBKeyRange;return hasDatabasesNative(t)?Promise.resolve(t.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==_e})}):getDbNamesTable(t,i).toCollection().primaryKeys()}function _onDatabaseCreated(e,t){var i=e.indexedDB,o=e.IDBKeyRange;!hasDatabasesNative(i)&&t!==_e&&getDbNamesTable(i,o).put({name:t}).catch(nop)}function _onDatabaseDeleted(e,t){var i=e.indexedDB,o=e.IDBKeyRange;!hasDatabasesNative(i)&&t!==_e&&getDbNamesTable(i,o).delete(t).catch(nop)}function vip(e){return newScope(function(){ee.letThrough=true;return e()})}function idbReady(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(e){var tryIdb=function(){return indexedDB.databases().finally(e)};t=setInterval(tryIdb,100);tryIdb()}).finally(function(){return clearInterval(t)})}var Re;function isEmptyRange(e){return!("from"in e)}var RangeSet=function(e,t){if(this){extend(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})}else{var i=new RangeSet;if(e&&"d"in e){extend(i,e)}return i}};props(RangeSet.prototype,(Re={add:function(e){mergeRanges(this,e);return this},addKey:function(e){addRange(this,e,e);return this},addKeys:function(e){var t=this;e.forEach(function(e){return addRange(t,e,e)});return this},hasKey:function(e){var t=getRangeSetIterator(this).next(e).value;return t&&cmp(t.from,e)<=0&&cmp(t.to,e)>=0}},Re[w]=function(){return getRangeSetIterator(this)},Re));function addRange(e,t,i){var o=cmp(t,i);if(isNaN(o))return;if(o>0)throw RangeError();if(isEmptyRange(e))return extend(e,{from:t,to:i,d:1});var a=e.l;var l=e.r;if(cmp(i,e.from)<0){a?addRange(a,t,i):e.l={from:t,to:i,d:1,l:null,r:null};return rebalance(e)}if(cmp(t,e.to)>0){l?addRange(l,t,i):e.r={from:t,to:i,d:1,l:null,r:null};return rebalance(e)}if(cmp(t,e.from)<0){e.from=t;e.l=null;e.d=l?l.d+1:1}if(cmp(i,e.to)>0){e.to=i;e.r=null;e.d=e.l?e.l.d+1:1}var u=!e.r;if(a&&!e.l){mergeRanges(e,a)}if(l&&u){mergeRanges(e,l)}}function mergeRanges(e,t){function _addRangeSet(e,t){var i=t.from,o=t.to,a=t.l,l=t.r;addRange(e,i,o);if(a)_addRangeSet(e,a);if(l)_addRangeSet(e,l)}if(!isEmptyRange(t))_addRangeSet(e,t)}function rangesOverlap(e,t){var i=getRangeSetIterator(t);var o=i.next();if(o.done)return false;var a=o.value;var l=getRangeSetIterator(e);var u=l.next(a.from);var d=u.value;while(!o.done&&!u.done){if(cmp(d.from,a.to)<=0&&cmp(d.to,a.from)>=0)return true;cmp(a.from,d.from)<0?a=(o=i.next(d.from)).value:d=(u=l.next(a.from)).value}return false}function getRangeSetIterator(e){var t=isEmptyRange(e)?null:{s:0,n:e};return{next:function(e){var i=arguments.length>0;while(t){switch(t.s){case 0:t.s=1;if(i){while(t.n.l&&cmp(e,t.n.from)<0)t={up:t,n:t.n.l,s:1}}else{while(t.n.l)t={up:t,n:t.n.l,s:1}}case 1:t.s=2;if(!i||cmp(e,t.n.to)<=0)return{value:t.n,done:false};case 2:if(t.n.r){t.s=3;t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}}return{done:true}}}}function rebalance(e){var t,i;var o=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((i=e.l)===null||i===void 0?void 0:i.d)||0);var a=o>1?"r":o<-1?"l":"";if(a){var l=a==="r"?"l":"r";var u=__assign({},e);var d=e[a];e.from=d.from;e.to=d.to;e[a]=d[a];u[a]=d[l];e[l]=u;u.d=computeDepth(u)}e.d=computeDepth(e)}function computeDepth(e){var t=e.r,i=e.l;return(t?i?Math.max(t.d,i.d):t.d:i?i.d:0)+1}function extendObservabilitySet(e,i){t(i).forEach(function(t){if(e[t])mergeRanges(e[t],i[t]);else e[t]=cloneSimpleObjectTree(i[t])});return e}function obsSetsOverlap(e,t){return e.all||t.all||Object.keys(e).some(function(i){return t[i]&&rangesOverlap(t[i],e[i])})}var je={};var Oe={};var De=false;function signalSubscribersLazily(e,t){extendObservabilitySet(Oe,e);if(!De){De=true;setTimeout(function(){De=false;var e=Oe;Oe={};signalSubscribersNow(e,false)},0)}}function signalSubscribersNow(e,t){if(t===void 0){t=false}var i=new Set;if(e.all){for(var o=0,a=Object.values(je);o<a.length;o++){var l=a[o];collectTableSubscribers(l,e,i,t)}}else{for(var u in e){var d=/^idb\:\/\/(.*)\/(.*)\//.exec(u);if(d){var p=d[1],m=d[2];var l=je["idb://".concat(p,"/").concat(m)];if(l)collectTableSubscribers(l,e,i,t)}}}i.forEach(function(e){return e()})}function collectTableSubscribers(e,t,i,o){var a=[];for(var l=0,u=Object.entries(e.queries.query);l<u.length;l++){var d=u[l],p=d[0],m=d[1];var g=[];for(var v=0,y=m;v<y.length;v++){var _=y[v];if(obsSetsOverlap(t,_.obsSet)){_.subscribers.forEach(function(e){return i.add(e)})}else if(o){g.push(_)}}if(o)a.push([p,g])}if(o){for(var w=0,A=a;w<A.length;w++){var k=A[w],p=k[0],g=k[1];e.queries.query[p]=g}}}function dexieOpen(e){var t=e._state;var i=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?de(t.dbOpenError):e});t.isBeingOpened=true;t.dbOpenError=null;t.openComplete=false;var o=t.openCanceller;var a=Math.round(e.verno*10);var l=false;function throwIfCancelled(){if(t.openCanceller!==o)throw new B.DatabaseClosed("db.open() was cancelled")}var u=t.dbReadyResolve,d=null,p=false;var tryOpenDB=function(){return new DexiePromise(function(o,u){throwIfCancelled();if(!i)throw new B.MissingAPI;var m=e.name;var g=t.autoSchema||!a?i.open(m):i.open(m,a);if(!g)throw new B.MissingAPI;g.onerror=eventRejectHandler(u);g.onblocked=wrap(e._fireOnBlocked);g.onupgradeneeded=wrap(function(o){d=g.transaction;if(t.autoSchema&&!e._options.allowEmptyDB){g.onerror=preventDefault;d.abort();g.result.close();var a=i.deleteDatabase(m);a.onsuccess=a.onerror=wrap(function(){u(new B.NoSuchDatabase("Database ".concat(m," doesnt exist")))})}else{d.onerror=eventRejectHandler(u);var v=o.oldVersion>Math.pow(2,62)?0:o.oldVersion;p=v<1;e.idbdb=g.result;if(l){patchCurrentVersion(e,d)}runUpgraders(e,v/10,d,u)}},u);g.onsuccess=wrap(function(){d=null;var i=e.idbdb=g.result;var u=slice(i.objectStoreNames);if(u.length>0)try{var v=i.transaction(safariMultiStoreFix(u),"readonly");if(t.autoSchema)readGlobalSchema(e,i,v);else{adjustToExistingIndexNames(e,e._dbSchema,v);if(!verifyInstalledSchema(e,v)&&!l){console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this.");i.close();a=i.version+1;l=true;return o(tryOpenDB())}}generateMiddlewareStacks(e,v)}catch(e){}be.push(e);i.onversionchange=wrap(function(i){t.vcFired=true;e.on("versionchange").fire(i)});i.onclose=wrap(function(t){e.on("close").fire(t)});if(p)_onDatabaseCreated(e._deps,m);o()},u)}).catch(function(e){switch(e===null||e===void 0?void 0:e.name){case"UnknownError":if(t.PR1398_maxLoop>0){t.PR1398_maxLoop--;console.warn("Dexie: Workaround for Chrome UnknownError on open()");return tryOpenDB()}break;case"VersionError":if(a>0){a=0;return tryOpenDB()}break}return DexiePromise.reject(e)})};return DexiePromise.race([o,(typeof navigator==="undefined"?DexiePromise.resolve():idbReady()).then(tryOpenDB)]).then(function(){throwIfCancelled();t.onReadyBeingFired=[];return DexiePromise.resolve(vip(function(){return e.on.ready.fire(e.vip)})).then(function fireRemainders(){if(t.onReadyBeingFired.length>0){var i=t.onReadyBeingFired.reduce(promisableChain,nop);t.onReadyBeingFired=[];return DexiePromise.resolve(vip(function(){return i(e.vip)})).then(fireRemainders)}})}).finally(function(){if(t.openCanceller===o){t.onReadyBeingFired=null;t.isBeingOpened=false}}).catch(function(i){t.dbOpenError=i;try{d&&d.abort()}catch(e){}if(o===t.openCanceller){e._close()}return de(i)}).finally(function(){t.openComplete=true;u()}).then(function(){if(p){var t={};e.tables.forEach(function(i){i.schema.indexes.forEach(function(o){if(o.name)t["idb://".concat(e.name,"/").concat(i.name,"/").concat(o.name)]=new RangeSet(-Infinity,[[[]]])});t["idb://".concat(e.name,"/").concat(i.name,"/")]=t["idb://".concat(e.name,"/").concat(i.name,"/:dels")]=new RangeSet(-Infinity,[[[]]])});Pe(Ie).fire(t);signalSubscribersNow(t,true)}return e})}function awaitIterator(e){var callNext=function(t){return e.next(t)},doThrow=function(t){return e.throw(t)},t=step(callNext),i=step(doThrow);function step(e){return function(a){var l=e(a),u=l.value;return l.done?u:!u||typeof u.then!=="function"?o(u)?Promise.all(u).then(t,i):t(u):u.then(t,i)}}return step(callNext)()}function extractTransactionArgs(e,t,i){var o=arguments.length;if(o<2)throw new B.InvalidArgument("Too few arguments");var a=new Array(o-1);while(--o)a[o-1]=arguments[o];i=a.pop();var l=flatten(a);return[e,l,i]}function enterTransactionScope(e,t,i,o,a){return DexiePromise.resolve().then(function(){var l=ee.transless||ee;var u=e._createTransaction(t,i,e._dbSchema,o);u.explicit=true;var d={trans:u,transless:l};if(o){u.idbtrans=o.idbtrans}else{try{u.create();u.idbtrans._explicit=true;e._state.PR1398_maxLoop=3}catch(o){if(o.name===C.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0){console.warn("Dexie: Need to reopen db");e.close({disableAutoOpen:false});return e.open().then(function(){return enterTransactionScope(e,t,i,null,a)})}return de(o)}}var p=T(a);if(p){incrementExpectedAwaits()}var m;var g=DexiePromise.follow(function(){m=a.call(u,u);if(m){if(p){var e=decrementExpectedAwaits.bind(null,null);m.then(e,e)}else if(typeof m.next==="function"&&typeof m.throw==="function"){m=awaitIterator(m)}}},d);return(m&&typeof m.then==="function"?DexiePromise.resolve(m).then(function(e){return u.active?e:de(new B.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):g.then(function(){return m})).then(function(e){if(o)u._resolve();return u._completion.then(function(){return e})}).catch(function(e){u._reject(e);return de(e)})})}function pad(e,t,i){var a=o(e)?e.slice():[e];for(var l=0;l<i;++l)a.push(t);return a}function createVirtualIndexMiddleware(e){return __assign(__assign({},e),{table:function(t){var i=e.table(t);var o=i.schema;var a={};var l=[];function addVirtualIndexes(e,t,i){var o=getKeyPathAlias(e);var u=a[o]=a[o]||[];var d=e==null?0:typeof e==="string"?1:e.length;var p=t>0;var m=__assign(__assign({},i),{name:p?"".concat(o,"(virtual-from:").concat(i.name,")"):i.name,lowLevelIndex:i,isVirtual:p,keyTail:t,keyLength:d,extractKey:getKeyExtractor(e),unique:!p&&i.unique});u.push(m);if(!m.isPrimaryKey){l.push(m)}if(d>1){var g=d===2?e[0]:e.slice(0,d-1);addVirtualIndexes(g,t+1,i)}u.sort(function(e,t){return e.keyTail-t.keyTail});return m}var u=addVirtualIndexes(o.primaryKey.keyPath,0,o.primaryKey);a[":id"]=[u];for(var d=0,p=o.indexes;d<p.length;d++){var m=p[d];addVirtualIndexes(m.keyPath,0,m)}function findBestIndex(e){var t=a[getKeyPathAlias(e)];return t&&t[0]}function translateRange(t,i){return{type:t.type===1?2:t.type,lower:pad(t.lower,t.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:true,upper:pad(t.upper,t.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:true}}function translateRequest(e){var t=e.query.index;return t.isVirtual?__assign(__assign({},e),{query:{index:t.lowLevelIndex,range:translateRange(e.query.range,t.keyTail)}}):e}var g=__assign(__assign({},i),{schema:__assign(__assign({},o),{primaryKey:u,indexes:l,getIndexByKeyPath:findBestIndex}),count:function(e){return i.count(translateRequest(e))},query:function(e){return i.query(translateRequest(e))},openCursor:function(t){var o=t.query.index,a=o.keyTail,l=o.isVirtual,u=o.keyLength;if(!l)return i.openCursor(t);function createVirtualCursor(i){function _continue(o){o!=null?i.continue(pad(o,t.reverse?e.MAX_KEY:e.MIN_KEY,a)):t.unique?i.continue(i.key.slice(0,u).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,a)):i.continue()}var o=Object.create(i,{continue:{value:_continue},continuePrimaryKey:{value:function(t,o){i.continuePrimaryKey(pad(t,e.MAX_KEY,a),o)}},primaryKey:{get:function(){return i.primaryKey}},key:{get:function(){var e=i.key;return u===1?e[0]:e.slice(0,u)}},value:{get:function(){return i.value}}});return o}return i.openCursor(translateRequest(t)).then(function(e){return e&&createVirtualCursor(e)})}});return g}})}var Le={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:createVirtualIndexMiddleware};function getObjectDiff(e,i,o,a){o=o||{};a=a||"";t(e).forEach(function(t){if(!hasOwn(i,t)){o[a+t]=undefined}else{var l=e[t],u=i[t];if(typeof l==="object"&&typeof u==="object"&&l&&u){var d=toStringTag(l);var p=toStringTag(u);if(d!==p){o[a+t]=i[t]}else if(d==="Object"){getObjectDiff(l,u,o,a+t+".")}else if(l!==u){o[a+t]=i[t]}}else if(l!==u)o[a+t]=i[t]}});t(i).forEach(function(t){if(!hasOwn(e,t)){o[a+t]=i[t]}});return o}function getEffectiveKeys(e,t){if(t.type==="delete")return t.keys;return t.keys||t.values.map(e.extractKey)}var Fe={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return __assign(__assign({},e),{table:function(t){var i=e.table(t);var o=i.schema.primaryKey;var a=__assign(__assign({},i),{mutate:function(e){var a=ee.trans;var l=a.table(t).hook,u=l.deleting,d=l.creating,p=l.updating;switch(e.type){case"add":if(d.fire===nop)break;return a._promise("readwrite",function(){return addPutOrDelete(e)},true);case"put":if(d.fire===nop&&p.fire===nop)break;return a._promise("readwrite",function(){return addPutOrDelete(e)},true);case"delete":if(u.fire===nop)break;return a._promise("readwrite",function(){return addPutOrDelete(e)},true);case"deleteRange":if(u.fire===nop)break;return a._promise("readwrite",function(){return deleteRange(e)},true)}return i.mutate(e);function addPutOrDelete(e){var t=ee.trans;var a=e.keys||getEffectiveKeys(o,e);if(!a)throw new Error("Keys missing");e=e.type==="add"||e.type==="put"?__assign(__assign({},e),{keys:a}):__assign({},e);if(e.type!=="delete")e.values=__spreadArray([],e.values,true);if(e.keys)e.keys=__spreadArray([],e.keys,true);return getExistingValues(i,e,a).then(function(l){var m=a.map(function(i,a){var m=l[a];var g={onerror:null,onsuccess:null};if(e.type==="delete"){u.fire.call(g,i,m,t)}else if(e.type==="add"||m===undefined){var v=d.fire.call(g,i,e.values[a],t);if(i==null&&v!=null){i=v;e.keys[a]=i;if(!o.outbound){setByKeyPath(e.values[a],o.keyPath,i)}}}else{var y=getObjectDiff(m,e.values[a]);var _=p.fire.call(g,y,i,m,t);if(_){var w=e.values[a];Object.keys(_).forEach(function(e){if(hasOwn(w,e)){w[e]=_[e]}else{setByKeyPath(w,e,_[e])}})}}return g});return i.mutate(e).then(function(t){var i=t.failures,o=t.results,u=t.numFailures,d=t.lastResult;for(var p=0;p<a.length;++p){var g=o?o[p]:a[p];var v=m[p];if(g==null){v.onerror&&v.onerror(i[p])}else{v.onsuccess&&v.onsuccess(e.type==="put"&&l[p]?e.values[p]:g)}}return{failures:i,results:o,numFailures:u,lastResult:d}}).catch(function(e){m.forEach(function(t){return t.onerror&&t.onerror(e)});return Promise.reject(e)})})}function deleteRange(e){return deleteNextChunk(e.trans,e.range,1e4)}function deleteNextChunk(e,t,a){return i.query({trans:e,values:false,query:{index:o,range:t},limit:a}).then(function(i){var o=i.result;return addPutOrDelete({type:"delete",keys:o,trans:e}).then(function(i){if(i.numFailures>0)return Promise.reject(i.failures[0]);if(o.length<a){return{failures:[],numFailures:0,lastResult:undefined}}else{return deleteNextChunk(e,__assign(__assign({},t),{lower:o[o.length-1],lowerOpen:true}),a)}})})}}});return a}})}};function getExistingValues(e,t,i){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:i,cache:"immutable"})}function getFromTransactionCache(e,t,i){try{if(!t)return null;if(t.keys.length<e.length)return null;var o=[];for(var a=0,l=0;a<t.keys.length&&l<e.length;++a){if(cmp(t.keys[a],e[l])!==0)continue;o.push(i?deepClone(t.values[a]):t.values[a]);++l}return o.length===e.length?o:null}catch(e){return null}}var Ue={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var i=e.table(t);return __assign(__assign({},i),{getMany:function(e){if(!e.cache){return i.getMany(e)}var t=getFromTransactionCache(e.keys,e.trans["_cache"],e.cache==="clone");if(t){return DexiePromise.resolve(t)}return i.getMany(e).then(function(t){e.trans["_cache"]={keys:e.keys,values:e.cache==="clone"?deepClone(t):t};return t})},mutate:function(e){if(e.type!=="add")e.trans["_cache"]=null;return i.mutate(e)}})}}}};function isCachableContext(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function isCachableRequest(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":return false;case"getMany":return false;case"count":return false;case"openCursor":return false}}var Ke={stack:"dbcore",level:0,name:"Observability",create:function(e){var i=e.schema.name;var a=new RangeSet(e.MIN_KEY,e.MAX_KEY);return __assign(__assign({},e),{transaction:function(t,i,o){if(ee.subscr&&i!=="readonly"){throw new B.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ee.querier))}return e.transaction(t,i,o)},table:function(l){var u=e.table(l);var d=u.schema;var p=d.primaryKey,m=d.indexes;var g=p.extractKey,v=p.outbound;var y=p.autoIncrement&&m.filter(function(e){return e.compound&&e.keyPath.includes(p.keyPath)});var _=__assign(__assign({},u),{mutate:function(t){var m,g;var v=t.trans;var _=t.mutatedParts||(t.mutatedParts={});var getRangeSet=function(e){var t="idb://".concat(i,"/").concat(l,"/").concat(e);return _[t]||(_[t]=new RangeSet)};var w=getRangeSet("");var A=getRangeSet(":dels");var k=t.type;var T=t.type==="deleteRange"?[t.range]:t.type==="delete"?[t.keys]:t.values.length<50?[getEffectiveKeys(p,t).filter(function(e){return e}),t.values]:[],x=T[0],I=T[1];var N=t.trans["_cache"];if(o(x)){w.addKeys(x);var P=k==="delete"||x.length===I.length?getFromTransactionCache(x,N):null;if(!P){A.addKeys(x)}if(P||I){trackAffectedIndexes(getRangeSet,d,P,I)}}else if(x){var C={from:(m=x.lower)!==null&&m!==void 0?m:e.MIN_KEY,to:(g=x.upper)!==null&&g!==void 0?g:e.MAX_KEY};A.add(C);w.add(C)}else{w.add(a);A.add(a);d.indexes.forEach(function(e){return getRangeSet(e.name).add(a)})}return u.mutate(t).then(function(e){if(x&&(t.type==="add"||t.type==="put")){w.addKeys(e.results);if(y){y.forEach(function(i){var o=t.values.map(function(e){return i.extractKey(e)});var a=i.keyPath.findIndex(function(e){return e===p.keyPath});for(var l=0,u=e.results.length;l<u;++l){o[l][a]=e.results[l]}getRangeSet(i.name).addKeys(o)})}}v.mutatedParts=extendObservabilitySet(v.mutatedParts||{},_);return e})}});var getRange=function(t){var i,o;var a=t.query,l=a.index,u=a.range;return[l,new RangeSet((i=u.lower)!==null&&i!==void 0?i:e.MIN_KEY,(o=u.upper)!==null&&o!==void 0?o:e.MAX_KEY)]};var w={get:function(e){return[p,new RangeSet(e.key)]},getMany:function(e){return[p,(new RangeSet).addKeys(e.keys)]},count:getRange,query:getRange,openCursor:getRange};t(w).forEach(function(e){_[e]=function(t){var o=ee.subscr;var d=!!o;var p=isCachableContext(ee,u)&&isCachableRequest(e,t);var m=p?t.obsSet={}:o;if(d){var getRangeSet=function(e){var t="idb://".concat(i,"/").concat(l,"/").concat(e);return m[t]||(m[t]=new RangeSet)};var y=getRangeSet("");var _=getRangeSet(":dels");var A=w[e](t),k=A[0],T=A[1];if(e==="query"&&k.isPrimaryKey&&!t.values){_.add(T)}else{getRangeSet(k.name||"").add(T)}if(!k.isPrimaryKey){if(e==="count"){_.add(a)}else{var x=e==="query"&&v&&t.values&&u.query(__assign(__assign({},t),{values:false}));return u[e].apply(this,arguments).then(function(i){if(e==="query"){if(v&&t.values){return x.then(function(e){var t=e.result;y.addKeys(t);return i})}var o=t.values?i.result.map(g):i.result;if(t.values){y.addKeys(o)}else{_.addKeys(o)}}else if(e==="openCursor"){var a=i;var l=t.values;return a&&Object.create(a,{key:{get:function(){_.addKey(a.primaryKey);return a.key}},primaryKey:{get:function(){var e=a.primaryKey;_.addKey(e);return e}},value:{get:function(){l&&y.addKey(a.primaryKey);return a.value}}})}return i})}}}return u[e].apply(this,arguments)}});return _}})}};function trackAffectedIndexes(e,t,i,a){function addAffectedIndex(t){var l=e(t.name||"");function extractKey(e){return e!=null?t.extractKey(e):null}var addKeyOrKeys=function(e){return t.multiEntry&&o(e)?e.forEach(function(e){return l.addKey(e)}):l.addKey(e)};(i||a).forEach(function(e,t){var o=i&&extractKey(i[t]);var l=a&&extractKey(a[t]);if(cmp(o,l)!==0){if(o!=null)addKeyOrKeys(o);if(l!=null)addKeyOrKeys(l)}})}t.indexes.forEach(addAffectedIndex)}function adjustOptimisticFromFailures(e,t,i){if(i.numFailures===0)return t;if(t.type==="deleteRange"){return null}var a=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;if(i.numFailures===a){return null}var l=__assign({},t);if(o(l.keys)){l.keys=l.keys.filter(function(e,t){return!(t in i.failures)})}if("values"in l&&o(l.values)){l.values=l.values.filter(function(e,t){return!(t in i.failures)})}return l}function isAboveLower(e,t){return t.lower===undefined?true:t.lowerOpen?cmp(e,t.lower)>0:cmp(e,t.lower)>=0}function isBelowUpper(e,t){return t.upper===undefined?true:t.upperOpen?cmp(e,t.upper)<0:cmp(e,t.upper)<=0}function isWithinRange(e,t){return isAboveLower(e,t)&&isBelowUpper(e,t)}function applyOptimisticOps(e,t,i,a,l,u){if(!i||i.length===0)return e;var d=t.query.index;var p=d.multiEntry;var m=t.query.range;var g=a.schema.primaryKey;var v=g.extractKey;var y=d.extractKey;var _=(d.lowLevelIndex||d).extractKey;var w=i.reduce(function(e,i){var a=e;var l=[];if(i.type==="add"||i.type==="put"){var u=new RangeSet;for(var d=i.values.length-1;d>=0;--d){var g=i.values[d];var _=v(g);if(u.hasKey(_))continue;var w=y(g);if(p&&o(w)?w.some(function(e){return isWithinRange(e,m)}):isWithinRange(w,m)){u.addKey(_);l.push(g)}}}switch(i.type){case"add":{var A=(new RangeSet).addKeys(t.values?e.map(function(e){return v(e)}):e);a=e.concat(t.values?l.filter(function(e){var t=v(e);if(A.hasKey(t))return false;A.addKey(t);return true}):l.map(function(e){return v(e)}).filter(function(e){if(A.hasKey(e))return false;A.addKey(e);return true}));break}case"put":{var k=(new RangeSet).addKeys(i.values.map(function(e){return v(e)}));a=e.filter(function(e){return!k.hasKey(t.values?v(e):e)}).concat(t.values?l:l.map(function(e){return v(e)}));break}case"delete":var T=(new RangeSet).addKeys(i.keys);a=e.filter(function(e){return!T.hasKey(t.values?v(e):e)});break;case"deleteRange":var x=i.range;a=e.filter(function(e){return!isWithinRange(v(e),x)});break}return a},e);if(w===e)return e;w.sort(function(e,t){return cmp(_(e),_(t))||cmp(v(e),v(t))});if(t.limit&&t.limit<Infinity){if(w.length>t.limit){w.length=t.limit}else if(e.length===t.limit&&w.length<t.limit){l.dirty=true}}return u?Object.freeze(w):w}function areRangesEqual(e,t){return cmp(e.lower,t.lower)===0&&cmp(e.upper,t.upper)===0&&!!e.lowerOpen===!!t.lowerOpen&&!!e.upperOpen===!!t.upperOpen}function compareLowers(e,t,i,o){if(e===undefined)return t!==undefined?-1:0;if(t===undefined)return 1;var a=cmp(e,t);if(a===0){if(i&&o)return 0;if(i)return 1;if(o)return-1}return a}function compareUppers(e,t,i,o){if(e===undefined)return t!==undefined?1:0;if(t===undefined)return-1;var a=cmp(e,t);if(a===0){if(i&&o)return 0;if(i)return-1;if(o)return 1}return a}function isSuperRange(e,t){return compareLowers(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&compareUppers(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}function findCompatibleQuery(e,t,i,o){var a=je["idb://".concat(e,"/").concat(t)];if(!a)return[];var l=a.queries[i];if(!l)return[null,false,a,null];var u=o.query?o.query.index.name:null;var d=l[u||""];if(!d)return[null,false,a,null];switch(i){case"query":var p=d.find(function(e){return e.req.limit===o.limit&&e.req.values===o.values&&areRangesEqual(e.req.query.range,o.query.range)});if(p)return[p,true,a,d];var m=d.find(function(e){var t="limit"in e.req?e.req.limit:Infinity;return t>=o.limit&&(o.values?e.req.values:true)&&isSuperRange(e.req.query.range,o.query.range)});return[m,false,a,d];case"count":var g=d.find(function(e){return areRangesEqual(e.req.query.range,o.query.range)});return[g,!!g,a,d]}}function subscribeToCacheEntry(e,t,i,o){e.subscribers.add(i);o.addEventListener("abort",function(){e.subscribers.delete(i);if(e.subscribers.size===0){enqueForDeletion(e,t)}})}function enqueForDeletion(e,t){setTimeout(function(){if(e.subscribers.size===0){delArrayItem(t,e)}},3e3)}var He={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name;var i=__assign(__assign({},e),{transaction:function(i,o,a){var l=e.transaction(i,o,a);if(o==="readwrite"){var u=new AbortController;var d=u.signal;var endTransaction=function(a){return function(){u.abort();if(o==="readwrite"){var d=new Set;for(var p=0,m=i;p<m.length;p++){var g=m[p];var v=je["idb://".concat(t,"/").concat(g)];if(v){var y=e.table(g);var _=v.optimisticOps.filter(function(e){return e.trans===l});if(l._explicit&&a&&l.mutatedParts){for(var w=0,A=Object.values(v.queries.query);w<A.length;w++){var k=A[w];for(var T=0,x=k.slice();T<x.length;T++){var I=x[T];if(obsSetsOverlap(I.obsSet,l.mutatedParts)){delArrayItem(k,I);I.subscribers.forEach(function(e){return d.add(e)})}}}}else if(_.length>0){v.optimisticOps=v.optimisticOps.filter(function(e){return e.trans!==l});for(var N=0,P=Object.values(v.queries.query);N<P.length;N++){var k=P[N];for(var C=0,M=k.slice();C<M.length;C++){var I=M[C];if(I.res!=null&&l.mutatedParts){if(a&&!I.dirty){var B=Object.isFrozen(I.res);var j=applyOptimisticOps(I.res,I.req,_,y,I,B);if(I.dirty){delArrayItem(k,I);I.subscribers.forEach(function(e){return d.add(e)})}else if(j!==I.res){I.res=j;I.promise=DexiePromise.resolve({result:j})}}else{if(I.dirty){delArrayItem(k,I)}I.subscribers.forEach(function(e){return d.add(e)})}}}}}}}d.forEach(function(e){return e()})}}};l.addEventListener("abort",endTransaction(false),{signal:d});l.addEventListener("error",endTransaction(false),{signal:d});l.addEventListener("complete",endTransaction(true),{signal:d})}return l},table:function(i){var o=e.table(i);var a=o.schema.primaryKey;var l=__assign(__assign({},o),{mutate:function(e){var l=ee.trans;if(a.outbound||l.db._options.cache==="disabled"||l.explicit||l.idbtrans.mode!=="readwrite"){return o.mutate(e)}var u=je["idb://".concat(t,"/").concat(i)];if(!u)return o.mutate(e);var d=o.mutate(e);if((e.type==="add"||e.type==="put")&&(e.values.length>=50||getEffectiveKeys(a,e).some(function(e){return e==null}))){d.then(function(t){var i=__assign(__assign({},e),{values:e.values.map(function(e,i){var o;if(t.failures[i])return e;var l=((o=a.keyPath)===null||o===void 0?void 0:o.includes("."))?deepClone(e):__assign({},e);setByKeyPath(l,a.keyPath,t.results[i]);return l})});var o=adjustOptimisticFromFailures(u,i,t);u.optimisticOps.push(o);queueMicrotask(function(){return e.mutatedParts&&signalSubscribersLazily(e.mutatedParts)})})}else{u.optimisticOps.push(e);e.mutatedParts&&signalSubscribersLazily(e.mutatedParts);d.then(function(t){if(t.numFailures>0){delArrayItem(u.optimisticOps,e);var i=adjustOptimisticFromFailures(u,e,t);if(i){u.optimisticOps.push(i)}e.mutatedParts&&signalSubscribersLazily(e.mutatedParts)}});d.catch(function(){delArrayItem(u.optimisticOps,e);e.mutatedParts&&signalSubscribersLazily(e.mutatedParts)})}return d},query:function(e){var a;if(!isCachableContext(ee,o)||!isCachableRequest("query",e))return o.query(e);var l=((a=ee.trans)===null||a===void 0?void 0:a.db._options.cache)==="immutable";var u=ee,d=u.requery,p=u.signal;var m=findCompatibleQuery(t,i,"query",e),g=m[0],v=m[1],y=m[2],_=m[3];if(g&&v){g.obsSet=e.obsSet}else{var w=o.query(e).then(function(e){var t=e.result;if(g)g.res=t;if(l){for(var i=0,o=t.length;i<o;++i){Object.freeze(t[i])}Object.freeze(t)}else{e.result=deepClone(t)}return e}).catch(function(e){if(_&&g)delArrayItem(_,g);return Promise.reject(e)});g={obsSet:e.obsSet,promise:w,subscribers:new Set,type:"query",req:e,dirty:false};if(_){_.push(g)}else{_=[g];if(!y){y=je["idb://".concat(t,"/").concat(i)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}}y.queries.query[e.query.index.name||""]=_}}subscribeToCacheEntry(g,_,d,p);return g.promise.then(function(t){return{result:applyOptimisticOps(t.result,e,y===null||y===void 0?void 0:y.optimisticOps,o,g,l)}})}});return l}});return i}};function vipify(e,t){return new Proxy(e,{get:function(e,i,o){if(i==="db")return t;return Reflect.get(e,i,o)}})}var qe=function(){function Dexie(e,t){var i=this;this._middlewares={};this.verno=0;var o=Dexie.dependencies;this._options=t=__assign({addons:Dexie.addons,autoOpen:true,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange,cache:"cloned"},t);this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var a=t.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var l={dbOpenError:null,isBeingOpened:false,onReadyBeingFired:null,openComplete:false,dbReadyResolve:nop,dbReadyPromise:null,cancelOpen:nop,openCanceller:null,autoSchema:true,PR1398_maxLoop:3,autoOpen:t.autoOpen};l.dbReadyPromise=new DexiePromise(function(e){l.dbReadyResolve=e});l.openCanceller=new DexiePromise(function(e,t){l.cancelOpen=t});this._state=l;this.name=e;this.on=Events(this,"populate","blocked","versionchange","close",{ready:[promisableChain,nop]});this.on.ready.subscribe=override(this.on.ready.subscribe,function(e){return function(t,o){Dexie.vip(function(){var a=i._state;if(a.openComplete){if(!a.dbOpenError)DexiePromise.resolve().then(t);if(o)e(t)}else if(a.onReadyBeingFired){a.onReadyBeingFired.push(t);if(o)e(t)}else{e(t);var l=i;if(!o)e(function unsubscribe(){l.on.ready.unsubscribe(t);l.on.ready.unsubscribe(unsubscribe)})}})}});this.Collection=createCollectionConstructor(this);this.Table=createTableConstructor(this);this.Transaction=createTransactionConstructor(this);this.Version=createVersionConstructor(this);this.WhereClause=createWhereClauseConstructor(this);this.on("versionchange",function(e){if(e.newVersion>0)console.warn("Another connection wants to upgrade database '".concat(i.name,"'. Closing db now to resume the upgrade."));else console.warn("Another connection wants to delete database '".concat(i.name,"'. Closing db now to resume the delete request."));i.close({disableAutoOpen:false})});this.on("blocked",function(e){if(!e.newVersion||e.newVersion<e.oldVersion)console.warn("Dexie.delete('".concat(i.name,"') was blocked"));else console.warn("Upgrade '".concat(i.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))});this._maxKey=getMaxKey(t.IDBKeyRange);this._createTransaction=function(e,t,o,a){return new i.Transaction(e,t,o,i._options.chromeTransactionDurability,a)};this._fireOnBlocked=function(e){i.on("blocked").fire(e);be.filter(function(e){return e.name===i.name&&e!==i&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})};this.use(Ue);this.use(He);this.use(Ke);this.use(Le);this.use(Fe);var u=new Proxy(this,{get:function(e,t,o){if(t==="_vip")return true;if(t==="table")return function(e){return vipify(i.table(e),u)};var a=Reflect.get(e,t,o);if(a instanceof Se)return vipify(a,u);if(t==="tables")return a.map(function(e){return vipify(e,u)});if(t==="_createTransaction")return function(){var e=a.apply(this,arguments);return vipify(e,u)};return a}});this.vip=u;a.forEach(function(e){return e(i)})}Dexie.prototype.version=function(e){if(isNaN(e)||e<.1)throw new B.Type("Given version is not a positive number");e=Math.round(e*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new B.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions;var i=t.filter(function(t){return t._cfg.version===e})[0];if(i)return i;i=new this.Version(e);t.push(i);t.sort(lowerVersionFirst);i.stores({});this._state.autoSchema=false;return i};Dexie.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ee.letThrough||this._vip)?e():new DexiePromise(function(e,i){if(t._state.openComplete){return i(new B.DatabaseClosed(t._state.dbOpenError))}if(!t._state.isBeingOpened){if(!t._state.autoOpen){i(new B.DatabaseClosed);return}t.open().catch(nop)}t._state.dbReadyPromise.then(e,i)}).then(e)};Dexie.prototype.use=function(e){var t=e.stack,i=e.create,o=e.level,a=e.name;if(a)this.unuse({stack:t,name:a});var l=this._middlewares[t]||(this._middlewares[t]=[]);l.push({stack:t,create:i,level:o==null?10:o,name:a});l.sort(function(e,t){return e.level-t.level});return this};Dexie.prototype.unuse=function(e){var t=e.stack,i=e.name,o=e.create;if(t&&this._middlewares[t]){this._middlewares[t]=this._middlewares[t].filter(function(e){return o?e.create!==o:i?e.name!==i:false})}return this};Dexie.prototype.open=function(){var e=this;return usePSD(X,function(){return dexieOpen(e)})};Dexie.prototype._close=function(){var e=this._state;var t=be.indexOf(this);if(t>=0)be.splice(t,1);if(this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}if(!e.isBeingOpened){e.dbReadyPromise=new DexiePromise(function(t){e.dbReadyResolve=t});e.openCanceller=new DexiePromise(function(t,i){e.cancelOpen=i})}};Dexie.prototype.close=function(e){var t=e===void 0?{disableAutoOpen:true}:e,i=t.disableAutoOpen;var o=this._state;if(i){if(o.isBeingOpened){o.cancelOpen(new B.DatabaseClosed)}this._close();o.autoOpen=false;o.dbOpenError=new B.DatabaseClosed}else{this._close();o.autoOpen=this._options.autoOpen||o.isBeingOpened;o.openComplete=false;o.dbOpenError=null}};Dexie.prototype.delete=function(e){var t=this;if(e===void 0){e={disableAutoOpen:true}}var i=arguments.length>0&&typeof arguments[0]!=="object";var o=this._state;return new DexiePromise(function(a,l){var doDelete=function(){t.close(e);var i=t._deps.indexedDB.deleteDatabase(t.name);i.onsuccess=wrap(function(){_onDatabaseDeleted(t._deps,t.name);a()});i.onerror=eventRejectHandler(l);i.onblocked=t._fireOnBlocked};if(i)throw new B.InvalidArgument("Invalid closeOptions argument to db.delete()");if(o.isBeingOpened){o.dbReadyPromise.then(doDelete)}else{doDelete()}})};Dexie.prototype.backendDB=function(){return this.idbdb};Dexie.prototype.isOpen=function(){return this.idbdb!==null};Dexie.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"};Dexie.prototype.hasFailed=function(){return this._state.dbOpenError!==null};Dexie.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(Dexie.prototype,"tables",{get:function(){var e=this;return t(this._allTables).map(function(t){return e._allTables[t]})},enumerable:false,configurable:true});Dexie.prototype.transaction=function(){var e=extractTransactionArgs.apply(this,arguments);return this._transaction.apply(this,e)};Dexie.prototype._transaction=function(e,t,i){var o=this;var a=ee.trans;if(!a||a.db!==this||e.indexOf("!")!==-1)a=null;var l=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var u,d;try{d=t.map(function(e){var t=e instanceof o.Table?e.name:e;if(typeof t!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if(e=="r"||e===we)u=we;else if(e=="rw"||e==Ee)u=Ee;else throw new B.InvalidArgument("Invalid transaction mode: "+e);if(a){if(a.mode===we&&u===Ee){if(l){a=null}else throw new B.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")}if(a){d.forEach(function(e){if(a&&a.storeNames.indexOf(e)===-1){if(l){a=null}else throw new B.SubTransaction("Table "+e+" not included in parent transaction.")}})}if(l&&a&&!a.active){a=null}}}catch(e){return a?a._promise(null,function(t,i){i(e)}):de(e)}var p=enterTransactionScope.bind(null,this,u,d,a,i);return a?a._promise(u,p,"lock"):ee.trans?usePSD(ee.transless,function(){return o._whenReady(p)}):this._whenReady(p)};Dexie.prototype.table=function(e){if(!hasOwn(this._allTables,e)){throw new B.InvalidTable("Table ".concat(e," does not exist"))}return this._allTables[e]};return Dexie}();var Ge=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable";var ze=function(){function Observable(e){this._subscribe=e}Observable.prototype.subscribe=function(e,t,i){return this._subscribe(!e||typeof e==="function"?{next:e,error:t,complete:i}:e)};Observable.prototype[Ge]=function(){return this};return Observable}();var We;try{We={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(e){We={indexedDB:null,IDBKeyRange:null}}function liveQuery(e){var t=false;var i;var o=new ze(function(o){var a=T(e);function execute(t){var i=beginMicroTickScope();try{if(a){incrementExpectedAwaits()}var o=newScope(e,t);if(a){o=o.finally(decrementExpectedAwaits)}return o}finally{i&&endMicroTickScope()}}var l=false;var u;var d={};var p={};var m={get closed(){return l},unsubscribe:function(){if(l)return;l=true;if(u)u.abort();if(g)Pe.storagemutated.unsubscribe(mutationListener)}};o.start&&o.start(m);var g=false;var doQuery=function(){return execInGlobalContext(_doQuery)};function shouldNotify(){return obsSetsOverlap(p,d)}var mutationListener=function(e){extendObservabilitySet(d,e);if(shouldNotify()){doQuery()}};var _doQuery=function(){if(l||!We.indexedDB){return}d={};var a={};if(u)u.abort();u=new AbortController;var m={subscr:a,signal:u.signal,requery:doQuery,querier:e,trans:null};var v=execute(m);Promise.resolve(v).then(function(e){t=true;i=e;if(l||m.signal.aborted){return}d={};p=a;if(!objectIsEmpty(p)&&!g){Pe(Ie,mutationListener);g=true}execInGlobalContext(function(){return!l&&o.next&&o.next(e)})},function(e){t=false;if(!["DatabaseClosedError","AbortError"].includes(e===null||e===void 0?void 0:e.name)){if(!l)execInGlobalContext(function(){if(l)return;o.error&&o.error(e)})}})};setTimeout(doQuery,0);return m});o.hasValue=function(){return t};o.getValue=function(){return i};return o}var Ve=qe;props(Ve,__assign(__assign({},O),{delete:function(e){var t=new Ve(e,{addons:[]});return t.delete()},exists:function(e){return new Ve(e,{addons:[]}).open().then(function(e){e.close();return true}).catch("NoSuchDatabaseError",function(){return false})},getDatabaseNames:function(e){try{return getDatabaseNames(Ve.dependencies).then(e)}catch(e){return de(new B.MissingAPI)}},defineClass:function(){function Class(e){extend(this,e)}return Class},ignoreTransaction:function(e){return ee.trans?usePSD(ee.transless,e):e()},vip,async:function(e){return function(){try{var t=awaitIterator(e.apply(this,arguments));if(!t||typeof t.then!=="function")return DexiePromise.resolve(t);return t}catch(e){return de(e)}}},spawn:function(e,t,i){try{var o=awaitIterator(e.apply(i,t||[]));if(!o||typeof o.then!=="function")return DexiePromise.resolve(o);return o}catch(e){return de(e)}},currentTransaction:{get:function(){return ee.trans||null}},waitFor:function(e,t){var i=DexiePromise.resolve(typeof e==="function"?Ve.ignoreTransaction(e):e).timeout(t||6e4);return ee.trans?ee.trans.waitFor(i):i},Promise:DexiePromise,debug:{get:function(){return D},set:function(e){setDebug(e)}},derive,extend,props,override,Events,on:Pe,liveQuery,extendObservabilitySet,getByKeyPath,setByKeyPath,delByKeyPath,shallowClone,deepClone,getObjectDiff,cmp,asap:asap$1,minKey:me,addons:[],connections:be,errnames:C,dependencies:We,cache:je,semVer:he,version:he.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,i){return e+t/Math.pow(10,i*2)})}));Ve.maxKey=getMaxKey(Ve.dependencies.IDBKeyRange);if(typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"){Pe(Ie,function(e){if(!Ye){var t;t=new CustomEvent(Ne,{detail:e});Ye=true;dispatchEvent(t);Ye=false}});addEventListener(Ne,function(e){var t=e.detail;if(!Ye){propagateLocally(t)}})}function propagateLocally(e){var t=Ye;try{Ye=true;Pe.storagemutated.fire(e);signalSubscribersNow(e,true)}finally{Ye=t}}var Ye=false;var $e;var createBC=function(){};if(typeof BroadcastChannel!=="undefined"){createBC=function(){$e=new BroadcastChannel(Ne);$e.onmessage=function(e){return e.data&&propagateLocally(e.data)}};createBC();if(typeof $e.unref==="function"){$e.unref()}Pe(Ie,function(e){if(!Ye){$e.postMessage(e)}})}if(typeof addEventListener!=="undefined"){addEventListener("pagehide",function(e){if(!qe.disableBfCache&&e.persisted){if(D)console.debug("Dexie: handling persisted pagehide");$e===null||$e===void 0?void 0:$e.close();for(var t=0,i=be;t<i.length;t++){var o=i[t];o.close({disableAutoOpen:false})}}});addEventListener("pageshow",function(e){if(!qe.disableBfCache&&e.persisted){if(D)console.debug("Dexie: handling persisted pageshow");createBC();propagateLocally({all:new RangeSet(-Infinity,[[]])})}})}function add(e){return new ke({add:e})}function remove(e){return new ke({remove:e})}function replacePrefix(e,t){return new ke({replacePrefix:[e,t]})}DexiePromise.rejectionMapper=mapError;setDebug(D);var Je=Object.freeze({__proto__:null,Dexie:qe,liveQuery,Entity,cmp,PropModification:ke,replacePrefix,add,remove,default:qe,RangeSet,mergeRanges,rangesOverlap});__assign(qe,Je,{default:qe});return qe})},"../../node_modules/.pnpm/dexie@4.0.11/node_modules/dexie/import-wrapper.mjs":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Dexie:()=>l,Entity:()=>v,PropModification:()=>y,RangeSet:()=>m,add:()=>w,cmp:()=>g,default:()=>k,liveQuery:()=>u,mergeRanges:()=>d,rangesOverlap:()=>p,remove:()=>A,replacePrefix:()=>_});var o=i("../../node_modules/.pnpm/dexie@4.0.11/node_modules/dexie/dist/dexie.js");const a=Symbol.for("Dexie");const l=globalThis[a]||(globalThis[a]=o);if(o.semVer!==l.semVer){throw new Error(`Two different versions of Dexie loaded in the same app: ${o.semVer} and ${l.semVer}`)}const{liveQuery:u,mergeRanges:d,rangesOverlap:p,RangeSet:m,cmp:g,Entity:v,PropModification:y,replacePrefix:_,add:w,remove:A}=l;const k=l},"../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/browser.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js")["Buffer"];var a=i("../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/generatePrime.js");var l=i("../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/primes.json");var u=i("../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/dh.js");function getDiffieHellman(e){var t=new o(l[e].prime,"hex");var i=new o(l[e].gen,"hex");return new u(t,i)}var d={binary:true,hex:true,base64:true};function createDiffieHellman(e,t,i,l){if(o.isBuffer(t)||d[t]===undefined){return createDiffieHellman(e,"binary",t,i)}t=t||"binary";l=l||"binary";i=i||new o([2]);if(!o.isBuffer(i)){i=new o(i,l)}if(typeof e==="number"){return new u(a(e,i),i,true)}if(!o.isBuffer(e)){e=new o(e,t)}return new u(e,i,true)}t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=getDiffieHellman;t.createDiffieHellman=t.DiffieHellman=createDiffieHellman},"../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/dh.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js")["Buffer"];var a=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");var l=i("../../node_modules/.pnpm/miller-rabin@4.0.1/node_modules/miller-rabin/lib/mr.js");var u=new l;var d=new a(24);var p=new a(11);var m=new a(10);var g=new a(3);var v=new a(7);var y=i("../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/generatePrime.js");var _=i("../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js");e.exports=DH;function setPublicKey(e,t){t=t||"utf8";if(!o.isBuffer(e)){e=new o(e,t)}this._pub=new a(e);return this}function setPrivateKey(e,t){t=t||"utf8";if(!o.isBuffer(e)){e=new o(e,t)}this._priv=new a(e);return this}var w={};function checkPrime(e,t){var i=t.toString("hex");var o=[i,e.toString(16)].join("_");if(o in w){return w[o]}var a=0;if(e.isEven()||!y.simpleSieve||!y.fermatTest(e)||!u.test(e)){a+=1;if(i==="02"||i==="05"){a+=8}else{a+=4}w[o]=a;return a}if(!u.test(e.shrn(1))){a+=2}var l;switch(i){case"02":if(e.mod(d).cmp(p)){a+=8}break;case"05":l=e.mod(m);if(l.cmp(g)&&l.cmp(v)){a+=8}break;default:a+=4}w[o]=a;return a}function DH(e,t,i){this.setGenerator(t);this.__prime=new a(e);this._prime=a.mont(this.__prime);this._primeLen=e.length;this._pub=undefined;this._priv=undefined;this._primeCode=undefined;if(i){this.setPublicKey=setPublicKey;this.setPrivateKey=setPrivateKey}else{this._primeCode=8}}Object.defineProperty(DH.prototype,"verifyError",{enumerable:true,get:function(){if(typeof this._primeCode!=="number"){this._primeCode=checkPrime(this.__prime,this.__gen)}return this._primeCode}});DH.prototype.generateKeys=function(){if(!this._priv){this._priv=new a(_(this._primeLen))}this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed();return this.getPublicKey()};DH.prototype.computeSecret=function(e){e=new a(e);e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed();var i=new o(t.toArray());var l=this.getPrime();if(i.length<l.length){var u=new o(l.length-i.length);u.fill(0);i=o.concat([u,i])}return i};DH.prototype.getPublicKey=function getPublicKey(e){return formatReturnValue(this._pub,e)};DH.prototype.getPrivateKey=function getPrivateKey(e){return formatReturnValue(this._priv,e)};DH.prototype.getPrime=function(e){return formatReturnValue(this.__prime,e)};DH.prototype.getGenerator=function(e){return formatReturnValue(this._gen,e)};DH.prototype.setGenerator=function(e,t){t=t||"utf8";if(!o.isBuffer(e)){e=new o(e,t)}this.__gen=e;this._gen=new a(e);return this};function formatReturnValue(e,t){var i=new o(e.toArray());if(!t){return i}else{return i.toString(t)}}},"../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/generatePrime.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js");e.exports=findPrime;findPrime.simpleSieve=simpleSieve;findPrime.fermatTest=fermatTest;var a=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");var l=new a(24);var u=i("../../node_modules/.pnpm/miller-rabin@4.0.1/node_modules/miller-rabin/lib/mr.js");var d=new u;var p=new a(1);var m=new a(2);var g=new a(5);var v=new a(16);var y=new a(8);var _=new a(10);var w=new a(3);var A=new a(7);var k=new a(11);var T=new a(4);var x=new a(12);var I=null;function _getPrimes(){if(I!==null)return I;var e=1048576;var t=[];t[0]=2;for(var i=1,o=3;o<e;o+=2){var a=Math.ceil(Math.sqrt(o));for(var l=0;l<i&&t[l]<=a;l++)if(o%t[l]===0)break;if(i!==l&&t[l]<=a)continue;t[i++]=o}I=t;return t}function simpleSieve(e){var t=_getPrimes();for(var i=0;i<t.length;i++)if(e.modn(t[i])===0){if(e.cmpn(t[i])===0){return true}else{return false}}return true}function fermatTest(e){var t=a.mont(e);return m.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)===0}function findPrime(e,t){if(e<16){if(t===2||t===5){return new a([140,123])}else{return new a([140,39])}}t=new a(t);var i,u;while(true){i=new a(o(Math.ceil(e/8)));while(i.bitLength()>e){i.ishrn(1)}if(i.isEven()){i.iadd(p)}if(!i.testn(1)){i.iadd(m)}if(!t.cmp(m)){while(i.mod(l).cmp(k)){i.iadd(T)}}else if(!t.cmp(g)){while(i.mod(_).cmp(w)){i.iadd(T)}}u=i.shrn(1);if(simpleSieve(u)&&simpleSieve(i)&&fermatTest(u)&&fermatTest(i)&&d.test(u)&&d.test(i)){return i}}}},"../../node_modules/.pnpm/diffie-hellman@5.0.3/node_modules/diffie-hellman/lib/primes.json":e=>{"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic.js":(e,t,i)=>{"use strict";var o=t;o.version=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/package.json").version;o.utils=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");o.rand=i("../../node_modules/.pnpm/brorand@1.1.0/node_modules/brorand/index.js");o.curve=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/index.js");o.curves=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curves.js");o.ec=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/ec/index.js");o.eddsa=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/eddsa/index.js")},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/base.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var l=a.getNAF;var u=a.getJSF;var d=a.assert;function BaseCurve(e,t){this.type=e;this.p=new o(t.p,16);this.red=t.prime?o.red(t.prime):o.mont(this.p);this.zero=new o(0).toRed(this.red);this.one=new o(1).toRed(this.red);this.two=new o(2).toRed(this.red);this.n=t.n&&new o(t.n,16);this.g=t.g&&this.pointFromJSON(t.g,t.gRed);this._wnafT1=new Array(4);this._wnafT2=new Array(4);this._wnafT3=new Array(4);this._wnafT4=new Array(4);this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);if(!i||i.cmpn(100)>0){this.redN=null}else{this._maxwellTrick=true;this.redN=this.n.toRed(this.red)}}e.exports=BaseCurve;BaseCurve.prototype.point=function point(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function _fixedNafMul(e,t){d(e.precomputed);var i=e._getDoubles();var o=l(t,1,this._bitLength);var a=(1<<i.step+1)-(i.step%2===0?2:1);a/=3;var u=[];var p;var m;for(p=0;p<o.length;p+=i.step){m=0;for(var g=p+i.step-1;g>=p;g--)m=(m<<1)+o[g];u.push(m)}var v=this.jpoint(null,null,null);var y=this.jpoint(null,null,null);for(var _=a;_>0;_--){for(p=0;p<u.length;p++){m=u[p];if(m===_)y=y.mixedAdd(i.points[p]);else if(m===-_)y=y.mixedAdd(i.points[p].neg())}v=v.add(y)}return v.toP()};BaseCurve.prototype._wnafMul=function _wnafMul(e,t){var i=4;var o=e._getNAFPoints(i);i=o.wnd;var a=o.points;var u=l(t,i,this._bitLength);var p=this.jpoint(null,null,null);for(var m=u.length-1;m>=0;m--){for(var g=0;m>=0&&u[m]===0;m--)g++;if(m>=0)g++;p=p.dblp(g);if(m<0)break;var v=u[m];d(v!==0);if(e.type==="affine"){if(v>0)p=p.mixedAdd(a[v-1>>1]);else p=p.mixedAdd(a[-v-1>>1].neg())}else{if(v>0)p=p.add(a[v-1>>1]);else p=p.add(a[-v-1>>1].neg())}}return e.type==="affine"?p.toP():p};BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(e,t,i,o,a){var d=this._wnafT1;var p=this._wnafT2;var m=this._wnafT3;var g=0;var v;var y;var _;for(v=0;v<o;v++){_=t[v];var w=_._getNAFPoints(e);d[v]=w.wnd;p[v]=w.points}for(v=o-1;v>=1;v-=2){var A=v-1;var k=v;if(d[A]!==1||d[k]!==1){m[A]=l(i[A],d[A],this._bitLength);m[k]=l(i[k],d[k],this._bitLength);g=Math.max(m[A].length,g);g=Math.max(m[k].length,g);continue}var T=[t[A],null,null,t[k]];if(t[A].y.cmp(t[k].y)===0){T[1]=t[A].add(t[k]);T[2]=t[A].toJ().mixedAdd(t[k].neg())}else if(t[A].y.cmp(t[k].y.redNeg())===0){T[1]=t[A].toJ().mixedAdd(t[k]);T[2]=t[A].add(t[k].neg())}else{T[1]=t[A].toJ().mixedAdd(t[k]);T[2]=t[A].toJ().mixedAdd(t[k].neg())}var x=[-3,-1,-5,-7,0,7,5,1,3];var I=u(i[A],i[k]);g=Math.max(I[0].length,g);m[A]=new Array(g);m[k]=new Array(g);for(y=0;y<g;y++){var N=I[0][y]|0;var P=I[1][y]|0;m[A][y]=x[(N+1)*3+(P+1)];m[k][y]=0;p[A]=T}}var C=this.jpoint(null,null,null);var M=this._wnafT4;for(v=g;v>=0;v--){var B=0;while(v>=0){var j=true;for(y=0;y<o;y++){M[y]=m[y][v]|0;if(M[y]!==0)j=false}if(!j)break;B++;v--}if(v>=0)B++;C=C.dblp(B);if(v<0)break;for(y=0;y<o;y++){var O=M[y];_;if(O===0)continue;else if(O>0)_=p[y][O-1>>1];else if(O<0)_=p[y][-O-1>>1].neg();if(_.type==="affine")C=C.mixedAdd(_);else C=C.add(_)}}for(v=0;v<o;v++)p[v]=null;if(a)return C;else return C.toP()};function BasePoint(e,t){this.curve=e;this.type=t;this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")};BasePoint.prototype.validate=function validate(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function decodePoint(e,t){e=a.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){if(e[0]===6)d(e[e.length-1]%2===0);else if(e[0]===7)d(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return o}else if((e[0]===2||e[0]===3)&&e.length-1===i){return this.pointFromX(e.slice(1,1+i),e[0]===3)}throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function encodeCompressed(e){return this.encode(e,true)};BasePoint.prototype._encode=function _encode(e){var t=this.curve.p.byteLength();var i=this.getX().toArray("be",t);if(e)return[this.getY().isEven()?2:3].concat(i);return[4].concat(i,this.getY().toArray("be",t))};BasePoint.prototype.encode=function encode(e,t){return a.encode(this._encode(t),e)};BasePoint.prototype.precompute=function precompute(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};t.naf=this._getNAFPoints(8);t.doubles=this._getDoubles(4,e);t.beta=this._getBeta();this.precomputed=t;return this};BasePoint.prototype._hasDoubles=function _hasDoubles(e){if(!this.precomputed)return false;var t=this.precomputed.doubles;if(!t)return false;return t.points.length>=Math.ceil((e.bitLength()+1)/t.step)};BasePoint.prototype._getDoubles=function _getDoubles(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var i=[this];var o=this;for(var a=0;a<t;a+=e){for(var l=0;l<e;l++)o=o.dbl();i.push(o)}return{step:e,points:i}};BasePoint.prototype._getNAFPoints=function _getNAFPoints(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var t=[this];var i=(1<<e)-1;var o=i===1?null:this.dbl();for(var a=1;a<i;a++)t[a]=t[a-1].add(o);return{wnd:e,points:t}};BasePoint.prototype._getBeta=function _getBeta(){return null};BasePoint.prototype.dblp=function dblp(e){var t=this;for(var i=0;i<e;i++)t=t.dbl();return t}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/edwards.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var a=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var l=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var u=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/base.js");var d=o.assert;function EdwardsCurve(e){this.twisted=(e.a|0)!==1;this.mOneA=this.twisted&&(e.a|0)===-1;this.extended=this.mOneA;u.call(this,"edwards",e);this.a=new a(e.a,16).umod(this.red.m);this.a=this.a.toRed(this.red);this.c=new a(e.c,16).toRed(this.red);this.c2=this.c.redSqr();this.d=new a(e.d,16).toRed(this.red);this.dd=this.d.redAdd(this.d);d(!this.twisted||this.c.fromRed().cmpn(1)===0);this.oneC=(e.c|0)===1}l(EdwardsCurve,u);e.exports=EdwardsCurve;EdwardsCurve.prototype._mulA=function _mulA(e){if(this.mOneA)return e.redNeg();else return this.a.redMul(e)};EdwardsCurve.prototype._mulC=function _mulC(e){if(this.oneC)return e;else return this.c.redMul(e)};EdwardsCurve.prototype.jpoint=function jpoint(e,t,i,o){return this.point(e,t,i,o)};EdwardsCurve.prototype.pointFromX=function pointFromX(e,t){e=new a(e,16);if(!e.red)e=e.toRed(this.red);var i=e.redSqr();var o=this.c2.redSub(this.a.redMul(i));var l=this.one.redSub(this.c2.redMul(this.d).redMul(i));var u=o.redMul(l.redInvm());var d=u.redSqrt();if(d.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var p=d.fromRed().isOdd();if(t&&!p||!t&&p)d=d.redNeg();return this.point(e,d)};EdwardsCurve.prototype.pointFromY=function pointFromY(e,t){e=new a(e,16);if(!e.red)e=e.toRed(this.red);var i=e.redSqr();var o=i.redSub(this.c2);var l=i.redMul(this.d).redMul(this.c2).redSub(this.a);var u=o.redMul(l.redInvm());if(u.cmp(this.zero)===0){if(t)throw new Error("invalid point");else return this.point(this.zero,e)}var d=u.redSqrt();if(d.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");if(d.fromRed().isOdd()!==t)d=d.redNeg();return this.point(d,e)};EdwardsCurve.prototype.validate=function validate(e){if(e.isInfinity())return true;e.normalize();var t=e.x.redSqr();var i=e.y.redSqr();var o=t.redMul(this.a).redAdd(i);var a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return o.cmp(a)===0};function Point(e,t,i,o,l){u.BasePoint.call(this,e,"projective");if(t===null&&i===null&&o===null){this.x=this.curve.zero;this.y=this.curve.one;this.z=this.curve.one;this.t=this.curve.zero;this.zOne=true}else{this.x=new a(t,16);this.y=new a(i,16);this.z=o?new a(o,16):this.curve.one;this.t=l&&new a(l,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);this.zOne=this.z===this.curve.one;if(this.curve.extended&&!this.t){this.t=this.x.redMul(this.y);if(!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}l(Point,u.BasePoint);EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(e){return Point.fromJSON(this,e)};EdwardsCurve.prototype.point=function point(e,t,i,o){return new Point(this,e,t,i,o)};Point.fromJSON=function fromJSON(e,t){return new Point(e,t[0],t[1],t[2])};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function _extDbl(){var e=this.x.redSqr();var t=this.y.redSqr();var i=this.z.redSqr();i=i.redIAdd(i);var o=this.curve._mulA(e);var a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t);var l=o.redAdd(t);var u=l.redSub(i);var d=o.redSub(t);var p=a.redMul(u);var m=l.redMul(d);var g=a.redMul(d);var v=u.redMul(l);return this.curve.point(p,m,v,g)};Point.prototype._projDbl=function _projDbl(){var e=this.x.redAdd(this.y).redSqr();var t=this.x.redSqr();var i=this.y.redSqr();var o;var a;var l;var u;var d;var p;if(this.curve.twisted){u=this.curve._mulA(t);var m=u.redAdd(i);if(this.zOne){o=e.redSub(t).redSub(i).redMul(m.redSub(this.curve.two));a=m.redMul(u.redSub(i));l=m.redSqr().redSub(m).redSub(m)}else{d=this.z.redSqr();p=m.redSub(d).redISub(d);o=e.redSub(t).redISub(i).redMul(p);a=m.redMul(u.redSub(i));l=m.redMul(p)}}else{u=t.redAdd(i);d=this.curve._mulC(this.z).redSqr();p=u.redSub(d).redSub(d);o=this.curve._mulC(e.redISub(u)).redMul(p);a=this.curve._mulC(u).redMul(t.redISub(i));l=u.redMul(p)}return this.curve.point(o,a,l)};Point.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};Point.prototype._extAdd=function _extAdd(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x));var i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x));var o=this.t.redMul(this.curve.dd).redMul(e.t);var a=this.z.redMul(e.z.redAdd(e.z));var l=i.redSub(t);var u=a.redSub(o);var d=a.redAdd(o);var p=i.redAdd(t);var m=l.redMul(u);var g=d.redMul(p);var v=l.redMul(p);var y=u.redMul(d);return this.curve.point(m,g,y,v)};Point.prototype._projAdd=function _projAdd(e){var t=this.z.redMul(e.z);var i=t.redSqr();var o=this.x.redMul(e.x);var a=this.y.redMul(e.y);var l=this.curve.d.redMul(o).redMul(a);var u=i.redSub(l);var d=i.redAdd(l);var p=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a);var m=t.redMul(u).redMul(p);var g;var v;if(this.curve.twisted){g=t.redMul(d).redMul(a.redSub(this.curve._mulA(o)));v=u.redMul(d)}else{g=t.redMul(d).redMul(a.redSub(o));v=this.curve._mulC(u).redMul(d)}return this.curve.point(m,g,v)};Point.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.curve.extended)return this._extAdd(e);else return this._projAdd(e)};Point.prototype.mul=function mul(e){if(this._hasDoubles(e))return this.curve._fixedNafMul(this,e);else return this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function mulAdd(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,false)};Point.prototype.jmulAdd=function jmulAdd(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,true)};Point.prototype.normalize=function normalize(){if(this.zOne)return this;var e=this.z.redInvm();this.x=this.x.redMul(e);this.y=this.y.redMul(e);if(this.t)this.t=this.t.redMul(e);this.z=this.curve.one;this.zOne=true;return this};Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()};Point.prototype.getY=function getY(){this.normalize();return this.y.fromRed()};Point.prototype.eq=function eq(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Point.prototype.eqXToP=function eqXToP(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return true;var i=e.clone();var o=this.curve.redN.redMul(this.z);for(;;){i.iadd(this.curve.n);if(i.cmp(this.curve.p)>=0)return false;t.redIAdd(o);if(this.x.cmp(t)===0)return true}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/index.js":(e,t,i)=>{"use strict";var o=t;o.base=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/base.js");o.short=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/short.js");o.mont=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/mont.js");o.edwards=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/edwards.js")},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/mont.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var l=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/base.js");var u=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");function MontCurve(e){l.call(this,"mont",e);this.a=new o(e.a,16).toRed(this.red);this.b=new o(e.b,16).toRed(this.red);this.i4=new o(4).toRed(this.red).redInvm();this.two=new o(2).toRed(this.red);this.a24=this.i4.redMul(this.a.redAdd(this.two))}a(MontCurve,l);e.exports=MontCurve;MontCurve.prototype.validate=function validate(e){var t=e.normalize().x;var i=t.redSqr();var o=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);var a=o.redSqrt();return a.redSqr().cmp(o)===0};function Point(e,t,i){l.BasePoint.call(this,e,"projective");if(t===null&&i===null){this.x=this.curve.one;this.z=this.curve.zero}else{this.x=new o(t,16);this.z=new o(i,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}a(Point,l.BasePoint);MontCurve.prototype.decodePoint=function decodePoint(e,t){return this.point(u.toArray(e,t),1)};MontCurve.prototype.point=function point(e,t){return new Point(this,e,t)};MontCurve.prototype.pointFromJSON=function pointFromJSON(e){return Point.fromJSON(this,e)};Point.prototype.precompute=function precompute(){};Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())};Point.fromJSON=function fromJSON(e,t){return new Point(e,t[0],t[1]||e.one)};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0};Point.prototype.dbl=function dbl(){var e=this.x.redAdd(this.z);var t=e.redSqr();var i=this.x.redSub(this.z);var o=i.redSqr();var a=t.redSub(o);var l=t.redMul(o);var u=a.redMul(o.redAdd(this.curve.a24.redMul(a)));return this.curve.point(l,u)};Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")};Point.prototype.diffAdd=function diffAdd(e,t){var i=this.x.redAdd(this.z);var o=this.x.redSub(this.z);var a=e.x.redAdd(e.z);var l=e.x.redSub(e.z);var u=l.redMul(i);var d=a.redMul(o);var p=t.z.redMul(u.redAdd(d).redSqr());var m=t.x.redMul(u.redISub(d).redSqr());return this.curve.point(p,m)};Point.prototype.mul=function mul(e){var t=e.clone();var i=this;var o=this.curve.point(null,null);var a=this;for(var l=[];t.cmpn(0)!==0;t.iushrn(1))l.push(t.andln(1));for(var u=l.length-1;u>=0;u--){if(l[u]===0){i=i.diffAdd(o,a);o=o.dbl()}else{o=i.diffAdd(o,a);i=i.dbl()}}return o};Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")};Point.prototype.eq=function eq(e){return this.getX().cmp(e.getX())===0};Point.prototype.normalize=function normalize(){this.x=this.x.redMul(this.z.redInvm());this.z=this.curve.one;return this};Point.prototype.getX=function getX(){this.normalize();return this.x.fromRed()}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/short.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var a=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var l=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var u=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/base.js");var d=o.assert;function ShortCurve(e){u.call(this,"short",e);this.a=new a(e.a,16).toRed(this.red);this.b=new a(e.b,16).toRed(this.red);this.tinv=this.two.redInvm();this.zeroA=this.a.fromRed().cmpn(0)===0;this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0;this.endo=this._getEndomorphism(e);this._endoWnafT1=new Array(4);this._endoWnafT2=new Array(4)}l(ShortCurve,u);e.exports=ShortCurve;ShortCurve.prototype._getEndomorphism=function _getEndomorphism(e){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var t;var i;if(e.beta){t=new a(e.beta,16).toRed(this.red)}else{var o=this._getEndoRoots(this.p);t=o[0].cmp(o[1])<0?o[0]:o[1];t=t.toRed(this.red)}if(e.lambda){i=new a(e.lambda,16)}else{var l=this._getEndoRoots(this.n);if(this.g.mul(l[0]).x.cmp(this.g.x.redMul(t))===0){i=l[0]}else{i=l[1];d(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0)}}var u;if(e.basis){u=e.basis.map(function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})}else{u=this._getEndoBasis(i)}return{beta:t,lambda:i,basis:u}};ShortCurve.prototype._getEndoRoots=function _getEndoRoots(e){var t=e===this.p?this.red:a.mont(e);var i=new a(2).toRed(t).redInvm();var o=i.redNeg();var l=new a(3).toRed(t).redNeg().redSqrt().redMul(i);var u=o.redAdd(l).fromRed();var d=o.redSub(l).fromRed();return[u,d]};ShortCurve.prototype._getEndoBasis=function _getEndoBasis(e){var t=this.n.ushrn(Math.floor(this.n.bitLength()/2));var i=e;var o=this.n.clone();var l=new a(1);var u=new a(0);var d=new a(0);var p=new a(1);var m;var g;var v;var y;var _;var w;var A;var k=0;var T;var x;while(i.cmpn(0)!==0){var I=o.div(i);T=o.sub(I.mul(i));x=d.sub(I.mul(l));var N=p.sub(I.mul(u));if(!v&&T.cmp(t)<0){m=A.neg();g=l;v=T.neg();y=x}else if(v&&++k===2){break}A=T;o=i;i=T;d=l;l=x;p=u;u=N}_=T.neg();w=x;var P=v.sqr().add(y.sqr());var C=_.sqr().add(w.sqr());if(C.cmp(P)>=0){_=m;w=g}if(v.negative){v=v.neg();y=y.neg()}if(_.negative){_=_.neg();w=w.neg()}return[{a:v,b:y},{a:_,b:w}]};ShortCurve.prototype._endoSplit=function _endoSplit(e){var t=this.endo.basis;var i=t[0];var o=t[1];var a=o.b.mul(e).divRound(this.n);var l=i.b.neg().mul(e).divRound(this.n);var u=a.mul(i.a);var d=l.mul(o.a);var p=a.mul(i.b);var m=l.mul(o.b);var g=e.sub(u).sub(d);var v=p.add(m).neg();return{k1:g,k2:v}};ShortCurve.prototype.pointFromX=function pointFromX(e,t){e=new a(e,16);if(!e.red)e=e.toRed(this.red);var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b);var o=i.redSqrt();if(o.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var l=o.fromRed().isOdd();if(t&&!l||!t&&l)o=o.redNeg();return this.point(e,o)};ShortCurve.prototype.validate=function validate(e){if(e.inf)return true;var t=e.x;var i=e.y;var o=this.a.redMul(t);var a=t.redSqr().redMul(t).redIAdd(o).redIAdd(this.b);return i.redSqr().redISub(a).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(e,t,i){var o=this._endoWnafT1;var a=this._endoWnafT2;for(var l=0;l<e.length;l++){var u=this._endoSplit(t[l]);var d=e[l];var p=d._getBeta();if(u.k1.negative){u.k1.ineg();d=d.neg(true)}if(u.k2.negative){u.k2.ineg();p=p.neg(true)}o[l*2]=d;o[l*2+1]=p;a[l*2]=u.k1;a[l*2+1]=u.k2}var m=this._wnafMulAdd(1,o,a,l*2,i);for(var g=0;g<l*2;g++){o[g]=null;a[g]=null}return m};function Point(e,t,i,o){u.BasePoint.call(this,e,"affine");if(t===null&&i===null){this.x=null;this.y=null;this.inf=true}else{this.x=new a(t,16);this.y=new a(i,16);if(o){this.x.forceRed(this.curve.red);this.y.forceRed(this.curve.red)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=false}}l(Point,u.BasePoint);ShortCurve.prototype.point=function point(e,t,i){return new Point(this,e,t,i)};ShortCurve.prototype.pointFromJSON=function pointFromJSON(e,t){return Point.fromJSON(this,e,t)};Point.prototype._getBeta=function _getBeta(){if(!this.curve.endo)return;var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve;var endoMul=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t;t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(endoMul)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(endoMul)}}}return t};Point.prototype.toJSON=function toJSON(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};Point.fromJSON=function fromJSON(e,t,i){if(typeof t==="string")t=JSON.parse(t);var o=e.point(t[0],t[1],i);if(!t[2])return o;function obj2point(t){return e.point(t[0],t[1],i)}var a=t[2];o.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[o].concat(a.doubles.points.map(obj2point))},naf:a.naf&&{wnd:a.naf.wnd,points:[o].concat(a.naf.points.map(obj2point))}};return o};Point.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function isInfinity(){return this.inf};Point.prototype.add=function add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);if(t.cmpn(0)!==0)t=t.redMul(this.x.redSub(e.x).redInvm());var i=t.redSqr().redISub(this.x).redISub(e.x);var o=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,o)};Point.prototype.dbl=function dbl(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a;var i=this.x.redSqr();var o=e.redInvm();var a=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(o);var l=a.redSqr().redISub(this.x.redAdd(this.x));var u=a.redMul(this.x.redSub(l)).redISub(this.y);return this.curve.point(l,u)};Point.prototype.getX=function getX(){return this.x.fromRed()};Point.prototype.getY=function getY(){return this.y.fromRed()};Point.prototype.mul=function mul(e){e=new a(e,16);if(this.isInfinity())return this;else if(this._hasDoubles(e))return this.curve._fixedNafMul(this,e);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[e]);else return this.curve._wnafMul(this,e)};Point.prototype.mulAdd=function mulAdd(e,t,i){var o=[this,t];var a=[e,i];if(this.curve.endo)return this.curve._endoWnafMulAdd(o,a);else return this.curve._wnafMulAdd(1,o,a,2)};Point.prototype.jmulAdd=function jmulAdd(e,t,i){var o=[this,t];var a=[e,i];if(this.curve.endo)return this.curve._endoWnafMulAdd(o,a,true);else return this.curve._wnafMulAdd(1,o,a,2,true)};Point.prototype.eq=function eq(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Point.prototype.neg=function neg(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed;var negate=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(negate)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(negate)}}}return t};Point.prototype.toJ=function toJ(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function JPoint(e,t,i,o){u.BasePoint.call(this,e,"jacobian");if(t===null&&i===null&&o===null){this.x=this.curve.one;this.y=this.curve.one;this.z=new a(0)}else{this.x=new a(t,16);this.y=new a(i,16);this.z=new a(o,16)}if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}l(JPoint,u.BasePoint);ShortCurve.prototype.jpoint=function jpoint(e,t,i){return new JPoint(this,e,t,i)};JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm();var t=e.redSqr();var i=this.x.redMul(t);var o=this.y.redMul(t).redMul(e);return this.curve.point(i,o)};JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr();var i=this.z.redSqr();var o=this.x.redMul(t);var a=e.x.redMul(i);var l=this.y.redMul(t.redMul(e.z));var u=e.y.redMul(i.redMul(this.z));var d=o.redSub(a);var p=l.redSub(u);if(d.cmpn(0)===0){if(p.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var m=d.redSqr();var g=m.redMul(d);var v=o.redMul(m);var y=p.redSqr().redIAdd(g).redISub(v).redISub(v);var _=p.redMul(v.redISub(y)).redISub(l.redMul(g));var w=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(y,_,w)};JPoint.prototype.mixedAdd=function mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr();var i=this.x;var o=e.x.redMul(t);var a=this.y;var l=e.y.redMul(t).redMul(this.z);var u=i.redSub(o);var d=a.redSub(l);if(u.cmpn(0)===0){if(d.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl()}var p=u.redSqr();var m=p.redMul(u);var g=i.redMul(p);var v=d.redSqr().redIAdd(m).redISub(g).redISub(g);var y=d.redMul(g.redISub(v)).redISub(a.redMul(m));var _=this.z.redMul(u);return this.curve.jpoint(v,y,_)};JPoint.prototype.dblp=function dblp(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var o=this.curve.a;var a=this.curve.tinv;var l=this.x;var u=this.y;var d=this.z;var p=d.redSqr().redSqr();var m=u.redAdd(u);for(t=0;t<e;t++){var g=l.redSqr();var v=m.redSqr();var y=v.redSqr();var _=g.redAdd(g).redIAdd(g).redIAdd(o.redMul(p));var w=l.redMul(v);var A=_.redSqr().redISub(w.redAdd(w));var k=w.redISub(A);var T=_.redMul(k);T=T.redIAdd(T).redISub(y);var x=m.redMul(d);if(t+1<e)p=p.redMul(y);l=A;d=x;m=T}return this.curve.jpoint(l,m.redMul(a),d)};JPoint.prototype.dbl=function dbl(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};JPoint.prototype._zeroDbl=function _zeroDbl(){var e;var t;var i;if(this.zOne){var o=this.x.redSqr();var a=this.y.redSqr();var l=a.redSqr();var u=this.x.redAdd(a).redSqr().redISub(o).redISub(l);u=u.redIAdd(u);var d=o.redAdd(o).redIAdd(o);var p=d.redSqr().redISub(u).redISub(u);var m=l.redIAdd(l);m=m.redIAdd(m);m=m.redIAdd(m);e=p;t=d.redMul(u.redISub(p)).redISub(m);i=this.y.redAdd(this.y)}else{var g=this.x.redSqr();var v=this.y.redSqr();var y=v.redSqr();var _=this.x.redAdd(v).redSqr().redISub(g).redISub(y);_=_.redIAdd(_);var w=g.redAdd(g).redIAdd(g);var A=w.redSqr();var k=y.redIAdd(y);k=k.redIAdd(k);k=k.redIAdd(k);e=A.redISub(_).redISub(_);t=w.redMul(_.redISub(e)).redISub(k);i=this.y.redMul(this.z);i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};JPoint.prototype._threeDbl=function _threeDbl(){var e;var t;var i;if(this.zOne){var o=this.x.redSqr();var a=this.y.redSqr();var l=a.redSqr();var u=this.x.redAdd(a).redSqr().redISub(o).redISub(l);u=u.redIAdd(u);var d=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a);var p=d.redSqr().redISub(u).redISub(u);e=p;var m=l.redIAdd(l);m=m.redIAdd(m);m=m.redIAdd(m);t=d.redMul(u.redISub(p)).redISub(m);i=this.y.redAdd(this.y)}else{var g=this.z.redSqr();var v=this.y.redSqr();var y=this.x.redMul(v);var _=this.x.redSub(g).redMul(this.x.redAdd(g));_=_.redAdd(_).redIAdd(_);var w=y.redIAdd(y);w=w.redIAdd(w);var A=w.redAdd(w);e=_.redSqr().redISub(A);i=this.y.redAdd(this.z).redSqr().redISub(v).redISub(g);var k=v.redSqr();k=k.redIAdd(k);k=k.redIAdd(k);k=k.redIAdd(k);t=_.redMul(w.redISub(e)).redISub(k)}return this.curve.jpoint(e,t,i)};JPoint.prototype._dbl=function _dbl(){var e=this.curve.a;var t=this.x;var i=this.y;var o=this.z;var a=o.redSqr().redSqr();var l=t.redSqr();var u=i.redSqr();var d=l.redAdd(l).redIAdd(l).redIAdd(e.redMul(a));var p=t.redAdd(t);p=p.redIAdd(p);var m=p.redMul(u);var g=d.redSqr().redISub(m.redAdd(m));var v=m.redISub(g);var y=u.redSqr();y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var _=d.redMul(v).redISub(y);var w=i.redAdd(i).redMul(o);return this.curve.jpoint(g,_,w)};JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr();var t=this.y.redSqr();var i=this.z.redSqr();var o=t.redSqr();var a=e.redAdd(e).redIAdd(e);var l=a.redSqr();var u=this.x.redAdd(t).redSqr().redISub(e).redISub(o);u=u.redIAdd(u);u=u.redAdd(u).redIAdd(u);u=u.redISub(l);var d=u.redSqr();var p=o.redIAdd(o);p=p.redIAdd(p);p=p.redIAdd(p);p=p.redIAdd(p);var m=a.redIAdd(u).redSqr().redISub(l).redISub(d).redISub(p);var g=t.redMul(m);g=g.redIAdd(g);g=g.redIAdd(g);var v=this.x.redMul(d).redISub(g);v=v.redIAdd(v);v=v.redIAdd(v);var y=this.y.redMul(m.redMul(p.redISub(m)).redISub(u.redMul(d)));y=y.redIAdd(y);y=y.redIAdd(y);y=y.redIAdd(y);var _=this.z.redAdd(u).redSqr().redISub(i).redISub(d);return this.curve.jpoint(v,y,_)};JPoint.prototype.mul=function mul(e,t){e=new a(e,t);return this.curve._wnafMul(this,e)};JPoint.prototype.eq=function eq(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return true;var t=this.z.redSqr();var i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return false;var o=t.redMul(this.z);var a=i.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(o)).cmpn(0)===0};JPoint.prototype.eqXToP=function eqXToP(e){var t=this.z.redSqr();var i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return true;var o=e.clone();var a=this.curve.redN.redMul(t);for(;;){o.iadd(this.curve.n);if(o.cmp(this.curve.p)>=0)return false;i.redIAdd(a);if(this.x.cmp(i)===0)return true}};JPoint.prototype.inspect=function inspect(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function isInfinity(){return this.z.cmpn(0)===0}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curves.js":(e,t,i)=>{"use strict";var o=t;var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js");var l=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curve/index.js");var u=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var d=u.assert;function PresetCurve(e){if(e.type==="short")this.curve=new l.short(e);else if(e.type==="edwards")this.curve=new l.edwards(e);else this.curve=new l.mont(e);this.g=this.curve.g;this.n=this.curve.n;this.hash=e.hash;d(this.g.validate(),"Invalid curve");d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o.PresetCurve=PresetCurve;function defineCurve(e,t){Object.defineProperty(o,e,{configurable:true,enumerable:true,get:function(){var i=new PresetCurve(t);Object.defineProperty(o,e,{configurable:true,enumerable:true,value:i});return i}})}defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:false,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:false,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:false,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f "+"5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 "+"f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:false,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 "+"5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 "+"0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b "+"99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd "+"3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff "+"ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 "+"f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:false,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 "+"053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 "+"a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 "+"579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 "+"3fad0761 353c7086 a272c240 88be9476 9fd16650"]});defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:false,g:["9"]});defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:false,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var p;try{p=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js")}catch(e){p=undefined}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:false,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/ec/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/hmac-drbg@1.0.1/node_modules/hmac-drbg/lib/hmac-drbg.js");var l=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var u=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curves.js");var d=i("../../node_modules/.pnpm/brorand@1.1.0/node_modules/brorand/index.js");var p=l.assert;var m=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/ec/key.js");var g=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/ec/signature.js");function EC(e){if(!(this instanceof EC))return new EC(e);if(typeof e==="string"){p(Object.prototype.hasOwnProperty.call(u,e),"Unknown curve "+e);e=u[e]}if(e instanceof u.PresetCurve)e={curve:e};this.curve=e.curve.curve;this.n=this.curve.n;this.nh=this.n.ushrn(1);this.g=this.curve.g;this.g=e.curve.g;this.g.precompute(e.curve.n.bitLength()+1);this.hash=e.hash||e.curve.hash}e.exports=EC;EC.prototype.keyPair=function keyPair(e){return new m(this,e)};EC.prototype.keyFromPrivate=function keyFromPrivate(e,t){return m.fromPrivate(this,e,t)};EC.prototype.keyFromPublic=function keyFromPublic(e,t){return m.fromPublic(this,e,t)};EC.prototype.genKeyPair=function genKeyPair(e){if(!e)e={};var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||d(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});var i=this.n.byteLength();var l=this.n.sub(new o(2));for(;;){var u=new o(t.generate(i));if(u.cmp(l)>0)continue;u.iaddn(1);return this.keyFromPrivate(u)}};EC.prototype._truncateToN=function _truncateToN(e,t,i){var a;if(o.isBN(e)||typeof e==="number"){e=new o(e,16);a=e.byteLength()}else if(typeof e==="object"){a=e.length;e=new o(e,16)}else{var l=e.toString();a=l.length+1>>>1;e=new o(l,16)}if(typeof i!=="number"){i=a*8}var u=i-this.n.bitLength();if(u>0)e=e.ushrn(u);if(!t&&e.cmp(this.n)>=0)return e.sub(this.n);else return e};EC.prototype.sign=function sign(e,t,i,l){if(typeof i==="object"){l=i;i=null}if(!l)l={};if(typeof e!=="string"&&typeof e!=="number"&&!o.isBN(e)){p(typeof e==="object"&&e&&typeof e.length==="number","Expected message to be an array-like, a hex string, or a BN instance");p(e.length>>>0===e.length);for(var u=0;u<e.length;u++)p((e[u]&255)===e[u])}t=this.keyFromPrivate(t,i);e=this._truncateToN(e,false,l.msgBitLength);p(!e.isNeg(),"Can not sign a negative message");var d=this.n.byteLength();var m=t.getPrivate().toArray("be",d);var v=e.toArray("be",d);p(new o(v).eq(e),"Can not sign message");var y=new a({hash:this.hash,entropy:m,nonce:v,pers:l.pers,persEnc:l.persEnc||"utf8"});var _=this.n.sub(new o(1));for(var w=0;;w++){var A=l.k?l.k(w):new o(y.generate(this.n.byteLength()));A=this._truncateToN(A,true);if(A.cmpn(1)<=0||A.cmp(_)>=0)continue;var k=this.g.mul(A);if(k.isInfinity())continue;var T=k.getX();var x=T.umod(this.n);if(x.cmpn(0)===0)continue;var I=A.invm(this.n).mul(x.mul(t.getPrivate()).iadd(e));I=I.umod(this.n);if(I.cmpn(0)===0)continue;var N=(k.getY().isOdd()?1:0)|(T.cmp(x)!==0?2:0);if(l.canonical&&I.cmp(this.nh)>0){I=this.n.sub(I);N^=1}return new g({r:x,s:I,recoveryParam:N})}};EC.prototype.verify=function verify(e,t,i,o,a){if(!a)a={};e=this._truncateToN(e,false,a.msgBitLength);i=this.keyFromPublic(i,o);t=new g(t,"hex");var l=t.r;var u=t.s;if(l.cmpn(1)<0||l.cmp(this.n)>=0)return false;if(u.cmpn(1)<0||u.cmp(this.n)>=0)return false;var d=u.invm(this.n);var p=d.mul(e).umod(this.n);var m=d.mul(l).umod(this.n);var v;if(!this.curve._maxwellTrick){v=this.g.mulAdd(p,i.getPublic(),m);if(v.isInfinity())return false;return v.getX().umod(this.n).cmp(l)===0}v=this.g.jmulAdd(p,i.getPublic(),m);if(v.isInfinity())return false;return v.eqXToP(l)};EC.prototype.recoverPubKey=function(e,t,i,a){p((3&i)===i,"The recovery param is more than two bits");t=new g(t,a);var l=this.n;var u=new o(e);var d=t.r;var m=t.s;var v=i&1;var y=i>>1;if(d.cmp(this.curve.p.umod(this.curve.n))>=0&&y)throw new Error("Unable to find sencond key candinate");if(y)d=this.curve.pointFromX(d.add(this.curve.n),v);else d=this.curve.pointFromX(d,v);var _=t.r.invm(l);var w=l.sub(u).mul(_).umod(l);var A=m.mul(_).umod(l);return this.g.mulAdd(w,d,A)};EC.prototype.getKeyRecoveryParam=function(e,t,i,o){t=new g(t,o);if(t.recoveryParam!==null)return t.recoveryParam;for(var a=0;a<4;a++){var l;try{l=this.recoverPubKey(e,t,a)}catch(e){continue}if(l.eq(i))return a}throw new Error("Unable to find valid recovery factor")}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/ec/key.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var l=a.assert;function KeyPair(e,t){this.ec=e;this.priv=null;this.pub=null;if(t.priv)this._importPrivate(t.priv,t.privEnc);if(t.pub)this._importPublic(t.pub,t.pubEnc)}e.exports=KeyPair;KeyPair.fromPublic=function fromPublic(e,t,i){if(t instanceof KeyPair)return t;return new KeyPair(e,{pub:t,pubEnc:i})};KeyPair.fromPrivate=function fromPrivate(e,t,i){if(t instanceof KeyPair)return t;return new KeyPair(e,{priv:t,privEnc:i})};KeyPair.prototype.validate=function validate(){var e=this.getPublic();if(e.isInfinity())return{result:false,reason:"Invalid public key"};if(!e.validate())return{result:false,reason:"Public key is not a point"};if(!e.mul(this.ec.curve.n).isInfinity())return{result:false,reason:"Public key * N != O"};return{result:true,reason:null}};KeyPair.prototype.getPublic=function getPublic(e,t){if(typeof e==="string"){t=e;e=null}if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!t)return this.pub;return this.pub.encode(t,e)};KeyPair.prototype.getPrivate=function getPrivate(e){if(e==="hex")return this.priv.toString(16,2);else return this.priv};KeyPair.prototype._importPrivate=function _importPrivate(e,t){this.priv=new o(e,t||16);this.priv=this.priv.umod(this.ec.curve.n)};KeyPair.prototype._importPublic=function _importPublic(e,t){if(e.x||e.y){if(this.ec.curve.type==="mont"){l(e.x,"Need x coordinate")}else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards"){l(e.x&&e.y,"Need both x and y coordinate")}this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};KeyPair.prototype.derive=function derive(e){if(!e.validate()){l(e.validate(),"public point not validated")}return e.mul(this.priv).getX()};KeyPair.prototype.sign=function sign(e,t,i){return this.ec.sign(e,this,t,i)};KeyPair.prototype.verify=function verify(e,t,i){return this.ec.verify(e,t,this,undefined,i)};KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/ec/signature.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var l=a.assert;function Signature(e,t){if(e instanceof Signature)return e;if(this._importDER(e,t))return;l(e.r&&e.s,"Signature without r or s");this.r=new o(e.r,16);this.s=new o(e.s,16);if(e.recoveryParam===undefined)this.recoveryParam=null;else this.recoveryParam=e.recoveryParam}e.exports=Signature;function Position(){this.place=0}function getLength(e,t){var i=e[t.place++];if(!(i&128)){return i}var o=i&15;if(o===0||o>4){return false}if(e[t.place]===0){return false}var a=0;for(var l=0,u=t.place;l<o;l++,u++){a<<=8;a|=e[u];a>>>=0}if(a<=127){return false}t.place=u;return a}function rmPadding(e){var t=0;var i=e.length-1;while(!e[t]&&!(e[t+1]&128)&&t<i){t++}if(t===0){return e}return e.slice(t)}Signature.prototype._importDER=function _importDER(e,t){e=a.toArray(e,t);var i=new Position;if(e[i.place++]!==48){return false}var l=getLength(e,i);if(l===false){return false}if(l+i.place!==e.length){return false}if(e[i.place++]!==2){return false}var u=getLength(e,i);if(u===false){return false}if((e[i.place]&128)!==0){return false}var d=e.slice(i.place,u+i.place);i.place+=u;if(e[i.place++]!==2){return false}var p=getLength(e,i);if(p===false){return false}if(e.length!==p+i.place){return false}if((e[i.place]&128)!==0){return false}var m=e.slice(i.place,p+i.place);if(d[0]===0){if(d[1]&128){d=d.slice(1)}else{return false}}if(m[0]===0){if(m[1]&128){m=m.slice(1)}else{return false}}this.r=new o(d);this.s=new o(m);this.recoveryParam=null;return true};function constructLength(e,t){if(t<128){e.push(t);return}var i=1+(Math.log(t)/Math.LN2>>>3);e.push(i|128);while(--i){e.push(t>>>(i<<3)&255)}e.push(t)}Signature.prototype.toDER=function toDER(e){var t=this.r.toArray();var i=this.s.toArray();if(t[0]&128)t=[0].concat(t);if(i[0]&128)i=[0].concat(i);t=rmPadding(t);i=rmPadding(i);while(!i[0]&&!(i[1]&128)){i=i.slice(1)}var o=[2];constructLength(o,t.length);o=o.concat(t);o.push(2);constructLength(o,i.length);var l=o.concat(i);var u=[48];constructLength(u,l.length);u=u.concat(l);return a.encode(u,e)}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/eddsa/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js");var a=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/curves.js");var l=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var u=l.assert;var d=l.parseBytes;var p=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/eddsa/key.js");var m=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/eddsa/signature.js");function EDDSA(e){u(e==="ed25519","only tested with ed25519 so far");if(!(this instanceof EDDSA))return new EDDSA(e);e=a[e].curve;this.curve=e;this.g=e.g;this.g.precompute(e.n.bitLength()+1);this.pointClass=e.point().constructor;this.encodingLength=Math.ceil(e.n.bitLength()/8);this.hash=o.sha512}e.exports=EDDSA;EDDSA.prototype.sign=function sign(e,t){e=d(e);var i=this.keyFromSecret(t);var o=this.hashInt(i.messagePrefix(),e);var a=this.g.mul(o);var l=this.encodePoint(a);var u=this.hashInt(l,i.pubBytes(),e).mul(i.priv());var p=o.add(u).umod(this.curve.n);return this.makeSignature({R:a,S:p,Rencoded:l})};EDDSA.prototype.verify=function verify(e,t,i){e=d(e);t=this.makeSignature(t);if(t.S().gte(t.eddsa.curve.n)||t.S().isNeg()){return false}var o=this.keyFromPublic(i);var a=this.hashInt(t.Rencoded(),o.pubBytes(),e);var l=this.g.mul(t.S());var u=t.R().add(o.pub().mul(a));return u.eq(l)};EDDSA.prototype.hashInt=function hashInt(){var e=this.hash();for(var t=0;t<arguments.length;t++)e.update(arguments[t]);return l.intFromLE(e.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function keyFromPublic(e){return p.fromPublic(this,e)};EDDSA.prototype.keyFromSecret=function keyFromSecret(e){return p.fromSecret(this,e)};EDDSA.prototype.makeSignature=function makeSignature(e){if(e instanceof m)return e;return new m(this,e)};EDDSA.prototype.encodePoint=function encodePoint(e){var t=e.getY().toArray("le",this.encodingLength);t[this.encodingLength-1]|=e.getX().isOdd()?128:0;return t};EDDSA.prototype.decodePoint=function decodePoint(e){e=l.parseBytes(e);var t=e.length-1;var i=e.slice(0,t).concat(e[t]&~128);var o=(e[t]&128)!==0;var a=l.intFromLE(i);return this.curve.pointFromY(a,o)};EDDSA.prototype.encodeInt=function encodeInt(e){return e.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function decodeInt(e){return l.intFromLE(e)};EDDSA.prototype.isPoint=function isPoint(e){return e instanceof this.pointClass}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/eddsa/key.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var a=o.assert;var l=o.parseBytes;var u=o.cachedProperty;function KeyPair(e,t){this.eddsa=e;this._secret=l(t.secret);if(e.isPoint(t.pub))this._pub=t.pub;else this._pubBytes=l(t.pub)}KeyPair.fromPublic=function fromPublic(e,t){if(t instanceof KeyPair)return t;return new KeyPair(e,{pub:t})};KeyPair.fromSecret=function fromSecret(e,t){if(t instanceof KeyPair)return t;return new KeyPair(e,{secret:t})};KeyPair.prototype.secret=function secret(){return this._secret};u(KeyPair,"pubBytes",function pubBytes(){return this.eddsa.encodePoint(this.pub())});u(KeyPair,"pub",function pub(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())});u(KeyPair,"privBytes",function privBytes(){var e=this.eddsa;var t=this.hash();var i=e.encodingLength-1;var o=t.slice(0,e.encodingLength);o[0]&=248;o[i]&=127;o[i]|=64;return o});u(KeyPair,"priv",function priv(){return this.eddsa.decodeInt(this.privBytes())});u(KeyPair,"hash",function hash(){return this.eddsa.hash().update(this.secret()).digest()});u(KeyPair,"messagePrefix",function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair.prototype.sign=function sign(e){a(this._secret,"KeyPair can only verify");return this.eddsa.sign(e,this)};KeyPair.prototype.verify=function verify(e,t){return this.eddsa.verify(e,t,this)};KeyPair.prototype.getSecret=function getSecret(e){a(this._secret,"KeyPair is public only");return o.encode(this.secret(),e)};KeyPair.prototype.getPublic=function getPublic(e){return o.encode(this.pubBytes(),e)};e.exports=KeyPair},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/eddsa/signature.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js");var l=a.assert;var u=a.cachedProperty;var d=a.parseBytes;function Signature(e,t){this.eddsa=e;if(typeof t!=="object")t=d(t);if(Array.isArray(t)){l(t.length===e.encodingLength*2,"Signature has invalid size");t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}}l(t.R&&t.S,"Signature without R or S");if(e.isPoint(t.R))this._R=t.R;if(t.S instanceof o)this._S=t.S;this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded;this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}u(Signature,"S",function S(){return this.eddsa.decodeInt(this.Sencoded())});u(Signature,"R",function R(){return this.eddsa.decodePoint(this.Rencoded())});u(Signature,"Rencoded",function Rencoded(){return this.eddsa.encodePoint(this.R())});u(Signature,"Sencoded",function Sencoded(){return this.eddsa.encodeInt(this.S())});Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())};Signature.prototype.toHex=function toHex(){return a.encode(this.toBytes(),"hex").toUpperCase()};e.exports=Signature},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js":e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/lib/elliptic/utils.js":(e,t,i)=>{"use strict";var o=t;var a=i("../../node_modules/.pnpm/bn.js@4.12.2/node_modules/bn.js/lib/bn.js");var l=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var u=i("../../node_modules/.pnpm/minimalistic-crypto-utils@1.0.1/node_modules/minimalistic-crypto-utils/lib/utils.js");o.assert=l;o.toArray=u.toArray;o.zero2=u.zero2;o.toHex=u.toHex;o.encode=u.encode;function getNAF(e,t,i){var o=new Array(Math.max(e.bitLength(),i)+1);var a;for(a=0;a<o.length;a+=1){o[a]=0}var l=1<<t+1;var u=e.clone();for(a=0;a<o.length;a++){var d;var p=u.andln(l-1);if(u.isOdd()){if(p>(l>>1)-1)d=(l>>1)-p;else d=p;u.isubn(d)}else{d=0}o[a]=d;u.iushrn(1)}return o}o.getNAF=getNAF;function getJSF(e,t){var i=[[],[]];e=e.clone();t=t.clone();var o=0;var a=0;var l;while(e.cmpn(-o)>0||t.cmpn(-a)>0){var u=e.andln(3)+o&3;var d=t.andln(3)+a&3;if(u===3)u=-1;if(d===3)d=-1;var p;if((u&1)===0){p=0}else{l=e.andln(7)+o&7;if((l===3||l===5)&&d===2)p=-u;else p=u}i[0].push(p);var m;if((d&1)===0){m=0}else{l=t.andln(7)+a&7;if((l===3||l===5)&&u===2)m=-d;else m=d}i[1].push(m);if(2*o===p+1)o=1-o;if(2*a===m+1)a=1-a;e.iushrn(1);t.iushrn(1)}return i}o.getJSF=getJSF;function cachedProperty(e,t,i){var o="_"+t;e.prototype[t]=function cachedProperty(){return this[o]!==undefined?this[o]:this[o]=i.call(this)}}o.cachedProperty=cachedProperty;function parseBytes(e){return typeof e==="string"?o.toArray(e,"hex"):e}o.parseBytes=parseBytes;function intFromLE(e){return new a(e,"hex","le")}o.intFromLE=intFromLE},"../../node_modules/.pnpm/elliptic@6.6.1/node_modules/elliptic/package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"elliptic","version":"6.6.1","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},"../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/false.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});const o=false},"../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BROWSER:()=>o["default"],DEV:()=>o["default"],NODE:()=>a["default"]});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/true.js");var a=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/false.js")},"../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/true.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});const o=true},"../../node_modules/.pnpm/ethereum-blockies-base64@1.0.2/node_modules/ethereum-blockies-base64/dist/main.js":function(e){(function webpackUniversalModuleDefinition(t,i){if(true)e.exports=i();else{}})(this,function(){return function(e){var t={};function __nested_webpack_require_563__(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:false};e[i].call(o.exports,o,o.exports,__nested_webpack_require_563__);o.loaded=true;return o.exports}__nested_webpack_require_563__.m=e;__nested_webpack_require_563__.c=t;__nested_webpack_require_563__.p="";return __nested_webpack_require_563__(0)}([function(e,t,i){const o=i(1);const a=i(2);const l=new Array(4);function seedrand(e){for(let e=0;e<l.length;e++){l[e]=0}for(let t=0;t<e.length;t++){l[t%4]=(l[t%4]<<5)-l[t%4]+e.charCodeAt(t)}}function rand(){const e=l[0]^l[0]<<11;l[0]=l[1];l[1]=l[2];l[2]=l[3];l[3]=l[3]^l[3]>>19^e^e>>8;return(l[3]>>>0)/(1<<31>>>0)}function createColor(){const e=Math.floor(rand()*360);const t=rand()*60+40;const i=(rand()+rand()+rand()+rand())*25;return[e/360,t/100,i/100]}function createImageData(e){const t=e;const i=e;const o=Math.ceil(t/2);const a=t-o;const l=[];for(let e=0;e<i;e++){let e=[];for(let t=0;t<o;t++){e[t]=Math.floor(rand()*2.3)}const t=e.slice(0,a).reverse();e=e.concat(t);for(let t=0;t<e.length;t++){l.push(e[t])}}return l}function fillRect(e,t,i,o,a,l){for(let u=0;u<o;u++){for(let o=0;o<a;o++){e.buffer[e.index(t+u,i+o)]=l}}}function buildOpts(e){if(!e.seed){throw new Error("No seed provided")}seedrand(e.seed);return Object.assign({size:8,scale:16,color:createColor(),bgcolor:createColor(),spotcolor:createColor()},e)}function makeBlockie(e){const t=buildOpts({seed:e.toLowerCase()});const i=createImageData(t.size);const l=Math.sqrt(i.length);const u=new o(t.size*t.scale,t.size*t.scale,3);const d=u.color(...a(...t.bgcolor));const p=u.color(...a(...t.color));const m=u.color(...a(...t.spotcolor));for(let e=0;e<i.length;e++){const o=Math.floor(e/l);const a=e%l;if(i[e]){const l=i[e]==1?p:m;fillRect(u,a*t.scale,o*t.scale,t.scale,t.scale,l)}}return`data:image/png;base64,${u.getBase64()}`}e.exports=makeBlockie},function(e,t){e.exports=function(e,t,i){function write(e,t){for(var i=2;i<arguments.length;i++){for(var o=0;o<arguments[i].length;o++){e[t++]=arguments[i].charAt(o)}}}function byte2(e){return String.fromCharCode(e>>8&255,e&255)}function byte4(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function byte2lsb(e){return String.fromCharCode(e&255,e>>8&255)}this.width=e;this.height=t;this.depth=i;this.pix_size=t*(e+1);this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4;this.ihdr_offs=0;this.ihdr_size=4+4+13+4;this.plte_offs=this.ihdr_offs+this.ihdr_size;this.plte_size=4+4+3*i+4;this.trns_offs=this.plte_offs+this.plte_size;this.trns_size=4+4+i+4;this.idat_offs=this.trns_offs+this.trns_size;this.idat_size=4+4+this.data_size+4;this.iend_offs=this.idat_offs+this.idat_size;this.iend_size=4+4+4;this.buffer_size=this.iend_offs+this.iend_size;this.buffer=new Array;this.palette=new Object;this.pindex=0;var o=new Array;for(var a=0;a<this.buffer_size;a++){this.buffer[a]="\0"}write(this.buffer,this.ihdr_offs,byte4(this.ihdr_size-12),"IHDR",byte4(e),byte4(t),"\b");write(this.buffer,this.plte_offs,byte4(this.plte_size-12),"PLTE");write(this.buffer,this.trns_offs,byte4(this.trns_size-12),"tRNS");write(this.buffer,this.idat_offs,byte4(this.idat_size-12),"IDAT");write(this.buffer,this.iend_offs,byte4(this.iend_size-12),"IEND");var l=8+(7<<4)<<8|3<<6;l+=31-l%31;write(this.buffer,this.idat_offs+8,byte2(l));for(var a=0;(a<<16)-1<this.pix_size;a++){var u,d;if(a+65535<this.pix_size){u=65535;d="\0"}else{u=this.pix_size-(a<<16)-a;d=""}write(this.buffer,this.idat_offs+8+2+(a<<16)+(a<<2),d,byte2lsb(u),byte2lsb(~u))}for(var a=0;a<256;a++){var p=a;for(var m=0;m<8;m++){if(p&1){p=-306674912^p>>1&2147483647}else{p=p>>1&2147483647}}o[a]=p}this.index=function(e,t){var i=t*(this.width+1)+e+1;var o=this.idat_offs+8+2+5*Math.floor(i/65535+1)+i;return o};this.color=function(e,t,i,o){o=o>=0?o:255;var a=((o<<8|e)<<8|t)<<8|i;if(typeof this.palette[a]=="undefined"){if(this.pindex==this.depth)return"\0";var l=this.plte_offs+8+3*this.pindex;this.buffer[l+0]=String.fromCharCode(e);this.buffer[l+1]=String.fromCharCode(t);this.buffer[l+2]=String.fromCharCode(i);this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(o);this.palette[a]=String.fromCharCode(this.pindex++)}return this.palette[a]};this.getBase64=function(){var e=this.getDump();var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var i,o,a,l,u,d,p;var m=e.length;var g=0;var v="";do{i=e.charCodeAt(g);l=i>>2;o=e.charCodeAt(g+1);u=(i&3)<<4|o>>4;a=e.charCodeAt(g+2);if(m<g+2){d=64}else{d=(o&15)<<2|a>>6}if(m<g+3){p=64}else{p=a&63}v+=t.charAt(l)+t.charAt(u)+t.charAt(d)+t.charAt(p)}while((g+=3)<m);return v};this.getDump=function(){var e=65521;var t=5552;var i=1;var a=0;var l=t;for(var u=0;u<this.height;u++){for(var d=-1;d<this.width;d++){i+=this.buffer[this.index(d,u)].charCodeAt(0);a+=i;if((l-=1)==0){i%=e;a%=e;l=t}}}i%=e;a%=e;write(this.buffer,this.idat_offs+this.idat_size-8,byte4(a<<16|i));function crc32(e,t,i){var a=-1;for(var l=4;l<i-4;l+=1){a=o[(a^e[t+l].charCodeAt(0))&255]^a>>8&16777215}write(e,t+i-4,byte4(a^-1))}crc32(this.buffer,this.ihdr_offs,this.ihdr_size);crc32(this.buffer,this.plte_offs,this.plte_size);crc32(this.buffer,this.trns_offs,this.trns_size);crc32(this.buffer,this.idat_offs,this.idat_size);crc32(this.buffer,this.iend_offs,this.iend_size);return"PNG\r\n\n"+this.buffer.join("")}}},function(e,t){function hue2rgb(e,t,i){if(i<0)i+=1;if(i>1)i-=1;if(i<1/6)return e+(t-e)*6*i;if(i<1/2)return t;if(i<2/3)return e+(t-e)*(2/3-i)*6;return e}function hsl2rgb(e,t,i){let o,a,l;if(t==0){o=a=l=i}else{const u=i<.5?i*(1+t):i+t-i*t;const d=2*i-u;o=hue2rgb(d,u,e+1/3);a=hue2rgb(d,u,e);l=hue2rgb(d,u,e-1/3)}return[Math.round(o*255),Math.round(a*255),Math.round(l*255),255]}e.exports=hsl2rgb}])})},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/_version.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{version:()=>o});const o="6.14.4"},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/abi-coder.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbiCoder:()=>AbiCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/address.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/array.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/boolean.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/bytes.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/fixed-bytes.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/null.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/number.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/string.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/tuple.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/fragments.js");var A=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var k=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");const T=new Map;T.set(0,"GENERIC_PANIC");T.set(1,"ASSERT_FALSE");T.set(17,"OVERFLOW");T.set(18,"DIVIDE_BY_ZERO");T.set(33,"ENUM_RANGE_ERROR");T.set(34,"BAD_STORAGE_DATA");T.set(49,"STACK_UNDERFLOW");T.set(50,"ARRAY_RANGE_ERROR");T.set(65,"OUT_OF_MEMORY");T.set(81,"UNINITIALIZED_FUNCTION_CALL");const x=new RegExp(/^bytes([0-9]*)$/);const I=new RegExp(/^(u?int)([0-9]*)$/);let N=null;let P=1024;function getBuiltinCallException(e,t,i,a){let l="missing revert data";let u=null;const d=null;let p=null;if(i){l="execution reverted";const e=(0,k.getBytes)(i);i=(0,k.hexlify)(i);if(e.length===0){l+=" (no data present; likely require(false) occurred";u="require(false)"}else if(e.length%32!==4){l+=" (could not decode reason; invalid data length)"}else if((0,k.hexlify)(e.slice(0,4))==="0x08c379a0"){try{u=a.decode(["string"],e.slice(4))[0];p={signature:"Error(string)",name:"Error",args:[u]};l+=`: ${JSON.stringify(u)}`}catch(e){l+=" (could not decode reason; invalid string data)"}}else if((0,k.hexlify)(e.slice(0,4))==="0x4e487b71"){try{const t=Number(a.decode(["uint256"],e.slice(4))[0]);p={signature:"Panic(uint256)",name:"Panic",args:[t]};u=`Panic due to ${T.get(t)||"UNKNOWN"}(${t})`;l+=`: ${u}`}catch(e){l+=" (could not decode panic code)"}}else{l+=" (unknown custom error)"}}const m={to:t.to?(0,A.getAddress)(t.to):null,data:t.data||"0x"};if(t.from){m.from=(0,A.getAddress)(t.from)}return(0,o.makeError)(l,"CALL_EXCEPTION",{action:e,data:i,reason:u,transaction:m,invocation:d,revert:p})}class AbiCoder{#e(e){if(e.isArray()){return new u.ArrayCoder(this.#e(e.arrayChildren),e.arrayLength,e.name)}if(e.isTuple()){return new _.TupleCoder(e.components.map(e=>this.#e(e)),e.name)}switch(e.baseType){case"address":return new l.AddressCoder(e.name);case"bool":return new d.BooleanCoder(e.name);case"string":return new y.StringCoder(e.name);case"bytes":return new p.BytesCoder(e.name);case"":return new g.NullCoder(e.name)}let t=e.type.match(I);if(t){let i=parseInt(t[2]||"256");(0,o.assertArgument)(i!==0&&i<=256&&i%8===0,"invalid "+t[1]+" bit length","param",e);return new v.NumberCoder(i/8,t[1]==="int",e.name)}t=e.type.match(x);if(t){let i=parseInt(t[1]);(0,o.assertArgument)(i!==0&&i<=32,"invalid bytes length","param",e);return new m.FixedBytesCoder(i,e.name)}(0,o.assertArgument)(false,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(e=>this.#e(w.ParamType.from(e)));const i=new _.TupleCoder(t,"_");return i.defaultValue()}encode(e,t){(0,o.assertArgumentCount)(t.length,e.length,"types/values length mismatch");const i=e.map(e=>this.#e(w.ParamType.from(e)));const l=new _.TupleCoder(i,"_");const u=new a.Writer;l.encode(u,t);return u.data}decode(e,t,i){const o=e.map(e=>this.#e(w.ParamType.from(e)));const l=new _.TupleCoder(o,"_");return l.decode(new a.Reader(t,i,P))}static _setDefaultMaxInflation(e){(0,o.assertArgument)(typeof e==="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e);P=e}static defaultAbiCoder(){if(N==null){N=new AbiCoder}return N}static getBuiltinCallException(e,t,i){return getBuiltinCallException(e,t,i,AbiCoder.defaultAbiCoder())}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Coder:()=>Coder,Reader:()=>Reader,Result:()=>Result,WordSize:()=>d,Writer:()=>Writer,checkResultErrors:()=>checkResultErrors});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");const d=32;const p=new Uint8Array(d);const m=["then"];const g={};const v=new WeakMap;function getNames(e){return v.get(e)}function setNames(e,t){v.set(e,t)}function throwError(e,t){const i=new Error(`deferred error during ABI decoding triggered accessing ${e}`);i.error=t;throw i}function toObject(e,t,i){if(e.indexOf(null)>=0){return t.map((e,t)=>{if(e instanceof Result){return toObject(getNames(e),e,i)}return e})}return e.reduce((e,o,a)=>{let l=t.getValue(o);if(!(o in e)){if(i&&l instanceof Result){l=toObject(getNames(l),l,i)}e[o]=l}return e},{})}class Result extends Array{#t;constructor(...e){const t=e[0];let i=e[1];let a=(e[2]||[]).slice();let l=true;if(t!==g){i=e;a=[];l=false}super(i.length);i.forEach((e,t)=>{this[t]=e});const u=a.reduce((e,t)=>{if(typeof t==="string"){e.set(t,(e.get(t)||0)+1)}return e},new Map);setNames(this,Object.freeze(i.map((e,t)=>{const i=a[t];if(i!=null&&u.get(i)===1){return i}return null})));this.#t=[];if(this.#t==null){void this.#t}if(!l){return}Object.freeze(this);const d=new Proxy(this,{get:(e,t,i)=>{if(typeof t==="string"){if(t.match(/^[0-9]+$/)){const i=(0,o.getNumber)(t,"%index");if(i<0||i>=this.length){throw new RangeError("out of result range")}const a=e[i];if(a instanceof Error){throwError(`index ${i}`,a)}return a}if(m.indexOf(t)>=0){return Reflect.get(e,t,i)}const a=e[t];if(a instanceof Function){return function(...t){return a.apply(this===i?e:this,t)}}else if(!(t in e)){return e.getValue.apply(this===i?e:this,[t])}}return Reflect.get(e,t,i)}});setNames(d,getNames(this));return d}toArray(e){const t=[];this.forEach((i,o)=>{if(i instanceof Error){throwError(`index ${o}`,i)}if(e&&i instanceof Result){i=i.toArray(e)}t.push(i)});return t}toObject(e){const t=getNames(this);return t.reduce((i,o,l)=>{(0,a.assert)(o!=null,`value at index ${l} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"});return toObject(t,this,e)},{})}slice(e,t){if(e==null){e=0}if(e<0){e+=this.length;if(e<0){e=0}}if(t==null){t=this.length}if(t<0){t+=this.length;if(t<0){t=0}}if(t>this.length){t=this.length}const i=getNames(this);const o=[],a=[];for(let l=e;l<t;l++){o.push(this[l]);a.push(i[l])}return new Result(g,o,a)}filter(e,t){const i=getNames(this);const o=[],a=[];for(let l=0;l<this.length;l++){const u=this[l];if(u instanceof Error){throwError(`index ${l}`,u)}if(e.call(t,u,l,this)){o.push(u);a.push(i[l])}}return new Result(g,o,a)}map(e,t){const i=[];for(let o=0;o<this.length;o++){const a=this[o];if(a instanceof Error){throwError(`index ${o}`,a)}i.push(e.call(t,a,o,this))}return i}getValue(e){const t=getNames(this).indexOf(e);if(t===-1){return undefined}const i=this[t];if(i instanceof Error){throwError(`property ${JSON.stringify(e)}`,i.error)}return i}static fromItems(e,t){return new Result(g,e,t)}}function checkResultErrors(e){const t=[];const checkErrors=function(e,i){if(!Array.isArray(i)){return}for(let o in i){const a=e.slice();a.push(o);try{checkErrors(a,i[o])}catch(e){t.push({path:a,error:e})}}};checkErrors([],e);return t}function getValue(e){let t=(0,o.toBeArray)(e);(0,a.assert)(t.length<=d,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:d,offset:t.length});if(t.length!==d){t=(0,l.getBytesCopy)((0,l.concat)([p.slice(t.length%d),t]))}return t}class Coder{name;type;localName;dynamic;constructor(e,t,i,o){(0,u.defineProperties)(this,{name:e,type:t,localName:i,dynamic:o},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,a.assertArgument)(false,e,this.localName,t)}}class Writer{#r;#n;constructor(){this.#r=[];this.#n=0}get data(){return(0,l.concat)(this.#r)}get length(){return this.#n}#s(e){this.#r.push(e);this.#n+=e.length;return e.length}appendWriter(e){return this.#s((0,l.getBytesCopy)(e.data))}writeBytes(e){let t=(0,l.getBytesCopy)(e);const i=t.length%d;if(i){t=(0,l.getBytesCopy)((0,l.concat)([t,p.slice(i)]))}return this.#s(t)}writeValue(e){return this.#s(getValue(e))}writeUpdatableValue(){const e=this.#r.length;this.#r.push(p);this.#n+=d;return t=>{this.#r[e]=getValue(t)}}}class Reader{allowLoose;#r;#i;#o;#a;#l;constructor(e,t,i){(0,u.defineProperties)(this,{allowLoose:!!t});this.#r=(0,l.getBytesCopy)(e);this.#o=0;this.#a=null;this.#l=i!=null?i:1024;this.#i=0}get data(){return(0,l.hexlify)(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#r)}#c(e){if(this.#a){return this.#a.#c(e)}this.#o+=e;(0,a.assert)(this.#l<1||this.#o<=this.#l*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#l} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,l.getBytesCopy)(this.#r),offset:this.#i,length:e,info:{bytesRead:this.#o,dataLength:this.dataLength}})}#u(e,t,i){let o=Math.ceil(t/d)*d;if(this.#i+o>this.#r.length){if(this.allowLoose&&i&&this.#i+t<=this.#r.length){o=t}else{(0,a.assert)(false,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,l.getBytesCopy)(this.#r),length:this.#r.length,offset:this.#i+o})}}return this.#r.slice(this.#i,this.#i+o)}subReader(e){const t=new Reader(this.#r.slice(this.#i+e),this.allowLoose,this.#l);t.#a=this;return t}readBytes(e,t){let i=this.#u(0,e,!!t);this.#c(e);this.#i+=i.length;return i.slice(0,e)}readValue(){return(0,o.toBigInt)(this.readBytes(d))}readIndex(){return(0,o.toNumber)(this.readBytes(d))}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/address.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AddressCoder:()=>AddressCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");class AddressCoder extends u.Coder{constructor(e){super("address","address",e,false)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let i=l.Typed.dereference(t,"string");try{i=(0,o.getAddress)(i)}catch(e){return this._throwError(e.message,t)}return e.writeValue(i)}decode(e){return(0,o.getAddress)((0,a.toBeHex)(e.readValue(),20))}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/anonymous.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AnonymousCoder:()=>AnonymousCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");class AnonymousCoder extends o.Coder{coder;constructor(e){super(e.name,e.type,"_",e.dynamic);this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/array.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ArrayCoder:()=>ArrayCoder,pack:()=>pack,unpack:()=>unpack});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/anonymous.js");function pack(e,t,i){let a=[];if(Array.isArray(i)){a=i}else if(i&&typeof i==="object"){let e={};a=t.map(t=>{const a=t.localName;(0,o.assert)(a,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:i});(0,o.assert)(!e[a],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:i});e[a]=true;return i[a]})}else{(0,o.assertArgument)(false,"invalid tuple value","tuple",i)}(0,o.assertArgument)(t.length===a.length,"types/value length mismatch","tuple",i);let l=new u.Writer;let d=new u.Writer;let p=[];t.forEach((e,t)=>{let i=a[t];if(e.dynamic){let t=d.length;e.encode(d,i);let o=l.writeUpdatableValue();p.push(e=>{o(e+t)})}else{e.encode(l,i)}});p.forEach(e=>{e(l.length)});let m=e.appendWriter(l);m+=e.appendWriter(d);return m}function unpack(e,t){let i=[];let a=[];let l=e.subReader(0);t.forEach(t=>{let u=null;if(t.dynamic){let i=e.readIndex();let a=l.subReader(i);try{u=t.decode(a)}catch(e){if((0,o.isError)(e,"BUFFER_OVERRUN")){throw e}u=e;u.baseType=t.name;u.name=t.localName;u.type=t.type}}else{try{u=t.decode(e)}catch(e){if((0,o.isError)(e,"BUFFER_OVERRUN")){throw e}u=e;u.baseType=t.name;u.name=t.localName;u.type=t.type}}if(u==undefined){throw new Error("investigate")}i.push(u);a.push(t.localName||null)});return u.Result.fromItems(i,a)}class ArrayCoder extends u.Coder{coder;length;constructor(e,t,i){const o=e.type+"["+(t>=0?t:"")+"]";const l=t===-1||e.dynamic;super("array",o,i,l);(0,a.defineProperties)(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue();const t=[];for(let i=0;i<this.length;i++){t.push(e)}return t}encode(e,t){const i=l.Typed.dereference(t,"array");if(!Array.isArray(i)){this._throwError("expected array value",i)}let a=this.length;if(a===-1){a=i.length;e.writeValue(i.length)}(0,o.assertArgumentCount)(i.length,a,"coder array"+(this.localName?" "+this.localName:""));let u=[];for(let e=0;e<i.length;e++){u.push(this.coder)}return pack(e,u,i)}decode(e){let t=this.length;if(t===-1){t=e.readIndex();(0,o.assert)(t*u.WordSize<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*u.WordSize,length:e.dataLength})}let i=[];for(let e=0;e<t;e++){i.push(new d.AnonymousCoder(this.coder))}return unpack(e,i)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/boolean.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BooleanCoder:()=>BooleanCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");class BooleanCoder extends a.Coder{constructor(e){super("bool","bool",e,false)}defaultValue(){return false}encode(e,t){const i=o.Typed.dereference(t,"bool");return e.writeValue(i?1:0)}decode(e){return!!e.readValue()}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/bytes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BytesCoder:()=>BytesCoder,DynamicBytesCoder:()=>DynamicBytesCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");class DynamicBytesCoder extends a.Coder{constructor(e,t){super(e,e,t,true)}defaultValue(){return"0x"}encode(e,t){t=(0,o.getBytesCopy)(t);let i=e.writeValue(t.length);i+=e.writeBytes(t);return i}decode(e){return e.readBytes(e.readIndex(),true)}}class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return(0,o.hexlify)(super.decode(e))}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/fixed-bytes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{FixedBytesCoder:()=>FixedBytesCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");class FixedBytesCoder extends u.Coder{size;constructor(e,t){let i="bytes"+String(e);super(i,i,t,false);(0,o.defineProperties)(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=(0,a.getBytesCopy)(l.Typed.dereference(t,this.type));if(i.length!==this.size){this._throwError("incorrect data length",t)}return e.writeBytes(i)}decode(e){return(0,a.hexlify)(e.readBytes(this.size))}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/null.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{NullCoder:()=>NullCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");const a=new Uint8Array([]);class NullCoder extends o.Coder{constructor(e){super("null","",e,false)}defaultValue(){return null}encode(e,t){if(t!=null){this._throwError("not null",t)}return e.writeBytes(a)}decode(e){e.readBytes(0);return null}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/number.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{NumberCoder:()=>NumberCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");const d=BigInt(0);const p=BigInt(1);const m=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends u.Coder{size;signed;constructor(e,t,i){const a=(t?"int":"uint")+e*8;super(a,a,i,false);(0,o.defineProperties)(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let i=(0,a.getBigInt)(l.Typed.dereference(t,this.type));let o=(0,a.mask)(m,u.WordSize*8);if(this.signed){let e=(0,a.mask)(o,this.size*8-1);if(i>e||i<-(e+p)){this._throwError("value out-of-bounds",t)}i=(0,a.toTwos)(i,8*u.WordSize)}else if(i<d||i>(0,a.mask)(o,this.size*8)){this._throwError("value out-of-bounds",t)}return e.writeValue(i)}decode(e){let t=(0,a.mask)(e.readValue(),this.size*8);if(this.signed){t=(0,a.fromTwos)(t,this.size*8)}return t}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/string.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{StringCoder:()=>StringCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/bytes.js");class StringCoder extends l.DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,o.toUtf8Bytes)(a.Typed.dereference(t,"string")))}decode(e){return(0,o.toUtf8String)(super.decode(e))}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/tuple.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TupleCoder:()=>TupleCoder});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/array.js");class TupleCoder extends l.Coder{coders;constructor(e,t){let i=false;const a=[];e.forEach(e=>{if(e.dynamic){i=true}a.push(e.type)});const l="tuple("+a.join(",")+")";super("tuple",l,t,i);(0,o.defineProperties)(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const i=t.localName;if(i){if(!e[i]){e[i]=0}e[i]++}return e},{});this.coders.forEach((i,o)=>{let a=i.localName;if(!a||t[a]!==1){return}if(a==="length"){a="_length"}if(e[a]!=null){return}e[a]=e[o]});return Object.freeze(e)}encode(e,t){const i=a.Typed.dereference(t,"tuple");return(0,u.pack)(e,this.coders,i)}decode(e){return(0,u.unpack)(e,this.coders)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/fragments.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ConstructorFragment:()=>ConstructorFragment,ErrorFragment:()=>ErrorFragment,EventFragment:()=>EventFragment,FallbackFragment:()=>FallbackFragment,Fragment:()=>Fragment,FunctionFragment:()=>FunctionFragment,NamedFragment:()=>NamedFragment,ParamType:()=>ParamType,StructFragment:()=>StructFragment});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/id.js");function setify(e){const t=new Set;e.forEach(e=>t.add(e));return Object.freeze(t)}const d="external public payable override";const p=setify(d.split(" "));const m="constant external internal payable private public pure view override";const g=setify(m.split(" "));const v="constructor error event fallback function receive struct";const y=setify(v.split(" "));const _="calldata memory storage payable indexed";const w=setify(_.split(" "));const A="tuple returns";const k=[v,_,A,m].join(" ");const T=setify(k.split(" "));const x={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"};const I=new RegExp("^(\\s*)");const N=new RegExp("^([0-9]+)");const P=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)");const C=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$");const M=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class TokenString{#i;#d;get offset(){return this.#i}get length(){return this.#d.length-this.#i}constructor(e){this.#i=0;this.#d=e.slice()}clone(){return new TokenString(this.#d)}reset(){this.#i=0}#f(e=0,t=0){return new TokenString(this.#d.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text)){throw new Error(`expected keyword ${t.text}`)}return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN"){throw new Error("bad start")}const t=this.#f(this.#i+1,e.match+1);this.#i=e.match+1;return t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN"){throw new Error("bad start")}const t=[];while(this.#i<e.match-1){const e=this.peek().linkNext;t.push(this.#f(this.#i+1,e));this.#i=e}this.#i=e.match+1;return t}peek(){if(this.#i>=this.#d.length){throw new Error("out-of-bounds")}return this.#d[this.#i]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0){return null}const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();this.#i++;return e}toString(){const e=[];for(let t=this.#i;t<this.#d.length;t++){const i=this.#d[t];e.push(`${i.type}:${i.text}`)}return`<TokenString ${e.join(" ")}>`}}function lex(e){const t=[];const throwError=t=>{const i=l<e.length?JSON.stringify(e[l]):"$EOI";throw new Error(`invalid token ${i} at ${l}: ${t}`)};let i=[];let a=[];let l=0;while(l<e.length){let u=e.substring(l);let d=u.match(I);if(d){l+=d[1].length;u=e.substring(l)}const p={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:l,value:-1};t.push(p);let m=x[u[0]]||"";if(m){p.type=m;p.text=u[0];l++;if(m==="OPEN_PAREN"){i.push(t.length-1);a.push(t.length-1)}else if(m=="CLOSE_PAREN"){if(i.length===0){throwError("no matching open bracket")}p.match=i.pop();t[p.match].match=t.length-1;p.depth--;p.linkBack=a.pop();t[p.linkBack].linkNext=t.length-1}else if(m==="COMMA"){p.linkBack=a.pop();t[p.linkBack].linkNext=t.length-1;a.push(t.length-1)}else if(m==="OPEN_BRACKET"){p.type="BRACKET"}else if(m==="CLOSE_BRACKET"){let e=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const i=t.pop().text;e=i+e;t[t.length-1].value=(0,o.getNumber)(i)}if(t.length===0||t[t.length-1].type!=="BRACKET"){throw new Error("missing opening bracket")}t[t.length-1].text+=e}continue}d=u.match(P);if(d){p.text=d[1];l+=p.text.length;if(T.has(p.text)){p.type="KEYWORD";continue}if(p.text.match(M)){p.type="TYPE";continue}p.type="ID";continue}d=u.match(N);if(d){p.text=d[1];p.type="NUMBER";l+=p.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(u[0])} at position ${l}`)}return new TokenString(t.map(e=>Object.freeze(e)))}function allowSingle(e,t){let i=[];for(const o in t.keys()){if(e.has(o)){i.push(o)}}if(i.length>1){throw new Error(`conflicting types: ${i.join(", ")}`)}}function consumeName(e,t){if(t.peekKeyword(y)){const i=t.pop().text;if(i!==e){throw new Error(`expected ${e}, got ${i}`)}}return t.popType("ID")}function consumeKeywords(e,t){const i=new Set;while(true){const o=e.peekType("KEYWORD");if(o==null||t&&!t.has(o)){break}e.pop();if(i.has(o)){throw new Error(`duplicate keywords: ${JSON.stringify(o)}`)}i.add(o)}return Object.freeze(i)}function consumeMutability(e){let t=consumeKeywords(e,g);allowSingle(t,setify("constant payable nonpayable".split(" ")));allowSingle(t,setify("pure view payable nonpayable".split(" ")));if(t.has("view")){return"view"}if(t.has("pure")){return"pure"}if(t.has("payable")){return"payable"}if(t.has("nonpayable")){return"nonpayable"}if(t.has("constant")){return"view"}return"nonpayable"}function consumeParams(e,t){return e.popParams().map(e=>ParamType.from(e,t))}function consumeGas(e){if(e.peekType("AT")){e.pop();if(e.peekType("NUMBER")){return(0,o.getBigInt)(e.pop().text)}throw new Error("invalid gas")}return null}function consumeEoi(e){if(e.length){throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}}const B=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(e){const t=e.match(M);(0,a.assertArgument)(t,"invalid type","type",e);if(e==="uint"){return"uint256"}if(e==="int"){return"int256"}if(t[2]){const i=parseInt(t[2]);(0,a.assertArgument)(i!==0&&i<=32,"invalid bytes length","type",e)}else if(t[3]){const i=parseInt(t[3]);(0,a.assertArgument)(i!==0&&i<=256&&i%8===0,"invalid numeric width","type",e)}return e}const j={};const O=Symbol.for("_ethers_internal");const D="_ParamTypeInternal";const L="_ErrorInternal";const F="_EventInternal";const U="_ConstructorInternal";const H="_FallbackInternal";const q="_FunctionInternal";const G="_StructInternal";class ParamType{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,i,o,u,d,p,m){(0,a.assertPrivate)(e,j,"ParamType");Object.defineProperty(this,O,{value:D});if(d){d=Object.freeze(d.slice())}if(o==="array"){if(p==null||m==null){throw new Error("")}}else if(p!=null||m!=null){throw new Error("")}if(o==="tuple"){if(d==null){throw new Error("")}}else if(d!=null){throw new Error("")}(0,l.defineProperties)(this,{name:t,type:i,baseType:o,indexed:u,components:d,arrayLength:p,arrayChildren:m})}format(e){if(e==null){e="sighash"}if(e==="json"){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));e.name=t;e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;return JSON.stringify(e)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:t};if(typeof this.indexed==="boolean"){i.indexed=this.indexed}if(this.isTuple()){i.components=this.components.map(t=>JSON.parse(t.format(e)))}return JSON.stringify(i)}let t="";if(this.isArray()){t+=this.arrayChildren.format(e);t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`}else{if(this.isTuple()){t+="("+this.components.map(t=>t.format(e)).join(e==="full"?", ":",")+")"}else{t+=this.type}}if(e!=="sighash"){if(this.indexed===true){t+=" indexed"}if(e==="full"&&this.name){t+=" "+this.name}}return t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e)){throw new Error("invalid array value")}if(this.arrayLength!==-1&&e.length!==this.arrayLength){throw new Error("array is wrong length")}const i=this;return e.map(e=>i.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e)){throw new Error("invalid tuple value")}if(e.length!==this.components.length){throw new Error("array is wrong length")}const i=this;return e.map((e,o)=>i.components[o].walk(e,t))}return t(this.type,e)}#h(e,t,i,o){if(this.isArray()){if(!Array.isArray(t)){throw new Error("invalid array value")}if(this.arrayLength!==-1&&t.length!==this.arrayLength){throw new Error("array is wrong length")}const a=this.arrayChildren;const l=t.slice();l.forEach((t,o)=>{a.#h(e,t,i,e=>{l[o]=e})});o(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(t)){l=t.slice()}else{if(t==null||typeof t!=="object"){throw new Error("invalid tuple value")}l=a.map(e=>{if(!e.name){throw new Error("cannot use object value with unnamed components")}if(!(e.name in t)){throw new Error(`missing value for component ${e.name}`)}return t[e.name]})}if(l.length!==this.components.length){throw new Error("array is wrong length")}l.forEach((t,o)=>{a[o].#h(e,t,i,e=>{l[o]=e})});o(l);return}const a=i(this.type,t);if(a.then){e.push(async function(){o(await a)}())}else{o(a)}}async walkAsync(e,t){const i=[];const o=[e];this.#h(i,e,t,e=>{o[0]=e});if(i.length){await Promise.all(i)}return o[0]}static from(e,t){if(ParamType.isParamType(e)){return e}if(typeof e==="string"){try{return ParamType.from(lex(e),t)}catch(t){(0,a.assertArgument)(false,"invalid param type","obj",e)}}else if(e instanceof TokenString){let i="",o="";let a=null;if(consumeKeywords(e,setify(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")){o="tuple";a=e.popParams().map(e=>ParamType.from(e));i=`tuple(${a.map(e=>e.format()).join(",")})`}else{i=verifyBasicType(e.popType("TYPE"));o=i}let l=null;let u=null;while(e.length&&e.peekType("BRACKET")){const t=e.pop();l=new ParamType(j,"",i,o,null,a,u,l);u=t.value;i+=t.text;o="array";a=null}let d=null;const p=consumeKeywords(e,w);if(p.has("indexed")){if(!t){throw new Error("")}d=true}const m=e.peekType("ID")?e.pop().text:"";if(e.length){throw new Error("leftover tokens")}return new ParamType(j,m,i,o,d,a,u,l)}const i=e.name;(0,a.assertArgument)(!i||typeof i==="string"&&i.match(C),"invalid name","obj.name",i);let o=e.indexed;if(o!=null){(0,a.assertArgument)(t,"parameter cannot be indexed","obj.indexed",e.indexed);o=!!o}let l=e.type;let u=l.match(B);if(u){const t=parseInt(u[2]||"-1");const a=ParamType.from({type:u[1],components:e.components});return new ParamType(j,i||"",l,"array",o,null,t,a)}if(l==="tuple"||l.startsWith("tuple(")||l.startsWith("(")){const t=e.components!=null?e.components.map(e=>ParamType.from(e)):null;const a=new ParamType(j,i||"",l,"tuple",o,t,null,null);return a}l=verifyBasicType(e.type);return new ParamType(j,i||"",l,l,o,null,null,null)}static isParamType(e){return e&&e[O]===D}}class Fragment{type;inputs;constructor(e,t,i){(0,a.assertPrivate)(e,j,"Fragment");i=Object.freeze(i.slice());(0,l.defineProperties)(this,{type:t,inputs:i})}static from(e){if(typeof e==="string"){try{Fragment.from(JSON.parse(e))}catch(e){}return Fragment.from(lex(e))}if(e instanceof TokenString){const t=e.peekKeyword(y);switch(t){case"constructor":return ConstructorFragment.from(e);case"error":return ErrorFragment.from(e);case"event":return EventFragment.from(e);case"fallback":case"receive":return FallbackFragment.from(e);case"function":return FunctionFragment.from(e);case"struct":return StructFragment.from(e)}}else if(typeof e==="object"){switch(e.type){case"constructor":return ConstructorFragment.from(e);case"error":return ErrorFragment.from(e);case"event":return EventFragment.from(e);case"fallback":case"receive":return FallbackFragment.from(e);case"function":return FunctionFragment.from(e);case"struct":return StructFragment.from(e)}(0,a.assert)(false,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,a.assertArgument)(false,"unsupported frgament object","obj",e)}static isConstructor(e){return ConstructorFragment.isFragment(e)}static isError(e){return ErrorFragment.isFragment(e)}static isEvent(e){return EventFragment.isFragment(e)}static isFunction(e){return FunctionFragment.isFragment(e)}static isStruct(e){return StructFragment.isFragment(e)}}class NamedFragment extends Fragment{name;constructor(e,t,i,o){super(e,t,o);(0,a.assertArgument)(typeof i==="string"&&i.match(C),"invalid identifier","name",i);o=Object.freeze(o.slice());(0,l.defineProperties)(this,{name:i})}}function joinParams(e,t){return"("+t.map(t=>t.format(e)).join(e==="full"?", ":",")+")"}class ErrorFragment extends NamedFragment{constructor(e,t,i){super(e,"error",t,i);Object.defineProperty(this,O,{value:L})}get selector(){return(0,u.id)(this.format("sighash")).substring(0,10)}format(e){if(e==null){e="sighash"}if(e==="json"){return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))})}const t=[];if(e!=="sighash"){t.push("error")}t.push(this.name+joinParams(e,this.inputs));return t.join(" ")}static from(e){if(ErrorFragment.isFragment(e)){return e}if(typeof e==="string"){return ErrorFragment.from(lex(e))}else if(e instanceof TokenString){const t=consumeName("error",e);const i=consumeParams(e);consumeEoi(e);return new ErrorFragment(j,t,i)}return new ErrorFragment(j,e.name,e.inputs?e.inputs.map(ParamType.from):[])}static isFragment(e){return e&&e[O]===L}}class EventFragment extends NamedFragment{anonymous;constructor(e,t,i,o){super(e,"event",t,i);Object.defineProperty(this,O,{value:F});(0,l.defineProperties)(this,{anonymous:o})}get topicHash(){return(0,u.id)(this.format("sighash"))}format(e){if(e==null){e="sighash"}if(e==="json"){return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))})}const t=[];if(e!=="sighash"){t.push("event")}t.push(this.name+joinParams(e,this.inputs));if(e!=="sighash"&&this.anonymous){t.push("anonymous")}return t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>ParamType.from(e));const i=new EventFragment(j,e,t,false);return i.topicHash}static from(e){if(EventFragment.isFragment(e)){return e}if(typeof e==="string"){try{return EventFragment.from(lex(e))}catch(t){(0,a.assertArgument)(false,"invalid event fragment","obj",e)}}else if(e instanceof TokenString){const t=consumeName("event",e);const i=consumeParams(e,true);const o=!!consumeKeywords(e,setify(["anonymous"])).has("anonymous");consumeEoi(e);return new EventFragment(j,t,i,o)}return new EventFragment(j,e.name,e.inputs?e.inputs.map(e=>ParamType.from(e,true)):[],!!e.anonymous)}static isFragment(e){return e&&e[O]===F}}class ConstructorFragment extends Fragment{payable;gas;constructor(e,t,i,o,a){super(e,t,i);Object.defineProperty(this,O,{value:U});(0,l.defineProperties)(this,{payable:o,gas:a})}format(e){(0,a.assert)(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"});if(e==="json"){return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:undefined,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))})}const t=[`constructor${joinParams(e,this.inputs)}`];if(this.payable){t.push("payable")}if(this.gas!=null){t.push(`@${this.gas.toString()}`)}return t.join(" ")}static from(e){if(ConstructorFragment.isFragment(e)){return e}if(typeof e==="string"){try{return ConstructorFragment.from(lex(e))}catch(t){(0,a.assertArgument)(false,"invalid constuctor fragment","obj",e)}}else if(e instanceof TokenString){consumeKeywords(e,setify(["constructor"]));const t=consumeParams(e);const i=!!consumeKeywords(e,p).has("payable");const o=consumeGas(e);consumeEoi(e);return new ConstructorFragment(j,"constructor",t,i,o)}return new ConstructorFragment(j,"constructor",e.inputs?e.inputs.map(ParamType.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[O]===U}}class FallbackFragment extends Fragment{payable;constructor(e,t,i){super(e,"fallback",t);Object.defineProperty(this,O,{value:H});(0,l.defineProperties)(this,{payable:i})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(FallbackFragment.isFragment(e)){return e}if(typeof e==="string"){try{return FallbackFragment.from(lex(e))}catch(t){(0,a.assertArgument)(false,"invalid fallback fragment","obj",e)}}else if(e instanceof TokenString){const t=e.toString();const i=e.peekKeyword(setify(["fallback","receive"]));(0,a.assertArgument)(i,"type must be fallback or receive","obj",t);const o=e.popKeyword(setify(["fallback","receive"]));if(o==="receive"){const t=consumeParams(e);(0,a.assertArgument)(t.length===0,`receive cannot have arguments`,"obj.inputs",t);consumeKeywords(e,setify(["payable"]));consumeEoi(e);return new FallbackFragment(j,[],true)}let l=consumeParams(e);if(l.length){(0,a.assertArgument)(l.length===1&&l[0].type==="bytes","invalid fallback inputs","obj.inputs",l.map(e=>e.format("minimal")).join(", "))}else{l=[ParamType.from("bytes")]}const u=consumeMutability(e);(0,a.assertArgument)(u==="nonpayable"||u==="payable","fallback cannot be constants","obj.stateMutability",u);if(consumeKeywords(e,setify(["returns"])).has("returns")){const t=consumeParams(e);(0,a.assertArgument)(t.length===1&&t[0].type==="bytes","invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}consumeEoi(e);return new FallbackFragment(j,l,u==="payable")}if(e.type==="receive"){return new FallbackFragment(j,[],true)}if(e.type==="fallback"){const t=[ParamType.from("bytes")];const i=e.stateMutability==="payable";return new FallbackFragment(j,t,i)}(0,a.assertArgument)(false,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[O]===H}}class FunctionFragment extends NamedFragment{constant;outputs;stateMutability;payable;gas;constructor(e,t,i,o,a,u){super(e,"function",t,o);Object.defineProperty(this,O,{value:q});a=Object.freeze(a.slice());const d=i==="view"||i==="pure";const p=i==="payable";(0,l.defineProperties)(this,{constant:d,gas:u,outputs:a,payable:p,stateMutability:i})}get selector(){return(0,u.id)(this.format("sighash")).substring(0,10)}format(e){if(e==null){e="sighash"}if(e==="json"){return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:undefined,payable:this.payable,gas:this.gas!=null?this.gas:undefined,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))})}const t=[];if(e!=="sighash"){t.push("function")}t.push(this.name+joinParams(e,this.inputs));if(e!=="sighash"){if(this.stateMutability!=="nonpayable"){t.push(this.stateMutability)}if(this.outputs&&this.outputs.length){t.push("returns");t.push(joinParams(e,this.outputs))}if(this.gas!=null){t.push(`@${this.gas.toString()}`)}}return t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>ParamType.from(e));const i=new FunctionFragment(j,e,"view",t,[],null);return i.selector}static from(e){if(FunctionFragment.isFragment(e)){return e}if(typeof e==="string"){try{return FunctionFragment.from(lex(e))}catch(t){(0,a.assertArgument)(false,"invalid function fragment","obj",e)}}else if(e instanceof TokenString){const t=consumeName("function",e);const i=consumeParams(e);const o=consumeMutability(e);let a=[];if(consumeKeywords(e,setify(["returns"])).has("returns")){a=consumeParams(e)}const l=consumeGas(e);consumeEoi(e);return new FunctionFragment(j,t,o,i,a,l)}let t=e.stateMutability;if(t==null){t="payable";if(typeof e.constant==="boolean"){t="view";if(!e.constant){t="payable";if(typeof e.payable==="boolean"&&!e.payable){t="nonpayable"}}}else if(typeof e.payable==="boolean"&&!e.payable){t="nonpayable"}}return new FunctionFragment(j,e.name,t,e.inputs?e.inputs.map(ParamType.from):[],e.outputs?e.outputs.map(ParamType.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[O]===q}}class StructFragment extends NamedFragment{constructor(e,t,i){super(e,"struct",t,i);Object.defineProperty(this,O,{value:G})}format(){throw new Error("@TODO")}static from(e){if(typeof e==="string"){try{return StructFragment.from(lex(e))}catch(t){(0,a.assertArgument)(false,"invalid struct fragment","obj",e)}}else if(e instanceof TokenString){const t=consumeName("struct",e);const i=consumeParams(e);consumeEoi(e);return new StructFragment(j,t,i)}return new StructFragment(j,e.name,e.inputs?e.inputs.map(ParamType.from):[])}static isFragment(e){return e&&e[O]===G}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/interface.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ErrorDescription:()=>ErrorDescription,Indexed:()=>Indexed,Interface:()=>Interface,LogDescription:()=>LogDescription,Result:()=>g.Result,TransactionDescription:()=>TransactionDescription,checkResultErrors:()=>g.checkResultErrors});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/id.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/abi-coder.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/coders/abstract-coder.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/fragments.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");class LogDescription{fragment;name;signature;topic;args;constructor(e,t,i){const o=e.name,a=e.format();(0,l.defineProperties)(this,{fragment:e,name:o,signature:a,topic:t,args:i})}}class TransactionDescription{fragment;name;args;signature;selector;value;constructor(e,t,i,o){const a=e.name,u=e.format();(0,l.defineProperties)(this,{fragment:e,name:a,args:i,signature:u,selector:t,value:o})}}class ErrorDescription{fragment;name;args;signature;selector;constructor(e,t,i){const o=e.name,a=e.format();(0,l.defineProperties)(this,{fragment:e,name:o,args:i,signature:a,selector:t})}}class Indexed{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){(0,l.defineProperties)(this,{hash:e,_isIndexed:true})}}const _={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"};const w={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";if(e>=0&&e<=255&&_[e.toString()]){t=_[e.toString()]}return`reverted with panic code 0x${e.toString(16)} (${t})`}}};class Interface{fragments;deploy;fallback;receive;#p;#m;#g;#v;constructor(e){let t=[];if(typeof e==="string"){t=JSON.parse(e)}else{t=e}this.#g=new Map;this.#p=new Map;this.#m=new Map;const i=[];for(const e of t){try{i.push(v.Fragment.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}}(0,l.defineProperties)(this,{fragments:Object.freeze(i)});let o=null;let a=false;this.#v=this.getAbiCoder();this.fragments.forEach((e,t)=>{let i;switch(e.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,l.defineProperties)(this,{deploy:e});return;case"fallback":if(e.inputs.length===0){a=true}else{(0,u.assertArgument)(!o||e.payable!==o.payable,"conflicting fallback fragments",`fragments[${t}]`,e);o=e;a=o.payable}return;case"function":i=this.#g;break;case"event":i=this.#m;break;case"error":i=this.#p;break;default:return}const d=e.format();if(i.has(d)){return}i.set(d,e)});if(!this.deploy){(0,l.defineProperties)(this,{deploy:v.ConstructorFragment.from("constructor()")})}(0,l.defineProperties)(this,{fallback:o,receive:a})}format(e){const t=e?"minimal":"full";const i=this.fragments.map(e=>e.format(t));return i}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return m.AbiCoder.defaultAbiCoder()}#y(e,t,i){if((0,d.isHexString)(e)){const t=e.toLowerCase();for(const e of this.#g.values()){if(t===e.selector){return e}}return null}if(e.indexOf("(")===-1){const o=[];for(const[t,i]of this.#g){if(t.split("(")[0]===e){o.push(i)}}if(t){const e=t.length>0?t[t.length-1]:null;let i=t.length;let a=true;if(y.Typed.isTyped(e)&&e.type==="overrides"){a=false;i--}for(let e=o.length-1;e>=0;e--){const t=o[e].inputs.length;if(t!==i&&(!a||t!==i-1)){o.splice(e,1)}}for(let e=o.length-1;e>=0;e--){const i=o[e].inputs;for(let a=0;a<t.length;a++){if(!y.Typed.isTyped(t[a])){continue}if(a>=i.length){if(t[a].type==="overrides"){continue}o.splice(e,1);break}if(t[a].type!==i[a].baseType){o.splice(e,1);break}}}}if(o.length===1&&t&&t.length!==o[0].inputs.length){const e=t[t.length-1];if(e==null||Array.isArray(e)||typeof e!=="object"){o.splice(0,1)}}if(o.length===0){return null}if(o.length>1&&i){const t=o.map(e=>JSON.stringify(e.format())).join(", ");(0,u.assertArgument)(false,`ambiguous function description (i.e. matches ${t})`,"key",e)}return o[0]}const o=this.#g.get(v.FunctionFragment.from(e).format());if(o){return o}return null}getFunctionName(e){const t=this.#y(e,null,false);(0,u.assertArgument)(t,"no matching function","key",e);return t.name}hasFunction(e){return!!this.#y(e,null,false)}getFunction(e,t){return this.#y(e,t||null,true)}forEachFunction(e){const t=Array.from(this.#g.keys());t.sort((e,t)=>e.localeCompare(t));for(let i=0;i<t.length;i++){const o=t[i];e(this.#g.get(o),i)}}#b(e,t,i){if((0,d.isHexString)(e)){const t=e.toLowerCase();for(const e of this.#m.values()){if(t===e.topicHash){return e}}return null}if(e.indexOf("(")===-1){const o=[];for(const[t,i]of this.#m){if(t.split("(")[0]===e){o.push(i)}}if(t){for(let e=o.length-1;e>=0;e--){if(o[e].inputs.length<t.length){o.splice(e,1)}}for(let e=o.length-1;e>=0;e--){const i=o[e].inputs;for(let a=0;a<t.length;a++){if(!y.Typed.isTyped(t[a])){continue}if(t[a].type!==i[a].baseType){o.splice(e,1);break}}}}if(o.length===0){return null}if(o.length>1&&i){const t=o.map(e=>JSON.stringify(e.format())).join(", ");(0,u.assertArgument)(false,`ambiguous event description (i.e. matches ${t})`,"key",e)}return o[0]}const o=this.#m.get(v.EventFragment.from(e).format());if(o){return o}return null}getEventName(e){const t=this.#b(e,null,false);(0,u.assertArgument)(t,"no matching event","key",e);return t.name}hasEvent(e){return!!this.#b(e,null,false)}getEvent(e,t){return this.#b(e,t||null,true)}forEachEvent(e){const t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let i=0;i<t.length;i++){const o=t[i];e(this.#m.get(o),i)}}getError(e,t){if((0,d.isHexString)(e)){const t=e.toLowerCase();if(w[t]){return v.ErrorFragment.from(w[t].signature)}for(const e of this.#p.values()){if(t===e.selector){return e}}return null}if(e.indexOf("(")===-1){const t=[];for(const[i,o]of this.#p){if(i.split("(")[0]===e){t.push(o)}}if(t.length===0){if(e==="Error"){return v.ErrorFragment.from("error Error(string)")}if(e==="Panic"){return v.ErrorFragment.from("error Panic(uint256)")}return null}else if(t.length>1){const i=t.map(e=>JSON.stringify(e.format())).join(", ");(0,u.assertArgument)(false,`ambiguous error description (i.e. ${i})`,"name",e)}return t[0]}e=v.ErrorFragment.from(e).format();if(e==="Error(string)"){return v.ErrorFragment.from("error Error(string)")}if(e==="Panic(uint256)"){return v.ErrorFragment.from("error Panic(uint256)")}const i=this.#p.get(e);if(i){return i}return null}forEachError(e){const t=Array.from(this.#p.keys());t.sort((e,t)=>e.localeCompare(t));for(let i=0;i<t.length;i++){const o=t[i];e(this.#p.get(o),i)}}_decodeParams(e,t){return this.#v.decode(e,t)}_encodeParams(e,t){return this.#v.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e==="string"){const t=this.getError(e);(0,u.assertArgument)(t,"unknown error","fragment",e);e=t}(0,u.assertArgument)((0,d.dataSlice)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t);return this._decodeParams(e.inputs,(0,d.dataSlice)(t,4))}encodeErrorResult(e,t){if(typeof e==="string"){const t=this.getError(e);(0,u.assertArgument)(t,"unknown error","fragment",e);e=t}return(0,d.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e==="string"){const t=this.getFunction(e);(0,u.assertArgument)(t,"unknown function","fragment",e);e=t}(0,u.assertArgument)((0,d.dataSlice)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t);return this._decodeParams(e.inputs,(0,d.dataSlice)(t,4))}encodeFunctionData(e,t){if(typeof e==="string"){const t=this.getFunction(e);(0,u.assertArgument)(t,"unknown function","fragment",e);e=t}return(0,d.concat)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e==="string"){const t=this.getFunction(e);(0,u.assertArgument)(t,"unknown function","fragment",e);e=t}let i="invalid length for result data";const o=(0,d.getBytesCopy)(t);if(o.length%32===0){try{return this.#v.decode(e.outputs,o)}catch(e){i="could not decode result data"}}(0,u.assert)(false,i,"BAD_DATA",{value:(0,d.hexlify)(o),info:{method:e.name,signature:e.format()}})}makeError(e,t){const i=(0,d.getBytes)(e,"data");const o=m.AbiCoder.getBuiltinCallException("call",t,i);const a="execution reverted (unknown custom error)";if(o.message.startsWith(a)){const e=(0,d.hexlify)(i.slice(0,4));const t=this.getError(e);if(t){try{const e=this.#v.decode(t.inputs,i.slice(4));o.revert={name:t.name,signature:t.format(),args:e};o.reason=o.revert.signature;o.message=`execution reverted: ${o.reason}`}catch(e){o.message=`execution reverted (coult not decode custom error)`}}}const l=this.parseTransaction(t);if(l){o.invocation={method:l.name,signature:l.signature,args:l.args}}return o}encodeFunctionResult(e,t){if(typeof e==="string"){const t=this.getFunction(e);(0,u.assertArgument)(t,"unknown function","fragment",e);e=t}return(0,d.hexlify)(this.#v.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e==="string"){const t=this.getEvent(e);(0,u.assertArgument)(t,"unknown event","eventFragment",e);e=t}(0,u.assert)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const i=[];if(!e.anonymous){i.push(e.topicHash)}const encodeTopic=(e,t)=>{if(e.type==="string"){return(0,a.id)(t)}else if(e.type==="bytes"){return(0,o.keccak256)((0,d.hexlify)(t))}if(e.type==="bool"&&typeof t==="boolean"){t=t?"0x01":"0x00"}else if(e.type.match(/^u?int/)){t=(0,p.toBeHex)(t)}else if(e.type.match(/^bytes/)){t=(0,d.zeroPadBytes)(t,32)}else if(e.type==="address"){this.#v.encode(["address"],[t])}return(0,d.zeroPadValue)((0,d.hexlify)(t),32)};t.forEach((t,o)=>{const a=e.inputs[o];if(!a.indexed){(0,u.assertArgument)(t==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,t);return}if(t==null){i.push(null)}else if(a.baseType==="array"||a.baseType==="tuple"){(0,u.assertArgument)(false,"filtering with tuples or arrays not supported","contract."+a.name,t)}else if(Array.isArray(t)){i.push(t.map(e=>encodeTopic(a,e)))}else{i.push(encodeTopic(a,t))}});while(i.length&&i[i.length-1]===null){i.pop()}return i}encodeEventLog(e,t){if(typeof e==="string"){const t=this.getEvent(e);(0,u.assertArgument)(t,"unknown event","eventFragment",e);e=t}const i=[];const l=[];const d=[];if(!e.anonymous){i.push(e.topicHash)}(0,u.assertArgument)(t.length===e.inputs.length,"event arguments/values mismatch","values",t);e.inputs.forEach((e,u)=>{const p=t[u];if(e.indexed){if(e.type==="string"){i.push((0,a.id)(p))}else if(e.type==="bytes"){i.push((0,o.keccak256)(p))}else if(e.baseType==="tuple"||e.baseType==="array"){throw new Error("not implemented")}else{i.push(this.#v.encode([e.type],[p]))}}else{l.push(e);d.push(p)}});return{data:this.#v.encode(l,d),topics:i}}decodeEventLog(e,t,i){if(typeof e==="string"){const t=this.getEvent(e);(0,u.assertArgument)(t,"unknown event","eventFragment",e);e=t}if(i!=null&&!e.anonymous){const t=e.topicHash;(0,u.assertArgument)((0,d.isHexString)(i[0],32)&&i[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",i[0]);i=i.slice(1)}const o=[];const a=[];const l=[];e.inputs.forEach((e,t)=>{if(e.indexed){if(e.type==="string"||e.type==="bytes"||e.baseType==="tuple"||e.baseType==="array"){o.push(v.ParamType.from({type:"bytes32",name:e.name}));l.push(true)}else{o.push(e);l.push(false)}}else{a.push(e);l.push(false)}});const p=i!=null?this.#v.decode(o,(0,d.concat)(i)):null;const m=this.#v.decode(a,t,true);const y=[];const _=[];let w=0,A=0;e.inputs.forEach((e,t)=>{let i=null;if(e.indexed){if(p==null){i=new Indexed(null)}else if(l[t]){i=new Indexed(p[A++])}else{try{i=p[A++]}catch(e){i=e}}}else{try{i=m[w++]}catch(e){i=e}}y.push(i);_.push(e.name||null)});return g.Result.fromItems(y,_)}parseTransaction(e){const t=(0,d.getBytes)(e.data,"tx.data");const i=(0,p.getBigInt)(e.value!=null?e.value:0,"tx.value");const o=this.getFunction((0,d.hexlify)(t.slice(0,4)));if(!o){return null}const a=this.#v.decode(o.inputs,t.slice(4));return new TransactionDescription(o,o.selector,a,i)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);if(!t||t.anonymous){return null}return new LogDescription(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=(0,d.hexlify)(e);const i=this.getError((0,d.dataSlice)(t,0,4));if(!i){return null}const o=this.#v.decode(i.inputs,(0,d.dataSlice)(t,4));return new ErrorDescription(i,i.selector,o)}static from(e){if(e instanceof Interface){return e}if(typeof e==="string"){return new Interface(JSON.parse(e))}if(typeof e.formatJson==="function"){return new Interface(e.formatJson())}if(typeof e.format==="function"){return new Interface(e.format("json"))}return new Interface(e)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Typed:()=>Typed});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");const l={};function n(e,t){let i=false;if(t<0){i=true;t*=-1}return new Typed(l,`${i?"":"u"}int${t}`,e,{signed:i,width:t})}function b(e,t){return new Typed(l,`bytes${t?t:""}`,e,{size:t})}const u=Symbol.for("_ethers_typed");class Typed{type;value;#_;_typedSymbol;constructor(e,t,i,d){if(d==null){d=null}(0,o.assertPrivate)(l,e,"Typed");(0,a.defineProperties)(this,{_typedSymbol:u,type:t,value:i});this.#_=d;this.format()}format(){if(this.type==="array"){throw new Error("")}else if(this.type==="dynamicArray"){throw new Error("")}else if(this.type==="tuple"){return`tuple(${this.value.map(e=>e.format()).join(",")})`}return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple"){throw TypeError("not a tuple")}return this.#_}get arrayLength(){if(this.type!=="array"){throw TypeError("not an array")}if(this.#_===true){return-1}if(this.#_===false){return this.value.length}return null}static from(e,t){return new Typed(l,e,t)}static uint8(e){return n(e,8)}static uint16(e){return n(e,16)}static uint24(e){return n(e,24)}static uint32(e){return n(e,32)}static uint40(e){return n(e,40)}static uint48(e){return n(e,48)}static uint56(e){return n(e,56)}static uint64(e){return n(e,64)}static uint72(e){return n(e,72)}static uint80(e){return n(e,80)}static uint88(e){return n(e,88)}static uint96(e){return n(e,96)}static uint104(e){return n(e,104)}static uint112(e){return n(e,112)}static uint120(e){return n(e,120)}static uint128(e){return n(e,128)}static uint136(e){return n(e,136)}static uint144(e){return n(e,144)}static uint152(e){return n(e,152)}static uint160(e){return n(e,160)}static uint168(e){return n(e,168)}static uint176(e){return n(e,176)}static uint184(e){return n(e,184)}static uint192(e){return n(e,192)}static uint200(e){return n(e,200)}static uint208(e){return n(e,208)}static uint216(e){return n(e,216)}static uint224(e){return n(e,224)}static uint232(e){return n(e,232)}static uint240(e){return n(e,240)}static uint248(e){return n(e,248)}static uint256(e){return n(e,256)}static uint(e){return n(e,256)}static int8(e){return n(e,-8)}static int16(e){return n(e,-16)}static int24(e){return n(e,-24)}static int32(e){return n(e,-32)}static int40(e){return n(e,-40)}static int48(e){return n(e,-48)}static int56(e){return n(e,-56)}static int64(e){return n(e,-64)}static int72(e){return n(e,-72)}static int80(e){return n(e,-80)}static int88(e){return n(e,-88)}static int96(e){return n(e,-96)}static int104(e){return n(e,-104)}static int112(e){return n(e,-112)}static int120(e){return n(e,-120)}static int128(e){return n(e,-128)}static int136(e){return n(e,-136)}static int144(e){return n(e,-144)}static int152(e){return n(e,-152)}static int160(e){return n(e,-160)}static int168(e){return n(e,-168)}static int176(e){return n(e,-176)}static int184(e){return n(e,-184)}static int192(e){return n(e,-192)}static int200(e){return n(e,-200)}static int208(e){return n(e,-208)}static int216(e){return n(e,-216)}static int224(e){return n(e,-224)}static int232(e){return n(e,-232)}static int240(e){return n(e,-240)}static int248(e){return n(e,-248)}static int256(e){return n(e,-256)}static int(e){return n(e,-256)}static bytes1(e){return b(e,1)}static bytes2(e){return b(e,2)}static bytes3(e){return b(e,3)}static bytes4(e){return b(e,4)}static bytes5(e){return b(e,5)}static bytes6(e){return b(e,6)}static bytes7(e){return b(e,7)}static bytes8(e){return b(e,8)}static bytes9(e){return b(e,9)}static bytes10(e){return b(e,10)}static bytes11(e){return b(e,11)}static bytes12(e){return b(e,12)}static bytes13(e){return b(e,13)}static bytes14(e){return b(e,14)}static bytes15(e){return b(e,15)}static bytes16(e){return b(e,16)}static bytes17(e){return b(e,17)}static bytes18(e){return b(e,18)}static bytes19(e){return b(e,19)}static bytes20(e){return b(e,20)}static bytes21(e){return b(e,21)}static bytes22(e){return b(e,22)}static bytes23(e){return b(e,23)}static bytes24(e){return b(e,24)}static bytes25(e){return b(e,25)}static bytes26(e){return b(e,26)}static bytes27(e){return b(e,27)}static bytes28(e){return b(e,28)}static bytes29(e){return b(e,29)}static bytes30(e){return b(e,30)}static bytes31(e){return b(e,31)}static bytes32(e){return b(e,32)}static address(e){return new Typed(l,"address",e)}static bool(e){return new Typed(l,"bool",!!e)}static bytes(e){return new Typed(l,"bytes",e)}static string(e){return new Typed(l,"string",e)}static array(e,t){throw new Error("not implemented yet");{}}static tuple(e,t){throw new Error("not implemented yet");{}}static overrides(e){return new Typed(l,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e==="object"&&"_typedSymbol"in e&&e._typedSymbol===u}static dereference(e,t){if(Typed.isTyped(e)){if(e.type!==t){throw new Error(`invalid type: expecetd ${t}, got ${e.type}`)}return e.value}return e}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAddress:()=>getAddress,getIcapAddress:()=>getIcapAddress});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");const u=BigInt(0);const d=BigInt(36);function getChecksumAddress(e){e=e.toLowerCase();const t=e.substring(2).split("");const i=new Uint8Array(40);for(let e=0;e<40;e++){i[e]=t[e].charCodeAt(0)}const l=(0,a.getBytes)((0,o.keccak256)(i));for(let e=0;e<40;e+=2){if(l[e>>1]>>4>=8){t[e]=t[e].toUpperCase()}if((l[e>>1]&15)>=8){t[e+1]=t[e+1].toUpperCase()}}return"0x"+t.join("")}const p={};for(let e=0;e<10;e++){p[String(e)]=String(e)}for(let e=0;e<26;e++){p[String.fromCharCode(65+e)]=String(10+e)}const m=15;function ibanChecksum(e){e=e.toUpperCase();e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(e=>p[e]).join("");while(t.length>=m){let e=t.substring(0,m);t=parseInt(e,10)%97+t.substring(e.length)}let i=String(98-parseInt(t,10)%97);while(i.length<2){i="0"+i}return i}const g=function(){const e={};for(let t=0;t<36;t++){const i="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[i]=BigInt(t)}return e}();function fromBase36(e){e=e.toLowerCase();let t=u;for(let i=0;i<e.length;i++){t=t*d+g[e[i]]}return t}function getAddress(e){(0,l.assertArgument)(typeof e==="string","invalid address","address",e);if(e.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!e.startsWith("0x")){e="0x"+e}const t=getChecksumAddress(e);(0,l.assertArgument)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e);return t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,l.assertArgument)(e.substring(2,4)===ibanChecksum(e),"bad icap checksum","address",e);let t=fromBase36(e.substring(4)).toString(16);while(t.length<40){t="0"+t}return getChecksumAddress("0x"+t)}(0,l.assertArgument)(false,"invalid address","address",e)}function getIcapAddress(e){let t=BigInt(getAddress(e)).toString(36).toUpperCase();while(t.length<30){t="0"+t}return"XE"+ibanChecksum("XE00"+t)+t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{isAddress:()=>isAddress,isAddressable:()=>isAddressable,resolveAddress:()=>resolveAddress});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");function isAddressable(e){return e&&typeof e.getAddress==="function"}function isAddress(e){try{(0,a.getAddress)(e);return true}catch(e){}return false}async function checkAddress(e,t){const i=await t;if(i==null||i==="0x0000000000000000000000000000000000000000"){(0,o.assert)(typeof e!=="string","unconfigured name","UNCONFIGURED_NAME",{value:e});(0,o.assertArgument)(false,"invalid AddressLike value; did not resolve to a value address","target",e)}return(0,a.getAddress)(i)}function resolveAddress(e,t){if(typeof e==="string"){if(e.match(/^0x[0-9a-f]{40}$/i)){return(0,a.getAddress)(e)}(0,o.assert)(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"});return checkAddress(e,t.resolveName(e))}else if(isAddressable(e)){return checkAddress(e,e.getAddress())}else if(e&&typeof e.then==="function"){return checkAddress(e,e)}(0,o.assertArgument)(false,"unsupported addressable value","target",e)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/contract-address.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getCreate2Address:()=>getCreate2Address,getCreateAddress:()=>getCreateAddress});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/rlp-encode.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");function getCreateAddress(e){const t=(0,p.getAddress)(e.from);const i=(0,a.getBigInt)(e.nonce,"tx.nonce");let d=i.toString(16);if(d==="0"){d="0x"}else if(d.length%2){d="0x0"+d}else{d="0x"+d}return(0,p.getAddress)((0,l.dataSlice)((0,o.keccak256)((0,u.encodeRlp)([t,d])),12))}function getCreate2Address(e,t,i){const a=(0,p.getAddress)(e);const u=(0,l.getBytes)(t,"salt");const m=(0,l.getBytes)(i,"initCodeHash");(0,d.assertArgument)(u.length===32,"salt must be 32 bytes","salt",t);(0,d.assertArgument)(m.length===32,"initCodeHash must be 32 bytes","initCodeHash",i);return(0,p.getAddress)((0,l.dataSlice)((0,o.keccak256)((0,l.concat)(["0xff",a,u,m])),12))}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/addresses.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ZeroAddress:()=>o});const o="0x0000000000000000000000000000000000000000"},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/hashes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ZeroHash:()=>o});const o="0x0000000000000000000000000000000000000000000000000000000000000000"},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/strings.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EtherSymbol:()=>o,MessagePrefix:()=>a});const o="Ξ";const a="Ethereum Signed Message:\n"},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/contract.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BaseContract:()=>BaseContract,Contract:()=>Contract,copyOverrides:()=>copyOverrides,resolveArgs:()=>resolveArgs});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/typed.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/interface.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/wrappers.js");const y=BigInt(0);function canCall(e){return e&&typeof e.call==="function"}function canEstimate(e){return e&&typeof e.estimateGas==="function"}function canResolve(e){return e&&typeof e.resolveName==="function"}function canSend(e){return e&&typeof e.sendTransaction==="function"}function getResolver(e){if(e!=null){if(canResolve(e)){return e}if(e.provider){return e.provider}}return undefined}class PreparedTopicFilter{#w;fragment;constructor(e,t,i){(0,d.defineProperties)(this,{fragment:t});if(t.inputs.length<i.length){throw new Error("too many arguments")}const o=getRunner(e.runner,"resolveName");const a=canResolve(o)?o:null;this.#w=async function(){const o=await Promise.all(t.inputs.map((e,t)=>{const o=i[t];if(o==null){return null}return e.walkAsync(i[t],(e,t)=>{if(e==="address"){if(Array.isArray(t)){return Promise.all(t.map(e=>(0,l.resolveAddress)(e,a)))}return(0,l.resolveAddress)(t,a)}return t})}));return e.interface.encodeFilterTopics(t,o)}()}getTopicFilter(){return this.#w}}function getRunner(e,t){if(e==null){return null}if(typeof e[t]==="function"){return e}if(e.provider&&typeof e.provider[t]==="function"){return e.provider}return null}function getProvider(e){if(e==null){return null}return e.provider||null}async function copyOverrides(e,t){const i=o.Typed.dereference(e,"overrides");(0,p.assertArgument)(typeof i==="object","invalid overrides parameter","overrides",e);const a=(0,u.copyRequest)(i);(0,p.assertArgument)(a.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to);(0,p.assertArgument)(a.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data);if(a.from){a.from=a.from}return a}async function resolveArgs(e,t,i){const a=getRunner(e,"resolveName");const u=canResolve(a)?a:null;return await Promise.all(t.map((e,t)=>e.walkAsync(i[t],(e,t)=>{t=o.Typed.dereference(t,e);if(e==="address"){return(0,l.resolveAddress)(t,u)}return t})))}function buildWrappedFallback(e){const populateTransaction=async function(t){const i=await copyOverrides(t,["data"]);i.to=await e.getAddress();if(i.from){i.from=await(0,l.resolveAddress)(i.from,getResolver(e.runner))}const o=e.interface;const a=(0,m.getBigInt)(i.value||y,"overrides.value")===y;const u=(i.data||"0x")==="0x";if(o.fallback&&!o.fallback.payable&&o.receive&&!u&&!a){(0,p.assertArgument)(false,"cannot send data to receive or send value to non-payable fallback","overrides",t)}(0,p.assertArgument)(o.fallback||u,"cannot send data to receive-only contract","overrides.data",i.data);const d=o.receive||o.fallback&&o.fallback.payable;(0,p.assertArgument)(d||a,"cannot send value to non-payable fallback","overrides.value",i.value);(0,p.assertArgument)(o.fallback||u,"cannot send data to receive-only contract","overrides.data",i.data);return i};const staticCall=async function(t){const i=getRunner(e.runner,"call");(0,p.assert)(canCall(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const o=await populateTransaction(t);try{return await i.call(o)}catch(t){if((0,p.isCallException)(t)&&t.data){throw e.interface.makeError(t.data,o)}throw t}};const send=async function(t){const i=e.runner;(0,p.assert)(canSend(i),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const o=await i.sendTransaction(await populateTransaction(t));const a=getProvider(e.runner);return new v.ContractTransactionResponse(e.interface,a,o)};const estimateGas=async function(t){const i=getRunner(e.runner,"estimateGas");(0,p.assert)(canEstimate(i),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"});return await i.estimateGas(await populateTransaction(t))};const method=async e=>await send(e);(0,d.defineProperties)(method,{_contract:e,estimateGas,populateTransaction,send,staticCall});return method}function buildWrappedMethod(e,t){const getFragment=function(...i){const o=e.interface.getFunction(t,i);(0,p.assert)(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:i}});return o};const populateTransaction=async function(...t){const i=getFragment(...t);let o={};if(i.inputs.length+1===t.length){o=await copyOverrides(t.pop());if(o.from){o.from=await(0,l.resolveAddress)(o.from,getResolver(e.runner))}}if(i.inputs.length!==t.length){throw new Error("internal error: fragment inputs doesn't match arguments; should not happen")}const a=await resolveArgs(e.runner,i.inputs,t);return Object.assign({},o,await(0,d.resolveProperties)({to:e.getAddress(),data:e.interface.encodeFunctionData(i,a)}))};const staticCall=async function(...e){const t=await staticCallResult(...e);if(t.length===1){return t[0]}return t};const send=async function(...t){const i=e.runner;(0,p.assert)(canSend(i),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const o=await i.sendTransaction(await populateTransaction(...t));const a=getProvider(e.runner);return new v.ContractTransactionResponse(e.interface,a,o)};const estimateGas=async function(...t){const i=getRunner(e.runner,"estimateGas");(0,p.assert)(canEstimate(i),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"});return await i.estimateGas(await populateTransaction(...t))};const staticCallResult=async function(...t){const i=getRunner(e.runner,"call");(0,p.assert)(canCall(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const o=await populateTransaction(...t);let a="0x";try{a=await i.call(o)}catch(t){if((0,p.isCallException)(t)&&t.data){throw e.interface.makeError(t.data,o)}throw t}const l=getFragment(...t);return e.interface.decodeFunctionResult(l,a)};const method=async(...e)=>{const t=getFragment(...e);if(t.constant){return await staticCall(...e)}return await send(...e)};(0,d.defineProperties)(method,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment,estimateGas,populateTransaction,send,staticCall,staticCallResult});Object.defineProperty(method,"fragment",{configurable:false,enumerable:true,get:()=>{const i=e.interface.getFunction(t);(0,p.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}});return i}});return method}function buildWrappedEvent(e,t){const getFragment=function(...i){const o=e.interface.getEvent(t,i);(0,p.assert)(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:i}});return o};const method=function(...t){return new PreparedTopicFilter(e,getFragment(...t),t)};(0,d.defineProperties)(method,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment});Object.defineProperty(method,"fragment",{configurable:false,enumerable:true,get:()=>{const i=e.interface.getEvent(t);(0,p.assert)(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}});return i}});return method}const _=Symbol.for("_ethersInternal_contract");const w=new WeakMap;function setInternal(e,t){w.set(e[_],t)}function getInternal(e){return w.get(e[_])}function isDeferred(e){return e&&typeof e==="object"&&"getTopicFilter"in e&&typeof e.getTopicFilter==="function"&&e.fragment}async function getSubInfo(e,t){let i;let o=null;if(Array.isArray(t)){const topicHashify=function(t){if((0,g.isHexString)(t,32)){return t}const i=e.interface.getEvent(t);(0,p.assertArgument)(i,"unknown fragment","name",t);return i.topicHash};i=t.map(e=>{if(e==null){return null}if(Array.isArray(e)){return e.map(topicHashify)}return topicHashify(e)})}else if(t==="*"){i=[null]}else if(typeof t==="string"){if((0,g.isHexString)(t,32)){i=[t]}else{o=e.interface.getEvent(t);(0,p.assertArgument)(o,"unknown fragment","event",t);i=[o.topicHash]}}else if(isDeferred(t)){i=await t.getTopicFilter()}else if("fragment"in t){o=t.fragment;i=[o.topicHash]}else{(0,p.assertArgument)(false,"unknown event name","event",t)}i=i.map(e=>{if(e==null){return null}if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());if(t.length===1){return t[0]}t.sort();return t}return e.toLowerCase()});const a=i.map(e=>{if(e==null){return"null"}if(Array.isArray(e)){return e.join("|")}return e}).join("&");return{fragment:o,tag:a,topics:i}}async function hasSub(e,t){const{subs:i}=getInternal(e);return i.get((await getSubInfo(e,t)).tag)||null}async function getSub(e,t,i){const o=getProvider(e.runner);(0,p.assert)(o,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:a,tag:l,topics:u}=await getSubInfo(e,i);const{addr:d,subs:m}=getInternal(e);let g=m.get(l);if(!g){const t=d?d:e;const p={address:t,topics:u};const listener=t=>{let o=a;if(o==null){try{o=e.interface.getEvent(t.topics[0])}catch(e){}}if(o){const l=o;const u=a?e.interface.decodeEventLog(a,t.data,t.topics):[];emit(e,i,u,o=>new v.ContractEventPayload(e,o,i,l,t))}else{emit(e,i,[],o=>new v.ContractUnknownEventPayload(e,o,i,t))}};let y=[];const start=()=>{if(y.length){return}y.push(o.on(p,listener))};const stop=async()=>{if(y.length==0){return}let e=y;y=[];await Promise.all(e);o.off(p,listener)};g={tag:l,listeners:[],start,stop};m.set(l,g)}return g}let A=Promise.resolve();async function _emit(e,t,i,o){await A;const a=await hasSub(e,t);if(!a){return false}const l=a.listeners.length;a.listeners=a.listeners.filter(({listener:t,once:a})=>{const l=Array.from(i);if(o){l.push(o(a?null:t))}try{t.call(e,...l)}catch(e){}return!a});if(a.listeners.length===0){a.stop();getInternal(e).subs.delete(a.tag)}return l>0}async function emit(e,t,i,o){try{await A}catch(e){}const a=_emit(e,t,i,o);A=a;return await a}const k=["then"];class BaseContract{target;interface;runner;filters;[_];fallback;constructor(e,t,i,o){(0,p.assertArgument)(typeof e==="string"||(0,l.isAddressable)(e),"invalid value for Contract target","target",e);if(i==null){i=null}const u=a.Interface.from(t);(0,d.defineProperties)(this,{target:e,runner:i,interface:u});Object.defineProperty(this,_,{value:{}});let m;let y=null;let w=null;if(o){const e=getProvider(i);w=new v.ContractTransactionResponse(this.interface,e,o)}let A=new Map;if(typeof e==="string"){if((0,g.isHexString)(e)){y=e;m=Promise.resolve(e)}else{const t=getRunner(i,"resolveName");if(!canResolve(t)){throw(0,p.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"})}m=t.resolveName(e).then(t=>{if(t==null){throw(0,p.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e})}getInternal(this).addr=t;return t})}}else{m=e.getAddress().then(e=>{if(e==null){throw new Error("TODO")}getInternal(this).addr=e;return e})}setInternal(this,{addrPromise:m,addr:y,deployTx:w,subs:A});const T=new Proxy({},{get:(e,t,i)=>{if(typeof t==="symbol"||k.indexOf(t)>=0){return Reflect.get(e,t,i)}try{return this.getEvent(t)}catch(e){if(!(0,p.isError)(e,"INVALID_ARGUMENT")||e.argument!=="key"){throw e}}return undefined},has:(e,t)=>{if(k.indexOf(t)>=0){return Reflect.has(e,t)}return Reflect.has(e,t)||this.interface.hasEvent(String(t))}});(0,d.defineProperties)(this,{filters:T});(0,d.defineProperties)(this,{fallback:u.receive||u.fallback?buildWrappedFallback(this):null});return new Proxy(this,{get:(e,t,i)=>{if(typeof t==="symbol"||t in e||k.indexOf(t)>=0){return Reflect.get(e,t,i)}try{return e.getFunction(t)}catch(e){if(!(0,p.isError)(e,"INVALID_ARGUMENT")||e.argument!=="key"){throw e}}return undefined},has:(e,t)=>{if(typeof t==="symbol"||t in e||k.indexOf(t)>=0){return Reflect.has(e,t)}return e.interface.hasFunction(t)}})}connect(e){return new BaseContract(this.target,this.interface,e)}attach(e){return new BaseContract(e,this.interface,this.runner)}async getAddress(){return await getInternal(this).addrPromise}async getDeployedCode(){const e=getProvider(this.runner);(0,p.assert)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());if(t==="0x"){return null}return t}async waitForDeployment(){const e=this.deploymentTransaction();if(e){await e.wait();return this}const t=await this.getDeployedCode();if(t!=null){return this}const i=getProvider(this.runner);(0,p.assert)(i!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"});return new Promise((e,t)=>{const checkCode=async()=>{try{const t=await this.getDeployedCode();if(t!=null){return e(this)}i.once("block",checkCode)}catch(e){t(e)}};checkCode()})}deploymentTransaction(){return getInternal(this).deployTx}getFunction(e){if(typeof e!=="string"){e=e.format()}const t=buildWrappedMethod(this,e);return t}getEvent(e){if(typeof e!=="string"){e=e.format()}return buildWrappedEvent(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,i){if(t==null){t=0}if(i==null){i="latest"}const{addr:o,addrPromise:a}=getInternal(this);const l=o?o:await a;const{fragment:d,topics:m}=await getSubInfo(this,e);const g={address:l,topics:m,fromBlock:t,toBlock:i};const y=getProvider(this.runner);(0,p.assert)(y,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"});return(await y.getLogs(g)).map(e=>{let t=d;if(t==null){try{t=this.interface.getEvent(e.topics[0])}catch(e){}}if(t){try{return new v.EventLog(e,this.interface,t)}catch(t){return new v.UndecodedEventLog(e,t)}}return new u.Log(e,y)})}async on(e,t){const i=await getSub(this,"on",e);i.listeners.push({listener:t,once:false});i.start();return this}async once(e,t){const i=await getSub(this,"once",e);i.listeners.push({listener:t,once:true});i.start();return this}async emit(e,...t){return await emit(this,e,t,null)}async listenerCount(e){if(e){const t=await hasSub(this,e);if(!t){return 0}return t.listeners.length}const{subs:t}=getInternal(this);let i=0;for(const{listeners:e}of t.values()){i+=e.length}return i}async listeners(e){if(e){const t=await hasSub(this,e);if(!t){return[]}return t.listeners.map(({listener:e})=>e)}const{subs:t}=getInternal(this);let i=[];for(const{listeners:e}of t.values()){i=i.concat(e.map(({listener:e})=>e))}return i}async off(e,t){const i=await hasSub(this,e);if(!i){return this}if(t){const e=i.listeners.map(({listener:e})=>e).indexOf(t);if(e>=0){i.listeners.splice(e,1)}}if(t==null||i.listeners.length===0){i.stop();getInternal(this).subs.delete(i.tag)}return this}async removeAllListeners(e){if(e){const t=await hasSub(this,e);if(!t){return this}t.stop();getInternal(this).subs.delete(t.tag)}else{const{subs:e}=getInternal(this);for(const{tag:t,stop:i}of e.values()){i();e.delete(t)}}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class CustomContract extends BaseContract{constructor(t,i=null){super(t,e,i)}}return CustomContract}static from(e,t,i){if(i==null){i=null}const o=new this(e,t,i);return o}}function _ContractBase(){return BaseContract}class Contract extends(_ContractBase()){}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/wrappers.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ContractEventPayload:()=>ContractEventPayload,ContractTransactionReceipt:()=>ContractTransactionReceipt,ContractTransactionResponse:()=>ContractTransactionResponse,ContractUnknownEventPayload:()=>ContractUnknownEventPayload,EventLog:()=>EventLog,UndecodedEventLog:()=>UndecodedEventLog});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/events.js");class EventLog extends o.Log{interface;fragment;args;constructor(e,t,i){super(e,e.provider);const o=t.decodeEventLog(i,e.data,e.topics);(0,a.defineProperties)(this,{args:o,fragment:i,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class UndecodedEventLog extends o.Log{error;constructor(e,t){super(e,e.provider);(0,a.defineProperties)(this,{error:t})}}class ContractTransactionReceipt extends o.TransactionReceipt{#E;constructor(e,t,i){super(i,t);this.#E=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#E.getEvent(e.topics[0]):null;if(t){try{return new EventLog(e,this.#E,t)}catch(t){return new UndecodedEventLog(e,t)}}return e})}}class ContractTransactionResponse extends o.TransactionResponse{#E;constructor(e,t,i){super(i,t);this.#E=e}async wait(e,t){const i=await super.wait(e,t);if(i==null){return null}return new ContractTransactionReceipt(this.#E,this.provider,i)}}class ContractUnknownEventPayload extends l.EventPayload{log;constructor(e,t,i,o){super(e,t,i);(0,a.defineProperties)(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ContractEventPayload extends ContractUnknownEventPayload{constructor(e,t,i,o,l){super(e,t,i,new EventLog(l,e.interface,o));const u=e.interface.decodeEventLog(o,this.log.data,this.log.topics);(0,a.defineProperties)(this,{args:u,fragment:o})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/crypto-browser.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{createHash:()=>createHash,createHmac:()=>createHmac,pbkdf2Sync:()=>pbkdf2Sync,randomBytes:()=>randomBytes});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/hmac.js");var a=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/pbkdf2.js");var l=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha256.js");var u=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha512.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function getGlobal(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){return global}throw new Error("unable to locate global object")}const p=getGlobal();const m=p.crypto||p.msCrypto;function createHash(e){switch(e){case"sha256":return l.sha256.create();case"sha512":return u.sha512.create()}(0,d.assertArgument)(false,"invalid hashing algorithm name","algorithm",e)}function createHmac(e,t){const i={sha256:l.sha256,sha512:u.sha512}[e];(0,d.assertArgument)(i!=null,"invalid hmac algorithm","algorithm",e);return o.hmac.create(i,t)}function pbkdf2Sync(e,t,i,o,p){const m={sha256:l.sha256,sha512:u.sha512}[p];(0,d.assertArgument)(m!=null,"invalid pbkdf2 algorithm","algorithm",p);return(0,a.pbkdf2)(m,e,t,{c:i,dkLen:o})}function randomBytes(e){(0,d.assert)(m!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"});(0,d.assertArgument)(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e);const t=new Uint8Array(e);m.getRandomValues(t);return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/hmac.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{computeHmac:()=>computeHmac});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/crypto-browser.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");let l=false;const _computeHmac=function(e,t,i){return(0,o.createHmac)(e,t).update(i).digest()};let u=_computeHmac;function computeHmac(e,t,i){const o=(0,a.getBytes)(t,"key");const l=(0,a.getBytes)(i,"data");return(0,a.hexlify)(u(e,o,l))}computeHmac._=_computeHmac;computeHmac.lock=function(){l=true};computeHmac.register=function(e){if(l){throw new Error("computeHmac is locked")}u=e};Object.freeze(computeHmac)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{keccak256:()=>keccak256});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/sha3.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");let l=false;const _keccak256=function(e){return(0,o.keccak_256)(e)};let u=_keccak256;function keccak256(e){const t=(0,a.getBytes)(e,"data");return(0,a.hexlify)(u(t))}keccak256._=_keccak256;keccak256.lock=function(){l=true};keccak256.register=function(e){if(l){throw new TypeError("keccak256 is locked")}u=e};Object.freeze(keccak256)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/pbkdf2.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{pbkdf2:()=>pbkdf2});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/crypto-browser.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");let l=false;const _pbkdf2=function(e,t,i,a,l){return(0,o.pbkdf2Sync)(e,t,i,a,l)};let u=_pbkdf2;function pbkdf2(e,t,i,o,l){const d=(0,a.getBytes)(e,"password");const p=(0,a.getBytes)(t,"salt");return(0,a.hexlify)(u(d,p,i,o,l))}pbkdf2._=_pbkdf2;pbkdf2.lock=function(){l=true};pbkdf2.register=function(e){if(l){throw new Error("pbkdf2 is locked")}u=e};Object.freeze(pbkdf2)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/random.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{randomBytes:()=>randomBytes});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/crypto-browser.js");let a=false;const _randomBytes=function(e){return new Uint8Array((0,o.randomBytes)(e))};let l=_randomBytes;function randomBytes(e){return l(e)}randomBytes._=_randomBytes;randomBytes.lock=function(){a=true};randomBytes.register=function(e){if(a){throw new Error("randomBytes is locked")}l=e};Object.freeze(randomBytes)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/ripemd160.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ripemd160:()=>ripemd160});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/ripemd160.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");let l=false;const _ripemd160=function(e){return(0,o.ripemd160)(e)};let u=_ripemd160;function ripemd160(e){const t=(0,a.getBytes)(e,"data");return(0,a.hexlify)(u(t))}ripemd160._=_ripemd160;ripemd160.lock=function(){l=true};ripemd160.register=function(e){if(l){throw new TypeError("ripemd160 is locked")}u=e};Object.freeze(ripemd160)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/scrypt.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{scrypt:()=>scrypt,scryptSync:()=>scryptSync});var o=i("../../node_modules/.pnpm/@noble+hashes@1.3.2/node_modules/@noble/hashes/esm/scrypt.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");let l=false,u=false;const _scryptAsync=async function(e,t,i,a,l,u,d){return await(0,o.scryptAsync)(e,t,{N:i,r:a,p:l,dkLen:u,onProgress:d})};const _scryptSync=function(e,t,i,a,l,u){return(0,o.scrypt)(e,t,{N:i,r:a,p:l,dkLen:u})};let d=_scryptAsync;let p=_scryptSync;async function scrypt(e,t,i,o,l,u,p){const m=(0,a.getBytes)(e,"passwd");const g=(0,a.getBytes)(t,"salt");return(0,a.hexlify)(await d(m,g,i,o,l,u,p))}scrypt._=_scryptAsync;scrypt.lock=function(){u=true};scrypt.register=function(e){if(u){throw new Error("scrypt is locked")}d=e};Object.freeze(scrypt);function scryptSync(e,t,i,o,l,u){const d=(0,a.getBytes)(e,"passwd");const m=(0,a.getBytes)(t,"salt");return(0,a.hexlify)(p(d,m,i,o,l,u))}scryptSync._=_scryptSync;scryptSync.lock=function(){l=true};scryptSync.register=function(e){if(l){throw new Error("scryptSync is locked")}p=e};Object.freeze(scryptSync)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/sha2.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{sha256:()=>sha256,sha512:()=>sha512});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/crypto-browser.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");const _sha256=function(e){return(0,o.createHash)("sha256").update(e).digest()};const _sha512=function(e){return(0,o.createHash)("sha512").update(e).digest()};let l=_sha256;let u=_sha512;let d=false,p=false;function sha256(e){const t=(0,a.getBytes)(e,"data");return(0,a.hexlify)(l(t))}sha256._=_sha256;sha256.lock=function(){d=true};sha256.register=function(e){if(d){throw new Error("sha256 is locked")}l=e};Object.freeze(sha256);function sha512(e){const t=(0,a.getBytes)(e,"data");return(0,a.hexlify)(u(t))}sha512._=_sha512;sha512.lock=function(){p=true};sha512.register=function(e){if(p){throw new Error("sha512 is locked")}u=e};Object.freeze(sha256)},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signature.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Signature:()=>Signature});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/hashes.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");const d=BigInt(0);const p=BigInt(1);const m=BigInt(2);const g=BigInt(27);const v=BigInt(28);const y=BigInt(35);const _={};function toUint256(e){return(0,a.zeroPadValue)((0,l.toBeArray)(e),32)}class Signature{#A;#S;#k;#T;get r(){return this.#A}set r(e){(0,u.assertArgument)((0,a.dataLength)(e)===32,"invalid r","value",e);this.#A=(0,a.hexlify)(e)}get s(){return this.#S}set s(e){(0,u.assertArgument)((0,a.dataLength)(e)===32,"invalid s","value",e);const t=(0,a.hexlify)(e);(0,u.assertArgument)(parseInt(t.substring(0,3))<8,"non-canonical s","value",t);this.#S=t}get v(){return this.#k}set v(e){const t=(0,l.getNumber)(e,"value");(0,u.assertArgument)(t===27||t===28,"invalid v","v",e);this.#k=t}get networkV(){return this.#T}get legacyChainId(){const e=this.networkV;if(e==null){return null}return Signature.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=(0,a.getBytes)(this.s);if(this.yParity){e[0]|=128}return(0,a.hexlify)(e)}get compactSerialized(){return(0,a.concat)([this.r,this.yParityAndS])}get serialized(){return(0,a.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,i,o){(0,u.assertPrivate)(e,_,"Signature");this.#A=t;this.#S=i;this.#k=o;this.#T=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Signature(_,this.r,this.s,this.v);if(this.networkV){e.#T=this.networkV}return e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=(0,l.getBigInt)(e,"v");if(t==g||t==v){return d}(0,u.assertArgument)(t>=y,"invalid EIP-155 v","v",e);return(t-y)/m}static getChainIdV(e,t){return(0,l.getBigInt)(e)*m+BigInt(35+t-27)}static getNormalizedV(e){const t=(0,l.getBigInt)(e);if(t===d||t===g){return 27}if(t===p||t===v){return 28}(0,u.assertArgument)(t>=y,"invalid v","v",e);return t&p?27:28}static from(e){function assertError(t,i){(0,u.assertArgument)(t,i,"signature",e)}if(e==null){return new Signature(_,o.ZeroHash,o.ZeroHash,27)}if(typeof e==="string"){const t=(0,a.getBytes)(e,"signature");if(t.length===64){const e=(0,a.hexlify)(t.slice(0,32));const i=t.slice(32,64);const o=i[0]&128?28:27;i[0]&=127;return new Signature(_,e,(0,a.hexlify)(i),o)}if(t.length===65){const e=(0,a.hexlify)(t.slice(0,32));const i=t.slice(32,64);assertError((i[0]&128)===0,"non-canonical s");const o=Signature.getNormalizedV(t[64]);return new Signature(_,e,(0,a.hexlify)(i),o)}assertError(false,"invalid raw signature length")}if(e instanceof Signature){return e.clone()}const t=e.r;assertError(t!=null,"missing r");const i=toUint256(t);const d=function(e,t){if(e!=null){return toUint256(e)}if(t!=null){assertError((0,a.isHexString)(t,32),"invalid yParityAndS");const e=(0,a.getBytes)(t);e[0]&=127;return(0,a.hexlify)(e)}assertError(false,"missing s")}(e.s,e.yParityAndS);assertError(((0,a.getBytes)(d)[0]&128)==0,"non-canonical s");const{networkV:p,v:m}=function(e,t,i){if(e!=null){const t=(0,l.getBigInt)(e);return{networkV:t>=y?t:undefined,v:Signature.getNormalizedV(t)}}if(t!=null){assertError((0,a.isHexString)(t,32),"invalid yParityAndS");return{v:(0,a.getBytes)(t)[0]&128?28:27}}if(i!=null){switch((0,l.getNumber)(i,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}assertError(false,"invalid yParity")}assertError(false,"missing v")}(e.v,e.yParityAndS,e.yParity);const g=new Signature(_,i,d,m);if(p){g.#T=p}assertError(e.yParity==null||(0,l.getNumber)(e.yParity,"sig.yParity")===g.yParity,"yParity mismatch");assertError(e.yParityAndS==null||e.yParityAndS===g.yParityAndS,"yParityAndS mismatch");return g}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signing-key.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SigningKey:()=>SigningKey});var o=i("../../node_modules/.pnpm/@noble+curves@1.2.0/node_modules/@noble/curves/esm/secp256k1.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signature.js");class SigningKey{#x;constructor(e){(0,a.assertArgument)((0,l.dataLength)(e)===32,"invalid private key","privateKey","[REDACTED]");this.#x=(0,l.hexlify)(e)}get privateKey(){return this.#x}get publicKey(){return SigningKey.computePublicKey(this.#x)}get compressedPublicKey(){return SigningKey.computePublicKey(this.#x,true)}sign(e){(0,a.assertArgument)((0,l.dataLength)(e)===32,"invalid digest length","digest",e);const t=o.secp256k1.sign((0,l.getBytesCopy)(e),(0,l.getBytesCopy)(this.#x),{lowS:true});return d.Signature.from({r:(0,u.toBeHex)(t.r,32),s:(0,u.toBeHex)(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=SigningKey.computePublicKey(e);return(0,l.hexlify)(o.secp256k1.getSharedSecret((0,l.getBytesCopy)(this.#x),(0,l.getBytes)(t),false))}static computePublicKey(e,t){let i=(0,l.getBytes)(e,"key");if(i.length===32){const e=o.secp256k1.getPublicKey(i,!!t);return(0,l.hexlify)(e)}if(i.length===64){const e=new Uint8Array(65);e[0]=4;e.set(i,1);i=e}const a=o.secp256k1.ProjectivePoint.fromHex(i);return(0,l.hexlify)(a.toRawBytes(t))}static recoverPublicKey(e,t){(0,a.assertArgument)((0,l.dataLength)(e)===32,"invalid digest length","digest",e);const i=d.Signature.from(t);let u=o.secp256k1.Signature.fromCompact((0,l.getBytesCopy)((0,l.concat)([i.r,i.s])));u=u.addRecoveryBit(i.yParity);const p=u.recoverPublicKey((0,l.getBytesCopy)(e));(0,a.assertArgument)(p!=null,"invalid signature for digest","signature",t);return"0x"+p.toHex(false)}static addPoints(e,t,i){const a=o.secp256k1.ProjectivePoint.fromHex(SigningKey.computePublicKey(e).substring(2));const l=o.secp256k1.ProjectivePoint.fromHex(SigningKey.computePublicKey(t).substring(2));return"0x"+a.add(l).toHex(!!i)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/authorization.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hashAuthorization:()=>hashAuthorization,verifyAuthorization:()=>verifyAuthorization});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/rlp-encode.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");function hashAuthorization(e){(0,u.assertArgument)(typeof e.address==="string","invalid address for hashAuthorization","auth.address",e);return(0,a.keccak256)((0,d.concat)(["0x05",(0,p.encodeRlp)([e.chainId!=null?(0,m.toBeArray)(e.chainId):"0x",(0,o.getAddress)(e.address),e.nonce!=null?(0,m.toBeArray)(e.nonce):"0x"])]))}function verifyAuthorization(e,t){return(0,l.recoverAddress)(hashAuthorization(e),t)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/id.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{id:()=>id});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");function id(e){return(0,o.keccak256)((0,a.toUtf8Bytes)(e))}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/message.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hashMessage:()=>hashMessage,verifyMessage:()=>verifyMessage});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/strings.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");function hashMessage(e){if(typeof e==="string"){e=(0,u.toUtf8Bytes)(e)}return(0,o.keccak256)((0,d.concat)([(0,u.toUtf8Bytes)(a.MessagePrefix),(0,u.toUtf8Bytes)(String(e.length)),e]))}function verifyMessage(e,t){const i=hashMessage(e);return(0,l.recoverAddress)(i,t)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/namehash.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{dnsEncode:()=>dnsEncode,ensNormalize:()=>ensNormalize,isValidName:()=>isValidName,namehash:()=>namehash});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var d=i("../../node_modules/.pnpm/@adraffy+ens-normalize@1.10.1/node_modules/@adraffy/ens-normalize/dist/index.mjs");const p=new Uint8Array(32);p.fill(0);function checkComponent(e){(0,a.assertArgument)(e.length!==0,"invalid ENS name; empty component","comp",e);return e}function ensNameSplit(e){const t=(0,l.toUtf8Bytes)(ensNormalize(e));const i=[];if(e.length===0){return i}let o=0;for(let e=0;e<t.length;e++){const a=t[e];if(a===46){i.push(checkComponent(t.slice(o,e)));o=e+1}}(0,a.assertArgument)(o<t.length,"invalid ENS name; empty component","name",e);i.push(checkComponent(t.slice(o)));return i}function ensNormalize(e){try{if(e.length===0){throw new Error("empty label")}return(0,d.ens_normalize)(e)}catch(t){(0,a.assertArgument)(false,`invalid ENS name (${t.message})`,"name",e)}}function isValidName(e){try{return ensNameSplit(e).length!==0}catch(e){}return false}function namehash(e){(0,a.assertArgument)(typeof e==="string","invalid ENS name; not a string","name",e);(0,a.assertArgument)(e.length,`invalid ENS name (empty label)`,"name",e);let t=p;const i=ensNameSplit(e);while(i.length){t=(0,o.keccak256)((0,u.concat)([t,(0,o.keccak256)(i.pop())]))}return(0,u.hexlify)(t)}function dnsEncode(e,t){const i=t!=null?t:63;(0,a.assertArgument)(i<=255,"DNS encoded label cannot exceed 255","length",i);return(0,u.hexlify)((0,u.concat)(ensNameSplit(e).map(t=>{(0,a.assertArgument)(t.length<=i,`label ${JSON.stringify(e)} exceeds ${i} bytes`,"name",e);const o=new Uint8Array(t.length+1);o.set(t,1);o[0]=o.length-1;return o})))+"00"}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/typed-data.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TypedDataEncoder:()=>TypedDataEncoder,verifyTypedData:()=>verifyTypedData});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/id.js");const v=new Uint8Array(32);v.fill(0);const y=BigInt(-1);const _=BigInt(0);const w=BigInt(1);const A=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function hexPadRight(e){const t=(0,u.getBytes)(e);const i=t.length%32;if(i){return(0,u.concat)([t,v.slice(i)])}return(0,u.hexlify)(t)}const k=(0,d.toBeHex)(w,32);const T=(0,d.toBeHex)(_,32);const x={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"};const I=["name","version","chainId","verifyingContract","salt"];function checkString(e){return function(t){(0,p.assertArgument)(typeof t==="string",`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t);return t}}const N={name:checkString("name"),version:checkString("version"),chainId:function(e){const t=(0,d.getBigInt)(e,"domain.chainId");(0,p.assertArgument)(t>=0,"invalid chain ID","domain.chainId",e);if(Number.isSafeInteger(t)){return Number(t)}return(0,d.toQuantity)(t)},verifyingContract:function(e){try{return(0,o.getAddress)(e).toLowerCase()}catch(e){}(0,p.assertArgument)(false,`invalid domain value "verifyingContract"`,"domain.verifyingContract",e)},salt:function(e){const t=(0,u.getBytes)(e,"domain.salt");(0,p.assertArgument)(t.length===32,`invalid domain value "salt"`,"domain.salt",e);return(0,u.hexlify)(t)}};function getBaseEncoder(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const i=t[1]==="";const o=parseInt(t[2]);(0,p.assertArgument)(o%8===0&&o!==0&&o<=256&&t[2]===String(o),"invalid numeric width","type",e);const a=(0,d.mask)(A,i?o-1:o);const l=i?(a+w)*y:_;return function(t){const o=(0,d.getBigInt)(t,"value");(0,p.assertArgument)(o>=l&&o<=a,`value out-of-bounds for ${e}`,"value",o);return(0,d.toBeHex)(i?(0,d.toTwos)(o,256):o,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const i=parseInt(t[1]);(0,p.assertArgument)(i!==0&&i<=32&&t[1]===String(i),"invalid bytes width","type",e);return function(t){const o=(0,u.getBytes)(t);(0,p.assertArgument)(o.length===i,`invalid length for ${e}`,"value",t);return hexPadRight(t)}}}switch(e){case"address":return function(e){return(0,u.zeroPadValue)((0,o.getAddress)(e),32)};case"bool":return function(e){return!e?T:k};case"bytes":return function(e){return(0,a.keccak256)(e)};case"string":return function(e){return(0,g.id)(e)}}return null}function encodeType(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function splitArray(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);if(t){return{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}}return{base:e}}class TypedDataEncoder{primaryType;#I;get types(){return JSON.parse(this.#I)}#N;#P;constructor(e){this.#N=new Map;this.#P=new Map;const t=new Map;const i=new Map;const o=new Map;const a={};Object.keys(e).forEach(l=>{a[l]=e[l].map(({name:t,type:i})=>{let{base:o,index:a}=splitArray(i);if(o==="int"&&!e["int"]){o="int256"}if(o==="uint"&&!e["uint"]){o="uint256"}return{name:t,type:o+(a||"")}});t.set(l,new Set);i.set(l,[]);o.set(l,new Set)});this.#I=JSON.stringify(a);for(const o in a){const l=new Set;for(const u of a[o]){(0,p.assertArgument)(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(o)}`,"types",e);l.add(u.name);const a=splitArray(u.type).base;(0,p.assertArgument)(a!==o,`circular type reference to ${JSON.stringify(a)}`,"types",e);const d=getBaseEncoder(a);if(d){continue}(0,p.assertArgument)(i.has(a),`unknown type ${JSON.stringify(a)}`,"types",e);i.get(a).push(o);t.get(o).add(a)}}const l=Array.from(i.keys()).filter(e=>i.get(e).length===0);(0,p.assertArgument)(l.length!==0,"missing primary type","types",e);(0,p.assertArgument)(l.length===1,`ambiguous primary types or unused types: ${l.map(e=>JSON.stringify(e)).join(", ")}`,"types",e);(0,m.defineProperties)(this,{primaryType:l[0]});function checkCircular(a,l){(0,p.assertArgument)(!l.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e);l.add(a);for(const e of t.get(a)){if(!i.has(e)){continue}checkCircular(e,l);for(const t of l){o.get(t).add(e)}}l.delete(a)}checkCircular(this.primaryType,new Set);for(const[e,t]of o){const i=Array.from(t);i.sort();this.#N.set(e,encodeType(e,a[e])+i.map(e=>encodeType(e,a[e])).join(""))}}getEncoder(e){let t=this.#P.get(e);if(!t){t=this.#C(e);this.#P.set(e,t)}return t}#C(e){{const t=getBaseEncoder(e);if(t){return t}}const t=splitArray(e).array;if(t){const e=t.prefix;const i=this.getEncoder(e);return o=>{(0,p.assertArgument)(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let l=o.map(i);if(this.#N.has(e)){l=l.map(a.keccak256)}return(0,a.keccak256)((0,u.concat)(l))}}const i=this.types[e];if(i){const t=(0,g.id)(this.#N.get(e));return e=>{const o=i.map(({name:t,type:i})=>{const o=this.getEncoder(i)(e[t]);if(this.#N.has(i)){return(0,a.keccak256)(o)}return o});o.unshift(t);return(0,u.concat)(o)}}(0,p.assertArgument)(false,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#N.get(e);(0,p.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e);return t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,a.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){{const o=getBaseEncoder(e);if(o){return i(e,t)}}const o=splitArray(e).array;if(o){(0,p.assertArgument)(o.count===-1||o.count===t.length,`array length mismatch; expected length ${o.count}`,"value",t);return t.map(e=>this._visit(o.prefix,e,i))}const a=this.types[e];if(a){return a.reduce((e,{name:o,type:a})=>{e[o]=this._visit(a,t[o],i);return e},{})}(0,p.assertArgument)(false,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new TypedDataEncoder(e)}static getPrimaryType(e){return TypedDataEncoder.from(e).primaryType}static hashStruct(e,t,i){return TypedDataEncoder.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){if(e[i]==null){continue}const o=x[i];(0,p.assertArgument)(o,`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e);t.push({name:i,type:o})}t.sort((e,t)=>I.indexOf(e.name)-I.indexOf(t.name));return TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return(0,u.concat)(["0x1901",TypedDataEncoder.hashDomain(e),TypedDataEncoder.from(t).hash(i)])}static hash(e,t,i){return(0,a.keccak256)(TypedDataEncoder.encode(e,t,i))}static async resolveNames(e,t,i,o){e=Object.assign({},e);for(const t in e){if(e[t]==null){delete e[t]}}const a={};if(e.verifyingContract&&!(0,u.isHexString)(e.verifyingContract,20)){a[e.verifyingContract]="0x"}const l=TypedDataEncoder.from(t);l.visit(i,(e,t)=>{if(e==="address"&&!(0,u.isHexString)(t,20)){a[t]="0x"}return t});for(const e in a){a[e]=await o(e)}if(e.verifyingContract&&a[e.verifyingContract]){e.verifyingContract=a[e.verifyingContract]}i=l.visit(i,(e,t)=>{if(e==="address"&&a[t]){return a[t]}return t});return{domain:e,value:i}}static getPayload(e,t,i){TypedDataEncoder.hashDomain(e);const o={};const a=[];I.forEach(t=>{const i=e[t];if(i==null){return}o[t]=N[t](i);a.push({name:t,type:x[t]})});const l=TypedDataEncoder.from(t);t=l.types;const m=Object.assign({},t);(0,p.assertArgument)(m.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t);m.EIP712Domain=a;l.encode(i);return{types:m,domain:o,primaryType:l.primaryType,message:l.visit(i,(e,t)=>{if(e.match(/^bytes(\d*)/)){return(0,u.hexlify)((0,u.getBytes)(t))}if(e.match(/^u?int/)){return(0,d.getBigInt)(t).toString()}switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":(0,p.assertArgument)(typeof t==="string","invalid string","value",t);return t}(0,p.assertArgument)(false,"unsupported type","type",e)})}}}function verifyTypedData(e,t,i,o){return(0,l.recoverAddress)(TypedDataEncoder.hash(e,t,i),o)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/abstract-provider.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbstractProvider:()=>AbstractProvider,UnmanagedSubscriber:()=>UnmanagedSubscriber});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/addresses.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/contract.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/namehash.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/transaction.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/fetch.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/events.js");var A=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var k=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/ens-resolver.js");var T=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/format.js");var x=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/network.js");var I=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider.js");var N=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/subscriber-polling.js");const P=BigInt(2);const C=10;function isPromise(e){return e&&typeof e.then==="function"}function getTag(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(t==null){return"null"}if(typeof t==="bigint"){return`bigint:${t.toString()}`}if(typeof t==="string"){return t.toLowerCase()}if(typeof t==="object"&&!Array.isArray(t)){const e=Object.keys(t);e.sort();return e.reduce((e,i)=>{e[i]=t[i];return e},{})}return t})}class UnmanagedSubscriber{name;constructor(e){(0,m.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function copy(e){return JSON.parse(JSON.stringify(e))}function concisify(e){e=Array.from(new Set(e).values());e.sort();return e}async function getSubscription(e,t){if(e==null){throw new Error("invalid event")}if(Array.isArray(e)){e={topics:e}}if(typeof e==="string"){switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":{return{type:e,tag:e}}}}if((0,g.isHexString)(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:getTag("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:getTag("orphan",t),filter:copy(t)}}if(e.address||e.topics){const i=e;const a={topics:(i.topics||[]).map(e=>{if(e==null){return null}if(Array.isArray(e)){return concisify(e.map(e=>e.toLowerCase()))}return e.toLowerCase()})};if(i.address){const e=[];const l=[];const addAddress=i=>{if((0,g.isHexString)(i)){e.push(i)}else{l.push((async()=>{e.push(await(0,o.resolveAddress)(i,t))})())}};if(Array.isArray(i.address)){i.address.forEach(addAddress)}else{addAddress(i.address)}if(l.length){await Promise.all(l)}a.address=concisify(e.map(e=>e.toLowerCase()))}return{filter:a,tag:getTag("event",a),type:"event"}}(0,v.assertArgument)(false,"unknown ProviderEvent","event",e)}function getTime(){return(new Date).getTime()}const M={cacheTimeout:250,pollingInterval:4e3};class AbstractProvider{#M;#B;#R;#j;#O;#D;#L;#F;#U;#K;#H;#_;constructor(e,t){this.#_=Object.assign({},M,t||{});if(e==="any"){this.#D=true;this.#O=null}else if(e){const t=x.Network.from(e);this.#D=false;this.#O=Promise.resolve(t);setTimeout(()=>{this.emit("network",t,null)},0)}else{this.#D=false;this.#O=null}this.#F=-1;this.#L=new Map;this.#M=new Map;this.#B=new Map;this.#R=null;this.#j=false;this.#U=1;this.#K=new Map;this.#H=false}get pollingInterval(){return this.#_.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#B.values())}attachPlugin(e){if(this.#B.get(e.name)){throw new Error(`cannot replace existing plugin: ${e.name} `)}this.#B.set(e.name,e.connect(this));return this}getPlugin(e){return this.#B.get(e)||null}get disableCcipRead(){return this.#H}set disableCcipRead(e){this.#H=!!e}async#q(e){const t=this.#_.cacheTimeout;if(t<0){return await this._perform(e)}const i=getTag(e.method,e);let o=this.#L.get(i);if(!o){o=this._perform(e);this.#L.set(i,o);setTimeout(()=>{if(this.#L.get(i)===o){this.#L.delete(i)}},t)}return await o}async ccipReadFetch(e,t,i){if(this.disableCcipRead||i.length===0||e.to==null){return null}const o=e.to.toLowerCase();const a=t.toLowerCase();const l=[];for(let t=0;t<i.length;t++){const u=i[t];const d=u.replace("{sender}",o).replace("{data}",a);const p=new y.FetchRequest(d);if(u.indexOf("{data}")===-1){p.body={data:a,sender:o}}this.emit("debug",{action:"sendCcipReadFetchRequest",request:p,index:t,urls:i});let m="unknown error";let g;try{g=await p.send()}catch(e){l.push(e.message);this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:{error:e}});continue}try{const e=g.bodyJson;if(e.data){this.emit("debug",{action:"receiveCcipReadFetchResult",request:p,result:e});return e.data}if(e.message){m=e.message}this.emit("debug",{action:"receiveCcipReadFetchError",request:p,result:e})}catch(e){}(0,v.assert)(g.statusCode<400||g.statusCode>=500,`response not found during CCIP fetch: ${m}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:m}});l.push(m)}(0,v.assert)(false,`error encountered during CCIP fetch: ${l.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:i,errorMessages:l}})}_wrapBlock(e,t){return new I.Block((0,T.formatBlock)(e),this)}_wrapLog(e,t){return new I.Log((0,T.formatLog)(e),this)}_wrapTransactionReceipt(e,t){return new I.TransactionReceipt((0,T.formatTransactionReceipt)(e),this)}_wrapTransactionResponse(e,t){return new I.TransactionResponse((0,T.formatTransactionResponse)(e),this)}_detectNetwork(){(0,v.assert)(false,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,v.assert)(false,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=(0,_.getNumber)(await this.#q({method:"getBlockNumber"}),"%response");if(this.#F>=0){this.#F=e}return e}_getAddress(e){return(0,o.resolveAddress)(e,this)}_getBlockTag(e){if(e==null){return"latest"}switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if((0,g.isHexString)(e)){if((0,g.isHexString)(e,32)){return e}return(0,_.toQuantity)(e)}if(typeof e==="bigint"){e=(0,_.getNumber)(e,"blockTag")}if(typeof e==="number"){if(e>=0){return(0,_.toQuantity)(e)}if(this.#F>=0){return(0,_.toQuantity)(this.#F+e)}return this.getBlockNumber().then(t=>(0,_.toQuantity)(t+e))}(0,v.assertArgument)(false,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(e=>{if(e==null){return null}if(Array.isArray(e)){return concisify(e.map(e=>e.toLowerCase()))}return e.toLowerCase()});const i="blockHash"in e?e.blockHash:undefined;const resolve=(e,o,a)=>{let l=undefined;switch(e.length){case 0:break;case 1:l=e[0];break;default:e.sort();l=e}if(i){if(o!=null||a!=null){throw new Error("invalid filter")}}const u={};if(l){u.address=l}if(t.length){u.topics=t}if(o){u.fromBlock=o}if(a){u.toBlock=a}if(i){u.blockHash=i}return u};let o=[];if(e.address){if(Array.isArray(e.address)){for(const t of e.address){o.push(this._getAddress(t))}}else{o.push(this._getAddress(e.address))}}let a=undefined;if("fromBlock"in e){a=this._getBlockTag(e.fromBlock)}let l=undefined;if("toBlock"in e){l=this._getBlockTag(e.toBlock)}if(o.filter(e=>typeof e!=="string").length||a!=null&&typeof a!=="string"||l!=null&&typeof l!=="string"){return Promise.all([Promise.all(o),a,l]).then(e=>resolve(e[0],e[1],e[2]))}return resolve(o,a,l)}_getTransactionRequest(e){const t=(0,I.copyRequest)(e);const i=[];["to","from"].forEach(e=>{if(t[e]==null){return}const a=(0,o.resolveAddress)(t[e],this);if(isPromise(a)){i.push(async function(){t[e]=await a}())}else{t[e]=a}});if(t.blockTag!=null){const e=this._getBlockTag(t.blockTag);if(isPromise(e)){i.push(async function(){t.blockTag=await e}())}else{t.blockTag=e}}if(i.length){return async function(){await Promise.all(i);return t}()}return t}async getNetwork(){if(this.#O==null){const e=(async()=>{try{const e=await this._detectNetwork();this.emit("network",e,null);return e}catch(t){if(this.#O===e){this.#O=null}throw t}})();this.#O=e;return(await e).clone()}const e=this.#O;const[t,i]=await Promise.all([e,this._detectNetwork()]);if(t.chainId!==i.chainId){if(this.#D){this.emit("network",i,t);if(this.#O===e){this.#O=Promise.resolve(i)}}else{(0,v.assert)(false,`network changed: ${t.chainId} => ${i.chainId} `,"NETWORK_ERROR",{event:"changed"})}}return t.clone()}async getFeeData(){const e=await this.getNetwork();const getFeeDataFunc=async()=>{const{_block:t,gasPrice:i,priorityFee:o}=await(0,m.resolveProperties)({_block:this.#G("latest",false),gasPrice:(async()=>{try{const e=await this.#q({method:"getGasPrice"});return(0,_.getBigInt)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{const e=await this.#q({method:"getPriorityFee"});return(0,_.getBigInt)(e,"%response")}catch(e){}return null})()});let a=null;let l=null;const u=this._wrapBlock(t,e);if(u&&u.baseFeePerGas){l=o!=null?o:BigInt("1000000000");a=u.baseFeePerGas*P+l}return new I.FeeData(i,a,l)};const t=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(t){const e=new y.FetchRequest(t.url);const i=await t.processFunc(getFeeDataFunc,this,e);return new I.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await getFeeDataFunc()}async estimateGas(e){let t=this._getTransactionRequest(e);if(isPromise(t)){t=await t}return(0,_.getBigInt)(await this.#q({method:"estimateGas",transaction:t}),"%response")}async#z(e,t,i){(0,v.assert)(i<C,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:true})});const a=(0,I.copyRequest)(e);try{return(0,g.hexlify)(await this._perform({method:"call",transaction:a,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,v.isCallException)(e)&&e.data&&i>=0&&t==="latest"&&a.to!=null&&(0,g.dataSlice)(e.data,0,4)==="0x556f1830"){const l=e.data;const u=await(0,o.resolveAddress)(a.to,this);let d;try{d=parseOffchainLookup((0,g.dataSlice)(e.data,4))}catch(e){(0,v.assert)(false,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:a,info:{data:l}})}(0,v.assert)(d.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:l,reason:"OffchainLookup",transaction:a,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:d.errorArgs}});const p=await this.ccipReadFetch(a,d.calldata,d.urls);(0,v.assert)(p!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:a,info:{data:e.data,errorArgs:d.errorArgs}});const m={to:u,data:(0,g.concat)([d.selector,encodeBytes([p,d.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:m});try{const e=await this.#z(m,t,i+1);this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},m),result:e});return e}catch(e){this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},m),error:e});throw e}}throw e}}async#W(e){const{value:t}=await(0,m.resolveProperties)({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:i}=await(0,m.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#W(this.#z(t,i,e.enableCcipRead?0:-1))}async#V(e,t,i){let o=this._getAddress(t);let a=this._getBlockTag(i);if(typeof o!=="string"||typeof a!=="string"){[o,a]=await Promise.all([o,a])}return await this.#W(this.#q(Object.assign(e,{address:o,blockTag:a})))}async getBalance(e,t){return(0,_.getBigInt)(await this.#V({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,_.getNumber)(await this.#V({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,g.hexlify)(await this.#V({method:"getCode"},e,t))}async getStorage(e,t,i){const o=(0,_.getBigInt)(t,"position");return(0,g.hexlify)(await this.#V({method:"getStorage",position:o},e,i))}async broadcastTransaction(e){const{blockNumber:t,hash:i,network:o}=await(0,m.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()});const a=p.Transaction.from(e);if(a.hash!==i){throw new Error("@TODO: the returned hash did not match")}return this._wrapTransactionResponse(a,o).replaceableTransaction(t)}async#G(e,t){if((0,g.isHexString)(e,32)){return await this.#q({method:"getBlock",blockHash:e,includeTransactions:t})}let i=this._getBlockTag(e);if(typeof i!=="string"){i=await i}return await this.#q({method:"getBlock",blockTag:i,includeTransactions:t})}async getBlock(e,t){const{network:i,params:o}=await(0,m.resolveProperties)({network:this.getNetwork(),params:this.#G(e,!!t)});if(o==null){return null}return this._wrapBlock(o,i)}async getTransaction(e){const{network:t,params:i}=await(0,m.resolveProperties)({network:this.getNetwork(),params:this.#q({method:"getTransaction",hash:e})});if(i==null){return null}return this._wrapTransactionResponse(i,t)}async getTransactionReceipt(e){const{network:t,params:i}=await(0,m.resolveProperties)({network:this.getNetwork(),params:this.#q({method:"getTransactionReceipt",hash:e})});if(i==null){return null}if(i.gasPrice==null&&i.effectiveGasPrice==null){const t=await this.#q({method:"getTransaction",hash:e});if(t==null){throw new Error("report this; could not find tx or effectiveGasPrice")}i.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(i,t)}async getTransactionResult(e){const{result:t}=await(0,m.resolveProperties)({network:this.getNetwork(),result:this.#q({method:"getTransactionResult",hash:e})});if(t==null){return null}return(0,g.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);if(isPromise(t)){t=await t}const{network:i,params:o}=await(0,m.resolveProperties)({network:this.getNetwork(),params:this.#q({method:"getLogs",filter:t})});return o.map(e=>this._wrapLog(e,i))}_getProvider(e){(0,v.assert)(false,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await k.EnsResolver.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);if(t){return await t.getAvatar()}return null}async resolveName(e){const t=await this.getResolver(e);if(t){return await t.getAddress()}return null}async lookupAddress(e){e=(0,a.getAddress)(e);const t=(0,d.namehash)(e.substring(2).toLowerCase()+".addr.reverse");try{const i=await k.EnsResolver.getEnsAddress(this);const o=new u.Contract(i,["function resolver(bytes32) view returns (address)"],this);const a=await o.resolver(t);if(a==null||a===l.ZeroAddress){return null}const d=new u.Contract(a,["function name(bytes32) view returns (string)"],this);const p=await d.name(t);const m=await this.resolveName(p);if(m!==e){return null}return p}catch(e){if((0,v.isError)(e,"BAD_DATA")&&e.value==="0x"){return null}if((0,v.isError)(e,"CALL_EXCEPTION")){return null}throw e}{}}async waitForTransaction(e,t,i){const o=t!=null?t:1;if(o===0){return this.getTransactionReceipt(e)}return new Promise(async(t,a)=>{let l=null;const listener=async i=>{try{const a=await this.getTransactionReceipt(e);if(a!=null){if(i-a.blockNumber+1>=o){t(a);if(l){clearTimeout(l);l=null}return}}}catch(e){console.log("EEE",e)}this.once("block",listener)};if(i!=null){l=setTimeout(()=>{if(l==null){return}l=null;this.off("block",listener);a((0,v.makeError)("timeout","TIMEOUT",{reason:"timeout"}))},i)}listener(await this.getBlockNumber())})}async waitForBlock(e){(0,v.assert)(false,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#K.get(e);if(!t){return}if(t.timer){clearTimeout(t.timer)}this.#K.delete(e)}_setTimeout(e,t){if(t==null){t=0}const i=this.#U++;const func=()=>{this.#K.delete(i);e()};if(this.paused){this.#K.set(i,{timer:null,func,time:t})}else{const e=setTimeout(func,t);this.#K.set(i,{timer:e,func,time:getTime()})}return i}_forEachSubscriber(e){for(const t of this.#M.values()){e(t.subscriber)}}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new UnmanagedSubscriber(e.type);case"block":{const e=new N.PollingBlockSubscriber(this);e.pollingInterval=this.pollingInterval;return e}case"safe":case"finalized":return new N.PollingBlockTagSubscriber(this,e.type);case"event":return new N.PollingEventSubscriber(this,e.filter);case"transaction":return new N.PollingTransactionSubscriber(this,e.hash);case"orphan":return new N.PollingOrphanSubscriber(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const i of this.#M.values()){if(i.subscriber===e){if(i.started){i.subscriber.stop()}i.subscriber=t;if(i.started){t.start()}if(this.#R!=null){t.pause(this.#R)}break}}}async#Y(e,t){let i=await getSubscription(e,this);if(i.type==="event"&&t&&t.length>0&&t[0].removed===true){i=await getSubscription({orphan:"drop-log",log:t[0]},this)}return this.#M.get(i.tag)||null}async#$(e){const t=await getSubscription(e,this);const i=t.tag;let o=this.#M.get(i);if(!o){const e=this._getSubscriber(t);const a=new WeakMap;const l=new Map;o={subscriber:e,tag:i,addressableMap:a,nameMap:l,started:false,listeners:[]};this.#M.set(i,o)}return o}async on(e,t){const i=await this.#$(e);i.listeners.push({listener:t,once:false});if(!i.started){i.subscriber.start();i.started=true;if(this.#R!=null){i.subscriber.pause(this.#R)}}return this}async once(e,t){const i=await this.#$(e);i.listeners.push({listener:t,once:true});if(!i.started){i.subscriber.start();i.started=true;if(this.#R!=null){i.subscriber.pause(this.#R)}}return this}async emit(e,...t){const i=await this.#Y(e,t);if(!i||i.listeners.length===0){return false}const o=i.listeners.length;i.listeners=i.listeners.filter(({listener:i,once:o})=>{const a=new w.EventPayload(this,o?null:i,e);try{i.call(this,...t,a)}catch(e){}return!o});if(i.listeners.length===0){if(i.started){i.subscriber.stop()}this.#M.delete(i.tag)}return o>0}async listenerCount(e){if(e){const t=await this.#Y(e);if(!t){return 0}return t.listeners.length}let t=0;for(const{listeners:e}of this.#M.values()){t+=e.length}return t}async listeners(e){if(e){const t=await this.#Y(e);if(!t){return[]}return t.listeners.map(({listener:e})=>e)}let t=[];for(const{listeners:e}of this.#M.values()){t=t.concat(e.map(({listener:e})=>e))}return t}async off(e,t){const i=await this.#Y(e);if(!i){return this}if(t){const e=i.listeners.map(({listener:e})=>e).indexOf(t);if(e>=0){i.listeners.splice(e,1)}}if(!t||i.listeners.length===0){if(i.started){i.subscriber.stop()}this.#M.delete(i.tag)}return this}async removeAllListeners(e){if(e){const{tag:t,started:i,subscriber:o}=await this.#$(e);if(i){o.stop()}this.#M.delete(t)}else{for(const[e,{started:t,subscriber:i}]of this.#M){if(t){i.stop()}this.#M.delete(e)}}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#j}destroy(){this.removeAllListeners();for(const e of this.#K.keys()){this._clearTimeout(e)}this.#j=true}get paused(){return this.#R!=null}set paused(e){if(!!e===this.paused){return}if(this.paused){this.resume()}else{this.pause(false)}}pause(e){this.#F=-1;if(this.#R!=null){if(this.#R==!!e){return}(0,v.assert)(false,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e));this.#R=!!e;for(const e of this.#K.values()){if(e.timer){clearTimeout(e.timer)}e.time=getTime()-e.time}}resume(){if(this.#R==null){return}this._forEachSubscriber(e=>e.resume());this.#R=null;for(const e of this.#K.values()){let t=e.time;if(t<0){t=0}e.time=getTime();setTimeout(e.func,t)}}}function _parseString(e,t){try{const i=_parseBytes(e,t);if(i){return(0,A.toUtf8String)(i)}}catch(e){}return null}function _parseBytes(e,t){if(e==="0x"){return null}try{const i=(0,_.getNumber)((0,g.dataSlice)(e,t,t+32));const o=(0,_.getNumber)((0,g.dataSlice)(e,i,i+32));return(0,g.dataSlice)(e,i+32,i+32+o)}catch(e){}return null}function numPad(e){const t=(0,_.toBeArray)(e);if(t.length>32){throw new Error("internal; should not happen")}const i=new Uint8Array(32);i.set(t,32-t.length);return i}function bytesPad(e){if(e.length%32===0){return e}const t=new Uint8Array(Math.ceil(e.length/32)*32);t.set(e);return t}const B=new Uint8Array([]);function encodeBytes(e){const t=[];let i=0;for(let o=0;o<e.length;o++){t.push(B);i+=32}for(let o=0;o<e.length;o++){const a=(0,g.getBytes)(e[o]);t[o]=numPad(i);t.push(numPad(a.length));t.push(bytesPad(a));i+=32+Math.ceil(a.length/32)*32}return(0,g.concat)(t)}const j="0x0000000000000000000000000000000000000000000000000000000000000000";function parseOffchainLookup(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,v.assert)((0,g.dataLength)(e)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const i=(0,g.dataSlice)(e,0,32);(0,v.assert)((0,g.dataSlice)(i,0,12)===(0,g.dataSlice)(j,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"});t.sender=(0,g.dataSlice)(i,12);try{const i=[];const o=(0,_.getNumber)((0,g.dataSlice)(e,32,64));const a=(0,_.getNumber)((0,g.dataSlice)(e,o,o+32));const l=(0,g.dataSlice)(e,o+32);for(let e=0;e<a;e++){const t=_parseString(l,e*32);if(t==null){throw new Error("abort")}i.push(t)}t.urls=i}catch(e){(0,v.assert)(false,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const i=_parseBytes(e,64);if(i==null){throw new Error("abort")}t.calldata=i}catch(e){(0,v.assert)(false,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,v.assert)((0,g.dataSlice)(e,100,128)===(0,g.dataSlice)(j,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"});t.selector=(0,g.dataSlice)(e,96,100);try{const i=_parseBytes(e,128);if(i==null){throw new Error("abort")}t.extraData=i}catch(e){(0,v.assert)(false,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]);return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/abstract-signer.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbstractSigner:()=>AbstractSigner,VoidSigner:()=>VoidSigner});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/transaction.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider.js");function checkProvider(e,t){if(e.provider){return e.provider}(0,l.assert)(false,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function populate(e,t){let i=(0,p.copyRequest)(t);if(i.to!=null){i.to=(0,o.resolveAddress)(i.to,e)}if(i.from!=null){const t=i.from;i.from=Promise.all([e.getAddress(),(0,o.resolveAddress)(t,e)]).then(([e,t])=>{(0,l.assertArgument)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t);return e})}else{i.from=e.getAddress()}return await(0,u.resolveProperties)(i)}class AbstractSigner{provider;constructor(e){(0,u.defineProperties)(this,{provider:e||null})}async getNonce(e){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){const t=await populate(this,e);return t}async populateTransaction(e){const t=checkProvider(this,"populateTransaction");const i=await populate(this,e);if(i.nonce==null){i.nonce=await this.getNonce("pending")}if(i.gasLimit==null){i.gasLimit=await this.estimateGas(i)}const o=await this.provider.getNetwork();if(i.chainId!=null){const t=(0,d.getBigInt)(i.chainId);(0,l.assertArgument)(t===o.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else{i.chainId=o.chainId}const a=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||a)){(0,l.assertArgument)(false,"eip-1559 transaction do not support gasPrice","tx",e)}else if((i.type===0||i.type===1)&&a){(0,l.assertArgument)(false,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e)}if((i.type===2||i.type==null)&&(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)){i.type=2}else if(i.type===0||i.type===1){const e=await t.getFeeData();(0,l.assert)(e.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"});if(i.gasPrice==null){i.gasPrice=e.gasPrice}}else{const e=await t.getFeeData();if(i.type==null){if(e.maxFeePerGas!=null&&e.maxPriorityFeePerGas!=null){if(i.authorizationList&&i.authorizationList.length){i.type=4}else{i.type=2}if(i.gasPrice!=null){const e=i.gasPrice;delete i.gasPrice;i.maxFeePerGas=e;i.maxPriorityFeePerGas=e}else{if(i.maxFeePerGas==null){i.maxFeePerGas=e.maxFeePerGas}if(i.maxPriorityFeePerGas==null){i.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}else if(e.gasPrice!=null){(0,l.assert)(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"});if(i.gasPrice==null){i.gasPrice=e.gasPrice}i.type=0}else{(0,l.assert)(false,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"})}}else if(i.type===2||i.type===3||i.type===4){if(i.maxFeePerGas==null){i.maxFeePerGas=e.maxFeePerGas}if(i.maxPriorityFeePerGas==null){i.maxPriorityFeePerGas=e.maxPriorityFeePerGas}}}return await(0,u.resolveProperties)(i)}async populateAuthorization(e){const t=Object.assign({},e);if(t.chainId==null){t.chainId=(await checkProvider(this,"getNetwork").getNetwork()).chainId}if(t.nonce==null){t.nonce=await this.getNonce()}return t}async estimateGas(e){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return checkProvider(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=checkProvider(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=checkProvider(this,"sendTransaction");const i=await this.populateTransaction(e);delete i.from;const o=a.Transaction.from(i);return await t.broadcastTransaction(await this.signTransaction(o))}authorize(e){(0,l.assert)(false,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class VoidSigner extends AbstractSigner{address;constructor(e,t){super(t);(0,u.defineProperties)(this,{address:e})}async getAddress(){return this.address}connect(e){return new VoidSigner(this.address,e)}#J(e,t){(0,l.assert)(false,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#J("transactions","signTransaction")}async signMessage(e){this.#J("messages","signMessage")}async signTypedData(e,t,i){this.#J("typed-data","signTypedData")}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/ens-resolver.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BasicMulticoinProviderPlugin:()=>BasicMulticoinProviderPlugin,EnsResolver:()=>EnsResolver,MulticoinProviderPlugin:()=>MulticoinProviderPlugin});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/addresses.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/contract.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/namehash.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/base58.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/fetch.js");function getIpfsLink(e){if(e.match(/^ipfs:\/\/ipfs\//i)){e=e.substring(12)}else if(e.match(/^ipfs:\/\//i)){e=e.substring(7)}else{(0,d.assertArgument)(false,"unsupported IPFS format","link",e)}return`https://gateway.ipfs.io/ipfs/${e}`}class MulticoinProviderPlugin{name;constructor(e){(0,p.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return false}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const _="org.ethers.plugins.provider.BasicMulticoin";class BasicMulticoinProviderPlugin extends MulticoinProviderPlugin{constructor(){super(_)}}const w=new RegExp("^(ipfs)://(.*)$","i");const A=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),w,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class EnsResolver{provider;address;name;#Q;#Z;constructor(e,t,i){(0,p.defineProperties)(this,{provider:e,address:t,name:i});this.#Q=null;this.#Z=new l.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){if(this.#Q==null){this.#Q=(async()=>{try{return await this.#Z.supportsInterface("0x9061b923")}catch(e){if((0,d.isError)(e,"CALL_EXCEPTION")){return false}this.#Q=null;throw e}})()}return await this.#Q}async#X(e,t){t=(t||[]).slice();const i=this.#Z.interface;t.unshift((0,u.namehash)(this.name));let o=null;if(await this.supportsWildcard()){o=i.getFunction(e);(0,d.assert)(o,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}});t=[(0,u.dnsEncode)(this.name,255),i.encodeFunctionData(o,t)];e="resolve(bytes,bytes)"}t.push({enableCcipRead:true});try{const a=await this.#Z[e](...t);if(o){return i.decodeFunctionResult(o,a)[0]}return a}catch(e){if(!(0,d.isError)(e,"CALL_EXCEPTION")){throw e}}return null}async getAddress(e){if(e==null){e=60}if(e===60){try{const e=await this.#X("addr(bytes32)");if(e==null||e===a.ZeroAddress){return null}return e}catch(e){if((0,d.isError)(e,"CALL_EXCEPTION")){return null}throw e}}if(e>=0&&e<2147483648){let t=e+2147483648;const i=await this.#X("addr(bytes32,uint)",[t]);if((0,m.isHexString)(i,20)){return(0,o.getAddress)(i)}}let t=null;for(const i of this.provider.plugins){if(!(i instanceof MulticoinProviderPlugin)){continue}if(i.supportsCoinType(e)){t=i;break}}if(t==null){return null}const i=await this.#X("addr(bytes32,uint)",[e]);if(i==null||i==="0x"){return null}const l=await t.decodeAddress(e,i);if(l!=null){return l}(0,d.assert)(false,`invalid coin data`,"UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:i}})}async getText(e){const t=await this.#X("text(bytes32,string)",[e]);if(t==null||t==="0x"){return null}return t}async getContentHash(){const e=await this.#X("contenthash(bytes32)");if(e==null||e==="0x"){return null}const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=t[1]==="e3010170"?"ipfs":"ipns";const i=parseInt(t[4],16);if(t[5].length===i*2){return`${e}://${(0,g.encodeBase58)("0x"+t[2])}`}}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64){return`bzz://${i[1]}`}(0,d.assert)(false,`invalid or unsupported content hash data`,"UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){const e=await this._getAvatar();return e.url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null){e.push({type:"!avatar",value:""});return{url:null,linkage:e}}e.push({type:"avatar",value:t});for(let i=0;i<A.length;i++){const o=t.match(A[i]);if(o==null){continue}const a=o[1].toLowerCase();switch(a){case"https":case"data":e.push({type:"url",value:t});return{linkage:e,url:t};case"ipfs":{const i=getIpfsLink(t);e.push({type:"ipfs",value:t});e.push({type:"url",value:i});return{linkage:e,url:i}}case"erc721":case"erc1155":{const i=a==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});const u=await this.getAddress();if(u==null){e.push({type:"!owner",value:""});return{url:null,linkage:e}}const d=(o[2]||"").split("/");if(d.length!==2){e.push({type:`!${a}caip`,value:o[2]||""});return{url:null,linkage:e}}const p=d[1];const g=new l.Contract(d[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(a==="erc721"){const t=await g.ownerOf(p);if(u!==t){e.push({type:"!owner",value:t});return{url:null,linkage:e}}e.push({type:"owner",value:t})}else if(a==="erc1155"){const t=await g.balanceOf(u,p);if(!t){e.push({type:"!balance",value:"0"});return{url:null,linkage:e}}e.push({type:"balance",value:t.toString()})}let _=await g[i](p);if(_==null||_==="0x"){e.push({type:"!metadata-url",value:""});return{url:null,linkage:e}}e.push({type:"metadata-url-base",value:_});if(a==="erc1155"){_=_.replace("{id}",(0,v.toBeHex)(p,32).substring(2));e.push({type:"metadata-url-expanded",value:_})}if(_.match(/^ipfs:/i)){_=getIpfsLink(_)}e.push({type:"metadata-url",value:_});let A={};const k=await new y.FetchRequest(_).send();k.assertOk();try{A=k.bodyJson}catch(t){try{e.push({type:"!metadata",value:k.bodyText})}catch(t){const i=k.body;if(i){e.push({type:"!metadata",value:(0,m.hexlify)(i)})}return{url:null,linkage:e}}return{url:null,linkage:e}}if(!A){e.push({type:"!metadata",value:""});return{url:null,linkage:e}}e.push({type:"metadata",value:JSON.stringify(A)});let T=A.image;if(typeof T!=="string"){e.push({type:"!imageUrl",value:""});return{url:null,linkage:e}}if(T.match(/^(https:\/\/|data:)/i)){}else{const t=T.match(w);if(t==null){e.push({type:"!imageUrl-ipfs",value:T});return{url:null,linkage:e}}e.push({type:"imageUrl-ipfs",value:T});T=getIpfsLink(T)}e.push({type:"url",value:T});return{linkage:e,url:T}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork();const i=t.getPlugin("org.ethers.plugins.network.Ens");(0,d.assert)(i,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}});return i.address}static async#ee(e,t){const i=await EnsResolver.getEnsAddress(e);try{const o=new l.Contract(i,["function resolver(bytes32) view returns (address)"],e);const d=await o.resolver((0,u.namehash)(t),{enableCcipRead:true});if(d===a.ZeroAddress){return null}return d}catch(e){throw e}{}}static async fromName(e,t){let i=t;while(true){if(i===""||i==="."){return null}if(t!=="eth"&&i==="eth"){return null}const o=await EnsResolver.#ee(e,i);if(o!=null){const a=new EnsResolver(e,o,t);if(i!==t&&!await a.supportsWildcard()){return null}return a}i=i.split(".").slice(1).join(".")}}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/format.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{allowNull:()=>allowNull,arrayOf:()=>arrayOf,formatBlock:()=>formatBlock,formatBoolean:()=>formatBoolean,formatData:()=>formatData,formatHash:()=>formatHash,formatLog:()=>formatLog,formatReceiptLog:()=>formatReceiptLog,formatTransactionReceipt:()=>formatTransactionReceipt,formatTransactionResponse:()=>formatTransactionResponse,formatUint256:()=>formatUint256,object:()=>object});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/contract-address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signature.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/accesslist.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");const g=BigInt(0);function allowNull(e,t){return function(i){if(i==null){return t}return e(i)}}function arrayOf(e,t){return i=>{if(t&&i==null){return null}if(!Array.isArray(i)){throw new Error("not an array")}return i.map(t=>e(t))}}function object(e,t){return i=>{const o={};for(const a in e){let l=a;if(t&&a in t&&!(l in i)){for(const e of t[a]){if(e in i){l=e;break}}}try{const t=e[a](i[l]);if(t!==undefined){o[a]=t}}catch(e){const t=e instanceof Error?e.message:"not-an-error";(0,d.assert)(false,`invalid value for value.${a} (${t})`,"BAD_DATA",{value:i})}}return o}}function formatBoolean(e){switch(e){case true:case"true":return true;case false:case"false":return false}(0,d.assertArgument)(false,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}function formatData(e){(0,d.assertArgument)((0,p.isHexString)(e,true),"invalid data","value",e);return e}function formatHash(e){(0,d.assertArgument)((0,p.isHexString)(e,32),"invalid hash","value",e);return e}function formatUint256(e){if(!(0,p.isHexString)(e)){throw new Error("invalid uint256")}return(0,p.zeroPadValue)(e,32)}const v=object({address:o.getAddress,blockHash:formatHash,blockNumber:m.getNumber,data:formatData,index:m.getNumber,removed:allowNull(formatBoolean,false),topics:arrayOf(formatHash),transactionHash:formatHash,transactionIndex:m.getNumber},{index:["logIndex"]});function formatLog(e){return v(e)}const y=object({hash:allowNull(formatHash),parentHash:formatHash,parentBeaconBlockRoot:allowNull(formatHash,null),number:m.getNumber,timestamp:m.getNumber,nonce:allowNull(formatData),difficulty:m.getBigInt,gasLimit:m.getBigInt,gasUsed:m.getBigInt,stateRoot:allowNull(formatHash,null),receiptsRoot:allowNull(formatHash,null),blobGasUsed:allowNull(m.getBigInt,null),excessBlobGas:allowNull(m.getBigInt,null),miner:allowNull(o.getAddress),prevRandao:allowNull(formatHash,null),extraData:formatData,baseFeePerGas:allowNull(m.getBigInt)},{prevRandao:["mixHash"]});function formatBlock(e){const t=y(e);t.transactions=e.transactions.map(e=>{if(typeof e==="string"){return e}return formatTransactionResponse(e)});return t}const _=object({transactionIndex:m.getNumber,blockNumber:m.getNumber,transactionHash:formatHash,address:o.getAddress,topics:arrayOf(formatHash),data:formatData,index:m.getNumber,blockHash:formatHash},{index:["logIndex"]});function formatReceiptLog(e){return _(e)}const w=object({to:allowNull(o.getAddress,null),from:allowNull(o.getAddress,null),contractAddress:allowNull(o.getAddress,null),index:m.getNumber,root:allowNull(p.hexlify),gasUsed:m.getBigInt,blobGasUsed:allowNull(m.getBigInt,null),logsBloom:allowNull(formatData),blockHash:formatHash,hash:formatHash,logs:arrayOf(formatReceiptLog),blockNumber:m.getNumber,cumulativeGasUsed:m.getBigInt,effectiveGasPrice:allowNull(m.getBigInt),blobGasPrice:allowNull(m.getBigInt,null),status:allowNull(m.getNumber),type:allowNull(m.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionReceipt(e){return w(e)}function formatTransactionResponse(e){if(e.to&&(0,m.getBigInt)(e.to)===g){e.to="0x0000000000000000000000000000000000000000"}const t=object({hash:formatHash,index:allowNull(m.getNumber,undefined),type:e=>{if(e==="0x"||e==null){return 0}return(0,m.getNumber)(e)},accessList:allowNull(u.accessListify,null),blobVersionedHashes:allowNull(arrayOf(formatHash,true),null),authorizationList:allowNull(arrayOf(e=>{let t;if(e.signature){t=e.signature}else{let i=e.yParity;if(i==="0x1b"){i=0}else if(i==="0x1c"){i=1}t=Object.assign({},e,{yParity:i})}return{address:(0,o.getAddress)(e.address),chainId:(0,m.getBigInt)(e.chainId),nonce:(0,m.getBigInt)(e.nonce),signature:l.Signature.from(t)}},false),null),blockHash:allowNull(formatHash,null),blockNumber:allowNull(m.getNumber,null),transactionIndex:allowNull(m.getNumber,null),from:o.getAddress,gasPrice:allowNull(m.getBigInt),maxPriorityFeePerGas:allowNull(m.getBigInt),maxFeePerGas:allowNull(m.getBigInt),maxFeePerBlobGas:allowNull(m.getBigInt,null),gasLimit:m.getBigInt,to:allowNull(o.getAddress,null),value:m.getBigInt,nonce:m.getNumber,data:formatData,creates:allowNull(o.getAddress,null),chainId:allowNull(m.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(t.to==null&&t.creates==null){t.creates=(0,a.getCreateAddress)(t)}if((e.type===1||e.type===2)&&e.accessList==null){t.accessList=[]}if(e.signature){t.signature=l.Signature.from(e.signature)}else{t.signature=l.Signature.from(e)}if(t.chainId==null){const e=t.signature.legacyChainId;if(e!=null){t.chainId=e}}if(t.blockHash&&(0,m.getBigInt)(t.blockHash)===g){t.blockHash=null}return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/network.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Network:()=>Network});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/accesslist.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/plugins-network.js");const d=new Map;class Network{#te;#re;#B;constructor(e,t){this.#te=e;this.#re=(0,a.getBigInt)(t);this.#B=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#te}set name(e){this.#te=e}get chainId(){return this.#re}set chainId(e){this.#re=(0,a.getBigInt)(e,"chainId")}matches(e){if(e==null){return false}if(typeof e==="string"){try{return this.chainId===(0,a.getBigInt)(e)}catch(e){}return this.name===e}if(typeof e==="number"||typeof e==="bigint"){try{return this.chainId===(0,a.getBigInt)(e)}catch(e){}return false}if(typeof e==="object"){if(e.chainId!=null){try{return this.chainId===(0,a.getBigInt)(e.chainId)}catch(e){}return false}if(e.name!=null){return this.name===e.name}return false}return false}get plugins(){return Array.from(this.#B.values())}attachPlugin(e){if(this.#B.get(e.name)){throw new Error(`cannot replace existing plugin: ${e.name} `)}this.#B.set(e.name,e.clone());return this}getPlugin(e){return this.#B.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Network(this.name,this.chainId);this.plugins.forEach(t=>{e.attachPlugin(t.clone())});return e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new u.GasCostPlugin;let i=t.txBase;if(e.to==null){i+=t.txCreate}if(e.data){for(let o=2;o<e.data.length;o+=2){if(e.data.substring(o,o+2)==="00"){i+=t.txDataZero}else{i+=t.txDataNonzero}}}if(e.accessList){const a=(0,o.accessListify)(e.accessList);for(const e in a){i+=t.txAccessListAddress+t.txAccessListStorageKey*a[e].storageKeys.length}}return i}static from(e){injectCommonNetworks();if(e==null){return Network.from("mainnet")}if(typeof e==="number"){e=BigInt(e)}if(typeof e==="string"||typeof e==="bigint"){const t=d.get(e);if(t){return t()}if(typeof e==="bigint"){return new Network("unknown",e)}(0,l.assertArgument)(false,"unknown network","network",e)}if(typeof e.clone==="function"){const t=e.clone();return t}if(typeof e==="object"){(0,l.assertArgument)(typeof e.name==="string"&&typeof e.chainId==="number","invalid network object name or chainId","network",e);const t=new Network(e.name,e.chainId);if(e.ensAddress||e.ensNetwork!=null){t.attachPlugin(new u.EnsPlugin(e.ensAddress,e.ensNetwork))}return t}(0,l.assertArgument)(false,"invalid network","network",e)}static register(e,t){if(typeof e==="number"){e=BigInt(e)}const i=d.get(e);if(i){(0,l.assertArgument)(false,`conflicting network for ${JSON.stringify(i.name)}`,"nameOrChainId",e)}d.set(e,t)}}function parseUnits(e,t){const i=String(e);if(!i.match(/^[0-9.]+$/)){throw new Error(`invalid gwei value: ${e}`)}const o=i.split(".");if(o.length===1){o.push("")}if(o.length!==2){throw new Error(`invalid gwei value: ${e}`)}while(o[1].length<t){o[1]+="0"}if(o[1].length>9){let e=BigInt(o[1].substring(0,9));if(!o[1].substring(9).match(/^0+$/)){e++}o[1]=e.toString()}return BigInt(o[0]+o[1])}function getGasStationPlugin(e){return new u.FetchUrlFeeDataNetworkPlugin(e,async(e,t,i)=>{i.setHeader("User-Agent","ethers");let o;try{const[t,a]=await Promise.all([i.send(),e()]);o=t;const l=o.bodyJson.standard;const u={gasPrice:a.gasPrice,maxFeePerGas:parseUnits(l.maxFee,9),maxPriorityFeePerGas:parseUnits(l.maxPriorityFee,9)};return u}catch(e){(0,l.assert)(false,`error encountered with polygon gas station (${JSON.stringify(i.url)})`,"SERVER_ERROR",{request:i,response:o,error:e})}})}let p=false;function injectCommonNetworks(){if(p){return}p=true;function registerEth(e,t,i){const func=function(){const o=new Network(e,t);if(i.ensNetwork!=null){o.attachPlugin(new u.EnsPlugin(null,i.ensNetwork))}o.attachPlugin(new u.GasCostPlugin);(i.plugins||[]).forEach(e=>{o.attachPlugin(e)});return o};Network.register(e,func);Network.register(t,func);if(i.altNames){i.altNames.forEach(e=>{Network.register(e,func)})}}registerEth("mainnet",1,{ensNetwork:1,altNames:["homestead"]});registerEth("ropsten",3,{ensNetwork:3});registerEth("rinkeby",4,{ensNetwork:4});registerEth("goerli",5,{ensNetwork:5});registerEth("kovan",42,{ensNetwork:42});registerEth("sepolia",11155111,{ensNetwork:11155111});registerEth("holesky",17e3,{ensNetwork:17e3});registerEth("classic",61,{});registerEth("classicKotti",6,{});registerEth("arbitrum",42161,{ensNetwork:1});registerEth("arbitrum-goerli",421613,{});registerEth("arbitrum-sepolia",421614,{});registerEth("base",8453,{ensNetwork:1});registerEth("base-goerli",84531,{});registerEth("base-sepolia",84532,{});registerEth("bnb",56,{ensNetwork:1});registerEth("bnbt",97,{});registerEth("linea",59144,{ensNetwork:1});registerEth("linea-goerli",59140,{});registerEth("linea-sepolia",59141,{});registerEth("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin("https://gasstation.polygon.technology/v2")]});registerEth("matic-amoy",80002,{});registerEth("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin("https://gasstation-testnet.polygon.technology/v2")]});registerEth("optimism",10,{ensNetwork:1,plugins:[]});registerEth("optimism-goerli",420,{});registerEth("optimism-sepolia",11155420,{});registerEth("xdai",100,{ensNetwork:1})}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/plugins-network.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EnsPlugin:()=>EnsPlugin,FeeDataNetworkPlugin:()=>FeeDataNetworkPlugin,FetchUrlFeeDataNetworkPlugin:()=>FetchUrlFeeDataNetworkPlugin,GasCostPlugin:()=>GasCostPlugin,NetworkPlugin:()=>NetworkPlugin});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");const l="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class NetworkPlugin{name;constructor(e){(0,o.defineProperties)(this,{name:e})}clone(){return new NetworkPlugin(this.name)}}class GasCostPlugin extends NetworkPlugin{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){if(e==null){e=0}super(`org.ethers.network.plugins.GasCost#${e||0}`);const i={effectiveBlock:e};function set(e,o){let l=(t||{})[e];if(l==null){l=o}(0,a.assertArgument)(typeof l==="number",`invalud value for ${e}`,"costs",t);i[e]=l}set("txBase",21e3);set("txCreate",32e3);set("txDataZero",4);set("txDataNonzero",16);set("txAccessListStorageKey",1900);set("txAccessListAddress",2400);(0,o.defineProperties)(this,i)}clone(){return new GasCostPlugin(this.effectiveBlock,this)}}class EnsPlugin extends NetworkPlugin{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens");(0,o.defineProperties)(this,{address:e||l,targetNetwork:t==null?1:t})}clone(){return new EnsPlugin(this.address,this.targetNetwork)}}class FeeDataNetworkPlugin extends NetworkPlugin{#ne;get feeDataFunc(){return this.#ne}constructor(e){super("org.ethers.plugins.network.FeeData");this.#ne=e}async getFeeData(e){return await this.#ne(e)}clone(){return new FeeDataNetworkPlugin(this.#ne)}}class FetchUrlFeeDataNetworkPlugin extends NetworkPlugin{#se;#ie;get url(){return this.#se}get processFunc(){return this.#ie}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");this.#se=e;this.#ie=t}clone(){return this}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider-jsonrpc.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{JsonRpcApiPollingProvider:()=>JsonRpcApiPollingProvider,JsonRpcApiProvider:()=>JsonRpcApiProvider,JsonRpcProvider:()=>JsonRpcProvider,JsonRpcSigner:()=>JsonRpcSigner});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/abi-coder.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/typed-data.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/accesslist.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/authorization.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/fetch.js");var A=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/abstract-provider.js");var k=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/abstract-signer.js");var T=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/network.js");var x=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/subscriber-filterid.js");var I=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/subscriber-polling.js");const N="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy(e){if(e==null||N.indexOf(typeof e)>=0){return e}if(typeof e.getAddress==="function"){return e}if(Array.isArray(e)){return e.map(deepCopy)}if(typeof e==="object"){return Object.keys(e).reduce((t,i)=>{t[i]=e[i];return t},{})}throw new Error(`should not happen: ${e} (${typeof e})`)}function stall(e){return new Promise(t=>{setTimeout(t,e)})}function getLowerCase(e){if(e){return e.toLowerCase()}return e}function isPollable(e){return e&&typeof e.pollingInterval==="number"}const P={polling:false,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class JsonRpcSigner extends k.AbstractSigner{address;constructor(e,t){super(e);t=(0,a.getAddress)(t);(0,m.defineProperties)(this,{address:t})}connect(e){(0,g.assert)(false,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=deepCopy(e);const i=[];if(t.from){const o=t.from;i.push((async()=>{const i=await(0,l.resolveAddress)(o,this.provider);(0,g.assertArgument)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e);t.from=i})())}else{t.from=this.address}if(t.gasLimit==null){i.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})())}if(t.to!=null){const e=t.to;i.push((async()=>{t.to=await(0,l.resolveAddress)(e,this.provider)})())}if(i.length){await Promise.all(i)}const o=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[o])}async sendTransaction(e){const t=await this.provider.getBlockNumber();const i=await this.sendUncheckedTransaction(e);return await new Promise((e,o)=>{const a=[1e3,100];let l=0;const checkTx=async()=>{try{const o=await this.provider.getTransaction(i);if(o!=null){e(o.replaceableTransaction(t));return}}catch(e){if((0,g.isError)(e,"CANCELLED")||(0,g.isError)(e,"BAD_DATA")||(0,g.isError)(e,"NETWORK_ERROR")||(0,g.isError)(e,"UNSUPPORTED_OPERATION")){if(e.info==null){e.info={}}e.info.sendTransactionHash=i;o(e);return}if((0,g.isError)(e,"INVALID_ARGUMENT")){l++;if(e.info==null){e.info={}}e.info.sendTransactionHash=i;if(l>10){o(e);return}}this.provider.emit("error",(0,g.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{checkTx()},a.pop()||4e3)};checkTx()})}async signTransaction(e){const t=deepCopy(e);if(t.from){const i=await(0,l.resolveAddress)(t.from,this.provider);(0,g.assertArgument)(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e);t.from=i}else{t.from=this.address}const i=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[i])}async signMessage(e){const t=typeof e==="string"?(0,v.toUtf8Bytes)(e):e;return await this.provider.send("personal_sign",[(0,y.hexlify)(t),this.address.toLowerCase()])}async signTypedData(e,t,i){const o=deepCopy(i);const a=await u.TypedDataEncoder.resolveNames(e,t,o,async e=>{const t=await(0,l.resolveAddress)(e);(0,g.assertArgument)(t!=null,"TypedData does not support null address","value",e);return t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(u.TypedDataEncoder.getPayload(a.domain,t,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e==="string"?(0,v.toUtf8Bytes)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,y.hexlify)(t)])}}class JsonRpcApiProvider extends A.AbstractProvider{#_;#oe;#ae;#le;#ce;#ue;#de;#fe(){if(this.#le){return}const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#le=setTimeout(()=>{this.#le=null;const e=this.#ae;this.#ae=[];while(e.length){const t=[e.shift()];while(e.length){if(t.length===this.#_.batchMaxCount){break}t.push(e.shift());const i=JSON.stringify(t.map(e=>e.payload));if(i.length>this.#_.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=t.length===1?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const i=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:i});for(const{resolve:e,reject:o,payload:a}of t){if(this.destroyed){o((0,g.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}));continue}const t=i.filter(e=>e.id===a.id)[0];if(t==null){const e=(0,g.makeError)("missing response for request","BAD_DATA",{value:i,info:{payload:a}});this.emit("error",e);o(e);continue}if("error"in t){o(this.getRpcError(a,t));continue}e(t.result)}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:i}of t){i(e)}}})()}},e)}constructor(e,t){super(e,t);this.#oe=1;this.#_=Object.assign({},P,t||{});this.#ae=[];this.#le=null;this.#ue=null;this.#de=null;{let e=null;const t=new Promise(t=>{e=t});this.#ce={promise:t,resolve:e}}const i=this._getOption("staticNetwork");if(typeof i==="boolean"){(0,g.assertArgument)(!i||e!=="any","staticNetwork cannot be used on special network 'any'","options",t);if(i&&e!=null){this.#ue=T.Network.from(e)}}else if(i){(0,g.assertArgument)(e==null||i.matches(e),"staticNetwork MUST match network object","options",t);this.#ue=i}}_getOption(e){return this.#_[e]}get _network(){(0,g.assert)(this.#ue,"network is not available yet","NETWORK_ERROR");return this.#ue}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let t=e.transaction;if(t&&t.type!=null&&(0,_.getBigInt)(t.type)){if(t.maxFeePerGas==null&&t.maxPriorityFeePerGas==null){const i=await this.getFeeData();if(i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){e=Object.assign({},e,{transaction:Object.assign({},t,{type:undefined})})}}}}const t=this.getRpcRequest(e);if(t!=null){return await this.send(t.method,t.args)}return super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(e===true){if(this.#ue){return this.#ue}}else{return e}}if(this.#de){return await this.#de}if(this.ready){this.#de=(async()=>{try{const e=T.Network.from((0,_.getBigInt)(await this.send("eth_chainId",[])));this.#de=null;return e}catch(e){this.#de=null;throw e}})();return await this.#de}this.#de=(async()=>{const e={id:this.#oe++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:e});let t;try{t=(await this._send(e))[0];this.#de=null}catch(e){this.#de=null;this.emit("debug",{action:"receiveRpcError",error:e});throw e}this.emit("debug",{action:"receiveRpcResult",result:t});if("result"in t){return T.Network.from((0,_.getBigInt)(t.result))}throw this.getRpcError(e,t)})();return await this.#de}_start(){if(this.#ce==null||this.#ce.resolve==null){return}this.#ce.resolve();this.#ce=null;(async()=>{while(this.#ue==null&&!this.destroyed){try{this.#ue=await this._detectNetwork()}catch(e){if(this.destroyed){break}console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)");this.emit("error",(0,g.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}}));await stall(1e3)}}this.#fe()})()}async _waitUntilReady(){if(this.#ce==null){return}return await this.#ce.promise}_getSubscriber(e){if(e.type==="pending"){return new x.FilterIdPendingSubscriber(this)}if(e.type==="event"){if(this._getOption("polling")){return new I.PollingEventSubscriber(this,e.filter)}return new x.FilterIdEventSubscriber(this,e.filter)}if(e.type==="orphan"&&e.filter.orphan==="drop-log"){return new A.UnmanagedSubscriber("orphan")}return super._getSubscriber(e)}get ready(){return this.#ce==null}getRpcTransaction(e){const t={};["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(e[i]==null){return}let o=i;if(i==="gasLimit"){o="gas"}t[o]=(0,_.toQuantity)((0,_.getBigInt)(e[i],`tx.${i}`))});["from","to","data"].forEach(i=>{if(e[i]==null){return}t[i]=(0,y.hexlify)(e[i])});if(e.accessList){t["accessList"]=(0,d.accessListify)(e.accessList)}if(e.blobVersionedHashes){t["blobVersionedHashes"]=e.blobVersionedHashes.map(e=>e.toLowerCase())}if(e.authorizationList){t["authorizationList"]=e.authorizationList.map(e=>{const t=(0,p.authorizationify)(e);return{address:t.address,nonce:(0,_.toQuantity)(t.nonce),chainId:(0,_.toQuantity)(t.chainId),yParity:(0,_.toQuantity)(t.signature.yParity),r:(0,_.toQuantity)(t.signature.r),s:(0,_.toQuantity)(t.signature.s)}})}return t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e){return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]}}else if("blockHash"in e){return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]}}break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":{return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]}}case"getLogs":if(e.filter&&e.filter.address!=null){if(Array.isArray(e.filter.address)){e.filter.address=e.filter.address.map(getLowerCase)}else{e.filter.address=getLowerCase(e.filter.address)}}return{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:i}=e;const{error:a}=t;if(i==="eth_estimateGas"&&a.message){const t=a.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i)){return(0,g.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:a}})}else if(t.match(/nonce/i)&&t.match(/too low/i)){return(0,g.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:a}})}}if(i==="eth_call"||i==="eth_estimateGas"){const t=spelunkData(a);const l=o.AbiCoder.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",e.params[0],t?t.data:null);l.info={error:a,payload:e};return l}const l=JSON.stringify(spelunkMessage(a));if(typeof a.message==="string"&&a.message.match(/user denied|ethers-user-denied/i)){const t={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,g.makeError)(`user rejected action`,"ACTION_REJECTED",{action:t[i]||"unknown",reason:"rejected",info:{payload:e,error:a}})}if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const t=e.params[0];if(l.match(/insufficient funds|base fee exceeds gas limit/i)){return(0,g.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:a}})}if(l.match(/nonce/i)&&l.match(/too low/i)){return(0,g.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:a}})}if(l.match(/replacement transaction/i)&&l.match(/underpriced/i)){return(0,g.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:a}})}if(l.match(/only replay-protected/i)){return(0,g.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:t,info:{error:a}}})}}let u=!!l.match(/the method .* does not exist/i);if(!u){if(a&&a.details&&a.details.startsWith("Unauthorized method:")){u=true}}if(u){return(0,g.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:a,payload:e}})}return(0,g.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:e})}send(e,t){if(this.destroyed){return Promise.reject((0,g.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}))}const i=this.#oe++;const o=new Promise((o,a)=>{this.#ae.push({resolve:o,reject:a,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})});this.#fe();return o}async getSigner(e){if(e==null){e=0}const t=this.send("eth_accounts",[]);if(typeof e==="number"){const i=await t;if(e>=i.length){throw new Error("no such account")}return new JsonRpcSigner(this,i[e])}const{accounts:i}=await(0,m.resolveProperties)({network:this.getNetwork(),accounts:t});e=(0,a.getAddress)(e);for(const t of i){if((0,a.getAddress)(t)===e){return new JsonRpcSigner(this,e)}}throw new Error("invalid account")}async listAccounts(){const e=await this.send("eth_accounts",[]);return e.map(e=>new JsonRpcSigner(this,e))}destroy(){if(this.#le){clearTimeout(this.#le);this.#le=null}for(const{payload:e,reject:t}of this.#ae){t((0,g.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}))}this.#ae=[];super.destroy()}}class JsonRpcApiPollingProvider extends JsonRpcApiProvider{#he;constructor(e,t){super(e,t);let i=this._getOption("pollingInterval");if(i==null){i=P.pollingInterval}this.#he=i}_getSubscriber(e){const t=super._getSubscriber(e);if(isPollable(t)){t.pollingInterval=this.#he}return t}get pollingInterval(){return this.#he}set pollingInterval(e){if(!Number.isInteger(e)||e<0){throw new Error("invalid interval")}this.#he=e;this._forEachSubscriber(e=>{if(isPollable(e)){e.pollingInterval=this.#he}})}}class JsonRpcProvider extends JsonRpcApiPollingProvider{#pe;constructor(e,t,i){if(e==null){e="http://localhost:8545"}super(t,i);if(typeof e==="string"){this.#pe=new w.FetchRequest(e)}else{this.#pe=e.clone()}}_getConnection(){return this.#pe.clone()}async send(e,t){await this._start();return await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e);t.setHeader("content-type","application/json");const i=await t.send();i.assertOk();let o=i.bodyJson;if(!Array.isArray(o)){o=[o]}return o}}function spelunkData(e){if(e==null){return null}if(typeof e.message==="string"&&e.message.match(/revert/i)&&(0,y.isHexString)(e.data)){return{message:e.message,data:e.data}}if(typeof e==="object"){for(const t in e){const i=spelunkData(e[t]);if(i){return i}}return null}if(typeof e==="string"){try{return spelunkData(JSON.parse(e))}catch(e){}}return null}function _spelunkMessage(e,t){if(e==null){return}if(typeof e.message==="string"){t.push(e.message)}if(typeof e==="object"){for(const i in e){_spelunkMessage(e[i],t)}}if(typeof e==="string"){try{return _spelunkMessage(JSON.parse(e),t)}catch(e){}}}function spelunkMessage(e){const t=[];_spelunkMessage(e,t);return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Block:()=>Block,FeeData:()=>FeeData,Log:()=>Log,TransactionReceipt:()=>TransactionReceipt,TransactionResponse:()=>TransactionResponse,copyRequest:()=>copyRequest});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/accesslist.js");const p=BigInt(0);function getValue(e){if(e==null){return null}return e}function toJson(e){if(e==null){return null}return e.toString()}class FeeData{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,i){(0,o.defineProperties)(this,{gasPrice:getValue(e),maxFeePerGas:getValue(t),maxPriorityFeePerGas:getValue(i)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:i}=this;return{_type:"FeeData",gasPrice:toJson(e),maxFeePerGas:toJson(t),maxPriorityFeePerGas:toJson(i)}}}function copyRequest(e){const t={};if(e.to){t.to=e.to}if(e.from){t.from=e.from}if(e.data){t.data=(0,a.hexlify)(e.data)}const i="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const o of i){if(!(o in e)||e[o]==null){continue}t[o]=(0,l.getBigInt)(e[o],`request.${o}`)}const o="type,nonce".split(/,/);for(const i of o){if(!(i in e)||e[i]==null){continue}t[i]=(0,l.getNumber)(e[i],`request.${i}`)}if(e.accessList){t.accessList=(0,d.accessListify)(e.accessList)}if(e.authorizationList){t.authorizationList=e.authorizationList.slice()}if("blockTag"in e){t.blockTag=e.blockTag}if("enableCcipRead"in e){t.enableCcipRead=!!e.enableCcipRead}if("customData"in e){t.customData=e.customData}if("blobVersionedHashes"in e&&e.blobVersionedHashes){t.blobVersionedHashes=e.blobVersionedHashes.slice()}if("kzg"in e){t.kzg=e.kzg}if("blobs"in e&&e.blobs){t.blobs=e.blobs.map(e=>{if((0,a.isBytesLike)(e)){return(0,a.hexlify)(e)}return Object.assign({},e)})}return t}class Block{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#me;constructor(e,t){this.#me=e.transactions.map(e=>{if(typeof e!=="string"){return new TransactionResponse(e,t)}return e});(0,o.defineProperties)(this,{provider:t,hash:getValue(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:getValue(e.prevRandao),extraData:e.extraData,baseFeePerGas:getValue(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#me.map(e=>{if(typeof e==="string"){return e}return e.hash})}get prefetchedTransactions(){const e=this.#me.slice();if(e.length===0){return[]}(0,u.assert)(typeof e[0]==="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"});return e}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:i,gasLimit:o,gasUsed:a,hash:l,miner:u,prevRandao:d,nonce:p,number:m,parentHash:g,parentBeaconBlockRoot:v,stateRoot:y,receiptsRoot:_,timestamp:w,transactions:A}=this;return{_type:"Block",baseFeePerGas:toJson(e),difficulty:toJson(t),extraData:i,gasLimit:toJson(o),gasUsed:toJson(a),blobGasUsed:toJson(this.blobGasUsed),excessBlobGas:toJson(this.excessBlobGas),hash:l,miner:u,prevRandao:d,nonce:p,number:m,parentHash:g,timestamp:w,parentBeaconBlockRoot:v,stateRoot:y,receiptsRoot:_,transactions:A}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>{if(e<this.length){return{value:t[e++],done:false}}return{value:undefined,done:true}}}}get length(){return this.#me.length}get date(){if(this.timestamp==null){return null}return new Date(this.timestamp*1e3)}async getTransaction(e){let t=undefined;if(typeof e==="number"){t=this.#me[e]}else{const i=e.toLowerCase();for(const e of this.#me){if(typeof e==="string"){if(e!==i){continue}t=e;break}else{if(e.hash!==i){continue}t=e;break}}}if(t==null){throw new Error("no such tx")}if(typeof t==="string"){return await this.provider.getTransaction(t)}else{return t}}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e==="number"){return t[e]}e=e.toLowerCase();for(const i of t){if(i.hash===e){return i}}(0,u.assertArgument)(false,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined()){throw new Error("")}return createOrphanedBlockFilter(this)}}class Log{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const i=Object.freeze(e.topics.slice());(0,o.defineProperties)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:i,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:i,data:o,index:a,removed:l,topics:u,transactionHash:d,transactionIndex:p}=this;return{_type:"log",address:e,blockHash:t,blockNumber:i,data:o,index:a,removed:l,topics:u,transactionHash:d,transactionIndex:p}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);(0,u.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{});return e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);(0,u.assert)(!!e,"failed to find transaction","UNKNOWN_ERROR",{});return e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);(0,u.assert)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{});return e}removedEvent(){return createRemovedLogFilter(this)}}class TransactionReceipt{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#ge;constructor(e,t){this.#ge=Object.freeze(e.logs.map(e=>new Log(e,t)));let i=p;if(e.effectiveGasPrice!=null){i=e.effectiveGasPrice}else if(e.gasPrice!=null){i=e.gasPrice}(0,o.defineProperties)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:i,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#ge}toJSON(){const{to:e,from:t,contractAddress:i,hash:o,index:a,blockHash:l,blockNumber:u,logsBloom:d,logs:p,status:m,root:g}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:u,contractAddress:i,cumulativeGasUsed:toJson(this.cumulativeGasUsed),from:t,gasPrice:toJson(this.gasPrice),blobGasUsed:toJson(this.blobGasUsed),blobGasPrice:toJson(this.blobGasPrice),gasUsed:toJson(this.gasUsed),hash:o,index:a,logs:p,logsBloom:d,root:g,status:m,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>{if(e<this.length){return{value:this.logs[e++],done:false}}return{value:undefined,done:true}}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null){throw new Error("TODO")}return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null){throw new Error("TODO")}return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter(this)}reorderedEvent(e){(0,u.assert)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"});return createReorderedTransactionFilter(this,e)}}class TransactionResponse{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#ve;constructor(e,t){this.provider=t;this.blockNumber=e.blockNumber!=null?e.blockNumber:null;this.blockHash=e.blockHash!=null?e.blockHash:null;this.hash=e.hash;this.index=e.index;this.type=e.type;this.from=e.from;this.to=e.to||null;this.gasLimit=e.gasLimit;this.nonce=e.nonce;this.data=e.data;this.value=e.value;this.gasPrice=e.gasPrice;this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null;this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null;this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null;this.chainId=e.chainId;this.signature=e.signature;this.accessList=e.accessList!=null?e.accessList:null;this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null;this.authorizationList=e.authorizationList!=null?e.authorizationList:null;this.#ve=-1}toJSON(){const{blockNumber:e,blockHash:t,index:i,hash:o,type:a,to:l,from:u,nonce:d,data:p,signature:m,accessList:g,blobVersionedHashes:v}=this;return{_type:"TransactionResponse",accessList:g,blockNumber:e,blockHash:t,blobVersionedHashes:v,chainId:toJson(this.chainId),data:p,from:u,gasLimit:toJson(this.gasLimit),gasPrice:toJson(this.gasPrice),hash:o,maxFeePerGas:toJson(this.maxFeePerGas),maxPriorityFeePerGas:toJson(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson(this.maxFeePerBlobGas),nonce:d,signature:m,to:l,index:i,type:a,value:toJson(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const t=await this.getTransaction();if(t){e=t.blockNumber}}if(e==null){return null}const t=this.provider.getBlock(e);if(t==null){throw new Error("TODO")}return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:e,blockNumber:t}=await(0,o.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});if(e==null||e.blockNumber==null){return 0}return t-e.blockNumber+1}const e=await this.provider.getBlockNumber();return e-this.blockNumber+1}async wait(e,t){const i=e==null?1:e;const a=t==null?0:t;let l=this.#ve;let d=-1;let m=l===-1?true:false;const checkReplacement=async()=>{if(m){return null}const{blockNumber:e,nonce:t}=await(0,o.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){l=e;return}if(m){return null}const a=await this.getTransaction();if(a&&a.blockNumber!=null){return}if(d===-1){d=l-3;if(d<this.#ve){d=this.#ve}}while(d<=e){if(m){return null}const t=await this.provider.getBlock(d,true);if(t==null){return}for(const e of t){if(e===this.hash){return}}for(let o=0;o<t.length;o++){const a=await t.getTransaction(o);if(a.from===this.from&&a.nonce===this.nonce){if(m){return null}const t=await this.provider.getTransactionReceipt(a.hash);if(t==null){return}if(e-t.blockNumber+1<i){return}let o="replaced";if(a.data===this.data&&a.to===this.to&&a.value===this.value){o="repriced"}else if(a.data==="0x"&&a.from===a.to&&a.value===p){o="cancelled"}(0,u.assert)(false,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:o==="replaced"||o==="cancelled",reason:o,replacement:a.replaceableTransaction(l),hash:a.hash,receipt:t})}}d++}return};const checkReceipt=e=>{if(e==null||e.status!==0){return e}(0,u.assert)(false,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})};const g=await this.provider.getTransactionReceipt(this.hash);if(i===0){return checkReceipt(g)}if(g){if(i===1||await g.confirmations()>=i){return checkReceipt(g)}}else{await checkReplacement();if(i===0){return null}}const v=new Promise((e,t)=>{const o=[];const cancel=()=>{o.forEach(e=>e())};o.push(()=>{m=true});if(a>0){const e=setTimeout(()=>{cancel();t((0,u.makeError)("wait for transaction timeout","TIMEOUT"))},a);o.push(()=>{clearTimeout(e)})}const txListener=async o=>{if(await o.confirmations()>=i){cancel();try{e(checkReceipt(o))}catch(e){t(e)}}};o.push(()=>{this.provider.off(this.hash,txListener)});this.provider.on(this.hash,txListener);if(l>=0){const replaceListener=async()=>{try{await checkReplacement()}catch(e){if((0,u.isError)(e,"TRANSACTION_REPLACED")){cancel();t(e);return}}if(!m){this.provider.once("block",replaceListener)}};o.push(()=>{this.provider.off("block",replaceListener)});this.provider.once("block",replaceListener)}});return await v}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){(0,u.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"});return createRemovedTransactionFilter(this)}reorderedEvent(e){(0,u.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"});(0,u.assert)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"});return createReorderedTransactionFilter(this,e)}replaceableTransaction(e){(0,u.assertArgument)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new TransactionResponse(this,this.provider);t.#ve=e;return t}}function createOrphanedBlockFilter(e){return{orphan:"drop-block",hash:e.hash,number:e.number}}function createReorderedTransactionFilter(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function createRemovedTransactionFilter(e){return{orphan:"drop-transaction",tx:e}}function createRemovedLogFilter(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/subscriber-filterid.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{FilterIdEventSubscriber:()=>FilterIdEventSubscriber,FilterIdPendingSubscriber:()=>FilterIdPendingSubscriber,FilterIdSubscriber:()=>FilterIdSubscriber});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/subscriber-polling.js");function copy(e){return JSON.parse(JSON.stringify(e))}class FilterIdSubscriber{#ye;#be;#_e;#we;#ue;#Ee;constructor(e){this.#ye=e;this.#be=null;this.#_e=this.#Ae.bind(this);this.#we=false;this.#ue=null;this.#Ee=false}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Ae(e){try{if(this.#be==null){this.#be=this._subscribe(this.#ye)}let e=null;try{e=await this.#be}catch(e){if(!(0,o.isError)(e,"UNSUPPORTED_OPERATION")||e.operation!=="eth_newFilter"){throw e}}if(e==null){this.#be=null;this.#ye._recoverSubscriber(this,this._recover(this.#ye));return}const t=await this.#ye.getNetwork();if(!this.#ue){this.#ue=t}if(this.#ue.chainId!==t.chainId){throw new Error("chaid changed")}if(this.#Ee){return}const i=await this.#ye.send("eth_getFilterChanges",[e]);await this._emitResults(this.#ye,i)}catch(e){console.log("@TODO",e)}this.#ye.once("block",this.#_e)}#Se(){const e=this.#be;if(e){this.#be=null;e.then(e=>{if(this.#ye.destroyed){return}this.#ye.send("eth_uninstallFilter",[e])})}}start(){if(this.#we){return}this.#we=true;this.#Ae(-2)}stop(){if(!this.#we){return}this.#we=false;this.#Ee=true;this.#Se();this.#ye.off("block",this.#_e)}pause(e){if(e){this.#Se()}this.#ye.off("block",this.#_e)}resume(){this.start()}}class FilterIdEventSubscriber extends FilterIdSubscriber{#ke;constructor(e,t){super(e);this.#ke=copy(t)}_recover(e){return new a.PollingEventSubscriber(e,this.#ke)}async _subscribe(e){const t=await e.send("eth_newFilter",[this.#ke]);return t}async _emitResults(e,t){for(const i of t){e.emit(this.#ke,e._wrapLog(i,e._network))}}}class FilterIdPendingSubscriber extends FilterIdSubscriber{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const i of t){e.emit("pending",i)}}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/subscriber-polling.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{OnBlockSubscriber:()=>OnBlockSubscriber,PollingBlockSubscriber:()=>PollingBlockSubscriber,PollingBlockTagSubscriber:()=>PollingBlockTagSubscriber,PollingEventSubscriber:()=>PollingEventSubscriber,PollingOrphanSubscriber:()=>PollingOrphanSubscriber,PollingTransactionSubscriber:()=>PollingTransactionSubscriber,getPollingSubscriber:()=>getPollingSubscriber});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function copy(e){return JSON.parse(JSON.stringify(e))}function getPollingSubscriber(e,t){if(t==="block"){return new PollingBlockSubscriber(e)}if((0,o.isHexString)(t,32)){return new PollingTransactionSubscriber(e,t)}(0,a.assert)(false,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:t}})}class PollingBlockSubscriber{#ye;#_e;#Te;#xe;constructor(e){this.#ye=e;this.#_e=null;this.#Te=4e3;this.#xe=-2}get pollingInterval(){return this.#Te}set pollingInterval(e){this.#Te=e}async#Ae(){try{const e=await this.#ye.getBlockNumber();if(this.#xe===-2){this.#xe=e;return}if(e!==this.#xe){for(let t=this.#xe+1;t<=e;t++){if(this.#_e==null){return}await this.#ye.emit("block",t)}this.#xe=e}}catch(e){}if(this.#_e==null){return}this.#_e=this.#ye._setTimeout(this.#Ae.bind(this),this.#Te)}start(){if(this.#_e){return}this.#_e=this.#ye._setTimeout(this.#Ae.bind(this),this.#Te);this.#Ae()}stop(){if(!this.#_e){return}this.#ye._clearTimeout(this.#_e);this.#_e=null}pause(e){this.stop();if(e){this.#xe=-2}}resume(){this.start()}}class OnBlockSubscriber{#ye;#Ae;#we;constructor(e){this.#ye=e;this.#we=false;this.#Ae=e=>{this._poll(e,this.#ye)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){if(this.#we){return}this.#we=true;this.#Ae(-2);this.#ye.on("block",this.#Ae)}stop(){if(!this.#we){return}this.#we=false;this.#ye.off("block",this.#Ae)}pause(e){this.stop()}resume(){this.start()}}class PollingBlockTagSubscriber extends OnBlockSubscriber{#Ie;#Ne;constructor(e,t){super(e);this.#Ie=t;this.#Ne=-2}pause(e){if(e){this.#Ne=-2}super.pause(e)}async _poll(e,t){const i=await t.getBlock(this.#Ie);if(i==null){return}if(this.#Ne===-2){this.#Ne=i.number}else if(i.number>this.#Ne){t.emit(this.#Ie,i.number);this.#Ne=i.number}}}class PollingOrphanSubscriber extends OnBlockSubscriber{#w;constructor(e,t){super(e);this.#w=copy(t)}async _poll(e,t){throw new Error("@TODO");{}}}class PollingTransactionSubscriber extends OnBlockSubscriber{#Pe;constructor(e,t){super(e);this.#Pe=t}async _poll(e,t){const i=await t.getTransactionReceipt(this.#Pe);if(i){t.emit(this.#Pe,i)}}}class PollingEventSubscriber{#ye;#w;#_e;#we;#xe;constructor(e,t){this.#ye=e;this.#w=copy(t);this.#_e=this.#Ae.bind(this);this.#we=false;this.#xe=-2}async#Ae(e){if(this.#xe===-2){return}const t=copy(this.#w);t.fromBlock=this.#xe+1;t.toBlock=e;const i=await this.#ye.getLogs(t);if(i.length===0){if(this.#xe<e-60){this.#xe=e-60}return}for(const e of i){this.#ye.emit(this.#w,e);this.#xe=e.blockNumber}}start(){if(this.#we){return}this.#we=true;if(this.#xe===-2){this.#ye.getBlockNumber().then(e=>{this.#xe=e})}this.#ye.on("block",this.#_e)}stop(){if(!this.#we){return}this.#we=false;this.#ye.off("block",this.#_e)}pause(e){this.stop();if(e){this.#xe=-2}}resume(){this.start()}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/accesslist.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{accessListify:()=>accessListify});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");function accessSetify(e,t){return{address:(0,o.getAddress)(e),storageKeys:t.map((e,t)=>{(0,a.assertArgument)((0,l.isHexString)(e,32),"invalid slot",`storageKeys[${t}]`,e);return e.toLowerCase()})}}function accessListify(e){if(Array.isArray(e)){return e.map((t,i)=>{if(Array.isArray(t)){(0,a.assertArgument)(t.length===2,"invalid slot set",`value[${i}]`,t);return accessSetify(t[0],t[1])}(0,a.assertArgument)(t!=null&&typeof t==="object","invalid address-slot set","value",e);return accessSetify(t.address,t.storageKeys)})}(0,a.assertArgument)(e!=null&&typeof e==="object","invalid access list","value",e);const t=Object.keys(e).map(t=>{const i=e[t].reduce((e,t)=>{e[t]=true;return e},{});return accessSetify(t,Object.keys(i).sort())});t.sort((e,t)=>e.address.localeCompare(t.address));return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{computeAddress:()=>computeAddress,recoverAddress:()=>recoverAddress});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signing-key.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");function computeAddress(e){let t;if(typeof e==="string"){t=a.SigningKey.computePublicKey(e,false)}else{t=e.publicKey}return(0,o.getAddress)((0,l.keccak256)("0x"+t.substring(4)).substring(26))}function recoverAddress(e,t){return computeAddress(a.SigningKey.recoverPublicKey(e,t))}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/authorization.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{authorizationify:()=>authorizationify});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signature.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");function authorizationify(e){return{address:(0,o.getAddress)(e.address),nonce:(0,l.getBigInt)(e.nonce!=null?e.nonce:0),chainId:(0,l.getBigInt)(e.chainId!=null?e.chainId:0),signature:a.Signature.from(e.signature)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/transaction.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Transaction:()=>Transaction});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/constants/addresses.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/sha2.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signature.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signing-key.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/rlp-decode.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/rlp-encode.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/accesslist.js");var A=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/authorization.js");var k=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");const T=BigInt(0);const x=BigInt(2);const I=BigInt(27);const N=BigInt(28);const P=BigInt(35);const C=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const M=4096*32;function getKzgLibrary(e){const blobToKzgCommitment=t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment==="function"){return(0,m.getBytes)(e.blobToKzgCommitment((0,m.hexlify)(t)))}}else if("blobToKzgCommitment"in e&&typeof e.blobToKzgCommitment==="function"){return(0,m.getBytes)(e.blobToKzgCommitment(t))}if("blobToKZGCommitment"in e&&typeof e.blobToKZGCommitment==="function"){return(0,m.getBytes)(e.blobToKZGCommitment((0,m.hexlify)(t)))}(0,g.assertArgument)(false,"unsupported KZG library","kzg",e)};const computeBlobKzgProof=(t,i)=>{if("computeBlobProof"in e&&typeof e.computeBlobProof==="function"){return(0,m.getBytes)(e.computeBlobProof((0,m.hexlify)(t),(0,m.hexlify)(i)))}if("computeBlobKzgProof"in e&&typeof e.computeBlobKzgProof==="function"){return e.computeBlobKzgProof(t,i)}if("computeBlobKZGProof"in e&&typeof e.computeBlobKZGProof==="function"){return(0,m.getBytes)(e.computeBlobKZGProof((0,m.hexlify)(t),(0,m.hexlify)(i)))}(0,g.assertArgument)(false,"unsupported KZG library","kzg",e)};return{blobToKzgCommitment,computeBlobKzgProof}}function getVersionedHash(e,t){let i=e.toString(16);while(i.length<2){i="0"+i}i+=(0,l.sha256)(t).substring(4);return"0x"+i}function handleAddress(e){if(e==="0x"){return null}return(0,o.getAddress)(e)}function handleAccessList(e,t){try{return(0,w.accessListify)(e)}catch(i){(0,g.assertArgument)(false,i.message,t,e)}}function handleAuthorizationList(e,t){try{if(!Array.isArray(e)){throw new Error("authorizationList: invalid array")}const t=[];for(let i=0;i<e.length;i++){const o=e[i];if(!Array.isArray(o)){throw new Error(`authorization[${i}]: invalid array`)}if(o.length!==6){throw new Error(`authorization[${i}]: wrong length`)}if(!o[1]){throw new Error(`authorization[${i}]: null address`)}t.push({address:handleAddress(o[1]),nonce:handleUint(o[2],"nonce"),chainId:handleUint(o[0],"chainId"),signature:u.Signature.from({yParity:handleNumber(o[3],"yParity"),r:(0,m.zeroPadValue)(o[4],32),s:(0,m.zeroPadValue)(o[5],32)})})}return t}catch(i){(0,g.assertArgument)(false,i.message,t,e)}}function handleNumber(e,t){if(e==="0x"){return 0}return(0,v.getNumber)(e,t)}function handleUint(e,t){if(e==="0x"){return T}const i=(0,v.getBigInt)(e,t);(0,g.assertArgument)(i<=C,"value exceeds uint size",t,i);return i}function formatNumber(e,t){const i=(0,v.getBigInt)(e,"value");const o=(0,v.toBeArray)(i);(0,g.assertArgument)(o.length<=32,`value too large`,`tx.${t}`,i);return o}function formatAccessList(e){return(0,w.accessListify)(e).map(e=>[e.address,e.storageKeys])}function formatAuthorizationList(e){return e.map(e=>[formatNumber(e.chainId,"chainId"),e.address,formatNumber(e.nonce,"nonce"),formatNumber(e.signature.yParity,"yParity"),(0,v.toBeArray)(e.signature.r),(0,v.toBeArray)(e.signature.s)])}function formatHashes(e,t){(0,g.assertArgument)(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++){(0,g.assertArgument)((0,m.isHexString)(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t])}return e}function _parseLegacy(e){const t=(0,y.decodeRlp)(e);(0,g.assertArgument)(Array.isArray(t)&&(t.length===9||t.length===6),"invalid field count for legacy transaction","data",e);const i={type:0,nonce:handleNumber(t[0],"nonce"),gasPrice:handleUint(t[1],"gasPrice"),gasLimit:handleUint(t[2],"gasLimit"),to:handleAddress(t[3]),value:handleUint(t[4],"value"),data:(0,m.hexlify)(t[5]),chainId:T};if(t.length===6){return i}const o=handleUint(t[6],"v");const a=handleUint(t[7],"r");const l=handleUint(t[8],"s");if(a===T&&l===T){i.chainId=o}else{let e=(o-P)/x;if(e<T){e=T}i.chainId=e;(0,g.assertArgument)(e!==T||(o===I||o===N),"non-canonical legacy v","v",t[6]);i.signature=u.Signature.from({r:(0,m.zeroPadValue)(t[7],32),s:(0,m.zeroPadValue)(t[8],32),v:o})}return i}function _serializeLegacy(e,t){const i=[formatNumber(e.nonce,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data];let o=T;if(e.chainId!=T){o=(0,v.getBigInt)(e.chainId,"tx.chainId");(0,g.assertArgument)(!t||t.networkV==null||t.legacyChainId===o,"tx.chainId/sig.v mismatch","sig",t)}else if(e.signature){const t=e.signature.legacyChainId;if(t!=null){o=t}}if(!t){if(o!==T){i.push((0,v.toBeArray)(o));i.push("0x");i.push("0x")}return(0,_.encodeRlp)(i)}let a=BigInt(27+t.yParity);if(o!==T){a=u.Signature.getChainIdV(o,t.v)}else if(BigInt(t.v)!==a){(0,g.assertArgument)(false,"tx.chainId/sig.v mismatch","sig",t)}i.push((0,v.toBeArray)(a));i.push((0,v.toBeArray)(t.r));i.push((0,v.toBeArray)(t.s));return(0,_.encodeRlp)(i)}function _parseEipSignature(e,t){let i;try{i=handleNumber(t[0],"yParity");if(i!==0&&i!==1){throw new Error("bad yParity")}}catch(e){(0,g.assertArgument)(false,"invalid yParity","yParity",t[0])}const o=(0,m.zeroPadValue)(t[1],32);const a=(0,m.zeroPadValue)(t[2],32);const l=u.Signature.from({r:o,s:a,yParity:i});e.signature=l}function _parseEip1559(e){const t=(0,y.decodeRlp)((0,m.getBytes)(e).slice(1));(0,g.assertArgument)(Array.isArray(t)&&(t.length===9||t.length===12),"invalid field count for transaction type: 2","data",(0,m.hexlify)(e));const i={type:2,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),maxPriorityFeePerGas:handleUint(t[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(t[4],"gasLimit"),to:handleAddress(t[5]),value:handleUint(t[6],"value"),data:(0,m.hexlify)(t[7]),accessList:handleAccessList(t[8],"accessList")};if(t.length===9){return i}_parseEipSignature(i,t.slice(9));return i}function _serializeEip1559(e,t){const i=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[])];if(t){i.push(formatNumber(t.yParity,"yParity"));i.push((0,v.toBeArray)(t.r));i.push((0,v.toBeArray)(t.s))}return(0,m.concat)(["0x02",(0,_.encodeRlp)(i)])}function _parseEip2930(e){const t=(0,y.decodeRlp)((0,m.getBytes)(e).slice(1));(0,g.assertArgument)(Array.isArray(t)&&(t.length===8||t.length===11),"invalid field count for transaction type: 1","data",(0,m.hexlify)(e));const i={type:1,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),gasPrice:handleUint(t[2],"gasPrice"),gasLimit:handleUint(t[3],"gasLimit"),to:handleAddress(t[4]),value:handleUint(t[5],"value"),data:(0,m.hexlify)(t[6]),accessList:handleAccessList(t[7],"accessList")};if(t.length===8){return i}_parseEipSignature(i,t.slice(8));return i}function _serializeEip2930(e,t){const i=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[])];if(t){i.push(formatNumber(t.yParity,"recoveryParam"));i.push((0,v.toBeArray)(t.r));i.push((0,v.toBeArray)(t.s))}return(0,m.concat)(["0x01",(0,_.encodeRlp)(i)])}function _parseEip4844(e){let t=(0,y.decodeRlp)((0,m.getBytes)(e).slice(1));let i="3";let o=null;if(t.length===4&&Array.isArray(t[0])){i="3 (network format)";const e=t[1],a=t[2],l=t[3];(0,g.assertArgument)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e);(0,g.assertArgument)(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a);(0,g.assertArgument)(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l);(0,g.assertArgument)(e.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t);(0,g.assertArgument)(e.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",t);o=[];for(let i=0;i<t[1].length;i++){o.push({data:e[i],commitment:a[i],proof:l[i]})}t=t[0]}(0,g.assertArgument)(Array.isArray(t)&&(t.length===11||t.length===14),`invalid field count for transaction type: ${i}`,"data",(0,m.hexlify)(e));const a={type:3,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),maxPriorityFeePerGas:handleUint(t[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(t[4],"gasLimit"),to:handleAddress(t[5]),value:handleUint(t[6],"value"),data:(0,m.hexlify)(t[7]),accessList:handleAccessList(t[8],"accessList"),maxFeePerBlobGas:handleUint(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};if(o){a.blobs=o}(0,g.assertArgument)(a.to!=null,`invalid address for transaction type: ${i}`,"data",e);(0,g.assertArgument)(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<a.blobVersionedHashes.length;t++){(0,g.assertArgument)((0,m.isHexString)(a.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e)}if(t.length===11){return a}_parseEipSignature(a,t.slice(11));return a}function _serializeEip4844(e,t,i){const o=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit,"gasLimit"),e.to||a.ZeroAddress,formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[]),formatNumber(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),formatHashes(e.blobVersionedHashes||[],"blobVersionedHashes")];if(t){o.push(formatNumber(t.yParity,"yParity"));o.push((0,v.toBeArray)(t.r));o.push((0,v.toBeArray)(t.s));if(i){return(0,m.concat)(["0x03",(0,_.encodeRlp)([o,i.map(e=>e.data),i.map(e=>e.commitment),i.map(e=>e.proof)])])}}return(0,m.concat)(["0x03",(0,_.encodeRlp)(o)])}function _parseEip7702(e){const t=(0,y.decodeRlp)((0,m.getBytes)(e).slice(1));(0,g.assertArgument)(Array.isArray(t)&&(t.length===10||t.length===13),"invalid field count for transaction type: 4","data",(0,m.hexlify)(e));const i={type:4,chainId:handleUint(t[0],"chainId"),nonce:handleNumber(t[1],"nonce"),maxPriorityFeePerGas:handleUint(t[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(t[4],"gasLimit"),to:handleAddress(t[5]),value:handleUint(t[6],"value"),data:(0,m.hexlify)(t[7]),accessList:handleAccessList(t[8],"accessList"),authorizationList:handleAuthorizationList(t[9],"authorizationList")};if(t.length===10){return i}_parseEipSignature(i,t.slice(10));return i}function _serializeEip7702(e,t){const i=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[]),formatAuthorizationList(e.authorizationList||[])];if(t){i.push(formatNumber(t.yParity,"yParity"));i.push((0,v.toBeArray)(t.r));i.push((0,v.toBeArray)(t.s))}return(0,m.concat)(["0x04",(0,_.encodeRlp)(i)])}class Transaction{#Ce;#Me;#r;#Be;#Re;#je;#Oe;#De;#Le;#re;#Fe;#Ue;#Ke;#He;#qe;#Ge;#ze;get type(){return this.#Ce}set type(e){switch(e){case null:this.#Ce=null;break;case 0:case"legacy":this.#Ce=0;break;case 1:case"berlin":case"eip-2930":this.#Ce=1;break;case 2:case"london":case"eip-1559":this.#Ce=2;break;case 3:case"cancun":case"eip-4844":this.#Ce=3;break;case 4:case"pectra":case"eip-7702":this.#Ce=4;break;default:(0,g.assertArgument)(false,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#Me;if(e==null&&this.type===3){return a.ZeroAddress}return e}set to(e){this.#Me=e==null?null:(0,o.getAddress)(e)}get nonce(){return this.#Be}set nonce(e){this.#Be=(0,v.getNumber)(e,"value")}get gasLimit(){return this.#Re}set gasLimit(e){this.#Re=(0,v.getBigInt)(e)}get gasPrice(){const e=this.#je;if(e==null&&(this.type===0||this.type===1)){return T}return e}set gasPrice(e){this.#je=e==null?null:(0,v.getBigInt)(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#Oe;if(e==null){if(this.type===2||this.type===3){return T}return null}return e}set maxPriorityFeePerGas(e){this.#Oe=e==null?null:(0,v.getBigInt)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#De;if(e==null){if(this.type===2||this.type===3){return T}return null}return e}set maxFeePerGas(e){this.#De=e==null?null:(0,v.getBigInt)(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=(0,m.hexlify)(e)}get value(){return this.#Le}set value(e){this.#Le=(0,v.getBigInt)(e,"value")}get chainId(){return this.#re}set chainId(e){this.#re=(0,v.getBigInt)(e)}get signature(){return this.#Fe||null}set signature(e){this.#Fe=e==null?null:u.Signature.from(e)}get accessList(){const e=this.#Ue||null;if(e==null){if(this.type===1||this.type===2||this.type===3){return[]}return null}return e}set accessList(e){this.#Ue=e==null?null:(0,w.accessListify)(e)}get authorizationList(){const e=this.#ze||null;if(e==null){if(this.type===4){return[]}}return e}set authorizationList(e){this.#ze=e==null?null:e.map(e=>(0,A.authorizationify)(e))}get maxFeePerBlobGas(){const e=this.#Ke;if(e==null&&this.type===3){return T}return e}set maxFeePerBlobGas(e){this.#Ke=e==null?null:(0,v.getBigInt)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#He;if(e==null&&this.type===3){return[]}return e}set blobVersionedHashes(e){if(e!=null){(0,g.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e);e=e.slice();for(let t=0;t<e.length;t++){(0,g.assertArgument)((0,m.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}}this.#He=e}get blobs(){if(this.#Ge==null){return null}return this.#Ge.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#Ge=null;return}const t=[];const i=[];for(let o=0;o<e.length;o++){const a=e[o];if((0,m.isBytesLike)(a)){(0,g.assert)(this.#qe,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,m.getBytes)(a);(0,g.assertArgument)(e.length<=M,"blob is too large",`blobs[${o}]`,a);if(e.length!==M){const t=new Uint8Array(M);t.set(e);e=t}const l=this.#qe.blobToKzgCommitment(e);const u=(0,m.hexlify)(this.#qe.computeBlobKzgProof(e,l));t.push({data:(0,m.hexlify)(e),commitment:(0,m.hexlify)(l),proof:u});i.push(getVersionedHash(1,l))}else{const e=(0,m.hexlify)(a.commitment);t.push({data:(0,m.hexlify)(a.data),commitment:e,proof:(0,m.hexlify)(a.proof)});i.push(getVersionedHash(1,e))}}this.#Ge=t;this.#He=i}get kzg(){return this.#qe}set kzg(e){if(e==null){this.#qe=null}else{this.#qe=getKzgLibrary(e)}}constructor(){this.#Ce=null;this.#Me=null;this.#Be=0;this.#Re=T;this.#je=null;this.#Oe=null;this.#De=null;this.#r="0x";this.#Le=T;this.#re=T;this.#Fe=null;this.#Ue=null;this.#Ke=null;this.#He=null;this.#qe=null;this.#Ge=null;this.#ze=null}get hash(){if(this.signature==null){return null}return(0,d.keccak256)(this.#We(true,false))}get unsignedHash(){return(0,d.keccak256)(this.unsignedSerialized)}get from(){if(this.signature==null){return null}return(0,k.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){if(this.signature==null){return null}return p.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#We(e,t){(0,g.assert)(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const i=e?this.signature:null;switch(this.inferType()){case 0:return _serializeLegacy(this,i);case 1:return _serializeEip2930(this,i);case 2:return _serializeEip1559(this,i);case 3:return _serializeEip4844(this,i,t?this.blobs:null);case 4:return _serializeEip7702(this,i)}(0,g.assert)(false,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#We(true,true)}get unsignedSerialized(){return this.#We(false,false)}inferType(){const e=this.inferTypes();if(e.indexOf(2)>=0){return 2}return e.pop()}inferTypes(){const e=this.gasPrice!=null;const t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null;const i=this.accessList!=null;const o=this.#Ke!=null||this.#He;if(this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null){(0,g.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this})}(0,g.assert)(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this});(0,g.assert)(this.type!==0||!i,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const a=[];if(this.type!=null){a.push(this.type)}else{if(this.authorizationList&&this.authorizationList.length){a.push(4)}else if(t){a.push(2)}else if(e){a.push(1);if(!i){a.push(0)}}else if(i){a.push(1);a.push(2)}else if(o&&this.to){a.push(3)}else{a.push(0);a.push(1);a.push(2);a.push(3)}}a.sort();return a}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Transaction.from(this)}toJSON(){const s=e=>{if(e==null){return null}return e.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:s(this.gasLimit),gasPrice:s(this.gasPrice),maxPriorityFeePerGas:s(this.maxPriorityFeePerGas),maxFeePerGas:s(this.maxFeePerGas),value:s(this.value),chainId:s(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null){return new Transaction}if(typeof e==="string"){const t=(0,m.getBytes)(e);if(t[0]>=127){return Transaction.from(_parseLegacy(t))}switch(t[0]){case 1:return Transaction.from(_parseEip2930(t));case 2:return Transaction.from(_parseEip1559(t));case 3:return Transaction.from(_parseEip4844(t));case 4:return Transaction.from(_parseEip7702(t))}(0,g.assert)(false,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Transaction;if(e.type!=null){t.type=e.type}if(e.to!=null){t.to=e.to}if(e.nonce!=null){t.nonce=e.nonce}if(e.gasLimit!=null){t.gasLimit=e.gasLimit}if(e.gasPrice!=null){t.gasPrice=e.gasPrice}if(e.maxPriorityFeePerGas!=null){t.maxPriorityFeePerGas=e.maxPriorityFeePerGas}if(e.maxFeePerGas!=null){t.maxFeePerGas=e.maxFeePerGas}if(e.maxFeePerBlobGas!=null){t.maxFeePerBlobGas=e.maxFeePerBlobGas}if(e.data!=null){t.data=e.data}if(e.value!=null){t.value=e.value}if(e.chainId!=null){t.chainId=e.chainId}if(e.signature!=null){t.signature=u.Signature.from(e.signature)}if(e.accessList!=null){t.accessList=e.accessList}if(e.authorizationList!=null){t.authorizationList=e.authorizationList}if(e.blobVersionedHashes!=null){t.blobVersionedHashes=e.blobVersionedHashes}if(e.kzg!=null){t.kzg=e.kzg}if(e.blobs!=null){t.blobs=e.blobs}if(e.hash!=null){(0,g.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e);(0,g.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)}if(e.from!=null){(0,g.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e);(0,g.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)}return t}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/base58.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decodeBase58:()=>decodeBase58,encodeBase58:()=>encodeBase58});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");const u="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let d=null;function getAlpha(e){if(d==null){d={};for(let e=0;e<u.length;e++){d[u[e]]=BigInt(e)}}const t=d[e];(0,a.assertArgument)(t!=null,`invalid base58 value`,"letter",e);return t}const p=BigInt(0);const m=BigInt(58);function encodeBase58(e){const t=(0,o.getBytes)(e);let i=(0,l.toBigInt)(t);let a="";while(i){a=u[Number(i%m)]+a;i/=m}for(let e=0;e<t.length;e++){if(t[e]){break}a=u[0]+a}return a}function decodeBase58(e){let t=p;for(let i=0;i<e.length;i++){t*=m;t+=getAlpha(e[i])}return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/base64-browser.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decodeBase64:()=>decodeBase64,encodeBase64:()=>encodeBase64});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");function decodeBase64(e){e=atob(e);const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++){t[i]=e.charCodeAt(i)}return(0,o.getBytes)(t)}function encodeBase64(e){const t=(0,o.getBytes)(e);let i="";for(let e=0;e<t.length;e++){i+=String.fromCharCode(t[e])}return btoa(i)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{concat:()=>concat,dataLength:()=>dataLength,dataSlice:()=>dataSlice,getBytes:()=>getBytes,getBytesCopy:()=>getBytesCopy,hexlify:()=>hexlify,isBytesLike:()=>isBytesLike,isHexString:()=>isHexString,stripZerosLeft:()=>stripZerosLeft,zeroPadBytes:()=>zeroPadBytes,zeroPadValue:()=>zeroPadValue});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function _getBytes(e,t,i){if(e instanceof Uint8Array){if(i){return new Uint8Array(e)}return e}if(typeof e==="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let i=2;for(let o=0;o<t.length;o++){t[o]=parseInt(e.substring(i,i+2),16);i+=2}return t}(0,o.assertArgument)(false,"invalid BytesLike value",t||"value",e)}function getBytes(e,t){return _getBytes(e,t,false)}function getBytesCopy(e,t){return _getBytes(e,t,true)}function isHexString(e,t){if(typeof e!=="string"||!e.match(/^0x[0-9A-Fa-f]*$/)){return false}if(typeof t==="number"&&e.length!==2+2*t){return false}if(t===true&&e.length%2!==0){return false}return true}function isBytesLike(e){return isHexString(e,true)||e instanceof Uint8Array}const a="0123456789abcdef";function hexlify(e){const t=getBytes(e);let i="0x";for(let e=0;e<t.length;e++){const o=t[e];i+=a[(o&240)>>4]+a[o&15]}return i}function concat(e){return"0x"+e.map(e=>hexlify(e).substring(2)).join("")}function dataLength(e){if(isHexString(e,true)){return(e.length-2)/2}return getBytes(e).length}function dataSlice(e,t,i){const a=getBytes(e);if(i!=null&&i>a.length){(0,o.assert)(false,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:i})}return hexlify(a.slice(t==null?0:t,i==null?a.length:i))}function stripZerosLeft(e){let t=hexlify(e).substring(2);while(t.startsWith("00")){t=t.substring(2)}return"0x"+t}function zeroPad(e,t,i){const a=getBytes(e);(0,o.assert)(t>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:t,offset:t+1});const l=new Uint8Array(t);l.fill(0);if(i){l.set(a,t-a.length)}else{l.set(a,0)}return hexlify(l)}function zeroPadValue(e,t){return zeroPad(e,t,true)}function zeroPadBytes(e,t){return zeroPad(e,t,false)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{assert:()=>assert,assertArgument:()=>assertArgument,assertArgumentCount:()=>assertArgumentCount,assertNormalize:()=>assertNormalize,assertPrivate:()=>assertPrivate,isCallException:()=>isCallException,isError:()=>isError,makeError:()=>makeError});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/_version.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");function stringify(e,t){if(e==null){return"null"}if(t==null){t=new Set}if(typeof e==="object"){if(t.has(e)){return"[Circular]"}t.add(e)}if(Array.isArray(e)){return"[ "+e.map(e=>stringify(e,t)).join(", ")+" ]"}if(e instanceof Uint8Array){const t="0123456789abcdef";let i="0x";for(let o=0;o<e.length;o++){i+=t[e[o]>>4];i+=t[e[o]&15]}return i}if(typeof e==="object"&&typeof e.toJSON==="function"){return stringify(e.toJSON(),t)}switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const i=Object.keys(e);i.sort();return"{ "+i.map(i=>`${stringify(i,t)}: ${stringify(e[i],t)}`).join(", ")+" }"}}return`[ COULD NOT SERIALIZE ]`}function isError(e,t){return e&&e.code===t}function isCallException(e){return isError(e,"CALL_EXCEPTION")}function makeError(e,t,i){let l=e;{const a=[];if(i){if("message"in i||"code"in i||"name"in i){throw new Error(`value will overwrite populated values: ${stringify(i)}`)}for(const e in i){if(e==="shortMessage"){continue}const t=i[e];a.push(e+"="+stringify(t))}}a.push(`code=${t}`);a.push(`version=${o.version}`);if(a.length){e+=" ("+a.join(", ")+")"}}let u;switch(t){case"INVALID_ARGUMENT":u=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":u=new RangeError(e);break;default:u=new Error(e)}(0,a.defineProperties)(u,{code:t});if(i){Object.assign(u,i)}if(u.shortMessage==null){(0,a.defineProperties)(u,{shortMessage:l})}return u}function assert(e,t,i,o){if(!e){throw makeError(t,i,o)}}function assertArgument(e,t,i,o){assert(e,t,"INVALID_ARGUMENT",{argument:i,value:o})}function assertArgumentCount(e,t,i){if(i==null){i=""}if(i){i=": "+i}assert(e>=t,"missing argument"+i,"MISSING_ARGUMENT",{count:e,expectedCount:t});assert(e<=t,"too many arguments"+i,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const l=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test"){throw new Error("bad")}if(t==="NFD"){const e=String.fromCharCode(233).normalize("NFD");const t=String.fromCharCode(101,769);if(e!==t){throw new Error("broken")}}e.push(t)}catch(e){}return e},[]);function assertNormalize(e){assert(l.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function assertPrivate(e,t,i){if(i==null){i=""}if(e!==t){let e=i,t="new";if(i){e+=".";t+=" "+i}assert(false,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/events.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EventPayload:()=>EventPayload});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");class EventPayload{filter;emitter;#Ve;constructor(e,t,i){this.#Ve=t;(0,o.defineProperties)(this,{emitter:e,filter:i})}async removeListener(){if(this.#Ve==null){return}await this.emitter.off(this.filter,this.#Ve)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/fetch.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{FetchCancelSignal:()=>FetchCancelSignal,FetchRequest:()=>FetchRequest,FetchResponse:()=>FetchResponse});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/base64-browser.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/geturl-browser.js");const m=12;const g=250;let v=(0,p.createGetUrl)();const y=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i");const _=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let w=false;async function dataGatewayFunc(e,t){try{const t=e.match(y);if(!t){throw new Error("invalid data")}return new FetchResponse(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?(0,o.decodeBase64)(t[3]):unpercent(t[3]))}catch(t){return new FetchResponse(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest(e))}}function getIpfsGatewayFunc(e){async function gatewayIpfs(t,i){try{const i=t.match(_);if(!i){throw new Error("invalid link")}return new FetchRequest(`${e}${i[2]}`)}catch(e){return new FetchResponse(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest(t))}}return gatewayIpfs}const A={data:dataGatewayFunc,ipfs:getIpfsGatewayFunc("https://gateway.ipfs.io/ipfs/")};const k=new WeakMap;class FetchCancelSignal{#Ye;#$e;constructor(e){this.#Ye=[];this.#$e=false;k.set(e,()=>{if(this.#$e){return}this.#$e=true;for(const e of this.#Ye){setTimeout(()=>{e()},0)}this.#Ye=[]})}addListener(e){(0,l.assert)(!this.#$e,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"});this.#Ye.push(e)}get cancelled(){return this.#$e}checkSignal(){(0,l.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function checkSignal(e){if(e==null){throw new Error("missing signal; should not happen")}e.checkSignal();return e}class FetchRequest{#Je;#Qe;#Ze;#Xe;#et;#se;#tt;#rt;#nt;#st;#it;#ot;#at;#lt;#ct;get url(){return this.#se}set url(e){this.#se=String(e)}get body(){if(this.#tt==null){return null}return new Uint8Array(this.#tt)}set body(e){if(e==null){this.#tt=undefined;this.#rt=undefined}else if(typeof e==="string"){this.#tt=(0,d.toUtf8Bytes)(e);this.#rt="text/plain"}else if(e instanceof Uint8Array){this.#tt=e;this.#rt="application/octet-stream"}else if(typeof e==="object"){this.#tt=(0,d.toUtf8Bytes)(JSON.stringify(e));this.#rt="application/json"}else{throw new Error("invalid body")}}hasBody(){return this.#tt!=null}get method(){if(this.#Xe){return this.#Xe}if(this.hasBody()){return"POST"}return"GET"}set method(e){if(e==null){e=""}this.#Xe=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#Ze);if(this.#nt){e["authorization"]=`Basic ${(0,o.encodeBase64)((0,d.toUtf8Bytes)(this.#nt))}`}if(this.allowGzip){e["accept-encoding"]="gzip"}if(e["content-type"]==null&&this.#rt){e["content-type"]=this.#rt}if(this.body){e["content-length"]=String(this.body.length)}return e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#Ze[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#Ze={}}[Symbol.iterator](){const e=this.headers;const t=Object.keys(e);let i=0;return{next:()=>{if(i<t.length){const o=t[i++];return{value:[o,e[o]],done:false}}return{value:undefined,done:true}}}}get credentials(){return this.#nt||null}setCredentials(e,t){(0,l.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]");this.#nt=`${e}:${t}`}get allowGzip(){return this.#Qe}set allowGzip(e){this.#Qe=!!e}get allowInsecureAuthentication(){return!!this.#Je}set allowInsecureAuthentication(e){this.#Je=!!e}get timeout(){return this.#et}set timeout(e){(0,l.assertArgument)(e>=0,"timeout must be non-zero","timeout",e);this.#et=e}get preflightFunc(){return this.#st||null}set preflightFunc(e){this.#st=e}get processFunc(){return this.#it||null}set processFunc(e){this.#it=e}get retryFunc(){return this.#ot||null}set retryFunc(e){this.#ot=e}get getUrlFunc(){return this.#ct||v}set getUrlFunc(e){this.#ct=e}constructor(e){this.#se=String(e);this.#Je=false;this.#Qe=true;this.#Ze={};this.#Xe="";this.#et=3e5;this.#lt={slotInterval:g,maxAttempts:m};this.#ct=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#tt?(0,a.hexlify)(this.#tt):"null"}>`}setThrottleParams(e){if(e.slotInterval!=null){this.#lt.slotInterval=e.slotInterval}if(e.maxAttempts!=null){this.#lt.maxAttempts=e.maxAttempts}}async#ut(e,t,i,o,a){if(e>=this.#lt.maxAttempts){return a.makeServerError("exceeded maximum retry limit")}(0,l.assert)(getTime()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:o});if(i>0){await wait(i)}let u=this.clone();const d=(u.url.split(":")[0]||"").toLowerCase();if(d in A){const e=await A[d](u.url,checkSignal(o.#at));if(e instanceof FetchResponse){let t=e;if(this.processFunc){checkSignal(o.#at);try{t=await this.processFunc(u,t)}catch(e){if(e.throttle==null||typeof e.stall!=="number"){t.makeServerError("error in post-processing function",e).assertOk()}}}return t}u=e}if(this.preflightFunc){u=await this.preflightFunc(u)}const p=await this.getUrlFunc(u,checkSignal(o.#at));let m=new FetchResponse(p.statusCode,p.statusMessage,p.headers,p.body,o);if(m.statusCode===301||m.statusCode===302){try{const i=m.headers.location||"";return u.redirect(i).#ut(e+1,t,0,o,m)}catch(e){}return m}else if(m.statusCode===429){if(this.retryFunc==null||await this.retryFunc(u,m,e)){const i=m.headers["retry-after"];let a=this.#lt.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));if(typeof i==="string"&&i.match(/^[1-9][0-9]*$/)){a=parseInt(i)}return u.clone().#ut(e+1,t,a,o,m)}}if(this.processFunc){checkSignal(o.#at);try{m=await this.processFunc(u,m)}catch(i){if(i.throttle==null||typeof i.stall!=="number"){m.makeServerError("error in post-processing function",i).assertOk()}let a=this.#lt.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));if(i.stall>=0){a=i.stall}return u.clone().#ut(e+1,t,a,o,m)}}return m}send(){(0,l.assert)(this.#at==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"});this.#at=new FetchCancelSignal(this);return this.#ut(0,getTime()+this.timeout,0,this,new FetchResponse(0,"",{},null,this))}cancel(){(0,l.assert)(this.#at!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=k.get(this);if(!e){throw new Error("missing signal; should not happen")}e()}redirect(e){const t=this.url.split(":")[0].toLowerCase();const i=e.split(":")[0].toLowerCase();(0,l.assert)(this.method==="GET"&&(t!=="https"||i!=="http")&&e.match(/^https?:/),`unsupported redirect`,"UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const o=new FetchRequest(e);o.method="GET";o.allowGzip=this.allowGzip;o.timeout=this.timeout;o.#Ze=Object.assign({},this.#Ze);if(this.#tt){o.#tt=new Uint8Array(this.#tt)}o.#rt=this.#rt;return o}clone(){const e=new FetchRequest(this.url);e.#Xe=this.#Xe;if(this.#tt){e.#tt=this.#tt}e.#rt=this.#rt;e.#Ze=Object.assign({},this.#Ze);e.#nt=this.#nt;if(this.allowGzip){e.allowGzip=true}e.timeout=this.timeout;if(this.allowInsecureAuthentication){e.allowInsecureAuthentication=true}e.#st=this.#st;e.#it=this.#it;e.#ot=this.#ot;e.#lt=Object.assign({},this.#lt);e.#ct=this.#ct;return e}static lockConfig(){w=true}static getGateway(e){return A[e.toLowerCase()]||null}static registerGateway(e,t){e=e.toLowerCase();if(e==="http"||e==="https"){throw new Error(`cannot intercept ${e}; use registerGetUrl`)}if(w){throw new Error("gateways locked")}A[e]=t}static registerGetUrl(e){if(w){throw new Error("gateways locked")}v=e}static createGetUrlFunc(e){return(0,p.createGetUrl)(e)}static createDataGateway(){return dataGatewayFunc}static createIpfsGatewayFunc(e){return getIpfsGatewayFunc(e)}}class FetchResponse{#dt;#ft;#Ze;#tt;#ht;#pt;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#tt?(0,a.hexlify)(this.#tt):"null"}>`}get statusCode(){return this.#dt}get statusMessage(){return this.#ft}get headers(){return Object.assign({},this.#Ze)}get body(){return this.#tt==null?null:new Uint8Array(this.#tt)}get bodyText(){try{return this.#tt==null?"":(0,d.toUtf8String)(this.#tt)}catch(e){(0,l.assert)(false,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,l.assert)(false,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers;const t=Object.keys(e);let i=0;return{next:()=>{if(i<t.length){const o=t[i++];return{value:[o,e[o]],done:false}}return{value:undefined,done:true}}}}constructor(e,t,i,o,a){this.#dt=e;this.#ft=t;this.#Ze=Object.keys(i).reduce((e,t)=>{e[t.toLowerCase()]=String(i[t]);return e},{});this.#tt=o==null?null:new Uint8Array(o);this.#ht=a||null;this.#pt={message:""}}makeServerError(e,t){let i;if(!e){e=`${this.statusCode} ${this.statusMessage}`;i=`CLIENT ESCALATED SERVER ERROR (${e})`}else{i=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`}const o=new FetchResponse(599,i,this.headers,this.body,this.#ht||undefined);o.#pt={message:e,error:t};return o}throwThrottleError(e,t){if(t==null){t=-1}else{(0,l.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t)}const i=new Error(e||"throttling requests");(0,u.defineProperties)(i,{stall:t,throttle:true});throw i}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#tt!=null}get request(){return this.#ht}ok(){return this.#pt.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok()){return}let{message:e,error:t}=this.#pt;if(e===""){e=`server response ${this.statusCode} ${this.statusMessage}`}let i=null;if(this.request){i=this.request.url}let o=null;try{if(this.#tt){o=(0,d.toUtf8String)(this.#tt)}}catch(e){}(0,l.assert)(false,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:i,responseBody:o,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function getTime(){return(new Date).getTime()}function unpercent(e){return(0,d.toUtf8Bytes)(e.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function wait(e){return new Promise(t=>setTimeout(t,e))}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/fixednumber.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{FixedNumber:()=>FixedNumber});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");const d=BigInt(-1);const p=BigInt(0);const m=BigInt(1);const g=BigInt(5);const v={};let y="0000";while(y.length<80){y+=y}function getTens(e){let t=y;while(t.length<e){t+=t}return BigInt("1"+t.substring(0,e))}function checkValue(e,t,i){const o=BigInt(t.width);if(t.signed){const t=m<<o-m;(0,a.assert)(i==null||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:e});if(e>p){e=(0,l.fromTwos)((0,l.mask)(e,o),o)}else{e=-(0,l.fromTwos)((0,l.mask)(-e,o),o)}}else{const t=m<<o;(0,a.assert)(i==null||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:i,fault:"overflow",value:e});e=(e%t+t)%t&t-m}return e}function getFormat(e){if(typeof e==="number"){e=`fixed128x${e}`}let t=true;let i=128;let o=18;if(typeof e==="string"){if(e==="fixed"){}else if(e==="ufixed"){t=false}else{const l=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,a.assertArgument)(l,"invalid fixed format","format",e);t=l[1]!=="u";i=parseInt(l[2]);o=parseInt(l[3])}}else if(e){const l=e;const check=(e,t,i)=>{if(l[e]==null){return i}(0,a.assertArgument)(typeof l[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,l[e]);return l[e]};t=check("signed","boolean",t);i=check("width","number",i);o=check("decimals","number",o)}(0,a.assertArgument)(i%8===0,"invalid FixedNumber width (not byte aligned)","format.width",i);(0,a.assertArgument)(o<=80,"invalid FixedNumber decimals (too large)","format.decimals",o);const l=(t?"":"u")+"fixed"+String(i)+"x"+String(o);return{signed:t,width:i,decimals:o,name:l}}function toString(e,t){let i="";if(e<p){i="-";e*=d}let o=e.toString();if(t===0){return i+o}while(o.length<=t){o=y+o}const a=o.length-t;o=o.substring(0,a)+"."+o.substring(a);while(o[0]==="0"&&o[1]!=="."){o=o.substring(1)}while(o[o.length-1]==="0"&&o[o.length-2]!=="."){o=o.substring(0,o.length-1)}return i+o}class FixedNumber{format;#mt;#gt;#vt;_value;constructor(e,t,i){(0,a.assertPrivate)(e,v,"FixedNumber");this.#gt=t;this.#mt=i;const o=toString(t,i.decimals);(0,u.defineProperties)(this,{format:i.name,_value:o});this.#vt=getTens(i.decimals)}get signed(){return this.#mt.signed}get width(){return this.#mt.width}get decimals(){return this.#mt.decimals}get value(){return this.#gt}#yt(e){(0,a.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#bt(e,t){e=checkValue(e,this.#mt,t);return new FixedNumber(v,e,this.#mt)}#_t(e,t){this.#yt(e);return this.#bt(this.#gt+e.#gt,t)}addUnsafe(e){return this.#_t(e)}add(e){return this.#_t(e,"add")}#wt(e,t){this.#yt(e);return this.#bt(this.#gt-e.#gt,t)}subUnsafe(e){return this.#wt(e)}sub(e){return this.#wt(e,"sub")}#Et(e,t){this.#yt(e);return this.#bt(this.#gt*e.#gt/this.#vt,t)}mulUnsafe(e){return this.#Et(e)}mul(e){return this.#Et(e,"mul")}mulSignal(e){this.#yt(e);const t=this.#gt*e.#gt;(0,a.assert)(t%this.#vt===p,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this});return this.#bt(t/this.#vt,"mulSignal")}#At(e,t){(0,a.assert)(e.#gt!==p,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this});this.#yt(e);return this.#bt(this.#gt*this.#vt/e.#gt,t)}divUnsafe(e){return this.#At(e)}div(e){return this.#At(e,"div")}divSignal(e){(0,a.assert)(e.#gt!==p,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this});this.#yt(e);const t=this.#gt*this.#vt;(0,a.assert)(t%e.#gt===p,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this});return this.#bt(t/e.#gt,"divSignal")}cmp(e){let t=this.value,i=e.value;const o=this.decimals-e.decimals;if(o>0){i*=getTens(o)}else if(o<0){t*=getTens(-o)}if(t<i){return-1}if(t>i){return 1}return 0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#gt;if(this.#gt<p){e-=this.#vt-m}e=this.#gt/this.#vt*this.#vt;return this.#bt(e,"floor")}ceiling(){let e=this.#gt;if(this.#gt>p){e+=this.#vt-m}e=this.#gt/this.#vt*this.#vt;return this.#bt(e,"ceiling")}round(e){if(e==null){e=0}if(e>=this.decimals){return this}const t=this.decimals-e;const i=g*getTens(t-1);let o=this.value+i;const a=getTens(t);o=o/a*a;checkValue(o,this.#mt,"round");return new FixedNumber(v,o,this.#mt)}isZero(){return this.#gt===p}isNegative(){return this.#gt<p}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return FixedNumber.fromString(this.toString(),e)}static fromValue(e,t,i){const o=t==null?0:(0,l.getNumber)(t);const u=getFormat(i);let d=(0,l.getBigInt)(e,"value");const m=o-u.decimals;if(m>0){const t=getTens(m);(0,a.assert)(d%t===p,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e});d/=t}else if(m<0){d*=getTens(-m)}checkValue(d,u,"fromValue");return new FixedNumber(v,d,u)}static fromString(e,t){const i=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,a.assertArgument)(i&&i[2].length+i[3].length>0,"invalid FixedNumber string value","value",e);const o=getFormat(t);let l=i[2]||"0",u=i[3]||"";while(u.length<o.decimals){u+=y}(0,a.assert)(u.substring(o.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e});u=u.substring(0,o.decimals);const d=BigInt(i[1]+l+u);checkValue(d,o,"fromString");return new FixedNumber(v,d,o)}static fromBytes(e,t){let i=(0,l.toBigInt)((0,o.getBytes)(e,"value"));const a=getFormat(t);if(a.signed){i=(0,l.fromTwos)(i,a.width)}checkValue(i,a,"fromBytes");return new FixedNumber(v,i,a)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/geturl-browser.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{createGetUrl:()=>createGetUrl,getUrl:()=>getUrl});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function createGetUrl(e){async function getUrl(t,i){(0,o.assert)(i==null||!i.cancelled,"request cancelled before sending","CANCELLED");const a=t.url.split(":")[0].toLowerCase();(0,o.assert)(a==="http"||a==="https",`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"});(0,o.assert)(a==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let l=null;const u=new AbortController;const d=setTimeout(()=>{l=(0,o.makeError)("request timeout","TIMEOUT");u.abort()},t.timeout);if(i){i.addListener(()=>{l=(0,o.makeError)("request cancelled","CANCELLED");u.abort()})}const p=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||undefined,signal:u.signal});let m;try{m=await fetch(t.url,p)}catch(e){clearTimeout(d);if(l){throw l}throw e}clearTimeout(d);const g={};m.headers.forEach((e,t)=>{g[t.toLowerCase()]=e});const v=await m.arrayBuffer();const y=v==null?null:new Uint8Array(v);return{statusCode:m.status,statusMessage:m.statusText,headers:g,body:y}}return getUrl}const a=createGetUrl({});async function getUrl(e,t){return a(e,t)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{fromTwos:()=>fromTwos,getBigInt:()=>getBigInt,getNumber:()=>getNumber,getUint:()=>getUint,mask:()=>mask,toBeArray:()=>toBeArray,toBeHex:()=>toBeHex,toBigInt:()=>toBigInt,toNumber:()=>toNumber,toQuantity:()=>toQuantity,toTwos:()=>toTwos});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");const l=BigInt(0);const u=BigInt(1);const d=9007199254740991;function fromTwos(e,t){const i=getUint(e,"value");const o=BigInt(getNumber(t,"width"));(0,a.assert)(i>>o===l,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e});if(i>>o-u){const e=(u<<o)-u;return-((~i&e)+u)}return i}function toTwos(e,t){let i=getBigInt(e,"value");const o=BigInt(getNumber(t,"width"));const d=u<<o-u;if(i<l){i=-i;(0,a.assert)(i<=d,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});const t=(u<<o)-u;return(~i&t)+u}else{(0,a.assert)(i<d,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e})}return i}function mask(e,t){const i=getUint(e,"value");const o=BigInt(getNumber(t,"bits"));return i&(u<<o)-u}function getBigInt(e,t){switch(typeof e){case"bigint":return e;case"number":(0,a.assertArgument)(Number.isInteger(e),"underflow",t||"value",e);(0,a.assertArgument)(e>=-d&&e<=d,"overflow",t||"value",e);return BigInt(e);case"string":try{if(e===""){throw new Error("empty string")}if(e[0]==="-"&&e[1]!=="-"){return-BigInt(e.substring(1))}return BigInt(e)}catch(i){(0,a.assertArgument)(false,`invalid BigNumberish string: ${i.message}`,t||"value",e)}}(0,a.assertArgument)(false,"invalid BigNumberish value",t||"value",e)}function getUint(e,t){const i=getBigInt(e,t);(0,a.assert)(i>=l,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e});return i}const p="0123456789abcdef";function toBigInt(e){if(e instanceof Uint8Array){let t="0x0";for(const i of e){t+=p[i>>4];t+=p[i&15]}return BigInt(t)}return getBigInt(e)}function getNumber(e,t){switch(typeof e){case"bigint":(0,a.assertArgument)(e>=-d&&e<=d,"overflow",t||"value",e);return Number(e);case"number":(0,a.assertArgument)(Number.isInteger(e),"underflow",t||"value",e);(0,a.assertArgument)(e>=-d&&e<=d,"overflow",t||"value",e);return e;case"string":try{if(e===""){throw new Error("empty string")}return getNumber(BigInt(e),t)}catch(i){(0,a.assertArgument)(false,`invalid numeric string: ${i.message}`,t||"value",e)}}(0,a.assertArgument)(false,"invalid numeric value",t||"value",e)}function toNumber(e){return getNumber(toBigInt(e))}function toBeHex(e,t){const i=getUint(e,"value");let o=i.toString(16);if(t==null){if(o.length%2){o="0"+o}}else{const i=getNumber(t,"width");(0,a.assert)(i*2>=o.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});while(o.length<i*2){o="0"+o}}return"0x"+o}function toBeArray(e){const t=getUint(e,"value");if(t===l){return new Uint8Array([])}let i=t.toString(16);if(i.length%2){i="0"+i}const o=new Uint8Array(i.length/2);for(let e=0;e<o.length;e++){const t=e*2;o[e]=parseInt(i.substring(t,t+2),16)}return o}function toQuantity(e){let t=(0,o.hexlify)((0,o.isBytesLike)(e)?e:toBeArray(e)).substring(2);while(t.startsWith("0")){t=t.substring(1)}if(t===""){t="0"}return"0x"+t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{defineProperties:()=>defineProperties,resolveProperties:()=>resolveProperties});function checkType(e,t,i){const o=t.split("|").map(e=>e.trim());for(let i=0;i<o.length;i++){switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t){return}}}const a=new Error(`invalid value for type ${t}`);a.code="INVALID_ARGUMENT";a.argument=`value.${i}`;a.value=e;throw a}async function resolveProperties(e){const t=Object.keys(e);const i=await Promise.all(t.map(t=>Promise.resolve(e[t])));return i.reduce((e,i,o)=>{e[t[o]]=i;return e},{})}function defineProperties(e,t,i){for(let o in t){let a=t[o];const l=i?i[o]:null;if(l){checkType(a,l,o)}Object.defineProperty(e,o,{enumerable:true,value:a,writable:false})}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/rlp-decode.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decodeRlp:()=>decodeRlp});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function hexlifyByte(e){let t=e.toString(16);while(t.length<2){t="0"+t}return"0x"+t}function unarrayifyInteger(e,t,i){let o=0;for(let a=0;a<i;a++){o=o*256+e[t+a]}return o}function _decodeChildren(e,t,i,o){const l=[];while(i<t+1+o){const u=_decode(e,i);l.push(u.result);i+=u.consumed;(0,a.assert)(i<=t+1+o,"child data too short","BUFFER_OVERRUN",{buffer:e,length:o,offset:t})}return{consumed:1+o,result:l}}function _decode(e,t){(0,a.assert)(e.length!==0,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const checkOffset=t=>{(0,a.assert)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const i=e[t]-247;checkOffset(t+1+i);const o=unarrayifyInteger(e,t+1,i);checkOffset(t+1+i+o);return _decodeChildren(e,t,t+1+i,i+o)}else if(e[t]>=192){const i=e[t]-192;checkOffset(t+1+i);return _decodeChildren(e,t,t+1,i)}else if(e[t]>=184){const i=e[t]-183;checkOffset(t+1+i);const a=unarrayifyInteger(e,t+1,i);checkOffset(t+1+i+a);const l=(0,o.hexlify)(e.slice(t+1+i,t+1+i+a));return{consumed:1+i+a,result:l}}else if(e[t]>=128){const i=e[t]-128;checkOffset(t+1+i);const a=(0,o.hexlify)(e.slice(t+1,t+1+i));return{consumed:1+i,result:a}}return{consumed:1,result:hexlifyByte(e[t])}}function decodeRlp(e){const t=(0,o.getBytes)(e,"data");const i=_decode(t,0);(0,a.assertArgument)(i.consumed===t.length,"unexpected junk after rlp payload","data",e);return i.result}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/rlp-encode.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{encodeRlp:()=>encodeRlp});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");function arrayifyInteger(e){const t=[];while(e){t.unshift(e&255);e>>=8}return t}function _encode(e){if(Array.isArray(e)){let t=[];e.forEach(function(e){t=t.concat(_encode(e))});if(t.length<=55){t.unshift(192+t.length);return t}const i=arrayifyInteger(t.length);i.unshift(247+i.length);return i.concat(t)}const t=Array.prototype.slice.call((0,o.getBytes)(e,"object"));if(t.length===1&&t[0]<=127){return t}else if(t.length<=55){t.unshift(128+t.length);return t}const i=arrayifyInteger(t.length);i.unshift(183+i.length);return i.concat(t)}const a="0123456789abcdef";function encodeRlp(e){let t="0x";for(const i of _encode(e)){t+=a[i>>4];t+=a[i&15]}return t}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/units.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{formatEther:()=>formatEther,formatUnits:()=>formatUnits,parseEther:()=>parseEther,parseUnits:()=>parseUnits});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/fixednumber.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");const u=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatUnits(e,t){let i=18;if(typeof t==="string"){const e=u.indexOf(t);(0,o.assertArgument)(e>=0,"invalid unit","unit",t);i=3*e}else if(t!=null){i=(0,l.getNumber)(t,"unit")}return a.FixedNumber.fromValue(e,i,{decimals:i,width:512}).toString()}function parseUnits(e,t){(0,o.assertArgument)(typeof e==="string","value must be a string","value",e);let i=18;if(typeof t==="string"){const e=u.indexOf(t);(0,o.assertArgument)(e>=0,"invalid unit","unit",t);i=3*e}else if(t!=null){i=(0,l.getNumber)(t,"unit")}return a.FixedNumber.fromString(e,{decimals:i,width:512}).value}function formatEther(e){return formatUnits(e,18)}function parseEther(e){return parseUnits(e,18)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Utf8ErrorFuncs:()=>l,toUtf8Bytes:()=>toUtf8Bytes,toUtf8CodePoints:()=>toUtf8CodePoints,toUtf8String:()=>toUtf8String});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function errorFunc(e,t,i,o,l){(0,a.assertArgument)(false,`invalid codepoint at offset ${t}; ${e}`,"bytes",i)}function ignoreFunc(e,t,i,o,a){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let e=0;for(let o=t+1;o<i.length;o++){if(i[o]>>6!==2){break}e++}return e}if(e==="OVERRUN"){return i.length-t-1}return 0}function replaceFunc(e,t,i,o,l){if(e==="OVERLONG"){(0,a.assertArgument)(typeof l==="number","invalid bad code point for replacement","badCodepoint",l);o.push(l);return 0}o.push(65533);return ignoreFunc(e,t,i,o,l)}const l=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(e,t){if(t==null){t=l.error}const i=(0,o.getBytes)(e,"bytes");const a=[];let u=0;while(u<i.length){const e=i[u++];if(e>>7===0){a.push(e);continue}let o=null;let l=null;if((e&224)===192){o=1;l=127}else if((e&240)===224){o=2;l=2047}else if((e&248)===240){o=3;l=65535}else{if((e&192)===128){u+=t("UNEXPECTED_CONTINUE",u-1,i,a)}else{u+=t("BAD_PREFIX",u-1,i,a)}continue}if(u-1+o>=i.length){u+=t("OVERRUN",u-1,i,a);continue}let d=e&(1<<8-o-1)-1;for(let e=0;e<o;e++){let e=i[u];if((e&192)!=128){u+=t("MISSING_CONTINUE",u,i,a);d=null;break}d=d<<6|e&63;u++}if(d===null){continue}if(d>1114111){u+=t("OUT_OF_RANGE",u-1-o,i,a,d);continue}if(d>=55296&&d<=57343){u+=t("UTF16_SURROGATE",u-1-o,i,a,d);continue}if(d<=l){u+=t("OVERLONG",u-1-o,i,a,d);continue}a.push(d)}return a}function toUtf8Bytes(e,t){(0,a.assertArgument)(typeof e==="string","invalid string value","str",e);if(t!=null){(0,a.assertNormalize)(t);e=e.normalize(t)}let i=[];for(let t=0;t<e.length;t++){const o=e.charCodeAt(t);if(o<128){i.push(o)}else if(o<2048){i.push(o>>6|192);i.push(o&63|128)}else if((o&64512)==55296){t++;const l=e.charCodeAt(t);(0,a.assertArgument)(t<e.length&&(l&64512)===56320,"invalid surrogate pair","str",e);const u=65536+((o&1023)<<10)+(l&1023);i.push(u>>18|240);i.push(u>>12&63|128);i.push(u>>6&63|128);i.push(u&63|128)}else{i.push(o>>12|224);i.push(o>>6&63|128);i.push(o&63|128)}}return new Uint8Array(i)}function _toUtf8String(e){return e.map(e=>{if(e<=65535){return String.fromCharCode(e)}e-=65536;return String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320)}).join("")}function toUtf8String(e,t){return _toUtf8String(getUtf8CodePoints(e,t))}function toUtf8CodePoints(e,t){return getUtf8CodePoints(toUtf8Bytes(e,t))}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/uuid.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{uuidV4:()=>uuidV4});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");function uuidV4(e){const t=(0,o.getBytes)(e,"randomBytes");t[6]=t[6]&15|64;t[8]=t[8]&63|128;const i=(0,o.hexlify)(t);return[i.substring(2,10),i.substring(10,14),i.substring(14,18),i.substring(18,22),i.substring(22,34)].join("-")}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/base-wallet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BaseWallet:()=>BaseWallet});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/message.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/authorization.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/typed-data.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/abstract-signer.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/transaction.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");class BaseWallet extends p.AbstractSigner{address;#St;constructor(e,t){super(t);(0,y.assertArgument)(e&&typeof e.sign==="function","invalid private key","privateKey","[ REDACTED ]");this.#St=e;const i=(0,g.computeAddress)(this.signingKey.publicKey);(0,_.defineProperties)(this,{address:i})}get signingKey(){return this.#St}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new BaseWallet(this.#St,e)}async signTransaction(e){e=(0,m.copyRequest)(e);const{to:t,from:i}=await(0,_.resolveProperties)({to:e.to?(0,o.resolveAddress)(e.to,this):undefined,from:e.from?(0,o.resolveAddress)(e.from,this):undefined});if(t!=null){e.to=t}if(i!=null){e.from=i}if(e.from!=null){(0,y.assertArgument)((0,a.getAddress)(e.from)===this.address,"transaction from address mismatch","tx.from",e.from);delete e.from}const l=v.Transaction.from(e);l.signature=this.signingKey.sign(l.unsignedHash);return l.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign((0,l.hashMessage)(e)).serialized}authorizeSync(e){(0,y.assertArgument)(typeof e.address==="string","invalid address for authorizeSync","auth.address",e);const t=this.signingKey.sign((0,u.hashAuthorization)(e));return Object.assign({},{address:(0,a.getAddress)(e.address),nonce:(0,w.getBigInt)(e.nonce||0),chainId:(0,w.getBigInt)(e.chainId||0)},{signature:t})}async authorize(e){e=Object.assign({},e,{address:await(0,o.resolveAddress)(e.address,this)});return this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,i){const o=await d.TypedDataEncoder.resolveNames(e,t,i,async e=>{(0,y.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});const t=await this.provider.resolveName(e);(0,y.assert)(t!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e});return t});return this.signingKey.sign(d.TypedDataEncoder.hash(o.domain,t,o.value)).serialized}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/hdwallet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{HDNodeVoidWallet:()=>HDNodeVoidWallet,HDNodeWallet:()=>HDNodeWallet,defaultPath:()=>I,getAccountPath:()=>getAccountPath,getIndexedAccountPath:()=>getIndexedAccountPath});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/sha2.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/hmac.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/ripemd160.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signing-key.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/random.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/abstract-signer.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/base58.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/maths.js");var A=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/lang-en.js");var k=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/base-wallet.js");var T=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/mnemonic.js");var x=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/json-keystore.js");const I="m/44'/60'/0'/0/0";const N=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]);const P=2147483648;const C=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");const M="0123456789abcdef";function zpad(e,t){let i="";while(e){i=M[e%16]+i;e=Math.trunc(e/16)}while(i.length<t*2){i="0"+i}return"0x"+i}function encodeBase58Check(e){const t=(0,g.getBytes)(e);const i=(0,g.dataSlice)((0,o.sha256)((0,o.sha256)(t)),0,4);const a=(0,g.concat)([t,i]);return(0,v.encodeBase58)(a)}const B={};function ser_I(e,t,i,o){const l=new Uint8Array(37);if(e&P){(0,y.assert)(o!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"});l.set((0,g.getBytes)(o),1)}else{l.set((0,g.getBytes)(i))}for(let t=24;t>=0;t-=8){l[33+(t>>3)]=e>>24-t&255}const u=(0,g.getBytes)((0,a.computeHmac)("sha512",t,l));return{IL:u.slice(0,32),IR:u.slice(32)}}function derivePath(e,t){const i=t.split("/");(0,y.assertArgument)(i.length>0,"invalid path","path",t);if(i[0]==="m"){(0,y.assertArgument)(e.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t);i.shift()}let o=e;for(let e=0;e<i.length;e++){const t=i[e];if(t.match(/^[0-9]+'$/)){const i=parseInt(t.substring(0,t.length-1));(0,y.assertArgument)(i<P,"invalid path index",`path[${e}]`,t);o=o.deriveChild(P+i)}else if(t.match(/^[0-9]+$/)){const i=parseInt(t);(0,y.assertArgument)(i<P,"invalid path index",`path[${e}]`,t);o=o.deriveChild(i)}else{(0,y.assertArgument)(false,"invalid path component",`path[${e}]`,t)}}return o}class HDNodeWallet extends k.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,i,a,u,d,p,m,v){super(t,v);(0,y.assertPrivate)(e,B,"HDNodeWallet");(0,_.defineProperties)(this,{publicKey:t.compressedPublicKey});const w=(0,g.dataSlice)((0,l.ripemd160)((0,o.sha256)(this.publicKey)),0,4);(0,_.defineProperties)(this,{parentFingerprint:i,fingerprint:w,chainCode:a,path:u,index:d,depth:p});(0,_.defineProperties)(this,{mnemonic:m})}connect(e){return new HDNodeWallet(B,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#kt(){const e={address:this.address,privateKey:this.privateKey};const t=this.mnemonic;if(this.path&&t&&t.wordlist.locale==="en"&&t.password===""){e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}}return e}async encrypt(e,t){return await(0,x.encryptKeystoreJson)(this.#kt(),e,{progressCallback:t})}encryptSync(e){return(0,x.encryptKeystoreJsonSync)(this.#kt(),e)}get extendedKey(){(0,y.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"});return encodeBase58Check((0,g.concat)(["0x0488ADE4",zpad(this.depth,1),this.parentFingerprint,zpad(this.index,4),this.chainCode,(0,g.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new HDNodeVoidWallet(B,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=(0,w.getNumber)(e,"index");(0,y.assertArgument)(t<=4294967295,"invalid index","index",t);let i=this.path;if(i){i+="/"+(t&~P);if(t&P){i+="'"}}const{IR:o,IL:a}=ser_I(t,this.chainCode,this.publicKey,this.privateKey);const l=new u.SigningKey((0,w.toBeHex)(((0,w.toBigInt)(a)+BigInt(this.privateKey))%C,32));return new HDNodeWallet(B,l,this.fingerprint,(0,g.hexlify)(o),i,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return derivePath(this,e)}static#Tt(e,t){(0,y.assertArgument)((0,g.isBytesLike)(e),"invalid seed","seed","[REDACTED]");const i=(0,g.getBytes)(e,"seed");(0,y.assertArgument)(i.length>=16&&i.length<=64,"invalid seed","seed","[REDACTED]");const o=(0,g.getBytes)((0,a.computeHmac)("sha512",N,i));const l=new u.SigningKey((0,g.hexlify)(o.slice(0,32)));return new HDNodeWallet(B,l,"0x00000000",(0,g.hexlify)(o.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=(0,w.toBeArray)((0,v.decodeBase58)(e));(0,y.assertArgument)(t.length===82||encodeBase58Check(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const i=t[4];const o=(0,g.hexlify)(t.slice(5,9));const a=parseInt((0,g.hexlify)(t.slice(9,13)).substring(2),16);const l=(0,g.hexlify)(t.slice(13,45));const d=t.slice(45,78);switch((0,g.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const e=(0,g.hexlify)(d);return new HDNodeVoidWallet(B,(0,m.computeAddress)(e),e,o,l,null,a,i,null)}case"0x0488ade4":case"0x04358394 ":if(d[0]!==0){break}return new HDNodeWallet(B,new u.SigningKey(d.slice(1)),o,l,null,a,i,null,null)}(0,y.assertArgument)(false,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,i){if(e==null){e=""}if(t==null){t=I}if(i==null){i=A.LangEn.wordlist()}const o=T.Mnemonic.fromEntropy((0,d.randomBytes)(16),e,i);return HDNodeWallet.#Tt(o.computeSeed(),o).derivePath(t)}static fromMnemonic(e,t){if(!t){t=I}return HDNodeWallet.#Tt(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,i,o){if(t==null){t=""}if(i==null){i=I}if(o==null){o=A.LangEn.wordlist()}const a=T.Mnemonic.fromPhrase(e,t,o);return HDNodeWallet.#Tt(a.computeSeed(),a).derivePath(i)}static fromSeed(e){return HDNodeWallet.#Tt(e,null)}}class HDNodeVoidWallet extends p.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,i,a,u,d,p,m,v){super(t,v);(0,y.assertPrivate)(e,B,"HDNodeVoidWallet");(0,_.defineProperties)(this,{publicKey:i});const w=(0,g.dataSlice)((0,l.ripemd160)((0,o.sha256)(i)),0,4);(0,_.defineProperties)(this,{publicKey:i,fingerprint:w,parentFingerprint:a,chainCode:u,path:d,index:p,depth:m})}connect(e){return new HDNodeVoidWallet(B,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){(0,y.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"});return encodeBase58Check((0,g.concat)(["0x0488B21E",zpad(this.depth,1),this.parentFingerprint,zpad(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){const t=(0,w.getNumber)(e,"index");(0,y.assertArgument)(t<=4294967295,"invalid index","index",t);let i=this.path;if(i){i+="/"+(t&~P);if(t&P){i+="'"}}const{IR:o,IL:a}=ser_I(t,this.chainCode,this.publicKey,null);const l=u.SigningKey.addPoints(a,this.publicKey,true);const d=(0,m.computeAddress)(l);return new HDNodeVoidWallet(B,d,l,this.fingerprint,(0,g.hexlify)(o),i,t,this.depth+1,this.provider)}derivePath(e){return derivePath(this,e)}}function getAccountPath(e){const t=(0,w.getNumber)(e,"index");(0,y.assertArgument)(t>=0&&t<P,"invalid account index","index",t);return`m/44'/60'/${t}'/0/0`}function getIndexedAccountPath(e){const t=(0,w.getNumber)(e,"index");(0,y.assertArgument)(t>=0&&t<P,"invalid account index","index",t);return`m/44'/60'/0'/0/${t}`}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/json-crowdsale.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decryptCrowdsaleJson:()=>decryptCrowdsaleJson,isCrowdsaleJson:()=>isCrowdsaleJson});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/index.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/pbkdf2.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/id.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/utils.js");function isCrowdsaleJson(e){try{const t=JSON.parse(e);if(t.encseed){return true}}catch(e){}return false}function decryptCrowdsaleJson(e,t){const i=JSON.parse(e);const g=(0,m.getPassword)(t);const v=(0,a.getAddress)((0,m.spelunk)(i,"ethaddr:string!"));const y=(0,m.looseArrayify)((0,m.spelunk)(i,"encseed:string!"));(0,d.assertArgument)(y&&y.length%16===0,"invalid encseed","json",e);const _=(0,p.getBytes)((0,l.pbkdf2)(g,g,2e3,32,"sha256")).slice(0,16);const w=y.slice(0,16);const A=y.slice(16);const k=new o.CBC(_,w);const T=(0,o.pkcs7Strip)((0,p.getBytes)(k.decrypt(A)));let x="";for(let e=0;e<T.length;e++){x+=String.fromCharCode(T[e])}return{address:v,privateKey:(0,u.id)(x)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/json-keystore.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decryptKeystoreJson:()=>decryptKeystoreJson,decryptKeystoreJsonSync:()=>decryptKeystoreJsonSync,encryptKeystoreJson:()=>encryptKeystoreJson,encryptKeystoreJsonSync:()=>encryptKeystoreJsonSync,isKeystoreJson:()=>isKeystoreJson});var o=i("../../node_modules/.pnpm/aes-js@4.0.0-beta.5/node_modules/aes-js/lib.esm/index.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/keccak.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/pbkdf2.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/scrypt.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/random.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var g=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var v=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/uuid.js");var _=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/utils.js");var w=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/_version.js");const A="m/44'/60'/0'/0/0";function isKeystoreJson(e){try{const t=JSON.parse(e);const i=t.version!=null?parseInt(t.version):0;if(i===3){return true}}catch(e){}return false}function decrypt(e,t,i){const a=(0,_.spelunk)(e,"crypto.cipher:string");if(a==="aes-128-ctr"){const a=(0,_.spelunk)(e,"crypto.cipherparams.iv:data!");const l=new o.CTR(t,a);return(0,g.hexlify)(l.decrypt(i))}(0,v.assert)(false,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function getAccount(e,t){const i=(0,g.getBytes)(t);const u=(0,_.spelunk)(e,"crypto.ciphertext:data!");const d=(0,g.hexlify)((0,l.keccak256)((0,g.concat)([i.slice(16,32),u]))).substring(2);(0,v.assertArgument)(d===(0,_.spelunk)(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const p=decrypt(e,i.slice(0,16),u);const y=(0,m.computeAddress)(p);if(e.address){let t=e.address.toLowerCase();if(!t.startsWith("0x")){t="0x"+t}(0,v.assertArgument)((0,a.getAddress)(t)===y,"keystore address/privateKey mismatch","address",e.address)}const w={address:y,privateKey:p};const k=(0,_.spelunk)(e,"x-ethers.version:string");if(k==="0.1"){const t=i.slice(32,64);const a=(0,_.spelunk)(e,"x-ethers.mnemonicCiphertext:data!");const l=(0,_.spelunk)(e,"x-ethers.mnemonicCounter:data!");const u=new o.CTR(t,l);w.mnemonic={path:(0,_.spelunk)(e,"x-ethers.path:string")||A,locale:(0,_.spelunk)(e,"x-ethers.locale:string")||"en",entropy:(0,g.hexlify)((0,g.getBytes)(u.decrypt(a)))}}return w}function getDecryptKdfParams(e){const t=(0,_.spelunk)(e,"crypto.kdf:string");if(t&&typeof t==="string"){if(t.toLowerCase()==="scrypt"){const i=(0,_.spelunk)(e,"crypto.kdfparams.salt:data!");const o=(0,_.spelunk)(e,"crypto.kdfparams.n:int!");const a=(0,_.spelunk)(e,"crypto.kdfparams.r:int!");const l=(0,_.spelunk)(e,"crypto.kdfparams.p:int!");(0,v.assertArgument)(o>0&&(o&o-1)===0,"invalid kdf.N","kdf.N",o);(0,v.assertArgument)(a>0&&l>0,"invalid kdf","kdf",t);const u=(0,_.spelunk)(e,"crypto.kdfparams.dklen:int!");(0,v.assertArgument)(u===32,"invalid kdf.dklen","kdf.dflen",u);return{name:"scrypt",salt:i,N:o,r:a,p:l,dkLen:64}}else if(t.toLowerCase()==="pbkdf2"){const t=(0,_.spelunk)(e,"crypto.kdfparams.salt:data!");const i=(0,_.spelunk)(e,"crypto.kdfparams.prf:string!");const o=i.split("-").pop();(0,v.assertArgument)(o==="sha256"||o==="sha512","invalid kdf.pdf","kdf.pdf",i);const a=(0,_.spelunk)(e,"crypto.kdfparams.c:int!");const l=(0,_.spelunk)(e,"crypto.kdfparams.dklen:int!");(0,v.assertArgument)(l===32,"invalid kdf.dklen","kdf.dklen",l);return{name:"pbkdf2",salt:t,count:a,dkLen:l,algorithm:o}}}(0,v.assertArgument)(false,"unsupported key-derivation function","kdf",t)}function decryptKeystoreJsonSync(e,t){const i=JSON.parse(e);const o=(0,_.getPassword)(t);const a=getDecryptKdfParams(i);if(a.name==="pbkdf2"){const{salt:e,count:t,dkLen:l,algorithm:d}=a;const p=(0,u.pbkdf2)(o,e,t,l,d);return getAccount(i,p)}(0,v.assert)(a.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:a});const{salt:l,N:p,r:m,p:g,dkLen:y}=a;const w=(0,d.scryptSync)(o,l,p,m,g,y);return getAccount(i,w)}function stall(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function decryptKeystoreJson(e,t,i){const o=JSON.parse(e);const a=(0,_.getPassword)(t);const l=getDecryptKdfParams(o);if(l.name==="pbkdf2"){if(i){i(0);await stall(0)}const{salt:e,count:t,dkLen:d,algorithm:p}=l;const m=(0,u.pbkdf2)(a,e,t,d,p);if(i){i(1);await stall(0)}return getAccount(o,m)}(0,v.assert)(l.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:l});const{salt:p,N:m,r:g,p:y,dkLen:w}=l;const A=await(0,d.scrypt)(a,p,m,g,y,w,i);return getAccount(o,A)}function getEncryptKdfParams(e){const t=e.salt!=null?(0,g.getBytes)(e.salt,"options.salt"):(0,p.randomBytes)(32);let i=1<<17,o=8,a=1;if(e.scrypt){if(e.scrypt.N){i=e.scrypt.N}if(e.scrypt.r){o=e.scrypt.r}if(e.scrypt.p){a=e.scrypt.p}}(0,v.assertArgument)(typeof i==="number"&&i>0&&Number.isSafeInteger(i)&&(BigInt(i)&BigInt(i-1))===BigInt(0),"invalid scrypt N parameter","options.N",i);(0,v.assertArgument)(typeof o==="number"&&o>0&&Number.isSafeInteger(o),"invalid scrypt r parameter","options.r",o);(0,v.assertArgument)(typeof a==="number"&&a>0&&Number.isSafeInteger(a),"invalid scrypt p parameter","options.p",a);return{name:"scrypt",dkLen:32,salt:t,N:i,r:o,p:a}}function _encryptKeystore(e,t,i,a){const u=(0,g.getBytes)(i.privateKey,"privateKey");const d=a.iv!=null?(0,g.getBytes)(a.iv,"options.iv"):(0,p.randomBytes)(16);(0,v.assertArgument)(d.length===16,"invalid options.iv length","options.iv",a.iv);const m=a.uuid!=null?(0,g.getBytes)(a.uuid,"options.uuid"):(0,p.randomBytes)(16);(0,v.assertArgument)(m.length===16,"invalid options.uuid length","options.uuid",a.iv);const k=e.slice(0,16);const T=e.slice(16,32);const x=new o.CTR(k,d);const I=(0,g.getBytes)(x.encrypt(u));const N=(0,l.keccak256)((0,g.concat)([T,I]));const P={address:i.address.substring(2).toLowerCase(),id:(0,y.uuidV4)(m),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,g.hexlify)(d).substring(2)},ciphertext:(0,g.hexlify)(I).substring(2),kdf:"scrypt",kdfparams:{salt:(0,g.hexlify)(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:N.substring(2)}};if(i.mnemonic){const t=a.client!=null?a.client:`ethers/${w.version}`;const l=i.mnemonic.path||A;const u=i.mnemonic.locale||"en";const d=e.slice(32,64);const m=(0,g.getBytes)(i.mnemonic.entropy,"account.mnemonic.entropy");const v=(0,p.randomBytes)(16);const y=new o.CTR(d,v);const k=(0,g.getBytes)(y.encrypt(m));const T=new Date;const x=T.getUTCFullYear()+"-"+(0,_.zpad)(T.getUTCMonth()+1,2)+"-"+(0,_.zpad)(T.getUTCDate(),2)+"T"+(0,_.zpad)(T.getUTCHours(),2)+"-"+(0,_.zpad)(T.getUTCMinutes(),2)+"-"+(0,_.zpad)(T.getUTCSeconds(),2)+".0Z";const I="UTC--"+x+"--"+P.address;P["x-ethers"]={client:t,gethFilename:I,path:l,locale:u,mnemonicCounter:(0,g.hexlify)(v).substring(2),mnemonicCiphertext:(0,g.hexlify)(k).substring(2),version:"0.1"}}return JSON.stringify(P)}function encryptKeystoreJsonSync(e,t,i){if(i==null){i={}}const o=(0,_.getPassword)(t);const a=getEncryptKdfParams(i);const l=(0,d.scryptSync)(o,a.salt,a.N,a.r,a.p,64);return _encryptKeystore((0,g.getBytes)(l),a,e,i)}async function encryptKeystoreJson(e,t,i){if(i==null){i={}}const o=(0,_.getPassword)(t);const a=getEncryptKdfParams(i);const l=await(0,d.scrypt)(o,a.salt,a.N,a.r,a.p,64,i.progressCallback);return _encryptKeystore((0,g.getBytes)(l),a,e,i)}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/mnemonic.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Mnemonic:()=>Mnemonic});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/sha2.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/pbkdf2.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/lang-en.js");function getUpperMask(e){return(1<<e)-1<<8-e&255}function getLowerMask(e){return(1<<e)-1&255}function mnemonicToEntropy(e,t){(0,l.assertNormalize)("NFKD");if(t==null){t=m.LangEn.wordlist()}const i=t.split(e);(0,l.assertArgument)(i.length%3===0&&i.length>=12&&i.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const a=new Uint8Array(Math.ceil(11*i.length/8));let d=0;for(let e=0;e<i.length;e++){let o=t.getWordIndex(i[e].normalize("NFKD"));(0,l.assertArgument)(o>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++){if(o&1<<10-e){a[d>>3]|=1<<7-d%8}d++}}const p=32*i.length/3;const g=i.length/3;const v=getUpperMask(g);const y=(0,u.getBytes)((0,o.sha256)(a.slice(0,p/8)))[0]&v;(0,l.assertArgument)(y===(a[a.length-1]&v),"invalid mnemonic checksum","mnemonic","[ REDACTED ]");return(0,u.hexlify)(a.slice(0,p/8))}function entropyToMnemonic(e,t){(0,l.assertArgument)(e.length%4===0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]");if(t==null){t=m.LangEn.wordlist()}const i=[0];let a=11;for(let t=0;t<e.length;t++){if(a>8){i[i.length-1]<<=8;i[i.length-1]|=e[t];a-=8}else{i[i.length-1]<<=a;i[i.length-1]|=e[t]>>8-a;i.push(e[t]&getLowerMask(8-a));a+=3}}const u=e.length/4;const d=parseInt((0,o.sha256)(e).substring(2,4),16)&getUpperMask(u);i[i.length-1]<<=u;i[i.length-1]|=d>>8-u;return t.join(i.map(e=>t.getWord(e)))}const g={};class Mnemonic{phrase;password;wordlist;entropy;constructor(e,t,i,o,a){if(o==null){o=""}if(a==null){a=m.LangEn.wordlist()}(0,l.assertPrivate)(e,g,"Mnemonic");(0,d.defineProperties)(this,{phrase:i,password:o,wordlist:a,entropy:t})}computeSeed(){const e=(0,p.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,a.pbkdf2)((0,p.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,i){const o=mnemonicToEntropy(e,i);e=entropyToMnemonic((0,u.getBytes)(o),i);return new Mnemonic(g,o,e,t,i)}static fromEntropy(e,t,i){const o=(0,u.getBytes)(e,"entropy");const a=entropyToMnemonic(o,i);return new Mnemonic(g,(0,u.hexlify)(o),a,t,i)}static entropyToPhrase(e,t){const i=(0,u.getBytes)(e,"entropy");return entropyToMnemonic(i,t)}static phraseToEntropy(e,t){return mnemonicToEntropy(e,t)}static isValidMnemonic(e,t){try{mnemonicToEntropy(e,t);return true}catch(e){}return false}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getPassword:()=>getPassword,looseArrayify:()=>looseArrayify,spelunk:()=>spelunk,zpad:()=>zpad});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/data.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/utf8.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");function looseArrayify(e){if(typeof e==="string"&&!e.startsWith("0x")){e="0x"+e}return(0,o.getBytesCopy)(e)}function zpad(e,t){e=String(e);while(e.length<t){e="0"+e}return e}function getPassword(e){if(typeof e==="string"){return(0,a.toUtf8Bytes)(e,"NFKC")}return(0,o.getBytesCopy)(e)}function spelunk(e,t){const i=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,l.assertArgument)(i!=null,"invalid path","path",t);const o=i[1];const a=i[3];const u=i[4]==="!";let d=e;for(const e of o.toLowerCase().split(".")){if(Array.isArray(d)){if(!e.match(/^[0-9]+$/)){break}d=d[parseInt(e)]}else if(typeof d==="object"){let t=null;for(const i in d){if(i.toLowerCase()===e){t=d[i];break}}d=t}else{d=null}if(d==null){break}}(0,l.assertArgument)(!u||d!=null,"missing required value","path",o);if(a&&d!=null){if(a==="int"){if(typeof d==="string"&&d.match(/^-?[0-9]+$/)){return parseInt(d)}else if(Number.isSafeInteger(d)){return d}}if(a==="number"){if(typeof d==="string"&&d.match(/^-?[0-9.]*$/)){return parseFloat(d)}}if(a==="data"){if(typeof d==="string"){return looseArrayify(d)}}if(a==="array"&&Array.isArray(d)){return d}if(a===typeof d){return d}(0,l.assertArgument)(false,`wrong type found for ${a} `,"path",o)}return d}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/wallet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Wallet:()=>Wallet});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/signing-key.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/base-wallet.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/hdwallet.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/json-crowdsale.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/json-keystore.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/mnemonic.js");function stall(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class Wallet extends l.BaseWallet{constructor(e,t){if(typeof e==="string"&&!e.startsWith("0x")){e="0x"+e}let i=typeof e==="string"?new o.SigningKey(e):e;super(i,t)}connect(e){return new Wallet(this.signingKey,e)}async encrypt(e,t){const i={address:this.address,privateKey:this.privateKey};return await(0,p.encryptKeystoreJson)(i,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return(0,p.encryptKeystoreJsonSync)(t,e)}static#xt(e){(0,a.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]");if("mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const t=m.Mnemonic.fromEntropy(e.mnemonic.entropy);const i=u.HDNodeWallet.fromMnemonic(t,e.mnemonic.path);if(i.address===e.address&&i.privateKey===e.privateKey){return i}console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new Wallet(e.privateKey);(0,a.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]");return t}static async fromEncryptedJson(e,t,i){let o=null;if((0,p.isKeystoreJson)(e)){o=await(0,p.decryptKeystoreJson)(e,t,i)}else if((0,d.isCrowdsaleJson)(e)){if(i){i(0);await stall(0)}o=(0,d.decryptCrowdsaleJson)(e,t);if(i){i(1);await stall(0)}}return Wallet.#xt(o)}static fromEncryptedJsonSync(e,t){let i=null;if((0,p.isKeystoreJson)(e)){i=(0,p.decryptKeystoreJsonSync)(e,t)}else if((0,d.isCrowdsaleJson)(e)){i=(0,d.decryptCrowdsaleJson)(e,t)}else{(0,a.assertArgument)(false,"invalid JSON wallet","json","[ REDACTED ]")}return Wallet.#xt(i)}static createRandom(e){const t=u.HDNodeWallet.createRandom();if(e){return t.connect(e)}return t}static fromPhrase(e,t){const i=u.HDNodeWallet.fromPhrase(e);if(t){return i.connect(t)}return i}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/decode-owl.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decode:()=>decode,decodeOwl:()=>decodeOwl});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");const a=" !#$%&'()*+,-./<=>?@[]^_`{|}~";const l=/^[a-z]*$/i;function unfold(e,t){let i=97;return e.reduce((e,o)=>{if(o===t){i++}else if(o.match(l)){e.push(String.fromCharCode(i)+o)}else{i=97;e.push(o)}return e},[])}function decode(e,t){for(let i=a.length-1;i>=0;i--){e=e.split(a[i]).join(t.substring(2*i,2*i+2))}const i=[];const o=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,o,a)=>{if(o){for(let e=parseInt(o);e>=0;e--){i.push(";")}}else{i.push(t.toLowerCase())}return""});if(o){throw new Error(`leftovers: ${JSON.stringify(o)}`)}return unfold(unfold(i,";"),":")}function decodeOwl(e){(0,o.assertArgument)(e[0]==="0","unsupported auwl data","data",e);return decode(e.substring(1+2*a.length),e.substring(1,1+2*a.length))}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/lang-en.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{LangEn:()=>LangEn});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/wordlist-owl.js");const a="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO";const l="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let u=null;class LangEn extends o.WordlistOwl{constructor(){super("en",a,l)}static wordlist(){if(u==null){u=new LangEn}return u}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/wordlist-owl.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{WordlistOwl:()=>WordlistOwl});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/id.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/errors.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/decode-owl.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/wordlist.js");class WordlistOwl extends u.Wordlist{#r;#It;constructor(e,t,i){super(e);this.#r=t;this.#It=i;this.#Nt=null}get _data(){return this.#r}_decodeWords(){return(0,l.decodeOwl)(this.#r)}#Nt;#Pt(){if(this.#Nt==null){const e=this._decodeWords();const t=(0,o.id)(e.join("\n")+"\n");if(t!==this.#It){throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`)}this.#Nt=e}return this.#Nt}getWord(e){const t=this.#Pt();(0,a.assertArgument)(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e);return t[e]}getWordIndex(e){return this.#Pt().indexOf(e)}}},"../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wordlists/wordlist.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Wordlist:()=>Wordlist});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/properties.js");class Wordlist{locale;constructor(e){(0,o.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}},"../../node_modules/.pnpm/events@3.3.0/node_modules/events/events.js":e=>{"use strict";var t=typeof Reflect==="object"?Reflect:null;var i=t&&typeof t.apply==="function"?t.apply:function ReflectApply(e,t,i){return Function.prototype.apply.call(e,t,i)};var o;if(t&&typeof t.ownKeys==="function"){o=t.ownKeys}else if(Object.getOwnPropertySymbols){o=function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}}else{o=function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)}}function ProcessEmitWarning(e){if(console&&console.warn)console.warn(e)}var a=Number.isNaN||function NumberIsNaN(e){return e!==e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter;e.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=undefined;var l=10;function checkListener(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return l},set:function(e){if(typeof e!=="number"||e<0||a(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}l=e}});EventEmitter.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if(typeof e!=="number"||e<0||a(e)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".")}this._maxListeners=e;return this};function _getMaxListeners(e){if(e._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return e._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function emit(e){var t=[];for(var o=1;o<arguments.length;o++)t.push(arguments[o]);var a=e==="error";var l=this._events;if(l!==undefined)a=a&&l.error===undefined;else if(!a)return false;if(a){var u;if(t.length>0)u=t[0];if(u instanceof Error){throw u}var d=new Error("Unhandled error."+(u?" ("+u.message+")":""));d.context=u;throw d}var p=l[e];if(p===undefined)return false;if(typeof p==="function"){i(p,this,t)}else{var m=p.length;var g=arrayClone(p,m);for(var o=0;o<m;++o)i(g[o],this,t)}return true};function _addListener(e,t,i,o){var a;var l;var u;checkListener(i);l=e._events;if(l===undefined){l=e._events=Object.create(null);e._eventsCount=0}else{if(l.newListener!==undefined){e.emit("newListener",t,i.listener?i.listener:i);l=e._events}u=l[t]}if(u===undefined){u=l[t]=i;++e._eventsCount}else{if(typeof u==="function"){u=l[t]=o?[i,u]:[u,i]}else if(o){u.unshift(i)}else{u.push(i)}a=_getMaxListeners(e);if(a>0&&u.length>a&&!u.warned){u.warned=true;var d=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");d.name="MaxListenersExceededWarning";d.emitter=e;d.type=t;d.count=u.length;ProcessEmitWarning(d)}}return e}EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function _onceWrap(e,t,i){var o={fired:false,wrapFn:undefined,target:e,type:t,listener:i};var a=onceWrapper.bind(o);a.listener=i;o.wrapFn=a;return a}EventEmitter.prototype.once=function once(e,t){checkListener(t);this.on(e,_onceWrap(this,e,t));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){checkListener(t);this.prependListener(e,_onceWrap(this,e,t));return this};EventEmitter.prototype.removeListener=function removeListener(e,t){var i,o,a,l,u;checkListener(t);o=this._events;if(o===undefined)return this;i=o[e];if(i===undefined)return this;if(i===t||i.listener===t){if(--this._eventsCount===0)this._events=Object.create(null);else{delete o[e];if(o.removeListener)this.emit("removeListener",e,i.listener||t)}}else if(typeof i!=="function"){a=-1;for(l=i.length-1;l>=0;l--){if(i[l]===t||i[l].listener===t){u=i[l].listener;a=l;break}}if(a<0)return this;if(a===0)i.shift();else{spliceOne(i,a)}if(i.length===1)o[e]=i[0];if(o.removeListener!==undefined)this.emit("removeListener",e,u||t)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,i,o;i=this._events;if(i===undefined)return this;if(i.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(i[e]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete i[e]}return this}if(arguments.length===0){var a=Object.keys(i);var l;for(o=0;o<a.length;++o){l=a[o];if(l==="removeListener")continue;this.removeAllListeners(l)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}t=i[e];if(typeof t==="function"){this.removeListener(e,t)}else if(t!==undefined){for(o=t.length-1;o>=0;o--){this.removeListener(e,t[o])}}return this};function _listeners(e,t,i){var o=e._events;if(o===undefined)return[];var a=o[t];if(a===undefined)return[];if(typeof a==="function")return i?[a.listener||a]:[a];return i?unwrapListeners(a):arrayClone(a,a.length)}EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,true)};EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,false)};EventEmitter.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return listenerCount.call(e,t)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==undefined){var i=t[e];if(typeof i==="function"){return 1}else if(i!==undefined){return i.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?o(this._events):[]};function arrayClone(e,t){var i=new Array(t);for(var o=0;o<t;++o)i[o]=e[o];return i}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){var t=new Array(e.length);for(var i=0;i<t.length;++i){t[i]=e[i].listener||e[i]}return t}function once(e,t){return new Promise(function(i,o){function errorListener(i){e.removeListener(t,resolver);o(i)}function resolver(){if(typeof e.removeListener==="function"){e.removeListener("error",errorListener)}i([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:true});if(t!=="error"){addErrorHandlerIfEventEmitter(e,errorListener,{once:true})}})}function addErrorHandlerIfEventEmitter(e,t,i){if(typeof e.on==="function"){eventTargetAgnosticAddListener(e,"error",t,i)}}function eventTargetAgnosticAddListener(e,t,i,o){if(typeof e.on==="function"){if(o.once){e.once(t,i)}else{e.on(t,i)}}else if(typeof e.addEventListener==="function"){e.addEventListener(t,function wrapListener(a){if(o.once){e.removeEventListener(t,wrapListener)}i(a)})}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}}},"../../node_modules/.pnpm/evp_bytestokey@1.0.3/node_modules/evp_bytestokey/index.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js");function EVP_BytesToKey(e,t,i,l){if(!o.isBuffer(e))e=o.from(e,"binary");if(t){if(!o.isBuffer(t))t=o.from(t,"binary");if(t.length!==8)throw new RangeError("salt should be Buffer with 8 byte length")}var u=i/8;var d=o.alloc(u);var p=o.alloc(l||0);var m=o.alloc(0);while(u>0||l>0){var g=new a;g.update(m);g.update(e);if(t)g.update(t);m=g.digest();var v=0;if(u>0){var y=d.length-u;v=Math.min(u,m.length);m.copy(d,y,0,v);u-=v}if(v<m.length&&l>0){var _=p.length-l;var w=Math.min(l,m.length-v);m.copy(p,_,v,v+w);l-=w}}m.fill(0);return{key:d,iv:p}}e.exports=EVP_BytesToKey},"../../node_modules/.pnpm/hash-base@3.0.5/node_modules/hash-base/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/stream@0.0.3/node_modules/stream/index.js").Transform;var l=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");function HashBase(e){a.call(this);this._block=o.allocUnsafe(e);this._blockSize=e;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}l(HashBase,a);HashBase.prototype._transform=function(e,t,i){var o=null;try{this.update(e,t)}catch(e){o=e}i(o)};HashBase.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)};var u=typeof Uint8Array!=="undefined";var d=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined"&&ArrayBuffer.isView&&(o.prototype instanceof Uint8Array||o.TYPED_ARRAY_SUPPORT);function toBuffer(e,t){if(e instanceof o)return e;if(typeof e==="string")return o.from(e,t);if(d&&ArrayBuffer.isView(e)){if(e.byteLength===0)return o.alloc(0);var i=o.from(e.buffer,e.byteOffset,e.byteLength);if(i.byteLength===e.byteLength)return i}if(u&&e instanceof Uint8Array)return o.from(e);if(o.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)){return o.from(e)}throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}HashBase.prototype.update=function(e,t){if(this._finalized)throw new Error("Digest already called");e=toBuffer(e,t);var i=this._block;var o=0;while(this._blockOffset+e.length-o>=this._blockSize){for(var a=this._blockOffset;a<this._blockSize;)i[a++]=e[o++];this._update();this._blockOffset=0}while(o<e.length)i[this._blockOffset++]=e[o++];for(var l=0,u=e.length*8;u>0;++l){this._length[l]+=u;u=this._length[l]/4294967296|0;if(u>0)this._length[l]-=4294967296*u}return this};HashBase.prototype._update=function(){throw new Error("_update is not implemented")};HashBase.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var t=this._digest();if(e!==undefined)t=t.toString(e);this._block.fill(0);this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t};HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")};e.exports=HashBase},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js":(e,t,i)=>{var o=t;o.utils=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");o.common=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/common.js");o.sha=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha.js");o.ripemd=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/ripemd.js");o.hmac=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/hmac.js");o.sha1=o.sha.sha1;o.sha256=o.sha.sha256;o.sha224=o.sha.sha224;o.sha384=o.sha.sha384;o.sha512=o.sha.sha512;o.ripemd160=o.ripemd.ripemd160},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/common.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");function BlockHash(){this.pending=null;this.pendingTotal=0;this.blockSize=this.constructor.blockSize;this.outSize=this.constructor.outSize;this.hmacStrength=this.constructor.hmacStrength;this.padLength=this.constructor.padLength/8;this.endian="big";this._delta8=this.blockSize/8;this._delta32=this.blockSize/32}t.BlockHash=BlockHash;BlockHash.prototype.update=function update(e,t){e=o.toArray(e,t);if(!this.pending)this.pending=e;else this.pending=this.pending.concat(e);this.pendingTotal+=e.length;if(this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length);if(this.pending.length===0)this.pending=null;e=o.join32(e,0,e.length-i,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this};BlockHash.prototype.digest=function digest(e){this.update(this._pad());a(this.pending===null);return this._digest(e)};BlockHash.prototype._pad=function pad(){var e=this.pendingTotal;var t=this._delta8;var i=t-(e+this.padLength)%t;var o=new Array(i+this.padLength);o[0]=128;for(var a=1;a<i;a++)o[a]=0;e<<=3;if(this.endian==="big"){for(var l=8;l<this.padLength;l++)o[a++]=0;o[a++]=0;o[a++]=0;o[a++]=0;o[a++]=0;o[a++]=e>>>24&255;o[a++]=e>>>16&255;o[a++]=e>>>8&255;o[a++]=e&255}else{o[a++]=e&255;o[a++]=e>>>8&255;o[a++]=e>>>16&255;o[a++]=e>>>24&255;o[a++]=0;o[a++]=0;o[a++]=0;o[a++]=0;for(l=8;l<this.padLength;l++)o[a++]=0}return o}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/hmac.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");function Hmac(e,t,i){if(!(this instanceof Hmac))return new Hmac(e,t,i);this.Hash=e;this.blockSize=e.blockSize/8;this.outSize=e.outSize/8;this.inner=null;this.outer=null;this._init(o.toArray(t,i))}e.exports=Hmac;Hmac.prototype._init=function init(e){if(e.length>this.blockSize)e=(new this.Hash).update(e).digest();a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;this.inner=(new this.Hash).update(e);for(t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)};Hmac.prototype.update=function update(e,t){this.inner.update(e,t);return this};Hmac.prototype.digest=function digest(e){this.outer.update(this.inner.digest());return this.outer.digest(e)}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/ripemd.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/common.js");var l=o.rotl32;var u=o.sum32;var d=o.sum32_3;var p=o.sum32_4;var m=a.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;m.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.endian="little"}o.inherits(RIPEMD160,m);t.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function update(e,t){var i=this.h[0];var o=this.h[1];var a=this.h[2];var m=this.h[3];var w=this.h[4];var A=i;var k=o;var T=a;var x=m;var I=w;for(var N=0;N<80;N++){var P=u(l(p(i,f(N,o,a,m),e[g[N]+t],K(N)),y[N]),w);i=w;w=m;m=l(a,10);a=o;o=P;P=u(l(p(A,f(79-N,k,T,x),e[v[N]+t],Kh(N)),_[N]),I);A=I;I=x;x=l(T,10);T=k;k=P}P=d(this.h[1],a,x);this.h[1]=d(this.h[2],m,I);this.h[2]=d(this.h[3],w,A);this.h[3]=d(this.h[4],i,k);this.h[4]=d(this.h[0],o,T);this.h[0]=P};RIPEMD160.prototype._digest=function digest(e){if(e==="hex")return o.toHex32(this.h,"little");else return o.split32(this.h,"little")};function f(e,t,i,o){if(e<=15)return t^i^o;else if(e<=31)return t&i|~t&o;else if(e<=47)return(t|~i)^o;else if(e<=63)return t&o|i&~o;else return t^(i|~o)}function K(e){if(e<=15)return 0;else if(e<=31)return 1518500249;else if(e<=47)return 1859775393;else if(e<=63)return 2400959708;else return 2840853838}function Kh(e){if(e<=15)return 1352829926;else if(e<=31)return 1548603684;else if(e<=47)return 1836072691;else if(e<=63)return 2053994217;else return 0}var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var _=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha.js":(e,t,i)=>{"use strict";t.sha1=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/1.js");t.sha224=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/224.js");t.sha256=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/256.js");t.sha384=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/384.js");t.sha512=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/512.js")},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/1.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/common.js");var l=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/common.js");var u=o.rotl32;var d=o.sum32;var p=o.sum32_5;var m=l.ft_1;var g=a.BlockHash;var v=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;g.call(this);this.h=[1732584193,4023233417,2562383102,271733878,3285377520];this.W=new Array(80)}o.inherits(SHA1,g);e.exports=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function _update(e,t){var i=this.W;for(var o=0;o<16;o++)i[o]=e[t+o];for(;o<i.length;o++)i[o]=u(i[o-3]^i[o-8]^i[o-14]^i[o-16],1);var a=this.h[0];var l=this.h[1];var g=this.h[2];var y=this.h[3];var _=this.h[4];for(o=0;o<i.length;o++){var w=~~(o/20);var A=p(u(a,5),m(w,l,g,y),_,i[o],v[w]);_=y;y=g;g=u(l,30);l=a;a=A}this.h[0]=d(this.h[0],a);this.h[1]=d(this.h[1],l);this.h[2]=d(this.h[2],g);this.h[3]=d(this.h[3],y);this.h[4]=d(this.h[4],_)};SHA1.prototype._digest=function digest(e){if(e==="hex")return o.toHex32(this.h,"big");else return o.split32(this.h,"big")}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/224.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/256.js");function SHA224(){if(!(this instanceof SHA224))return new SHA224;a.call(this);this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o.inherits(SHA224,a);e.exports=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function digest(e){if(e==="hex")return o.toHex32(this.h.slice(0,7),"big");else return o.split32(this.h.slice(0,7),"big")}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/256.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/common.js");var l=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/common.js");var u=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var d=o.sum32;var p=o.sum32_4;var m=o.sum32_5;var g=l.ch32;var v=l.maj32;var y=l.s0_256;var _=l.s1_256;var w=l.g0_256;var A=l.g1_256;var k=a.BlockHash;var T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;k.call(this);this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.k=T;this.W=new Array(64)}o.inherits(SHA256,k);e.exports=SHA256;SHA256.blockSize=512;SHA256.outSize=256;SHA256.hmacStrength=192;SHA256.padLength=64;SHA256.prototype._update=function _update(e,t){var i=this.W;for(var o=0;o<16;o++)i[o]=e[t+o];for(;o<i.length;o++)i[o]=p(A(i[o-2]),i[o-7],w(i[o-15]),i[o-16]);var a=this.h[0];var l=this.h[1];var k=this.h[2];var T=this.h[3];var x=this.h[4];var I=this.h[5];var N=this.h[6];var P=this.h[7];u(this.k.length===i.length);for(o=0;o<i.length;o++){var C=m(P,_(x),g(x,I,N),this.k[o],i[o]);var M=d(y(a),v(a,l,k));P=N;N=I;I=x;x=d(T,C);T=k;k=l;l=a;a=d(C,M)}this.h[0]=d(this.h[0],a);this.h[1]=d(this.h[1],l);this.h[2]=d(this.h[2],k);this.h[3]=d(this.h[3],T);this.h[4]=d(this.h[4],x);this.h[5]=d(this.h[5],I);this.h[6]=d(this.h[6],N);this.h[7]=d(this.h[7],P)};SHA256.prototype._digest=function digest(e){if(e==="hex")return o.toHex32(this.h,"big");else return o.split32(this.h,"big")}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/384.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/512.js");function SHA384(){if(!(this instanceof SHA384))return new SHA384;a.call(this);this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o.inherits(SHA384,a);e.exports=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function digest(e){if(e==="hex")return o.toHex32(this.h.slice(0,12),"big");else return o.split32(this.h.slice(0,12),"big")}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/512.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/common.js");var l=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var u=o.rotr64_hi;var d=o.rotr64_lo;var p=o.shr64_hi;var m=o.shr64_lo;var g=o.sum64;var v=o.sum64_hi;var y=o.sum64_lo;var _=o.sum64_4_hi;var w=o.sum64_4_lo;var A=o.sum64_5_hi;var k=o.sum64_5_lo;var T=a.BlockHash;var x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;T.call(this);this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209];this.k=x;this.W=new Array(160)}o.inherits(SHA512,T);e.exports=SHA512;SHA512.blockSize=1024;SHA512.outSize=512;SHA512.hmacStrength=192;SHA512.padLength=128;SHA512.prototype._prepareBlock=function _prepareBlock(e,t){var i=this.W;for(var o=0;o<32;o++)i[o]=e[t+o];for(;o<i.length;o+=2){var a=g1_512_hi(i[o-4],i[o-3]);var l=g1_512_lo(i[o-4],i[o-3]);var u=i[o-14];var d=i[o-13];var p=g0_512_hi(i[o-30],i[o-29]);var m=g0_512_lo(i[o-30],i[o-29]);var g=i[o-32];var v=i[o-31];i[o]=_(a,l,u,d,p,m,g,v);i[o+1]=w(a,l,u,d,p,m,g,v)}};SHA512.prototype._update=function _update(e,t){this._prepareBlock(e,t);var i=this.W;var o=this.h[0];var a=this.h[1];var u=this.h[2];var d=this.h[3];var p=this.h[4];var m=this.h[5];var _=this.h[6];var w=this.h[7];var T=this.h[8];var x=this.h[9];var I=this.h[10];var N=this.h[11];var P=this.h[12];var C=this.h[13];var M=this.h[14];var B=this.h[15];l(this.k.length===i.length);for(var j=0;j<i.length;j+=2){var O=M;var D=B;var L=s1_512_hi(T,x);var F=s1_512_lo(T,x);var U=ch64_hi(T,x,I,N,P,C);var H=ch64_lo(T,x,I,N,P,C);var q=this.k[j];var G=this.k[j+1];var z=i[j];var W=i[j+1];var V=A(O,D,L,F,U,H,q,G,z,W);var Y=k(O,D,L,F,U,H,q,G,z,W);O=s0_512_hi(o,a);D=s0_512_lo(o,a);L=maj64_hi(o,a,u,d,p,m);F=maj64_lo(o,a,u,d,p,m);var $=v(O,D,L,F);var J=y(O,D,L,F);M=P;B=C;P=I;C=N;I=T;N=x;T=v(_,w,V,Y);x=y(w,w,V,Y);_=p;w=m;p=u;m=d;u=o;d=a;o=v(V,Y,$,J);a=y(V,Y,$,J)}g(this.h,0,o,a);g(this.h,2,u,d);g(this.h,4,p,m);g(this.h,6,_,w);g(this.h,8,T,x);g(this.h,10,I,N);g(this.h,12,P,C);g(this.h,14,M,B)};SHA512.prototype._digest=function digest(e){if(e==="hex")return o.toHex32(this.h,"big");else return o.split32(this.h,"big")};function ch64_hi(e,t,i,o,a){var l=e&i^~e&a;if(l<0)l+=4294967296;return l}function ch64_lo(e,t,i,o,a,l){var u=t&o^~t&l;if(u<0)u+=4294967296;return u}function maj64_hi(e,t,i,o,a){var l=e&i^e&a^i&a;if(l<0)l+=4294967296;return l}function maj64_lo(e,t,i,o,a,l){var u=t&o^t&l^o&l;if(u<0)u+=4294967296;return u}function s0_512_hi(e,t){var i=u(e,t,28);var o=u(t,e,2);var a=u(t,e,7);var l=i^o^a;if(l<0)l+=4294967296;return l}function s0_512_lo(e,t){var i=d(e,t,28);var o=d(t,e,2);var a=d(t,e,7);var l=i^o^a;if(l<0)l+=4294967296;return l}function s1_512_hi(e,t){var i=u(e,t,14);var o=u(e,t,18);var a=u(t,e,9);var l=i^o^a;if(l<0)l+=4294967296;return l}function s1_512_lo(e,t){var i=d(e,t,14);var o=d(e,t,18);var a=d(t,e,9);var l=i^o^a;if(l<0)l+=4294967296;return l}function g0_512_hi(e,t){var i=u(e,t,1);var o=u(e,t,8);var a=p(e,t,7);var l=i^o^a;if(l<0)l+=4294967296;return l}function g0_512_lo(e,t){var i=d(e,t,1);var o=d(e,t,8);var a=m(e,t,7);var l=i^o^a;if(l<0)l+=4294967296;return l}function g1_512_hi(e,t){var i=u(e,t,19);var o=u(t,e,29);var a=p(e,t,6);var l=i^o^a;if(l<0)l+=4294967296;return l}function g1_512_lo(e,t){var i=d(e,t,19);var o=d(t,e,29);var a=m(e,t,6);var l=i^o^a;if(l<0)l+=4294967296;return l}},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/sha/common.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js");var a=o.rotr32;function ft_1(e,t,i,o){if(e===0)return ch32(t,i,o);if(e===1||e===3)return p32(t,i,o);if(e===2)return maj32(t,i,o)}t.ft_1=ft_1;function ch32(e,t,i){return e&t^~e&i}t.ch32=ch32;function maj32(e,t,i){return e&t^e&i^t&i}t.maj32=maj32;function p32(e,t,i){return e^t^i}t.p32=p32;function s0_256(e){return a(e,2)^a(e,13)^a(e,22)}t.s0_256=s0_256;function s1_256(e){return a(e,6)^a(e,11)^a(e,25)}t.s1_256=s1_256;function g0_256(e){return a(e,7)^a(e,18)^e>>>3}t.g0_256=g0_256;function g1_256(e){return a(e,17)^a(e,19)^e>>>10}t.g1_256=g1_256},"../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash/utils.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");t.inherits=a;function isSurrogatePair(e,t){if((e.charCodeAt(t)&64512)!==55296){return false}if(t<0||t+1>=e.length){return false}return(e.charCodeAt(t+1)&64512)===56320}function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e==="string"){if(!t){var o=0;for(var a=0;a<e.length;a++){var l=e.charCodeAt(a);if(l<128){i[o++]=l}else if(l<2048){i[o++]=l>>6|192;i[o++]=l&63|128}else if(isSurrogatePair(e,a)){l=65536+((l&1023)<<10)+(e.charCodeAt(++a)&1023);i[o++]=l>>18|240;i[o++]=l>>12&63|128;i[o++]=l>>6&63|128;i[o++]=l&63|128}else{i[o++]=l>>12|224;i[o++]=l>>6&63|128;i[o++]=l&63|128}}}else if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(a=0;a<e.length;a+=2)i.push(parseInt(e[a]+e[a+1],16))}}else{for(a=0;a<e.length;a++)i[a]=e[a]|0}return i}t.toArray=toArray;function toHex(e){var t="";for(var i=0;i<e.length;i++)t+=zero2(e[i].toString(16));return t}t.toHex=toHex;function htonl(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}t.htonl=htonl;function toHex32(e,t){var i="";for(var o=0;o<e.length;o++){var a=e[o];if(t==="little")a=htonl(a);i+=zero8(a.toString(16))}return i}t.toHex32=toHex32;function zero2(e){if(e.length===1)return"0"+e;else return e}t.zero2=zero2;function zero8(e){if(e.length===7)return"0"+e;else if(e.length===6)return"00"+e;else if(e.length===5)return"000"+e;else if(e.length===4)return"0000"+e;else if(e.length===3)return"00000"+e;else if(e.length===2)return"000000"+e;else if(e.length===1)return"0000000"+e;else return e}t.zero8=zero8;function join32(e,t,i,a){var l=i-t;o(l%4===0);var u=new Array(l/4);for(var d=0,p=t;d<u.length;d++,p+=4){var m;if(a==="big")m=e[p]<<24|e[p+1]<<16|e[p+2]<<8|e[p+3];else m=e[p+3]<<24|e[p+2]<<16|e[p+1]<<8|e[p];u[d]=m>>>0}return u}t.join32=join32;function split32(e,t){var i=new Array(e.length*4);for(var o=0,a=0;o<e.length;o++,a+=4){var l=e[o];if(t==="big"){i[a]=l>>>24;i[a+1]=l>>>16&255;i[a+2]=l>>>8&255;i[a+3]=l&255}else{i[a+3]=l>>>24;i[a+2]=l>>>16&255;i[a+1]=l>>>8&255;i[a]=l&255}}return i}t.split32=split32;function rotr32(e,t){return e>>>t|e<<32-t}t.rotr32=rotr32;function rotl32(e,t){return e<<t|e>>>32-t}t.rotl32=rotl32;function sum32(e,t){return e+t>>>0}t.sum32=sum32;function sum32_3(e,t,i){return e+t+i>>>0}t.sum32_3=sum32_3;function sum32_4(e,t,i,o){return e+t+i+o>>>0}t.sum32_4=sum32_4;function sum32_5(e,t,i,o,a){return e+t+i+o+a>>>0}t.sum32_5=sum32_5;function sum64(e,t,i,o){var a=e[t];var l=e[t+1];var u=o+l>>>0;var d=(u<o?1:0)+i+a;e[t]=d>>>0;e[t+1]=u}t.sum64=sum64;function sum64_hi(e,t,i,o){var a=t+o>>>0;var l=(a<t?1:0)+e+i;return l>>>0}t.sum64_hi=sum64_hi;function sum64_lo(e,t,i,o){var a=t+o;return a>>>0}t.sum64_lo=sum64_lo;function sum64_4_hi(e,t,i,o,a,l,u,d){var p=0;var m=t;m=m+o>>>0;p+=m<t?1:0;m=m+l>>>0;p+=m<l?1:0;m=m+d>>>0;p+=m<d?1:0;var g=e+i+a+u+p;return g>>>0}t.sum64_4_hi=sum64_4_hi;function sum64_4_lo(e,t,i,o,a,l,u,d){var p=t+o+l+d;return p>>>0}t.sum64_4_lo=sum64_4_lo;function sum64_5_hi(e,t,i,o,a,l,u,d,p,m){var g=0;var v=t;v=v+o>>>0;g+=v<t?1:0;v=v+l>>>0;g+=v<l?1:0;v=v+d>>>0;g+=v<d?1:0;v=v+m>>>0;g+=v<m?1:0;var y=e+i+a+u+p+g;return y>>>0}t.sum64_5_hi=sum64_5_hi;function sum64_5_lo(e,t,i,o,a,l,u,d,p,m){var g=t+o+l+d+m;return g>>>0}t.sum64_5_lo=sum64_5_lo;function rotr64_hi(e,t,i){var o=t<<32-i|e>>>i;return o>>>0}t.rotr64_hi=rotr64_hi;function rotr64_lo(e,t,i){var o=e<<32-i|t>>>i;return o>>>0}t.rotr64_lo=rotr64_lo;function shr64_hi(e,t,i){return e>>>i}t.shr64_hi=shr64_hi;function shr64_lo(e,t,i){var o=e<<32-i|t>>>i;return o>>>0}t.shr64_lo=shr64_lo},"../../node_modules/.pnpm/hmac-drbg@1.0.1/node_modules/hmac-drbg/lib/hmac-drbg.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/hash.js@1.1.7/node_modules/hash.js/lib/hash.js");var a=i("../../node_modules/.pnpm/minimalistic-crypto-utils@1.0.1/node_modules/minimalistic-crypto-utils/lib/utils.js");var l=i("../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js");function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash;this.predResist=!!e.predResist;this.outLen=this.hash.outSize;this.minEntropy=e.minEntropy||this.hash.hmacStrength;this._reseed=null;this.reseedInterval=null;this.K=null;this.V=null;var t=a.toArray(e.entropy,e.entropyEnc||"hex");var i=a.toArray(e.nonce,e.nonceEnc||"hex");var o=a.toArray(e.pers,e.persEnc||"hex");l(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._init(t,i,o)}e.exports=HmacDRBG;HmacDRBG.prototype._init=function init(e,t,i){var o=e.concat(t).concat(i);this.K=new Array(this.outLen/8);this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++){this.K[a]=0;this.V[a]=1}this._update(o);this._reseed=1;this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function hmac(){return new o.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function update(e){var t=this._hmac().update(this.V).update([0]);if(e)t=t.update(e);this.K=t.digest();this.V=this._hmac().update(this.V).digest();if(!e)return;this.K=this._hmac().update(this.V).update([1]).update(e).digest();this.V=this._hmac().update(this.V).digest()};HmacDRBG.prototype.reseed=function reseed(e,t,i,o){if(typeof t!=="string"){o=i;i=t;t=null}e=a.toArray(e,t);i=a.toArray(i,o);l(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits");this._update(e.concat(i||[]));this._reseed=1};HmacDRBG.prototype.generate=function generate(e,t,i,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof t!=="string"){o=i;i=t;t=null}if(i){i=a.toArray(i,o||"hex");this._update(i)}var l=[];while(l.length<e){this.V=this._hmac().update(this.V).digest();l=l.concat(this.V)}var u=l.slice(0,e);this._update(i);this._reseed++;return a.encode(u,t)}},"../../node_modules/.pnpm/idb@8.0.3/node_modules/idb/build/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{deleteDB:()=>deleteDB,openDB:()=>openDB,unwrap:()=>unwrap,wrap:()=>wrap});const instanceOfAny=(e,t)=>t.some(t=>e instanceof t);let o;let a;function getIdbProxyableTypes(){return o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l=new WeakMap;const u=new WeakMap;const d=new WeakMap;function promisifyRequest(e){const t=new Promise((t,i)=>{const unlisten=()=>{e.removeEventListener("success",success);e.removeEventListener("error",error)};const success=()=>{t(wrap(e.result));unlisten()};const error=()=>{i(e.error);unlisten()};e.addEventListener("success",success);e.addEventListener("error",error)});d.set(t,e);return t}function cacheDonePromiseForTransaction(e){if(l.has(e))return;const t=new Promise((t,i)=>{const unlisten=()=>{e.removeEventListener("complete",complete);e.removeEventListener("error",error);e.removeEventListener("abort",error)};const complete=()=>{t();unlisten()};const error=()=>{i(e.error||new DOMException("AbortError","AbortError"));unlisten()};e.addEventListener("complete",complete);e.addEventListener("error",error);e.addEventListener("abort",error)});l.set(e,t)}let p={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return l.get(e);if(t==="store"){return i.objectStoreNames[1]?undefined:i.objectStore(i.objectStoreNames[0])}}return wrap(e[t])},set(e,t,i){e[t]=i;return true},has(e,t){if(e instanceof IDBTransaction&&(t==="done"||t==="store")){return true}return t in e}};function replaceTraps(e){p=e(p)}function wrapFunction(e){if(getCursorAdvanceMethods().includes(e)){return function(...t){e.apply(unwrap(this),t);return wrap(this.request)}}return function(...t){return wrap(e.apply(unwrap(this),t))}}function transformCachableValue(e){if(typeof e==="function")return wrapFunction(e);if(e instanceof IDBTransaction)cacheDonePromiseForTransaction(e);if(instanceOfAny(e,getIdbProxyableTypes()))return new Proxy(e,p);return e}function wrap(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(u.has(e))return u.get(e);const t=transformCachableValue(e);if(t!==e){u.set(e,t);d.set(t,e)}return t}const unwrap=e=>d.get(e);function openDB(e,t,{blocked:i,upgrade:o,blocking:a,terminated:l}={}){const u=indexedDB.open(e,t);const d=wrap(u);if(o){u.addEventListener("upgradeneeded",e=>{o(wrap(u.result),e.oldVersion,e.newVersion,wrap(u.transaction),e)})}if(i){u.addEventListener("blocked",e=>i(e.oldVersion,e.newVersion,e))}d.then(e=>{if(l)e.addEventListener("close",()=>l());if(a){e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}}).catch(()=>{});return d}function deleteDB(e,{blocked:t}={}){const i=indexedDB.deleteDatabase(e);if(t){i.addEventListener("blocked",e=>t(e.oldVersion,e))}return wrap(i).then(()=>undefined)}const m=["get","getKey","getAll","getAllKeys","count"];const g=["put","add","delete","clear"];const v=new Map;function getMethod(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==="string")){return}if(v.get(t))return v.get(t);const i=t.replace(/FromIndex$/,"");const o=t!==i;const a=g.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(a||m.includes(i))){return}const method=async function(e,...t){const l=this.transaction(e,a?"readwrite":"readonly");let u=l.store;if(o)u=u.index(t.shift());return(await Promise.all([u[i](...t),a&&l.done]))[0]};v.set(t,method);return method}replaceTraps(e=>({...e,get:(t,i,o)=>getMethod(t,i)||e.get(t,i,o),has:(t,i)=>!!getMethod(t,i)||e.has(t,i)}));const y=["continue","continuePrimaryKey","advance"];const _={};const w=new WeakMap;const A=new WeakMap;const k={get(e,t){if(!y.includes(t))return e[t];let i=_[t];if(!i){i=_[t]=function(...e){w.set(this,A.get(this)[t](...e))}}return i}};async function*iterate(...e){let t=this;if(!(t instanceof IDBCursor)){t=await t.openCursor(...e)}if(!t)return;t=t;const i=new Proxy(t,k);A.set(i,t);d.set(i,unwrap(t));while(t){yield i;t=await(w.get(i)||t.continue());w.delete(i)}}function isIteratorProp(e,t){return t===Symbol.asyncIterator&&instanceOfAny(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&instanceOfAny(e,[IDBIndex,IDBObjectStore])}replaceTraps(e=>({...e,get(t,i,o){if(isIteratorProp(t,i))return iterate;return e.get(t,i,o)},has(t,i){return isIteratorProp(t,i)||e.has(t,i)}}))},"../../node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js":(e,t)=>{t.read=function(e,t,i,o,a){var l,u;var d=a*8-o-1;var p=(1<<d)-1;var m=p>>1;var g=-7;var v=i?a-1:0;var y=i?-1:1;var _=e[t+v];v+=y;l=_&(1<<-g)-1;_>>=-g;g+=d;for(;g>0;l=l*256+e[t+v],v+=y,g-=8){}u=l&(1<<-g)-1;l>>=-g;g+=o;for(;g>0;u=u*256+e[t+v],v+=y,g-=8){}if(l===0){l=1-m}else if(l===p){return u?NaN:(_?-1:1)*Infinity}else{u=u+Math.pow(2,o);l=l-m}return(_?-1:1)*u*Math.pow(2,l-o)};t.write=function(e,t,i,o,a,l){var u,d,p;var m=l*8-a-1;var g=(1<<m)-1;var v=g>>1;var y=a===23?Math.pow(2,-24)-Math.pow(2,-77):0;var _=o?0:l-1;var w=o?1:-1;var A=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){d=isNaN(t)?1:0;u=g}else{u=Math.floor(Math.log(t)/Math.LN2);if(t*(p=Math.pow(2,-u))<1){u--;p*=2}if(u+v>=1){t+=y/p}else{t+=y*Math.pow(2,1-v)}if(t*p>=2){u++;p/=2}if(u+v>=g){d=0;u=g}else if(u+v>=1){d=(t*p-1)*Math.pow(2,a);u=u+v}else{d=t*Math.pow(2,v-1)*Math.pow(2,a);u=0}}for(;a>=8;e[i+_]=d&255,_+=w,d/=256,a-=8){}u=u<<a|d;m+=a;for(;m>0;e[i+_]=u&255,_+=w,u/=256,m-=8){}e[i+_-w]|=A*128}},"../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js":e=>{if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}},"../../node_modules/.pnpm/isarray@1.0.0/node_modules/isarray/index.js":e=>{var t={}.toString;e.exports=Array.isArray||function(e){return t.call(e)=="[object Array]"}},"../../node_modules/.pnpm/js-sha3@0.8.0/node_modules/js-sha3/src/sha3.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var a;(function(){"use strict";var l="input is invalid type";var u="finalize already called";var d=typeof window==="object";var p=d?window:{};if(p.JS_SHA3_NO_WINDOW){d=false}var m=!d&&typeof self==="object";var g=!p.JS_SHA3_NO_NODE_JS&&typeof o==="object"&&o.versions&&o.versions.node;if(g){p=i.g}else if(m){p=self}var v=!p.JS_SHA3_NO_COMMON_JS&&"object"==="object"&&e.exports;var y=true&&i.amdO;var _=!p.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!=="undefined";var w="0123456789abcdef".split("");var A=[31,7936,2031616,520093696];var k=[4,1024,262144,67108864];var T=[1,256,65536,16777216];var x=[6,1536,393216,100663296];var I=[0,8,16,24];var N=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];var P=[224,256,384,512];var C=[128,256];var M=["hex","buffer","arrayBuffer","array","digest"];var B={128:168,256:136};if(p.JS_SHA3_NO_NODE_JS||!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(_&&(p.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)){ArrayBuffer.isView=function(e){return typeof e==="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer}}var createOutputMethod=function(e,t,i){return function(o){return new Keccak(e,t,e).update(o)[i]()}};var createShakeOutputMethod=function(e,t,i){return function(o,a){return new Keccak(e,t,a).update(o)[i]()}};var createCshakeOutputMethod=function(e,t,i){return function(t,o,a,l){return O["cshake"+e].update(t,o,a,l)[i]()}};var createKmacOutputMethod=function(e,t,i){return function(t,o,a,l){return O["kmac"+e].update(t,o,a,l)[i]()}};var createOutputMethods=function(e,t,i,o){for(var a=0;a<M.length;++a){var l=M[a];e[l]=t(i,o,l)}return e};var createMethod=function(e,t){var i=createOutputMethod(e,t,"hex");i.create=function(){return new Keccak(e,t,e)};i.update=function(e){return i.create().update(e)};return createOutputMethods(i,createOutputMethod,e,t)};var createShakeMethod=function(e,t){var i=createShakeOutputMethod(e,t,"hex");i.create=function(i){return new Keccak(e,t,i)};i.update=function(e,t){return i.create(t).update(e)};return createOutputMethods(i,createShakeOutputMethod,e,t)};var createCshakeMethod=function(e,t){var i=B[e];var o=createCshakeOutputMethod(e,t,"hex");o.create=function(o,a,l){if(!a&&!l){return O["shake"+e].create(o)}else{return new Keccak(e,t,o).bytepad([a,l],i)}};o.update=function(e,t,i,a){return o.create(t,i,a).update(e)};return createOutputMethods(o,createCshakeOutputMethod,e,t)};var createKmacMethod=function(e,t){var i=B[e];var o=createKmacOutputMethod(e,t,"hex");o.create=function(o,a,l){return new Kmac(e,t,a).bytepad(["KMAC",l],i).bytepad([o],i)};o.update=function(e,t,i,a){return o.create(e,i,a).update(t)};return createOutputMethods(o,createKmacOutputMethod,e,t)};var j=[{name:"keccak",padding:T,bits:P,createMethod},{name:"sha3",padding:x,bits:P,createMethod},{name:"shake",padding:A,bits:C,createMethod:createShakeMethod},{name:"cshake",padding:k,bits:C,createMethod:createCshakeMethod},{name:"kmac",padding:k,bits:C,createMethod:createKmacMethod}];var O={},D=[];for(var L=0;L<j.length;++L){var F=j[L];var U=F.bits;for(var H=0;H<U.length;++H){var q=F.name+"_"+U[H];D.push(q);O[q]=F.createMethod(U[H],F.padding);if(F.name!=="sha3"){var G=F.name+U[H];D.push(G);O[G]=O[q]}}}function Keccak(e,t,i){this.blocks=[];this.s=[];this.padding=t;this.outputBits=i;this.reset=true;this.finalized=false;this.block=0;this.start=0;this.blockCount=1600-(e<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=i>>5;this.extraBytes=(i&31)>>3;for(var o=0;o<50;++o){this.s[o]=0}}Keccak.prototype.update=function(e){if(this.finalized){throw new Error(u)}var t,i=typeof e;if(i!=="string"){if(i==="object"){if(e===null){throw new Error(l)}else if(_&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!_||!ArrayBuffer.isView(e)){throw new Error(l)}}}else{throw new Error(l)}t=true}var o=this.blocks,a=this.byteCount,d=e.length,p=this.blockCount,m=0,g=this.s,v,y;while(m<d){if(this.reset){this.reset=false;o[0]=this.block;for(v=1;v<p+1;++v){o[v]=0}}if(t){for(v=this.start;m<d&&v<a;++m){o[v>>2]|=e[m]<<I[v++&3]}}else{for(v=this.start;m<d&&v<a;++m){y=e.charCodeAt(m);if(y<128){o[v>>2]|=y<<I[v++&3]}else if(y<2048){o[v>>2]|=(192|y>>6)<<I[v++&3];o[v>>2]|=(128|y&63)<<I[v++&3]}else if(y<55296||y>=57344){o[v>>2]|=(224|y>>12)<<I[v++&3];o[v>>2]|=(128|y>>6&63)<<I[v++&3];o[v>>2]|=(128|y&63)<<I[v++&3]}else{y=65536+((y&1023)<<10|e.charCodeAt(++m)&1023);o[v>>2]|=(240|y>>18)<<I[v++&3];o[v>>2]|=(128|y>>12&63)<<I[v++&3];o[v>>2]|=(128|y>>6&63)<<I[v++&3];o[v>>2]|=(128|y&63)<<I[v++&3]}}}this.lastByteIndex=v;if(v>=a){this.start=v-a;this.block=o[p];for(v=0;v<p;++v){g[v]^=o[v]}f(g);this.reset=true}else{this.start=v}}return this};Keccak.prototype.encode=function(e,t){var i=e&255,o=1;var a=[i];e=e>>8;i=e&255;while(i>0){a.unshift(i);e=e>>8;i=e&255;++o}if(t){a.push(o)}else{a.unshift(o)}this.update(a);return a.length};Keccak.prototype.encodeString=function(e){var t,i=typeof e;if(i!=="string"){if(i==="object"){if(e===null){throw new Error(l)}else if(_&&e.constructor===ArrayBuffer){e=new Uint8Array(e)}else if(!Array.isArray(e)){if(!_||!ArrayBuffer.isView(e)){throw new Error(l)}}}else{throw new Error(l)}t=true}var o=0,a=e.length;if(t){o=a}else{for(var u=0;u<e.length;++u){var d=e.charCodeAt(u);if(d<128){o+=1}else if(d<2048){o+=2}else if(d<55296||d>=57344){o+=3}else{d=65536+((d&1023)<<10|e.charCodeAt(++u)&1023);o+=4}}}o+=this.encode(o*8);this.update(e);return o};Keccak.prototype.bytepad=function(e,t){var i=this.encode(t);for(var o=0;o<e.length;++o){i+=this.encodeString(e[o])}var a=t-i%t;var l=[];l.length=a;this.update(l);return this};Keccak.prototype.finalize=function(){if(this.finalized){return}this.finalized=true;var e=this.blocks,t=this.lastByteIndex,i=this.blockCount,o=this.s;e[t>>2]|=this.padding[t&3];if(this.lastByteIndex===this.byteCount){e[0]=e[i];for(t=1;t<i+1;++t){e[t]=0}}e[i-1]|=2147483648;for(t=0;t<i;++t){o[t]^=e[t]}f(o)};Keccak.prototype.toString=Keccak.prototype.hex=function(){this.finalize();var e=this.blockCount,t=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,l=0;var u="",d;while(l<i){for(a=0;a<e&&l<i;++a,++l){d=t[a];u+=w[d>>4&15]+w[d&15]+w[d>>12&15]+w[d>>8&15]+w[d>>20&15]+w[d>>16&15]+w[d>>28&15]+w[d>>24&15]}if(l%e===0){f(t);a=0}}if(o){d=t[a];u+=w[d>>4&15]+w[d&15];if(o>1){u+=w[d>>12&15]+w[d>>8&15]}if(o>2){u+=w[d>>20&15]+w[d>>16&15]}}return u};Keccak.prototype.arrayBuffer=function(){this.finalize();var e=this.blockCount,t=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,l=0;var u=this.outputBits>>3;var d;if(o){d=new ArrayBuffer(i+1<<2)}else{d=new ArrayBuffer(u)}var p=new Uint32Array(d);while(l<i){for(a=0;a<e&&l<i;++a,++l){p[l]=t[a]}if(l%e===0){f(t)}}if(o){p[a]=t[a];d=d.slice(0,u)}return d};Keccak.prototype.buffer=Keccak.prototype.arrayBuffer;Keccak.prototype.digest=Keccak.prototype.array=function(){this.finalize();var e=this.blockCount,t=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,l=0;var u=[],d,p;while(l<i){for(a=0;a<e&&l<i;++a,++l){d=l<<2;p=t[a];u[d]=p&255;u[d+1]=p>>8&255;u[d+2]=p>>16&255;u[d+3]=p>>24&255}if(l%e===0){f(t)}}if(o){d=l<<2;p=t[a];u[d]=p&255;if(o>1){u[d+1]=p>>8&255}if(o>2){u[d+2]=p>>16&255}}return u};function Kmac(e,t,i){Keccak.call(this,e,t,i)}Kmac.prototype=new Keccak;Kmac.prototype.finalize=function(){this.encode(this.outputBits,true);return Keccak.prototype.finalize.call(this)};var f=function(e){var t,i,o,a,l,u,d,p,m,g,v,y,_,w,A,k,T,x,I,P,C,M,B,j,O,D,L,F,U,H,q,G,z,W,V,Y,$,J,Q,Z,X,ee,te,re,ne,se,ie,oe,ae,le,ce,ue,de,he,pe,me,ve,ye,be,_e,we,Ee,Ae;for(o=0;o<48;o+=2){a=e[0]^e[10]^e[20]^e[30]^e[40];l=e[1]^e[11]^e[21]^e[31]^e[41];u=e[2]^e[12]^e[22]^e[32]^e[42];d=e[3]^e[13]^e[23]^e[33]^e[43];p=e[4]^e[14]^e[24]^e[34]^e[44];m=e[5]^e[15]^e[25]^e[35]^e[45];g=e[6]^e[16]^e[26]^e[36]^e[46];v=e[7]^e[17]^e[27]^e[37]^e[47];y=e[8]^e[18]^e[28]^e[38]^e[48];_=e[9]^e[19]^e[29]^e[39]^e[49];t=y^(u<<1|d>>>31);i=_^(d<<1|u>>>31);e[0]^=t;e[1]^=i;e[10]^=t;e[11]^=i;e[20]^=t;e[21]^=i;e[30]^=t;e[31]^=i;e[40]^=t;e[41]^=i;t=a^(p<<1|m>>>31);i=l^(m<<1|p>>>31);e[2]^=t;e[3]^=i;e[12]^=t;e[13]^=i;e[22]^=t;e[23]^=i;e[32]^=t;e[33]^=i;e[42]^=t;e[43]^=i;t=u^(g<<1|v>>>31);i=d^(v<<1|g>>>31);e[4]^=t;e[5]^=i;e[14]^=t;e[15]^=i;e[24]^=t;e[25]^=i;e[34]^=t;e[35]^=i;e[44]^=t;e[45]^=i;t=p^(y<<1|_>>>31);i=m^(_<<1|y>>>31);e[6]^=t;e[7]^=i;e[16]^=t;e[17]^=i;e[26]^=t;e[27]^=i;e[36]^=t;e[37]^=i;e[46]^=t;e[47]^=i;t=g^(a<<1|l>>>31);i=v^(l<<1|a>>>31);e[8]^=t;e[9]^=i;e[18]^=t;e[19]^=i;e[28]^=t;e[29]^=i;e[38]^=t;e[39]^=i;e[48]^=t;e[49]^=i;w=e[0];A=e[1];se=e[11]<<4|e[10]>>>28;ie=e[10]<<4|e[11]>>>28;F=e[20]<<3|e[21]>>>29;U=e[21]<<3|e[20]>>>29;_e=e[31]<<9|e[30]>>>23;we=e[30]<<9|e[31]>>>23;ee=e[40]<<18|e[41]>>>14;te=e[41]<<18|e[40]>>>14;W=e[2]<<1|e[3]>>>31;V=e[3]<<1|e[2]>>>31;k=e[13]<<12|e[12]>>>20;T=e[12]<<12|e[13]>>>20;oe=e[22]<<10|e[23]>>>22;ae=e[23]<<10|e[22]>>>22;H=e[33]<<13|e[32]>>>19;q=e[32]<<13|e[33]>>>19;Ee=e[42]<<2|e[43]>>>30;Ae=e[43]<<2|e[42]>>>30;he=e[5]<<30|e[4]>>>2;pe=e[4]<<30|e[5]>>>2;Y=e[14]<<6|e[15]>>>26;$=e[15]<<6|e[14]>>>26;x=e[25]<<11|e[24]>>>21;I=e[24]<<11|e[25]>>>21;le=e[34]<<15|e[35]>>>17;ce=e[35]<<15|e[34]>>>17;G=e[45]<<29|e[44]>>>3;z=e[44]<<29|e[45]>>>3;j=e[6]<<28|e[7]>>>4;O=e[7]<<28|e[6]>>>4;me=e[17]<<23|e[16]>>>9;ve=e[16]<<23|e[17]>>>9;J=e[26]<<25|e[27]>>>7;Q=e[27]<<25|e[26]>>>7;P=e[36]<<21|e[37]>>>11;C=e[37]<<21|e[36]>>>11;ue=e[47]<<24|e[46]>>>8;de=e[46]<<24|e[47]>>>8;re=e[8]<<27|e[9]>>>5;ne=e[9]<<27|e[8]>>>5;D=e[18]<<20|e[19]>>>12;L=e[19]<<20|e[18]>>>12;ye=e[29]<<7|e[28]>>>25;be=e[28]<<7|e[29]>>>25;Z=e[38]<<8|e[39]>>>24;X=e[39]<<8|e[38]>>>24;M=e[48]<<14|e[49]>>>18;B=e[49]<<14|e[48]>>>18;e[0]=w^~k&x;e[1]=A^~T&I;e[10]=j^~D&F;e[11]=O^~L&U;e[20]=W^~Y&J;e[21]=V^~$&Q;e[30]=re^~se&oe;e[31]=ne^~ie&ae;e[40]=he^~me&ye;e[41]=pe^~ve&be;e[2]=k^~x&P;e[3]=T^~I&C;e[12]=D^~F&H;e[13]=L^~U&q;e[22]=Y^~J&Z;e[23]=$^~Q&X;e[32]=se^~oe&le;e[33]=ie^~ae&ce;e[42]=me^~ye&_e;e[43]=ve^~be&we;e[4]=x^~P&M;e[5]=I^~C&B;e[14]=F^~H&G;e[15]=U^~q&z;e[24]=J^~Z&ee;e[25]=Q^~X&te;e[34]=oe^~le&ue;e[35]=ae^~ce&de;e[44]=ye^~_e&Ee;e[45]=be^~we&Ae;e[6]=P^~M&w;e[7]=C^~B&A;e[16]=H^~G&j;e[17]=q^~z&O;e[26]=Z^~ee&W;e[27]=X^~te&V;e[36]=le^~ue&re;e[37]=ce^~de&ne;e[46]=_e^~Ee&he;e[47]=we^~Ae&pe;e[8]=M^~w&k;e[9]=B^~A&T;e[18]=G^~j&D;e[19]=z^~O&L;e[28]=ee^~W&Y;e[29]=te^~V&$;e[38]=ue^~re&se;e[39]=de^~ne&ie;e[48]=Ee^~he&me;e[49]=Ae^~pe&ve;e[0]^=N[o];e[1]^=N[o+1]}};if(v){e.exports=O}else{for(L=0;L<D.length;++L){p[D[L]]=O[D[L]]}if(y){!(a=function(){return O}.call(t,i,t,e),a!==undefined&&(e.exports=a))}}})()},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_DataView.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var l=(0,o["default"])(a["default"],"DataView");const u=l},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Hash.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashClear.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashDelete.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashGet.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashHas.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashSet.js");function Hash(e){var t=-1,i=e==null?0:e.length;this.clear();while(++t<i){var o=e[t];this.set(o[0],o[1])}}Hash.prototype.clear=o["default"];Hash.prototype["delete"]=a["default"];Hash.prototype.get=l["default"];Hash.prototype.has=u["default"];Hash.prototype.set=d["default"];const p=Hash},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_ListCache.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheClear.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheDelete.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheGet.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheHas.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheSet.js");function ListCache(e){var t=-1,i=e==null?0:e.length;this.clear();while(++t<i){var o=e[t];this.set(o[0],o[1])}}ListCache.prototype.clear=o["default"];ListCache.prototype["delete"]=a["default"];ListCache.prototype.get=l["default"];ListCache.prototype.has=u["default"];ListCache.prototype.set=d["default"];const p=ListCache},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Map.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var l=(0,o["default"])(a["default"],"Map");const u=l},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_MapCache.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheClear.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheDelete.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheGet.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheHas.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheSet.js");function MapCache(e){var t=-1,i=e==null?0:e.length;this.clear();while(++t<i){var o=e[t];this.set(o[0],o[1])}}MapCache.prototype.clear=o["default"];MapCache.prototype["delete"]=a["default"];MapCache.prototype.get=l["default"];MapCache.prototype.has=u["default"];MapCache.prototype.set=d["default"];const p=MapCache},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Promise.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var l=(0,o["default"])(a["default"],"Promise");const u=l},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Set.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var l=(0,o["default"])(a["default"],"Set");const u=l},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_SetCache.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_MapCache.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setCacheAdd.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setCacheHas.js");function SetCache(e){var t=-1,i=e==null?0:e.length;this.__data__=new o["default"];while(++t<i){this.add(e[t])}}SetCache.prototype.add=SetCache.prototype.push=a["default"];SetCache.prototype.has=l["default"];const u=SetCache},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Stack.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_ListCache.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackClear.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackDelete.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackGet.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackHas.js");var p=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackSet.js");function Stack(e){var t=this.__data__=new o["default"](e);this.size=t.size}Stack.prototype.clear=a["default"];Stack.prototype["delete"]=l["default"];Stack.prototype.get=u["default"];Stack.prototype.has=d["default"];Stack.prototype.set=p["default"];const m=Stack},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var a=o["default"].Symbol;const l=a},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Uint8Array.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var a=o["default"].Uint8Array;const l=a},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_WeakMap.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var l=(0,o["default"])(a["default"],"WeakMap");const u=l},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayFilter.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function arrayFilter(e,t){var i=-1,o=e==null?0:e.length,a=0,l=[];while(++i<o){var u=e[i];if(t(u,i,e)){l[a++]=u}}return l}const o=arrayFilter},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayLikeKeys.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>v});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTimes.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArguments.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIndex.js");var p=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js");var m=Object.prototype;var g=m.hasOwnProperty;function arrayLikeKeys(e,t){var i=(0,l["default"])(e),m=!i&&(0,a["default"])(e),v=!i&&!m&&(0,u["default"])(e),y=!i&&!m&&!v&&(0,p["default"])(e),_=i||m||v||y,w=_?(0,o["default"])(e.length,String):[],A=w.length;for(var k in e){if((t||g.call(e,k))&&!(_&&(k=="length"||v&&(k=="offset"||k=="parent")||y&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||(0,d["default"])(k,A)))){w.push(k)}}return w}const v=arrayLikeKeys},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayPush.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function arrayPush(e,t){var i=-1,o=t.length,a=e.length;while(++i<o){e[a+i]=t[i]}return e}const o=arrayPush},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arraySome.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function arraySome(e,t){var i=-1,o=e==null?0:e.length;while(++i<o){if(t(e[i],i,e)){return true}}return false}const o=arraySome},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assocIndexOf.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/eq.js");function assocIndexOf(e,t){var i=e.length;while(i--){if((0,o["default"])(e[i][0],t)){return i}}return-1}const a=assocIndexOf},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetAllKeys.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayPush.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js");function baseGetAllKeys(e,t,i){var l=t(e);return(0,a["default"])(e)?l:(0,o["default"])(l,i(e))}const l=baseGetAllKeys},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js");var u="[object Null]",d="[object Undefined]";var p=o["default"]?o["default"].toStringTag:undefined;function baseGetTag(e){if(e==null){return e===undefined?d:u}return p&&p in Object(e)?(0,a["default"])(e):(0,l["default"])(e)}const m=baseGetTag},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsArguments.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js");var l="[object Arguments]";function baseIsArguments(e){return(0,a["default"])(e)&&(0,o["default"])(e)==l}const u=baseIsArguments},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsEqual.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsEqualDeep.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js");function baseIsEqual(e,t,i,l,u){if(e===t){return true}if(e==null||t==null||!(0,a["default"])(e)&&!(0,a["default"])(t)){return e!==e&&t!==t}return(0,o["default"])(e,t,i,l,baseIsEqual,u)}const l=baseIsEqual},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsEqualDeep.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>T});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Stack.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalArrays.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalByTag.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalObjects.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getTag.js");var p=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js");var m=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js");var g=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js");var v=1;var y="[object Arguments]",_="[object Array]",w="[object Object]";var A=Object.prototype;var k=A.hasOwnProperty;function baseIsEqualDeep(e,t,i,A,T,x){var I=(0,p["default"])(e),N=(0,p["default"])(t),P=I?_:(0,d["default"])(e),C=N?_:(0,d["default"])(t);P=P==y?w:P;C=C==y?w:C;var M=P==w,B=C==w,j=P==C;if(j&&(0,m["default"])(e)){if(!(0,m["default"])(t)){return false}I=true;M=false}if(j&&!M){x||(x=new o["default"]);return I||(0,g["default"])(e)?(0,a["default"])(e,t,i,A,T,x):(0,l["default"])(e,t,P,i,A,T,x)}if(!(i&v)){var O=M&&k.call(e,"__wrapped__"),D=B&&k.call(t,"__wrapped__");if(O||D){var L=O?e.value():e,F=D?t.value():t;x||(x=new o["default"]);return T(L,F,i,A,x)}}if(!j){return false}x||(x=new o["default"]);return(0,u["default"])(e,t,i,A,T,x)}const T=baseIsEqualDeep},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsNative.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>w});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isMasked.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_toSource.js");var d=/[\\^$.*+?()[\]{}|]/g;var p=/^\[object .+?Constructor\]$/;var m=Function.prototype,g=Object.prototype;var v=m.toString;var y=g.hasOwnProperty;var _=RegExp("^"+v.call(y).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!(0,l["default"])(e)||(0,a["default"])(e)){return false}var t=(0,o["default"])(e)?_:p;return t.test((0,u["default"])(e))}const w=baseIsNative},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsTypedArray.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>H});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isLength.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js");var u="[object Arguments]",d="[object Array]",p="[object Boolean]",m="[object Date]",g="[object Error]",v="[object Function]",y="[object Map]",_="[object Number]",w="[object Object]",A="[object RegExp]",k="[object Set]",T="[object String]",x="[object WeakMap]";var I="[object ArrayBuffer]",N="[object DataView]",P="[object Float32Array]",C="[object Float64Array]",M="[object Int8Array]",B="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",D="[object Uint8ClampedArray]",L="[object Uint16Array]",F="[object Uint32Array]";var U={};U[P]=U[C]=U[M]=U[B]=U[j]=U[O]=U[D]=U[L]=U[F]=true;U[u]=U[d]=U[I]=U[p]=U[N]=U[m]=U[g]=U[v]=U[y]=U[_]=U[w]=U[A]=U[k]=U[T]=U[x]=false;function baseIsTypedArray(e){return(0,l["default"])(e)&&(0,a["default"])(e.length)&&!!U[(0,o["default"])(e)]}const H=baseIsTypedArray},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseKeys.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>d});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isPrototype.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeKeys.js");var l=Object.prototype;var u=l.hasOwnProperty;function baseKeys(e){if(!(0,o["default"])(e)){return(0,a["default"])(e)}var t=[];for(var i in Object(e)){if(u.call(e,i)&&i!="constructor"){t.push(i)}}return t}const d=baseKeys},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseTimes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function baseTimes(e,t){var i=-1,o=Array(e);while(++i<e){o[i]=t(i)}return o}const o=baseTimes},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseUnary.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function baseUnary(e){return function(t){return e(t)}}const o=baseUnary},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cacheHas.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function cacheHas(e,t){return e.has(t)}const o=cacheHas},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_coreJsData.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var a=o["default"]["__core-js_shared__"];const l=a},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalArrays.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_SetCache.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arraySome.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cacheHas.js");var u=1,d=2;function equalArrays(e,t,i,p,m,g){var v=i&u,y=e.length,_=t.length;if(y!=_&&!(v&&_>y)){return false}var w=g.get(e);var A=g.get(t);if(w&&A){return w==t&&A==e}var k=-1,T=true,x=i&d?new o["default"]:undefined;g.set(e,t);g.set(t,e);while(++k<y){var I=e[k],N=t[k];if(p){var P=v?p(N,I,k,t,e,g):p(I,N,k,e,t,g)}if(P!==undefined){if(P){continue}T=false;break}if(x){if(!(0,a["default"])(t,function(e,t){if(!(0,l["default"])(x,t)&&(I===e||m(I,e,i,p,g))){return x.push(t)}})){T=false;break}}else if(!(I===N||m(I,N,i,p,g))){T=false;break}}g["delete"](e);g["delete"](t);return T}const p=equalArrays},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalByTag.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>B});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Uint8Array.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/eq.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalArrays.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapToArray.js");var p=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setToArray.js");var m=1,g=2;var v="[object Boolean]",y="[object Date]",_="[object Error]",w="[object Map]",A="[object Number]",k="[object RegExp]",T="[object Set]",x="[object String]",I="[object Symbol]";var N="[object ArrayBuffer]",P="[object DataView]";var C=o["default"]?o["default"].prototype:undefined,M=C?C.valueOf:undefined;function equalByTag(e,t,i,o,C,B,j){switch(i){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case N:if(e.byteLength!=t.byteLength||!B(new a["default"](e),new a["default"](t))){return false}return true;case v:case y:case A:return(0,l["default"])(+e,+t);case _:return e.name==t.name&&e.message==t.message;case k:case x:return e==t+"";case w:var O=d["default"];case T:var D=o&m;O||(O=p["default"]);if(e.size!=t.size&&!D){return false}var L=j.get(e);if(L){return L==t}o|=g;j.set(e,t);var F=(0,u["default"])(O(e),O(t),o,C,B,j);j["delete"](e);return F;case I:if(M){return M.call(e)==M.call(t)}}return false}const B=equalByTag},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_equalObjects.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>d});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getAllKeys.js");var a=1;var l=Object.prototype;var u=l.hasOwnProperty;function equalObjects(e,t,i,l,d,p){var m=i&a,g=(0,o["default"])(e),v=g.length,y=(0,o["default"])(t),_=y.length;if(v!=_&&!m){return false}var w=v;while(w--){var A=g[w];if(!(m?A in t:u.call(t,A))){return false}}var k=p.get(e);var T=p.get(t);if(k&&T){return k==t&&T==e}var x=true;p.set(e,t);p.set(t,e);var I=m;while(++w<v){A=g[w];var N=e[A],P=t[A];if(l){var C=m?l(P,N,A,t,e,p):l(N,P,A,e,t,p)}if(!(C===undefined?N===P||d(N,P,i,l,p):C)){x=false;break}I||(I=A=="constructor")}if(x&&!I){var M=e.constructor,B=t.constructor;if(M!=B&&("constructor"in e&&"constructor"in t)&&!(typeof M=="function"&&M instanceof M&&typeof B=="function"&&B instanceof B)){x=false}}p["delete"](e);p["delete"](t);return x}const d=equalObjects},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=typeof global=="object"&&global&&global.Object===Object&&global;const a=o},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getAllKeys.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetAllKeys.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getSymbols.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js");function getAllKeys(e){return(0,o["default"])(e,l["default"],a["default"])}const u=getAllKeys},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMapData.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isKeyable.js");function getMapData(e,t){var i=e.__data__;return(0,o["default"])(t)?i[typeof t=="string"?"string":"hash"]:i.map}const a=getMapData},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsNative.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getValue.js");function getNative(e,t){var i=(0,a["default"])(e,t);return(0,o["default"])(i)?i:undefined}const l=getNative},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js");var a=Object.prototype;var l=a.hasOwnProperty;var u=a.toString;var d=o["default"]?o["default"].toStringTag:undefined;function getRawTag(e){var t=l.call(e,d),i=e[d];try{e[d]=undefined;var o=true}catch(e){}var a=u.call(e);if(o){if(t){e[d]=i}else{delete e[d]}}return a}const p=getRawTag},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getSymbols.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayFilter.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubArray.js");var l=Object.prototype;var u=l.propertyIsEnumerable;var d=Object.getOwnPropertySymbols;var p=!d?a["default"]:function(e){if(e==null){return[]}e=Object(e);return(0,o["default"])(d(e),function(t){return u.call(e,t)})};const m=p},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getTag.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>C});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_DataView.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Map.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Promise.js");var u=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Set.js");var d=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_WeakMap.js");var p=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js");var m=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_toSource.js");var g="[object Map]",v="[object Object]",y="[object Promise]",_="[object Set]",w="[object WeakMap]";var A="[object DataView]";var k=(0,m["default"])(o["default"]),T=(0,m["default"])(a["default"]),x=(0,m["default"])(l["default"]),I=(0,m["default"])(u["default"]),N=(0,m["default"])(d["default"]);var P=p["default"];if(o["default"]&&P(new o["default"](new ArrayBuffer(1)))!=A||a["default"]&&P(new a["default"])!=g||l["default"]&&P(l["default"].resolve())!=y||u["default"]&&P(new u["default"])!=_||d["default"]&&P(new d["default"])!=w){P=function(e){var t=(0,p["default"])(e),i=t==v?e.constructor:undefined,o=i?(0,m["default"])(i):"";if(o){switch(o){case k:return A;case T:return g;case x:return y;case I:return _;case N:return w}}return t}}const C=P},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getValue.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function getValue(e,t){return e==null?undefined:e[t]}const o=getValue},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashClear.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeCreate.js");function hashClear(){this.__data__=o["default"]?(0,o["default"])(null):{};this.size=0}const a=hashClear},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashDelete.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}const o=hashDelete},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashGet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>d});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeCreate.js");var a="__lodash_hash_undefined__";var l=Object.prototype;var u=l.hasOwnProperty;function hashGet(e){var t=this.__data__;if(o["default"]){var i=t[e];return i===a?undefined:i}return u.call(t,e)?t[e]:undefined}const d=hashGet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashHas.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeCreate.js");var a=Object.prototype;var l=a.hasOwnProperty;function hashHas(e){var t=this.__data__;return o["default"]?t[e]!==undefined:l.call(t,e)}const u=hashHas},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hashSet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeCreate.js");var a="__lodash_hash_undefined__";function hashSet(e,t){var i=this.__data__;this.size+=this.has(e)?0:1;i[e]=o["default"]&&t===undefined?a:t;return this}const l=hashSet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIndex.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=9007199254740991;var a=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var i=typeof e;t=t==null?o:t;return!!t&&(i=="number"||i!="symbol"&&a.test(e))&&(e>-1&&e%1==0&&e<t)}const l=isIndex},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isKeyable.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function isKeyable(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}const o=isKeyable},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isMasked.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_coreJsData.js");var a=function(){var e=/[^.]+$/.exec(o["default"]&&o["default"].keys&&o["default"].keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!a&&a in e}const l=isMasked},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isPrototype.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=Object.prototype;function isPrototype(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||o;return e===i}const a=isPrototype},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheClear.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function listCacheClear(){this.__data__=[];this.size=0}const o=listCacheClear},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheDelete.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assocIndexOf.js");var a=Array.prototype;var l=a.splice;function listCacheDelete(e){var t=this.__data__,i=(0,o["default"])(t,e);if(i<0){return false}var a=t.length-1;if(i==a){t.pop()}else{l.call(t,i,1)}--this.size;return true}const u=listCacheDelete},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheGet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assocIndexOf.js");function listCacheGet(e){var t=this.__data__,i=(0,o["default"])(t,e);return i<0?undefined:t[i][1]}const a=listCacheGet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheHas.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assocIndexOf.js");function listCacheHas(e){return(0,o["default"])(this.__data__,e)>-1}const a=listCacheHas},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_listCacheSet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_assocIndexOf.js");function listCacheSet(e,t){var i=this.__data__,a=(0,o["default"])(i,e);if(a<0){++this.size;i.push([e,t])}else{i[a][1]=t}return this}const a=listCacheSet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheClear.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Hash.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_ListCache.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Map.js");function mapCacheClear(){this.size=0;this.__data__={hash:new o["default"],map:new(l["default"]||a["default"]),string:new o["default"]}}const u=mapCacheClear},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheDelete.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMapData.js");function mapCacheDelete(e){var t=(0,o["default"])(this,e)["delete"](e);this.size-=t?1:0;return t}const a=mapCacheDelete},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheGet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMapData.js");function mapCacheGet(e){return(0,o["default"])(this,e).get(e)}const a=mapCacheGet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheHas.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMapData.js");function mapCacheHas(e){return(0,o["default"])(this,e).has(e)}const a=mapCacheHas},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapCacheSet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getMapData.js");function mapCacheSet(e,t){var i=(0,o["default"])(this,e),a=i.size;i.set(e,t);this.size+=i.size==a?0:1;return this}const a=mapCacheSet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_mapToArray.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function mapToArray(e){var t=-1,i=Array(e.size);e.forEach(function(e,o){i[++t]=[o,e]});return i}const o=mapToArray},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeCreate.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getNative.js");var a=(0,o["default"])(Object,"create");const l=a},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nativeKeys.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overArg.js");var a=(0,o["default"])(Object.keys,Object);const l=a},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nodeUtil.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js");var a=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var l=a&&typeof module=="object"&&module&&!module.nodeType&&module;var u=l&&l.exports===a;var d=u&&o["default"].process;var p=function(){try{var e=l&&l.require&&l.require("util").types;if(e){return e}return d&&d.binding&&d.binding("util")}catch(e){}}();const m=p},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=Object.prototype;var a=o.toString;function objectToString(e){return a.call(e)}const l=objectToString},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overArg.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function overArg(e,t){return function(i){return e(t(i))}}const o=overArg},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js");var a=typeof self=="object"&&self&&self.Object===Object&&self;var l=o["default"]||a||Function("return this")();const u=l},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setCacheAdd.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o="__lodash_hash_undefined__";function setCacheAdd(e){this.__data__.set(e,o);return this}const a=setCacheAdd},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setCacheHas.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function setCacheHas(e){return this.__data__.has(e)}const o=setCacheHas},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setToArray.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function setToArray(e){var t=-1,i=Array(e.size);e.forEach(function(e){i[++t]=e});return i}const o=setToArray},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackClear.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_ListCache.js");function stackClear(){this.__data__=new o["default"];this.size=0}const a=stackClear},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackDelete.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function stackDelete(e){var t=this.__data__,i=t["delete"](e);this.size=t.size;return i}const o=stackDelete},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackGet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function stackGet(e){return this.__data__.get(e)}const o=stackGet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackHas.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function stackHas(e){return this.__data__.has(e)}const o=stackHas},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_stackSet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>d});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_ListCache.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Map.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_MapCache.js");var u=200;function stackSet(e,t){var i=this.__data__;if(i instanceof o["default"]){var d=i.__data__;if(!a["default"]||d.length<u-1){d.push([e,t]);this.size=++i.size;return this}i=this.__data__=new l["default"](d)}i.set(e,t);this.size=i.size;return this}const d=stackSet},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_toSource.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=Function.prototype;var a=o.toString;function toSource(e){if(e!=null){try{return a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}const l=toSource},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/eq.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function eq(e,t){return e===t||e!==e&&t!==t}const o=eq},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArguments.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsArguments.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js");var l=Object.prototype;var u=l.hasOwnProperty;var d=l.propertyIsEnumerable;var p=(0,o["default"])(function(){return arguments}())?o["default"]:function(e){return(0,a["default"])(e)&&u.call(e,"callee")&&!d.call(e,"callee")};const m=p},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=Array.isArray;const a=o},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>l});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isLength.js");function isArrayLike(e){return e!=null&&(0,a["default"])(e.length)&&!(0,o["default"])(e)}const l=isArrayLike},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>v});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubFalse.js");var l=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var u=l&&typeof module=="object"&&module&&!module.nodeType&&module;var d=u&&u.exports===l;var p=d?o["default"].Buffer:undefined;var m=p?p.isBuffer:undefined;var g=m||a["default"];const v=g},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEqual.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsEqual.js");function isEqual(e,t){return(0,o["default"])(e,t)}const a=isEqual},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>m});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js");var l="[object AsyncFunction]",u="[object Function]",d="[object GeneratorFunction]",p="[object Proxy]";function isFunction(e){if(!(0,a["default"])(e)){return false}var t=(0,o["default"])(e);return t==u||t==d||t==l||t==p}const m=isFunction},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isLength.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=o}const a=isLength},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function isObject(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}const o=isObject},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function isObjectLike(e){return e!=null&&typeof e=="object"}const o=isObjectLike},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>p});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseIsTypedArray.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseUnary.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_nodeUtil.js");var u=l["default"]&&l["default"].isTypedArray;var d=u?(0,a["default"])(u):o["default"];const p=d},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keys.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayLikeKeys.js");var a=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseKeys.js");var l=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js");function keys(e){return(0,l["default"])(e)?(0,o["default"])(e):(0,a["default"])(e)}const u=keys},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubArray.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function stubArray(){return[]}const o=stubArray},"../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/stubFalse.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>o});function stubFalse(){return false}const o=stubFalse},"../../node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/hash-base@3.0.5/node_modules/hash-base/index.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var u=new Array(16);function MD5(){a.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878}o(MD5,a);MD5.prototype._update=function(){var e=u;for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var i=this._a;var o=this._b;var a=this._c;var l=this._d;i=fnF(i,o,a,l,e[0],3614090360,7);l=fnF(l,i,o,a,e[1],3905402710,12);a=fnF(a,l,i,o,e[2],606105819,17);o=fnF(o,a,l,i,e[3],3250441966,22);i=fnF(i,o,a,l,e[4],4118548399,7);l=fnF(l,i,o,a,e[5],1200080426,12);a=fnF(a,l,i,o,e[6],2821735955,17);o=fnF(o,a,l,i,e[7],4249261313,22);i=fnF(i,o,a,l,e[8],1770035416,7);l=fnF(l,i,o,a,e[9],2336552879,12);a=fnF(a,l,i,o,e[10],4294925233,17);o=fnF(o,a,l,i,e[11],2304563134,22);i=fnF(i,o,a,l,e[12],1804603682,7);l=fnF(l,i,o,a,e[13],4254626195,12);a=fnF(a,l,i,o,e[14],2792965006,17);o=fnF(o,a,l,i,e[15],1236535329,22);i=fnG(i,o,a,l,e[1],4129170786,5);l=fnG(l,i,o,a,e[6],3225465664,9);a=fnG(a,l,i,o,e[11],643717713,14);o=fnG(o,a,l,i,e[0],3921069994,20);i=fnG(i,o,a,l,e[5],3593408605,5);l=fnG(l,i,o,a,e[10],38016083,9);a=fnG(a,l,i,o,e[15],3634488961,14);o=fnG(o,a,l,i,e[4],3889429448,20);i=fnG(i,o,a,l,e[9],568446438,5);l=fnG(l,i,o,a,e[14],3275163606,9);a=fnG(a,l,i,o,e[3],4107603335,14);o=fnG(o,a,l,i,e[8],1163531501,20);i=fnG(i,o,a,l,e[13],2850285829,5);l=fnG(l,i,o,a,e[2],4243563512,9);a=fnG(a,l,i,o,e[7],1735328473,14);o=fnG(o,a,l,i,e[12],2368359562,20);i=fnH(i,o,a,l,e[5],4294588738,4);l=fnH(l,i,o,a,e[8],2272392833,11);a=fnH(a,l,i,o,e[11],1839030562,16);o=fnH(o,a,l,i,e[14],4259657740,23);i=fnH(i,o,a,l,e[1],2763975236,4);l=fnH(l,i,o,a,e[4],1272893353,11);a=fnH(a,l,i,o,e[7],4139469664,16);o=fnH(o,a,l,i,e[10],3200236656,23);i=fnH(i,o,a,l,e[13],681279174,4);l=fnH(l,i,o,a,e[0],3936430074,11);a=fnH(a,l,i,o,e[3],3572445317,16);o=fnH(o,a,l,i,e[6],76029189,23);i=fnH(i,o,a,l,e[9],3654602809,4);l=fnH(l,i,o,a,e[12],3873151461,11);a=fnH(a,l,i,o,e[15],530742520,16);o=fnH(o,a,l,i,e[2],3299628645,23);i=fnI(i,o,a,l,e[0],4096336452,6);l=fnI(l,i,o,a,e[7],1126891415,10);a=fnI(a,l,i,o,e[14],2878612391,15);o=fnI(o,a,l,i,e[5],4237533241,21);i=fnI(i,o,a,l,e[12],1700485571,6);l=fnI(l,i,o,a,e[3],2399980690,10);a=fnI(a,l,i,o,e[10],4293915773,15);o=fnI(o,a,l,i,e[1],2240044497,21);i=fnI(i,o,a,l,e[8],1873313359,6);l=fnI(l,i,o,a,e[15],4264355552,10);a=fnI(a,l,i,o,e[6],2734768916,15);o=fnI(o,a,l,i,e[13],1309151649,21);i=fnI(i,o,a,l,e[4],4149444226,6);l=fnI(l,i,o,a,e[11],3174756917,10);a=fnI(a,l,i,o,e[2],718787259,15);o=fnI(o,a,l,i,e[9],3951481745,21);this._a=this._a+i|0;this._b=this._b+o|0;this._c=this._c+a|0;this._d=this._d+l|0};MD5.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=l.allocUnsafe(16);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);return e};function rotl(e,t){return e<<t|e>>>32-t}function fnF(e,t,i,o,a,l,u){return rotl(e+(t&i|~t&o)+a+l|0,u)+t|0}function fnG(e,t,i,o,a,l,u){return rotl(e+(t&o|i&~o)+a+l|0,u)+t|0}function fnH(e,t,i,o,a,l,u){return rotl(e+(t^i^o)+a+l|0,u)+t|0}function fnI(e,t,i,o,a,l,u){return rotl(e+(i^(t|~o))+a+l|0,u)+t|0}e.exports=MD5},"../../node_modules/.pnpm/miller-rabin@4.0.1/node_modules/miller-rabin/lib/mr.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/brorand@1.1.0/node_modules/brorand/index.js");function MillerRabin(e){this.rand=e||new a.Rand}e.exports=MillerRabin;MillerRabin.create=function create(e){return new MillerRabin(e)};MillerRabin.prototype._randbelow=function _randbelow(e){var t=e.bitLength();var i=Math.ceil(t/8);do{var a=new o(this.rand.generate(i))}while(a.cmp(e)>=0);return a};MillerRabin.prototype._randrange=function _randrange(e,t){var i=t.sub(e);return e.add(this._randbelow(i))};MillerRabin.prototype.test=function test(e,t,i){var a=e.bitLength();var l=o.mont(e);var u=new o(1).toRed(l);if(!t)t=Math.max(1,a/48|0);var d=e.subn(1);for(var p=0;!d.testn(p);p++){}var m=e.shrn(p);var g=d.toRed(l);var v=true;for(;t>0;t--){var y=this._randrange(new o(2),d);if(i)i(y);var _=y.toRed(l).redPow(m);if(_.cmp(u)===0||_.cmp(g)===0)continue;for(var w=1;w<p;w++){_=_.redSqr();if(_.cmp(u)===0)return false;if(_.cmp(g)===0)break}if(w===p)return false}return v};MillerRabin.prototype.getDivisor=function getDivisor(e,t){var i=e.bitLength();var a=o.mont(e);var l=new o(1).toRed(a);if(!t)t=Math.max(1,i/48|0);var u=e.subn(1);for(var d=0;!u.testn(d);d++){}var p=e.shrn(d);var m=u.toRed(a);for(;t>0;t--){var g=this._randrange(new o(2),u);var v=e.gcd(g);if(v.cmpn(1)!==0)return v;var y=g.toRed(a).redPow(p);if(y.cmp(l)===0||y.cmp(m)===0)continue;for(var _=1;_<d;_++){y=y.redSqr();if(y.cmp(l)===0)return y.fromRed().subn(1).gcd(e);if(y.cmp(m)===0)break}if(_===d){y=y.redSqr();return y.fromRed().subn(1).gcd(e)}}return false}},"../../node_modules/.pnpm/minimalistic-assert@1.0.1/node_modules/minimalistic-assert/index.js":e=>{e.exports=assert;function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}assert.equal=function assertEqual(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},"../../node_modules/.pnpm/minimalistic-crypto-utils@1.0.1/node_modules/minimalistic-crypto-utils/lib/utils.js":(e,t)=>{"use strict";var i=t;function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if(typeof e!=="string"){for(var o=0;o<e.length;o++)i[o]=e[o]|0;return i}if(t==="hex"){e=e.replace(/[^a-z0-9]+/gi,"");if(e.length%2!==0)e="0"+e;for(var o=0;o<e.length;o+=2)i.push(parseInt(e[o]+e[o+1],16))}else{for(var o=0;o<e.length;o++){var a=e.charCodeAt(o);var l=a>>8;var u=a&255;if(l)i.push(l,u);else i.push(u)}}return i}i.toArray=toArray;function zero2(e){if(e.length===1)return"0"+e;else return e}i.zero2=zero2;function toHex(e){var t="";for(var i=0;i<e.length;i++)t+=zero2(e[i].toString(16));return t}i.toHex=toHex;i.encode=function encode(e,t){if(t==="hex")return toHex(e);else return e}},"../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/aesid.json":e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},"../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/asn1.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1.js");t.certificate=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/certificate.js");var a=o.define("RSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("modulus")["int"](),this.key("publicExponent")["int"](),this.key("privateExponent")["int"](),this.key("prime1")["int"](),this.key("prime2")["int"](),this.key("exponent1")["int"](),this.key("exponent2")["int"](),this.key("coefficient")["int"]())});t.RSAPrivateKey=a;var l=o.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus")["int"](),this.key("publicExponent")["int"]())});t.RSAPublicKey=l;var u=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]()).optional())});var d=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});t.PublicKey=d;var p=o.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())});t.PrivateKey=p;var m=o.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters")["int"]())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=m;var g=o.define("DSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"](),this.key("pub_key")["int"](),this.key("priv_key")["int"]())});t.DSAPrivateKey=g;t.DSAparam=o.define("DSAparam",function(){this["int"]()});var v=o.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});var y=o.define("ECPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(v),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=y;t.signature=o.define("signature",function(){this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())})},"../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/certificate.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/asn1.js@4.10.1/node_modules/asn1.js/lib/asn1.js");var a=o.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})});var l=o.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())});var u=o.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())});var d=o.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())});var p=o.define("RelativeDistinguishedName",function(){this.setof(l)});var m=o.define("RDNSequence",function(){this.seqof(p)});var g=o.define("Name",function(){this.choice({rdnSequence:this.use(m)})});var v=o.define("Validity",function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))});var y=o.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(false),this.key("extnValue").octstr())});var _=o.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0)["int"]().optional(),this.key("serialNumber")["int"](),this.key("signature").use(u),this.key("issuer").use(g),this.key("validity").use(v),this.key("subject").use(g),this.key("subjectPublicKeyInfo").use(d),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())});var w=o.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(_),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())});e.exports=w},"../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/fixProc.js":(e,t,i)=>{"use strict";var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m;var a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m;var l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m;var u=i("../../node_modules/.pnpm/evp_bytestokey@1.0.3/node_modules/evp_bytestokey/index.js");var d=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/browser.js");var p=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,t){var i=e.toString();var m=i.match(o);var g;if(!m){var v=i.match(l);g=p.from(v[2].replace(/[\r\n]/g,""),"base64")}else{var y="aes"+m[1];var _=p.from(m[2],"hex");var w=p.from(m[3].replace(/[\r\n]/g,""),"base64");var A=u(t,_.slice(0,8),parseInt(m[1],10)).key;var k=[];var T=d.createDecipheriv(y,A,_);k.push(T.update(w));k.push(T["final"]());g=p.concat(k)}var x=i.match(a)[1];return{tag:x,data:g}}},"../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/asn1.js");var a=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/aesid.json");var l=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/fixProc.js");var u=i("../../node_modules/.pnpm/browserify-aes@1.2.0/node_modules/browserify-aes/browser.js");var d=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/browser.js");var p=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function decrypt(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt;var o=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10);var l=a[e.algorithm.decrypt.cipher.algo.join(".")];var m=e.algorithm.decrypt.cipher.iv;var g=e.subjectPrivateKey;var v=parseInt(l.split("-")[1],10)/8;var y=d.pbkdf2Sync(t,i,o,v,"sha1");var _=u.createDecipheriv(l,y,m);var w=[];w.push(_.update(g));w.push(_["final"]());return p.concat(w)}function parseKeys(e){var t;if(typeof e==="object"&&!p.isBuffer(e)){t=e.passphrase;e=e.key}if(typeof e==="string"){e=p.from(e)}var i=l(e,t);var a=i.tag;var u=i.data;var d,m;switch(a){case"CERTIFICATE":m=o.certificate.decode(u,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":if(!m){m=o.PublicKey.decode(u,"der")}d=m.algorithm.algorithm.join(".");switch(d){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(m.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":m.subjectPrivateKey=m.subjectPublicKey;return{type:"ec",data:m};case"1.2.840.10040.4.1":m.algorithm.params.pub_key=o.DSAparam.decode(m.subjectPublicKey.data,"der");return{type:"dsa",data:m.algorithm.params};default:throw new Error("unknown key id "+d)}case"ENCRYPTED PRIVATE KEY":u=o.EncryptedPrivateKey.decode(u,"der");u=decrypt(u,t);case"PRIVATE KEY":m=o.PrivateKey.decode(u,"der");d=m.algorithm.algorithm.join(".");switch(d){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(m.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:m.algorithm.curve,privateKey:o.ECPrivateKey.decode(m.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":m.algorithm.params.priv_key=o.DSAparam.decode(m.subjectPrivateKey,"der");return{type:"dsa",params:m.algorithm.params};default:throw new Error("unknown key id "+d)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(u,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(u,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(u,"der")};case"EC PRIVATE KEY":u=o.ECPrivateKey.decode(u,"der");return{curve:u.parameters.value,privateKey:u.privateKey};default:throw new Error("unknown key type "+a)}}parseKeys.signature=o.signature;e.exports=parseKeys},"../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/browser.js":(e,t,i)=>{t.pbkdf2=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/async.js");t.pbkdf2Sync=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/sync-browser.js")},"../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/async.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/precondition.js");var l=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/default-encoding.js");var u=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/sync-browser.js");var d=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/to-buffer.js");var p;var m=i.g.crypto&&i.g.crypto.subtle;var g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"};var v=[];function checkNative(e){if(i.g.process&&!i.g.process.browser){return Promise.resolve(false)}if(!m||!m.importKey||!m.deriveBits){return Promise.resolve(false)}if(v[e]!==undefined){return v[e]}p=p||o.alloc(8);var t=browserPbkdf2(p,p,10,128,e).then(function(){return true}).catch(function(){return false});v[e]=t;return t}var y;function getNextTick(){if(y){return y}if(i.g.process&&i.g.process.nextTick){y=i.g.process.nextTick}else if(i.g.queueMicrotask){y=i.g.queueMicrotask}else if(i.g.setImmediate){y=i.g.setImmediate}else{y=i.g.setTimeout}return y}function browserPbkdf2(e,t,i,a,l){return m.importKey("raw",e,{name:"PBKDF2"},false,["deriveBits"]).then(function(e){return m.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:l}},e,a<<3)}).then(function(e){return o.from(e)})}function resolvePromise(e,t){e.then(function(e){getNextTick()(function(){t(null,e)})},function(e){getNextTick()(function(){t(e)})})}e.exports=function(e,t,o,p,m,v){if(typeof m==="function"){v=m;m=undefined}m=m||"sha1";var y=g[m.toLowerCase()];if(!y||typeof i.g.Promise!=="function"){getNextTick()(function(){var i;try{i=u(e,t,o,p,m)}catch(e){return v(e)}v(null,i)});return}a(o,p);e=d(e,l,"Password");t=d(t,l,"Salt");if(typeof v!=="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(y).then(function(i){if(i)return browserPbkdf2(e,t,o,p,y);return u(e,t,o,p,m)}),v)}},"../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/default-encoding.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var a;if(i.g.process&&i.g.process.browser){a="utf-8"}else if(i.g.process&&i.g.process.version){var l=parseInt(o.version.split(".")[0].slice(1),10);a=l>=6?"utf-8":"binary"}else{a="utf-8"}e.exports=a},"../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/precondition.js":e=>{var t=Math.pow(2,30)-1;e.exports=function(e,i){if(typeof e!=="number"){throw new TypeError("Iterations not a number")}if(e<0){throw new TypeError("Bad iterations")}if(typeof i!=="number"){throw new TypeError("Key length not a number")}if(i<0||i>t||i!==i){throw new TypeError("Bad key length")}}},"../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/sync-browser.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/md5.js");var a=i("../../node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js");var l=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js");var u=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var d=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/precondition.js");var p=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/default-encoding.js");var m=i("../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/to-buffer.js");var g=u.alloc(128);var v={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac(e,t,i){var o=getDigest(e);var a=e==="sha512"||e==="sha384"?128:64;if(t.length>a){t=o(t)}else if(t.length<a){t=u.concat([t,g],a)}var l=u.allocUnsafe(a+v[e]);var d=u.allocUnsafe(a+v[e]);for(var p=0;p<a;p++){l[p]=t[p]^54;d[p]=t[p]^92}var m=u.allocUnsafe(a+i+4);l.copy(m,0,0,a);this.ipad1=m;this.ipad2=l;this.opad=d;this.alg=e;this.blocksize=a;this.hash=o;this.size=v[e]}Hmac.prototype.run=function(e,t){e.copy(t,this.blocksize);var i=this.hash(t);i.copy(this.opad,this.blocksize);return this.hash(this.opad)};function getDigest(e){function shaFunc(t){return l(e).update(t).digest()}function rmd160Func(e){return(new a).update(e).digest()}if(e==="rmd160"||e==="ripemd160")return rmd160Func;if(e==="md5")return o;return shaFunc}function pbkdf2(e,t,i,o,a){d(i,o);e=m(e,p,"Password");t=m(t,p,"Salt");a=a||"sha1";var l=new Hmac(a,e,t.length);var g=u.allocUnsafe(o);var y=u.allocUnsafe(t.length+4);t.copy(y,0,0,t.length);var _=0;var w=v[a];var A=Math.ceil(o/w);for(var k=1;k<=A;k++){y.writeUInt32BE(k,t.length);var T=l.run(y,l.ipad1);var x=T;for(var I=1;I<i;I++){x=l.run(x,l.ipad2);for(var N=0;N<w;N++)T[N]^=x[N]}T.copy(g,_);_+=w}return g}e.exports=pbkdf2},"../../node_modules/.pnpm/pbkdf2@3.1.2/node_modules/pbkdf2/lib/to-buffer.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,t,i){if(o.isBuffer(e)){return e}else if(typeof e==="string"){return o.from(e,t)}else if(ArrayBuffer.isView(e)){return o.from(e.buffer)}else{throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}}},"../../node_modules/.pnpm/process-nextick-args@2.0.1/node_modules/process-nextick-args/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");if(typeof o==="undefined"||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0){e.exports={nextTick}}else{e.exports=o}function nextTick(e,t,i,a){if(typeof e!=="function"){throw new TypeError('"callback" argument must be a function')}var l=arguments.length;var u,d;switch(l){case 0:case 1:return o.nextTick(e);case 2:return o.nextTick(function afterTickOne(){e.call(null,t)});case 3:return o.nextTick(function afterTickTwo(){e.call(null,t,i)});case 4:return o.nextTick(function afterTickThree(){e.call(null,t,i,a)});default:u=new Array(l-1);d=0;while(d<u.length){u[d++]=arguments[d]}return o.nextTick(function afterTick(){e.apply(null,u)})}}},"../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js":e=>{var t=e.exports={};var i;var o;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=defaultSetTimout}}catch(e){i=defaultSetTimout}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=defaultClearTimeout}}catch(e){o=defaultClearTimeout}})();function runTimeout(e){if(i===setTimeout){return setTimeout(e,0)}if((i===defaultSetTimout||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function runClearTimeout(e){if(o===clearTimeout){return clearTimeout(e)}if((o===defaultClearTimeout||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var a=[];var l=false;var u;var d=-1;function cleanUpNextTick(){if(!l||!u){return}l=false;if(u.length){a=u.concat(a)}else{d=-1}if(a.length){drainQueue()}}function drainQueue(){if(l){return}var e=runTimeout(cleanUpNextTick);l=true;var t=a.length;while(t){u=a;a=[];while(++d<t){if(u){u[d].run()}}d=-1;t=a.length}u=null;l=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}}a.push(new Item(e,t));if(a.length===1&&!l){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=true;t.env={};t.argv=[];t.version="";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error("process.binding is not supported")};t.cwd=function(){return"/"};t.chdir=function(e){throw new Error("process.chdir is not supported")};t.umask=function(){return 0}},"../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/browser.js":(e,t,i)=>{t.publicEncrypt=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/publicEncrypt.js");t.privateDecrypt=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/privateDecrypt.js");t.privateEncrypt=function privateEncrypt(e,i){return t.publicEncrypt(e,i,true)};t.publicDecrypt=function publicDecrypt(e,i){return t.privateDecrypt(e,i,true)}},"../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/mgf.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,t){var i=a.alloc(0);var l=0;var u;while(i.length<t){u=i2ops(l++);i=a.concat([i,o("sha1").update(e).update(u).digest()])}return i.slice(0,t)};function i2ops(e){var t=a.allocUnsafe(4);t.writeUInt32BE(e,0);return t}},"../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/privateDecrypt.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/index.js");var a=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/mgf.js");var l=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/xor.js");var u=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");var d=i("../../node_modules/.pnpm/browserify-rsa@4.1.1/node_modules/browserify-rsa/index.js");var p=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js");var m=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/withPublic.js");var g=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;e.exports=function privateDecrypt(e,t,i){var a;if(e.padding){a=e.padding}else if(i){a=1}else{a=4}var l=o(e);var p=l.modulus.byteLength();if(t.length>p||new u(t).cmp(l.modulus)>=0){throw new Error("decryption error")}var v;if(i){v=m(new u(t),l)}else{v=d(t,l)}var y=g.alloc(p-v.length);v=g.concat([y,v],p);if(a===4){return oaep(l,v)}else if(a===1){return pkcs1(l,v,i)}else if(a===3){return v}else{throw new Error("unknown padding")}};function oaep(e,t){var i=e.modulus.byteLength();var o=p("sha1").update(g.alloc(0)).digest();var u=o.length;if(t[0]!==0){throw new Error("decryption error")}var d=t.slice(1,u+1);var m=t.slice(u+1);var v=l(d,a(m,u));var y=l(m,a(v,i-u-1));if(compare(o,y.slice(0,u))){throw new Error("decryption error")}var _=u;while(y[_]===0){_++}if(y[_++]!==1){throw new Error("decryption error")}return y.slice(_)}function pkcs1(e,t,i){var o=t.slice(0,2);var a=2;var l=0;while(t[a++]!==0){if(a>=t.length){l++;break}}var u=t.slice(2,a-1);if(o.toString("hex")!=="0002"&&!i||o.toString("hex")!=="0001"&&i){l++}if(u.length<8){l++}if(l){throw new Error("decryption error")}return t.slice(a)}function compare(e,t){e=g.from(e);t=g.from(t);var i=0;var o=e.length;if(e.length!==t.length){i++;o=Math.min(e.length,t.length)}var a=-1;while(++a<o){i+=e[a]^t[a]}return i}},"../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/publicEncrypt.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/parse-asn1@5.1.7/node_modules/parse-asn1/index.js");var a=i("../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js");var l=i("../../node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js");var u=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/mgf.js");var d=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/xor.js");var p=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");var m=i("../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/withPublic.js");var g=i("../../node_modules/.pnpm/browserify-rsa@4.1.1/node_modules/browserify-rsa/index.js");var v=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;e.exports=function publicEncrypt(e,t,i){var a;if(e.padding){a=e.padding}else if(i){a=1}else{a=4}var l=o(e);var u;if(a===4){u=oaep(l,t)}else if(a===1){u=pkcs1(l,t,i)}else if(a===3){u=new p(t);if(u.cmp(l.modulus)>=0){throw new Error("data too long for modulus")}}else{throw new Error("unknown padding")}if(i){return g(u,l)}else{return m(u,l)}};function oaep(e,t){var i=e.modulus.byteLength();var o=t.length;var m=l("sha1").update(v.alloc(0)).digest();var g=m.length;var y=2*g;if(o>i-y-2){throw new Error("message too long")}var _=v.alloc(i-o-y-2);var w=i-g-1;var A=a(g);var k=d(v.concat([m,_,v.alloc(1,1),t],w),u(A,w));var T=d(A,u(k,g));return new p(v.concat([v.alloc(1),T,k],i))}function pkcs1(e,t,i){var o=t.length;var a=e.modulus.byteLength();if(o>a-11){throw new Error("message too long")}var l;if(i){l=v.alloc(a-o-3,255)}else{l=nonZero(a-o-3)}return new p(v.concat([v.from([0,i?1:2]),l,v.alloc(1),t],a))}function nonZero(e){var t=v.allocUnsafe(e);var i=0;var o=a(e*2);var l=0;var u;while(i<e){if(l===o.length){o=a(e*2);l=0}u=o[l++];if(u){t[i++]=u}}return t}},"../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/withPublic.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/bn.js@4.12.1/node_modules/bn.js/lib/bn.js");var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function withPublic(e,t){return a.from(e.toRed(o.mont(t.modulus)).redPow(new o(t.publicExponent)).fromRed().toArray())}e.exports=withPublic},"../../node_modules/.pnpm/public-encrypt@4.0.3/node_modules/public-encrypt/xor.js":e=>{e.exports=function xor(e,t){var i=e.length;var o=-1;while(++o<i){e[o]^=t[o]}return e}},"../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var a=65536;var l=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var u=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var d=i.g.crypto||i.g.msCrypto;if(d&&d.getRandomValues){e.exports=randomBytes}else{e.exports=oldBrowser}function randomBytes(e,t){if(e>l)throw new RangeError("requested too many random bytes");var i=u.allocUnsafe(e);if(e>0){if(e>a){for(var p=0;p<e;p+=a){d.getRandomValues(i.slice(p,p+a))}}else{d.getRandomValues(i)}}if(typeof t==="function"){return o.nextTick(function(){t(null,i)})}return i}},"../../node_modules/.pnpm/randomfill@1.0.4/node_modules/randomfill/browser.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js");var l=i("../../node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js");var u=a.Buffer;var d=a.kMaxLength;var p=i.g.crypto||i.g.msCrypto;var m=Math.pow(2,32)-1;function assertOffset(e,t){if(typeof e!=="number"||e!==e){throw new TypeError("offset must be a number")}if(e>m||e<0){throw new TypeError("offset must be a uint32")}if(e>d||e>t){throw new RangeError("offset out of range")}}function assertSize(e,t,i){if(typeof e!=="number"||e!==e){throw new TypeError("size must be a number")}if(e>m||e<0){throw new TypeError("size must be a uint32")}if(e+t>i||e>d){throw new RangeError("buffer too small")}}if(p&&p.getRandomValues||!o.browser){t.randomFill=randomFill;t.randomFillSync=randomFillSync}else{t.randomFill=oldBrowser;t.randomFillSync=oldBrowser}function randomFill(e,t,o,a){if(!u.isBuffer(e)&&!(e instanceof i.g.Uint8Array)){throw new TypeError('"buf" argument must be a Buffer or Uint8Array')}if(typeof t==="function"){a=t;t=0;o=e.length}else if(typeof o==="function"){a=o;o=e.length-t}else if(typeof a!=="function"){throw new TypeError('"cb" argument must be a function')}assertOffset(t,e.length);assertSize(o,t,e.length);return actualFill(e,t,o,a)}function actualFill(e,t,i,a){if(o.browser){var u=e.buffer;var d=new Uint8Array(u,t,i);p.getRandomValues(d);if(a){o.nextTick(function(){a(null,e)});return}return e}if(a){l(i,function(i,o){if(i){return a(i)}o.copy(e,t);a(null,e)});return}var m=l(i);m.copy(e,t);return e}function randomFillSync(e,t,o){if(typeof t==="undefined"){t=0}if(!u.isBuffer(e)&&!(e instanceof i.g.Uint8Array)){throw new TypeError('"buf" argument must be a Buffer or Uint8Array')}assertOffset(t,e.length);if(o===undefined)o=e.length-t;assertSize(o,t,e.length);return actualFill(e,t,o)}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process-nextick-args@2.0.1/node_modules/process-nextick-args/index.js");var a=Object.keys||function(e){var t=[];for(var i in e){t.push(i)}return t};e.exports=Duplex;var l=Object.create(i("../../node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js"));l.inherits=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var u=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_readable.js");var d=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_writable.js");l.inherits(Duplex,u);{var p=a(d.prototype);for(var m=0;m<p.length;m++){var g=p[m];if(!Duplex.prototype[g])Duplex.prototype[g]=d.prototype[g]}}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);u.call(this,e);d.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function onend(){if(this.allowHalfOpen||this._writableState.ended)return;o.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});Duplex.prototype._destroy=function(e,t){this.push(null);this.end();o.nextTick(t,e)}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_passthrough.js":(e,t,i)=>{"use strict";e.exports=PassThrough;var o=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_transform.js");var a=Object.create(i("../../node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js"));a.inherits=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");a.inherits(PassThrough,o);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);o.call(this,e)}PassThrough.prototype._transform=function(e,t,i){i(null,e)}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_readable.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var a=i("../../node_modules/.pnpm/process-nextick-args@2.0.1/node_modules/process-nextick-args/index.js");e.exports=Readable;var l=i("../../node_modules/.pnpm/isarray@1.0.0/node_modules/isarray/index.js");var u;Readable.ReadableState=ReadableState;var d=i("../../node_modules/.pnpm/events@3.3.0/node_modules/events/events.js").EventEmitter;var EElistenerCount=function(e,t){return e.listeners(t).length};var p=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/stream-browser.js");var m=i("../../node_modules/.pnpm/safe-buffer@5.1.2/node_modules/safe-buffer/index.js").Buffer;var g=(typeof i.g!=="undefined"?i.g:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return m.from(e)}function _isUint8Array(e){return m.isBuffer(e)||e instanceof g}var v=Object.create(i("../../node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js"));v.inherits=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var y=i("?8422");var _=void 0;if(y&&y.debuglog){_=y.debuglog("stream")}else{_=function(){}}var w=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/BufferList.js");var A=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/destroy.js");var k;v.inherits(Readable,p);var T=["error","close","destroy","pause","resume"];function prependListener(e,t,i){if(typeof e.prependListener==="function")return e.prependListener(t,i);if(!e._events||!e._events[t])e.on(t,i);else if(l(e._events[t]))e._events[t].unshift(i);else e._events[t]=[i,e._events[t]]}function ReadableState(e,t){u=u||i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js");e=e||{};var o=t instanceof u;this.objectMode=!!e.objectMode;if(o)this.objectMode=this.objectMode||!!e.readableObjectMode;var a=e.highWaterMark;var l=e.readableHighWaterMark;var d=this.objectMode?16:16*1024;if(a||a===0)this.highWaterMark=a;else if(o&&(l||l===0))this.highWaterMark=l;else this.highWaterMark=d;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new w;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!k)k=i("../../node_modules/.pnpm/string_decoder@1.1.1/node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this.decoder=new k(e.encoding);this.encoding=e.encoding}}function Readable(e){u=u||i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js");if(!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}p.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});Readable.prototype.destroy=A.destroy;Readable.prototype._undestroy=A.undestroy;Readable.prototype._destroy=function(e,t){this.push(null);t(e)};Readable.prototype.push=function(e,t){var i=this._readableState;var o;if(!i.objectMode){if(typeof e==="string"){t=t||i.defaultEncoding;if(t!==i.encoding){e=m.from(e,t);t=""}o=true}}else{o=true}return readableAddChunk(this,e,t,false,o)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,true,false)};function readableAddChunk(e,t,i,o,a){var l=e._readableState;if(t===null){l.reading=false;onEofChunk(e,l)}else{var u;if(!a)u=chunkInvalid(l,t);if(u){e.emit("error",u)}else if(l.objectMode||t&&t.length>0){if(typeof t!=="string"&&!l.objectMode&&Object.getPrototypeOf(t)!==m.prototype){t=_uint8ArrayToBuffer(t)}if(o){if(l.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else addChunk(e,l,t,true)}else if(l.ended){e.emit("error",new Error("stream.push() after EOF"))}else{l.reading=false;if(l.decoder&&!i){t=l.decoder.write(t);if(l.objectMode||t.length!==0)addChunk(e,l,t,false);else maybeReadMore(e,l)}else{addChunk(e,l,t,false)}}}else if(!o){l.reading=false}}return needMoreData(l)}function addChunk(e,t,i,o){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",i);e.read(0)}else{t.length+=t.objectMode?1:i.length;if(o)t.buffer.unshift(i);else t.buffer.push(i);if(t.needReadable)emitReadable(e)}maybeReadMore(e,t)}function chunkInvalid(e,t){var i;if(!_isUint8Array(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){i=new TypeError("Invalid non-string/buffer chunk")}return i}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(e){if(!k)k=i("../../node_modules/.pnpm/string_decoder@1.1.1/node_modules/string_decoder/lib/string_decoder.js").StringDecoder;this._readableState.decoder=new k(e);this._readableState.encoding=e;return this};var x=8388608;function computeNewHighWaterMark(e){if(e>=x){e=x}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=computeNewHighWaterMark(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}Readable.prototype.read=function(e){_("read",e);e=parseInt(e,10);var t=this._readableState;var i=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){_("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)endReadable(this);else emitReadable(this);return null}e=howMuchToRead(e,t);if(e===0&&t.ended){if(t.length===0)endReadable(this);return null}var o=t.needReadable;_("need readable",o);if(t.length===0||t.length-e<t.highWaterMark){o=true;_("length less than watermark",o)}if(t.ended||t.reading){o=false;_("reading or ended",o)}else if(o){_("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=howMuchToRead(i,t)}var a;if(e>0)a=fromList(e,t);else a=null;if(a===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(i!==e&&t.ended)endReadable(this)}if(a!==null)this.emit("data",a);return a};function onEofChunk(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();if(i&&i.length){t.buffer.push(i);t.length+=t.objectMode?1:i.length}}t.ended=true;emitReadable(e)}function emitReadable(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){_("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)a.nextTick(emitReadable_,e);else emitReadable_(e)}}function emitReadable_(e){_("emit readable");e.emit("readable");flow(e)}function maybeReadMore(e,t){if(!t.readingMore){t.readingMore=true;a.nextTick(maybeReadMore_,e,t)}}function maybeReadMore_(e,t){var i=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){_("maybeReadMore read 0");e.read(0);if(i===t.length)break;else i=t.length}t.readingMore=false}Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};Readable.prototype.pipe=function(e,t){var i=this;var l=this._readableState;switch(l.pipesCount){case 0:l.pipes=e;break;case 1:l.pipes=[l.pipes,e];break;default:l.pipes.push(e);break}l.pipesCount+=1;_("pipe count=%d opts=%j",l.pipesCount,t);var u=(!t||t.end!==false)&&e!==o.stdout&&e!==o.stderr;var d=u?onend:unpipe;if(l.endEmitted)a.nextTick(d);else i.once("end",d);e.on("unpipe",onunpipe);function onunpipe(e,t){_("onunpipe");if(e===i){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;cleanup()}}}function onend(){_("onend");e.end()}var p=pipeOnDrain(i);e.on("drain",p);var m=false;function cleanup(){_("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",p);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);i.removeListener("end",onend);i.removeListener("end",unpipe);i.removeListener("data",ondata);m=true;if(l.awaitDrain&&(!e._writableState||e._writableState.needDrain))p()}var g=false;i.on("data",ondata);function ondata(t){_("ondata");g=false;var o=e.write(t);if(false===o&&!g){if((l.pipesCount===1&&l.pipes===e||l.pipesCount>1&&indexOf(l.pipes,e)!==-1)&&!m){_("false write response, pause",l.awaitDrain);l.awaitDrain++;g=true}i.pause()}}function onerror(t){_("onerror",t);unpipe();e.removeListener("error",onerror);if(EElistenerCount(e,"error")===0)e.emit("error",t)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){_("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){_("unpipe");i.unpipe(e)}e.emit("pipe",i);if(!l.flowing){_("pipe resume");i.resume()}return e};function pipeOnDrain(e){return function(){var t=e._readableState;_("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&EElistenerCount(e,"data")){t.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var t=this._readableState;var i={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,i);return this}if(!e){var o=t.pipes;var a=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var l=0;l<a;l++){o[l].emit("unpipe",this,{hasUnpiped:false})}return this}var u=indexOf(t.pipes,e);if(u===-1)return this;t.pipes.splice(u,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,i);return this};Readable.prototype.on=function(e,t){var i=p.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var o=this._readableState;if(!o.endEmitted&&!o.readableListening){o.readableListening=o.needReadable=true;o.emittedReadable=false;if(!o.reading){a.nextTick(nReadingNextTick,this)}else if(o.length){emitReadable(this)}}}return i};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(e){_("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){_("resume");e.flowing=true;resume(this,e)}return this};function resume(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;a.nextTick(resume_,e,t)}}function resume_(e,t){if(!t.reading){_("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");flow(e);if(t.flowing&&!t.reading)e.read(0)}Readable.prototype.pause=function(){_("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){_("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(e){var t=e._readableState;_("flow",t.flowing);while(t.flowing&&e.read()!==null){}}Readable.prototype.wrap=function(e){var t=this;var i=this._readableState;var o=false;e.on("end",function(){_("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)t.push(e)}t.push(null)});e.on("data",function(a){_("wrapped data");if(i.decoder)a=i.decoder.write(a);if(i.objectMode&&(a===null||a===undefined))return;else if(!i.objectMode&&(!a||!a.length))return;var l=t.push(a);if(!l){o=true;e.pause()}});for(var a in e){if(this[a]===undefined&&typeof e[a]==="function"){this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a)}}for(var l=0;l<T.length;l++){e.on(T[l],this.emit.bind(this,T[l]))}this._read=function(t){_("wrapped _read",t);if(o){o=false;e.resume()}};return this};Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Readable._fromList=fromList;function fromList(e,t){if(t.length===0)return null;var i;if(t.objectMode)i=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)i=t.buffer.join("");else if(t.buffer.length===1)i=t.buffer.head.data;else i=t.buffer.concat(t.length);t.buffer.clear()}else{i=fromListPartial(e,t.buffer,t.decoder)}return i}function fromListPartial(e,t,i){var o;if(e<t.head.data.length){o=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){o=t.shift()}else{o=i?copyFromBufferString(e,t):copyFromBuffer(e,t)}return o}function copyFromBufferString(e,t){var i=t.head;var o=1;var a=i.data;e-=a.length;while(i=i.next){var l=i.data;var u=e>l.length?l.length:e;if(u===l.length)a+=l;else a+=l.slice(0,e);e-=u;if(e===0){if(u===l.length){++o;if(i.next)t.head=i.next;else t.head=t.tail=null}else{t.head=i;i.data=l.slice(u)}break}++o}t.length-=o;return a}function copyFromBuffer(e,t){var i=m.allocUnsafe(e);var o=t.head;var a=1;o.data.copy(i);e-=o.data.length;while(o=o.next){var l=o.data;var u=e>l.length?l.length:e;l.copy(i,i.length-e,0,u);e-=u;if(e===0){if(u===l.length){++a;if(o.next)t.head=o.next;else t.head=t.tail=null}else{t.head=o;o.data=l.slice(u)}break}++a}t.length-=a;return i}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;a.nextTick(endReadableNT,t,e)}}function endReadableNT(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function indexOf(e,t){for(var i=0,o=e.length;i<o;i++){if(e[i]===t)return i}return-1}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_transform.js":(e,t,i)=>{"use strict";e.exports=Transform;var o=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js");var a=Object.create(i("../../node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js"));a.inherits=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");a.inherits(Transform,o);function afterTransform(e,t){var i=this._transformState;i.transforming=false;var o=i.writecb;if(!o){return this.emit("error",new Error("write callback called multiple times"))}i.writechunk=null;i.writecb=null;if(t!=null)this.push(t);o(e);var a=this._readableState;a.reading=false;if(a.needReadable||a.length<a.highWaterMark){this._read(a.highWaterMark)}}function Transform(e){if(!(this instanceof Transform))return new Transform(e);o.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",prefinish)}function prefinish(){var e=this;if(typeof this._flush==="function"){this._flush(function(t,i){done(e,t,i)})}else{done(this,null,null)}}Transform.prototype.push=function(e,t){this._transformState.needTransform=false;return o.prototype.push.call(this,e,t)};Transform.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")};Transform.prototype._write=function(e,t,i){var o=this._transformState;o.writecb=i;o.writechunk=e;o.writeencoding=t;if(!o.transforming){var a=this._readableState;if(o.needTransform||a.needReadable||a.length<a.highWaterMark)this._read(a.highWaterMark)}};Transform.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};Transform.prototype._destroy=function(e,t){var i=this;o.prototype._destroy.call(this,e,function(e){t(e);i.emit("close")})};function done(e,t,i){if(t)return e.emit("error",t);if(i!=null)e.push(i);if(e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_writable.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var a=i("../../node_modules/.pnpm/process-nextick-args@2.0.1/node_modules/process-nextick-args/index.js");e.exports=Writable;function WriteReq(e,t,i){this.chunk=e;this.encoding=t;this.callback=i;this.next=null}function CorkedRequest(e){var t=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(t,e)}}var l=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?setImmediate:a.nextTick;var u;Writable.WritableState=WritableState;var d=Object.create(i("../../node_modules/.pnpm/core-util-is@1.0.3/node_modules/core-util-is/lib/util.js"));d.inherits=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var p={deprecate:i("../../node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js")};var m=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/stream-browser.js");var g=i("../../node_modules/.pnpm/safe-buffer@5.1.2/node_modules/safe-buffer/index.js").Buffer;var v=(typeof i.g!=="undefined"?i.g:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return g.from(e)}function _isUint8Array(e){return g.isBuffer(e)||e instanceof v}var y=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/destroy.js");d.inherits(Writable,m);function nop(){}function WritableState(e,t){u=u||i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js");e=e||{};var o=t instanceof u;this.objectMode=!!e.objectMode;if(o)this.objectMode=this.objectMode||!!e.writableObjectMode;var a=e.highWaterMark;var l=e.writableHighWaterMark;var d=this.objectMode?16:16*1024;if(a||a===0)this.highWaterMark=a;else if(o&&(l||l===0))this.highWaterMark=l;else this.highWaterMark=d;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var p=e.decodeStrings===false;this.decodeStrings=!p;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var _;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){_=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){if(_.call(this,e))return true;if(this!==Writable)return false;return e&&e._writableState instanceof WritableState}})}else{_=function(e){return e instanceof this}}function Writable(e){u=u||i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js");if(!_.call(Writable,this)&&!(this instanceof u)){return new Writable(e)}this._writableState=new WritableState(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}m.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(e,t){var i=new Error("write after end");e.emit("error",i);a.nextTick(t,i)}function validChunk(e,t,i,o){var l=true;var u=false;if(i===null){u=new TypeError("May not write null values to stream")}else if(typeof i!=="string"&&i!==undefined&&!t.objectMode){u=new TypeError("Invalid non-string/buffer chunk")}if(u){e.emit("error",u);a.nextTick(o,u);l=false}return l}Writable.prototype.write=function(e,t,i){var o=this._writableState;var a=false;var l=!o.objectMode&&_isUint8Array(e);if(l&&!g.isBuffer(e)){e=_uint8ArrayToBuffer(e)}if(typeof t==="function"){i=t;t=null}if(l)t="buffer";else if(!t)t=o.defaultEncoding;if(typeof i!=="function")i=nop;if(o.ended)writeAfterEnd(this,i);else if(l||validChunk(this,o,e,i)){o.pendingcb++;a=writeOrBuffer(this,o,l,e,t,i)}return a};Writable.prototype.cork=function(){var e=this._writableState;e.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if(typeof e==="string")e=e.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e;return this};function decodeChunk(e,t,i){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=g.from(t,i)}return t}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,i,o,a,l){if(!i){var u=decodeChunk(t,o,a);if(o!==u){i=true;a="buffer";o=u}}var d=t.objectMode?1:o.length;t.length+=d;var p=t.length<t.highWaterMark;if(!p)t.needDrain=true;if(t.writing||t.corked){var m=t.lastBufferedRequest;t.lastBufferedRequest={chunk:o,encoding:a,isBuf:i,callback:l,next:null};if(m){m.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{doWrite(e,t,false,d,o,a,l)}return p}function doWrite(e,t,i,o,a,l,u){t.writelen=o;t.writecb=u;t.writing=true;t.sync=true;if(i)e._writev(a,t.onwrite);else e._write(a,l,t.onwrite);t.sync=false}function onwriteError(e,t,i,o,l){--t.pendingcb;if(i){a.nextTick(l,o);a.nextTick(finishMaybe,e,t);e._writableState.errorEmitted=true;e.emit("error",o)}else{l(o);e._writableState.errorEmitted=true;e.emit("error",o);finishMaybe(e,t)}}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,t){var i=e._writableState;var o=i.sync;var a=i.writecb;onwriteStateUpdate(i);if(t)onwriteError(e,i,o,t,a);else{var u=needFinish(i);if(!u&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest){clearBuffer(e,i)}if(o){l(afterWrite,e,i,u,a)}else{afterWrite(e,i,u,a)}}}function afterWrite(e,t,i,o){if(!i)onwriteDrain(e,t);t.pendingcb--;o();finishMaybe(e,t)}function onwriteDrain(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function clearBuffer(e,t){t.bufferProcessing=true;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var o=t.bufferedRequestCount;var a=new Array(o);var l=t.corkedRequestsFree;l.entry=i;var u=0;var d=true;while(i){a[u]=i;if(!i.isBuf)d=false;i=i.next;u+=1}a.allBuffers=d;doWrite(e,t,true,t.length,a,"",l.finish);t.pendingcb++;t.lastBufferedRequest=null;if(l.next){t.corkedRequestsFree=l.next;l.next=null}else{t.corkedRequestsFree=new CorkedRequest(t)}t.bufferedRequestCount=0}else{while(i){var p=i.chunk;var m=i.encoding;var g=i.callback;var v=t.objectMode?1:p.length;doWrite(e,t,false,v,p,m,g);i=i.next;t.bufferedRequestCount--;if(t.writing){break}}if(i===null)t.lastBufferedRequest=null}t.bufferedRequest=i;t.bufferProcessing=false}Writable.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,t,i){var o=this._writableState;if(typeof e==="function"){i=e;e=null;t=null}else if(typeof t==="function"){i=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(o.corked){o.corked=1;this.uncork()}if(!o.ending)endWritable(this,o,i)};function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(i){t.pendingcb--;if(i){e.emit("error",i)}t.prefinished=true;e.emit("prefinish");finishMaybe(e,t)})}function prefinish(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;a.nextTick(callFinal,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function finishMaybe(e,t){var i=needFinish(t);if(i){prefinish(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return i}function endWritable(e,t,i){t.ending=true;finishMaybe(e,t);if(i){if(t.finished)a.nextTick(i);else e.once("finish",i)}t.ended=true;e.writable=false}function onCorkedFinish(e,t,i){var o=e.entry;e.entry=null;while(o){var a=o.callback;t.pendingcb--;a(i);o=o.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});Writable.prototype.destroy=y.destroy;Writable.prototype._undestroy=y.undestroy;Writable.prototype._destroy=function(e,t){this.end();t(e)}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/BufferList.js":(e,t,i)=>{"use strict";function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=i("../../node_modules/.pnpm/safe-buffer@5.1.2/node_modules/safe-buffer/index.js").Buffer;var a=i("?ca9d");function copyBuffer(e,t,i){e.copy(t,i)}e.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function push(e){var t={data:e,next:null};if(this.length>0)this.tail.next=t;else this.head=t;this.tail=t;++this.length};BufferList.prototype.unshift=function unshift(e){var t={data:e,next:this.head};if(this.length===0)this.tail=t;this.head=t;++this.length};BufferList.prototype.shift=function shift(){if(this.length===0)return;var e=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return e};BufferList.prototype.clear=function clear(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function join(e){if(this.length===0)return"";var t=this.head;var i=""+t.data;while(t=t.next){i+=e+t.data}return i};BufferList.prototype.concat=function concat(e){if(this.length===0)return o.alloc(0);var t=o.allocUnsafe(e>>>0);var i=this.head;var a=0;while(i){copyBuffer(i.data,t,a);a+=i.data.length;i=i.next}return t};return BufferList}();if(a&&a.inspect&&a.inspect.custom){e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e}}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/destroy.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/process-nextick-args@2.0.1/node_modules/process-nextick-args/index.js");function destroy(e,t){var i=this;var a=this._readableState&&this._readableState.destroyed;var l=this._writableState&&this._writableState.destroyed;if(a||l){if(t){t(e)}else if(e){if(!this._writableState){o.nextTick(emitErrorNT,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;o.nextTick(emitErrorNT,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!i._writableState){o.nextTick(emitErrorNT,i,e)}else if(!i._writableState.errorEmitted){i._writableState.errorEmitted=true;o.nextTick(emitErrorNT,i,e)}}else if(t){t(e)}});return this}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(e,t){e.emit("error",t)}e.exports={destroy,undestroy}},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/internal/streams/stream-browser.js":(e,t,i)=>{e.exports=i("../../node_modules/.pnpm/events@3.3.0/node_modules/events/events.js").EventEmitter},"../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/readable-browser.js":(e,t,i)=>{t=e.exports=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_readable.js");t.Stream=t;t.Readable=t;t.Writable=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_writable.js");t.Duplex=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_duplex.js");t.Transform=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_transform.js");t.PassThrough=i("../../node_modules/.pnpm/readable-stream@2.3.8/node_modules/readable-stream/lib/_stream_passthrough.js")},"../../node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;var a=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var l=i("../../node_modules/.pnpm/hash-base@3.0.5/node_modules/hash-base/index.js");var u=new Array(16);var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var v=[0,1518500249,1859775393,2400959708,2840853838];var y=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){l.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}a(RIPEMD160,l);RIPEMD160.prototype._update=function(){var e=u;for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var i=this._a|0;var o=this._b|0;var a=this._c|0;var l=this._d|0;var _=this._e|0;var w=this._a|0;var A=this._b|0;var k=this._c|0;var T=this._d|0;var x=this._e|0;for(var I=0;I<80;I+=1){var N;var P;if(I<16){N=fn1(i,o,a,l,_,e[d[I]],v[0],m[I]);P=fn5(w,A,k,T,x,e[p[I]],y[0],g[I])}else if(I<32){N=fn2(i,o,a,l,_,e[d[I]],v[1],m[I]);P=fn4(w,A,k,T,x,e[p[I]],y[1],g[I])}else if(I<48){N=fn3(i,o,a,l,_,e[d[I]],v[2],m[I]);P=fn3(w,A,k,T,x,e[p[I]],y[2],g[I])}else if(I<64){N=fn4(i,o,a,l,_,e[d[I]],v[3],m[I]);P=fn2(w,A,k,T,x,e[p[I]],y[3],g[I])}else{N=fn5(i,o,a,l,_,e[d[I]],v[4],m[I]);P=fn1(w,A,k,T,x,e[p[I]],y[4],g[I])}i=_;_=l;l=rotl(a,10);a=o;o=N;w=x;x=T;T=rotl(k,10);k=A;A=P}var C=this._b+a+T|0;this._b=this._c+l+x|0;this._c=this._d+_+w|0;this._d=this._e+i+A|0;this._e=this._a+o+k|0;this._a=C};RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=o.alloc?o.alloc(20):new o(20);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);e.writeInt32LE(this._e,16);return e};function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,i,o,a,l,u,d){return rotl(e+(t^i^o)+l+u|0,d)+a|0}function fn2(e,t,i,o,a,l,u,d){return rotl(e+(t&i|~t&o)+l+u|0,d)+a|0}function fn3(e,t,i,o,a,l,u,d){return rotl(e+((t|~i)^o)+l+u|0,d)+a|0}function fn4(e,t,i,o,a,l,u,d){return rotl(e+(t&o|i&~o)+l+u|0,d)+a|0}function fn5(e,t,i,o,a,l,u,d){return rotl(e+(t^(i|~o))+l+u|0,d)+a|0}e.exports=RIPEMD160},"../../node_modules/.pnpm/safe-buffer@5.1.2/node_modules/safe-buffer/index.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js");var a=o.Buffer;function copyProps(e,t){for(var i in e){t[i]=e[i]}}if(a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow){e.exports=o}else{copyProps(o,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,i){return a(e,t,i)}copyProps(a,SafeBuffer);SafeBuffer.from=function(e,t,i){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return a(e,t,i)};SafeBuffer.alloc=function(e,t,i){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var o=a(e);if(t!==undefined){if(typeof i==="string"){o.fill(t,i)}else{o.fill(t)}}else{o.fill(0)}return o};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return a(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return o.SlowBuffer(e)}},"../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js");var a=o.Buffer;function copyProps(e,t){for(var i in e){t[i]=e[i]}}if(a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow){e.exports=o}else{copyProps(o,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,i){return a(e,t,i)}SafeBuffer.prototype=Object.create(a.prototype);copyProps(a,SafeBuffer);SafeBuffer.from=function(e,t,i){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return a(e,t,i)};SafeBuffer.alloc=function(e,t,i){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var o=a(e);if(t!==undefined){if(typeof i==="string"){o.fill(t,i)}else{o.fill(t)}}else{o.fill(0)}return o};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return a(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return o.SlowBuffer(e)}},"../../node_modules/.pnpm/scrypt-js@3.0.1/node_modules/scrypt-js/scrypt.js":function(e){"use strict";(function(t){const i=2147483647;function SHA256(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let i=1779033703,o=3144134277,a=1013904242,l=2773480762;let u=1359893119,d=2600822924,p=528734635,m=1541459225;const g=new Uint32Array(64);function blocks(e){let v=0,y=e.length;while(y>=64){let _=i,w=o,A=a,k=l,T=u,x=d,I=p,N=m,P,C,M,B,j;for(C=0;C<16;C++){M=v+C*4;g[C]=(e[M]&255)<<24|(e[M+1]&255)<<16|(e[M+2]&255)<<8|e[M+3]&255}for(C=16;C<64;C++){P=g[C-2];B=(P>>>17|P<<32-17)^(P>>>19|P<<32-19)^P>>>10;P=g[C-15];j=(P>>>7|P<<32-7)^(P>>>18|P<<32-18)^P>>>3;g[C]=(B+g[C-7]|0)+(j+g[C-16]|0)|0}for(C=0;C<64;C++){B=(((T>>>6|T<<32-6)^(T>>>11|T<<32-11)^(T>>>25|T<<32-25))+(T&x^~T&I)|0)+(N+(t[C]+g[C]|0)|0)|0;j=((_>>>2|_<<32-2)^(_>>>13|_<<32-13)^(_>>>22|_<<32-22))+(_&w^_&A^w&A)|0;N=I;I=x;x=T;T=k+B|0;k=A;A=w;w=_;_=B+j|0}i=i+_|0;o=o+w|0;a=a+A|0;l=l+k|0;u=u+T|0;d=d+x|0;p=p+I|0;m=m+N|0;v+=64;y-=64}}blocks(e);let v,y=e.length%64,_=e.length/536870912|0,w=e.length<<3,A=y<56?56:120,k=e.slice(e.length-y,e.length);k.push(128);for(v=y+1;v<A;v++){k.push(0)}k.push(_>>>24&255);k.push(_>>>16&255);k.push(_>>>8&255);k.push(_>>>0&255);k.push(w>>>24&255);k.push(w>>>16&255);k.push(w>>>8&255);k.push(w>>>0&255);blocks(k);return[i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,d>>>24&255,d>>>16&255,d>>>8&255,d>>>0&255,p>>>24&255,p>>>16&255,p>>>8&255,p>>>0&255,m>>>24&255,m>>>16&255,m>>>8&255,m>>>0&255]}function PBKDF2_HMAC_SHA256_OneIter(e,t,i){e=e.length<=64?e:SHA256(e);const o=64+t.length+4;const a=new Array(o);const l=new Array(64);let u;let d=[];for(u=0;u<64;u++){a[u]=54}for(u=0;u<e.length;u++){a[u]^=e[u]}for(u=0;u<t.length;u++){a[64+u]=t[u]}for(u=o-4;u<o;u++){a[u]=0}for(u=0;u<64;u++)l[u]=92;for(u=0;u<e.length;u++)l[u]^=e[u];function incrementCounter(){for(let e=o-1;e>=o-4;e--){a[e]++;if(a[e]<=255)return;a[e]=0}}while(i>=32){incrementCounter();d=d.concat(SHA256(l.concat(SHA256(a))));i-=32}if(i>0){incrementCounter();d=d.concat(SHA256(l.concat(SHA256(a))).slice(0,i))}return d}function blockmix_salsa8(e,t,i,o,a){let l;arraycopy(e,(2*i-1)*16,a,0,16);for(l=0;l<2*i;l++){blockxor(e,l*16,a,16);salsa20_8(a,o);arraycopy(a,0,e,t+l*16,16)}for(l=0;l<i;l++){arraycopy(e,t+l*2*16,e,l*16,16)}for(l=0;l<i;l++){arraycopy(e,t+(l*2+1)*16,e,(l+i)*16,16)}}function R(e,t){return e<<t|e>>>32-t}function salsa20_8(e,t){arraycopy(e,0,t,0,16);for(let e=8;e>0;e-=2){t[4]^=R(t[0]+t[12],7);t[8]^=R(t[4]+t[0],9);t[12]^=R(t[8]+t[4],13);t[0]^=R(t[12]+t[8],18);t[9]^=R(t[5]+t[1],7);t[13]^=R(t[9]+t[5],9);t[1]^=R(t[13]+t[9],13);t[5]^=R(t[1]+t[13],18);t[14]^=R(t[10]+t[6],7);t[2]^=R(t[14]+t[10],9);t[6]^=R(t[2]+t[14],13);t[10]^=R(t[6]+t[2],18);t[3]^=R(t[15]+t[11],7);t[7]^=R(t[3]+t[15],9);t[11]^=R(t[7]+t[3],13);t[15]^=R(t[11]+t[7],18);t[1]^=R(t[0]+t[3],7);t[2]^=R(t[1]+t[0],9);t[3]^=R(t[2]+t[1],13);t[0]^=R(t[3]+t[2],18);t[6]^=R(t[5]+t[4],7);t[7]^=R(t[6]+t[5],9);t[4]^=R(t[7]+t[6],13);t[5]^=R(t[4]+t[7],18);t[11]^=R(t[10]+t[9],7);t[8]^=R(t[11]+t[10],9);t[9]^=R(t[8]+t[11],13);t[10]^=R(t[9]+t[8],18);t[12]^=R(t[15]+t[14],7);t[13]^=R(t[12]+t[15],9);t[14]^=R(t[13]+t[12],13);t[15]^=R(t[14]+t[13],18)}for(let i=0;i<16;++i){e[i]+=t[i]}}function blockxor(e,t,i,o){for(let a=0;a<o;a++){i[a]^=e[t+a]}}function arraycopy(e,t,i,o,a){while(a--){i[o++]=e[t++]}}function checkBufferish(e){if(!e||typeof e.length!=="number"){return false}for(let t=0;t<e.length;t++){const i=e[t];if(typeof i!=="number"||i%1||i<0||i>=256){return false}}return true}function ensureInteger(e,t){if(typeof e!=="number"||e%1){throw new Error("invalid "+t)}return e}function _scrypt(e,t,o,a,l,u,d){o=ensureInteger(o,"N");a=ensureInteger(a,"r");l=ensureInteger(l,"p");u=ensureInteger(u,"dkLen");if(o===0||(o&o-1)!==0){throw new Error("N must be power of 2")}if(o>i/128/a){throw new Error("N too large")}if(a>i/128/l){throw new Error("r too large")}if(!checkBufferish(e)){throw new Error("password must be an array or buffer")}e=Array.prototype.slice.call(e);if(!checkBufferish(t)){throw new Error("salt must be an array or buffer")}t=Array.prototype.slice.call(t);let p=PBKDF2_HMAC_SHA256_OneIter(e,t,l*128*a);const m=new Uint32Array(l*32*a);for(let e=0;e<m.length;e++){const t=e*4;m[e]=(p[t+3]&255)<<24|(p[t+2]&255)<<16|(p[t+1]&255)<<8|(p[t+0]&255)<<0}const g=new Uint32Array(64*a);const v=new Uint32Array(32*a*o);const y=32*a;const _=new Uint32Array(16);const w=new Uint32Array(16);const A=l*o*2;let k=0;let T=null;let x=false;let I=0;let N=0,P;let C;const M=d?parseInt(1e3/a):4294967295;const B=typeof setImmediate!=="undefined"?setImmediate:setTimeout;const incrementalSMix=function(){if(x){return d(new Error("cancelled"),k/A)}let t;switch(I){case 0:C=N*32*a;arraycopy(m,C,g,0,y);I=1;P=0;case 1:t=o-P;if(t>M){t=M}for(let e=0;e<t;e++){arraycopy(g,0,v,(P+e)*y,y);blockmix_salsa8(g,y,a,_,w)}P+=t;k+=t;if(d){const e=parseInt(1e3*k/A);if(e!==T){x=d(null,k/A);if(x){break}T=e}}if(P<o){break}P=0;I=2;case 2:t=o-P;if(t>M){t=M}for(let e=0;e<t;e++){const e=(2*a-1)*16;const t=g[e]&o-1;blockxor(v,t*y,g,y);blockmix_salsa8(g,y,a,_,w)}P+=t;k+=t;if(d){const e=parseInt(1e3*k/A);if(e!==T){x=d(null,k/A);if(x){break}T=e}}if(P<o){break}arraycopy(g,0,m,C,y);N++;if(N<l){I=0;break}p=[];for(let e=0;e<m.length;e++){p.push(m[e]>>0&255);p.push(m[e]>>8&255);p.push(m[e]>>16&255);p.push(m[e]>>24&255)}const i=PBKDF2_HMAC_SHA256_OneIter(e,p,u);if(d){d(null,1,i)}return i}if(d){B(incrementalSMix)}};if(!d){while(true){const e=incrementalSMix();if(e!=undefined){return e}}}incrementalSMix()}const o={scrypt:function(e,t,i,o,a,l,u){return new Promise(function(d,p){let m=0;if(u){u(0)}_scrypt(e,t,i,o,a,l,function(e,t,i){if(e){p(e)}else if(i){if(u&&m!==1){u(1)}d(new Uint8Array(i))}else if(u&&t!==m){m=t;return u(t)}})})},syncScrypt:function(e,t,i,o,a,l){return new Uint8Array(_scrypt(e,t,i,o,a,l))}};if(true){e.exports=o}else{}})(this)},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function Hash(e,t){this._block=o.alloc(e);this._finalSize=t;this._blockSize=e;this._len=0}Hash.prototype.update=function(e,t){if(typeof e==="string"){t=t||"utf8";e=o.from(e,t)}var i=this._block;var a=this._blockSize;var l=e.length;var u=this._len;for(var d=0;d<l;){var p=u%a;var m=Math.min(l-d,a-p);for(var g=0;g<m;g++){i[p+g]=e[d+g]}u+=m;d+=m;if(u%a===0){this._update(i)}}this._len+=l;return this};Hash.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128;this._block.fill(0,t+1);if(t>=this._finalSize){this._update(this._block);this._block.fill(0)}var i=this._len*8;if(i<=4294967295){this._block.writeUInt32BE(i,this._blockSize-4)}else{var o=(i&4294967295)>>>0;var a=(i-o)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8);this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var l=this._hash();return e?l.toString(e):l};Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")};e.exports=Hash},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js":(e,t,i)=>{var o=e.exports=function SHA(e){e=e.toLowerCase();var t=o[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};o.sha=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha.js");o.sha1=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha1.js");o.sha224=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha224.js");o.sha256=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js");o.sha384=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha384.js");o.sha512=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js")},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var u=[1518500249,1859775393,2400959708|0,3395469782|0];var d=new Array(80);function Sha(){this.init();this._w=d;a.call(this,64,56)}o(Sha,a);Sha.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,i,o){if(e===0)return t&i|~t&o;if(e===2)return t&i|t&o|i&o;return t^i^o}Sha.prototype._update=function(e){var t=this._w;var i=this._a|0;var o=this._b|0;var a=this._c|0;var l=this._d|0;var d=this._e|0;for(var p=0;p<16;++p)t[p]=e.readInt32BE(p*4);for(;p<80;++p)t[p]=t[p-3]^t[p-8]^t[p-14]^t[p-16];for(var m=0;m<80;++m){var g=~~(m/20);var v=rotl5(i)+ft(g,o,a,l)+d+t[m]+u[g]|0;d=l;l=a;a=rotl30(o);o=i;i=v}this._a=i+this._a|0;this._b=o+this._b|0;this._c=a+this._c|0;this._d=l+this._d|0;this._e=d+this._e|0};Sha.prototype._hash=function(){var e=l.allocUnsafe(20);e.writeInt32BE(this._a|0,0);e.writeInt32BE(this._b|0,4);e.writeInt32BE(this._c|0,8);e.writeInt32BE(this._d|0,12);e.writeInt32BE(this._e|0,16);return e};e.exports=Sha},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha1.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var u=[1518500249,1859775393,2400959708|0,3395469782|0];var d=new Array(80);function Sha1(){this.init();this._w=d;a.call(this,64,56)}o(Sha1,a);Sha1.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function rotl1(e){return e<<1|e>>>31}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,i,o){if(e===0)return t&i|~t&o;if(e===2)return t&i|t&o|i&o;return t^i^o}Sha1.prototype._update=function(e){var t=this._w;var i=this._a|0;var o=this._b|0;var a=this._c|0;var l=this._d|0;var d=this._e|0;for(var p=0;p<16;++p)t[p]=e.readInt32BE(p*4);for(;p<80;++p)t[p]=rotl1(t[p-3]^t[p-8]^t[p-14]^t[p-16]);for(var m=0;m<80;++m){var g=~~(m/20);var v=rotl5(i)+ft(g,o,a,l)+d+t[m]+u[g]|0;d=l;l=a;a=rotl30(o);o=i;i=v}this._a=i+this._a|0;this._b=o+this._b|0;this._c=a+this._c|0;this._d=l+this._d|0;this._e=d+this._e|0};Sha1.prototype._hash=function(){var e=l.allocUnsafe(20);e.writeInt32BE(this._a|0,0);e.writeInt32BE(this._b|0,4);e.writeInt32BE(this._c|0,8);e.writeInt32BE(this._d|0,12);e.writeInt32BE(this._e|0,16);return e};e.exports=Sha1},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha224.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js");var l=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js");var u=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var d=new Array(64);function Sha224(){this.init();this._w=d;l.call(this,64,56)}o(Sha224,a);Sha224.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};Sha224.prototype._hash=function(){var e=u.allocUnsafe(28);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);return e};e.exports=Sha224},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var d=new Array(64);function Sha256(){this.init();this._w=d;a.call(this,64,56)}o(Sha256,a);Sha256.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function ch(e,t,i){return i^e&(t^i)}function maj(e,t,i){return e&t|i&(e|t)}function sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function gamma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Sha256.prototype._update=function(e){var t=this._w;var i=this._a|0;var o=this._b|0;var a=this._c|0;var l=this._d|0;var d=this._e|0;var p=this._f|0;var m=this._g|0;var g=this._h|0;for(var v=0;v<16;++v)t[v]=e.readInt32BE(v*4);for(;v<64;++v)t[v]=gamma1(t[v-2])+t[v-7]+gamma0(t[v-15])+t[v-16]|0;for(var y=0;y<64;++y){var _=g+sigma1(d)+ch(d,p,m)+u[y]+t[y]|0;var w=sigma0(i)+maj(i,o,a)|0;g=m;m=p;p=d;d=l+_|0;l=a;a=o;o=i;i=_+w|0}this._a=i+this._a|0;this._b=o+this._b|0;this._c=a+this._c|0;this._d=l+this._d|0;this._e=d+this._e|0;this._f=p+this._f|0;this._g=m+this._g|0;this._h=g+this._h|0};Sha256.prototype._hash=function(){var e=l.allocUnsafe(32);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);e.writeInt32BE(this._h,28);return e};e.exports=Sha256},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha384.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js");var l=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js");var u=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var d=new Array(160);function Sha384(){this.init();this._w=d;l.call(this,128,112)}o(Sha384,a);Sha384.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};Sha384.prototype._hash=function(){var e=u.allocUnsafe(48);function writeInt64BE(t,i,o){e.writeInt32BE(t,o);e.writeInt32BE(i,o+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);return e};e.exports=Sha384},"../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js");var a=i("../../node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js");var l=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var d=new Array(160);function Sha512(){this.init();this._w=d;a.call(this,128,112)}o(Sha512,a);Sha512.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function Ch(e,t,i){return i^e&(t^i)}function maj(e,t,i){return e&t|i&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}Sha512.prototype._update=function(e){var t=this._w;var i=this._ah|0;var o=this._bh|0;var a=this._ch|0;var l=this._dh|0;var d=this._eh|0;var p=this._fh|0;var m=this._gh|0;var g=this._hh|0;var v=this._al|0;var y=this._bl|0;var _=this._cl|0;var w=this._dl|0;var A=this._el|0;var k=this._fl|0;var T=this._gl|0;var x=this._hl|0;for(var I=0;I<32;I+=2){t[I]=e.readInt32BE(I*4);t[I+1]=e.readInt32BE(I*4+4)}for(;I<160;I+=2){var N=t[I-15*2];var P=t[I-15*2+1];var C=Gamma0(N,P);var M=Gamma0l(P,N);N=t[I-2*2];P=t[I-2*2+1];var B=Gamma1(N,P);var j=Gamma1l(P,N);var O=t[I-7*2];var D=t[I-7*2+1];var L=t[I-16*2];var F=t[I-16*2+1];var U=M+D|0;var H=C+O+getCarry(U,M)|0;U=U+j|0;H=H+B+getCarry(U,j)|0;U=U+F|0;H=H+L+getCarry(U,F)|0;t[I]=H;t[I+1]=U}for(var q=0;q<160;q+=2){H=t[q];U=t[q+1];var G=maj(i,o,a);var z=maj(v,y,_);var W=sigma0(i,v);var V=sigma0(v,i);var Y=sigma1(d,A);var $=sigma1(A,d);var J=u[q];var Q=u[q+1];var Z=Ch(d,p,m);var X=Ch(A,k,T);var ee=x+$|0;var te=g+Y+getCarry(ee,x)|0;ee=ee+X|0;te=te+Z+getCarry(ee,X)|0;ee=ee+Q|0;te=te+J+getCarry(ee,Q)|0;ee=ee+U|0;te=te+H+getCarry(ee,U)|0;var re=V+z|0;var ne=W+G+getCarry(re,V)|0;g=m;x=T;m=p;T=k;p=d;k=A;A=w+ee|0;d=l+te+getCarry(A,w)|0;l=a;w=_;a=o;_=y;o=i;y=v;v=ee+re|0;i=te+ne+getCarry(v,ee)|0}this._al=this._al+v|0;this._bl=this._bl+y|0;this._cl=this._cl+_|0;this._dl=this._dl+w|0;this._el=this._el+A|0;this._fl=this._fl+k|0;this._gl=this._gl+T|0;this._hl=this._hl+x|0;this._ah=this._ah+i+getCarry(this._al,v)|0;this._bh=this._bh+o+getCarry(this._bl,y)|0;this._ch=this._ch+a+getCarry(this._cl,_)|0;this._dh=this._dh+l+getCarry(this._dl,w)|0;this._eh=this._eh+d+getCarry(this._el,A)|0;this._fh=this._fh+p+getCarry(this._fl,k)|0;this._gh=this._gh+m+getCarry(this._gl,T)|0;this._hh=this._hh+g+getCarry(this._hl,x)|0};Sha512.prototype._hash=function(){var e=l.allocUnsafe(64);function writeInt64BE(t,i,o){e.writeInt32BE(t,o);e.writeInt32BE(i,o+4)}writeInt64BE(this._ah,this._al,0);writeInt64BE(this._bh,this._bl,8);writeInt64BE(this._ch,this._cl,16);writeInt64BE(this._dh,this._dl,24);writeInt64BE(this._eh,this._el,32);writeInt64BE(this._fh,this._fl,40);writeInt64BE(this._gh,this._gl,48);writeInt64BE(this._hh,this._hl,56);return e};e.exports=Sha512},"../../node_modules/.pnpm/stream@0.0.3/node_modules/stream/index.js":(e,t,i)=>{var o=i("../../node_modules/.pnpm/component-emitter@2.0.0/node_modules/component-emitter/index.js");function Stream(){o.call(this)}Stream.prototype=new o;e.exports=Stream;Stream.Stream=Stream;Stream.prototype.pipe=function(e,t){var i=this;function ondata(t){if(e.writable){if(false===e.write(t)&&i.pause){i.pause()}}}i.on("data",ondata);function ondrain(){if(i.readable&&i.resume){i.resume()}}e.on("drain",ondrain);if(!e._isStdio&&(!t||t.end!==false)){i.on("end",onend);i.on("close",onclose)}var o=false;function onend(){if(o)return;o=true;e.end()}function onclose(){if(o)return;o=true;if(typeof e.destroy==="function")e.destroy()}function onerror(e){cleanup();if(!this.hasListeners("error")){throw e}}i.on("error",onerror);e.on("error",onerror);function cleanup(){i.off("data",ondata);e.off("drain",ondrain);i.off("end",onend);i.off("close",onclose);i.off("error",onerror);e.off("error",onerror);i.off("end",cleanup);i.off("close",cleanup);e.off("end",cleanup);e.off("close",cleanup)}i.on("end",cleanup);i.on("close",cleanup);e.on("end",cleanup);e.on("close",cleanup);e.emit("pipe",i);return e}},"../../node_modules/.pnpm/string_decoder@1.1.1/node_modules/string_decoder/lib/string_decoder.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.1.2/node_modules/safe-buffer/index.js").Buffer;var a=o.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!=="string"&&(o.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}t.StringDecoder=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;t=4;break;case"utf8":this.fillLast=utf8FillLast;t=4;break;case"base64":this.text=base64Text;this.end=base64End;t=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=o.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t;var i;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<e.length)return t?t+this.text(e,i):this.text(e,i);return t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,i){var o=t.length-1;if(o<i)return 0;var a=utf8CheckByte(t[o]);if(a>=0){if(a>0)e.lastNeed=a-1;return a}if(--o<i||a===-2)return 0;a=utf8CheckByte(t[o]);if(a>=0){if(a>0)e.lastNeed=a-2;return a}if(--o<i||a===-2)return 0;a=utf8CheckByte(t[o]);if(a>=0){if(a>0){if(a===2)a=0;else e.lastNeed=a-3}return a}return 0}function utf8CheckExtraBytes(e,t,i){if((t[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"�"}}}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed;var i=utf8CheckExtraBytes(this,e,t);if(i!==undefined)return i;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function utf8Text(e,t){var i=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var o=e.length-(i-this.lastNeed);e.copy(this.lastChar,0,o);return e.toString("utf8",t,o)}function utf8End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"�";return t}function utf16Text(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var o=i.charCodeAt(i.length-1);if(o>=55296&&o<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return i.slice(0,-1)}}return i}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function base64Text(e,t){var i=(e.length-t)%3;if(i===0)return e.toString("base64",t);this.lastNeed=3-i;this.lastTotal=3;if(i===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-i)}function base64End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},"../../node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js":(e,t,i)=>{"use strict";var o=i("../../node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;var a=o.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function normalizeEncoding(e){var t=_normalizeEncoding(e);if(typeof t!=="string"&&(o.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}t.StringDecoder=StringDecoder;function StringDecoder(e){this.encoding=normalizeEncoding(e);var t;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;t=4;break;case"utf8":this.fillLast=utf8FillLast;t=4;break;case"base64":this.text=base64Text;this.end=base64End;t=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=o.allocUnsafe(t)}StringDecoder.prototype.write=function(e){if(e.length===0)return"";var t;var i;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<e.length)return t?t+this.text(e,i):this.text(e,i);return t||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function utf8CheckByte(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function utf8CheckIncomplete(e,t,i){var o=t.length-1;if(o<i)return 0;var a=utf8CheckByte(t[o]);if(a>=0){if(a>0)e.lastNeed=a-1;return a}if(--o<i||a===-2)return 0;a=utf8CheckByte(t[o]);if(a>=0){if(a>0)e.lastNeed=a-2;return a}if(--o<i||a===-2)return 0;a=utf8CheckByte(t[o]);if(a>=0){if(a>0){if(a===2)a=0;else e.lastNeed=a-3}return a}return 0}function utf8CheckExtraBytes(e,t,i){if((t[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"�"}}}}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed;var i=utf8CheckExtraBytes(this,e,t);if(i!==undefined)return i;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function utf8Text(e,t){var i=utf8CheckIncomplete(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var o=e.length-(i-this.lastNeed);e.copy(this.lastChar,0,o);return e.toString("utf8",t,o)}function utf8End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"�";return t}function utf16Text(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var o=i.charCodeAt(i.length-1);if(o>=55296&&o<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return i.slice(0,-1)}}return i}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function base64Text(e,t){var i=(e.length-t)%3;if(i===0)return e.toString("base64",t);this.lastNeed=3-i;this.lastTotal=3;if(i===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-i)}function base64End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/attachments/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{createAttachmentKey:()=>createAttachmentKey,fromAction:()=>fromAction});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/index-client.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");function createAttachmentKey(){return Symbol(a.ATTACHMENT_KEY)}function fromAction(e,t=o.noop){return i=>{const{update:a,destroy:d}=(0,l.untrack)(()=>e(i,t())??{});if(a){var p=false;(0,o.render_effect)(()=>{const e=t();if(p)a(e)});p=true}if(d){(0,u.teardown)(d)}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ATTACHMENT_KEY:()=>z,EACH_INDEX_REACTIVE:()=>a,EACH_IS_ANIMATED:()=>u,EACH_IS_CONTROLLED:()=>l,EACH_ITEM_IMMUTABLE:()=>d,EACH_ITEM_REACTIVE:()=>o,ELEMENTS_WITHOUT_TEXT:()=>G,ELEMENT_IS_NAMESPACED:()=>B,ELEMENT_PRESERVE_ATTRIBUTE_CASE:()=>j,FILENAME:()=>D,HMR:()=>L,HYDRATION_END:()=>C,HYDRATION_ERROR:()=>M,HYDRATION_START:()=>N,HYDRATION_START_ELSE:()=>P,IGNORABLE_RUNTIME_WARNINGS:()=>q,NAMESPACE_HTML:()=>F,NAMESPACE_MATHML:()=>H,NAMESPACE_SVG:()=>U,PROPS_IS_BINDABLE:()=>v,PROPS_IS_IMMUTABLE:()=>p,PROPS_IS_LAZY_INITIAL:()=>y,PROPS_IS_RUNES:()=>m,PROPS_IS_UPDATED:()=>g,TEMPLATE_FRAGMENT:()=>k,TEMPLATE_USE_IMPORT_NODE:()=>T,TEMPLATE_USE_MATHML:()=>I,TEMPLATE_USE_SVG:()=>x,TRANSITION_GLOBAL:()=>A,TRANSITION_IN:()=>_,TRANSITION_OUT:()=>w,UNINITIALIZED:()=>O});const o=1;const a=1<<1;const l=1<<2;const u=1<<3;const d=1<<4;const p=1;const m=1<<1;const g=1<<2;const v=1<<3;const y=1<<4;const _=1;const w=1<<1;const A=1<<2;const k=1;const T=1<<1;const x=1<<2;const I=1<<3;const N="[";const P="[!";const C="]";const M={};const B=1;const j=1<<1;const O=Symbol();const D=Symbol("filename");const L=Symbol("hmr");const F="http://www.w3.org/1999/xhtml";const U="http://www.w3.org/2000/svg";const H="http://www.w3.org/1998/Math/MathML";const q=["state_snapshot_uncloneable","binding_property_non_reactive","hydration_attribute_changed","hydration_html_changed","ownership_invalid_binding","ownership_invalid_mutation"];const G=["audio","datalist","dl","optgroup","select","video"];const z="@attach"},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/escaping.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{escape_html:()=>escape_html});const o=/[&"<]/g;const a=/[&<]/g;function escape_html(e,t){const i=String(e??"");const l=t?o:a;l.lastIndex=0;let u="";let d=0;while(l.test(i)){const e=l.lastIndex-1;const t=i[e];u+=i.substring(d,e)+(t==="&"?"&amp;":t==='"'?"&quot;":"&lt;");d=e+1}return u+i.substring(d)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/index-client.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{afterUpdate:()=>afterUpdate,beforeUpdate:()=>beforeUpdate,createEventDispatcher:()=>createEventDispatcher,createRawSnippet:()=>y.createRawSnippet,flushSync:()=>o.flushSync,getAllContexts:()=>m.getAllContexts,getContext:()=>m.getContext,hasContext:()=>m.hasContext,hydrate:()=>v.hydrate,mount:()=>v.mount,onDestroy:()=>onDestroy,onMount:()=>onMount,setContext:()=>m.setContext,tick:()=>o.tick,unmount:()=>v.unmount,untrack:()=>o.untrack});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/index.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/errors.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var g=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/snippet.js");if(g.DEV){function throw_rune_error(e){if(!(e in globalThis)){let t;Object.defineProperty(globalThis,e,{configurable:true,get:()=>{if(t!==undefined){return t}u.rune_outside_svelte(e)},set:e=>{t=e}})}}throw_rune_error("$state");throw_rune_error("$effect");throw_rune_error("$derived");throw_rune_error("$inspect");throw_rune_error("$props");throw_rune_error("$bindable")}function onMount(e){if(m.component_context===null){(0,d.lifecycle_outside_component)("onMount")}if(p.legacy_mode_flag&&m.component_context.l!==null){init_update_callbacks(m.component_context).m.push(e)}else{(0,l.user_effect)(()=>{const t=(0,o.untrack)(e);if(typeof t==="function")return t})}}function onDestroy(e){if(m.component_context===null){(0,d.lifecycle_outside_component)("onDestroy")}onMount(()=>()=>(0,o.untrack)(e))}function create_custom_event(e,t,{bubbles:i=false,cancelable:o=false}={}){return new CustomEvent(e,{detail:t,bubbles:i,cancelable:o})}function createEventDispatcher(){const e=m.component_context;if(e===null){(0,d.lifecycle_outside_component)("createEventDispatcher")}return(t,i,o)=>{const l=e.s.$$events?.[t];if(l){const u=(0,a.is_array)(l)?l.slice():[l];const d=create_custom_event(t,i,o);for(const t of u){t.call(e.x,d)}return!d.defaultPrevented}return true}}function beforeUpdate(e){if(m.component_context===null){(0,d.lifecycle_outside_component)("beforeUpdate")}if(m.component_context.l===null){u.lifecycle_legacy_only("beforeUpdate")}init_update_callbacks(m.component_context).b.push(e)}function afterUpdate(e){if(m.component_context===null){(0,d.lifecycle_outside_component)("afterUpdate")}if(m.component_context.l===null){u.lifecycle_legacy_only("afterUpdate")}init_update_callbacks(m.component_context).a.push(e)}function init_update_callbacks(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BLOCK_EFFECT:()=>u,BOUNDARY_EFFECT:()=>m,BRANCH_EFFECT:()=>d,CLEAN:()=>y,DERIVED:()=>o,DESTROYED:()=>k,DIRTY:()=>_,DISCONNECTED:()=>v,EFFECT:()=>a,EFFECT_HAS_DERIVED:()=>C,EFFECT_IS_UPDATING:()=>M,EFFECT_RAN:()=>T,EFFECT_TRANSPARENT:()=>x,HEAD_EFFECT:()=>P,INERT:()=>A,INSPECT_EFFECT:()=>N,LEGACY_DERIVED_PROP:()=>I,LEGACY_PROPS:()=>j,LOADING_ATTR_SYMBOL:()=>O,MAYBE_DIRTY:()=>w,PROXY_PATH_SYMBOL:()=>D,RENDER_EFFECT:()=>l,ROOT_EFFECT:()=>p,STATE_SYMBOL:()=>B,UNOWNED:()=>g});const o=1<<1;const a=1<<2;const l=1<<3;const u=1<<4;const d=1<<5;const p=1<<6;const m=1<<7;const g=1<<8;const v=1<<9;const y=1<<10;const _=1<<11;const w=1<<12;const A=1<<13;const k=1<<14;const T=1<<15;const x=1<<16;const I=1<<17;const N=1<<18;const P=1<<19;const C=1<<20;const M=1<<21;const B=Symbol("$state");const j=Symbol("legacy props");const O=Symbol("");const D=Symbol("proxy path")},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{component_context:()=>m,dev_current_component_function:()=>g,getAllContexts:()=>getAllContexts,getContext:()=>getContext,hasContext:()=>hasContext,is_runes:()=>is_runes,pop:()=>pop,push:()=>push,setContext:()=>setContext,set_component_context:()=>set_component_context,set_dev_current_component_function:()=>set_dev_current_component_function});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/errors.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");let m=null;function set_component_context(e){m=e}let g=null;function set_dev_current_component_function(e){g=e}function getContext(e){const t=get_or_init_context_map("getContext");const i=t.get(e);return i}function setContext(e,t){const i=get_or_init_context_map("setContext");i.set(e,t);return t}function hasContext(e){const t=get_or_init_context_map("hasContext");return t.has(e)}function getAllContexts(){const e=get_or_init_context_map("getAllContexts");return e}function push(e,t=false,i){var a=m={p:m,c:null,d:false,e:null,m:false,s:e,x:null,l:null};if(p.legacy_mode_flag&&!t){m.l={s:null,u:null,r1:[],r2:(0,l.source)(false)}}(0,d.teardown)(()=>{a.d=true});if(o.DEV){m.function=i;g=i}}function pop(e){const t=m;if(t!==null){if(e!==undefined){t.x=e}const v=t.e;if(v!==null){var i=u.active_effect;var a=u.active_reaction;t.e=null;try{for(var l=0;l<v.length;l++){var p=v[l];(0,u.set_active_effect)(p.effect);(0,u.set_active_reaction)(p.reaction);(0,d.effect)(p.fn)}}finally{(0,u.set_active_effect)(i);(0,u.set_active_reaction)(a)}}m=t.p;if(o.DEV){g=t.p?.function??null}t.m=true}return e||{}}function is_runes(){return!p.legacy_mode_flag||m!==null&&m.l===null}function get_or_init_context_map(e){if(m===null){(0,a.lifecycle_outside_component)(e)}return m.c??=new Map(get_parent_context(m)||undefined)}function get_parent_context(e){let t=e.p;while(t!==null){const e=t.c;if(e!==null){return e}t=t.p}return null}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/assign.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{assign:()=>assign,assign_and:()=>assign_and,assign_nullish:()=>assign_nullish,assign_or:()=>assign_or});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");function compare(e,t,i,a){if(e!==t){l.assignment_value_stale(i,(0,o.sanitize_location)(a))}return e}function assign(e,t,i,o){return compare(e[t]=i,(0,a.untrack)(()=>e[t]),t,o)}function assign_and(e,t,i,o){return compare(e[t]&&=i,(0,a.untrack)(()=>e[t]),t,o)}function assign_or(e,t,i,o){return compare(e[t]||=i,(0,a.untrack)(()=>e[t]),t,o)}function assign_nullish(e,t,i,o){return compare(e[t]??=i,(0,a.untrack)(()=>e[t]),t,o)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/console-log.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{log_if_contains_state:()=>log_if_contains_state});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/clone.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");function log_if_contains_state(e,...t){(0,u.untrack)(()=>{try{let i=false;const u=[];for(const e of t){if(e&&typeof e==="object"&&o.STATE_SYMBOL in e){u.push((0,a.snapshot)(e,true));i=true}else{u.push(e)}}if(i){l.console_log_state(e);console.log("%c[snapshot]","color: grey",...u)}}catch{}});return t}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/css.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{cleanup_styles:()=>cleanup_styles,register_style:()=>register_style});var o=new Map;function register_style(e,t){var i=o.get(e);if(!i){i=new Set;o.set(e,i)}i.add(t)}function cleanup_styles(e){var t=o.get(e);if(!t)return;for(const e of t){e.remove()}o.delete(e)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/elements.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{add_locations:()=>add_locations});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");function add_locations(e,t,i){return(...o)=>{const l=e(...o);var u=a.hydrating?l:l.nodeType===11?l.firstChild:l;assign_locations(u,t,i);return l}}function assign_location(e,t,i){e.__svelte_meta={loc:{file:t,line:i[0],column:i[1]}};if(i[2]){assign_locations(e.firstChild,t,i[2])}}function assign_locations(e,t,i){var l=0;var u=0;while(e&&l<i.length){if(a.hydrating&&e.nodeType===8){var d=e;if(d.data===o.HYDRATION_START||d.data===o.HYDRATION_START_ELSE)u+=1;else if(d.data[0]===o.HYDRATION_END)u-=1}if(u===0&&e.nodeType===1){assign_location(e,t,i[l++])}e=e.nextSibling}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/equality.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{equals:()=>equals,init_array_prototype_warnings:()=>init_array_prototype_warnings,strict_equals:()=>strict_equals});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js");function init_array_prototype_warnings(){const e=Array.prototype;const t=Array.__svelte_cleanup;if(t){t()}const{indexOf:i,lastIndexOf:l,includes:u}=e;e.indexOf=function(e,t){const l=i.call(this,e,t);if(l===-1){for(let i=t??0;i<this.length;i+=1){if((0,a.get_proxied_value)(this[i])===e){o.state_proxy_equality_mismatch("array.indexOf(...)");break}}}return l};e.lastIndexOf=function(e,t){const i=l.call(this,e,t??this.length-1);if(i===-1){for(let i=0;i<=(t??this.length-1);i+=1){if((0,a.get_proxied_value)(this[i])===e){o.state_proxy_equality_mismatch("array.lastIndexOf(...)");break}}}return i};e.includes=function(e,t){const i=u.call(this,e,t);if(!i){for(let t=0;t<this.length;t+=1){if((0,a.get_proxied_value)(this[t])===e){o.state_proxy_equality_mismatch("array.includes(...)");break}}}return i};Array.__svelte_cleanup=()=>{e.indexOf=i;e.lastIndexOf=l;e.includes=u}}function strict_equals(e,t,i=true){try{if(e===t!==((0,a.get_proxied_value)(e)===(0,a.get_proxied_value)(t))){o.state_proxy_equality_mismatch(i?"===":"!==")}}catch{}return e===t===i}function equals(e,t,i=true){if(e==t!==((0,a.get_proxied_value)(e)==(0,a.get_proxied_value)(t))){o.state_proxy_equality_mismatch(i?"==":"!=")}return e==t===i}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/hmr.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hmr:()=>hmr});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");function hmr(e,t){function wrapper(e,i){let o={};let d;let g=false;(0,u.block)(()=>{const a=t();const l=(0,m.get)(a);if(d){for(var v in o)delete o[v];(0,u.destroy_effect)(d)}d=(0,u.branch)(()=>{if(g)(0,p.set_should_intro)(false);Object.defineProperties(o,Object.getOwnPropertyDescriptors(new.target?new l(e,i):l(e,i)));if(g)(0,p.set_should_intro)(true)})},a.EFFECT_TRANSPARENT);g=true;if(l.hydrating){e=l.hydrate_node}return o}wrapper[o.FILENAME]=e[o.FILENAME];wrapper[o.HMR]={original:e,source:(0,d.source)(e)};return wrapper}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/inspect.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{inspect:()=>inspect});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/clone.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");function inspect(e,t=console.log){(0,l.validate_effect)("$inspect");let i=true;(0,l.inspect_effect)(()=>{var l=o.UNINITIALIZED;try{l=e()}catch(e){console.error(e)}if(l!==o.UNINITIALIZED){t(i?"init":"update",...(0,a.snapshot)(l,true))}i=false})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/legacy.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{check_target:()=>check_target,legacy_api:()=>legacy_api});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");function check_target(e){if(e){o.component_api_invalid_new(e[l.FILENAME]??"a component",e.name)}}function legacy_api(){const e=a.component_context?.function;function error(t){o.component_api_changed(t,e[l.FILENAME])}return{$destroy:()=>error("$destroy()"),$on:()=>error("$on(...)"),$set:()=>error("$set(...)")}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/ownership.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{create_ownership_validator:()=>create_ownership_validator});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");function create_ownership_validator(e){const t=u.component_context?.function;const i=u.component_context?.p?.function;return{mutation:(o,u,m,g,v)=>{const y=u[0];if(is_bound_or_unset(e,y)||!i){return m}let _=e;for(let e=0;e<u.length-1;e++){_=_[u[e]];if(!_?.[a.STATE_SYMBOL]){return m}}const w=(0,p.sanitize_location)(`${t[l.FILENAME]}:${g}:${v}`);d.ownership_invalid_mutation(y,w,o,i[l.FILENAME]);return m},binding:(o,u,p)=>{if(!is_bound_or_unset(e,o)&&i&&p()?.[a.STATE_SYMBOL]){d.ownership_invalid_binding(t[l.FILENAME],o,u[l.FILENAME],i[l.FILENAME])}}}}function is_bound_or_unset(e,t){const i=a.STATE_SYMBOL in e||a.LEGACY_PROPS in e;return!!(0,o.get_descriptor)(e,t)?.set||i&&t in e||!(t in e)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/tracing.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{get_stack:()=>get_stack,label:()=>label,tag:()=>tag,tag_proxy:()=>tag_proxy,trace:()=>trace,tracing_expressions:()=>m});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/clone.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");let m=null;function log_entry(e,t){const i=e.v;if(i===o.UNINITIALIZED){return}const l=(e.f&u.DERIVED)!==0?"$derived":"$state";const d=p.active_reaction;const m=e.wv>d.wv||d.wv===0;const g=m?"color: CornflowerBlue; font-weight: bold":"color: grey; font-weight: normal";console.groupCollapsed(e.label?`%c${l}%c ${e.label}`:`%c${l}%c`,g,m?"font-weight: normal":g,typeof i==="object"&&i!==null&&u.STATE_SYMBOL in i?(0,a.snapshot)(i,true):i);if(l==="$derived"){const t=new Set(e.deps);for(const e of t){log_entry(e)}}if(e.created){console.log(e.created)}if(m&&e.updated){console.log(e.updated)}if(t){for(var v of t.traces){console.log(v)}}console.groupEnd()}function trace(e,t){var i=m;try{m={entries:new Map,reaction:p.active_reaction};var o=performance.now();var a=t();var l=(performance.now()-o).toFixed(2);var u=(0,p.untrack)(e);if(!(0,d.effect_tracking)()){console.log(`${u} %cran outside of an effect (${l}ms)`,"color: grey")}else if(m.entries.size===0){console.log(`${u} %cno reactive dependencies (${l}ms)`,"color: grey")}else{console.group(`${u} %c(${l}ms)`,"color: grey");var g=m.entries;(0,p.untrack)(()=>{for(const[e,t]of g){log_entry(e,t)}});m=null;console.groupEnd()}return a}finally{m=i}}function get_stack(e){let t=Error();const i=t.stack;if(i){const o=i.split("\n");const a=["\n"];for(let e=0;e<o.length;e++){const t=o[e];if(t==="Error"){continue}if(t.includes("validate_each_keys")){return null}if(t.includes("svelte/src/internal")){continue}a.push(t)}if(a.length===1){return null}(0,l.define_property)(t,"stack",{value:a.join("\n")});(0,l.define_property)(t,"name",{value:`${e}Error`})}return t}function tag(e,t){e.label=t;tag_proxy(e.v,t);return e}function tag_proxy(e,t){e?.[u.PROXY_PATH_SYMBOL]?.(t);return e}function label(e){if(typeof e==="symbol")return`Symbol(${e.description})`;if(typeof e==="function")return"<function>";if(typeof e==="object"&&e)return"<object>";return String(e)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/validation.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{validate_snippet_args:()=>validate_snippet_args});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/errors.js");function validate_snippet_args(e,...t){if(typeof e!=="object"||!(e instanceof Node)){(0,o.invalid_snippet_arguments)()}for(let e of t){if(typeof e!=="function"){(0,o.invalid_snippet_arguments)()}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/await.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{await_block:()=>await_block});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");const y=0;const _=1;const w=2;function await_block(e,t,i,A,k){if(p.hydrating){(0,p.hydrate_next)()}var T=e;var x=(0,v.is_runes)();var I=v.component_context;var N=o.DEV?v.component_context?.function:null;var P=g.UNINITIALIZED;var C;var M;var B;var j=x?(0,u.source)(undefined):(0,u.mutable_source)(undefined,false,false);var O=x?(0,u.source)(undefined):(0,u.mutable_source)(undefined,false,false);var D=false;function update(e,t){D=true;if(t){(0,d.set_active_effect)(L);(0,d.set_active_reaction)(L);(0,v.set_component_context)(I);if(o.DEV)(0,v.set_dev_current_component_function)(N)}try{if(e===y&&i){if(C)(0,l.resume_effect)(C);else C=(0,l.branch)(()=>i(T))}if(e===_&&A){if(M)(0,l.resume_effect)(M);else M=(0,l.branch)(()=>A(T,j))}if(e===w&&k){if(B)(0,l.resume_effect)(B);else B=(0,l.branch)(()=>k(T,O))}if(e!==y&&C){(0,l.pause_effect)(C,()=>C=null)}if(e!==_&&M){(0,l.pause_effect)(M,()=>M=null)}if(e!==w&&B){(0,l.pause_effect)(B,()=>B=null)}}finally{if(t){if(o.DEV)(0,v.set_dev_current_component_function)(null);(0,v.set_component_context)(null);(0,d.set_active_reaction)(null);(0,d.set_active_effect)(null);(0,d.flushSync)()}}}var L=(0,l.block)(()=>{if(P===(P=t()))return;let e=p.hydrating&&(0,a.is_promise)(P)===(T.data===g.HYDRATION_START_ELSE);if(e){T=(0,p.remove_nodes)();(0,p.set_hydrate_node)(T);(0,p.set_hydrating)(false);e=true}if((0,a.is_promise)(P)){var o=P;D=false;o.then(e=>{if(o!==P)return;(0,u.internal_set)(j,e);update(_,true)},e=>{if(o!==P)return;(0,u.internal_set)(O,e);update(w,true);if(!k){throw O.v}});if(p.hydrating){if(i){C=(0,l.branch)(()=>i(T))}}else{(0,m.queue_micro_task)(()=>{if(!D)update(y,true)})}}else{(0,u.internal_set)(j,P);update(_,false)}if(e){(0,p.set_hydrating)(true)}return()=>P=g.UNINITIALIZED});if(p.hydrating){T=p.hydrate_node}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/boundary.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{boundary:()=>boundary});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/error-handling.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");function with_boundary(e,t){var i=d.active_effect;var o=d.active_reaction;var l=a.component_context;(0,d.set_active_effect)(e);(0,d.set_active_reaction)(e);(0,a.set_component_context)(e.ctx);try{t()}finally{(0,d.set_active_effect)(i);(0,d.set_active_reaction)(o);(0,a.set_component_context)(l)}}function boundary(e,t,i){var a=e;var g;(0,u.block)(()=>{var e=d.active_effect;var o=p.hydrate_node;var v=false;e.fn=y=>{var _=t.onerror;let w=t.failed;if(!_&&!w||v){throw y}var reset=()=>{(0,u.pause_effect)(g);with_boundary(e,()=>{v=false;g=(0,u.branch)(()=>i(a))})};var A=d.active_reaction;try{(0,d.set_active_reaction)(null);_?.(y,reset)}finally{(0,d.set_active_reaction)(A)}if(g){(0,u.destroy_effect)(g)}else if(p.hydrating){(0,p.set_hydrate_node)(o);(0,p.next)();(0,p.set_hydrate_node)((0,p.remove_nodes)())}if(w){(0,m.queue_micro_task)(()=>{with_boundary(e,()=>{v=true;try{g=(0,u.branch)(()=>{w(a,()=>y,()=>reset)})}catch(t){(0,l.invoke_error_boundary)(t,e.parent)}v=false})})}};if(p.hydrating){(0,p.hydrate_next)()}g=(0,u.branch)(()=>i(a))},o.EFFECT_TRANSPARENT|o.BOUNDARY_EFFECT);if(p.hydrating){a=p.hydrate_node}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/css-props.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{css_props:()=>css_props});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");function css_props(e,t){if(a.hydrating){(0,a.set_hydrate_node)((0,l.get_first_child)(e))}(0,o.render_effect)(()=>{var i=t();for(var o in i){var a=i[o];if(a){e.style.setProperty(o,a)}else{e.style.removeProperty(o)}}})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/each.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{current_each_item:()=>w,each:()=>each,index:()=>index,set_current_each_item:()=>set_current_each_item});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var y=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");let w=null;function set_current_each_item(e){w=e}function index(e,t){return t}function pause_effects(e,t,i,o){var a=[];var d=t.length;for(var p=0;p<d;p++){(0,u.pause_children)(t[p].e,a,true)}var m=d>0&&a.length===0&&i!==null;if(m){var g=i.parentNode;(0,l.clear_text_content)(g);g.append(i);o.clear();link(e,t[0].prev,t[d-1].next)}(0,u.run_out_transitions)(a,()=>{for(var i=0;i<d;i++){var a=t[i];if(!m){o.delete(a.k);link(e,a.prev,a.next)}(0,u.destroy_effect)(a.e,!m)}})}function each(e,t,i,d,m,g=null){var y=e;var w={flags:t,items:new Map,first:null};var A=(t&o.EACH_IS_CONTROLLED)!==0;if(A){var k=e;y=a.hydrating?(0,a.set_hydrate_node)((0,l.get_first_child)(k)):k.appendChild((0,l.create_text)())}if(a.hydrating){(0,a.hydrate_next)()}var T=null;var x=false;var I=(0,_.derived_safe_equal)(()=>{var e=i();return(0,p.is_array)(e)?e:e==null?[]:(0,p.array_from)(e)});(0,u.block)(()=>{var e=(0,v.get)(I);var l=e.length;if(x&&l===0){return}x=l===0;let p=false;if(a.hydrating){var _=(0,a.read_hydration_instruction)(y)===o.HYDRATION_START_ELSE;if(_!==(l===0)){y=(0,a.remove_nodes)();(0,a.set_hydrate_node)(y);(0,a.set_hydrating)(false);p=true}}if(a.hydrating){var A=null;var k;for(var N=0;N<l;N++){if(a.hydrate_node.nodeType===8&&a.hydrate_node.data===o.HYDRATION_END){y=a.hydrate_node;p=true;(0,a.set_hydrating)(false);break}var P=e[N];var C=d(P,N);k=create_item(a.hydrate_node,w,A,null,P,C,N,m,t,i);w.items.set(C,k);A=k}if(l>0){(0,a.set_hydrate_node)((0,a.remove_nodes)())}}if(!a.hydrating){reconcile(e,w,y,m,t,d,i)}if(g!==null){if(l===0){if(T){(0,u.resume_effect)(T)}else{T=(0,u.branch)(()=>g(y))}}else if(T!==null){(0,u.pause_effect)(T,()=>{T=null})}}if(p){(0,a.set_hydrating)(true)}(0,v.get)(I)});if(a.hydrating){y=a.hydrate_node}}function reconcile(e,t,i,a,l,d,y){var _=(l&o.EACH_IS_ANIMATED)!==0;var w=(l&(o.EACH_ITEM_REACTIVE|o.EACH_INDEX_REACTIVE))!==0;var A=e.length;var k=t.items;var T=t.first;var x=T;var I;var N=null;var P;var C=[];var M=[];var B;var j;var O;var D;if(_){for(D=0;D<A;D+=1){B=e[D];j=d(B,D);O=k.get(j);if(O!==undefined){O.a?.measure();(P??=new Set).add(O)}}}for(D=0;D<A;D+=1){B=e[D];j=d(B,D);O=k.get(j);if(O===undefined){var L=x?x.e.nodes_start:i;N=create_item(L,t,N,N===null?t.first:N.next,B,j,D,a,l,y);k.set(j,N);C=[];M=[];x=N.next;continue}if(w){update_item(O,B,D,l)}if((O.e.f&m.INERT)!==0){(0,u.resume_effect)(O.e);if(_){O.a?.unfix();(P??=new Set).delete(O)}}if(O!==x){if(I!==undefined&&I.has(O)){if(C.length<M.length){var F=M[0];var U;N=F.prev;var H=C[0];var q=C[C.length-1];for(U=0;U<C.length;U+=1){move(C[U],F,i)}for(U=0;U<M.length;U+=1){I.delete(M[U])}link(t,H.prev,q.next);link(t,N,H);link(t,q,F);x=F;N=q;D-=1;C=[];M=[]}else{I.delete(O);move(O,x,i);link(t,O.prev,O.next);link(t,O,N===null?t.first:N.next);link(t,N,O);N=O}continue}C=[];M=[];while(x!==null&&x.k!==j){if((x.e.f&m.INERT)===0){(I??=new Set).add(x)}M.push(x);x=x.next}if(x===null){continue}O=x}C.push(O);N=O;x=O.next}if(x!==null||I!==undefined){var G=I===undefined?[]:(0,p.array_from)(I);while(x!==null){if((x.e.f&m.INERT)===0){G.push(x)}x=x.next}var z=G.length;if(z>0){var W=(l&o.EACH_IS_CONTROLLED)!==0&&A===0?i:null;if(_){for(D=0;D<z;D+=1){G[D].a?.measure()}for(D=0;D<z;D+=1){G[D].a?.fix()}}pause_effects(t,G,W,k)}}if(_){(0,g.queue_micro_task)(()=>{if(P===undefined)return;for(O of P){O.a?.apply()}})}v.active_effect.first=t.first&&t.first.e;v.active_effect.last=N&&N.e}function update_item(e,t,i,a){if((a&o.EACH_ITEM_REACTIVE)!==0){(0,d.internal_set)(e.v,t)}if((a&o.EACH_INDEX_REACTIVE)!==0){(0,d.internal_set)(e.i,i)}else{e.i=i}}function create_item(e,t,i,l,p,m,g,v,_,A){var k=w;var T=(_&o.EACH_ITEM_REACTIVE)!==0;var x=(_&o.EACH_ITEM_IMMUTABLE)===0;var I=T?x?(0,d.mutable_source)(p,false,false):(0,d.source)(p):p;var N=(_&o.EACH_INDEX_REACTIVE)===0?g:(0,d.source)(g);if(y.DEV&&T){I.trace=()=>{var e=typeof N==="number"?g:N.v;A()[e]}}var P={i:N,v:I,k:m,a:null,e:null,prev:i,next:l};w=P;try{P.e=(0,u.branch)(()=>v(e,I,N,A),a.hydrating);P.e.prev=i&&i.e;P.e.next=l&&l.e;if(i===null){t.first=P}else{i.next=P;i.e.next=P.e}if(l!==null){l.prev=P;l.e.prev=P.e}return P}finally{w=k}}function move(e,t,i){var o=e.next?e.next.e.nodes_start:i;var a=t?t.e.nodes_start:i;var u=e.e.nodes_start;while(u!==o){var d=(0,l.get_next_sibling)(u);a.before(u);u=d}}function link(e,t,i){if(t===null){e.first=i}else{t.next=i;t.e.next=i&&i.e}if(i!==null){i.prev=t;i.e.prev=t&&t.e}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/html.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{html:()=>html});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/reconciler.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");var g=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");function check_hash(e,t,i){if(!t||t===(0,m.hash)(String(i??"")))return;let a;const l=e.__svelte_meta?.loc;if(l){a=`near ${l.file}:${l.line}:${l.column}`}else if(v.dev_current_component_function?.[o.FILENAME]){a=`in ${v.dev_current_component_function[o.FILENAME]}`}p.hydration_html_changed((0,m.sanitize_location)(a))}function html(e,t,i=false,m=false,v=false){var w=e;var A="";(0,a.template_effect)(()=>{var e=_.active_effect;if(A===(A=t()??"")){if(l.hydrating)(0,l.hydrate_next)();return}if(e.nodes_start!==null){(0,a.remove_effect_dom)(e.nodes_start,e.nodes_end);e.nodes_start=e.nodes_end=null}if(A==="")return;if(l.hydrating){var k=l.hydrate_node.data;var T=(0,l.hydrate_next)();var x=T;while(T!==null&&(T.nodeType!==8||T.data!=="")){x=T;T=(0,y.get_next_sibling)(T)}if(T===null){p.hydration_mismatch();throw o.HYDRATION_ERROR}if(g.DEV&&!v){check_hash(T.parentNode,k,A)}(0,d.assign_nodes)(l.hydrate_node,x);w=(0,l.set_hydrate_node)(T);return}var I=A+"";if(i)I=`<svg>${I}</svg>`;else if(m)I=`<math>${I}</math>`;var N=(0,u.create_fragment_from_html)(I);if(i||m){N=(0,y.get_first_child)(N)}(0,d.assign_nodes)((0,y.get_first_child)(N),N.lastChild);if(i||m){while((0,y.get_first_child)(N)){w.before((0,y.get_first_child)(N))}}else{w.before(N)}})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/if.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{if_block:()=>if_block});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");function if_block(e,t,[i,d]=[0,0]){if(a.hydrating&&i===0){(0,a.hydrate_next)()}var p=e;var m=null;var g=null;var v=u.UNINITIALIZED;var y=i>0?o.EFFECT_TRANSPARENT:0;var _=false;const set_branch=(e,t=true)=>{_=true;update_branch(t,e)};const update_branch=(e,t)=>{if(v===(v=e))return;let o=false;if(a.hydrating&&d!==-1){if(i===0){const e=(0,a.read_hydration_instruction)(p);if(e===u.HYDRATION_START){d=0}else if(e===u.HYDRATION_START_ELSE){d=Infinity}else{d=parseInt(e.substring(1));if(d!==d){d=v?Infinity:-1}}}const e=d>i;if(!!v===e){p=(0,a.remove_nodes)();(0,a.set_hydrate_node)(p);(0,a.set_hydrating)(false);o=true;d=-1}}if(v){if(m){(0,l.resume_effect)(m)}else if(t){m=(0,l.branch)(()=>t(p))}if(g){(0,l.pause_effect)(g,()=>{g=null})}}else{if(g){(0,l.resume_effect)(g)}else if(t){g=(0,l.branch)(()=>t(p,[i+1,d]))}if(m){(0,l.pause_effect)(m,()=>{m=null})}}if(o){(0,a.set_hydrating)(true)}};(0,l.block)(()=>{_=false;t(set_branch);if(!_){update_branch(null,null)}},y);if(a.hydrating){p=a.hydrate_node}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/key.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{key_block:()=>key_block});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");function key_block(e,t,i){if(d.hydrating){(0,d.hydrate_next)()}var p=e;var m=o.UNINITIALIZED;var g;var v=(0,u.is_runes)()?l.not_equal:l.safe_not_equal;(0,a.block)(()=>{if(v(m,m=t())){if(g){(0,a.pause_effect)(g)}g=(0,a.branch)(()=>i(p))}});if(d.hydrating){p=d.hydrate_node}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/slot.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{sanitize_slots:()=>sanitize_slots,slot:()=>slot});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");function slot(e,t,i,a,l){if(o.hydrating){(0,o.hydrate_next)()}var u=t.$$slots?.[i];var d=false;if(u===true){u=t[i==="default"?"children":i];d=true}if(u===undefined){if(l!==null){l(e)}}else{u(e,d?()=>a:a)}}function sanitize_slots(e){const t={};if(e.children)t.default=true;for(const i in e.$$slots){t[i]=true}return t}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/snippet.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{createRawSnippet:()=>createRawSnippet,snippet:()=>snippet,wrap_snippet:()=>wrap_snippet});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/reconciler.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var v=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/validate.js");function snippet(e,t,...i){var l=e;var d=_.noop;var p;(0,a.block)(()=>{if(d===(d=t()))return;if(p){(0,a.destroy_effect)(p);p=null}if(v.DEV&&d==null){g.invalid_snippet()}p=(0,a.branch)(()=>d(l,...i))},o.EFFECT_TRANSPARENT);if(u.hydrating){l=u.hydrate_node}}function wrap_snippet(e,t){const snippet=(i,...o)=>{var a=l.dev_current_component_function;(0,l.set_dev_current_component_function)(e);try{return t(i,...o)}finally{(0,l.set_dev_current_component_function)(a)}};(0,w.prevent_snippet_stringification)(snippet);return snippet}function createRawSnippet(e){return(t,...i)=>{var o=e(...i);var l;if(u.hydrating){l=u.hydrate_node;(0,u.hydrate_next)()}else{var g=o.render().trim();var _=(0,d.create_fragment_from_html)(g);l=(0,y.get_first_child)(_);if(v.DEV&&((0,y.get_next_sibling)(l)!==null||l.nodeType!==1)){m.invalid_raw_snippet_render()}t.before(l)}const w=o.setup?.(l);(0,p.assign_nodes)(l,l);if(typeof w==="function"){(0,a.teardown)(w)}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-component.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{component:()=>component});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");function component(e,t,i){if(l.hydrating){(0,l.hydrate_next)()}var u=e;var d;var p;(0,a.block)(()=>{if(d===(d=t()))return;if(p){(0,a.pause_effect)(p);p=null}if(d){p=(0,a.branch)(()=>i(u,d))}},o.EFFECT_TRANSPARENT);if(l.hydrating){u=l.hydrate_node}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-element.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{element:()=>element});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/each.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var v=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");function element(e,t,i,A,k,T){let x=a.hydrating;if(a.hydrating){(0,a.hydrate_next)()}var I=v.DEV&&T&&g.component_context?.function[o.FILENAME];var N;var P;var C=null;if(a.hydrating&&a.hydrate_node.nodeType===1){C=a.hydrate_node;(0,a.hydrate_next)()}var M=a.hydrating?a.hydrate_node:e;var B;var j=p.current_each_item;(0,u.block)(()=>{const e=t()||null;var g=k?k():i||e==="svg"?o.NAMESPACE_SVG:null;if(e===N)return;var y=p.current_each_item;(0,p.set_current_each_item)(j);if(B){if(e===null){(0,u.pause_effect)(B,()=>{B=null;P=null})}else if(e===P){(0,u.resume_effect)(B)}else{(0,u.destroy_effect)(B);(0,d.set_should_intro)(false)}}if(e&&e!==P){B=(0,u.branch)(()=>{C=a.hydrating?C:g?document.createElementNS(g,e):document.createElement(e);if(v.DEV&&T){C.__svelte_meta={loc:{file:I,line:T[0],column:T[1]}}}(0,_.assign_nodes)(C,C);if(A){if(a.hydrating&&(0,w.is_raw_text_element)(e)){C.append(document.createComment(""))}var t=a.hydrating?(0,l.get_first_child)(C):C.appendChild((0,l.create_text)());if(a.hydrating){if(t===null){(0,a.set_hydrating)(false)}else{(0,a.set_hydrate_node)(t)}}A(C,t)}m.active_effect.nodes_end=C;M.before(C)})}N=e;if(N)P=N;(0,d.set_should_intro)(true);(0,p.set_current_each_item)(y)},y.EFFECT_TRANSPARENT);if(x){(0,a.set_hydrating)(true);(0,a.set_hydrate_node)(M)}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-head.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{head:()=>head,reset_head_anchor:()=>reset_head_anchor});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");let p;function reset_head_anchor(){p=undefined}function head(e){let t=null;let i=o.hydrating;var m;if(o.hydrating){t=o.hydrate_node;if(p===undefined){p=(0,a.get_first_child)(document.head)}while(p!==null&&(p.nodeType!==8||p.data!==d.HYDRATION_START)){p=(0,a.get_next_sibling)(p)}if(p===null){(0,o.set_hydrating)(false)}else{p=(0,o.set_hydrate_node)((0,a.get_next_sibling)(p))}}if(!o.hydrating){m=document.head.appendChild((0,a.create_text)())}try{(0,l.block)(()=>e(m),u.HEAD_EFFECT)}finally{if(i){(0,o.set_hydrating)(true);p=o.hydrate_node;(0,o.set_hydrate_node)(t)}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/css.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{append_styles:()=>append_styles});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/css.js");function append_styles(e,t){(0,a.queue_micro_task)(()=>{var i=e.getRootNode();var a=i.host?i:i.head??i.ownerDocument.head;if(!a.querySelector("#"+t.hash)){const e=document.createElement("style");e.id=t.hash;e.textContent=t.code;a.appendChild(e);if(o.DEV){(0,l.register_style)(t.hash,e)}}})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/actions.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{action:()=>action});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");function action(e,t,i){(0,o.effect)(()=>{var u=(0,l.untrack)(()=>t(e,i?.())||{});if(i&&u?.update){var d=false;var p={};(0,o.render_effect)(()=>{var e=i();(0,l.deep_read_state)(e);if(d&&(0,a.safe_not_equal)(p,e)){p=e;u.update(e)}});d=true}if(u?.destroy){return()=>u.destroy()}})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/attachments.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{attach:()=>attach});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");function attach(e,t){var i=undefined;var a;(0,o.block)(()=>{if(i!==(i=t())){if(a){(0,o.destroy_effect)(a);a=null}if(i){a=(0,o.branch)(()=>{(0,o.effect)(()=>i(e))})}}})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/attributes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CLASS:()=>P,STYLE:()=>C,attribute_effect:()=>attribute_effect,remove_input_defaults:()=>remove_input_defaults,set_attribute:()=>set_attribute,set_attributes:()=>set_attributes,set_checked:()=>set_checked,set_custom_element_data:()=>set_custom_element_data,set_default_checked:()=>set_default_checked,set_default_value:()=>set_default_value,set_selected:()=>set_selected,set_value:()=>set_value,set_xlink_attribute:()=>set_xlink_attribute});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/events.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/misc.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/attachments.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/attributes.js");var A=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/class.js");var k=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/style.js");var T=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var x=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var I=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");var N=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/select.js");const P=Symbol("class");const C=Symbol("style");const M=Symbol("is custom element");const B=Symbol("is html");function remove_input_defaults(e){if(!a.hydrating)return;var t=false;var remove_defaults=()=>{if(t)return;t=true;if(e.hasAttribute("value")){var i=e.value;set_attribute(e,"value",null);e.value=i}if(e.hasAttribute("checked")){var o=e.checked;set_attribute(e,"checked",null);e.checked=o}};e.__on_r=remove_defaults;(0,g.queue_idle_task)(remove_defaults);(0,d.add_form_reset_listener)()}function set_value(e,t){var i=get_attributes(e);if(i.value===(i.value=t??undefined)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")){return}e.value=t??""}function set_checked(e,t){var i=get_attributes(e);if(i.checked===(i.checked=t??undefined)){return}e.checked=t}function set_selected(e,t){if(t){if(!e.hasAttribute("selected")){e.setAttribute("selected","")}}else{e.removeAttribute("selected")}}function set_default_checked(e,t){const i=e.checked;e.defaultChecked=t;e.checked=i}function set_default_value(e,t){const i=e.value;e.defaultValue=t;e.value=i}function set_attribute(e,t,i,o){var l=get_attributes(e);if(a.hydrating){l[t]=e.getAttribute(t);if(t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK"){if(!o){check_src_in_dev_hydration(e,t,i??"")}return}}if(l[t]===(l[t]=i))return;if(t==="loading"){e[m.LOADING_ATTR_SYMBOL]=i}if(i==null){e.removeAttribute(t)}else if(typeof i!=="string"&&get_setters(e).includes(t)){e[t]=i}else{e.setAttribute(t,i)}}function set_xlink_attribute(e,t,i){e.setAttributeNS("http://www.w3.org/1999/xlink",t,i)}function set_custom_element_data(e,t,i){var o=y.active_reaction;var l=y.active_effect;let u=a.hydrating;if(a.hydrating){(0,a.set_hydrating)(false)}(0,y.set_active_reaction)(null);(0,y.set_active_effect)(null);try{if(t!=="style"&&(j.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?get_setters(e).includes(t):i&&typeof i==="object")){e[t]=i}else{set_attribute(e,t,i==null?i:String(i))}}finally{(0,y.set_active_reaction)(o);(0,y.set_active_effect)(l);if(u){(0,a.set_hydrating)(true)}}}function set_attributes(e,t,i,o,l=false){var p=get_attributes(e);var m=p[M];var g=!p[B];let y=a.hydrating&&m;if(y){(0,a.set_hydrating)(false)}var _=t||{};var T=e.tagName==="OPTION";for(var x in t){if(!(x in i)){i[x]=null}}if(i.class){i.class=(0,w.clsx)(i.class)}else if(o||i[P]){i.class=null}if(i[C]){i.style??=null}var I=get_setters(e);for(const U in i){let H=i[U];if(T&&U==="value"&&H==null){e.value=e.__value="";_[U]=H;continue}if(U==="class"){var N=e.namespaceURI==="http://www.w3.org/1999/xhtml";(0,A.set_class)(e,N,H,o,t?.[P],i[P]);_[U]=H;_[P]=i[P];continue}if(U==="style"){(0,k.set_style)(e,H,t?.[C],i[C]);_[U]=H;_[C]=i[C];continue}var j=_[U];if(H===j)continue;_[U]=H;var O=U[0]+U[1];if(O==="$$")continue;if(O==="on"){const q={};const G="$$"+U;let z=U.slice(2);var D=(0,v.is_delegated)(z);if((0,v.is_capture_event)(z)){z=z.slice(0,-7);q.capture=true}if(!D&&j){if(H!=null)continue;e.removeEventListener(z,_[G],q);_[G]=null}if(H!=null){if(!D){function handle(e){_[U].call(this,e)}_[G]=(0,u.create_event)(z,e,handle,q)}else{e[`__${z}`]=H;(0,u.delegate)([z])}}else if(D){e[`__${z}`]=undefined}}else if(U==="style"){set_attribute(e,U,H)}else if(U==="autofocus"){(0,d.autofocus)(e,Boolean(H))}else if(!m&&(U==="__value"||U==="value"&&H!=null)){e.value=e.__value=H}else if(U==="selected"&&T){set_selected(e,H)}else{var L=U;if(!g){L=(0,v.normalize_attribute)(L)}var F=L==="defaultValue"||L==="defaultChecked";if(H==null&&!m&&!F){p[U]=null;if(L==="value"||L==="checked"){let W=e;const V=t===undefined;if(L==="value"){let Y=W.defaultValue;W.removeAttribute(L);W.defaultValue=Y;W.value=W.__value=V?Y:null}else{let $=W.defaultChecked;W.removeAttribute(L);W.defaultChecked=$;W.checked=V?$:false}}else{e.removeAttribute(U)}}else if(F||I.includes(L)&&(m||typeof H!=="string")){e[L]=H}else if(typeof H!=="function"){set_attribute(e,L,H,l)}}}if(y){(0,a.set_hydrating)(true)}return _}function attribute_effect(e,t,i=[],o,a=false,l=I.derived){const u=i.map(l);var d=undefined;var p={};var m=e.nodeName==="SELECT";var g=false;(0,x.block)(()=>{var i=t(...u.map(y.get));set_attributes(e,d,i,o,a);if(g&&m&&"value"in i){(0,N.select_option)(e,i.value,false)}for(let e of Object.getOwnPropertySymbols(p)){if(!i[e])(0,x.destroy_effect)(p[e])}for(let t of Object.getOwnPropertySymbols(i)){var l=i[t];if(t.description===T.ATTACHMENT_KEY&&(!d||l!==d[t])){if(p[t])(0,x.destroy_effect)(p[t]);p[t]=(0,x.branch)(()=>(0,_.attach)(e,()=>l))}}d=i});if(m){(0,N.init_select)(e,()=>d.value)}g=true}function get_attributes(e){return e.__attributes??={[M]:e.nodeName.includes("-"),[B]:e.namespaceURI===T.NAMESPACE_HTML}}var j=new Map;function get_setters(e){var t=j.get(e.nodeName);if(t)return t;j.set(e.nodeName,t=[]);var i;var o=e;var a=Element.prototype;while(a!==o){i=(0,l.get_descriptors)(o);for(var u in i){if(i[u].set){t.push(u)}}o=(0,l.get_prototype_of)(o)}return t}function check_src_in_dev_hydration(e,t,i){if(!o.DEV)return;if(t==="srcset"&&srcset_url_equal(e,i))return;if(src_url_equal(e.getAttribute(t)??"",i))return;p.hydration_attribute_changed(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(i))}function src_url_equal(e,t){if(e===t)return true;return new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function split_srcset(e){return e.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function srcset_url_equal(e,t){var i=split_srcset(e.srcset);var o=split_srcset(t);return o.length===i.length&&o.every(([e,t],o)=>t===i[o][1]&&(src_url_equal(i[o][0],e)||src_url_equal(e,i[o][0])))}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/document.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_active_element:()=>bind_active_element});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");function bind_active_element(e){(0,o.listen)(document,["focusin","focusout"],t=>{if(t&&t.type==="focusout"&&t.relatedTarget){return}e(document.activeElement)})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/input.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_checked:()=>bind_checked,bind_files:()=>bind_files,bind_group:()=>bind_group,bind_value:()=>bind_value});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");function bind_value(e,t,i=t){var d=(0,v.is_runes)();(0,l.listen_to_event_and_reset_event)(e,"input",a=>{if(o.DEV&&e.type==="checkbox"){u.bind_invalid_checkbox_value()}var l=a?e.defaultValue:e.value;l=is_numberlike_input(e)?to_number(l):l;i(l);if(d&&l!==(l=t())){var p=e.selectionStart;var m=e.selectionEnd;e.value=l??"";if(m!==null){e.selectionStart=p;e.selectionEnd=Math.min(m,e.value.length)}}});if(m.hydrating&&e.defaultValue!==e.value||(0,g.untrack)(t)==null&&e.value){i(is_numberlike_input(e)?to_number(e.value):e.value)}(0,a.render_effect)(()=>{if(o.DEV&&e.type==="checkbox"){u.bind_invalid_checkbox_value()}var i=t();if(is_numberlike_input(e)&&i===to_number(e.value)){return}if(e.type==="date"&&!i&&!e.value){return}if(i!==e.value){e.value=i??""}})}const y=new Set;function bind_group(e,t,i,o,u=o){var g=i.getAttribute("type")==="checkbox";var v=e;let _=false;if(t!==null){for(var w of t){v=v[w]??=[]}}v.push(i);(0,l.listen_to_event_and_reset_event)(i,"change",()=>{var e=i.__value;if(g){e=get_binding_group_value(v,e,i.checked)}u(e)},()=>u(g?[]:null));(0,a.render_effect)(()=>{var e=o();if(m.hydrating&&i.defaultChecked!==i.checked){_=true;return}if(g){e=e||[];i.checked=e.includes(i.__value)}else{i.checked=(0,d.is)(i.__value,e)}});(0,a.teardown)(()=>{var e=v.indexOf(i);if(e!==-1){v.splice(e,1)}});if(!y.has(v)){y.add(v);(0,p.queue_micro_task)(()=>{v.sort((e,t)=>e.compareDocumentPosition(t)===4?-1:1);y.delete(v)})}(0,p.queue_micro_task)(()=>{if(_){var e;if(g){e=get_binding_group_value(v,e,i.checked)}else{var t=v.find(e=>e.checked);e=t?.__value}u(e)}})}function bind_checked(e,t,i=t){(0,l.listen_to_event_and_reset_event)(e,"change",t=>{var o=t?e.defaultChecked:e.checked;i(o)});if(m.hydrating&&e.defaultChecked!==e.checked||(0,g.untrack)(t)==null){i(e.checked)}(0,a.render_effect)(()=>{var i=t();e.checked=Boolean(i)})}function get_binding_group_value(e,t,i){var o=new Set;for(var a=0;a<e.length;a+=1){if(e[a].checked){o.add(e[a].__value)}}if(!i){o.delete(t)}return Array.from(o)}function is_numberlike_input(e){var t=e.type;return t==="number"||t==="range"}function to_number(e){return e===""?null:+e}function bind_files(e,t,i=t){(0,l.listen_to_event_and_reset_event)(e,"change",()=>{i(e.files)});if(m.hydrating&&e.files){i(e.files)}(0,a.render_effect)(()=>{e.files=t()})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/media.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_buffered:()=>bind_buffered,bind_current_time:()=>bind_current_time,bind_ended:()=>bind_ended,bind_muted:()=>bind_muted,bind_paused:()=>bind_paused,bind_playback_rate:()=>bind_playback_rate,bind_played:()=>bind_played,bind_ready_state:()=>bind_ready_state,bind_seekable:()=>bind_seekable,bind_seeking:()=>bind_seeking,bind_volume:()=>bind_volume});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");function time_ranges_to_array(e){var t=[];for(var i=0;i<e.length;i+=1){t.push({start:e.start(i),end:e.end(i)})}return t}function bind_current_time(e,t,i=t){var a;var l;var callback=()=>{cancelAnimationFrame(a);if(!e.paused){a=requestAnimationFrame(callback)}var t=e.currentTime;if(l!==t){i(l=t)}};a=requestAnimationFrame(callback);e.addEventListener("timeupdate",callback);(0,o.render_effect)(()=>{var i=Number(t());if(l!==i&&!isNaN(i)){e.currentTime=l=i}});(0,o.teardown)(()=>{cancelAnimationFrame(a);e.removeEventListener("timeupdate",callback)})}function bind_buffered(e,t){var i;(0,a.listen)(e,["loadedmetadata","progress","timeupdate","seeking"],()=>{var o=e.buffered;if(!i||i.length!==o.length||i.some((e,t)=>o.start(t)!==e.start||o.end(t)!==e.end)){i=time_ranges_to_array(o);t(i)}})}function bind_seekable(e,t){(0,a.listen)(e,["loadedmetadata"],()=>t(time_ranges_to_array(e.seekable)))}function bind_played(e,t){(0,a.listen)(e,["timeupdate"],()=>t(time_ranges_to_array(e.played)))}function bind_seeking(e,t){(0,a.listen)(e,["seeking","seeked"],()=>t(e.seeking))}function bind_ended(e,t){(0,a.listen)(e,["timeupdate","ended"],()=>t(e.ended))}function bind_ready_state(e,t){(0,a.listen)(e,["loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","emptied"],()=>t(e.readyState))}function bind_playback_rate(e,t,i=t){(0,o.effect)(()=>{var i=Number(t());if(i!==e.playbackRate&&!isNaN(i)){e.playbackRate=i}});(0,o.effect)(()=>{(0,a.listen)(e,["ratechange"],()=>{i(e.playbackRate)})})}function bind_paused(e,t,i=t){var l=t();var update=()=>{if(l!==e.paused){i(l=e.paused)}};(0,a.listen)(e,["play","pause","canplay"],update,l==null);(0,o.effect)(()=>{if((l=!!t())!==e.paused){if(l){e.pause()}else{e.play().catch(()=>{i(l=true)})}}})}function bind_volume(e,t,i=t){var callback=()=>{i(e.volume)};if(t()==null){callback()}(0,a.listen)(e,["volumechange"],callback,false);(0,o.render_effect)(()=>{var i=Number(t());if(i!==e.volume&&!isNaN(i)){e.volume=i}})}function bind_muted(e,t,i=t){var callback=()=>{i(e.muted)};if(t()==null){callback()}(0,a.listen)(e,["volumechange"],callback,false);(0,o.render_effect)(()=>{var i=!!t();if(e.muted!==i)e.muted=i})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/navigator.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_online:()=>bind_online});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");function bind_online(e){(0,o.listen)(window,["online","offline"],()=>{e(navigator.onLine)})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/props.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_prop:()=>bind_prop});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");function bind_prop(e,t,i){var l=(0,a.get_descriptor)(e,t);if(l&&l.set){e[t]=i;(0,o.teardown)(()=>{e[t]=null})}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/select.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_select_value:()=>bind_select_value,init_select:()=>init_select,select_option:()=>select_option});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");function select_option(e,t,i){if(e.multiple){if(t==undefined){return}if(!(0,d.is_array)(t)){return p.select_multiple_invalid_value()}for(var o of e.options){o.selected=t.includes(get_option_value(o))}return}for(o of e.options){var a=get_option_value(o);if((0,u.is)(a,t)){o.selected=true;return}}if(!i||t!==undefined){e.selectedIndex=-1}}function init_select(e,t){let i=true;(0,o.effect)(()=>{if(t){select_option(e,(0,l.untrack)(t),i)}i=false;var o=new MutationObserver(()=>{var t=e.__value;select_option(e,t)});o.observe(e,{childList:true,subtree:true,attributes:true,attributeFilter:["value"]});return()=>{o.disconnect()}})}function bind_select_value(e,t,i=t){var l=true;(0,a.listen_to_event_and_reset_event)(e,"change",t=>{var o=t?"[selected]":":checked";var a;if(e.multiple){a=[].map.call(e.querySelectorAll(o),get_option_value)}else{var l=e.querySelector(o)??e.querySelector("option:not([disabled])");a=l&&get_option_value(l)}i(a)});(0,o.effect)(()=>{var o=t();select_option(e,o,l);if(l&&o===undefined){var a=e.querySelector(":checked");if(a!==null){o=get_option_value(a);i(o)}}e.__value=o;l=false});init_select(e)}function get_option_value(e){if("__value"in e){return e.__value}else{return e.value}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{listen:()=>listen,listen_to_event_and_reset_event:()=>listen_to_event_and_reset_event,without_reactive_context:()=>without_reactive_context});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/misc.js");function listen(e,t,i,a=true){if(a){i()}for(var l of t){e.addEventListener(l,i)}(0,o.teardown)(()=>{for(var o of t){e.removeEventListener(o,i)}})}function without_reactive_context(e){var t=a.active_reaction;var i=a.active_effect;(0,a.set_active_reaction)(null);(0,a.set_active_effect)(null);try{return e()}finally{(0,a.set_active_reaction)(t);(0,a.set_active_effect)(i)}}function listen_to_event_and_reset_event(e,t,i,o=i){e.addEventListener(t,()=>without_reactive_context(i));const a=e.__on_r;if(a){e.__on_r=()=>{a();o(true)}}else{e.__on_r=()=>o(true)}(0,l.add_form_reset_listener)()}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/size.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_element_size:()=>bind_element_size,bind_resize_observer:()=>bind_resize_observer});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");class ResizeObserverSingleton{#Ye=new WeakMap;#Ct;#_;static entries=new WeakMap;constructor(e){this.#_=e}observe(e,t){var i=this.#Ye.get(e)||new Set;i.add(t);this.#Ye.set(e,i);this.#Mt().observe(e,this.#_);return()=>{var i=this.#Ye.get(e);i.delete(t);if(i.size===0){this.#Ye.delete(e);this.#Ct.unobserve(e)}}}#Mt(){return this.#Ct??(this.#Ct=new ResizeObserver(e=>{for(var t of e){ResizeObserverSingleton.entries.set(t.target,t);for(var i of this.#Ye.get(t.target)||[]){i(t)}}}))}}var l=new ResizeObserverSingleton({box:"content-box"});var u=new ResizeObserverSingleton({box:"border-box"});var d=new ResizeObserverSingleton({box:"device-pixel-content-box"});function bind_resize_observer(e,t,i){var a=t==="contentRect"||t==="contentBoxSize"?l:t==="borderBoxSize"?u:d;var p=a.observe(e,e=>i(e[t]));(0,o.teardown)(p)}function bind_element_size(e,t,i){var l=u.observe(e,()=>i(e[t]));(0,o.effect)(()=>{(0,a.untrack)(()=>i(e[t]));return l})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/this.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_this:()=>bind_this});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");function is_bound_this(e,t){return e===t||e?.[o.STATE_SYMBOL]===t}function bind_this(e={},t,i,o){(0,a.effect)(()=>{var d;var p;(0,a.render_effect)(()=>{d=p;p=o?.()||[];(0,l.untrack)(()=>{if(e!==i(...p)){t(e,...p);if(d&&is_bound_this(i(...d),e)){t(null,...d)}}})});return()=>{(0,u.queue_micro_task)(()=>{if(p&&is_bound_this(i(...p),e)){t(null,...p)}})}});return e}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/universal.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_content_editable:()=>bind_content_editable,bind_focused:()=>bind_focused,bind_property:()=>bind_property});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");function bind_content_editable(e,t,i,a=i){t.addEventListener("input",()=>{a(t[e])});(0,o.render_effect)(()=>{var o=i();if(t[e]!==o){if(o==null){var l=t[e];a(l)}else{t[e]=o+""}}})}function bind_property(e,t,i,a,l){var handler=()=>{a(i[e])};i.addEventListener(t,handler);if(l){(0,o.render_effect)(()=>{i[e]=l()})}else{handler()}if(i===document.body||i===window||i===document){(0,o.teardown)(()=>{i.removeEventListener(t,handler)})}}function bind_focused(e,t){(0,a.listen)(e,["focus","blur"],()=>{t(e===document.activeElement)})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/window.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_window_scroll:()=>bind_window_scroll,bind_window_size:()=>bind_window_size});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");function bind_window_scroll(e,t,i=t){var l=e==="x";var target_handler=()=>(0,a.without_reactive_context)(()=>{u=true;clearTimeout(d);d=setTimeout(clear,100);i(window[l?"scrollX":"scrollY"])});addEventListener("scroll",target_handler,{passive:true});var u=false;var d;var clear=()=>{u=false};var p=true;(0,o.render_effect)(()=>{var e=t();if(p){p=false}else if(!u&&e!=null){u=true;clearTimeout(d);if(l){scrollTo(e,window.scrollY)}else{scrollTo(window.scrollX,e)}d=setTimeout(clear,100)}});(0,o.effect)(target_handler);(0,o.teardown)(()=>{removeEventListener("scroll",target_handler)})}function bind_window_size(e,t){(0,a.listen)(window,["resize"],()=>(0,a.without_reactive_context)(()=>t(window[e])))}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/class.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{set_class:()=>set_class});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/attributes.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");function set_class(e,t,i,l,u,d){var p=e.__className;if(a.hydrating||p!==i||p===undefined){var m=(0,o.to_class)(i,l,d);if(!a.hydrating||m!==e.getAttribute("class")){if(m==null){e.removeAttribute("class")}else if(t){e.className=m}else{e.setAttribute("class",m)}}e.__className=i}else if(d&&u!==d){for(var g in d){var v=!!d[g];if(u==null||v!==!!u[g]){e.classList.toggle(g,v)}}}return d}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/custom-element.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{create_custom_element:()=>create_custom_element});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/legacy/legacy-client.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");let d;if(typeof HTMLElement==="function"){d=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=false;$$d={};$$r=false;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(e,t,i){super();this.$$ctor=e;this.$$s=t;if(i){this.attachShadow({mode:"open"})}}addEventListener(e,t,i){this.$$l[e]=this.$$l[e]||[];this.$$l[e].push(t);if(this.$$c){const i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,i)}removeEventListener(e,t,i){super.removeEventListener(e,t,i);if(this.$$c){const e=this.$$l_u.get(t);if(e){e();this.$$l_u.delete(t)}}}async connectedCallback(){this.$$cn=true;if(!this.$$c){await Promise.resolve();if(!this.$$cn||this.$$c){return}function create_slot(e){return t=>{const i=document.createElement("slot");if(e!=="default")i.name=e;(0,l.append)(t,i)}}const e={};const t=get_custom_elements_slots(this);for(const i of this.$$s){if(i in t){if(i==="default"&&!this.$$d.children){this.$$d.children=create_slot(i);e.default=true}else{e[i]=create_slot(i)}}}for(const d of this.attributes){const p=this.$$g_p(d.name);if(!(p in this.$$d)){this.$$d[p]=get_custom_element_value(p,d.value,this.$$p_d,"toProp")}}for(const m in this.$$p_d){if(!(m in this.$$d)&&this[m]!==undefined){this.$$d[m]=this[m];delete this[m]}}this.$$c=(0,o.createClassComponent)({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$host:this}});this.$$me=(0,a.effect_root)(()=>{(0,a.render_effect)(()=>{this.$$r=true;for(const e of(0,u.object_keys)(this.$$c)){if(!this.$$p_d[e]?.reflect)continue;this.$$d[e]=this.$$c[e];const t=get_custom_element_value(e,this.$$d[e],this.$$p_d,"toAttribute");if(t==null){this.removeAttribute(this.$$p_d[e].attribute||e)}else{this.setAttribute(this.$$p_d[e].attribute||e,t)}}this.$$r=false})});for(const g in this.$$l){for(const v of this.$$l[g]){const y=this.$$c.$on(g,v);this.$$l_u.set(v,y)}}this.$$l={}}}attributeChangedCallback(e,t,i){if(this.$$r)return;e=this.$$g_p(e);this.$$d[e]=get_custom_element_value(e,i,this.$$p_d,"toProp");this.$$c?.$set({[e]:this.$$d[e]})}disconnectedCallback(){this.$$cn=false;Promise.resolve().then(()=>{if(!this.$$cn&&this.$$c){this.$$c.$destroy();this.$$me();this.$$c=undefined}})}$$g_p(e){return(0,u.object_keys)(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}}}function get_custom_element_value(e,t,i,o){const a=i[e]?.type;t=a==="Boolean"&&typeof t!=="boolean"?t!=null:t;if(!o||!i[e]){return t}else if(o==="toAttribute"){switch(a){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}}else{switch(a){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}}function get_custom_elements_slots(e){const t={};e.childNodes.forEach(e=>{t[e.slot||"default"]=true});return t}function create_custom_element(e,t,i,o,a,l){let p=class extends d{constructor(){super(e,i,a);this.$$p_d=t}static get observedAttributes(){return(0,u.object_keys)(t).map(e=>(t[e].attribute||e).toLowerCase())}};(0,u.object_keys)(t).forEach(e=>{(0,u.define_property)(p.prototype,e,{get(){return this.$$c&&e in this.$$c?this.$$c[e]:this.$$d[e]},set(i){i=get_custom_element_value(e,i,t);this.$$d[e]=i;var o=this.$$c;if(o){var a=(0,u.get_descriptor)(o,e)?.get;if(a){o[e]=i}else{o.$set({[e]:i})}}}})});o.forEach(e=>{(0,u.define_property)(p.prototype,e,{get(){return this.$$c?.[e]}})});if(l){p=l(p)}e.element=p;return p}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/events.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{all_registered_events:()=>v,apply:()=>apply,create_event:()=>create_event,delegate:()=>delegate,event:()=>event,handle_event_propagation:()=>handle_event_propagation,on:()=>on,replay_events:()=>replay_events,root_event_handles:()=>y});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");const v=new Set;const y=new Set;function replay_events(e){if(!l.hydrating)return;e.removeAttribute("onload");e.removeAttribute("onerror");const t=e.__e;if(t!==undefined){e.__e=undefined;queueMicrotask(()=>{if(e.isConnected){e.dispatchEvent(t)}})}}function create_event(e,t,i,o={}){function target_handler(e){if(!o.capture){handle_event_propagation.call(t,e)}if(!e.cancelBubble){return(0,g.without_reactive_context)(()=>i?.call(this,e))}}if(e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"){(0,u.queue_micro_task)(()=>{t.addEventListener(e,target_handler,o)})}else{t.addEventListener(e,target_handler,o)}return target_handler}function on(e,t,i,o={}){var a=create_event(t,e,i,o);return()=>{e.removeEventListener(t,a,o)}}function event(e,t,i,a,l){var u={capture:a,passive:l};var d=create_event(e,t,i,u);if(t===document.body||t===window||t===document||t instanceof HTMLMediaElement){(0,o.teardown)(()=>{t.removeEventListener(e,d,u)})}}function delegate(e){for(var t=0;t<e.length;t++){v.add(e[t])}for(var i of y){i(e)}}function handle_event_propagation(e){var t=this;var i=t.ownerDocument;var o=e.type;var l=e.composedPath?.()||[];var u=l[0]||e.target;var d=0;var p=e.__root;if(p){var g=l.indexOf(p);if(g!==-1&&(t===document||t===window)){e.__root=t;return}var v=l.indexOf(t);if(v===-1){return}if(g<=v){d=g}}u=l[d]||e.target;if(u===t)return;(0,a.define_property)(e,"currentTarget",{configurable:true,get(){return u||i}});var y=m.active_reaction;var _=m.active_effect;(0,m.set_active_reaction)(null);(0,m.set_active_effect)(null);try{var w;var A=[];while(u!==null){var k=u.assignedSlot||u.parentNode||u.host||null;try{var T=u["__"+o];if(T!=null&&(!u.disabled||e.target===u)){if((0,a.is_array)(T)){var[x,...I]=T;x.apply(u,[e,...I])}else{T.call(u,e)}}}catch(e){if(w){A.push(e)}else{w=e}}if(e.cancelBubble||k===t||k===null){break}u=k}if(w){for(let e of A){queueMicrotask(()=>{throw e})}throw w}}finally{e.__root=t;delete e.currentTarget;(0,m.set_active_reaction)(y);(0,m.set_active_effect)(_)}}function apply(e,t,i,o,a,l=false,u=false){let m;let g;try{m=e()}catch(e){g=e}if(typeof m!=="function"&&(l||m!=null||g)){const e=o?.[d.FILENAME];const t=a?` at ${e}:${a[0]}:${a[1]}`:` in ${e}`;const l=i[0]?.eventPhase<Event.BUBBLING_PHASE?"capture":"";const m=i[0]?.type+l;const v=`\`${m}\` handler${t}`;const y=u?"remove the trailing `()`":"add a leading `() =>`";p.event_handler_invalid(v,y);if(g){throw g}}m?.apply(t,i)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/misc.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{add_form_reset_listener:()=>add_form_reset_listener,autofocus:()=>autofocus,remove_textarea_child:()=>remove_textarea_child});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");function autofocus(e,t){if(t){const t=document.body;e.autofocus=true;(0,l.queue_micro_task)(()=>{if(document.activeElement===t){e.focus()}})}}function remove_textarea_child(e){if(o.hydrating&&(0,a.get_first_child)(e)!==null){(0,a.clear_text_content)(e)}}let u=false;function add_form_reset_listener(){if(!u){u=true;document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented){for(const t of e.target.elements){t.__on_r?.()}}})},{capture:true})}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/style.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{set_style:()=>set_style});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/attributes.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");function update_styles(e,t={},i,o){for(var a in i){var l=i[a];if(t[a]!==l){if(i[a]==null){e.style.removeProperty(a)}else{e.style.setProperty(a,l,o)}}}}function set_style(e,t,i,l){var u=e.__style;if(a.hydrating||u!==t){var d=(0,o.to_style)(t,l);if(!a.hydrating||d!==e.getAttribute("style")){if(d==null){e.removeAttribute("style")}else{e.style.cssText=d}}e.__style=t}else if(l){if(Array.isArray(l)){update_styles(e,i?.[0],l[0]);update_styles(e,i?.[1],l[1],"important")}else{update_styles(e,i,l)}}return l}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/transitions.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{animation:()=>animation,transition:()=>transition});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/loop.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/each.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/shared.js");function dispatch_event(e,t){(0,y.without_reactive_context)(()=>{e.dispatchEvent(new CustomEvent(t))})}function css_property_to_camelcase(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");if(t.length===1)return t[0];return t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function css_to_keyframe(e){const t={};const i=e.split(";");for(const e of i){const[i,o]=e.split(":");if(!i||o===undefined)break;const a=css_property_to_camelcase(i.trim());t[a]=o.trim()}return t}const linear=e=>e;function animation(e,t,i){var o=p.current_each_item;var a;var l;var u;var d=null;o.a??={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){u?.abort();l=this.element.getBoundingClientRect();if(a.left!==l.left||a.right!==l.right||a.top!==l.top||a.bottom!==l.bottom){const e=t()(this.element,{from:a,to:l},i?.());u=animate(this.element,e,undefined,1,()=>{u?.abort();u=undefined})}},fix(){if(e.getAnimations().length)return;var{position:t,width:i,height:o}=getComputedStyle(e);if(t!=="absolute"&&t!=="fixed"){var l=e.style;d={position:l.position,width:l.width,height:l.height,transform:l.transform};l.position="absolute";l.width=i;l.height=o;var u=e.getBoundingClientRect();if(a.left!==u.left||a.top!==u.top){var p=`translate(${a.left-u.left}px, ${a.top-u.top}px)`;l.transform=l.transform?`${l.transform} ${p}`:p}}},unfix(){if(d){var t=e.style;t.position=d.position;t.width=d.width;t.height=d.height;t.transform=d.transform}}};o.a.element=e}function transition(e,t,i,o){var u=(e&m.TRANSITION_IN)!==0;var p=(e&m.TRANSITION_OUT)!==0;var v=u&&p;var y=(e&m.TRANSITION_GLOBAL)!==0;var _=v?"both":u?"in":"out";var w;var A=t.inert;var k=t.style.overflow;var T;var x;function get_options(){var e=l.active_reaction;var a=l.active_effect;(0,l.set_active_reaction)(null);(0,l.set_active_effect)(null);try{return w??=i()(t,o?.()??{},{direction:_})}finally{(0,l.set_active_reaction)(e);(0,l.set_active_effect)(a)}}var I={is_global:y,in(){t.inert=A;if(!u){x?.abort();x?.reset?.();return}if(!p){T?.abort()}dispatch_event(t,"introstart");T=animate(t,get_options(),x,1,()=>{dispatch_event(t,"introend");T?.abort();T=w=undefined;t.style.overflow=k})},out(e){if(!p){e?.();w=undefined;return}t.inert=true;dispatch_event(t,"outrostart");x=animate(t,get_options(),T,0,()=>{dispatch_event(t,"outroend");e?.()})},stop:()=>{T?.abort();x?.abort()}};var N=l.active_effect;(N.transitions??=[]).push(I);if(u&&d.should_intro){var P=y;if(!P){var C=N.parent;while(C&&(C.f&g.EFFECT_TRANSPARENT)!==0){while(C=C.parent){if((C.f&g.BLOCK_EFFECT)!==0)break}}P=!C||(C.f&g.EFFECT_RAN)!==0}if(P){(0,a.effect)(()=>{(0,l.untrack)(()=>I.in())})}}}function animate(e,t,i,a,l){var d=a===1;if((0,o.is_function)(t)){var p;var m=false;(0,v.queue_micro_task)(()=>{if(m)return;var o=t({direction:d?"in":"out"});p=animate(e,o,i,a,l)});return{abort:()=>{m=true;p?.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}i?.deactivate();if(!t?.duration){l();return{abort:o.noop,deactivate:o.noop,reset:o.noop,t:()=>a}}const{delay:g=0,css:y,tick:_,easing:w=linear}=t;var A=[];if(d&&i===undefined){if(_){_(0,1)}if(y){var k=css_to_keyframe(y(0,1));A.push(k,k)}}var get_t=()=>1-a;var T=e.animate(A,{duration:g,fill:"forwards"});T.onfinish=()=>{T.cancel();var o=i?.t()??1-a;i?.abort();var d=a-o;var p=t.duration*Math.abs(d);var m=[];if(p>0){var g=false;if(y){var v=Math.ceil(p/(1e3/60));for(var A=0;A<=v;A+=1){var k=o+d*w(A/v);var x=css_to_keyframe(y(k,1-k));m.push(x);g||=x.overflow==="hidden"}}if(g){e.style.overflow="hidden"}get_t=()=>{var e=T.currentTime;return o+d*w(e/p)};if(_){(0,u.loop)(()=>{if(T.playState!=="running")return false;var e=get_t();_(e,1-e);return true})}}T=e.animate(m,{duration:p,fill:"forwards"});T.onfinish=()=>{get_t=()=>a;_?.(a,1-a);l()}};return{abort:()=>{if(T){T.cancel();T.effect=null;T.onfinish=o.noop}},deactivate:()=>{l=o.noop},reset:()=>{if(a===0){_?.(1,0)}},t:()=>get_t()}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hydrate_next:()=>hydrate_next,hydrate_node:()=>d,hydrate_template:()=>hydrate_template,hydrating:()=>u,next:()=>next,read_hydration_instruction:()=>read_hydration_instruction,remove_nodes:()=>remove_nodes,reset:()=>reset,set_hydrate_node:()=>set_hydrate_node,set_hydrating:()=>set_hydrating});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");let u=false;function set_hydrating(e){u=e}let d;function set_hydrate_node(e){if(e===null){a.hydration_mismatch();throw o.HYDRATION_ERROR}return d=e}function hydrate_next(){return set_hydrate_node((0,l.get_next_sibling)(d))}function reset(e){if(!u)return;if((0,l.get_next_sibling)(d)!==null){a.hydration_mismatch();throw o.HYDRATION_ERROR}d=e}function hydrate_template(e){if(u){d=e.content}}function next(e=1){if(u){var t=e;var i=d;while(t--){i=(0,l.get_next_sibling)(i)}d=i}}function remove_nodes(){var e=0;var t=d;while(true){if(t.nodeType===8){var i=t.data;if(i===o.HYDRATION_END){if(e===0)return t;e-=1}else if(i===o.HYDRATION_START||i===o.HYDRATION_START_ELSE){e+=1}}var a=(0,l.get_next_sibling)(t);t.remove();t=a}}function read_hydration_instruction(e){if(!e||e.nodeType!==8){a.hydration_mismatch();throw o.HYDRATION_ERROR}return e.data}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/event-modifiers.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{nonpassive:()=>nonpassive,once:()=>once,passive:()=>passive,preventDefault:()=>preventDefault,self:()=>self,stopImmediatePropagation:()=>stopImmediatePropagation,stopPropagation:()=>stopPropagation,trusted:()=>trusted});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/events.js");function trusted(e){return function(...t){var i=t[0];if(i.isTrusted){e?.apply(this,t)}}}function self(e){return function(...t){var i=t[0];if(i.target===this){e?.apply(this,t)}}}function stopPropagation(e){return function(...t){var i=t[0];i.stopPropagation();return e?.apply(this,t)}}function once(e){var t=false;return function(...i){if(t)return;t=true;return e?.apply(this,i)}}function stopImmediatePropagation(e){return function(...t){var i=t[0];i.stopImmediatePropagation();return e?.apply(this,t)}}function preventDefault(e){return function(...t){var i=t[0];i.preventDefault();return e?.apply(this,t)}}function passive(e,[t,i]){(0,a.user_pre_effect)(()=>(0,l.on)(e,t,i()??o.noop,{passive:true}))}function nonpassive(e,[t,i]){(0,a.user_pre_effect)(()=>(0,l.on)(e,t,i()??o.noop,{passive:false}))}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/lifecycle.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{init:()=>init});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");function init(e=false){const t=a.component_context;const i=t.l.u;if(!i)return;let props=()=>(0,d.deep_read_state)(t.s);if(e){let e=0;let i={};const o=(0,l.derived)(()=>{let o=false;const a=t.s;for(const e in a){if(a[e]!==i[e]){i[e]=a[e];o=true}}if(o)e++;return e});props=()=>(0,d.get)(o)}if(i.b.length){(0,u.user_pre_effect)(()=>{observe_all(t,props);(0,o.run_all)(i.b)})}(0,u.user_effect)(()=>{const e=(0,d.untrack)(()=>i.m.map(o.run));return()=>{for(const t of e){if(typeof t==="function"){t()}}}});if(i.a.length){(0,u.user_effect)(()=>{observe_all(t,props);(0,o.run_all)(i.a)})}}function observe_all(e,t){if(e.l.s){for(const t of e.l.s)(0,d.get)(t)}t()}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/misc.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{add_legacy_event_listener:()=>add_legacy_event_listener,bubble_event:()=>bubble_event,reactive_import:()=>reactive_import,update_legacy_props:()=>update_legacy_props});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");function reactive_import(e){var t=(0,o.source)(0);return function(){if(arguments.length===1){(0,o.set)(t,(0,a.get)(t)+1);return arguments[0]}else{(0,a.get)(t);return e()}}}function bubble_event(e,t){var i=e.$$events?.[t.type];var o=(0,l.is_array)(i)?i.slice():i==null?[]:[i];for(var a of o){a.call(this,t)}}function add_legacy_event_listener(e,t,i){e.$$events||={};e.$$events[t]||=[];e.$$events[t].push(i)}function update_legacy_props(e){for(var t in e){if(t in this){this[t]=e[t]}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{$document:()=>p,$window:()=>d,child:()=>child,clear_text_content:()=>clear_text_content,create_comment:()=>create_comment,create_element:()=>create_element,create_fragment:()=>create_fragment,create_text:()=>create_text,first_child:()=>first_child,get_first_child:()=>get_first_child,get_next_sibling:()=>get_next_sibling,init_operations:()=>init_operations,is_firefox:()=>m,set_attribute:()=>set_attribute,sibling:()=>sibling});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var a=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/equality.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var d;var p;var m;var g;var v;function init_operations(){if(d!==undefined){return}d=window;p=document;m=/Firefox/.test(navigator.userAgent);var e=Element.prototype;var t=Node.prototype;var i=Text.prototype;g=(0,u.get_descriptor)(t,"firstChild").get;v=(0,u.get_descriptor)(t,"nextSibling").get;if((0,u.is_extensible)(e)){e.__click=undefined;e.__className=undefined;e.__attributes=null;e.__style=undefined;e.__e=undefined}if((0,u.is_extensible)(i)){i.__t=undefined}if(a.DEV){e.__svelte_meta=null;(0,l.init_array_prototype_warnings)()}}function create_text(e=""){return document.createTextNode(e)}function get_first_child(e){return g.call(e)}function get_next_sibling(e){return v.call(e)}function child(e,t){if(!o.hydrating){return get_first_child(e)}var i=get_first_child(o.hydrate_node);if(i===null){i=o.hydrate_node.appendChild(create_text())}else if(t&&i.nodeType!==3){var a=create_text();i?.before(a);(0,o.set_hydrate_node)(a);return a}(0,o.set_hydrate_node)(i);return i}function first_child(e,t){if(!o.hydrating){var i=get_first_child(e);if(i instanceof Comment&&i.data==="")return get_next_sibling(i);return i}if(t&&o.hydrate_node?.nodeType!==3){var a=create_text();o.hydrate_node?.before(a);(0,o.set_hydrate_node)(a);return a}return o.hydrate_node}function sibling(e,t=1,i=false){let a=o.hydrating?o.hydrate_node:e;var l;while(t--){l=a;a=get_next_sibling(a)}if(!o.hydrating){return a}var u=a?.nodeType;if(i&&u!==3){var d=create_text();if(a===null){l?.after(d)}else{a.before(d)}(0,o.set_hydrate_node)(d);return d}(0,o.set_hydrate_node)(a);return a}function clear_text_content(e){e.textContent=""}function create_element(e,t,i){let o=i?{is:i}:undefined;if(t){return document.createElementNS(t,e,o)}return document.createElement(e,o)}function create_fragment(){return document.createDocumentFragment()}function create_comment(e=""){return document.createComment(e)}function set_attribute(e,t,i=""){if(t.startsWith("xlink:")){e.setAttributeNS("http://www.w3.org/1999/xlink",t,i);return}return e.setAttribute(t,i)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/reconciler.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{create_fragment_from_html:()=>create_fragment_from_html});function create_fragment_from_html(e){var t=document.createElement("template");t.innerHTML=e.replaceAll("<!>","\x3c!----\x3e");return t.content}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{flush_tasks:()=>flush_tasks,queue_idle_task:()=>queue_idle_task,queue_micro_task:()=>queue_micro_task});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");const a=typeof requestIdleCallback==="undefined"?e=>setTimeout(e,1):requestIdleCallback;let l=[];let u=[];function run_micro_tasks(){var e=l;l=[];(0,o.run_all)(e)}function run_idle_tasks(){var e=u;u=[];(0,o.run_all)(e)}function queue_micro_task(e){if(l.length===0){queueMicrotask(run_micro_tasks)}l.push(e)}function queue_idle_task(e){if(u.length===0){a(run_idle_tasks)}u.push(e)}function flush_tasks(){if(l.length>0){run_micro_tasks()}if(u.length>0){run_idle_tasks()}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{append:()=>append,assign_nodes:()=>assign_nodes,comment:()=>comment,from_html:()=>from_html,from_mathml:()=>from_mathml,from_svg:()=>from_svg,from_tree:()=>from_tree,props_id:()=>props_id,text:()=>text,with_script:()=>with_script});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/reconciler.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");function assign_nodes(e,t){var i=u.active_effect;if(i.nodes_start===null){i.nodes_start=e;i.nodes_end=t}}function from_html(e,t){var i=(t&d.TEMPLATE_FRAGMENT)!==0;var u=(t&d.TEMPLATE_USE_IMPORT_NODE)!==0;var p;var m=!e.startsWith("<!>");return()=>{if(o.hydrating){assign_nodes(o.hydrate_node,null);return o.hydrate_node}if(p===undefined){p=(0,l.create_fragment_from_html)(m?e:"<!>"+e);if(!i)p=(0,a.get_first_child)(p)}var t=u||a.is_firefox?document.importNode(p,true):p.cloneNode(true);if(i){var d=(0,a.get_first_child)(t);var g=t.lastChild;assign_nodes(d,g)}else{assign_nodes(t,t)}return t}}function from_namespace(e,t,i="svg"){var u=!e.startsWith("<!>");var p=(t&d.TEMPLATE_FRAGMENT)!==0;var m=`<${i}>${u?e:"<!>"+e}</${i}>`;var g;return()=>{if(o.hydrating){assign_nodes(o.hydrate_node,null);return o.hydrate_node}if(!g){var e=(0,l.create_fragment_from_html)(m);var t=(0,a.get_first_child)(e);if(p){g=document.createDocumentFragment();while((0,a.get_first_child)(t)){g.appendChild((0,a.get_first_child)(t))}}else{g=(0,a.get_first_child)(t)}}var i=g.cloneNode(true);if(p){var u=(0,a.get_first_child)(i);var d=i.lastChild;assign_nodes(u,d)}else{assign_nodes(i,i)}return i}}function from_svg(e,t){return from_namespace(e,t,"svg")}function from_mathml(e,t){return from_namespace(e,t,"math")}function fragment_from_tree(e,t){var i=(0,a.create_fragment)();for(var o of e){if(typeof o==="string"){i.append((0,a.create_text)(o));continue}if(o===undefined||o[0][0]==="/"){i.append((0,a.create_comment)(o?o[0].slice(3):""));continue}const[e,m,...g]=o;const v=e==="svg"?d.NAMESPACE_SVG:e==="math"?d.NAMESPACE_MATHML:t;var l=(0,a.create_element)(e,v,m?.is);for(var u in m){(0,a.set_attribute)(l,u,m[u])}if(g.length>0){var p=l.tagName==="TEMPLATE"?l.content:l;p.append(fragment_from_tree(g,l.tagName==="foreignObject"?undefined:v))}i.append(l)}return i}function from_tree(e,t){var i=(t&d.TEMPLATE_FRAGMENT)!==0;var l=(t&d.TEMPLATE_USE_IMPORT_NODE)!==0;var u;return()=>{if(o.hydrating){assign_nodes(o.hydrate_node,null);return o.hydrate_node}if(u===undefined){const o=(t&d.TEMPLATE_USE_SVG)!==0?d.NAMESPACE_SVG:(t&d.TEMPLATE_USE_MATHML)!==0?d.NAMESPACE_MATHML:undefined;u=fragment_from_tree(e,o);if(!i)u=(0,a.get_first_child)(u)}var p=l||a.is_firefox?document.importNode(u,true):u.cloneNode(true);if(i){var m=(0,a.get_first_child)(p);var g=p.lastChild;assign_nodes(m,g)}else{assign_nodes(p,p)}return p}}function with_script(e){return()=>run_scripts(e())}function run_scripts(e){if(o.hydrating)return e;const t=e.nodeType===11;const i=e.tagName==="SCRIPT"?[e]:e.querySelectorAll("script");const a=u.active_effect;for(const o of i){const i=document.createElement("script");for(var l of o.attributes){i.setAttribute(l.name,l.value)}i.textContent=o.textContent;if(t?e.firstChild===o:e===o){a.nodes_start=i}if(t?e.lastChild===o:e===o){a.nodes_end=i}o.replaceWith(i)}return e}function text(e=""){if(!o.hydrating){var t=(0,a.create_text)(e+"");assign_nodes(t,t);return t}var i=o.hydrate_node;if(i.nodeType!==3){i.before(i=(0,a.create_text)());(0,o.set_hydrate_node)(i)}assign_nodes(i,i);return i}function comment(){if(o.hydrating){assign_nodes(o.hydrate_node,null);return o.hydrate_node}var e=document.createDocumentFragment();var t=document.createComment("");var i=(0,a.create_text)();e.append(t,i);assign_nodes(t,i);return e}function append(e,t){if(o.hydrating){u.active_effect.nodes_end=o.hydrate_node;(0,o.hydrate_next)();return}if(e===null){return}e.before(t)}function props_id(){if(o.hydrating&&o.hydrate_node&&o.hydrate_node.nodeType===8&&o.hydrate_node.textContent?.startsWith(`#`)){const e=o.hydrate_node.textContent.substring(1);(0,o.hydrate_next)();return e}(window.__svelte??={}).uid??=1;return`c${window.__svelte.uid++}`}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/error-handling.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{handle_error:()=>handle_error,invoke_error_boundary:()=>invoke_error_boundary});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");function handle_error(e){var t=p.active_effect;if(o.DEV&&e instanceof Error){adjust_error(e,t)}if((t.f&u.EFFECT_RAN)===0){if((t.f&u.BOUNDARY_EFFECT)===0){throw e}t.fn(e)}else{invoke_error_boundary(e,t)}}function invoke_error_boundary(e,t){while(t!==null){if((t.f&u.BOUNDARY_EFFECT)!==0){try{t.fn(e);return}catch{}}t=t.parent}throw e}const m=new WeakSet;function adjust_error(e,t){if(m.has(e))return;m.add(e);const i=(0,d.get_descriptor)(e,"message");if(i&&!i.configurable)return;var o=l.is_firefox?"  ":"\t";var u=`\n${o}in ${t.fn?.name||"<unknown>"}`;var p=t.ctx;while(p!==null){u+=`\n${o}in ${p.function?.[a.FILENAME].split("/").pop()}`;p=p.p}(0,d.define_property)(e,"message",{value:e.message+`\n${u}\n`});if(e.stack){(0,d.define_property)(e,"stack",{value:e.stack.split("\n").filter(e=>!e.includes("svelte/src/internal")).join("\n")})}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{bind_invalid_checkbox_value:()=>bind_invalid_checkbox_value,bind_invalid_export:()=>bind_invalid_export,bind_not_bindable:()=>bind_not_bindable,component_api_changed:()=>component_api_changed,component_api_invalid_new:()=>component_api_invalid_new,derived_references_self:()=>derived_references_self,each_key_duplicate:()=>each_key_duplicate,effect_in_teardown:()=>effect_in_teardown,effect_in_unowned_derived:()=>effect_in_unowned_derived,effect_orphan:()=>effect_orphan,effect_update_depth_exceeded:()=>effect_update_depth_exceeded,hydration_failed:()=>hydration_failed,invalid_snippet:()=>invalid_snippet,lifecycle_legacy_only:()=>lifecycle_legacy_only,props_invalid_value:()=>props_invalid_value,props_rest_readonly:()=>props_rest_readonly,rune_outside_svelte:()=>rune_outside_svelte,state_descriptors_fixed:()=>state_descriptors_fixed,state_prototype_fixed:()=>state_prototype_fixed,state_unsafe_mutation:()=>state_unsafe_mutation});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");function bind_invalid_checkbox_value(){if(o.DEV){const e=new Error(`bind_invalid_checkbox_value\nUsing \`bind:value\` together with a checkbox input is not allowed. Use \`bind:checked\` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/bind_invalid_checkbox_value`)}}function bind_invalid_export(e,t,i){if(o.DEV){const o=new Error(`bind_invalid_export\nComponent ${e} has an export named \`${t}\` that a consumer component is trying to access using \`bind:${t}\`, which is disallowed. Instead, use \`bind:this\` (e.g. \`<${i} bind:this={component} />\`) and then access the property on the bound component instance (e.g. \`component.${t}\`)\nhttps://svelte.dev/e/bind_invalid_export`);o.name="Svelte error";throw o}else{throw new Error(`https://svelte.dev/e/bind_invalid_export`)}}function bind_not_bindable(e,t,i){if(o.DEV){const o=new Error(`bind_not_bindable\nA component is attempting to bind to a non-bindable property \`${e}\` belonging to ${t} (i.e. \`<${i} bind:${e}={...}>\`). To mark a property as bindable: \`let { ${e} = $bindable() } = $props()\`\nhttps://svelte.dev/e/bind_not_bindable`);o.name="Svelte error";throw o}else{throw new Error(`https://svelte.dev/e/bind_not_bindable`)}}function component_api_changed(e,t){if(o.DEV){const i=new Error(`component_api_changed\nCalling \`${e}\` on a component instance (of ${t}) is no longer valid in Svelte 5\nhttps://svelte.dev/e/component_api_changed`);i.name="Svelte error";throw i}else{throw new Error(`https://svelte.dev/e/component_api_changed`)}}function component_api_invalid_new(e,t){if(o.DEV){const i=new Error(`component_api_invalid_new\nAttempted to instantiate ${e} with \`new ${t}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.\nhttps://svelte.dev/e/component_api_invalid_new`);i.name="Svelte error";throw i}else{throw new Error(`https://svelte.dev/e/component_api_invalid_new`)}}function derived_references_self(){if(o.DEV){const e=new Error(`derived_references_self\nA derived value cannot reference itself recursively\nhttps://svelte.dev/e/derived_references_self`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/derived_references_self`)}}function each_key_duplicate(e,t,i){if(o.DEV){const o=new Error(`each_key_duplicate\n${i?`Keyed each block has duplicate key \`${i}\` at indexes ${e} and ${t}`:`Keyed each block has duplicate key at indexes ${e} and ${t}`}\nhttps://svelte.dev/e/each_key_duplicate`);o.name="Svelte error";throw o}else{throw new Error(`https://svelte.dev/e/each_key_duplicate`)}}function effect_in_teardown(e){if(o.DEV){const t=new Error(`effect_in_teardown\n\`${e}\` cannot be used inside an effect cleanup function\nhttps://svelte.dev/e/effect_in_teardown`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/effect_in_teardown`)}}function effect_in_unowned_derived(){if(o.DEV){const e=new Error(`effect_in_unowned_derived\nEffect cannot be created inside a \`$derived\` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/effect_in_unowned_derived`)}}function effect_orphan(e){if(o.DEV){const t=new Error(`effect_orphan\n\`${e}\` can only be used inside an effect (e.g. during component initialisation)\nhttps://svelte.dev/e/effect_orphan`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/effect_orphan`)}}function effect_update_depth_exceeded(){if(o.DEV){const e=new Error(`effect_update_depth_exceeded\nMaximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops\nhttps://svelte.dev/e/effect_update_depth_exceeded`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/effect_update_depth_exceeded`)}}function hydration_failed(){if(o.DEV){const e=new Error(`hydration_failed\nFailed to hydrate the application\nhttps://svelte.dev/e/hydration_failed`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/hydration_failed`)}}function invalid_snippet(){if(o.DEV){const e=new Error(`invalid_snippet\nCould not \`{@render}\` snippet due to the expression being \`null\` or \`undefined\`. Consider using optional chaining \`{@render snippet?.()}\`\nhttps://svelte.dev/e/invalid_snippet`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/invalid_snippet`)}}function lifecycle_legacy_only(e){if(o.DEV){const t=new Error(`lifecycle_legacy_only\n\`${e}(...)\` cannot be used in runes mode\nhttps://svelte.dev/e/lifecycle_legacy_only`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/lifecycle_legacy_only`)}}function props_invalid_value(e){if(o.DEV){const t=new Error(`props_invalid_value\nCannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value\nhttps://svelte.dev/e/props_invalid_value`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/props_invalid_value`)}}function props_rest_readonly(e){if(o.DEV){const t=new Error(`props_rest_readonly\nRest element properties of \`$props()\` such as \`${e}\` are readonly\nhttps://svelte.dev/e/props_rest_readonly`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/props_rest_readonly`)}}function rune_outside_svelte(e){if(o.DEV){const t=new Error(`rune_outside_svelte\nThe \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files\nhttps://svelte.dev/e/rune_outside_svelte`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/rune_outside_svelte`)}}function state_descriptors_fixed(){if(o.DEV){const e=new Error(`state_descriptors_fixed\nProperty descriptors defined on \`$state\` objects must contain \`value\` and always be \`enumerable\`, \`configurable\` and \`writable\`.\nhttps://svelte.dev/e/state_descriptors_fixed`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/state_descriptors_fixed`)}}function state_prototype_fixed(){if(o.DEV){const e=new Error(`state_prototype_fixed\nCannot set prototype of \`$state\` object\nhttps://svelte.dev/e/state_prototype_fixed`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/state_prototype_fixed`)}}function state_unsafe_mutation(){if(o.DEV){const e=new Error(`state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without \`$state\`\nhttps://svelte.dev/e/state_unsafe_mutation`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/state_unsafe_mutation`)}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CLASS:()=>F.CLASS,FILENAME:()=>a.FILENAME,HMR:()=>a.HMR,NAMESPACE_SVG:()=>a.NAMESPACE_SVG,STYLE:()=>F.STYLE,action:()=>D.action,add_legacy_event_listener:()=>ie.add_legacy_event_listener,add_locations:()=>p.add_locations,animation:()=>z.animation,append:()=>oe.append,append_styles:()=>O.append_styles,apply:()=>H.apply,assign:()=>u.assign,assign_and:()=>u.assign_and,assign_nullish:()=>u.assign_nullish,assign_or:()=>u.assign_or,attach:()=>L.attach,attachment:()=>o.createAttachmentKey,attr:()=>Ee.attr,attribute_effect:()=>F.attribute_effect,autofocus:()=>q.autofocus,await:()=>A.await_block,bind_active_element:()=>W.bind_active_element,bind_buffered:()=>Y.bind_buffered,bind_checked:()=>V.bind_checked,bind_content_editable:()=>ee.bind_content_editable,bind_current_time:()=>Y.bind_current_time,bind_element_size:()=>Z.bind_element_size,bind_ended:()=>Y.bind_ended,bind_files:()=>V.bind_files,bind_focused:()=>ee.bind_focused,bind_group:()=>V.bind_group,bind_muted:()=>Y.bind_muted,bind_online:()=>$.bind_online,bind_paused:()=>Y.bind_paused,bind_playback_rate:()=>Y.bind_playback_rate,bind_played:()=>Y.bind_played,bind_prop:()=>J.bind_prop,bind_property:()=>ee.bind_property,bind_ready_state:()=>Y.bind_ready_state,bind_resize_observer:()=>Z.bind_resize_observer,bind_seekable:()=>Y.bind_seekable,bind_seeking:()=>Y.bind_seeking,bind_select_value:()=>Q.bind_select_value,bind_this:()=>X.bind_this,bind_value:()=>V.bind_value,bind_volume:()=>Y.bind_volume,bind_window_scroll:()=>te.bind_window_scroll,bind_window_size:()=>te.bind_window_size,boundary:()=>he.boundary,bubble_event:()=>ie.bubble_event,check_target:()=>v.check_target,child:()=>we.child,cleanup_styles:()=>d.cleanup_styles,clsx:()=>Ee.clsx,comment:()=>oe.comment,component:()=>M.component,create_custom_element:()=>_e.create_custom_element,create_ownership_validator:()=>g.create_ownership_validator,css_props:()=>x.css_props,deep_read:()=>me.deep_read,deep_read_state:()=>me.deep_read_state,delegate:()=>H.delegate,derived:()=>ae.user_derived,derived_safe_equal:()=>ae.derived_safe_equal,document:()=>we.$document,each:()=>I.each,effect:()=>le.effect,effect_root:()=>le.effect_root,effect_tracking:()=>le.effect_tracking,element:()=>B.element,equals:()=>Te.equals,event:()=>H.event,exclude_from_object:()=>me.exclude_from_object,fallback:()=>Se.fallback,first_child:()=>we.first_child,flush:()=>me.flushSync,from_html:()=>oe.from_html,from_mathml:()=>oe.from_mathml,from_svg:()=>oe.from_svg,from_tree:()=>oe.from_tree,get:()=>me.get,head:()=>j.head,hmr:()=>m.hmr,html:()=>N.html,hydrate_template:()=>re.hydrate_template,if:()=>k.if_block,index:()=>I.index,init:()=>se.init,init_select:()=>Q.init_select,inspect:()=>_.inspect,invalid_default_snippet:()=>ke.invalid_default_snippet,invalidate_inner_signals:()=>me.invalidate_inner_signals,invalidate_store:()=>de.invalidate_store,key:()=>T.key_block,legacy_api:()=>v.legacy_api,legacy_pre_effect:()=>le.legacy_pre_effect,legacy_pre_effect_reset:()=>le.legacy_pre_effect_reset,legacy_rest_props:()=>ue.legacy_rest_props,log_if_contains_state:()=>xe.log_if_contains_state,mark_store_binding:()=>de.mark_store_binding,mutable_source:()=>ce.mutable_source,mutate:()=>ce.mutate,next:()=>re.next,noop:()=>Se.noop,once:()=>ne.once,pop:()=>l.pop,preventDefault:()=>ne.preventDefault,prevent_snippet_stringification:()=>ke.prevent_snippet_stringification,prop:()=>ue.prop,props_id:()=>oe.props_id,proxy:()=>be.proxy,push:()=>l.push,raf:()=>ye.raf,reactive_import:()=>ie.reactive_import,remove_input_defaults:()=>F.remove_input_defaults,remove_textarea_child:()=>q.remove_textarea_child,render_effect:()=>le.render_effect,replay_events:()=>H.replay_events,reset:()=>re.reset,rest_props:()=>ue.rest_props,safe_get:()=>me.safe_get,sanitize_slots:()=>P.sanitize_slots,select_option:()=>Q.select_option,self:()=>ne.self,set:()=>ce.set,set_attribute:()=>F.set_attribute,set_attributes:()=>F.set_attributes,set_checked:()=>F.set_checked,set_class:()=>U.set_class,set_custom_element_data:()=>F.set_custom_element_data,set_default_checked:()=>F.set_default_checked,set_default_value:()=>F.set_default_value,set_selected:()=>F.set_selected,set_style:()=>G.set_style,set_text:()=>pe.set_text,set_value:()=>F.set_value,set_xlink_attribute:()=>F.set_xlink_attribute,setup_stores:()=>de.setup_stores,sibling:()=>we.sibling,slot:()=>P.slot,snapshot:()=>Ae.snapshot,snippet:()=>C.snippet,spread_props:()=>ue.spread_props,state:()=>ce.state,stopImmediatePropagation:()=>ne.stopImmediatePropagation,stopPropagation:()=>ne.stopPropagation,store_get:()=>de.store_get,store_mutate:()=>de.store_mutate,store_set:()=>de.store_set,store_unsub:()=>de.store_unsub,strict_equals:()=>Te.strict_equals,tag:()=>y.tag,tag_proxy:()=>y.tag_proxy,template_effect:()=>le.template_effect,text:()=>oe.text,tick:()=>me.tick,to_array:()=>Se.to_array,trace:()=>y.trace,transition:()=>z.transition,trusted:()=>ne.trusted,untrack:()=>me.untrack,update:()=>ce.update,update_legacy_props:()=>ie.update_legacy_props,update_pre:()=>ce.update_pre,update_pre_prop:()=>ue.update_pre_prop,update_pre_store:()=>de.update_pre_store,update_prop:()=>ue.update_prop,update_store:()=>de.update_store,user_effect:()=>le.user_effect,user_pre_effect:()=>le.user_pre_effect,validate_binding:()=>ve.validate_binding,validate_dynamic_element_tag:()=>ke.validate_dynamic_element_tag,validate_each_keys:()=>ve.validate_each_keys,validate_snippet_args:()=>w.validate_snippet_args,validate_store:()=>ke.validate_store,validate_void_dynamic_element:()=>ke.validate_void_dynamic_element,window:()=>we.$window,with_script:()=>oe.with_script,wrap_snippet:()=>C.wrap_snippet});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/attachments/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/assign.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/css.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/elements.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/hmr.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/ownership.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/legacy.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/tracing.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/inspect.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/validation.js");var A=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/await.js");var k=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/if.js");var T=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/key.js");var x=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/css-props.js");var I=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/each.js");var N=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/html.js");var P=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/slot.js");var C=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/snippet.js");var M=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-component.js");var B=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-element.js");var j=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-head.js");var O=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/css.js");var D=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/actions.js");var L=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/attachments.js");var F=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/attributes.js");var U=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/class.js");var H=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/events.js");var q=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/misc.js");var G=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/style.js");var z=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/transitions.js");var W=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/document.js");var V=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/input.js");var Y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/media.js");var $=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/navigator.js");var J=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/props.js");var Q=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/select.js");var Z=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/size.js");var X=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/this.js");var ee=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/universal.js");var te=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/bindings/window.js");var re=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var ne=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/event-modifiers.js");var se=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/lifecycle.js");var ie=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/misc.js");var oe=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js");var ae=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");var le=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var ce=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var ue=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/props.js");var de=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/store.js");var he=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/boundary.js");var pe=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js");var me=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var ve=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/validate.js");var ye=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/timing.js");var be=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js");var _e=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/custom-element.js");var we=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var Ee=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/attributes.js");var Ae=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/clone.js");var Se=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var ke=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/validate.js");var Te=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/equality.js");var xe=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/console-log.js")},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/loop.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{loop:()=>loop});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/timing.js");function run_tasks(){const e=o.raf.now();o.raf.tasks.forEach(t=>{if(!t.c(e)){o.raf.tasks.delete(t);t.f()}});if(o.raf.tasks.size!==0){o.raf.tick(run_tasks)}}function loop(e){let t;if(o.raf.tasks.size===0){o.raf.tick(run_tasks)}return{promise:new Promise(i=>{o.raf.tasks.add(t={c:e,f:i})}),abort(){o.raf.tasks.delete(t)}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{get_proxied_value:()=>get_proxied_value,is:()=>is,proxy:()=>proxy});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/tracing.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");const y=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function proxy(e){if(typeof e!=="object"||e===null||d.STATE_SYMBOL in e){return e}const t=(0,l.get_prototype_of)(e);if(t!==l.object_prototype&&t!==l.array_prototype){return e}var i=new Map;var y=(0,l.is_array)(e);var _=(0,u.state)(0);var w=o.DEV&&v.tracing_mode_flag?(0,g.get_stack)("CreatedAt"):null;var A=a.active_reaction;var with_parent=e=>{var t=a.active_reaction;(0,a.set_active_reaction)(A);var i=e();(0,a.set_active_reaction)(t);return i};if(y){i.set("length",(0,u.state)(e.length,w))}var k="";function update_path(e){k=e;(0,g.tag)(_,`${k} version`);for(const[e,t]of i){(0,g.tag)(t,get_label(k,e))}}return new Proxy(e,{defineProperty(e,t,a){if(!("value"in a)||a.configurable===false||a.enumerable===false||a.writable===false){m.state_descriptors_fixed()}with_parent(()=>{var e=i.get(t);if(e===undefined){e=(0,u.state)(a.value,w);i.set(t,e);if(o.DEV&&typeof t==="string"){(0,g.tag)(e,get_label(k,t))}}else{(0,u.set)(e,a.value,true)}});return true},deleteProperty(e,t){var a=i.get(t);if(a===undefined){if(t in e){const e=with_parent(()=>(0,u.state)(p.UNINITIALIZED,w));i.set(t,e);update_version(_);if(o.DEV){(0,g.tag)(e,get_label(k,t))}}}else{if(y&&typeof t==="string"){var l=i.get("length");var d=Number(t);if(Number.isInteger(d)&&d<l.v){(0,u.set)(l,d)}}(0,u.set)(a,p.UNINITIALIZED);update_version(_)}return true},get(t,m,v){if(m===d.STATE_SYMBOL){return e}if(o.DEV&&m===d.PROXY_PATH_SYMBOL){return update_path}var y=i.get(m);var _=m in t;if(y===undefined&&(!_||(0,l.get_descriptor)(t,m)?.writable)){y=with_parent(()=>{var e=proxy(_?t[m]:p.UNINITIALIZED);var i=(0,u.state)(e,w);if(o.DEV){(0,g.tag)(i,get_label(k,m))}return i});i.set(m,y)}if(y!==undefined){var A=(0,a.get)(y);return A===p.UNINITIALIZED?undefined:A}return Reflect.get(t,m,v)},getOwnPropertyDescriptor(e,t){var o=Reflect.getOwnPropertyDescriptor(e,t);if(o&&"value"in o){var l=i.get(t);if(l)o.value=(0,a.get)(l)}else if(o===undefined){var u=i.get(t);var d=u?.v;if(u!==undefined&&d!==p.UNINITIALIZED){return{enumerable:true,configurable:true,value:d,writable:true}}}return o},has(e,t){if(t===d.STATE_SYMBOL){return true}var m=i.get(t);var v=m!==undefined&&m.v!==p.UNINITIALIZED||Reflect.has(e,t);if(m!==undefined||a.active_effect!==null&&(!v||(0,l.get_descriptor)(e,t)?.writable)){if(m===undefined){m=with_parent(()=>{var i=v?proxy(e[t]):p.UNINITIALIZED;var a=(0,u.state)(i,w);if(o.DEV){(0,g.tag)(a,get_label(k,t))}return a});i.set(t,m)}var y=(0,a.get)(m);if(y===p.UNINITIALIZED){return false}}return v},set(e,t,a,d){var m=i.get(t);var v=t in e;if(y&&t==="length"){for(var A=a;A<m.v;A+=1){var T=i.get(A+"");if(T!==undefined){(0,u.set)(T,p.UNINITIALIZED)}else if(A in e){T=with_parent(()=>(0,u.state)(p.UNINITIALIZED,w));i.set(A+"",T);if(o.DEV){(0,g.tag)(T,get_label(k,A))}}}}if(m===undefined){if(!v||(0,l.get_descriptor)(e,t)?.writable){m=with_parent(()=>{var e=(0,u.state)(undefined,w);(0,u.set)(e,proxy(a));return e});i.set(t,m);if(o.DEV){(0,g.tag)(m,get_label(k,t))}}}else{v=m.v!==p.UNINITIALIZED;var x=with_parent(()=>proxy(a));(0,u.set)(m,x)}var I=Reflect.getOwnPropertyDescriptor(e,t);if(I?.set){I.set.call(d,a)}if(!v){if(y&&typeof t==="string"){var N=i.get("length");var P=Number(t);if(Number.isInteger(P)&&P>=N.v){(0,u.set)(N,P+1)}}update_version(_)}return true},ownKeys(e){(0,a.get)(_);var t=Reflect.ownKeys(e).filter(e=>{var t=i.get(e);return t===undefined||t.v!==p.UNINITIALIZED});for(var[o,l]of i){if(l.v!==p.UNINITIALIZED&&!(o in e)){t.push(o)}}return t},setPrototypeOf(){m.state_prototype_fixed()}})}function get_label(e,t){if(typeof t==="symbol")return`${e}[Symbol(${t.description??""})]`;if(y.test(t))return`${e}.${t}`;return/^\d+$/.test(t)?`${e}[${t}]`:`${e}['${t}']`}function update_version(e,t=1){(0,u.set)(e,e.v+t)}function get_proxied_value(e){try{if(e!==null&&typeof e==="object"&&d.STATE_SYMBOL in e){return e[d.STATE_SYMBOL]}}catch{}return e}function is(e,t){return Object.is(get_proxied_value(e),get_proxied_value(t))}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{derived:()=>derived,derived_safe_equal:()=>derived_safe_equal,destroy_derived_effects:()=>destroy_derived_effects,execute_derived:()=>execute_derived,update_derived:()=>update_derived,user_derived:()=>user_derived});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/tracing.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");function derived(e){var t=a.DERIVED|a.DIRTY;var i=l.active_reaction!==null&&(l.active_reaction.f&a.DERIVED)!==0?l.active_reaction:null;if(l.active_effect===null||i!==null&&(i.f&a.UNOWNED)!==0){t|=a.UNOWNED}else{l.active_effect.f|=a.EFFECT_HAS_DERIVED}const d={ctx:y.component_context,deps:null,effects:null,equals:u.equals,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:i??l.active_effect};if(o.DEV&&v.tracing_mode_flag){d.created=(0,g.get_stack)("CreatedAt")}return d}function user_derived(e){const t=derived(e);(0,l.push_reaction_value)(t);return t}function derived_safe_equal(e){const t=derived(e);t.equals=u.safe_equals;return t}function destroy_derived_effects(e){var t=e.effects;if(t!==null){e.effects=null;for(var i=0;i<t.length;i+=1){(0,p.destroy_effect)(t[i])}}}let _=[];function get_derived_parent_effect(e){var t=e.parent;while(t!==null){if((t.f&a.DERIVED)===0){return t}t=t.parent}return null}function execute_derived(e){var t;var i=l.active_effect;(0,l.set_active_effect)(get_derived_parent_effect(e));if(o.DEV){let o=m.inspect_effects;(0,m.set_inspect_effects)(new Set);try{if(_.includes(e)){d.derived_references_self()}_.push(e);destroy_derived_effects(e);t=(0,l.update_reaction)(e)}finally{(0,l.set_active_effect)(i);(0,m.set_inspect_effects)(o);_.pop()}}else{try{destroy_derived_effects(e);t=(0,l.update_reaction)(e)}finally{(0,l.set_active_effect)(i)}}return t}function update_derived(e){var t=execute_derived(e);if(!e.equals(t)){e.v=t;e.wv=(0,l.increment_write_version)()}if(l.is_destroying_effect)return;var i=(l.skip_reaction||(e.f&a.UNOWNED)!==0)&&e.deps!==null?a.MAYBE_DIRTY:a.CLEAN;(0,l.set_signal_status)(e,i)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{block:()=>block,branch:()=>branch,component_root:()=>component_root,destroy_block_effect_children:()=>destroy_block_effect_children,destroy_effect:()=>destroy_effect,destroy_effect_children:()=>destroy_effect_children,effect:()=>effect,effect_root:()=>effect_root,effect_tracking:()=>effect_tracking,execute_effect_teardown:()=>execute_effect_teardown,inspect_effect:()=>inspect_effect,legacy_pre_effect:()=>legacy_pre_effect,legacy_pre_effect_reset:()=>legacy_pre_effect_reset,pause_children:()=>pause_children,pause_effect:()=>pause_effect,remove_effect_dom:()=>remove_effect_dom,render_effect:()=>render_effect,resume_effect:()=>resume_effect,run_out_transitions:()=>run_out_transitions,teardown:()=>teardown,template_effect:()=>template_effect,unlink_effect:()=>unlink_effect,user_effect:()=>user_effect,user_pre_effect:()=>user_pre_effect,validate_effect:()=>validate_effect});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var d=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");function validate_effect(e){if(o.active_effect===null&&o.active_reaction===null){u.effect_orphan(e)}if(o.active_reaction!==null&&(o.active_reaction.f&a.UNOWNED)!==0&&o.active_effect===null){u.effect_in_unowned_derived()}if(o.is_destroying_effect){u.effect_in_teardown(e)}}function push_effect(e,t){var i=t.last;if(i===null){t.last=t.first=e}else{i.next=e;e.prev=i;t.last=e}}function create_effect(e,t,i,l=true){var u=o.active_effect;if(d.DEV){while(u!==null&&(u.f&a.INSPECT_EFFECT)!==0){u=u.parent}}var p={ctx:v.component_context,deps:null,nodes_start:null,nodes_end:null,f:e|a.DIRTY,first:null,fn:t,last:null,next:null,parent:u,prev:null,teardown:null,transitions:null,wv:0};if(d.DEV){p.component_function=v.dev_current_component_function}if(i){try{(0,o.update_effect)(p);p.f|=a.EFFECT_RAN}catch(e){destroy_effect(p);throw e}}else if(t!==null){(0,o.schedule_effect)(p)}var m=i&&p.deps===null&&p.first===null&&p.nodes_start===null&&p.teardown===null&&(p.f&(a.EFFECT_HAS_DERIVED|a.BOUNDARY_EFFECT))===0;if(!m&&l){if(u!==null){push_effect(p,u)}if(o.active_reaction!==null&&(o.active_reaction.f&a.DERIVED)!==0){var g=o.active_reaction;(g.effects??=[]).push(p)}}return p}function effect_tracking(){return o.active_reaction!==null&&!o.untracking}function teardown(e){const t=create_effect(a.RENDER_EFFECT,null,false);(0,o.set_signal_status)(t,a.CLEAN);t.teardown=e;return t}function user_effect(e){validate_effect("$effect");var t=o.active_effect!==null&&(o.active_effect.f&a.BRANCH_EFFECT)!==0&&v.component_context!==null&&!v.component_context.m;if(d.DEV){(0,p.define_property)(e,"name",{value:"$effect"})}if(t){var i=v.component_context;(i.e??=[]).push({fn:e,effect:o.active_effect,reaction:o.active_reaction})}else{var l=effect(e);return l}}function user_pre_effect(e){validate_effect("$effect.pre");if(d.DEV){(0,p.define_property)(e,"name",{value:"$effect.pre"})}return render_effect(e)}function inspect_effect(e){return create_effect(a.INSPECT_EFFECT,e,true)}function effect_root(e){const t=create_effect(a.ROOT_EFFECT,e,true);return()=>{destroy_effect(t)}}function component_root(e){const t=create_effect(a.ROOT_EFFECT,e,true);return(e={})=>new Promise(i=>{if(e.outro){pause_effect(t,()=>{destroy_effect(t);i(undefined)})}else{destroy_effect(t);i(undefined)}})}function effect(e){return create_effect(a.EFFECT,e,false)}function legacy_pre_effect(e,t){var i=v.component_context;var a={effect:null,ran:false};i.l.r1.push(a);a.effect=render_effect(()=>{e();if(a.ran)return;a.ran=true;(0,l.set)(i.l.r2,true);(0,o.untrack)(t)})}function legacy_pre_effect_reset(){var e=v.component_context;render_effect(()=>{if(!(0,o.get)(e.l.r2))return;for(var t of e.l.r1){var i=t.effect;if((i.f&a.CLEAN)!==0){(0,o.set_signal_status)(i,a.MAYBE_DIRTY)}if((0,o.check_dirtiness)(i)){(0,o.update_effect)(i)}t.ran=false}e.l.r2.v=false})}function render_effect(e){return create_effect(a.RENDER_EFFECT,e,true)}function template_effect(e,t=[],i=g.derived){if(d.DEV){return render_effect(()=>{var a=o.active_effect;var inner=()=>e(...l.map(o.get));(0,p.define_property)(a.fn,"name",{value:"{expression}"});(0,p.define_property)(inner,"name",{value:"{expression}"});const l=t.map(i);block(inner)})}const a=t.map(i);return block(()=>e(...a.map(o.get)))}function block(e,t=0){return create_effect(a.RENDER_EFFECT|a.BLOCK_EFFECT|t,e,true)}function branch(e,t=true){return create_effect(a.RENDER_EFFECT|a.BRANCH_EFFECT,e,true,t)}function execute_effect_teardown(e){var t=e.teardown;if(t!==null){const e=o.is_destroying_effect;const i=o.active_reaction;(0,o.set_is_destroying_effect)(true);(0,o.set_active_reaction)(null);try{t.call(null)}finally{(0,o.set_is_destroying_effect)(e);(0,o.set_active_reaction)(i)}}}function destroy_effect_children(e,t=false){var i=e.first;e.first=e.last=null;while(i!==null){var o=i.next;if((i.f&a.ROOT_EFFECT)!==0){i.parent=null}else{destroy_effect(i,t)}i=o}}function destroy_block_effect_children(e){var t=e.first;while(t!==null){var i=t.next;if((t.f&a.BRANCH_EFFECT)===0){destroy_effect(t)}t=i}}function destroy_effect(e,t=true){var i=false;if((t||(e.f&a.HEAD_EFFECT)!==0)&&e.nodes_start!==null&&e.nodes_end!==null){remove_effect_dom(e.nodes_start,e.nodes_end);i=true}destroy_effect_children(e,t&&!i);(0,o.remove_reactions)(e,0);(0,o.set_signal_status)(e,a.DESTROYED);var l=e.transitions;if(l!==null){for(const e of l){e.stop()}}execute_effect_teardown(e);var u=e.parent;if(u!==null&&u.first!==null){unlink_effect(e)}if(d.DEV){e.component_function=null}e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function remove_effect_dom(e,t){while(e!==null){var i=e===t?null:(0,m.get_next_sibling)(e);e.remove();e=i}}function unlink_effect(e){var t=e.parent;var i=e.prev;var o=e.next;if(i!==null)i.next=o;if(o!==null)o.prev=i;if(t!==null){if(t.first===e)t.first=o;if(t.last===e)t.last=i}}function pause_effect(e,t){var i=[];pause_children(e,i,true);run_out_transitions(i,()=>{destroy_effect(e);if(t)t()})}function run_out_transitions(e,t){var i=e.length;if(i>0){var check=()=>--i||t();for(var o of e){o.out(check)}}else{t()}}function pause_children(e,t,i){if((e.f&a.INERT)!==0)return;e.f^=a.INERT;if(e.transitions!==null){for(const o of e.transitions){if(o.is_global||i){t.push(o)}}}var o=e.first;while(o!==null){var l=o.next;var u=(o.f&a.EFFECT_TRANSPARENT)!==0||(o.f&a.BRANCH_EFFECT)!==0;pause_children(o,t,u?i:false);o=l}}function resume_effect(e){resume_children(e,true)}function resume_children(e,t){if((e.f&a.INERT)===0)return;e.f^=a.INERT;if((e.f&a.CLEAN)!==0){(0,o.set_signal_status)(e,a.DIRTY);(0,o.schedule_effect)(e)}var i=e.first;while(i!==null){var l=i.next;var u=(i.f&a.EFFECT_TRANSPARENT)!==0||(i.f&a.BRANCH_EFFECT)!==0;resume_children(i,u?t:false);i=l}if(e.transitions!==null){for(const i of e.transitions){if(i.is_global||t){i.in()}}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{equals:()=>equals,not_equal:()=>not_equal,safe_equals:()=>safe_equals,safe_not_equal:()=>safe_not_equal});function equals(e){return e===this.v}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e==="object"||typeof e==="function"}function not_equal(e,t){return e!==t}function safe_equals(e){return!safe_not_equal(e,this.v)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/props.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{legacy_rest_props:()=>legacy_rest_props,prop:()=>prop,rest_props:()=>rest_props,spread_props:()=>spread_props,update_pre_prop:()=>update_pre_prop,update_prop:()=>update_prop});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/store.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");function update_prop(e,t=1){const i=e();e(i+t);return i}function update_pre_prop(e,t=1){const i=e()+t;e(i);return i}const A={get(e,t){if(e.exclude.includes(t))return;return e.props[t]},set(e,t){if(o.DEV){g.props_rest_readonly(`${e.name}.${String(t)}`)}return false},getOwnPropertyDescriptor(e,t){if(e.exclude.includes(t))return;if(t in e.props){return{enumerable:true,configurable:true,value:e.props[t]}}},has(e,t){if(e.exclude.includes(t))return false;return t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function rest_props(e,t,i){return new Proxy(o.DEV?{props:e,exclude:t,name:i,other:{},to_proxy:[]}:{props:e,exclude:t},A)}const k={get(e,t){if(e.exclude.includes(t))return;(0,p.get)(e.version);return t in e.special?e.special[t]():e.props[t]},set(e,t,i){if(!(t in e.special)){e.special[t]=prop({get[t](){return e.props[t]}},t,a.PROPS_IS_UPDATED)}e.special[t](i);(0,u.update)(e.version);return true},getOwnPropertyDescriptor(e,t){if(e.exclude.includes(t))return;if(t in e.props){return{enumerable:true,configurable:true,value:e.props[t]}}},deleteProperty(e,t){if(e.exclude.includes(t))return true;e.exclude.push(t);(0,u.update)(e.version);return true},has(e,t){if(e.exclude.includes(t))return false;return t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function legacy_rest_props(e,t){return new Proxy({props:e,exclude:t,special:{},version:(0,u.source)(0)},k)}const T={get(e,t){let i=e.props.length;while(i--){let o=e.props[i];if((0,l.is_function)(o))o=o();if(typeof o==="object"&&o!==null&&t in o)return o[t]}},set(e,t,i){let o=e.props.length;while(o--){let a=e.props[o];if((0,l.is_function)(a))a=a();const u=(0,l.get_descriptor)(a,t);if(u&&u.set){u.set(i);return true}}return false},getOwnPropertyDescriptor(e,t){let i=e.props.length;while(i--){let o=e.props[i];if((0,l.is_function)(o))o=o();if(typeof o==="object"&&o!==null&&t in o){const e=(0,l.get_descriptor)(o,t);if(e&&!e.configurable){e.configurable=true}return e}}},has(e,t){if(t===v.STATE_SYMBOL||t===v.LEGACY_PROPS)return false;for(let i of e.props){if((0,l.is_function)(i))i=i();if(i!=null&&t in i)return true}return false},ownKeys(e){const t=[];for(let i of e.props){if((0,l.is_function)(i))i=i();if(!i)continue;for(const e in i){if(!t.includes(e))t.push(e)}for(const e of Object.getOwnPropertySymbols(i)){if(!t.includes(e))t.push(e)}}return t}};function spread_props(...e){return new Proxy({props:e},T)}function has_destroyed_component_ctx(e){return e.ctx?.d??false}function prop(e,t,i,o){var A=(i&a.PROPS_IS_IMMUTABLE)!==0;var k=!w.legacy_mode_flag||(i&a.PROPS_IS_RUNES)!==0;var T=(i&a.PROPS_IS_BINDABLE)!==0;var x=(i&a.PROPS_IS_LAZY_INITIAL)!==0;var I=false;var N;if(T){[N,I]=(0,_.capture_store_binding)(()=>e[t])}else{N=e[t]}var P=v.STATE_SYMBOL in e||v.LEGACY_PROPS in e;var C=T&&((0,l.get_descriptor)(e,t)?.set??(P&&t in e&&(i=>e[t]=i)))||undefined;var M=o;var B=true;var j=false;var get_fallback=()=>{j=true;if(B){B=false;if(x){M=(0,p.untrack)(o)}else{M=o}}return M};if(N===undefined&&o!==undefined){if(C&&k){g.props_invalid_value(t)}N=get_fallback();if(C)C(N)}var O;if(k){O=()=>{var i=e[t];if(i===undefined)return get_fallback();B=true;j=false;return i}}else{var D=(A?d.derived:d.derived_safe_equal)(()=>e[t]);D.f|=v.LEGACY_DERIVED_PROP;O=()=>{var e=(0,p.get)(D);if(e!==undefined)M=undefined;return e===undefined?M:e}}if((i&a.PROPS_IS_UPDATED)===0&&k){return O}if(C){var L=e.$$legacy;return function(e,t){if(arguments.length>0){if(!k||!t||L||I){C(t?O():e)}return e}else{return O()}}}var F=false;var U=false;var H=(0,u.mutable_source)(N);var q=(0,d.derived)(()=>{var e=O();var t=(0,p.get)(H);if(F){F=false;U=true;return t}U=false;return H.v=e});if(T){(0,p.get)(q)}if(!A)q.equals=m.safe_equals;return function(e,t){if(p.captured_signals!==null){F=U;O();(0,p.get)(H)}if(arguments.length>0){const i=t?(0,p.get)(q):k&&T?(0,y.proxy)(e):e;if(!q.equals(i)){F=true;(0,u.set)(H,i);if(j&&M!==undefined){M=i}if(has_destroyed_component_ctx(q)){return e}(0,p.untrack)(()=>(0,p.get)(q))}return e}if(has_destroyed_component_ctx(q)){return q.v}return(0,p.get)(q)}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{inspect_effects:()=>_,internal_set:()=>internal_set,mutable_source:()=>mutable_source,mutate:()=>mutate,old_values:()=>w,set:()=>set,set_inspect_effects:()=>set_inspect_effects,source:()=>source,state:()=>state,update:()=>update,update_pre:()=>update_pre});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/tracing.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/proxy.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");let _=new Set;const w=new Map;function set_inspect_effects(e){_=e}function source(e,t){var i={f:0,v:e,reactions:null,equals:l.equals,rv:0,wv:0};if(o.DEV&&p.tracing_mode_flag){i.created=t??(0,m.get_stack)("CreatedAt");i.updated=null;i.set_during_effect=false;i.trace=null}return i}function state(e,t){const i=source(e,t);(0,a.push_reaction_value)(i);return i}function mutable_source(e,t=false,i=true){const o=source(e);if(!t){o.equals=l.safe_equals}if(p.legacy_mode_flag&&i&&g.component_context!==null&&g.component_context.l!==null){(g.component_context.l.s??=[]).push(o)}return o}function mutate(e,t){set(e,(0,a.untrack)(()=>(0,a.get)(e)));return t}function set(e,t,i=false){if(a.active_reaction!==null&&!a.untracking&&(0,g.is_runes)()&&(a.active_reaction.f&(u.DERIVED|u.BLOCK_EFFECT))!==0&&!a.reaction_sources?.includes(e)){d.state_unsafe_mutation()}let l=i?(0,v.proxy)(t):t;if(o.DEV){(0,m.tag_proxy)(l,e.label)}return internal_set(e,l)}function internal_set(e,t){if(!e.equals(t)){var i=e.v;if(a.is_destroying_effect){w.set(e,t)}else{w.set(e,i)}e.v=t;if(o.DEV&&p.tracing_mode_flag){e.updated=(0,m.get_stack)("UpdatedAt");if(a.active_effect!==null){e.set_during_effect=true}}if((e.f&u.DERIVED)!==0){if((e.f&u.DIRTY)!==0){(0,y.execute_derived)(e)}(0,a.set_signal_status)(e,(e.f&u.UNOWNED)===0?u.CLEAN:u.MAYBE_DIRTY)}e.wv=(0,a.increment_write_version)();mark_reactions(e,u.DIRTY);if((0,g.is_runes)()&&a.active_effect!==null&&(a.active_effect.f&u.CLEAN)!==0&&(a.active_effect.f&(u.BRANCH_EFFECT|u.ROOT_EFFECT))===0){if(a.untracked_writes===null){(0,a.set_untracked_writes)([e])}else{a.untracked_writes.push(e)}}if(o.DEV&&_.size>0){const e=Array.from(_);for(const t of e){if((t.f&u.CLEAN)!==0){(0,a.set_signal_status)(t,u.MAYBE_DIRTY)}if((0,a.check_dirtiness)(t)){(0,a.update_effect)(t)}}_.clear()}}return t}function update(e,t=1){var i=(0,a.get)(e);var o=t===1?i++:i--;set(e,i);return o}function update_pre(e,t=1){var i=(0,a.get)(e);return set(e,t===1?++i:--i)}function mark_reactions(e,t){var i=e.reactions;if(i===null)return;var l=(0,g.is_runes)();var d=i.length;for(var p=0;p<d;p++){var m=i[p];var v=m.f;if((v&u.DIRTY)!==0)continue;if(!l&&m===a.active_effect)continue;if(o.DEV&&(v&u.INSPECT_EFFECT)!==0){_.add(m);continue}(0,a.set_signal_status)(m,t);if((v&(u.CLEAN|u.UNOWNED))!==0){if((v&u.DERIVED)!==0){mark_reactions(m,u.MAYBE_DIRTY)}else{(0,a.schedule_effect)(m)}}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/store.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{capture_store_binding:()=>capture_store_binding,invalidate_store:()=>invalidate_store,mark_store_binding:()=>mark_store_binding,setup_stores:()=>setup_stores,store_get:()=>store_get,store_mutate:()=>store_mutate,store_set:()=>store_set,store_unsub:()=>store_unsub,update_pre_store:()=>update_pre_store,update_store:()=>update_store});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/shared/index.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");let m=false;let g=Symbol();function store_get(e,t,i){const d=i[t]??={store:null,source:(0,p.mutable_source)(undefined),unsubscribe:l.noop};if(d.store!==e&&!(g in i)){d.unsubscribe();d.store=e??null;if(e==null){d.source.v=undefined;d.unsubscribe=l.noop}else{var m=true;d.unsubscribe=(0,o.subscribe_to_store)(e,e=>{if(m){d.source.v=e}else{(0,p.set)(d.source,e)}});m=false}}if(e&&g in i){return(0,a.get)(e)}return(0,u.get)(d.source)}function store_unsub(e,t,i){let o=i[t];if(o&&o.store!==e){o.unsubscribe();o.unsubscribe=l.noop}return e}function store_set(e,t){e.set(t);return t}function invalidate_store(e,t){var i=e[t];if(i.store!==null){store_set(i.store,i.source.v)}}function setup_stores(){const e={};function cleanup(){(0,d.teardown)(()=>{for(var t in e){const i=e[t];i.unsubscribe()}(0,l.define_property)(e,g,{enumerable:false,value:true})})}return[e,cleanup]}function store_mutate(e,t,i){e.set(i);return t}function update_store(e,t,i=1){e.set(t+i);return t}function update_pre_store(e,t,i=1){const o=t+i;e.set(o);return o}function mark_store_binding(){m=true}function capture_store_binding(e){var t=m;try{m=false;return[e(),m]}finally{m=t}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{hydrate:()=>hydrate,mount:()=>mount,set_should_intro:()=>set_should_intro,set_text:()=>set_text,should_intro:()=>T,unmount:()=>unmount});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/operations.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/hydration.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/elements/events.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-head.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var A=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/template.js");var k=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");let T=true;function set_should_intro(e){T=e}function set_text(e,t){var i=t==null?"":typeof t==="object"?t+"":t;if(i!==(e.__t??=e.nodeValue)){e.__t=i;e.nodeValue=i+""}}function mount(e,t){return _mount(e,t)}function hydrate(e,t){(0,a.init_operations)();t.intro=t.intro??false;const i=t.target;const o=m.hydrating;const u=m.hydrate_node;try{var d=(0,a.get_first_child)(i);while(d&&(d.nodeType!==8||d.data!==l.HYDRATION_START)){d=(0,a.get_next_sibling)(d)}if(!d){throw l.HYDRATION_ERROR}(0,m.set_hydrating)(true);(0,m.set_hydrate_node)(d);(0,m.hydrate_next)();const o=_mount(e,{...t,anchor:d});if(m.hydrate_node===null||m.hydrate_node.nodeType!==8||m.hydrate_node.data!==l.HYDRATION_END){_.hydration_mismatch();throw l.HYDRATION_ERROR}(0,m.set_hydrating)(false);return o}catch(o){if(o===l.HYDRATION_ERROR){if(t.recover===false){w.hydration_failed()}(0,a.init_operations)();(0,a.clear_text_content)(i);(0,m.set_hydrating)(false);return mount(e,t)}throw o}finally{(0,m.set_hydrating)(o);(0,m.set_hydrate_node)(u);(0,y.reset_head_anchor)()}}const x=new Map;function _mount(e,{target:t,anchor:i,props:o={},events:l,context:y,intro:_=true}){(0,a.init_operations)();var w=new Set;var event_handle=e=>{for(var i=0;i<e.length;i++){var o=e[i];if(w.has(o))continue;w.add(o);var a=(0,k.is_passive_event)(o);t.addEventListener(o,v.handle_event_propagation,{passive:a});var l=x.get(o);if(l===undefined){document.addEventListener(o,v.handle_event_propagation,{passive:a});x.set(o,1)}else{x.set(o,l+1)}}};event_handle((0,g.array_from)(v.all_registered_events));v.root_event_handles.add(event_handle);var N=undefined;var P=(0,p.component_root)(()=>{var g=i??t.appendChild((0,a.create_text)());(0,p.branch)(()=>{if(y){(0,d.push)({});var t=d.component_context;t.c=y}if(l){o.$$events=l}if(m.hydrating){(0,A.assign_nodes)(g,null)}T=_;N=e(g,o)||{};T=true;if(m.hydrating){u.active_effect.nodes_end=m.hydrate_node}if(y){(0,d.pop)()}});return()=>{for(var e of w){t.removeEventListener(e,v.handle_event_propagation);var o=x.get(e);if(--o===0){document.removeEventListener(e,v.handle_event_propagation);x.delete(e)}else{x.set(e,o)}}v.root_event_handles.delete(event_handle);if(g!==i){g.parentNode?.removeChild(g)}}});I.set(N,P);return N}let I=new WeakMap;function unmount(e,t){const i=I.get(e);if(i){I.delete(e);return i(t)}if(o.DEV){_.lifecycle_double_unmount()}return Promise.resolve()}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{active_effect:()=>B,active_reaction:()=>C,captured_signals:()=>q,check_dirtiness:()=>check_dirtiness,deep_read:()=>deep_read,deep_read_state:()=>deep_read_state,exclude_from_object:()=>exclude_from_object,flushSync:()=>flushSync,get:()=>get,increment_write_version:()=>increment_write_version,invalidate_inner_signals:()=>invalidate_inner_signals,is_destroying_effect:()=>I,push_reaction_value:()=>push_reaction_value,reaction_sources:()=>j,remove_reactions:()=>remove_reactions,safe_get:()=>safe_get,schedule_effect:()=>schedule_effect,set_active_effect:()=>set_active_effect,set_active_reaction:()=>set_active_reaction,set_captured_signals:()=>set_captured_signals,set_is_destroying_effect:()=>set_is_destroying_effect,set_signal_status:()=>set_signal_status,set_untracked_writes:()=>set_untracked_writes,skip_reaction:()=>H,tick:()=>tick,untrack:()=>untrack,untracked_writes:()=>L,untracking:()=>M,update_effect:()=>update_effect,update_reaction:()=>update_reaction});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/task.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/deriveds.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var v=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dev/tracing.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/error-handling.js");var A=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/clone.js");let k=false;let T=null;let x=false;let I=false;function set_is_destroying_effect(e){I=e}let N=[];let P=[];let C=null;let M=false;function set_active_reaction(e){C=e}let B=null;function set_active_effect(e){B=e}let j=null;function push_reaction_value(e){if(C!==null&&C.f&u.EFFECT_IS_UPDATING){if(j===null){j=[e]}else{j.push(e)}}}let O=null;let D=0;let L=null;function set_untracked_writes(e){L=e}let F=1;let U=0;let H=false;let q=null;function set_captured_signals(e){q=e}function increment_write_version(){return++F}function check_dirtiness(e){var t=e.f;if((t&u.DIRTY)!==0){return true}if((t&u.MAYBE_DIRTY)!==0){var i=e.deps;var o=(t&u.UNOWNED)!==0;if(i!==null){var a;var l;var d=(t&u.DISCONNECTED)!==0;var p=o&&B!==null&&!H;var g=i.length;if(d||p){var v=e;var y=v.parent;for(a=0;a<g;a++){l=i[a];if(d||!l?.reactions?.includes(v)){(l.reactions??=[]).push(v)}}if(d){v.f^=u.DISCONNECTED}if(p&&y!==null&&(y.f&u.UNOWNED)===0){v.f^=u.UNOWNED}}for(a=0;a<g;a++){l=i[a];if(check_dirtiness(l)){(0,m.update_derived)(l)}if(l.wv>e.wv){return true}}}if(!o||B!==null&&!H){set_signal_status(e,u.CLEAN)}}return false}function schedule_possible_effect_self_invalidation(e,t,i=true){var o=e.reactions;if(o===null)return;for(var a=0;a<o.length;a++){var l=o[a];if(j?.includes(e))continue;if((l.f&u.DERIVED)!==0){schedule_possible_effect_self_invalidation(l,t,false)}else if(t===l){if(i){set_signal_status(l,u.DIRTY)}else if((l.f&u.CLEAN)!==0){set_signal_status(l,u.MAYBE_DIRTY)}schedule_effect(l)}}}function update_reaction(e){var t=O;var i=D;var o=L;var a=C;var l=H;var d=j;var p=_.component_context;var m=M;var g=e.f;O=null;D=0;L=null;H=(g&u.UNOWNED)!==0&&(M||!x||C===null);C=(g&(u.BRANCH_EFFECT|u.ROOT_EFFECT))===0?e:null;j=null;(0,_.set_component_context)(e.ctx);M=false;U++;e.f|=u.EFFECT_IS_UPDATING;try{var v=(0,e.fn)();var y=e.deps;if(O!==null){var A;remove_reactions(e,D);if(y!==null&&D>0){y.length=D+O.length;for(A=0;A<O.length;A++){y[D+A]=O[A]}}else{e.deps=y=O}if(!H){for(A=D;A<y.length;A++){(y[A].reactions??=[]).push(e)}}}else if(y!==null&&D<y.length){remove_reactions(e,D);y.length=D}if((0,_.is_runes)()&&L!==null&&!M&&y!==null&&(e.f&(u.DERIVED|u.MAYBE_DIRTY|u.DIRTY))===0){for(A=0;A<L.length;A++){schedule_possible_effect_self_invalidation(L[A],e)}}if(a!==null&&a!==e){U++;if(L!==null){if(o===null){o=L}else{o.push(...L)}}}return v}catch(e){(0,w.handle_error)(e)}finally{O=t;D=i;L=o;C=a;H=l;j=d;(0,_.set_component_context)(p);M=m;e.f^=u.EFFECT_IS_UPDATING}}function remove_reaction(e,t){let i=t.reactions;if(i!==null){var o=a.index_of.call(i,e);if(o!==-1){var l=i.length-1;if(l===0){i=t.reactions=null}else{i[o]=i[l];i.pop()}}}if(i===null&&(t.f&u.DERIVED)!==0&&(O===null||!O.includes(t))){set_signal_status(t,u.MAYBE_DIRTY);if((t.f&(u.UNOWNED|u.DISCONNECTED))===0){t.f^=u.DISCONNECTED}(0,m.destroy_derived_effects)(t);remove_reactions(t,0)}}function remove_reactions(e,t){var i=e.deps;if(i===null)return;for(var o=t;o<i.length;o++){remove_reaction(e,i[o])}}function update_effect(e){var t=e.f;if((t&u.DESTROYED)!==0){return}set_signal_status(e,u.CLEAN);var i=B;var a=x;B=e;x=true;if(o.DEV){var d=_.dev_current_component_function;(0,_.set_dev_current_component_function)(e.component_function)}try{if((t&u.BLOCK_EFFECT)!==0){(0,l.destroy_block_effect_children)(e)}else{(0,l.destroy_effect_children)(e)}(0,l.execute_effect_teardown)(e);var p=update_reaction(e);e.teardown=typeof p==="function"?p:null;e.wv=F;if(o.DEV&&v.tracing_mode_flag&&(e.f&u.DIRTY)!==0&&e.deps!==null){for(var m of e.deps){if(m.set_during_effect){m.wv=increment_write_version();m.set_during_effect=false}}}if(o.DEV){P.push(e)}}finally{x=a;B=i;if(o.DEV){(0,_.set_dev_current_component_function)(d)}}}function log_effect_stack(){console.error("Last ten effects were: ",P.slice(-10).map(e=>e.fn));P=[]}function infinite_loop_guard(){try{g.effect_update_depth_exceeded()}catch(e){if(o.DEV){(0,a.define_property)(e,"stack",{value:""})}if(T!==null){if(o.DEV){try{(0,w.invoke_error_boundary)(e,T)}catch(e){log_effect_stack();throw e}}else{(0,w.invoke_error_boundary)(e,T)}}else{if(o.DEV){log_effect_stack()}throw e}}}function flush_queued_root_effects(){var e=x;try{var t=0;x=true;while(N.length>0){if(t++>1e3){infinite_loop_guard()}var i=N;var a=i.length;N=[];for(var l=0;l<a;l++){var u=process_effects(i[l]);flush_queued_effects(u)}p.old_values.clear()}}finally{k=false;x=e;T=null;if(o.DEV){P=[]}}}function flush_queued_effects(e){var t=e.length;if(t===0)return;for(var i=0;i<t;i++){var o=e[i];if((o.f&(u.DESTROYED|u.INERT))===0){if(check_dirtiness(o)){update_effect(o);if(o.deps===null&&o.first===null&&o.nodes_start===null){if(o.teardown===null){(0,l.unlink_effect)(o)}else{o.fn=null}}}}}}function schedule_effect(e){if(!k){k=true;queueMicrotask(flush_queued_root_effects)}var t=T=e;while(t.parent!==null){t=t.parent;var i=t.f;if((i&(u.ROOT_EFFECT|u.BRANCH_EFFECT))!==0){if((i&u.CLEAN)===0)return;t.f^=u.CLEAN}}N.push(t)}function process_effects(e){var t=[];var i=e;while(i!==null){var o=i.f;var a=(o&(u.BRANCH_EFFECT|u.ROOT_EFFECT))!==0;var l=a&&(o&u.CLEAN)!==0;if(!l&&(o&u.INERT)===0){if((o&u.EFFECT)!==0){t.push(i)}else if(a){i.f^=u.CLEAN}else{if(check_dirtiness(i)){update_effect(i)}}var d=i.first;if(d!==null){i=d;continue}}var p=i.parent;i=i.next;while(i===null&&p!==null){i=p.next;p=p.parent}}return t}function flushSync(e){var t;if(e){k=true;flush_queued_root_effects();k=true;t=e()}while(true){(0,d.flush_tasks)();if(N.length===0){k=false;T=null;if(o.DEV){P=[]}return t}k=true;flush_queued_root_effects()}}async function tick(){await Promise.resolve();flushSync()}function get(e){var t=e.f;var i=(t&u.DERIVED)!==0;if(q!==null){q.add(e)}if(C!==null&&!M){if(!j?.includes(e)){var a=C.deps;if(e.rv<U){e.rv=U;if(O===null&&a!==null&&a[D]===e){D++}else if(O===null){O=[e]}else if(!H||!O.includes(e)){O.push(e)}}}}else if(i&&e.deps===null&&e.effects===null){var l=e;var d=l.parent;if(d!==null&&(d.f&u.UNOWNED)===0){l.f^=u.UNOWNED}}if(i){l=e;if(check_dirtiness(l)){(0,m.update_derived)(l)}}if(o.DEV&&v.tracing_mode_flag&&!M&&y.tracing_expressions!==null&&C!==null&&y.tracing_expressions.reaction===C){if(e.trace){e.trace()}else{var g=(0,y.get_stack)("TracedAt");if(g){var _=y.tracing_expressions.entries.get(e);if(_===undefined){_={traces:[]};y.tracing_expressions.entries.set(e,_)}var w=_.traces[_.traces.length-1];if(g.stack!==w?.stack){_.traces.push(g)}}}}if(I&&p.old_values.has(e)){return p.old_values.get(e)}return e.v}function safe_get(e){return e&&get(e)}function capture_signals(e){var t=q;q=new Set;var i=q;var o;try{untrack(e);if(t!==null){for(o of q){t.add(o)}}}finally{q=t}return i}function invalidate_inner_signals(e){var t=capture_signals(()=>untrack(e));for(var i of t){if((i.f&u.LEGACY_DERIVED_PROP)!==0){for(const e of i.deps||[]){if((e.f&u.DERIVED)===0){(0,p.internal_set)(e,e.v)}}}else{(0,p.internal_set)(i,i.v)}}}function untrack(e){var t=M;try{M=true;return e()}finally{M=t}}const G=~(u.DIRTY|u.MAYBE_DIRTY|u.CLEAN);function set_signal_status(e,t){e.f=e.f&G|t}function exclude_from_object(e,t){var i={};for(var o in e){if(!t.includes(o)){i[o]=e[o]}}return i}function deep_read_state(e){if(typeof e!=="object"||!e||e instanceof EventTarget){return}if(u.STATE_SYMBOL in e){deep_read(e)}else if(!Array.isArray(e)){for(let t in e){const i=e[t];if(typeof i==="object"&&i&&u.STATE_SYMBOL in i){deep_read(i)}}}}function deep_read(e,t=new Set){if(typeof e==="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e);if(e instanceof Date){e.getTime()}for(let i in e){try{deep_read(e[i],t)}catch(e){}}const i=(0,a.get_prototype_of)(e);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){const t=(0,a.get_descriptors)(i);for(let i in t){const o=t[i].get;if(o){try{o.call(e)}catch(e){}}}}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/timing.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{raf:()=>u});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var a=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");const l=a.BROWSER?()=>performance.now():()=>Date.now();const u={tick:e=>(a.BROWSER?requestAnimationFrame:o.noop)(e),now:()=>l(),tasks:new Set}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/validate.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{validate_binding:()=>validate_binding,validate_each_keys:()=>validate_each_keys});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/errors.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/store.js");function validate_each_keys(e,t){(0,d.render_effect)(()=>{const i=new Map;const o=e();const u=(0,a.is_array)(o)?o:o==null?[]:Array.from(o);const d=u.length;for(let e=0;e<d;e++){const o=t(u[e],e);if(i.has(o)){const t=String(i.get(o));const a=String(e);let u=String(o);if(u.startsWith("[object "))u=null;l.each_key_duplicate(t,a,u)}i.set(o,e)}})}function validate_binding(e,t,i,a,l){var g=false;var v=o.dev_current_component_function?.[u.FILENAME];(0,d.render_effect)(()=>{if(g)return;var[o,u]=(0,m.capture_store_binding)(t);if(u)return;var y=i();var _=false;var w=(0,d.render_effect)(()=>{if(_)return;o[y]});_=true;if(w.deps===null){var A=`${v}:${a}:${l}`;p.binding_property_non_reactive(e,A);g=true}})}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{assignment_value_stale:()=>assignment_value_stale,binding_property_non_reactive:()=>binding_property_non_reactive,console_log_state:()=>console_log_state,event_handler_invalid:()=>event_handler_invalid,hydration_attribute_changed:()=>hydration_attribute_changed,hydration_html_changed:()=>hydration_html_changed,hydration_mismatch:()=>hydration_mismatch,invalid_raw_snippet_render:()=>invalid_raw_snippet_render,legacy_recursive_reactive_block:()=>legacy_recursive_reactive_block,lifecycle_double_unmount:()=>lifecycle_double_unmount,ownership_invalid_binding:()=>ownership_invalid_binding,ownership_invalid_mutation:()=>ownership_invalid_mutation,select_multiple_invalid_value:()=>select_multiple_invalid_value,state_proxy_equality_mismatch:()=>state_proxy_equality_mismatch,transition_slide_display:()=>transition_slide_display});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a="font-weight: bold";var l="font-weight: normal";function assignment_value_stale(e,t){if(o.DEV){console.warn(`%c[svelte] assignment_value_stale\n%cAssignment to \`${e}\` property (${t}) will evaluate to the right-hand side, not the value of \`${e}\` following the assignment. This may result in unexpected behaviour.\nhttps://svelte.dev/e/assignment_value_stale`,a,l)}else{console.warn(`https://svelte.dev/e/assignment_value_stale`)}}function binding_property_non_reactive(e,t){if(o.DEV){console.warn(`%c[svelte] binding_property_non_reactive\n%c${t?`\`${e}\` (${t}) is binding to a non-reactive property`:`\`${e}\` is binding to a non-reactive property`}\nhttps://svelte.dev/e/binding_property_non_reactive`,a,l)}else{console.warn(`https://svelte.dev/e/binding_property_non_reactive`)}}function console_log_state(e){if(o.DEV){console.warn(`%c[svelte] console_log_state\n%cYour \`console.${e}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead\nhttps://svelte.dev/e/console_log_state`,a,l)}else{console.warn(`https://svelte.dev/e/console_log_state`)}}function event_handler_invalid(e,t){if(o.DEV){console.warn(`%c[svelte] event_handler_invalid\n%c${e} should be a function. Did you mean to ${t}?\nhttps://svelte.dev/e/event_handler_invalid`,a,l)}else{console.warn(`https://svelte.dev/e/event_handler_invalid`)}}function hydration_attribute_changed(e,t,i){if(o.DEV){console.warn(`%c[svelte] hydration_attribute_changed\n%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${i}\`, will be ignored in favour of the server value\nhttps://svelte.dev/e/hydration_attribute_changed`,a,l)}else{console.warn(`https://svelte.dev/e/hydration_attribute_changed`)}}function hydration_html_changed(e){if(o.DEV){console.warn(`%c[svelte] hydration_html_changed\n%c${e?`The value of an \`{@html ...}\` block ${e} changed between server and client renders. The client value will be ignored in favour of the server value`:"The value of an `{@html ...}` block changed between server and client renders. The client value will be ignored in favour of the server value"}\nhttps://svelte.dev/e/hydration_html_changed`,a,l)}else{console.warn(`https://svelte.dev/e/hydration_html_changed`)}}function hydration_mismatch(e){if(o.DEV){console.warn(`%c[svelte] hydration_mismatch\n%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}\nhttps://svelte.dev/e/hydration_mismatch`,a,l)}else{console.warn(`https://svelte.dev/e/hydration_mismatch`)}}function invalid_raw_snippet_render(){if(o.DEV){console.warn(`%c[svelte] invalid_raw_snippet_render\n%cThe \`render\` function passed to \`createRawSnippet\` should return HTML for a single element\nhttps://svelte.dev/e/invalid_raw_snippet_render`,a,l)}else{console.warn(`https://svelte.dev/e/invalid_raw_snippet_render`)}}function legacy_recursive_reactive_block(e){if(o.DEV){console.warn(`%c[svelte] legacy_recursive_reactive_block\n%cDetected a migrated \`$:\` reactive block in \`${e}\` that both accesses and updates the same reactive value. This may cause recursive updates when converted to an \`$effect\`.\nhttps://svelte.dev/e/legacy_recursive_reactive_block`,a,l)}else{console.warn(`https://svelte.dev/e/legacy_recursive_reactive_block`)}}function lifecycle_double_unmount(){if(o.DEV){console.warn(`%c[svelte] lifecycle_double_unmount\n%cTried to unmount a component that was not mounted\nhttps://svelte.dev/e/lifecycle_double_unmount`,a,l)}else{console.warn(`https://svelte.dev/e/lifecycle_double_unmount`)}}function ownership_invalid_binding(e,t,i,u){if(o.DEV){console.warn(`%c[svelte] ownership_invalid_binding\n%c${e} passed property \`${t}\` to ${i} with \`bind:\`, but its parent component ${u} did not declare \`${t}\` as a binding. Consider creating a binding between ${u} and ${e} (e.g. \`bind:${t}={...}\` instead of \`${t}={...}\`)\nhttps://svelte.dev/e/ownership_invalid_binding`,a,l)}else{console.warn(`https://svelte.dev/e/ownership_invalid_binding`)}}function ownership_invalid_mutation(e,t,i,u){if(o.DEV){console.warn(`%c[svelte] ownership_invalid_mutation\n%cMutating unbound props (\`${e}\`, at ${t}) is strongly discouraged. Consider using \`bind:${i}={...}\` in ${u} (or using a callback) instead\nhttps://svelte.dev/e/ownership_invalid_mutation`,a,l)}else{console.warn(`https://svelte.dev/e/ownership_invalid_mutation`)}}function select_multiple_invalid_value(){if(o.DEV){console.warn(`%c[svelte] select_multiple_invalid_value\n%cThe \`value\` property of a \`<select multiple>\` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value`,a,l)}else{console.warn(`https://svelte.dev/e/select_multiple_invalid_value`)}}function state_proxy_equality_mismatch(e){if(o.DEV){console.warn(`%c[svelte] state_proxy_equality_mismatch\n%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results\nhttps://svelte.dev/e/state_proxy_equality_mismatch`,a,l)}else{console.warn(`https://svelte.dev/e/state_proxy_equality_mismatch`)}}function transition_slide_display(e){if(o.DEV){console.warn(`%c[svelte] transition_slide_display\n%cThe \`slide\` transition does not work correctly for elements with \`display: ${e}\`\nhttps://svelte.dev/e/transition_slide_display`,a,l)}else{console.warn(`https://svelte.dev/e/transition_slide_display`)}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/flags/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{enable_legacy_mode_flag:()=>enable_legacy_mode_flag,enable_tracing_mode_flag:()=>enable_tracing_mode_flag,legacy_mode_flag:()=>o,tracing_mode_flag:()=>a});let o=false;let a=false;function enable_legacy_mode_flag(){o=true}function enable_tracing_mode_flag(){a=true}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/attributes.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{attr:()=>attr,clsx:()=>clsx,to_class:()=>to_class,to_style:()=>to_style});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/escaping.js");var a=i("../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs");const l={translate:new Map([[true,"yes"],[false,"no"]])};function attr(e,t,i=false){if(t==null||!t&&i)return"";const a=e in l&&l[e].get(t)||t;const u=i?"":`="${(0,o.escape_html)(a,true)}"`;return` ${e}${u}`}function clsx(e){if(typeof e==="object"){return(0,a.clsx)(e)}else{return e??""}}const u=[..." \t\n\r\f \v\ufeff"];function to_class(e,t,i){var o=e==null?"":""+e;if(t){o=o?o+" "+t:t}if(i){for(var a in i){if(i[a]){o=o?o+" "+a:a}else if(o.length){var l=a.length;var d=0;while((d=o.indexOf(a,d))>=0){var p=d+l;if((d===0||u.includes(o[d-1]))&&(p===o.length||u.includes(o[p]))){o=(d===0?"":o.substring(0,d))+o.substring(p+1)}else{d=p}}}}}return o===""?null:o}function append_styles(e,t=false){var i=t?" !important;":";";var o="";for(var a in e){var l=e[a];if(l!=null&&l!==""){o+=" "+a+": "+l+i}}return o}function to_css_name(e){if(e[0]!=="-"||e[1]!=="-"){return e.toLowerCase()}return e}function to_style(e,t){if(t){var i="";var o;var a;if(Array.isArray(t)){o=t[0];a=t[1]}else{o=t}if(e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var l=false;var u=0;var d=false;var p=[];if(o){p.push(...Object.keys(o).map(to_css_name))}if(a){p.push(...Object.keys(a).map(to_css_name))}var m=0;var g=-1;const t=e.length;for(var v=0;v<t;v++){var y=e[v];if(d){if(y==="/"&&e[v-1]==="*"){d=false}}else if(l){if(l===y){l=false}}else if(y==="/"&&e[v+1]==="*"){d=true}else if(y==='"'||y==="'"){l=y}else if(y==="("){u++}else if(y===")"){u--}if(!d&&l===false&&u===0){if(y===":"&&g===-1){g=v}else if(y===";"||v===t-1){if(g!==-1){var _=to_css_name(e.substring(m,g).trim());if(!p.includes(_)){if(y!==";"){v++}var w=e.substring(m,v).trim();i+=" "+w+";"}}m=v+1;g=-1}}}}if(o){i+=append_styles(o)}if(a){i+=append_styles(a,true)}i=i.trim();return i===""?null:i}return e==null?null:String(e)}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/clone.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{snapshot:()=>snapshot});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/warnings.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");const u=[];function snapshot(e,t=false){if(o.DEV&&!t){const t=[];const i=clone(e,new Map,"",t);if(t.length===1&&t[0]===""){a.state_snapshot_uncloneable()}else if(t.length>0){const e=t.length>10?t.slice(0,7):t.slice(0,10);const i=t.length-e.length;let o=e.map(e=>`- <value>${e}`).join("\n");if(i>0)o+=`\n- ...and ${i} more`;a.state_snapshot_uncloneable(o)}return i}return clone(e,new Map,"",u)}function clone(e,t,i,a,u=null){if(typeof e==="object"&&e!==null){var d=t.get(e);if(d!==undefined)return d;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if((0,l.is_array)(e)){var p=Array(e.length);t.set(e,p);if(u!==null){t.set(u,p)}for(var m=0;m<e.length;m+=1){var g=e[m];if(m in e){p[m]=clone(g,t,o.DEV?`${i}[${m}]`:i,a)}}return p}if((0,l.get_prototype_of)(e)===l.object_prototype){p={};t.set(e,p);if(u!==null){t.set(u,p)}for(var v in e){p[v]=clone(e[v],t,o.DEV?`${i}.${v}`:i,a)}return p}if(e instanceof Date){return structuredClone(e)}if(typeof e.toJSON==="function"){return clone(e.toJSON(),t,o.DEV?`${i}.toJSON()`:i,a,e)}}if(e instanceof EventTarget){return e}try{return structuredClone(e)}catch(t){if(o.DEV){a.push(i)}return e}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/errors.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{invalid_default_snippet:()=>invalid_default_snippet,invalid_snippet_arguments:()=>invalid_snippet_arguments,lifecycle_outside_component:()=>lifecycle_outside_component,snippet_without_render_tag:()=>snippet_without_render_tag,store_invalid_shape:()=>store_invalid_shape,svelte_element_invalid_this_value:()=>svelte_element_invalid_this_value});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");function invalid_default_snippet(){if(o.DEV){const e=new Error(`invalid_default_snippet\nCannot use \`{@render children(...)}\` if the parent component uses \`let:\` directives. Consider using a named snippet instead\nhttps://svelte.dev/e/invalid_default_snippet`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/invalid_default_snippet`)}}function invalid_snippet_arguments(){if(o.DEV){const e=new Error(`invalid_snippet_arguments\nA snippet function was passed invalid arguments. Snippets should only be instantiated via \`{@render ...}\`\nhttps://svelte.dev/e/invalid_snippet_arguments`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/invalid_snippet_arguments`)}}function lifecycle_outside_component(e){if(o.DEV){const t=new Error(`lifecycle_outside_component\n\`${e}(...)\` can only be used during component initialisation\nhttps://svelte.dev/e/lifecycle_outside_component`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/lifecycle_outside_component`)}}function snippet_without_render_tag(){if(o.DEV){const e=new Error(`snippet_without_render_tag\nAttempted to render a snippet without a \`{@render}\` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change \`{snippet}\` to \`{@render snippet()}\`.\nhttps://svelte.dev/e/snippet_without_render_tag`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/snippet_without_render_tag`)}}function store_invalid_shape(e){if(o.DEV){const t=new Error(`store_invalid_shape\n\`${e}\` is not a store with a \`subscribe\` method\nhttps://svelte.dev/e/store_invalid_shape`);t.name="Svelte error";throw t}else{throw new Error(`https://svelte.dev/e/store_invalid_shape`)}}function svelte_element_invalid_this_value(){if(o.DEV){const e=new Error(`svelte_element_invalid_this_value\nThe \`this\` prop on \`<svelte:element>\` must be a string, if defined\nhttps://svelte.dev/e/svelte_element_invalid_this_value`);e.name="Svelte error";throw e}else{throw new Error(`https://svelte.dev/e/svelte_element_invalid_this_value`)}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{array_from:()=>l,array_prototype:()=>v,deferred:()=>deferred,define_property:()=>d,fallback:()=>fallback,get_descriptor:()=>p,get_descriptors:()=>m,get_prototype_of:()=>y,index_of:()=>a,is_array:()=>o,is_extensible:()=>_,is_function:()=>is_function,is_promise:()=>is_promise,noop:()=>noop,object_keys:()=>u,object_prototype:()=>g,run:()=>run,run_all:()=>run_all,to_array:()=>to_array});var o=Array.isArray;var a=Array.prototype.indexOf;var l=Array.from;var u=Object.keys;var d=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyDescriptors;var g=Object.prototype;var v=Array.prototype;var y=Object.getPrototypeOf;var _=Object.isExtensible;function is_function(e){return typeof e==="function"}const noop=()=>{};function is_promise(e){return typeof e?.then==="function"}function run(e){return e()}function run_all(e){for(var t=0;t<e.length;t++){e[t]()}}function deferred(){var e;var t;var i=new Promise((i,o)=>{e=i;t=o});return{promise:i,resolve:e,reject:t}}function fallback(e,t,i=false){return e===undefined?i?t():t:e}function to_array(e,t){if(Array.isArray(e)){return e}if(t===undefined||!(Symbol.iterator in e)){return Array.from(e)}const i=[];for(const o of e){i.push(o);if(i.length===t)break}return i}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/validate.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{invalid_default_snippet:()=>l.invalid_default_snippet,prevent_snippet_stringification:()=>prevent_snippet_stringification,validate_dynamic_element_tag:()=>validate_dynamic_element_tag,validate_store:()=>validate_store,validate_void_dynamic_element:()=>validate_void_dynamic_element});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/warnings.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/errors.js");function validate_void_dynamic_element(e){const t=e();if(t&&(0,o.is_void)(t)){a.dynamic_void_element_content(t)}}function validate_dynamic_element_tag(e){const t=e();const i=typeof t==="string";if(t&&!i){l.svelte_element_invalid_this_value()}}function validate_store(e,t){if(e!=null&&typeof e.subscribe!=="function"){l.store_invalid_shape(t)}}function prevent_snippet_stringification(e){e.toString=()=>{l.snippet_without_render_tag();return""};return e}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/warnings.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{dynamic_void_element_content:()=>dynamic_void_element_content,state_snapshot_uncloneable:()=>state_snapshot_uncloneable});var o=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var a="font-weight: bold";var l="font-weight: normal";function dynamic_void_element_content(e){if(o.DEV){console.warn(`%c[svelte] dynamic_void_element_content\n%c\`<svelte:element this="${e}">\` is a void element — it cannot have content\nhttps://svelte.dev/e/dynamic_void_element_content`,a,l)}else{console.warn(`https://svelte.dev/e/dynamic_void_element_content`)}}function state_snapshot_uncloneable(e){if(o.DEV){console.warn(`%c[svelte] state_snapshot_uncloneable\n%c${e?`The following properties cannot be cloned with \`$state.snapshot\` — the return value contains the originals:\n\n${e}`:"Value cannot be cloned with `$state.snapshot` — the original value was returned"}\nhttps://svelte.dev/e/state_snapshot_uncloneable`,a,l)}else{console.warn(`https://svelte.dev/e/state_snapshot_uncloneable`)}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/legacy/legacy-client.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{asClassComponent:()=>asClassComponent,createBubbler:()=>createBubbler,createClassComponent:()=>createClassComponent,handlers:()=>handlers,nonpassive:()=>w.nonpassive,once:()=>w.once,passive:()=>w.passive,preventDefault:()=>w.preventDefault,run:()=>run,self:()=>w.self,stopImmediatePropagation:()=>w.stopImmediatePropagation,stopPropagation:()=>w.stopPropagation,trusted:()=>w.trusted});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/constants.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/effects.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/sources.js");var u=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/render.js");var d=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/runtime.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/errors.js");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var g=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/warnings.js");var v=i("../../node_modules/.pnpm/esm-env@1.2.2/node_modules/esm-env/index.js");var y=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/constants.js");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/context.js");var w=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/legacy/event-modifiers.js");function createClassComponent(e){return new Svelte4Component(e)}function asClassComponent(e){return class extends Svelte4Component{constructor(t){super({component:e,...t})}}}class Svelte4Component{#m;#Bt;constructor(e){var t=new Map;var add_source=(e,i)=>{var o=(0,l.mutable_source)(i,false,false);t.set(e,o);return o};const i=new Proxy({...e.props||{},$$events:{}},{get(e,i){return(0,d.get)(t.get(i)??add_source(i,Reflect.get(e,i)))},has(e,i){if(i===o.LEGACY_PROPS)return true;(0,d.get)(t.get(i)??add_source(i,Reflect.get(e,i)));return Reflect.has(e,i)},set(e,i,o){(0,l.set)(t.get(i)??add_source(i,o),o);return Reflect.set(e,i,o)}});this.#Bt=(e.hydrate?u.hydrate:u.mount)(e.component,{target:e.target,anchor:e.anchor,props:i,context:e.context,intro:e.intro??false,recover:e.recover});if(!e?.props?.$$host||e.sync===false){(0,d.flushSync)()}this.#m=i.$$events;for(const e of Object.keys(this.#Bt)){if(e==="$set"||e==="$destroy"||e==="$on")continue;(0,m.define_property)(this,e,{get(){return this.#Bt[e]},set(t){this.#Bt[e]=t},enumerable:true})}this.#Bt.$set=e=>{Object.assign(i,e)};this.#Bt.$destroy=()=>{(0,u.unmount)(this.#Bt)}}$set(e){this.#Bt.$set(e)}$on(e,t){this.#m[e]=this.#m[e]||[];const cb=(...e)=>t.call(this,...e);this.#m[e].push(cb);return()=>{this.#m[e]=this.#m[e].filter(e=>e!==cb)}}$destroy(){this.#Bt.$destroy()}}function run(e){(0,a.user_pre_effect)(()=>{e();var t=d.active_effect;if((t.f&o.DIRTY)!==0){let e="a file (we can't know which one)";if(v.DEV){e=_.dev_current_component_function?.[y.FILENAME]??e}g.legacy_recursive_reactive_block(e);(0,d.set_signal_status)(t,o.MAYBE_DIRTY)}})}function handlers(...e){return function(t){const{stopImmediatePropagation:i}=t;let o=false;t.stopImmediatePropagation=()=>{o=true;i.call(t)};const a=[];for(const i of e){try{i?.call(this,t)}catch(e){a.push(e)}if(o){break}}for(let e of a){queueMicrotask(()=>{throw e})}}}function createBubbler(){const e=_.component_context;if(e===null){(0,p.lifecycle_outside_component)("createBubbler")}return t=>i=>{const o=e.s.$$events?.[t];if(o){const t=(0,m.is_array)(o)?o.slice():[o];for(const o of t){o.call(e.x,i)}return!i.defaultPrevented}return true}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{derived:()=>o.derived,fromStore:()=>fromStore,get:()=>o.get,readable:()=>o.readable,readonly:()=>o.readonly,toStore:()=>toStore,writable:()=>o.writable});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/shared/index.js");function toStore(e,t){const i=(0,o.writable)(e());if(t){return{set:t,update:i=>t(i(e())),subscribe:i.subscribe}}return{subscribe:i.subscribe}}function fromStore(e){if("set"in e){return{get current(){return(0,o.get)(e)},set current(t){e.set(t)}}}return{get current(){return(0,o.get)(e)}}}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/shared/index.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{derived:()=>derived,get:()=>get,readable:()=>readable,readonly:()=>readonly,writable:()=>writable});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/reactivity/equality.js");var l=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/utils.js");const u=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=o.noop){let i=null;const l=new Set;function set(t){if((0,a.safe_not_equal)(e,t)){e=t;if(i){const t=!u.length;for(const t of l){t[1]();u.push(t,e)}if(t){for(let e=0;e<u.length;e+=2){u[e][0](u[e+1])}u.length=0}}}}function update(t){set(t(e))}function subscribe(a,u=o.noop){const d=[a,u];l.add(d);if(l.size===1){i=t(set,update)||o.noop}a(e);return()=>{l.delete(d);if(l.size===0&&i){i();i=null}}}return{set,update,subscribe}}function derived(e,t,i){const a=!Array.isArray(e);const u=a?[e]:e;if(!u.every(Boolean)){throw new Error("derived() expects stores as input, got a falsy value")}const d=t.length<2;return readable(i,(e,i)=>{let p=false;const m=[];let g=0;let v=o.noop;const sync=()=>{if(g){return}v();const l=t(a?m[0]:m,e,i);if(d){e(l)}else{v=typeof l==="function"?l:o.noop}};const y=u.map((e,t)=>(0,l.subscribe_to_store)(e,e=>{m[t]=e;g&=~(1<<t);if(p){sync()}},()=>{g|=1<<t}));p=true;sync();return function stop(){(0,o.run_all)(y);v();p=false}})}function readonly(e){return{subscribe:e.subscribe.bind(e)}}function get(e){let t;(0,l.subscribe_to_store)(e,e=>t=e)();return t}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{subscribe_to_store:()=>subscribe_to_store});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/index-client.js");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/shared/utils.js");function subscribe_to_store(e,t,i){if(e==null){t(undefined);if(i)i(undefined);return a.noop}const l=(0,o.untrack)(()=>e.subscribe(t,i));return l.unsubscribe?()=>l.unsubscribe():l}},"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/utils.js":(e,t,i)=>{"use strict";i.r(t);i.d(t,{STATE_CREATION_RUNES:()=>k,cannot_be_set_statically:()=>cannot_be_set_statically,hash:()=>hash,is_boolean_attribute:()=>is_boolean_attribute,is_capture_event:()=>is_capture_event,is_content_editable_binding:()=>is_content_editable_binding,is_delegated:()=>is_delegated,is_dom_property:()=>is_dom_property,is_load_error_element:()=>is_load_error_element,is_mathml:()=>is_mathml,is_passive_event:()=>is_passive_event,is_raw_text_element:()=>is_raw_text_element,is_reserved:()=>is_reserved,is_rune:()=>is_rune,is_state_creation_rune:()=>is_state_creation_rune,is_svg:()=>is_svg,is_void:()=>is_void,normalize_attribute:()=>normalize_attribute,sanitize_location:()=>sanitize_location});const o=/\r/g;function hash(e){e=e.replace(o,"");let t=5381;let i=e.length;while(i--)t=(t<<5)-t^e.charCodeAt(i);return(t>>>0).toString(36)}const a=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function is_void(e){return a.includes(e)||e.toLowerCase()==="!doctype"}const l=["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"];function is_reserved(e){return l.includes(e)}function is_capture_event(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const u=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function is_delegated(e){return u.includes(e)}const d=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];function is_boolean_attribute(e){return d.includes(e)}const p={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function normalize_attribute(e){e=e.toLowerCase();return p[e]??e}const m=[...d,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];function is_dom_property(e){return m.includes(e)}const g=["autofocus","muted","defaultValue","defaultChecked"];function cannot_be_set_statically(e){return g.includes(e)}const v=["touchstart","touchmove"];function is_passive_event(e){return v.includes(e)}const y=["textContent","innerHTML","innerText"];function is_content_editable_binding(e){return y.includes(e)}const _=["body","embed","iframe","img","link","object","script","style","track"];function is_load_error_element(e){return _.includes(e)}const w=["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hatch","hatchpath","hkern","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","solidcolor","stop","svg","switch","symbol","text","textPath","tref","tspan","unknown","use","view","vkern"];function is_svg(e){return w.includes(e)}const A=["annotation","annotation-xml","maction","math","merror","mfrac","mi","mmultiscripts","mn","mo","mover","mpadded","mphantom","mprescripts","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"];function is_mathml(e){return A.includes(e)}const k=["$state","$state.raw","$derived","$derived.by"];const T=[...k,"$state.snapshot","$props","$props.id","$bindable","$effect","$effect.pre","$effect.tracking","$effect.root","$inspect","$inspect().with","$inspect.trace","$host"];function is_rune(e){return T.includes(e)}function is_state_creation_rune(e){return k.includes(e)}const x=["textarea","script","style","title"];function is_raw_text_element(e){return x.includes(e)}function sanitize_location(e){return e?.replace(/\//g,"/​")}},"../../node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js":(e,t,i)=>{e.exports=deprecate;function deprecate(e,t){if(config("noDeprecation")){return e}var i=false;function deprecated(){if(!i){if(config("throwDeprecation")){throw new Error(t)}else if(config("traceDeprecation")){console.trace(t)}else{console.warn(t)}i=true}return e.apply(this,arguments)}return deprecated}function config(e){try{if(!i.g.localStorage)return false}catch(e){return false}var t=i.g.localStorage[e];if(null==t)return false;return String(t).toLowerCase()==="true"}},"../../node_modules/.pnpm/vm-browserify@1.1.2/node_modules/vm-browserify/index.js":(__unused_webpack_module,exports)=>{var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);else for(var i=0;i<e.length;i++){if(e[i]===t)return i}return-1};var Object_keys=function(e){if(Object.keys)return Object.keys(e);else{var t=[];for(var i in e)t.push(i);return t}};var forEach=function(e,t){if(e.forEach)return e.forEach(t);else for(var i=0;i<e.length;i++){t(e[i],i,e)}};var defineProp=function(){try{Object.defineProperty({},"_",{});return function(e,t,i){Object.defineProperty(e,t,{writable:true,enumerable:false,configurable:true,value:i})}}catch(e){return function(e,t,i){e[t]=i}}}();var globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function NodeScript(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context)){throw new TypeError("needs a 'context' argument.")}var t=document.createElement("iframe");if(!t.style)t.style={};t.style.display="none";document.body.appendChild(t);var i=t.contentWindow;var o=i.eval,a=i.execScript;if(!o&&a){a.call(i,"null");o=i.eval}forEach(Object_keys(e),function(t){i[t]=e[t]});forEach(globals,function(t){if(e[t]){i[t]=e[t]}});var l=Object_keys(i);var u=o.call(i,this.code);forEach(Object_keys(i),function(t){if(t in e||indexOf(l,t)===-1){e[t]=i[t]}});forEach(globals,function(t){if(!(t in e)){defineProp(e,t,i[t])}});document.body.removeChild(t);return u};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(e){var t=Script.createContext(e);var i=this.runInContext(t);if(e){forEach(Object_keys(t),function(i){e[i]=t[i]})}return i};forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var i=Script(t);return i[e].apply(i,[].slice.call(arguments,1))}});exports.isContext=function(e){return e instanceof Context};exports.createScript=function(e){return exports.Script(e)};exports.createContext=Script.createContext=function(e){var t=new Context;if(typeof e==="object"){forEach(Object_keys(e),function(i){t[i]=e[i]})}return t}},"../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js":function(e,t){var i,o,a;(function(l,u){if(true){!(o=[e],i=u,a=typeof i==="function"?i.apply(t,o):i,a!==undefined&&(e.exports=a))}else{var d}})(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:this,function(e){"use strict";if(!(globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.id)){throw new Error("This script should only be loaded in a browser extension.")}if(!(globalThis.browser&&globalThis.browser.runtime&&globalThis.browser.runtime.id)){const t="The message port closed before a response was received.";const wrapAPIs=e=>{const i={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:true},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:true},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:true}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:false}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:true},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:true}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:true},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:true}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(i).length===0){throw new Error("api-metadata.json has not been included in browser-polyfill")}class DefaultWeakMap extends WeakMap{constructor(e,t=undefined){super(t);this.createItem=e}get(e){if(!this.has(e)){this.set(e,this.createItem(e))}return super.get(e)}}const isThenable=e=>e&&typeof e==="object"&&typeof e.then==="function";const makeCallback=(t,i)=>(...o)=>{if(e.runtime.lastError){t.reject(new Error(e.runtime.lastError.message))}else if(i.singleCallbackArg||o.length<=1&&i.singleCallbackArg!==false){t.resolve(o[0])}else{t.resolve(o)}};const pluralizeArguments=e=>e==1?"argument":"arguments";const wrapAsyncFunction=(e,t)=>function asyncFunctionWrapper(i,...o){if(o.length<t.minArgs){throw new Error(`Expected at least ${t.minArgs} ${pluralizeArguments(t.minArgs)} for ${e}(), got ${o.length}`)}if(o.length>t.maxArgs){throw new Error(`Expected at most ${t.maxArgs} ${pluralizeArguments(t.maxArgs)} for ${e}(), got ${o.length}`)}return new Promise((a,l)=>{if(t.fallbackToNoCallback){try{i[e](...o,makeCallback({resolve:a,reject:l},t))}catch(l){console.warn(`${e} API method doesn't seem to support the callback parameter, `+"falling back to call it without a callback: ",l);i[e](...o);t.fallbackToNoCallback=false;t.noCallback=true;a()}}else if(t.noCallback){i[e](...o);a()}else{i[e](...o,makeCallback({resolve:a,reject:l},t))}})};const wrapMethod=(e,t,i)=>new Proxy(t,{apply(t,o,a){return i.call(o,e,...a)}});let o=Function.call.bind(Object.prototype.hasOwnProperty);const wrapObject=(e,t={},i={})=>{let a=Object.create(null);let l={has(t,i){return i in e||i in a},get(l,u,d){if(u in a){return a[u]}if(!(u in e)){return undefined}let p=e[u];if(typeof p==="function"){if(typeof t[u]==="function"){p=wrapMethod(e,e[u],t[u])}else if(o(i,u)){let t=wrapAsyncFunction(u,i[u]);p=wrapMethod(e,e[u],t)}else{p=p.bind(e)}}else if(typeof p==="object"&&p!==null&&(o(t,u)||o(i,u))){p=wrapObject(p,t[u],i[u])}else if(o(i,"*")){p=wrapObject(p,t[u],i["*"])}else{Object.defineProperty(a,u,{configurable:true,enumerable:true,get(){return e[u]},set(t){e[u]=t}});return p}a[u]=p;return p},set(t,i,o,l){if(i in a){a[i]=o}else{e[i]=o}return true},defineProperty(e,t,i){return Reflect.defineProperty(a,t,i)},deleteProperty(e,t){return Reflect.deleteProperty(a,t)}};let u=Object.create(e);return new Proxy(u,l)};const wrapEvent=e=>({addListener(t,i,...o){t.addListener(e.get(i),...o)},hasListener(t,i){return t.hasListener(e.get(i))},removeListener(t,i){t.removeListener(e.get(i))}});const a=new DefaultWeakMap(e=>{if(typeof e!=="function"){return e}return function onRequestFinished(t){const i=wrapObject(t,{},{getContent:{minArgs:0,maxArgs:0}});e(i)}});const l=new DefaultWeakMap(e=>{if(typeof e!=="function"){return e}return function onMessage(t,i,o){let a=false;let l;let u=new Promise(e=>{l=function(t){a=true;e(t)}});let d;try{d=e(t,i,l)}catch(e){d=Promise.reject(e)}const p=d!==true&&isThenable(d);if(d!==true&&!p&&!a){return false}const sendPromisedResult=e=>{e.then(e=>{o(e)},e=>{let t;if(e&&(e instanceof Error||typeof e.message==="string")){t=e.message}else{t="An unexpected error occurred"}o({__mozWebExtensionPolyfillReject__:true,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})};if(p){sendPromisedResult(d)}else{sendPromisedResult(u)}return true}});const wrappedSendMessageCallback=({reject:i,resolve:o},a)=>{if(e.runtime.lastError){if(e.runtime.lastError.message===t){o()}else{i(new Error(e.runtime.lastError.message))}}else if(a&&a.__mozWebExtensionPolyfillReject__){i(new Error(a.message))}else{o(a)}};const wrappedSendMessage=(e,t,i,...o)=>{if(o.length<t.minArgs){throw new Error(`Expected at least ${t.minArgs} ${pluralizeArguments(t.minArgs)} for ${e}(), got ${o.length}`)}if(o.length>t.maxArgs){throw new Error(`Expected at most ${t.maxArgs} ${pluralizeArguments(t.maxArgs)} for ${e}(), got ${o.length}`)}return new Promise((e,t)=>{const a=wrappedSendMessageCallback.bind(null,{resolve:e,reject:t});o.push(a);i.sendMessage(...o)})};const u={devtools:{network:{onRequestFinished:wrapEvent(a)}},runtime:{onMessage:wrapEvent(l),onMessageExternal:wrapEvent(l),sendMessage:wrappedSendMessage.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:wrappedSendMessage.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}};const d={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};i.privacy={network:{"*":d},services:{"*":d},websites:{"*":d}};return wrapObject(e,u,i)};e.exports=wrapAPIs(chrome)}else{e.exports=globalThis.browser}})},"./src/config/keys.json":e=>{"use strict";e.exports=JSON.parse('{"keys":{"ALCHEMY_API_KEY_PROD":{"category":"blockchain","isRequired":false,"description":"Alchemy API key for production environment","rotationPeriod":"90d"},"ALCHEMY_API_KEY_DEV":{"category":"blockchain","isRequired":false,"description":"Alchemy API key for development environment","rotationPeriod":"90d"},"BLOCKNATIVE_API_KEY":{"category":"blockchain","isRequired":false,"description":"BlockNative API key for transaction monitoring","rotationPeriod":"90d"},"INFURA_API_KEY":{"category":"blockchain","isRequired":false,"description":"Infura API key for blockchain access","rotationPeriod":"90d"},"OPENAI_API_KEY":{"category":"ai","isRequired":false,"description":"OpenAI API key for AI features","rotationPeriod":"30d"},"ANTHROPIC_API_KEY":{"category":"ai","isRequired":false,"description":"Anthropic API key for AI features","rotationPeriod":"30d"}}}')},"./src/lib/common/activities/dapp-activity.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{addDAppActivity:()=>addDAppActivity,cleanupDAppActivityHistory:()=>cleanupDAppActivityHistory,getDAppActivityHistory:()=>getDAppActivityHistory,updateActivitySettings:()=>updateActivitySettings});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/storage.ts");const l="yakklDappActivity";async function addDAppActivity(e){try{const t=await getDAppActivityHistory();o.log.info("addDAppActivity - history",false,t);t.activities.push(e);await(0,a.setObjectInLocalStorage)(l,t)}catch(e){o.log.error("Failed to add DApp activity:",false,e)}}async function getDAppActivityHistory(){try{const e=await(0,a.getObjectFromLocalStorage)(l);if(!e){return{activities:[],settings:{retentionDays:30,autoCleanup:false}}}return e}catch(e){o.log.error("Failed to get DApp activity history:",false,e);return{activities:[],settings:{retentionDays:30,autoCleanup:false}}}}async function cleanupDAppActivityHistory(e){try{const t=await getDAppActivityHistory();const i=Date.now();const o=e?.retentionDays||t.settings?.retentionDays||30;const u=e?.beforeDate||i-o*24*60*60*1e3;t.activities=t.activities.filter(e=>e.timestamp>u);t.lastCleanup=i;await(0,a.setObjectInLocalStorage)(l,t)}catch(e){o.log.error("Failed to cleanup DApp activity history:",false,e)}}async function updateActivitySettings(e){try{const t=await getDAppActivityHistory();t.settings={...t.settings,...e};await(0,a.setObjectInLocalStorage)(l,t)}catch(e){o.log.error("Failed to update activity settings:",false,e)}}},"./src/lib/common/auth/session.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{refreshSession:()=>refreshSession,sessionExpiresAt:()=>d,sessionToken:()=>u,storeEncryptedHash:()=>storeEncryptedHash,storeSessionToken:()=>storeSessionToken,verifySessionToken:()=>verifySessionToken});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var a=i("./src/lib/common/logger-wrapper.ts");var l=i("./src/lib/common/environment.ts");const u=(0,o.writable)(null);const d=(0,o.writable)(null);let p=null;function startExpiryCountdown(e){try{const t=e-Date.now();if(p)clearTimeout(p);if(t>0){p=setTimeout(()=>{u.set(null);d.set(null);a.log.info("Session expired automatically")},t)}}catch(e){a.log.error("Error starting expiry countdown",false,e)}}async function storeSessionToken(e,t,i=true){if(i){u.set(e);d.set(t);startExpiryCountdown(t);return{token:e,expiresAt:t}}else{return null}}async function storeEncryptedHash(e){try{if(l.browserSvelte){if(!e){a.log.warn("No encrypted hash provided",false,{encryptedHash:e});return null}const t=await l.browser_ext.runtime.sendMessage({type:"STORE_SESSION_HASH",payload:e});if(t&&t.token&&t.expiresAt){storeSessionToken(t.token,t.expiresAt);a.log.debug("Session token stored",false,t);return{token:t.token,expiresAt:t.expiresAt}}else{a.log.warn("Session token storage failed",false,t);return null}}}catch(e){a.log.error("Error storing encrypted hash",false,e);return null}}async function refreshSession(e){try{if(l.browserSvelte){const t=await l.browser_ext.runtime.sendMessage({type:"REFRESH_SESSION",token:e});if(t.token&&t.expiresAt){storeSessionToken(t.token,t.expiresAt);a.log.debug("Session refreshed",false,t);return{token:t.token,expiresAt:t.expiresAt}}else{a.log.warn("Session refresh failed or token invalid",false,t);storeSessionToken(null,null,false);return null}}}catch(e){a.log.error("Error refreshing session",false,e);return null}}async function verifySessionToken(e){try{if(!e){a.log.warn("No token provided for verification",false);return false}const t=(0,o.get)(u);const i=(0,o.get)(d);if(!t||!i){a.log.warn("No active session found",false);return false}if(t!==e){a.log.warn("Token mismatch",false);return false}if(Date.now()>=i){a.log.warn("Session expired",false);u.set(null);d.set(null);return false}return true}catch(e){a.log.error("Error verifying session token",false,e);return false}}},"./src/lib/common/backgroundSecuredStorage.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SecureStore:()=>SecureStore,clearMemoizedKey:()=>clearMemoizedKey,clearSecureData:()=>clearSecureData,getMemoizedKey:()=>getMemoizedKey,getObjectFromLocalStorage:()=>getObjectFromLocalStorage,getValidatedObjectFromLocalStorage:()=>getValidatedObjectFromLocalStorage,hashData:()=>hashData,loadSecureData:()=>loadSecureData,migrateToSecureStorage:()=>migrateToSecureStorage,removeSecureData:()=>removeSecureData,removeYakklSecureData:()=>removeYakklSecureData,setObjectInLocalStorage:()=>setObjectInLocalStorage,storeSecureData:()=>storeSecureData,validateStoredData:()=>validateStoredData});var o=i("./src/lib/managers/Logger.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/common/encryption.ts");var d=i("./src/lib/common/constants.ts");let p=null;function extractPublicFields(e,t){const i={};function walk(e,t,i){if(!e||typeof e!=="object")return;const[o,...a]=i;if(o==="*"){for(const i in e){t[i]??={};walk(e[i],t[i],a)}}else{if(!(o in e))return;if(a.length===0){t[o]=e[o]}else{t[o]??={};walk(e[o],t[o],a)}}}for(const o of t){walk(e,i,o.split("."))}return i}async function getMemoizedKey(e,t){if(p)return p;p=await(0,u.deriveKeyFromPassword)(e,t);return p}function clearMemoizedKey(){p=null}async function hashData(e){return crypto.subtle.digest("SHA-256",(new TextEncoder).encode(JSON.stringify(e))).then(e=>Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join(""))}async function validateStoredData(e){const t=await l().storage.local.get([e,`${e}_hash`]);const i=await hashData(t[e]);return i===t[`${e}_hash`]}function isValidatedStorageResult(e){return e&&typeof e==="object"&&"value"in e}async function getValidatedObjectFromLocalStorage(e,t=2e3){try{const i=l().storage.local.get([e,`${e}_hash`]);const o=new Promise(e=>setTimeout(()=>e({value:null,error:"timeout"}),t));const a=await Promise.race([i,o]);if(isValidatedStorageResult(a)){return a}if(!a||!(e in a)){return{value:null,error:"not_found"}}const u=a[`${e}_hash`];const d=await hashData(a[e]);if(u!==d){return{value:null,error:"corrupted"}}return{value:a[e]}}catch(e){o.log.error("Error getting object from local storage",false,e);return{value:null,error:"exception"}}}async function getObjectFromLocalStorage(e,t=2e3){const{value:i}=await getValidatedObjectFromLocalStorage(e,t);return i}async function setObjectInLocalStorage(e,t){try{const i=await hashData(t);await l().storage.local.set({[e]:t,[`${e}_hash`]:i})}catch(e){o.log.error("Error setting object in local storage",false,e);throw e}}async function clearSecureData(e){try{const t=await l().storage.local.get();const i=e?Object.keys(t).filter(t=>t.startsWith(`${e}:`)):Object.keys(t);if(i.length>0){await l().storage.local.remove(i)}}catch(e){o.log.error("Error clearing secure data",false,e);throw e}}async function removeSecureData(e){try{await l().storage.local.remove(e);o.log.info("Local storage successfully removed object(s)",false,e)}catch(e){o.log.error("Error removing object(s) from local storage",false,e);throw e}}async function removeYakklSecureData(){try{const e=await l().storage.local.get();const t=Object.keys(e).filter(e=>e.startsWith("yakkl"));if(t.length>0){o.log.info(`Removed ${t.length} yakkl-related keys from storage`)}}catch(e){o.log.error("Error removing yakkl objects from local storage",false,e);throw e}}async function storeSecureData(e,t,i,o){const a=extractPublicFields(t,i);const p=await(0,u.encryptData)(t,o);const m=await(0,u.digestMessage)(JSON.stringify(t));const g=Date.now();const v={encrypted:p,public:a,hash:m,version:d.CURRENT_STORAGE_VERSION,createdAt:g,lastUpdated:g};await l().storage.local.set({[e]:v})}async function loadSecureData(e,t){const i=await l().storage.local.get(e);const a=i[e];if(!a)return null;if(a.version!==1){o.log.warn(`SecureStorage: Expected version 1, found ${a.version}`)}const d=await(0,u.decryptData)(a.encrypted,t);const p=await(0,u.digestMessage)(JSON.stringify(d));if(p!==a.hash){o.log.warn(`SecureStorage: Hash mismatch on key '${e}'`);return{value:d,public:a.public,corrupt:true,version:a.version,createdAt:a.createdAt,lastUpdated:a.lastUpdated}}const m=[];const g={...a.public};for(const e in a.public){if(a.public[e]!==d[e]){m.push(e);g[e]=d[e]}}if(m.length>0){const t={...a,public:g,lastUpdated:Date.now()};await l().storage.local.set({[e]:t})}return{value:d,public:g,tamperedFields:m.length?m:undefined,autoRepaired:m.length>0,version:a.version,createdAt:a.createdAt,lastUpdated:a.lastUpdated}}class SecureStore{namespace;keySource;constructor(e,t){this.namespace=e;this.keySource=t}scopedKey(e){return`${this.namespace}:${e}`}async set(e,t,i){const o=this.scopedKey(e);await storeSecureData(o,t,i,this.keySource)}async get(e){const t=this.scopedKey(e);return loadSecureData(t,this.keySource)}async remove(e){const t=this.scopedKey(e);await removeSecureData(t)}async clearAll(){await clearSecureData(this.namespace)}}async function migrateToSecureStorage(e,t,i,o){const a=await l().storage.local.get(e);if(!a||!(e in a))return;const u=a[e];await t.set(i,u,o)}},"./src/lib/common/backgroundSecurity.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{isBackgroundContext:()=>isBackgroundContext});var o=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var a=i.n(o);function isBackgroundContext(){const e=typeof a()!=="undefined"&&typeof a().runtime!=="undefined";const t=typeof self!=="undefined"&&self.constructor.name==="ServiceWorkerGlobalScope";const i=typeof self!=="undefined"&&"clients"in self&&"registration"in self;return e&&t&&i}},"./src/lib/common/backgroundStorage.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{clearObjectsFromLocalStorage:()=>clearObjectsFromLocalStorage,getObjectFromLocalStorage:()=>getObjectFromLocalStorage,removeObjectFromLocalStorage:()=>removeObjectFromLocalStorage,setObjectInLocalStorage:()=>setObjectInLocalStorage});var o=i("./src/lib/managers/Logger.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);const clearObjectsFromLocalStorage=async()=>{try{await l().storage.local.clear()}catch(e){o.log.error("Error clearing local storage",false,e);throw e}};const getObjectFromLocalStorage=async(e,t=2e3)=>{try{const i=l().storage.local.get(e);const o=new Promise(e=>setTimeout(()=>{e(null)},t));const a=await Promise.race([i,o]);if(!a||!(e in a)){return null}return a[e]}catch(e){o.log.error("Error getting object from local storage",false,e);return null}};const setObjectInLocalStorage=async(e,t)=>{try{await l().storage.local.set({[e]:t})}catch(e){o.log.error("Error setting object in local storage",false,e);throw e}};const removeObjectFromLocalStorage=async e=>{try{await l().storage.local.remove(e)}catch(e){o.log.error("Error removing object from local storage",false,e);throw e}}},"./src/lib/common/backgroundUtils.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{initializeStorageDefaults:()=>initializeStorageDefaults,manageLockedState:()=>manageLockedState,watchLockedState:()=>watchLockedState});var o=i("./src/lib/models/dataModels.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/managers/Logger.ts");var d=i("./src/lib/common/backgroundSecuredStorage.ts");var p=i("./src/lib/common/constants.ts");async function initializeStorageDefaults(){try{const e=await l().storage.local.get(o.yakklStoredObjects.map(e=>e.key));for(const{key:t,value:i}of o.yakklStoredObjects){if(e[t]===undefined){try{await l().storage.local.set({[t]:i})}catch(e){u.log.error(`Error setting default for ${t}:`,false,e)}}else{}}}catch(e){u.log.error("Failed to initialize storage defaults:",false,e)}}async function manageLockedState(){try{const e=await l().storage.local.get(p.STORAGE_YAKKL_SETTINGS);const t=await l().storage.local.get(p.STORAGE_YAKKL_CURRENTLY_SELECTED);if(t?.shortcuts&&"isLocked"in t.shortcuts&&"isLocked"in e){if(!e.isLocked||!t.shortcuts.isLocked){t.shortcuts.isLocked=e.isLocked=true;await l().storage.local.set({[p.STORAGE_YAKKL_CURRENTLY_SELECTED]:t});await l().storage.local.set({[p.STORAGE_YAKKL_SETTINGS]:e})}if(e.isLocked){await l().action.setIcon({path:{16:"/images/logoBullLock16x16.png",32:"/images/logoBullLock32x32.png",48:"/images/logoBullLock48x48.png",128:"/images/logoBullLock128x128.png"}})}else{await l().action.setIcon({path:{16:"/images/logoBull16x16.png",32:"/images/logoBull32x32.png",48:"/images/logoBull48x48.png",128:"/images/logoBull128x128.png"}})}}else{await l().action.setIcon({path:{16:"/images/logoBullLock16x16.png",32:"/images/logoBullLock32x32.png",48:"/images/logoBullLock48x48.png",128:"/images/logoBullLock128x128.png"}})}}catch(e){u.log.error("Error managing locked state:",false,e)}}async function watchLockedState(e){await manageLockedState();const t=setInterval(async()=>{try{await manageLockedState()}catch(e){u.log.error("Error in watchLockedState interval:",false,e)}},e);return t}},"./src/lib/common/bignumber-ethereum.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EthereumBigNumber:()=>EthereumBigNumber});var o=i("./src/lib/common/bignumber.ts");class EthereumBigNumber extends o.BigNumber{toWei(){let e;if(typeof this._value==="number"||typeof this._value==="string"&&this._value.includes(".")){const t=this._value.toString();const[i,o=""]=t.split(".");const a=o.padEnd(18,"0").slice(0,18);e=BigInt(i+a)}else{e=EthereumBigNumber.toBigInt(this._value)??BigInt(0)}return new EthereumBigNumber(e)}toGwei(){let e;if(typeof this._value==="number"||typeof this._value==="string"&&this._value.includes(".")){const t=this._value.toString();const[i,o=""]=t.split(".");const a=o.padEnd(9,"0").slice(0,9);e=BigInt(i+a)}else{e=EthereumBigNumber.toBigInt(this._value)??BigInt(0)}return new EthereumBigNumber(e)}toEther(){const e=EthereumBigNumber.toBigInt(this._value)??BigInt(0);return new EthereumBigNumber(e/BigInt("1000000000000000000"))}toEtherString(){const e=EthereumBigNumber.toBigInt(this._value)??BigInt(0);const t=e/BigInt("1000000000000000000");const i=e%BigInt("1000000000000000000");const o=i.toString().padStart(18,"0").slice(0,18);const a=`${t}.${o}`;return a}static from(e){if(typeof e==="string"&&/^0x[0-9a-fA-F]+$/.test(e)){return new EthereumBigNumber(BigInt(e))}if(e&&typeof e==="object"&&"_hex"in e&&"_isBigNumber"in e){return new EthereumBigNumber(BigInt(e._hex))}return new EthereumBigNumber(o.BigNumber.toBigInt(e))}static fromWei(e){const t=EthereumBigNumber.from(e);const i=t.div(BigInt("1000000000000000000"));return new EthereumBigNumber(i.toString())}static fromGwei(e){const t=EthereumBigNumber.from(e);const i=t.div(BigInt("1000000000"));return new EthereumBigNumber(i.toString())}static fromEther(e){if(e===null||e===undefined){throw new Error("Value cannot be null or undefined")}let t;if(typeof e==="number"||typeof e==="string"){t=e.toString()}else if(typeof e==="bigint"){t=e.toString()}else if(e instanceof o.BigNumber){t=e.toString()}else if(typeof e==="object"&&"_hex"in e&&"_isBigNumber"in e){t=BigInt(e._hex).toString()}else{throw new Error("Unsupported type for BigNumberish value")}if(!t.includes(".")){t+=".0"}const[i,a]=t.split(".");const l=(a+"0".repeat(18)).slice(0,18);const u=BigInt(i+l);return new EthereumBigNumber(u)}static toWei(e){let t;if(typeof e==="number"||typeof e==="string"&&e.includes(".")){const i=e.toString();const[o,a=""]=i.split(".");const l=a.padEnd(18,"0").slice(0,18);t=BigInt(o+l)}else{t=EthereumBigNumber.toBigInt(e)??BigInt(0)}return new EthereumBigNumber(t)}static toGwei(e){let t;if(typeof e==="number"||typeof e==="string"&&e.includes(".")){const i=e.toString();const[o,a=""]=i.split(".");const l=a.padEnd(9,"0").slice(0,9);t=BigInt(o+l)}else{t=EthereumBigNumber.toBigInt(e)??BigInt(0)}return new EthereumBigNumber(t)}static toEther(e){const t=EthereumBigNumber.from(e).toBigInt()??BigInt(0);return new EthereumBigNumber(t/BigInt("1000000000000000000"))}static toEtherString(e){const t=EthereumBigNumber.from(e).toBigInt()??BigInt(0);const i=t/BigInt("1000000000000000000");const o=t%BigInt("1000000000000000000");const a=o.toString().padStart(18,"0").slice(0,18);const l=`${i}.${a}`;return l}static toFiat(e,t){const i=parseFloat(EthereumBigNumber.toEtherString(e));if(isNaN(i)){throw new Error("Invalid BigNumberish value")}return i*t}static toFormattedFiat(e,t,i,o=""){const a=EthereumBigNumber.toFiat(e,t);const l=new Intl.NumberFormat(o||undefined,{style:"currency",currency:i});return l.format(a)}static toHex(e){const t=o.BigNumber.toBigInt(e);if(t===null){throw new Error("Invalid BigNumberish value")}let i=t.toString(16);if(i.length%2!==0){i="0"+i}return"0x"+i}}},"./src/lib/common/bignumber.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BigNumber:()=>BigNumber,CurrencyCode:()=>o});var o;(function(e){e["USD"]="USD";e["EUR"]="EUR";e["GBP"]="GBP"})(o||(o={}));class BigNumber{_value;constructor(e=null){this._value=e}get value(){return this._value}set value(e){this._value=e}compare(e){const t=this.toBigInt();const i=BigNumber.from(e).toBigInt();if(t===null||i===null){throw new Error("Cannot compare null values")}if(t<i)return-1;if(t>i)return 1;return 0}static isBigNumber(e){return e instanceof BigNumber}static isHexObject(e){return typeof e==="object"&&e!==null&&"hex"in e&&"type"in e}toNumber(){if(this._value===null){return null}if(typeof this._value==="string"||typeof this._value==="number"){return Number(this._value)}if(typeof this._value==="bigint"){return Number(this._value)}if(BigNumber.isBigNumber(this._value)){return this._value.toNumber()}if(BigNumber.isHexObject(this._value)){return Number(BigInt(this._value.hex))}return null}toBigInt(){if(this._value===null){return null}if(typeof this._value==="string"){return BigInt(this._value)}if(typeof this._value==="number"){return BigInt(this._value)}if(typeof this._value==="bigint"){return this._value}if(BigNumber.isBigNumber(this._value)){return this._value.toBigInt()}if(BigNumber.isHexObject(this._value)){return BigInt(this._value.hex)}return null}fromValue(e){this._value=e}max(e){return BigNumber.max(this._value,e)}min(e){return BigNumber.min(this._value,e)}add(e){return BigNumber.add(this._value,e)}subtract(e){return BigNumber.subtract(this._value,e)}sub(e){return this.subtract(e)}div(e){return BigNumber.div(this._value,e)}mul(e){return BigNumber.mul(this._value,e)}mod(e){return BigNumber.mod(this._value,e)}toString(){const e=this.toBigInt();if(e===null){return""}return e.toString()}toHex(e=true){if(this._value===null){return""}if(typeof this._value==="string"){return this._value}const t=this.toBigInt();if(t===null){return""}let i=t.toString(16);if(e&&i.length%2!==0){i="0"+i}return"0x"+i}static from(e){if(BigNumber.isHexObject(e)){return new BigNumber(BigInt(e.hex))}return new BigNumber(e)}static toNumber(e){if(e===null){return null}if(typeof e==="string"||typeof e==="number"){return Number(e)}if(typeof e==="bigint"){return Number(e)}if(BigNumber.isBigNumber(e)){return e.toNumber()}if(BigNumber.isHexObject(e)){return Number(BigInt(e.hex))}return null}static toBigInt(e,t=18){if(e===null){return null}if(typeof e==="number"){if(!Number.isInteger(e)){const i=Math.pow(10,t);return BigInt(Math.round(e*i))}else{return BigInt(e)}}if(typeof e==="string"){if(e.includes(".")){const[i,o=""]=e.split(".");const a=BigInt("1"+"0".repeat(t));const l=BigInt(i)*a+BigInt((o+"0".repeat(t)).slice(0,t));return l}else{return BigInt(e)}}if(typeof e==="bigint"){return e}if(BigNumber.isBigNumber(e)){return e.toBigInt()}if(BigNumber.isHexObject(e)){return BigInt(e.hex)}return null}static max(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null){throw new Error("Invalid BigNumberish value")}return new BigNumber(i>o?i:o)}static min(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null){throw new Error("Invalid BigNumberish value")}return new BigNumber(i<o?i:o)}static add(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null){throw new Error("Invalid BigNumberish value")}return new BigNumber(i+o)}static subtract(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null){throw new Error("Invalid BigNumberish value")}return new BigNumber(i-o)}static sub(e,t){return BigNumber.subtract(e,t)}static div(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null||o===BigInt(0)){throw new Error("Invalid BigNumberish value or division by zero")}return new BigNumber(i/o)}static mul(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null){throw new Error("Invalid BigNumberish value")}return new BigNumber(i*o)}static mod(e,t){const i=BigNumber.toBigInt(e);const o=BigNumber.toBigInt(t);if(i===null||o===null||o===BigInt(0)){throw new Error("Invalid BigNumberish value or modulus by zero")}return new BigNumber(i%o)}static toHex(e){const t=BigNumber.toBigInt(e);if(t===null){throw new Error("Invalid BigNumberish value")}return"0x"+t.toString(16)}static fromHex(e){if(typeof e!=="string"||!/^0x[0-9a-fA-F]+$/.test(e)){throw new Error("Invalid hex string")}return new BigNumber(BigInt(e))}toFiat(e){const t=this.toNumber();if(t===null){throw new Error("Invalid BigNumberish value")}return t*e}toFormattedFiat(e,t,i=""){const o=this.toFiat(e);const a=new Intl.NumberFormat(i||undefined,{style:"currency",currency:t});return a.format(o)}}},"./src/lib/common/computeTokenValue.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{computeTokenValue:()=>computeTokenValue});function computeTokenValue(e){let t=e?.balance?Number(e.balance):0;const i=e?.price?.price??0;const o=t*i;return{balance:t,value:o}}},"./src/lib/common/constants.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ALERT_DELAY:()=>k,BLOCKCHAINS:()=>Yt,BLOCKCHAINS_NETWORKS:()=>$t,CURRENT_STORAGE_VERSION:()=>Se,DEBUG_ALL_LOGS:()=>I,DEFAULT_DERIVED_PATH_ETH:()=>Ee,DEFAULT_EXT_HEIGHT:()=>be,DEFAULT_PERSONA:()=>v,DEFAULT_POPUP_HEIGHT:()=>ye,DEFAULT_POPUP_WIDTH:()=>ve,DEFAULT_TITLE:()=>_e,DEFAULT_UPGRADE_LABEL:()=>we,DEFAULT_YAKKL_ASSETS:()=>Ae,DEV_BASE_DELAY:()=>z,DEV_MAX_RETRIES:()=>G,EARLY_ADOPTER_DEADLINES:()=>m,ENVIRONMENT_TYPES:()=>Jt,ETH_BASE_EOA_GAS_UNITS:()=>W,ETH_BASE_FORCANCEL_GAS_UNITS:()=>$,ETH_BASE_SCA_GAS_UNITS:()=>V,ETH_BASE_SWAP_GAS_UNITS:()=>Y,EVMDenominations:()=>Kt,FOUNDING_MEMBER_DEADLINE:()=>p,GAS_PER_BLOB:()=>y,IDLE_AUTO_LOCK_CYCLE:()=>T,IDLE_AUTO_LOCK_CYCLE_TIME:()=>x,LOGO_BULLFAV48x48:()=>Gt,LOGO_BULLFAV_SVG_DATA:()=>zt,NUM_OF_SPLASH_IMAGES:()=>w,OS_TYPES:()=>Xt,PASSKEY_HINTS_MIN:()=>Ve,PATH_ACCOUNTS:()=>ct,PATH_ACCOUNTS_ETHEREUM_CREATE_DERIVED:()=>dt,PATH_ACCOUNTS_ETHEREUM_CREATE_PRIMARY:()=>ut,PATH_ACCOUNT_MAINTENANCE:()=>ht,PATH_ACTIVITIES:()=>vt,PATH_CONTACTS:()=>Ze,PATH_CRYPTO:()=>yt,PATH_DAPP_ACCOUNTS:()=>Bt,PATH_DAPP_POPUPS:()=>Rt,PATH_DAPP_TRANSACTIONS:()=>Mt,PATH_DASHBOARD:()=>et,PATH_ETHEREUM_TRANSACTIONS_BUY:()=>Ut,PATH_ETHEREUM_TRANSACTIONS_RECV:()=>Ot,PATH_ETHEREUM_TRANSACTIONS_SELL:()=>Lt,PATH_ETHEREUM_TRANSACTIONS_SEND:()=>jt,PATH_ETHEREUM_TRANSACTIONS_STAKE:()=>Ft,PATH_ETHEREUM_TRANSACTIONS_SWAP:()=>Dt,PATH_EXPORT:()=>ot,PATH_EXPORT_EXPORT:()=>at,PATH_HOME:()=>Ye,PATH_IMPORT_EMERGENCYKIT:()=>rt,PATH_IMPORT_PHRASE:()=>it,PATH_IMPORT_PRIVATEKEY:()=>nt,PATH_IMPORT_WATCH:()=>st,PATH_LEGAL:()=>pt,PATH_LOCK:()=>Qe,PATH_LOGIN:()=>Je,PATH_LOGOUT:()=>tt,PATH_NFTS:()=>bt,PATH_PROFILE:()=>mt,PATH_REGISTER:()=>$e,PATH_SECURITY:()=>wt,PATH_SECURITY_2FA:()=>At,PATH_SECURITY_PASSWORD:()=>Et,PATH_SECURITY_RESET:()=>Tt,PATH_SECURITY_SECRET:()=>kt,PATH_SECURITY_USERNAME:()=>St,PATH_SETTINGS:()=>xt,PATH_SETTINGS_PREFERENCES:()=>It,PATH_SETTINGS_SETTINGS:()=>Nt,PATH_TOKENS:()=>Pt,PATH_UNIVERSITY:()=>_t,PATH_WEB3:()=>Ct,PATH_WELCOME:()=>Xe,PLATFORM_TYPES:()=>Qt,PRICE_PROVIDERS:()=>Vt,PROVIDERS:()=>Wt,PRO_ELIGIBLE_PROMO_TYPES:()=>d,SECURITY_LEVEL_DESCRIPTIONS:()=>rr,SMART_TRANSACTION_STATUSES:()=>er,SPLASH_DELAY:()=>A,STORAGE_YAKKL_ACCOUNTS:()=>Be,STORAGE_YAKKL_BLOCKEDLIST:()=>Ke,STORAGE_YAKKL_CHATS:()=>Fe,STORAGE_YAKKL_COMBINED_TOKENS:()=>Le,STORAGE_YAKKL_CONNECTED_DOMAINS:()=>He,STORAGE_YAKKL_CONTACTS:()=>je,STORAGE_YAKKL_CURRENTLY_SELECTED:()=>Ne,STORAGE_YAKKL_MEMPOOL:()=>We,STORAGE_YAKKL_PORTFOLIO:()=>Ie,STORAGE_YAKKL_PREFERENCES:()=>ke,STORAGE_YAKKL_PRIMARY_ACCOUNTS:()=>Re,STORAGE_YAKKL_PROFILE:()=>Ce,STORAGE_YAKKL_PROFILES:()=>Me,STORAGE_YAKKL_REGISTERED_DATA:()=>Pe,STORAGE_YAKKL_SECURITY:()=>xe,STORAGE_YAKKL_SETTINGS:()=>Te,STORAGE_YAKKL_TOKENDATA:()=>Oe,STORAGE_YAKKL_TOKENDATA_CUSTOM:()=>De,STORAGE_YAKKL_WALLET_ACTIVE_TAB:()=>ze,STORAGE_YAKKL_WALLET_BLOCKCHAINS:()=>Ge,STORAGE_YAKKL_WALLET_PROVIDERS:()=>qe,STORAGE_YAKKL_WATCHLIST:()=>Ue,TIMELINES:()=>_,TIMEOUT_COPY_TO_CLIPBOARD:()=>q,TIMER_CHECK_GAS_PRICE_INTERVAL_TIME:()=>C,TIMER_CHECK_PRICE_INTERVAL_TIME:()=>N,TIMER_CONNECTION_INTERVAL_TIME:()=>M,TIMER_GAS_PRICE_CHECK:()=>H,TIMER_ICON_CHECK_TIME:()=>O,TIMER_IDLE_CHECK_INTERVAL:()=>F,TIMER_IDLE_CHECK_INTERVAL_APP_WIDE:()=>U,TIMER_IDLE_LOCK_DELAY:()=>L,TIMER_IDLE_THRESHOLD:()=>D,TIMER_PRICE_INTERVAL_TIME:()=>P,TIMER_SWAP_FETCH_PRICES_TIME:()=>j,TIMER_TOKEN_PRICE_CYCLE_TIME:()=>B,TOKEN_IMAGES:()=>Zt,TRIAL_DAYS:()=>u,VERSION:()=>a,WALLET_SECURITY_CONFIG:()=>tr,WEB3_SVG:()=>Ht,WEB3_SVG_DATA:()=>qt,WETH_ADDRESS:()=>J,YAKKL_DAPP:()=>he,YAKKL_ETH:()=>me,YAKKL_EXTERNAL:()=>ae,YAKKL_FEE_ACCEPTABLE_TOKENS:()=>re,YAKKL_FEE_BASIS_POINTS:()=>ee,YAKKL_FEE_BASIS_POINTS_DIVISOR:()=>te,YAKKL_GAS_ESTIMATE_MIN_USD:()=>Q,YAKKL_GAS_ESTIMATE_MULTIHOP_SWAP_DEFAULT:()=>Z,YAKKL_GAS_ESTIMATE_MULTIPLIER_BASIS_POINTS:()=>X,YAKKL_INTERNAL:()=>oe,YAKKL_PROVIDER:()=>ce,YAKKL_PROVIDER_EIP6963:()=>le,YAKKL_PROVIDER_ETHEREUM:()=>ue,YAKKL_PRO_ANNUAL_FEE:()=>g,YAKKL_SPLASH:()=>de,YAKKL_UNIFIED_PORT:()=>pe,YAKKL_ZERO_ACCOUNT_NAME:()=>se,YAKKL_ZERO_ACCOUNT_TYPE:()=>ie,YAKKL_ZERO_ADDRESS:()=>ne,YEAR:()=>l});var o=i("./src/lib/permissions/types.ts");const a="2.0.0";const l="2025";const u=14;const d=["investor","influencer","employee","special","founding","early","partner","founder","internal","press"];const p="2025-08-15T04:00:00.000Z";const m=[{date:"2025-10-01T04:00:00.000Z",price:120},{date:"2025-11-15T04:00:00.000Z",price:132},{date:"2026-01-01T04:00:00.000Z",price:144}];const g=144;const v="default";const y=131072;const _=["1h","24h","7d","30d"];const w=3;const A=3e3;const k=3e3;const T=2;const x=6e4;const I=true;const N=1e4;const P=1e4;const C=1e4;const M=3e4;const B=15e3;const j=6e4;const O=6e4;const D=12e4;const L=6e4;const F=15e3;const U=15e3;const H="gas_checkGasPrices";const q=2e4;const G=5;const z=1e3;const W=21e3;const V=45e3;const Y=500000n;const $=W*3;const J="0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2";const Q=3.5;const Z=375e4;const X=30000n;const ee=42.25;const te=1e4;const re=["ETH","WETH","YAKKL","USDC","USDT","DAI","WBTC"];const ne="0x0000000000000000000000000000000000000000";const se="YAKKL - Zero Account - YAKKL";const ie="NA";const oe="yakkl-internal";const ae="yakkl-external";const le="yakkl-provider-eip6963";const ce="yakkl-provider";const ue="yakkl-provider-ethereum";const de="yakkl-splash";const he="yakkl-dapp";const pe="yakkl-unified";const me="yakkl-eth";const ve=428;const ye=926;const be=926;const _e="YAKKL® Smart Wallet";const we="Pro - ";const Ee="m/44'/60'/";const Ae="yakklAssets";const Se=1;const ke="preferences";const Te="settings";const xe="yakklSecurity";const Ie="yakklPortfolio";const Ne="yakklCurrentlySelected";const Pe="yakklRegisteredData";const Ce="profile";const Me="profiles";const Be="yakklAccounts";const Re="yakklPrimaryAccounts";const je="yakklContacts";const Oe="yakklTokenData";const De="yakklTokenDataCustom";const Le="yakklCombinedTokens";const Fe="yakklChats";const Ue="yakklWatchList";const Ke="yakklBlockedList";const He="yakklConnectedDomains";const qe="yakklWalletProviders";const Ge="yakklWalletBlockchains";const ze="yakklWalletActiveTab";const We="yakklMemPool";const Ve=3;const Ye="/";const $e="/register/Register";const Je="/login/Login";const Qe="/lock";const Ze="/contacts";const Xe="/welcome/welcome";const et="/dashboard";const tt="/logout";const rt="/import/import-emergencykit";const nt="/import/import-privatekey";const st="/import/import-watch";const it="/import/import-phrase";const ot="/export";const at="/export/export";const ct="/accounts";const ut="/accounts/ethereum/create/primary";const dt="/accounts/ethereum/create/derived";const ht="/accounts/ethereum/maintenance";const pt="/legal/Legal";const mt="/components/profile";const vt="/activities";const yt="/crypto";const bt="/nfts";const _t="/university";const wt="/security";const Et="/security/password";const At="/security/2fa";const St="/security/username";const kt="/security/secret";const Tt="/security/reset";const xt="/settings";const It="/settings/preferences";const Nt="/settings/settings";const Pt="/tokens";const Ct="/web3";const Mt="/dapp/popups/transactions";const Bt="/dapp/popups/accounts";const Rt="/dapp/popups";const jt="/accounts/ethereum/transactions/send";const Ot="/accounts/ethereum/transactions/recv";const Dt="/accounts/ethereum/transactions/swap";const Lt="/accounts/ethereum/transactions/sell";const Ft="/accounts/ethereum/transactions/stake";const Ut="/accounts/ethereum/transactions/buy";var Kt;(function(e){e["ETH"]="ETH";e["GWEI"]="GWEI";e["WEI"]="WEI"})(Kt||(Kt={}));const Ht='<svg height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" focusable="false" style="width: 28px; height: 28px;"><radialGradient id="injected-a" cx="1.813132%" cy="50%" r="98.186868%"><stop offset="0" stop-color="#424242"></stop><stop offset="1"></stop></radialGradient><g fill="none" fill-rule="evenodd"><path d="m256 0c141.384896 0 256 114.615104 256 256 0 141.384896-114.615104 256-256 256-141.384896 0-256-114.615104-256-256 0-141.384896 114.615104-256 256-256z" fill="url(#injected-a)"></path><path d="m137.902344 242.761719-15.820313 55.957031h-16.699219l-22.382812-84.550781h18.398438l13.183593 59.589843h.9375l15.410157-59.589843h14.941406l15.703125 59.589843h.9375l13.066406-59.589843h18.28125l-22.441406 84.550781h-16.582031l-15.996094-55.957031zm127.324218 40.839843v15.117188h-56.015624v-84.550781h56.015624v15.117187h-38.320312v19.746094h36.152344v14.003906h-36.152344v20.566406zm56.601563 15.117188h-37.96875v-84.550781h36.972656c16.40625 0 26.191407 8.027343 26.191407 21.09375 0 8.964843-6.621094 16.757812-15.292969 18.046875v1.054687c11.191406.820313 19.335937 9.257813 19.335937 20.15625 0 14.824219-11.191406 24.199219-29.238281 24.199219zm-20.273437-71.015625v21.503906h13.300781c9.550781 0 14.765625-3.925781 14.765625-10.722656 0-6.738281-4.863282-10.78125-13.300782-10.78125zm0 57.480469h15.761718c10.195313 0 15.703125-4.277344 15.703125-12.1875 0-7.734375-5.683593-11.835938-16.113281-11.835938h-15.351562zm84.433593-23.144532v-13.183593h10.3125c8.027344 0 13.476563-4.6875 13.476563-11.601563 0-6.796875-5.273438-11.132812-13.535156-11.132812-8.203126 0-13.652344 4.628906-14.121094 11.953125h-16.347656c.585937-15.996094 12.480468-26.074219 30.9375-26.074219 17.34375 0 29.824218 9.492188 29.824218 22.792969 0 9.785156-6.152344 17.402343-15.585937 19.335937v1.054688c11.601562 1.289062 18.867187 9.023437 18.867187 20.15625 0 14.824218-13.945312 25.546875-33.222656 25.546875-18.867188 0-31.640625-10.429688-32.402344-26.367188h16.933594c.527344 7.148438 6.5625 11.660157 15.644531 11.660157 8.847657 0 15-4.980469 15-12.1875 0-7.382813-5.800781-11.953126-15.292969-11.953126z" fill="#fff"></path></g></svg>';const qt="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIGFyaWEtaGlkZGVuPSJ0cnVlIiBmb2N1c2FibGU9ImZhbHNlIiBzdHlsZT0id2lkdGg6IDQ4cHg7IGhlaWdodDogNDhweDsiPjxyYWRpYWxHcmFkaWVudCBpZD0iaW5qZWN0ZWQtYSIgY3g9IjEuODEzMTMyJSIgY3k9IjUwJSIgcj0iOTguMTg2ODY4JSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjNDI0MjQyIj48L3N0b3A+PHN0b3Agb2Zmc2V0PSIxIj48L3N0b3A+PC9yYWRpYWxHcmFkaWVudD48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Im0yNTYgMGMxNDEuMzg0ODk2IDAgMjU2IDExNC42MTUxMDQgMjU2IDI1NiAwIDE0MS4zODQ4OTYtMTE0LjYxNTEwNCAyNTYtMjU2IDI1Ni0xNDEuMzg0ODk2IDAtMjU2LTExNC42MTUxMDQtMjU2LTI1NiAwLTE0MS4zODQ4OTYgMTE0LjYxNTEwNC0yNTYgMjU2LTI1NnoiIGZpbGw9InVybCgjaW5qZWN0ZWQtYSkiPjwvcGF0aD48cGF0aCBkPSJtMTM3LjkwMjM0NCAyNDIuNzYxNzE5LTE1LjgyMDMxMyA1NS45NTcwMzFoLTE2LjY5OTIxOWwtMjIuMzgyODEyLTg0LjU1MDc4MWgxOC4zOTg0MzhsMTMuMTgzNTkzIDU5LjU4OTg0M2guOTM3NWwxNS40MTAxNTctNTkuNTg5ODQzaDE0Ljk0MTQwNmwxNS43MDMxMjUgNTkuNTg5ODQzaC45Mzc1bDEzLjA2NjQwNi01OS41ODk4NDNoMTguMjgxMjVsLTIyLjQ0MTQwNiA4NC41NTA3ODFoLTE2LjU4MjAzMWwtMTUuOTk2MDk0LTU1Ljk1NzAzMXptMTI3LjMyNDIxOCA0MC44Mzk4NDN2MTUuMTE3MTg4aC01Ni4wMTU2MjR2LTg0LjU1MDc4MWg1Ni4wMTU2MjR2MTUuMTE3MTg3aC0zOC4zMjAzMTJ2MTkuNzQ2MDk0aDM2LjE1MjM0NHYxNC4wMDM5MDZoLTM2LjE1MjM0NHYyMC41NjY0MDZ6bTU2LjYwMTU2MyAxNS4xMTcxODhoLTM3Ljk2ODc1di04NC41NTA3ODFoMzYuOTcyNjU2YzE2LjQwNjI1IDAgMjYuMTkxNDA3IDguMDI3MzQzIDI2LjE5MTQwNyAyMS4wOTM3NSAwIDguOTY0ODQzLTYuNjIxMDk0IDE2Ljc1NzgxMi0xNS4yOTI5NjkgMTguMDQ2ODc1djEuMDU0Njg3YzExLjE5MTQwNi44MjAzMTMgMTkuMzM1OTM3IDkuMjU3ODEzIDE5LjMzNTkzNyAyMC4xNTYyNSAwIDE0LjgyNDIxOS0xMS4xOTE0MDYgMjQuMTk5MjE5LTI5LjIzODI4MSAyNC4xOTkyMTl6bS0yMC4yNzM0MzctNzEuMDE1NjI1djIxLjUwMzkwNmgxMy4zMDA3ODFjOS41NTA3ODEgMCAxNC43NjU2MjUtMy45MjU3ODEgMTQuNzY1NjI1LTEwLjcyMjY1NiAwLTYuNzM4MjgxLTQuODYzMjgyLTEwLjc4MTI1LTEzLjMwMDc4Mi0xMC43ODEyNXptMCA1Ny40ODA0NjloMTUuNzYxNzE4YzEwLjE5NTMxMyAwIDE1LjcwMzEyNS00LjI3NzM0NCAxNS43MDMxMjUtMTIuMTg3NSAwLTcuNzM0Mzc1LTUuNjgzNTkzLTExLjgzNTkzOC0xNi4xMTMyODEtMTEuODM1OTM4aC0xNS4zNTE1NjJ6bTg0LjQzMzU5My0yMy4xNDQ1MzJ2LTEzLjE4MzU5M2gxMC4zMTI1YzguMDI3MzQ0IDAgMTMuNDc2NTYzLTQuNjg3NSAxMy40NzY1NjMtMTEuNjAxNTYzIDAtNi43OTY4NzUtNS4yNzM0MzgtMTEuMTMyODEyLTEzLjUzNTE1Ni0xMS4xMzI4MTItOC4yMDMxMjYgMC0xMy42NTIzNDQgNC42Mjg5MDYtMTQuMTIxMDk0IDExLjk1MzEyNWgtMTYuMzQ3NjU2Yy41ODU5MzctMTUuOTk2MDk0IDEyLjQ4MDQ2OC0yNi4wNzQyMTkgMzAuOTM3NS0yNi4wNzQyMTkgMTcuMzQzNzUgMCAyOS44MjQyMTggOS40OTIxODggMjkuODI0MjE4IDIyLjc5Mjk2OSAwIDkuNzg1MTU2LTYuMTUyMzQ0IDE3LjQwMjM0My0xNS41ODU5MzcgMTkuMzM1OTM3djEuMDU0Njg4YzExLjYwMTU2MiAxLjI4OTA2MiAxOC44NjcxODcgOS4wMjM0MzcgMTguODY3MTg3IDIwLjE1NjI1IDAgMTQuODI0MjE4LTEzLjk0NTMxMiAyNS41NDY4NzUtMzMuMjIyNjU2IDI1LjU0Njg3NS0xOC44NjcxODggMC0zMS42NDA2MjUtMTAuNDI5Njg4LTMyLjQwMjM0NC0yNi4zNjcxODhoMTYuOTMzNTk0Yy41MjczNDQgNy4xNDg0MzggNi41NjI1IDExLjY2MDE1NyAxNS42NDQ1MzEgMTEuNjYwMTU3IDguODQ3NjU3IDAgMTUtNC45ODA0NjkgMTUtMTIuMTg3NSAwLTcuMzgyODEzLTUuODAwNzgxLTExLjk1MzEyNi0xNS4yOTI5NjktMTEuOTUzMTI2eiIgZmlsbD0iI2ZmZiI+PC9wYXRoPjwvZz48L3N2Zz4K";const Gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAACklpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAAEiJnVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/stRzjPAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAJcEhZcwAACxMAAAsTAQCanBgAABBvSURBVGiBvZl5kB1XdcZ/d+nlvXkzmtE+mkUaSUSWtRlZFl7AMsbCS0KKhBCzhLXYkhiTAspVWaqAhEolqYRAoAKFCTbBNlQK4wVTQIxsYYwtyZLRNpIsSzOj3SNpZjSambd09703f/Trt4zGDgaSrjp63a3uvt/3nXPPnHuuKD67gpkOUf1HiPT63FFHNJXe0wHM7hX4ObAWlLLdWtqrhLJrrBHrokj1RbGaY4xocRYhpS1qZUa0NsekcHsSI/clidyZxGLQOXAWbPZrwTmHNQAS4eVQfg6hvRlx6hnvvtJRHUhKN9sPkt/DufeOjeU3nDrVMevIwDwGB+YxMlKgXPFJYgWAUmZ2EMTdHR1T63p7z/3+0iVn6Vw4NtnRPrnbOe6LKvpha8Twq8YCiFfjgfJF8EK3aF5P8jGR89+//0BXz7btfRw61MXI+Tbi2EMIkNIhhUvfB5wD5wTWCqwDz4uZ1T7J8mWnWf/aAS5fcXy40FJ5oFz2vpwkYvDVeOBXJ3DEiXwh+Wg4R33m+b19Cx97bB1Hj3RircL3LEpZhHD1d5tOSD2XnVbJRLFCCEtX11luvGEPV61/cTQI4n8ol/W/WUPlt0ZACLdYi/jrLw4tfPP9D1xD//4elBQEXlJTOX1O/IoE0jjPruNYExvB0iWneOtbfsHKFSe2lcv6Q9bq/t+YgOfZW63l7kd+sK7r4Yc3UCnlCMO49owUogY+I5KRmn64BhLWpgSsdRk/KpFGqZhN1/+S2968YyTw3R0Jhe/+2gQ837xzqujfe/c3rvef/vlKcqFJQwWQUiCrwKUAQUYkA99MIdM7I+Gcw7k0+1jn0szjwFpBqeyxZvUR3vPup2hvj+9MaP3yqybg++Ydk1P+A//yhZvFvr19FFoiqCouRZ1AzQNkhDIBpvvAVYGnBOwlBMBYh3Up0VLZo6d3mD/92Fbmzo8+Hie5r8zkVlF85lIC2jM3l0reo//8hVv8/v1LyOfSkFFCpMAlKEQKXjaGUTYfLoWfqW+rk8FW50FGwNr0/zISzkG5rOnuPc/HP/GM6ZgdvydK9HfqQZgeslkjEML1WCvu/fo3Nvn79/aRz8UIQElRtZSIUgKlQFfvaSmqJhvO66akQCuBl53Xvlc1Vf2uFKiqIGGYcHxoHt+6d4NKXHC35/trlQ5pNJlmhNRwiDCM7nnkB+sW/uLplbS0RLV4V69gTWBVw2+jTXt2+nlNHJl6OSORz8fs37OI739vZUvQov5TekFOegE1c9UJ5JzD9+KPHDi48E2PPrKBfGiawVfDRzUBqKqtJEo1Xjd6o37PkwKlZI2UqpquKS9rXmgkEYaGJ3+ymF8+v2BdrqDvEjpAeKnVPABuQRSrz3/nu9dQKeeQylYzTDZpQYlmN2eKKTlN9SqpugdkFfwMoSVIidS+Vx9HZiYdzkkevL+PqVLukzoI+qQOkLqBQBDEf759R9/cgwd7CcO4qj61jFMDLsUlITVTWLySvVwoppmtniikrGc937ccHyjw9NZ5bbmC/mvRSEDg2qcm/Q/9+CfrUDLNHybRSJrDR86gvq6qp2UaIo3qe1XLvKBVc+hl543i1L5fVV8giGMNDjzfsfXHc5iYCm/XYdBTCyHPS97Sf2BR58BAJ0pZ5s2dZM3aE1ijiCOvluNV1SO10KkOlAFTGfhpinsNYD0lmt+/JGxSjzsnicoageB1Vw/Ts3gSKQUnB0N2PdtWyLV470k9kNbfH3xu1zKcVShpOX++jaV9Z/nkpx/i8lXHAUlUCbHGQyBTT1yimkRYDyUkEoWwARKNtAqXKKRTKCHApBO7KWyq3nVOkESKSlGRzxuuu2mYz/zrNlatHeX0iTaUdAgh2PHzAhb/XdLzlZbSdo2N5a984XAXnmfScljADx+7Cinhjjsf5MSJeezetZKhI0sYH5tNUsk1TJDUvCBiXtdLTIzOoWPuCJ5XYWqiA+mHtM6JcXGZ00MdzOmKeGnAx8QOg8VYQZwAytLWEbOgt8jK9WOsuWqYWZ0XePyBbr5zz/I0x0uL58ORAz5nh4MV8xeJ1VpKu/HUmfbWsdE2lLJQreeVtvzwkWs5c2I+b7t9C3/0jh9xcbyFsy/N4aVTnVwYmU0SBUjhyLdMsXDxMJ1959j91BsZHuxi0x9+k0TOp3X5dbTOC3joMx28ZsMkb/zwCIe3tXP6SI5KySF1QsusiM6+KbqWTlCYMwm5IhePSu75/Bqe2rIA7ScIHM4IlHJMjEmOHQ105zJep6Uwa4YG5xNFHvlcXC0LRAosX6F/33JOHuvimtfvYf2GvXR2naGr9zgmllQqGmsczgmcasGYHCtft5eTh1ZxZPdGLntDP/m2mKPbFjF2upVNHxpAKsnqm8qsvpV0aecqoEpABYoR4yd9dj05hycemce5YY98PsE4hzPVOsuBNYJDuzVX3yY3aGPEusFj85ENxUu9vocwjIiigK2PX8fuHa+ld8lpurpP07N4iNnzziBlRBL74DRSKHKtU6y7YSf7tmxi8fozhFOWXd+bw9rNJ2mbX8ZEBRwCZQQyTPGfPRoysLuFwX6Po/0ho+c0KEOuxZIYwAmEcFQrdaSC40clGL1aR5FaOjZWQMr6A7VFSrUw09KivYg4Cjh66HcYemEluTBmUc8pVq7dQVffYZROcEAcefSuPsKJfZcz8PwbyA8ptIhYsWmYpOIjFCjPIbRjcIfPzkdzDOzxmJoUGOdAGcK8ITGOxFbLdRyGlAQClIKJMYhKdo6OIjW3XPYRsl7lybofaDyV0qK9GC0TpBScHlrGS0OXseQ1h1i/6Qk6OscxLkQoy5rNu9h+/62YSHD1B3+Jn4uxNsAvWC6eU/zivhb6t/rEBnQ+JsxbEpuCzsIlq27dtAWSEFAuQlSOW7VJZC5J1CXLQDGjidq5NZqllx3CU46hQ2uZHO1i/Y1P0LtmCBOHtHefY8WmfSRxgQUrzpFEeYJWy4m9eZ765lyGhzyWX3kB7U/Sv3M+SNMAshrsjZBE/b4QEMdg48SX1s1Yur/i4YDEKOYvGubm27/Fqqu3US4W2PWT3+V4/+V4foSNFctef5CVN+/HWYkOHCd2t/HEVxYxfkazZvM4f/C3J+ldcR4Tyf91zJlACBcLKTAlpUwD1TrIS62h6+AgSdKuQu+KQaRKQDj2bdnE8GAv2kswicLECuVbRgZbeObeXkwsEAoWr7uACC1xRdUEd02jz6BatiwFtOeQJJFU0owGfoR1ooY0e8w1vly9yNay6eLH4izk2yOClgrWWOJIsven11CazCOkRUhHXNbsenAx5SmJE+DnI9oXXAArETJdldU7Fq42pnP18RspOSsIcxZPxxNSKzPU1jaFtXX5XSMJ1+CBbD2LQ6qEwcPLGT07l44FE2x823msEFgMxYmQqBQgZDrh4pLi4kiAk44kFqy4ajuzF16gMpLn0PMLkdrWF/pQI+RmwIJL24+FNoMfxKNSenpPT89YM9DsRZf6obboabgvVcLZMwt4/KG3U5xoYfUtE2z+yADGWpAJ2o9qKurAoHMxUSy56qYfsHrjU0QlxWNf6mToYDtKG5yteqImUsP4GfjqYQx0L4nAiw9JJ4K9fUvH0Dqpg56mgG3oHtTMOqRX4cypHn728A3EU4q+defItRWJ4ktDODag/CK9Kw5irean9/RyaJuPDi3GpYAbWyx1a+xkVENXOlZdUQQbPyetCHd0dhWLs9qnsFZWlc76NPX4tG4Gs6D8mCN7FvDfdy9EqoiwUEqLM6AxKyQGlK4QhBE7tlzPge096CDG2lQM2zBeZk2eqMaPtYLWNsPy10xZomS7dCI8Nmeu2bNs+XmiWDaHT9b6sI2EUjOZWYcKEnZvCXj8nm7KkcamzZOmw1pLbBzbt76RvTs3Ir2o9o3Mo/UGl6uPax2WuieiimDpihJzF5WOEtk9Umofof1vXbnxLAJbywQvp7ix1FWrmnEO6Rl2buli+FQBJ8wlmdBiuHgxz65nNuJEgnU27QFZh7FUiUwbL/OAbfCIc1x7/RhCR//lbBJLoQMSGz64at3Fke7F48SRrMb9parX1K8SMRYSm3rBOIuTWQ1zaR5PLCTG4YixzlbfS++nQlAlUxfG2WbPxLFgUU+Za28YqVCy92ATpPQCkOH5WR3y2zfddoY4qfcuGyduFi7GNodP7bcKPLEpuOkUjHU1sonJri3GOZKGb9mGcc20+RBVJG+65Sy5jtLDLjZHcQYpddogipLcF6/ZND6+7LKLVCqyoeVXVye7NtMsaQLnKFemN3ahXIHY2NqzScP7zd+kSqYunnOOOJJ0L57iptvOFCnav8MZcAYpdIDQAU4Gx/Kt+vO3f2AYpU0KulGNLGwcDcCbASXWUYkFK644xqzZRZS2aM9RmJWw6tox4oSal2qATSOZZqHqGSod890fGKQwu/g1l9j+jID6qzuvQiiNUBpj9c6eJeaWqSnZtf/5Fny/YS7WqmsHIrtfO0kLvEQyb+EFrr9tH+NjbYyPFbg4lmd8NEfn0oTTQzlGhjXIVGGThUkGsjbH6uHkgKkpzU23nuKtfzI0QFG8C1xF4BA4tPTCRl9HsXHve/sHJ585eSzXvvvZFvItDkOaEtKKVqRVUpWQFen6QQJJDK0dk2zfupznnl5OLp/+RSsXBWuvnaSjs8KL+308lf3VzfYEGghk4Kv3SkXNqrUjvP9jhyMi8z6cHG8MUNnUKPUDnAgPhnnvo3/2N1MsXVmhVKTWu290dVPcV83JhOPHOpg9f4K5C8cpV6BchlnzKixaWuLwnhBUNQNlk95k37RNc8I6KJcVC7smufPT+8i1lP+C2D2dhU5monj8rktSHkCQ13ecP+d/+Z8+FTJwQNPSmt5Xsr6xke0L1H/BJIr22SWu2PgSifFwwiNXgH3b2xk+6aM8W695nEtzvW3OeM5BqaRZ2DnBX35uF119Fz9HWX92JpwvS0Aoj7A1vGPkvP7SVz8r5a6fSfKFtGeZbStlfcv6NlNafRojEUChLUZImBzXWCtQtaqThr81zcnCOcHUlGLV2vN8/FN7WNA9kYIXMy96XpGA9HL4reG7klh99b4vxm0/uh+clQRh886knLZHlm0wZRWkqM31hvK8Br5eRkeRxFq4cfNxPvDR/nLYEn2Kiv73Wl3+6xCQfg6lxRUiiP/j+S1m/X1flAy9oPF9gee7hi6GqC3CX2as5l3KKjvnII4lUUXSvfgi73zvIa7ZdPIwsfgwRj4Fkt+YgBACbCWvwviu0pj5xJOPivbHv+9z/KiPQOAHoFQtsc68xwpNKytrRU3xRd0T3Lj5OJtvOT5VmF38GiX99zhGU9C/PQIIGyNFtJwgvqs8am/f9qTX9uwTIUf6fS5e0FgjUSptmwpZ7xakIZPuzhuTti4LrRFLl49z9XVnuO4Np0v5jtJDlMU/YsTe+kbz/wEBbAQ2Roq4Dz9+J7H943MnWT30oqcO7A44NhAwMa4pFRVJnA6qtSXMGVpbI7p7J7l89ShLl42zoHPyIF7yfcri2xjxQt0//w8EsAnYGEEihYzXopONkFxJ2a6KS25uHLlWm9gAZ4WUpuLpeMIL4lG85BDWPkfsniMRu3EursfWqyfwP0BbMEdBTtFjAAAAAElFTkSuQmCC";const zt="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJhIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNzU4LjczIDczOC45MiI+PGRlZnM+PHJhZGlhbEdyYWRpZW50IGlkPSJiIiBjeD0iMzk5LjMiIGN5PSIzNTkuNDIiIGZ4PSIzOTkuMyIgZnk9IjM1OS40MiIgcj0iMzUxLjY2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIuMDMiIHN0b3AtY29sb3I9IiNhZTVlYTQiLz48c3RvcCBvZmZzZXQ9Ii4zNCIgc3RvcC1jb2xvcj0iIzhmNGI5YiIvPjxzdG9wIG9mZnNldD0iLjg5IiBzdG9wLWNvbG9yPSIjNWMyZDhjIi8+PHN0b3Agb2Zmc2V0PSIuOTUiIHN0b3AtY29sb3I9IiM1YTJjOGEiLz48c3RvcCBvZmZzZXQ9Ii45OCIgc3RvcC1jb2xvcj0iIzU1MmI4MyIvPjxzdG9wIG9mZnNldD0iLjk5IiBzdG9wLWNvbG9yPSIjNGQyODc3Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNDgyNzcwIi8+PC9yYWRpYWxHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSIyMTkuNjMiIHkxPSI0OC4yMSIgeDI9IjU3OC45OCIgeTI9IjY3MC42MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2RlOWQyNiIvPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2Y4YzkyNyIvPjxzdG9wIG9mZnNldD0iLjMyIiBzdG9wLWNvbG9yPSIjZTJhZTI0Ii8+PHN0b3Agb2Zmc2V0PSIuNjgiIHN0b3AtY29sb3I9IiNmY2YyOTAiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmQ0M2YiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZCIgeDE9IjI3MS40MSIgeTE9IjQxMy40OSIgeDI9IjM0MC45MyIgeTI9IjQxMy40OSIgeGxpbms6aHJlZj0iI2MiLz48bGluZWFyR3JhZGllbnQgaWQ9ImUiIHgxPSI0NTcuNjciIHkxPSI0MTMuNDkiIHgyPSI1MjcuMiIgeTI9IjQxMy40OSIgeGxpbms6aHJlZj0iI2MiLz48bGluZWFyR3JhZGllbnQgaWQ9ImYiIHgxPSIxMjAuNjIiIHkxPSI0MTkuMjgiIHgyPSI2NzcuOTkiIHkyPSI0MTkuMjgiIHhsaW5rOmhyZWY9IiNjIi8+PGxpbmVhckdyYWRpZW50IGlkPSJnIiB4MT0iMzU4LjU5IiB5MT0iMjkzLjk3IiB4Mj0iNDQwLjAyIiB5Mj0iMjkzLjk3IiB4bGluazpocmVmPSIjYyIvPjwvZGVmcz48Y2lyY2xlIGN4PSIzOTkuMyIgY3k9IjM1OS40MiIgcj0iMzUxLjY2IiBzdHlsZT0iZmlsbDp1cmwoI2IpOyBzdHJva2Utd2lkdGg6MHB4OyIvPjxwYXRoIGQ9Im0zOTkuMyw3MTguODRjLTE5OC4xOSwwLTM1OS40Mi0xNjEuMjQtMzU5LjQyLTM1OS40MlMyMDEuMTIsMCwzOTkuMywwczM1OS40MiwxNjEuMjQsMzU5LjQyLDM1OS40Mi0xNjEuMjQsMzU5LjQyLTM1OS40MiwzNTkuNDJabTAtNzAzLjMzQzIwOS42NywxNS41Miw1NS40LDE2OS43OSw1NS40LDM1OS40MnMxNTQuMjcsMzQzLjksMzQzLjksMzQzLjksMzQzLjktMTU0LjI3LDM0My45LTM0My45UzU4OC45MywxNS41MiwzOTkuMywxNS41MloiIHN0eWxlPSJmaWxsOnVybCgjYyk7IHN0cm9rZS13aWR0aDowcHg7Ii8+PHBhdGggZD0ibTMwNS4xNywzNjkuODhzLTE5LjM0LTE4LjI5LTMzLjc2LTIxLjF2NTQuODZsNjcuNTMsNzQuNTZzNi4zMy0yMy4yMS0zLjUyLTUzLjQ2YzAsMC0zNC4xMS0xNC40Mi0zMC4yNS01NC44NloiIHN0eWxlPSJmaWxsOnVybCgjZCk7IHN0cm9rZS13aWR0aDowcHg7Ii8+PHBhdGggZD0ibTQ2My4xOSw0MjQuNzRjLTkuODUsMzAuMjUtMy41Miw1My40Ni0zLjUyLDUzLjQ2bDY3LjUzLTc0LjU2di01NC44NmMtMTQuNDIsMi44MS0zMy43NiwyMS4xLTMzLjc2LDIxLjEsMy44Nyw0MC40NC0zMC4yNSw1NC44Ni0zMC4yNSw1NC44NloiIHN0eWxlPSJmaWxsOnVybCgjZSk7IHN0cm9rZS13aWR0aDowcHg7Ii8+PHBhdGggZD0ibTQ2MC40LDI2Mi45M2wtNDkuMzYsODUuNDljLTUuMDgsOC43OS0xOC40MSw4Ljc5LTIzLjQ4LDBsLTQ5LjM2LTg1LjQ5Yy04NS4wOCw0Ny4yNS0yMTcuNTgtMzUuOTgtMjE3LjU4LTM1Ljk4LDM3LjI2LDQ4LjUxLDc5LjcxLDY5LjczLDExNS4zLDc4LjM3LDU2LjczLDEzLjc3LDEwNS43LDQ3LjYxLDEzNS4xNiw5NS41M2wuNjYsMS4wN2MtMS45OCw3Ljk3LTIuOTgsMTYuMTMtMi45OCwyNC4zMnYxMDguODVjMCwyLjQzLS4yNiw0LjgzLS42OSw3LjItMTEuMDQsNy4xNy0xOC4wOSwxOC4wNS0xOC4wOSwzMC4yMywwLDIxLjU4LDIyLjA5LDM5LjA4LDQ5LjMzLDM5LjA4czQ5LjMzLTE3LjUsNDkuMzMtMzkuMDhjMC0xMi4xOS03LjA1LTIzLjA3LTE4LjA5LTMwLjIzLS40My0yLjM3LS42OS00Ljc3LS42OS03LjJ2LTEwOC44NWMwLTguMTktMS0xNi4zNS0yLjk4LTI0LjMybC42Ni0xLjA3YzI5LjQ2LTQ3LjkyLDc4LjQzLTgxLjc3LDEzNS4xNi05NS41MywzNS41OS04LjY0LDc4LjA0LTI5Ljg2LDExNS4zLTc4LjM3LDAsMC0xNjEuMDgsODUuOTYtMjE3LjU4LDM1Ljk4Wm0tNjEuMSwzNDIuNDljLTIyLjksMC00MS41Mi0xNC43Ni00MS41Mi0zMi45LDAtMi41Ni40MS01LjAzLDEuMTEtNy40Mmg4MC44NGMuNywyLjM5LDEuMTEsNC44NywxLjExLDcuNDIsMCwxOC4xNC0xOC42MywzMi45LTQxLjUyLDMyLjlaIiBzdHlsZT0iZmlsbDp1cmwoI2YpOyBzdHJva2Utd2lkdGg6MHB4OyIvPjxwYXRoIGQ9Im00MDcuMTMsMzIxLjA3bDMyLjg5LTYwLjE3cy00Mi41MywxNi45Mi04MS40MywwbDMyLjg5LDYwLjE3czguMzEsMTMuNDMsMTUuNjUsMFoiIHN0eWxlPSJmaWxsOnVybCgjZyk7IHN0cm9rZS13aWR0aDowcHg7Ii8+PHRleHQvPjwvc3ZnPg==";const Wt={YAKKL:"yakkl",INFURA:"infura",ALCHEMY:"alchemy",ETHERSCAN:"etherscan"};const Vt={ETHERSCAN:"etherscan",COINBASE:"coinbase",KRAKEN:"kraken"};const Yt={ETHEREUM:"ethereum",BITCOIN:"bitcoin",SOLANA:"solana",CARDANO:"cardano"};const $t={ETHEREUM:{mainnet:"mainnet",sepolia:"sepolia"},BITCOIN:"bitcoin",SOLANA:"solana",CARDANO:"cardano"};const Jt={BACKGROUND:"background",BROWSER:"browser",NOTIFICATION:"notification",POPUP:"index"};const Qt={BRAVE:"Brave",CHROME:"Chrome",EDGE:"Edge",FIREFOX:"Firefox",OPERA:"Opera",SAFARI:"Safari"};const Zt={ETH_URL:"./images/eth_logo.svg",BNB_URL:"./images/bnb.png",MATIC_URL:"./images/matic-token.png"};const Xt={OSX:"OSX",WINDOWS:"Windows",LINUX_REDHAT:"Red Hat",LINUX_UBUNTU:"Ubuntu",LINUX_OTHER:"Linux",CHROME:"Chrome OS",ANDROID:"Android",IOS:"iOS"};const er={CANCELLED:"cancelled",PENDING:"pending",SUCCESS:"success"};const tr={DEFAULT_SECURITY_LEVEL:"medium",DEFAULT_INJECT_IFRAMES:true,TRUSTED_DOMAINS:["ethereum.org","uniswap.org","opensea.io","metamask.io"],SECURITY_LEVEL_SETTINGS:{high:{injectIframes:false,description:"No iframe injection (highest security)"},medium:{injectIframes:true,description:"Inject into trusted domains only (balanced security)"},standard:{injectIframes:true,description:"Inject into all non-null origin frames (dApp compatible)"}}};const rr={high:"Most restrictive - no iframe injection",medium:"Trusted domains only - injects only into known dApp domains",standard:"Most permissive - injects into all non-null origin frames"}},"./src/lib/common/contextCheck.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getContextLabel:()=>getContextLabel,isBackgroundContext:()=>isBackgroundContext,isContentScript:()=>isContentScript,isExtensionPage:()=>isExtensionPage,isOptionsPage:()=>isOptionsPage,isPopup:()=>isPopup,isSidePanel:()=>isSidePanel});function isBackgroundContext(){if(typeof window==="undefined")return false;try{const browser=globalThis.browser||globalThis.chrome;return typeof self!=="undefined"&&typeof importScripts==="function"&&typeof browser!=="undefined"&&typeof browser.runtime!=="undefined"}catch{return false}}function isExtensionPage(){return typeof window!=="undefined"&&(window.location.protocol==="moz-extension:"||window.location.protocol==="chrome-extension:")}function isContentScript(){if(typeof window==="undefined")return false;try{const browser=globalThis.browser||globalThis.chrome;return typeof window!=="undefined"&&typeof document!=="undefined"&&typeof browser!=="undefined"&&!!browser.runtime&&window.location.protocol!=="chrome-extension:"&&window.location.protocol!=="moz-extension:"}catch{return false}}function isSidePanel(){try{return!!window?.matchMedia("(display-mode: standalone)").matches&&window.location.pathname.includes("sidepanel")}catch{return false}}function isPopup(){try{return isExtensionPage()&&window.location.pathname.includes("popup")}catch{return false}}function isOptionsPage(){try{return isExtensionPage()&&window.location.pathname.includes("options")}catch{return false}}function getContextLabel(){if(isBackgroundContext())return"background";if(isContentScript())return"content-script";if(isSidePanel())return"sidepanel";if(isPopup())return"popup";if(isOptionsPage())return"options";if(isExtensionPage())return"extension-page";return"unknown"}},"./src/lib/common/datetime.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{dateString:()=>dateString,formatDate:()=>formatDate,formatTimestamp:()=>formatTimestamp,getTime:()=>getTime});var o=i("./src/lib/managers/Logger.ts");function dateString(){return(new Date).toISOString()}function getTime(){return(new Date).getTime()}function formatDate(e){return e.toLocaleString()}function formatTimestamp(e,{placeholder:t="------",locale:i="en-US",options:a={month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}}={}){try{if(e===undefined||typeof e==="number"&&Number.isNaN(e)){return t}let o;if(typeof e==="string"||typeof e==="number"){o=new Date(e);if(isNaN(o.getTime())){return t}}else if(e instanceof Date){o=e}else{return t}return new Intl.DateTimeFormat(i,a).format(o)}catch(e){o.log.error(e);return t}}},"./src/lib/common/debug-error.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{debug_log:()=>debug_log,error_log:()=>error_log});function debug_log(e,...t){const i=(new Error).stack;if(i){const o=i.split("\n")[2].trim();console.log(`[Debug]: ${o} - ${e}`,...t)}else{console.log(e,...t)}}function error_log(e,...t){const i=(new Error).stack;if(i){const o=i.split("\n")[2].trim();console.log(`[Error]: ${o} - ${e}`,...t)}else{console.log(e,...t)}}},"./src/lib/common/encryption.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{decryptData:()=>decryptData,deriveKeyFromPassword:()=>deriveKeyFromPassword,digestMessage:()=>digestMessage,encryptData:()=>encryptData,prerender:()=>u});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/managers/Logger.ts");var l=i("../../node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js");const u=false;let d;if(typeof window!=="undefined"&&window.crypto){d=window.crypto}else if(typeof i.g!=="undefined"&&i.g?.crypto){d=i.g.crypto}else if(true){d=i("../../node_modules/.pnpm/crypto-browserify@3.12.1/node_modules/crypto-browserify/index.js").webcrypto}else{}function bufferToBase64(e){return l.Buffer.from(e).toString("base64")}function base64ToBuffer(e){const t=atob(e);const i=t.length;const o=new ArrayBuffer(i);const a=new Uint8Array(o);for(let e=0;e<i;e++){a[e]=t.charCodeAt(e)}return new Uint8Array(a.buffer.slice(0))}function bufferForCrypto(e){const t=atob(e);const i=new Uint8Array(t.length);for(let e=0;e<t.length;e++){i[e]=t.charCodeAt(e)}return i.buffer}async function generateSalt(){const e=d.getRandomValues(new Uint8Array(64));return bufferToBase64(e)}async function digestMessage(e){const t=new TextEncoder;const i=t.encode(e);const o=await d.subtle.digest("SHA-256",i);const a=Array.from(new Uint8Array(o));const l=a.map(e=>e.toString(16).padStart(2,"0")).join("");return l}async function deriveKeyFromPassword(e,t){const i=t||await generateSalt();const o=new TextEncoder;const a=await d.subtle.importKey("raw",o.encode(e),{name:"PBKDF2"},false,["deriveKey"]);const l=await d.subtle.deriveKey({name:"PBKDF2",salt:o.encode(i),iterations:1e6,hash:"SHA-256"},a,{name:"AES-GCM",length:256},false,["encrypt","decrypt"]);return{key:l,salt:i}}function encodeJSON(e){return JSON.stringify(e,(e,t)=>{if(typeof t==="bigint"){return t.toString()}return t})}async function encryptData(e,t){try{if(!e){throw new Error("Missing data to encrypt")}if(!t){throw new Error("Missing password or key to encrypt data")}const{key:i,salt:o}=typeof t==="string"?await deriveKeyFromPassword(t):t;const a=new TextEncoder;const l=d.getRandomValues(new Uint8Array(16));const u=a.encode(encodeJSON(e));const p=await d.subtle.encrypt({name:"AES-GCM",iv:l},i,u);return{data:bufferToBase64(new Uint8Array(p)),iv:bufferToBase64(l),salt:o}}catch(e){a.log.error("Error encrypting data:",false,e);throw e}}async function decryptData(e,t){try{if(!t){throw new Error("Missing password or key to decrypt data")}const{data:i,iv:o,salt:a}=e;const{key:l}=typeof t==="string"?await deriveKeyFromPassword(t,a):t;const u=await d.subtle.decrypt({name:"AES-GCM",iv:bufferForCrypto(o)},l,bufferForCrypto(i));const p=(new TextDecoder).decode(u);return JSON.parse(p)}catch(e){a.log.error("Error decrypting data:",false,e);throw e}}function ensureArrayBuffer(e){if(e.buffer instanceof SharedArrayBuffer){const t=new ArrayBuffer(e.byteLength);const i=new Uint8Array(t);i.set(e);return i}return e}},"./src/lib/common/environment.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{browserSvelte:()=>d,browser_ext:()=>u,getBrowserExt:()=>getBrowserExt,getBrowserExtFromGlobal:()=>getBrowserExtFromGlobal,isBrowserEnv:()=>isBrowserEnv,isClient:()=>a});var o=i("./src/lib/managers/Logger.ts");function isBrowserSide(){return typeof window!=="undefined"&&typeof document!=="undefined"}const a=isBrowserSide();const l={runtime:{connect:()=>({}),sendMessage:()=>Promise.resolve({}),onMessage:{addListener:()=>{},removeListener:()=>{},hasListener:()=>false}}};function getBrowserExtFromGlobal(){if(!a)return null;try{if(window.browserPolyfill){return window.browserPolyfill}if(window.browser){return window.browser}}catch(e){o.log.error("Error accessing browser API from global:",false,e)}return null}function getBrowserExt(){if(!a)return null;return getBrowserExtFromGlobal()}const u=a?getBrowserExtFromGlobal():null;const d=a&&!!u;function isBrowserEnv(){return a&&getBrowserExt()!==null}},"./src/lib/common/errors.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ErrorCodes:()=>a,ProviderRpcError:()=>ProviderRpcError,YakklError:()=>YakklError,formatErrorMessage:()=>formatErrorMessage,makeError:()=>makeError,parseJsonRpcError:()=>parseJsonRpcError});var o=i("./src/lib/managers/Logger.ts");class YakklError extends Error{code;info;constructor(e,t,i){super(e);this.name="YakklError";this.code=t;this.info=i}}function makeError(e,t,i){return new YakklError(e,t,i)}function parseJsonRpcError(e){try{let t;try{t=typeof e==="string"?JSON.parse(e):e}catch{const i=e.match(/\{.*\}/);if(i){t=JSON.parse(i[0])}}if(t){const i=t.error||t;return{message:formatErrorMessage(i.message||"Unknown error"),code:i.code||-1,details:{requestMethod:extractValue(e,"requestMethod"),url:extractValue(e,"url"),jsonrpc:t.jsonrpc,id:t.id}}}return{message:e,code:-1}}catch(t){o.log.error("Error parsing error message:",false,t);return{message:e,code:-1}}}function formatErrorMessage(e){const t={"transaction underpriced":"Transaction failed: Gas price too low. Please try again with a higher gas price. Maybe add a tip as well.","insufficient funds":"Transaction failed: Insufficient funds to complete this transaction.","nonce too low":"Transaction failed: Please wait for your previous transaction to complete.","already known":"This transaction has already been submitted.","replacement transaction underpriced":"Cannot replace existing transaction: New gas price too low.","gas limit reached":"Transaction failed: Network is busy. Please try again later or increase gas limit."};for(const[i,o]of Object.entries(t)){if(e.toLowerCase().includes(i.toLowerCase())){return o}}e=e.replace(/[{}"\\]/g,"");e=e.charAt(0).toUpperCase()+e.slice(1);return e}function extractValue(e,t){const i=new RegExp(`${t}="([^"]*)"`,"i").exec(e);return i?i[1]:undefined}const a={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};class ProviderRpcError extends Error{constructor(e,t,i){super(t);this.name="ProviderRpcError";this.code=e;this.data=i}code;data}},"./src/lib/common/evm.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{etherTypes:()=>o});const o=["wei","kwei","mwei","gwei","szabo","finney","ether"]},"./src/lib/common/frameInspector.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getFrameAccessibility:()=>getFrameAccessibility,getFrameType:()=>getFrameType,isFrameAccessible:()=>isFrameAccessible,isSandboxedFrame:()=>isSandboxedFrame});var o=i("./src/lib/managers/Logger.ts");function getFrameAccessibility(e,t=false){try{if(!e){if(t)o.log.debug("[FrameInspector] Window is null");return"disconnected"}if(typeof e.postMessage!=="function"){if(t)o.log.debug("[FrameInspector] postMessage not a function");return"disconnected"}const i=e.location?.origin;if(i==="null"){if(t)o.log.debug("[FrameInspector] Window has null origin");return"null-origin"}try{void e.location.href}catch{if(t)o.log.debug("[FrameInspector] Cross-origin window");return"cross-origin"}return"accessible"}catch(e){if(t)o.log.debug("[FrameInspector] Unknown error",false,e);return"unknown-error"}}function isFrameAccessible(e){return getFrameAccessibility(e)==="accessible"}function isSandboxedFrame(e){try{if(!e)return false;const t=e.location?.origin;return t==="null"}catch{return false}}function getFrameType(e){try{if(!e)return"disconnected";if(typeof e.postMessage!=="function")return"disconnected";const t=e.location?.origin;if(t==="null")return"sandboxed";try{void e.location.href}catch{return"cross-origin"}return"accessible"}catch{return"unknown-error"}}},"./src/lib/common/gas-types.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EOA_FALLBACK_GAS:()=>a,TransactionSpeed:()=>o});var o;(function(e){e["SLOW"]="SLOW";e["NORMAL"]="NORMAL";e["FAST"]="FAST"})(o||(o={}));const a={LIMITS:{BASE:21000n},GWEI:{SLOW:{PRIORITY_FEE:1n,MAX_FEE:35n},NORMAL:{PRIORITY_FEE:2n,MAX_FEE:50n},FAST:{PRIORITY_FEE:3n,MAX_FEE:70n}}}},"./src/lib/common/globals.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{protectedContexts:()=>o});const o=["popup-wallet","popup-dapp"]},"./src/lib/common/icon.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getIcon:()=>getIcon});const getIcon=()=>{const e=window.document.querySelectorAll("link[rel*='icon']");const t=[...e].sort(e=>parseInt(e.sizes.toString().split("x")[0],10))[0];return t?.href}},"./src/lib/common/index.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ALERT_DELAY:()=>l.ALERT_DELAY,AccessSourceType:()=>a.AccessSourceType,AccountTypeCategory:()=>a.AccountTypeCategory,AccountTypeStatus:()=>a.AccountTypeStatus,BLOCKCHAINS:()=>l.BLOCKCHAINS,BLOCKCHAINS_NETWORKS:()=>l.BLOCKCHAINS_NETWORKS,BigNumber:()=>T.BigNumber,CURRENT_STORAGE_VERSION:()=>l.CURRENT_STORAGE_VERSION,CurrencyCode:()=>T.CurrencyCode,DEBUG_ALL_LOGS:()=>l.DEBUG_ALL_LOGS,DEFAULT_DERIVED_PATH_ETH:()=>l.DEFAULT_DERIVED_PATH_ETH,DEFAULT_EXT_HEIGHT:()=>l.DEFAULT_EXT_HEIGHT,DEFAULT_PERSONA:()=>l.DEFAULT_PERSONA,DEFAULT_POPUP_HEIGHT:()=>l.DEFAULT_POPUP_HEIGHT,DEFAULT_POPUP_WIDTH:()=>l.DEFAULT_POPUP_WIDTH,DEFAULT_TITLE:()=>l.DEFAULT_TITLE,DEFAULT_UPGRADE_LABEL:()=>l.DEFAULT_UPGRADE_LABEL,DEFAULT_YAKKL_ASSETS:()=>l.DEFAULT_YAKKL_ASSETS,DEV_BASE_DELAY:()=>l.DEV_BASE_DELAY,DEV_MAX_RETRIES:()=>l.DEV_MAX_RETRIES,EARLY_ADOPTER_DEADLINES:()=>l.EARLY_ADOPTER_DEADLINES,ENVIRONMENT_TYPES:()=>l.ENVIRONMENT_TYPES,ETH_BASE_EOA_GAS_UNITS:()=>l.ETH_BASE_EOA_GAS_UNITS,ETH_BASE_FORCANCEL_GAS_UNITS:()=>l.ETH_BASE_FORCANCEL_GAS_UNITS,ETH_BASE_SCA_GAS_UNITS:()=>l.ETH_BASE_SCA_GAS_UNITS,ETH_BASE_SWAP_GAS_UNITS:()=>l.ETH_BASE_SWAP_GAS_UNITS,EVMDenominations:()=>l.EVMDenominations,ErrorCodes:()=>u.ErrorCodes,FOUNDING_MEMBER_DEADLINE:()=>l.FOUNDING_MEMBER_DEADLINE,GAS_PER_BLOB:()=>l.GAS_PER_BLOB,IDLE_AUTO_LOCK_CYCLE:()=>l.IDLE_AUTO_LOCK_CYCLE,IDLE_AUTO_LOCK_CYCLE_TIME:()=>l.IDLE_AUTO_LOCK_CYCLE_TIME,LOGO_BULLFAV48x48:()=>l.LOGO_BULLFAV48x48,LOGO_BULLFAV_SVG_DATA:()=>l.LOGO_BULLFAV_SVG_DATA,MessageType:()=>a.MessageType,NUM_OF_SPLASH_IMAGES:()=>l.NUM_OF_SPLASH_IMAGES,NetworkType:()=>a.NetworkType,OS_TYPES:()=>l.OS_TYPES,PASSKEY_HINTS_MIN:()=>l.PASSKEY_HINTS_MIN,PATH_ACCOUNTS:()=>l.PATH_ACCOUNTS,PATH_ACCOUNTS_ETHEREUM_CREATE_DERIVED:()=>l.PATH_ACCOUNTS_ETHEREUM_CREATE_DERIVED,PATH_ACCOUNTS_ETHEREUM_CREATE_PRIMARY:()=>l.PATH_ACCOUNTS_ETHEREUM_CREATE_PRIMARY,PATH_ACCOUNT_MAINTENANCE:()=>l.PATH_ACCOUNT_MAINTENANCE,PATH_ACTIVITIES:()=>l.PATH_ACTIVITIES,PATH_CONTACTS:()=>l.PATH_CONTACTS,PATH_CRYPTO:()=>l.PATH_CRYPTO,PATH_DAPP_ACCOUNTS:()=>l.PATH_DAPP_ACCOUNTS,PATH_DAPP_POPUPS:()=>l.PATH_DAPP_POPUPS,PATH_DAPP_TRANSACTIONS:()=>l.PATH_DAPP_TRANSACTIONS,PATH_DASHBOARD:()=>l.PATH_DASHBOARD,PATH_ETHEREUM_TRANSACTIONS_BUY:()=>l.PATH_ETHEREUM_TRANSACTIONS_BUY,PATH_ETHEREUM_TRANSACTIONS_RECV:()=>l.PATH_ETHEREUM_TRANSACTIONS_RECV,PATH_ETHEREUM_TRANSACTIONS_SELL:()=>l.PATH_ETHEREUM_TRANSACTIONS_SELL,PATH_ETHEREUM_TRANSACTIONS_SEND:()=>l.PATH_ETHEREUM_TRANSACTIONS_SEND,PATH_ETHEREUM_TRANSACTIONS_STAKE:()=>l.PATH_ETHEREUM_TRANSACTIONS_STAKE,PATH_ETHEREUM_TRANSACTIONS_SWAP:()=>l.PATH_ETHEREUM_TRANSACTIONS_SWAP,PATH_EXPORT:()=>l.PATH_EXPORT,PATH_EXPORT_EXPORT:()=>l.PATH_EXPORT_EXPORT,PATH_HOME:()=>l.PATH_HOME,PATH_IMPORT_EMERGENCYKIT:()=>l.PATH_IMPORT_EMERGENCYKIT,PATH_IMPORT_PHRASE:()=>l.PATH_IMPORT_PHRASE,PATH_IMPORT_PRIVATEKEY:()=>l.PATH_IMPORT_PRIVATEKEY,PATH_IMPORT_WATCH:()=>l.PATH_IMPORT_WATCH,PATH_LEGAL:()=>l.PATH_LEGAL,PATH_LOCK:()=>l.PATH_LOCK,PATH_LOGIN:()=>l.PATH_LOGIN,PATH_LOGOUT:()=>l.PATH_LOGOUT,PATH_NFTS:()=>l.PATH_NFTS,PATH_PROFILE:()=>l.PATH_PROFILE,PATH_REGISTER:()=>l.PATH_REGISTER,PATH_SECURITY:()=>l.PATH_SECURITY,PATH_SECURITY_2FA:()=>l.PATH_SECURITY_2FA,PATH_SECURITY_PASSWORD:()=>l.PATH_SECURITY_PASSWORD,PATH_SECURITY_RESET:()=>l.PATH_SECURITY_RESET,PATH_SECURITY_SECRET:()=>l.PATH_SECURITY_SECRET,PATH_SECURITY_USERNAME:()=>l.PATH_SECURITY_USERNAME,PATH_SETTINGS:()=>l.PATH_SETTINGS,PATH_SETTINGS_PREFERENCES:()=>l.PATH_SETTINGS_PREFERENCES,PATH_SETTINGS_SETTINGS:()=>l.PATH_SETTINGS_SETTINGS,PATH_TOKENS:()=>l.PATH_TOKENS,PATH_UNIVERSITY:()=>l.PATH_UNIVERSITY,PATH_WEB3:()=>l.PATH_WEB3,PATH_WELCOME:()=>l.PATH_WELCOME,PLATFORM_TYPES:()=>l.PLATFORM_TYPES,PRICE_PROVIDERS:()=>l.PRICE_PROVIDERS,PROVIDERS:()=>l.PROVIDERS,PRO_ELIGIBLE_PROMO_TYPES:()=>l.PRO_ELIGIBLE_PROMO_TYPES,PlanType:()=>a.PlanType,PromoClassificationType:()=>a.PromoClassificationType,ProviderRpcError:()=>u.ProviderRpcError,RegisteredType:()=>a.RegisteredType,SECURITY_LEVEL_DESCRIPTIONS:()=>l.SECURITY_LEVEL_DESCRIPTIONS,SMART_TRANSACTION_STATUSES:()=>l.SMART_TRANSACTION_STATUSES,SPLASH_DELAY:()=>l.SPLASH_DELAY,STORAGE_YAKKL_ACCOUNTS:()=>l.STORAGE_YAKKL_ACCOUNTS,STORAGE_YAKKL_BLOCKEDLIST:()=>l.STORAGE_YAKKL_BLOCKEDLIST,STORAGE_YAKKL_CHATS:()=>l.STORAGE_YAKKL_CHATS,STORAGE_YAKKL_COMBINED_TOKENS:()=>l.STORAGE_YAKKL_COMBINED_TOKENS,STORAGE_YAKKL_CONNECTED_DOMAINS:()=>l.STORAGE_YAKKL_CONNECTED_DOMAINS,STORAGE_YAKKL_CONTACTS:()=>l.STORAGE_YAKKL_CONTACTS,STORAGE_YAKKL_CURRENTLY_SELECTED:()=>l.STORAGE_YAKKL_CURRENTLY_SELECTED,STORAGE_YAKKL_MEMPOOL:()=>l.STORAGE_YAKKL_MEMPOOL,STORAGE_YAKKL_PORTFOLIO:()=>l.STORAGE_YAKKL_PORTFOLIO,STORAGE_YAKKL_PREFERENCES:()=>l.STORAGE_YAKKL_PREFERENCES,STORAGE_YAKKL_PRIMARY_ACCOUNTS:()=>l.STORAGE_YAKKL_PRIMARY_ACCOUNTS,STORAGE_YAKKL_PROFILE:()=>l.STORAGE_YAKKL_PROFILE,STORAGE_YAKKL_PROFILES:()=>l.STORAGE_YAKKL_PROFILES,STORAGE_YAKKL_REGISTERED_DATA:()=>l.STORAGE_YAKKL_REGISTERED_DATA,STORAGE_YAKKL_SECURITY:()=>l.STORAGE_YAKKL_SECURITY,STORAGE_YAKKL_SETTINGS:()=>l.STORAGE_YAKKL_SETTINGS,STORAGE_YAKKL_TOKENDATA:()=>l.STORAGE_YAKKL_TOKENDATA,STORAGE_YAKKL_TOKENDATA_CUSTOM:()=>l.STORAGE_YAKKL_TOKENDATA_CUSTOM,STORAGE_YAKKL_WALLET_ACTIVE_TAB:()=>l.STORAGE_YAKKL_WALLET_ACTIVE_TAB,STORAGE_YAKKL_WALLET_BLOCKCHAINS:()=>l.STORAGE_YAKKL_WALLET_BLOCKCHAINS,STORAGE_YAKKL_WALLET_PROVIDERS:()=>l.STORAGE_YAKKL_WALLET_PROVIDERS,STORAGE_YAKKL_WATCHLIST:()=>l.STORAGE_YAKKL_WATCHLIST,SystemTheme:()=>a.SystemTheme,TIMELINES:()=>l.TIMELINES,TIMEOUT_COPY_TO_CLIPBOARD:()=>l.TIMEOUT_COPY_TO_CLIPBOARD,TIMER_CHECK_GAS_PRICE_INTERVAL_TIME:()=>l.TIMER_CHECK_GAS_PRICE_INTERVAL_TIME,TIMER_CHECK_PRICE_INTERVAL_TIME:()=>l.TIMER_CHECK_PRICE_INTERVAL_TIME,TIMER_CONNECTION_INTERVAL_TIME:()=>l.TIMER_CONNECTION_INTERVAL_TIME,TIMER_GAS_PRICE_CHECK:()=>l.TIMER_GAS_PRICE_CHECK,TIMER_ICON_CHECK_TIME:()=>l.TIMER_ICON_CHECK_TIME,TIMER_IDLE_CHECK_INTERVAL:()=>l.TIMER_IDLE_CHECK_INTERVAL,TIMER_IDLE_CHECK_INTERVAL_APP_WIDE:()=>l.TIMER_IDLE_CHECK_INTERVAL_APP_WIDE,TIMER_IDLE_LOCK_DELAY:()=>l.TIMER_IDLE_LOCK_DELAY,TIMER_IDLE_THRESHOLD:()=>l.TIMER_IDLE_THRESHOLD,TIMER_PRICE_INTERVAL_TIME:()=>l.TIMER_PRICE_INTERVAL_TIME,TIMER_SWAP_FETCH_PRICES_TIME:()=>l.TIMER_SWAP_FETCH_PRICES_TIME,TIMER_TOKEN_PRICE_CYCLE_TIME:()=>l.TIMER_TOKEN_PRICE_CYCLE_TIME,TOKEN_IMAGES:()=>l.TOKEN_IMAGES,TRIAL_DAYS:()=>l.TRIAL_DAYS,VERSION:()=>l.VERSION,WALLET_SECURITY_CONFIG:()=>l.WALLET_SECURITY_CONFIG,WEB3_SVG:()=>l.WEB3_SVG,WEB3_SVG_DATA:()=>l.WEB3_SVG_DATA,WETH_ADDRESS:()=>l.WETH_ADDRESS,YAKKL_DAPP:()=>l.YAKKL_DAPP,YAKKL_ETH:()=>l.YAKKL_ETH,YAKKL_EXTERNAL:()=>l.YAKKL_EXTERNAL,YAKKL_FEE_ACCEPTABLE_TOKENS:()=>l.YAKKL_FEE_ACCEPTABLE_TOKENS,YAKKL_FEE_BASIS_POINTS:()=>l.YAKKL_FEE_BASIS_POINTS,YAKKL_FEE_BASIS_POINTS_DIVISOR:()=>l.YAKKL_FEE_BASIS_POINTS_DIVISOR,YAKKL_GAS_ESTIMATE_MIN_USD:()=>l.YAKKL_GAS_ESTIMATE_MIN_USD,YAKKL_GAS_ESTIMATE_MULTIHOP_SWAP_DEFAULT:()=>l.YAKKL_GAS_ESTIMATE_MULTIHOP_SWAP_DEFAULT,YAKKL_GAS_ESTIMATE_MULTIPLIER_BASIS_POINTS:()=>l.YAKKL_GAS_ESTIMATE_MULTIPLIER_BASIS_POINTS,YAKKL_INTERNAL:()=>l.YAKKL_INTERNAL,YAKKL_PROVIDER:()=>l.YAKKL_PROVIDER,YAKKL_PROVIDER_EIP6963:()=>l.YAKKL_PROVIDER_EIP6963,YAKKL_PROVIDER_ETHEREUM:()=>l.YAKKL_PROVIDER_ETHEREUM,YAKKL_PRO_ANNUAL_FEE:()=>l.YAKKL_PRO_ANNUAL_FEE,YAKKL_SPLASH:()=>l.YAKKL_SPLASH,YAKKL_UNIFIED_PORT:()=>l.YAKKL_UNIFIED_PORT,YAKKL_ZERO_ACCOUNT_NAME:()=>l.YAKKL_ZERO_ACCOUNT_NAME,YAKKL_ZERO_ACCOUNT_TYPE:()=>l.YAKKL_ZERO_ACCOUNT_TYPE,YAKKL_ZERO_ADDRESS:()=>l.YAKKL_ZERO_ADDRESS,YEAR:()=>l.YEAR,YakklError:()=>u.YakklError,addHexPrefix:()=>m.addHexPrefix,addressExist:()=>y.addressExist,bigNumberishMultiplyByFraction:()=>m.bigNumberishMultiplyByFraction,bigNumberishToHex:()=>m.bigNumberishToHex,canUpgrade:()=>y.canUpgrade,checkAccountRegistration:()=>y.checkAccountRegistration,checkProperties:()=>g.checkProperties,clearObjectsFromLocalStorage:()=>_.clearObjectsFromLocalStorage,concat:()=>g.concat,convertBasisPointsToDecimal:()=>m.convertBasisPointsToDecimal,convertToHexStrings:()=>g.convertToHexStrings,convertTokenToUsd:()=>y.convertTokenToUsd,convertUsdToTokenAmount:()=>y.convertUsdToTokenAmount,dataLength:()=>g.dataLength,dataSlice:()=>g.dataSlice,debug_log:()=>x.debug_log,decodeJSON:()=>g.decodeJSON,decryptData:()=>d.decryptData,deriveKeyFromPassword:()=>d.deriveKeyFromPassword,detectExecutionContext:()=>y.detectExecutionContext,digestMessage:()=>d.digestMessage,encodeJSON:()=>g.encodeJSON,encryptData:()=>d.encryptData,error_log:()=>x.error_log,etherTypes:()=>w.etherTypes,extractFQDN:()=>g.extractFQDN,formatAmount:()=>y.formatAmount,formatErrorMessage:()=>u.formatErrorMessage,formatUsd:()=>y.formatUsd,getBigInt:()=>m.getBigInt,getBytes:()=>g.getBytes,getBytesCopy:()=>g.getBytesCopy,getCurrentFunctionInfo:()=>y.getCurrentFunctionInfo,getIcon:()=>k.getIcon,getInstances:()=>I.getInstances,getLengthInBytes:()=>y.getLengthInBytes,getNormalizedSettings:()=>y.getNormalizedSettings,getNumber:()=>m.getNumber,getObjectFromLocalStorage:()=>_.getObjectFromLocalStorage,getOrDefault:()=>g.getOrDefault,getPlatform:()=>g.getPlatform,getPrimaryAccountByAddress:()=>g.getPrimaryAccountByAddress,getTrialEndDate:()=>y.getTrialEndDate,getUint:()=>m.getUint,getUserId:()=>y.getUserId,gweiToWeiHex:()=>y.gweiToWeiHex,hexToBigNumberish:()=>m.hexToBigNumberish,hexlify:()=>g.hexlify,isBigNumber:()=>g.isBigNumber,isBigNumberish:()=>g.isBigNumberish,isBytesLike:()=>g.isBytesLike,isCurrentlySelectedData:()=>g.isCurrentlySelectedData,isEmptyNullOrUndefined:()=>g.isEmptyNullOrUndefined,isEmptyObject:()=>g.isEmptyObject,isEncryptedData:()=>g.isEncryptedData,isExtensionContextValid:()=>y.isExtensionContextValid,isFullyPro:()=>y.isFullyPro,isHexPrefixed:()=>g.isHexPrefixed,isHexString:()=>g.isHexString,isJSONSerializable:()=>g.isJSONSerializable,isJsonObject:()=>g.isJsonObject,isMetaData:()=>g.isMetaData,isNull:()=>g.isNull,isPrimaryAccountData:()=>g.isPrimaryAccountData,isProLevel:()=>y.isProLevel,isProfileData:()=>g.isProfileData,isPromiseJson:()=>g.isPromiseJson,isServerSide:()=>y.isServerSide,isStandard:()=>y.isStandard,isString:()=>g.isString,isTrialing:()=>y.isTrialing,isUndefined:()=>g.isUndefined,isValidJSON:()=>g.isValidJSON,isYakklAccount:()=>g.isYakklAccount,isYakklPrimaryAccount:()=>g.isYakklPrimaryAccount,makeError:()=>u.makeError,multiplyNumeric:()=>m.multiplyNumeric,normalizeUserPlan:()=>y.normalizeUserPlan,numberToBigInt:()=>m.numberToBigInt,parseAmount:()=>y.parseAmount,parseAmountAlternative:()=>y.parseAmountAlternative,parseErrorMessageFromJSON:()=>y.parseErrorMessageFromJSON,parseJsonOrObject:()=>g.parseJsonOrObject,parseJsonRpcError:()=>u.parseJsonRpcError,parseWithBigInt:()=>g.parseWithBigInt,postWithBackoff:()=>v.postWithBackoff,prerender:()=>d.prerender,removeDuplicateAddress:()=>y.removeDuplicateAddress,removeObjectFromLocalStorage:()=>_.removeObjectFromLocalStorage,requestWithBackoff:()=>v.requestWithBackoff,resolveProperties:()=>g.resolveProperties,safeConvertToBigInt:()=>m.safeConvertToBigInt,safeRuntimeCall:()=>y.safeRuntimeCall,safeSendMessage:()=>y.safeSendMessage,setObjectInLocalStorage:()=>_.setObjectInLocalStorage,setRegisteredType:()=>y.setRegisteredType,stringToBigInt:()=>m.stringToBigInt,stripHexPrefix:()=>g.stripHexPrefix,supportedChainId:()=>y.supportedChainId,toBeArray:()=>m.toBeArray,toBeHex:()=>m.toBeHex,toBigInt:()=>m.toBigInt,toHex:()=>g.toHex,toHexChainId:()=>y.toHexChainId,toNumber:()=>m.toNumber,toQuantity:()=>m.toQuantity,trialExpiresSoon:()=>y.trialExpiresSoon,typewriter:()=>y.typewriter,wait:()=>y.wait,wasTrialExpiredRecently:()=>y.wasTrialExpiredRecently});var o=i("./src/lib/common/interfaces.ts");var a=i("./src/lib/common/types.ts");var l=i("./src/lib/common/constants.ts");var u=i("./src/lib/common/errors.ts");var d=i("./src/lib/common/encryption.ts");var p=i("./src/lib/common/loggerColor.ts");var m=i("./src/lib/common/math.ts");var g=i("./src/lib/common/misc.ts");var v=i("./src/lib/common/network.ts");var y=i("./src/lib/common/utils.ts");var _=i("./src/lib/common/storage.ts");var w=i("./src/lib/common/evm.ts");var A=i("./src/lib/managers/EventManager.ts");var k=i("./src/lib/common/icon.ts");var T=i("./src/lib/common/bignumber.ts");var x=i("./src/lib/common/debug-error.ts");var I=i("./src/lib/common/wallet.ts")},"./src/lib/common/interfaces.ts":(e,t,i)=>{"use strict";i.r(t)},"./src/lib/common/isYakklPage.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{isYakklPage:()=>isYakklPage});function isYakklPage(){const e=window.location.href;return e.includes("https://yakkl.com")}},"./src/lib/common/listeners/background/alarmListeners.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{onAlarmListener:()=>onAlarmListener});var o=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var a=i.n(o);var l=i("./src/lib/managers/Logger.ts");async function onAlarmListener(e){try{if(!a())return;l.log.info("Background - onAlarmListener:",false,e);if(e.name==="yakkl-lock-alarm"){await a().runtime.sendMessage({type:"lockdown"})}else if(e.name==="yakkl-lock-notification"){await a().runtime.sendMessage({type:"lockdownImminent"})}}catch(e){l.log.error("Background - onAlarmListener:",false,e)}}},"./src/lib/common/listeners/background/backgroundListeners.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{addBackgroundListeners:()=>addBackgroundListeners,backgroundListenerManager:()=>N,onEthereumListener:()=>onEthereumListener,onExternalMessageListener:()=>onExternalMessageListener,onInstalledUpdatedListener:()=>onInstalledUpdatedListener,onYakklPageListener:()=>onYakklPageListener,removeBackgroundListeners:()=>removeBackgroundListeners});var o=i("./src/lib/managers/ListenerManager.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/extensions/chrome/database.ts");var d=i("./src/lib/models/dataModels.ts");var p=i("./src/lib/common/storage.ts");var m=i("./src/lib/extensions/chrome/storage.ts");var g=i("./src/lib/managers/tokens/loadDefaultTokens.ts");var v=i("./src/lib/common/constants.ts");var y=i("./src/lib/common/listeners/background/portListeners.ts");var _=i("./src/lib/common/listeners/background/tabListeners.ts");var w=i("./src/lib/managers/GlobalListenerManager.ts");var A=i("./src/lib/managers/Logger.ts");var k=i("./src/lib/extensions/chrome/ui.ts");var T=i("./src/lib/common/listeners/background/unifiedMessageListener.ts");var x=i("./src/lib/common/isYakklPage.ts");var I=i("./src/lib/common/environment.ts");const N=new o.ListenerManager("background");async function onInstalledUpdatedListener(e){try{try{await(0,g.loadDefaultTokens)()}catch(e){A.log.warn("Background: loading default tokens:",false,e)}if(typeof chrome!=="undefined"&&chrome.sidePanel){A.log.info("Background: chrome.sidePanel is defined");const e=true?true:0;chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:true})}const t=await l().runtime.getPlatformInfo();k.openWindows.clear();if(e&&e.reason==="install"){d.yakklStoredObjects.forEach(async e=>{try{await(0,p.setObjectInLocalStorage)(e.key,e.value)}catch(t){A.log.error(`Error setting default for ${e.key}:`,false,t)}});await(0,u.initializeBlacklistDatabase)(false);await l().runtime.setUninstallURL(encodeURI("https://yakkl.com?userName=&utm_source=yakkl&utm_medium=extension&utm_campaign=uninstall&utm_content="+`${v.VERSION}`+"&utm_term=extension"));await(0,m.setLocalObjectStorage)(t,false)}if(e&&e.reason==="update"){if(e.previousVersion!==l().runtime.getManifest().version){await(0,u.initializeBlacklistDatabase)(true);await(0,m.setLocalObjectStorage)(t,false)}}}catch(e){A.log.error(e)}}function onEthereumListener(e){try{}catch(e){A.log.error("Background: onEthereumListener",false,e)}}async function onYakklPageListener(e,t){try{switch(e.type){case"openSidePanel":{chrome.sidePanel.open({tabId:t.tab.id}).then(()=>{A.log.debug("Background: onYakklPageListener: openSidePanel",false)}).catch(e=>{A.log.error("Background: onYakklPageListener: openSidePanel",false,e)});return true}case"CLEAR_ALL_ENHANCED_ALERTS":{if(I.browser_ext?.notifications){await I.browser_ext.notifications.getAll().then(e=>{Object.keys(e).forEach(e=>{I.browser_ext.notifications.clear(e)})})}if(I.browser_ext?.action){await I.browser_ext.action.setBadgeText({text:""});await I.browser_ext.action.setIcon({path:{16:"/images/logoBullFav16x16.png",32:"/images/logoBullFav32x32.png",48:"/images/logoBullFav48x48.png",96:"/images/logoBullFav96x96.png",128:"/images/logoBullFav128x128.png"}})}return true}default:{return false}}}catch(e){console.error("Error handling Yakkl page message:",e);return false}}async function onExternalMessageListener(e,t){try{if((0,x.isYakklPage)()){A.log.debug("Background: onExternalMessageListener: isYakklPage",false);return onYakklPageListener(e,t)}A.log.debug("Background: onExternalMessageListener",false,{message:e,sender:t})}catch(e){A.log.error("Background: onExternalMessageListener",false,e)}}w.globalListenerManager.registerContext("background",N);function addBackgroundListeners(){N.add(l().runtime.onMessage,T.onUnifiedMessageListener);N.add(l().runtime.onMessageExternal,onYakklPageListener);N.add(l().runtime.onMessageExternal,onExternalMessageListener);N.add(l().runtime.onInstalled,onInstalledUpdatedListener);N.add(l().runtime.onConnect,y.onPortConnectListener);N.add(l().runtime.onConnect,y.onPortDisconnectListener);N.add(l().tabs.onActivated,_.onTabActivatedListener);N.add(l().tabs.onUpdated,_.onTabUpdatedListener);N.add(l().tabs.onRemoved,_.onTabRemovedListener);N.add(l().windows.onFocusChanged,_.onWindowsFocusChangedListener)}function removeBackgroundListeners(){N.removeAll()}},"./src/lib/common/listeners/background/portListeners.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{cleanupDeadPorts:()=>cleanupDeadPorts,clearAllExternalRequests:()=>clearAllExternalRequests,generateConnectionId:()=>generateConnectionId,getAllExternalPorts:()=>getAllExternalPorts,getDappPorts:()=>getDappPorts,getExternalPort:()=>getExternalPort,getInternalPorts:()=>getInternalPorts,onPopupLaunchListener:()=>onPopupLaunchListener,onPortConnectListener:()=>onPortConnectListener,onPortDisconnectListener:()=>onPortDisconnectListener,onPortExternalListener:()=>onPortExternalListener,portsDapp:()=>D,portsExternal:()=>O,portsInternal:()=>L,requestsExternal:()=>M});var o=i("./src/lib/common/constants.ts");var a=i("./src/lib/common/storage.ts");var l=i("./src/lib/utilities/utilities.ts");var u=i("./src/lib/extensions/chrome/ui.ts");var d=i("./src/lib/extensions/chrome/legacy.ts");var p=i("./src/lib/common/utils.ts");var m=i("./src/lib/common/listeners/ui/portListeners.ts");var g=i("./src/lib/common/listeners/background/backgroundListeners.ts");var v=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var y=i.n(v);var _=i("./src/lib/managers/Logger.ts");var w=i("./src/lib/common/activities/dapp-activity.ts");var A=i("./src/lib/managers/PortManager.ts");var k=i("./src/lib/extensions/chrome/unifiedMessageRouter.ts");var T=i("./src/lib/managers/SessionPortManager.ts");var x=i("./src/lib/managers/DAppPopupManager.ts");var I=i("./src/lib/managers/UnifiedTimerManager.ts");const N=y();const P=I.UnifiedTimerManager.getInstance();const C=new WeakMap;let M=new Map;function clearAllExternalRequests(){M.clear();B.clear()}const B=new Map;const j=5*60*1e3;function cleanupRequest(e){const t=M.get(e);if(t){M.delete(e);if(t.status==="completed"){B.set(e,t)}}}function cleanupExpiredHistory(){const e=Date.now();for(const[t,i]of B.entries()){if(e-i.timestamp>j){B.delete(t)}}}P.addInterval("cleanup-expired-history",cleanupExpiredHistory,j);P.startInterval("cleanup-expired-history");const O=new Map;let D=[];let L=[];const F=new Map;const U=new Map;async function onPortConnectListener(e){try{const t=generateConnectionId();F.set(t,e);U.set(e,t);const i={connectionId:t,portName:e.name,connectedAt:Date.now(),tabId:e.sender?.tab?.id,url:e.sender?.url,origin:e.sender?.url?new URL(e.sender.url).origin:undefined};_.log.debug("Port connection established:",false,i);switch(e.name){case"yakkl":await(0,l.setIconUnlock)();if(!e.onMessage.hasListener(m.onPortInternalListener)){e.onMessage.addListener(m.onPortInternalListener)}registerInternalPort(t,e,i);break;case o.YAKKL_SPLASH:if(!e.onMessage.hasListener(onPopupLaunchListener)){e.onMessage.addListener(onPopupLaunchListener)}registerInternalPort(t,e,i);break;case o.YAKKL_INTERNAL:if(!e.onMessage.hasListener(m.onPortInternalListener)){e.onMessage.addListener(m.onPortInternalListener)}registerInternalPort(t,e,i);break;case o.YAKKL_EXTERNAL:case o.YAKKL_PROVIDER_EIP6963:case o.YAKKL_DAPP:if(!e.onMessage.hasListener(k.onUnifiedMessageHandler)){e.onMessage.addListener(k.onUnifiedMessageHandler)}if(e.sender&&e.sender.tab&&e.name===o.YAKKL_EXTERNAL){const i=e.sender.tab.id;if(i!==undefined){O.set(i,e);A.portManager.registerExternalPort(i,e,t)}}else if(e.name===o.YAKKL_DAPP||e.name===o.YAKKL_PROVIDER_EIP6963){if(!D.includes(e)){D.push(e)}A.portManager.registerDappPort(t,e)}break;case o.YAKKL_ETH:if(!e.onMessage.hasListener(g.onEthereumListener)){e.onMessage.addListener(g.onEthereumListener)}registerInternalPort(t,e,i);break;default:_.log.info(`Unknown port name: ${e.name}`,false,{port:e.name,connectionInfo:i});break}e.onDisconnect.addListener(()=>{_.log.debug("Port disconnecting:",false,{portName:e.name,tabId:e.sender?.tab?.id,connectionId:t,timestamp:(new Date).toISOString(),lastError:y().runtime.lastError});onPortDisconnectListener(e,t)})}catch(t){_.log.error("Failed to set up port connection:",false,{error:t,portName:e.name,url:e.sender?.url})}}async function onPortDisconnectListener(e,t){try{if(!t){t=U.get(e)}_.log.debug("Port disconnecting:",false,{portName:e.name,tabId:e.sender?.tab?.id,connectionId:t,timestamp:(new Date).toISOString(),lastError:y().runtime.lastError});switch(e.name){case o.YAKKL_EXTERNAL:if(e.sender?.tab?.id){O.delete(e.sender.tab.id);A.portManager.removeExternalPort(e.sender.tab.id)}break;case o.YAKKL_DAPP:case"yakkl-dapp":case o.YAKKL_PROVIDER_EIP6963:const i=D.indexOf(e);if(i>-1){D.splice(i,1)}A.portManager.removeDappPort(e);if(t){T.sessionPortManager.removeSession(t)}break;case o.YAKKL_INTERNAL:case"yakkl-internal":const a=L.indexOf(e);if(a>-1){L.splice(a,1)}A.portManager.removeInternalPort(e);break;case o.YAKKL_SPLASH:break;case o.YAKKL_ETH:break;default:_.log.debug(`Unknown port disconnected: ${e.name}`)}const i=C.get(e);if(i&&i.healthCheckInterval){const e=i.healthCheckInterval;if(e.startsWith("port-health-check-")){P.stopInterval(e);P.removeInterval(e)}}C.delete(e);if(t){F.delete(t)}U.delete(e);_.log.debug("Port disconnected successfully:",false,{portName:e.name,connectionId:t})}catch(i){_.log.error("Error in port disconnect listener:",false,{error:i,portName:e.name,connectionId:t})}}function registerSplashPort(e,t,i){_.log.debug("Registered splash port:",false,{connectionId:e,portName:t.name})}function registerEthPort(e,t,i){_.log.debug("Registered ETH port:",false,{connectionId:e,portName:t.name})}function generateConnectionId(){return`port-${Date.now()}-${Math.random().toString(36).slice(2,11)}`}function registerInternalPort(e,t,i){if(!L.includes(t)){L.push(t)}A.portManager.registerInternalPort(e,t);_.log.debug("Registered internal port:",false,{connectionId:e,portName:t.name})}function registerDappPort(e,t,i){if(!D.includes(t)){D.push(t)}A.portManager.registerDappPort(e,t);_.log.debug("Registered DApp port:",false,{connectionId:e,portName:t.name})}async function onPortExternalListener(e,t){let l=null;const u=Date.now();try{const m=t.sender;if(!m?.tab?.id){throw new Error("Invalid sender in onPortExternalListener")}const g=e;if(!g?.method||!g?.id){throw new Error("Invalid event structure: missing method or id")}let v;let y=false;const A=g;A.sender=m;const k="pBm4VA9q8Laz9x3bmXTNZ9m-ArxczEWk"||0||0;l={id:g.id,persona:o.DEFAULT_PERSONA,timestamp:u,method:g.method,status:"pending",domain:m.url||"unknown",params:g.params};v=await(0,a.getObjectFromLocalStorage)("yakklCurrentlySelected");if(!v||v.shortcuts?.accountName?.trim().length===0||v.shortcuts?.address?.trim().length===0){if(!y){y=true;if(l){l.status="rejected";l.error={code:4100,message:"Account not initialized"};await(0,w.addDAppActivity)(l)}M.set(g.id,{data:"It appears that your currently selected account in Yakkl has not been set or initialized...",status:"rejected",timestamp:Date.now(),requiresApproval:false});await(0,x.showPopupForMethod)("warning",g.id);return}}const T=g.method==="eth_requestAccounts"||g.method==="wallet_requestPermissions"||g.method==="wallet_switchEthereumChain"||g.method==="eth_sendTransaction"||g.method==="eth_signTransaction"||g.method==="eth_estimateGas"||g.method==="eth_signTypedData_v4"||g.method==="personal_sign";M.set(g.id,{data:A,status:T?"pending":"completed",timestamp:Date.now(),requiresApproval:T});await(0,w.addDAppActivity)(l);switch(g.method){case"eth_requestAccounts":case"wallet_requestPermissions":try{const{showEIP6963Popup:e}=await Promise.resolve().then(i.bind(i,"./src/lib/extensions/chrome/eip-6963.ts"));await e(g.method,g.params||[],t,g.id)}catch(e){_.log.error("Error using EIP-6963 implementation for eth_requestAccounts:",false,e);await(0,x.showPopupForMethod)(g.method,g.id)}break;case"eth_sendTransaction":try{const{showEIP6963Popup:e}=await Promise.resolve().then(i.bind(i,"./src/lib/extensions/chrome/eip-6963.ts"));await e(g.method,g.params||[],t,g.id)}catch(e){_.log.error("Error using EIP-6963 implementation for eth_sendTransaction:",false,e);await(0,x.showPopupForMethod)(g.method,g.id)}break;case"eth_signTypedData_v4":case"personal_sign":try{const{showEIP6963Popup:e}=await Promise.resolve().then(i.bind(i,"./src/lib/extensions/chrome/eip-6963.ts"));await e(g.method,g.params||[],t,g.id)}catch(e){_.log.error("Error using EIP-6963 implementation for eth_signTypedData_v4, personal_sign:",false,e);await(0,x.showPopupForMethod)(g.method,g.id)}break;case"eth_estimateGas":if(v?.shortcuts?.chainId){const e=await(0,d.estimateGas)(v.shortcuts.chainId,g.params,k);t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:e});if(l){l.status="completed";l.result=e;await(0,w.addDAppActivity)(l)}const i=M.get(g.id);if(i){i.status="completed";cleanupRequest(g.id)}}break;case"eth_getBlockByNumber":if(v?.shortcuts?.chainId){const e=g?.params[0]??"latest";let i;(0,d.getBlock)(v.shortcuts.chainId,e,k).then(e=>{i=e;t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:i});const o=M.get(g.id);if(o){o.status="completed";cleanupRequest(g.id)}})}break;case"wallet_addEthereumChain":t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:null});const e=M.get(g.id);if(e){e.status="completed";cleanupRequest(g.id)}break;case"wallet_switchEthereumChain":{let e=null;if(g?.params?.length>0){const t=g.params[0];const i=(0,p.supportedChainId)(t);if(i){v=await(0,a.getObjectFromLocalStorage)("yakklCurrentlySelected");if(v?.shortcuts?.chainId){e=v.shortcuts.chainId===t?null:t;if(e){v.shortcuts.chainId=t;await(0,a.setObjectInLocalStorage)("yakklCurrentlySelected",v)}}}}t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:e});const i=M.get(g.id);if(i){i.status="completed";cleanupRequest(g.id)}}break;case"eth_chainId":v=await(0,a.getObjectFromLocalStorage)("yakklCurrentlySelected");if(v?.shortcuts?.chainId){const e=v.shortcuts.chainId;t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:e})}else{t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:1})}const o=M.get(g.id);if(o){o.status="completed";cleanupRequest(g.id)}break;case"net_version":v=await(0,a.getObjectFromLocalStorage)("yakklCurrentlySelected");if(v?.shortcuts?.chainId){const e=v.shortcuts.chainId.toString();t.postMessage({id:g.id,method:g.method,type:"YAKKL_RESPONSE",result:e})}const u=M.get(g.id);if(u){u.status="completed";cleanupRequest(g.id)}break;default:break}}catch(i){_.log.error("Error in onPortExternalListener:",false,{error:i,event:e,sender:t.sender,activity:l});if(e?.id){t.postMessage({id:e.id,method:e.method,type:"YAKKL_RESPONSE",error:{code:i.code||4200,message:i.message||"The requested method is not supported by this Ethereum provider."}})}if(l){l.status="rejected";l.error={code:i.code||4200,message:i.message||"The requested method is not supported by this Ethereum provider."};await(0,w.addDAppActivity)(l)}const o=e?.id?M.get(e.id):null;if(o){o.status="rejected";cleanupRequest(e.id)}}}async function onPopupLaunchListener(e,t){try{if(!N)return;const i=e;if(!i.popup||i.popup!=="YAKKL: Splash"){return}const o=await N.storage.session.get("windowId");let a=undefined;if(o){a=o.windowId}if(a){try{await N.windows.get(a);await N.windows.update(a,{focused:true});t.postMessage({popup:"YAKKL: Launched"})}catch{await(0,u.showPopup)("");t.postMessage({popup:"YAKKL: Launched"})}}else{await(0,u.showPopup)("");t.postMessage({popup:"YAKKL: Launched"})}}catch(e){_.log.error("onPopupLaunchListener:",false,e)}}function setupPortHealthCheck(e,t){const i=`port-health-check-${t}`;const healthCheckFunction=()=>{try{e.postMessage({type:"health_check",timestamp:Date.now()});const t=C.get(e);if(t){t.lastActivity=Date.now()}}catch(o){_.log.debug("Port health check failed, cleaning up:",false,{connectionId:t,error:o.message});P.stopInterval(i);P.removeInterval(i);C.delete(e)}};P.addInterval(i,healthCheckFunction,3e4);P.startInterval(i);const o=C.get(e);if(o){o.healthCheckInterval=i}}function getExternalPort(e){return O.get(e)}function getAllExternalPorts(){return new Map(O)}function getDappPorts(){return[...D]}function getInternalPorts(){return[...L]}function cleanupDeadPorts(){const e=Date.now();for(const[e,t]of O.entries()){try{t.postMessage({type:"ping"})}catch(t){_.log.debug("Removing dead external port:",false,{tabId:e});O.delete(e);A.portManager.removeExternalPort(e)}}D=D.filter(e=>{try{e.postMessage({type:"ping"});return true}catch(t){_.log.debug("Removing dead DApp port");const i=C.get(e);if(i){A.portManager.removeDappPort(e)}return false}});L=L.filter(e=>{try{e.postMessage({type:"ping"});return true}catch(t){_.log.debug("Removing dead internal port");const i=C.get(e);if(i){A.portManager.removeInternalPort(e)}return false}})}P.addInterval("cleanup-dead-ports",cleanupDeadPorts,6e4);P.startInterval("cleanup-dead-ports")},"./src/lib/common/listeners/background/readMethodHandler.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{handleReadOnlyRequest:()=>handleReadOnlyRequest});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/stores.ts");var l=i("./src/lib/extensions/chrome/errorResponseHandler.ts");var u=i("./src/lib/common/security.ts");var d=i("./src/lib/extensions/chrome/verifyDomainConnected.ts");var p=i("./src/lib/common/constants.ts");async function handleReadOnlyRequest(e,t){const{id:i,method:u,params:d}=e;try{o.log.debug("Processing read-only request:",false,{id:i,method:u,timestamp:(new Date).toISOString()});const l=await(0,a.getYakklCurrentlySelected)();const m=l?.shortcuts?.chainId||1;let g;switch(u){case"eth_chainId":g=`0x${m.toString(16)}`;break;case"net_version":g=m.toString();break;case"eth_accounts":g=await handleGetAccounts(e);break;case"web3_clientVersion":g="YAKKL/"+p.VERSION;break;default:g=await callRPCProvider(u,d,m)}const v={type:"YAKKL_RESPONSE:EIP6963",id:i,result:g,jsonrpc:"2.0",method:u};o.log.debug("Sending read-only response:",false,{id:i,method:u,hasResult:g!==undefined});t.postMessage(v)}catch(e){o.log.error("Error in read-only request:",false,{id:i,method:u,error:e});(0,l.sendErrorResponse)(t,i,e)}}async function handleGetAccounts(e){try{let t=e.origin;if(!t&&e.params&&e.params.length>0){const i=e.params[e.params.length-1];if(typeof i==="object"&&i.origin){t=i.origin}}if(!t){o.log.debug("No origin provided for eth_accounts, returning empty array");return[]}const i=(0,u.extractSecureDomain)(t);const a=await(0,d.verifyDomainConnected)(i);if(!a){o.log.debug("Domain not connected:",false,{domain:i});return[]}const l=await(0,d.getAddressesForDomain)(i);o.log.debug("Returning accounts for domain:",false,{domain:i,addressCount:l.length});return l}catch(e){o.log.error("Error getting accounts:",false,e);return[]}}async function callRPCProvider(e,t,a){try{const{getAlchemyProvider:o}=await Promise.resolve().then(i.bind(i,"./src/lib/managers/providers/network/ethereum_provider/alchemy.ts"));const a=o();const l=await a.request({method:e,params:t});return l}catch(t){o.log.error("RPC provider error:",false,{method:e,error:t});throw t}}},"./src/lib/common/listeners/background/simulationMethodHandler.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{handleSimulationRequest:()=>handleSimulationRequest});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/stores.ts");var l=i("./src/lib/extensions/chrome/errorResponseHandler.ts");class GasEstimateCache{cache=new Map;CACHE_DURATION=1e4;getCacheKey(e){const t=Array.isArray(e)?e[0]:e;return JSON.stringify({from:t.from,to:t.to,data:t.data,value:t.value})}get(e){const t=this.getCacheKey(e);const i=this.cache.get(t);if(i&&Date.now()-i.timestamp<this.CACHE_DURATION){o.log.debug("Using cached gas estimate",false,{key:t});return i.estimate}return null}set(e,t){const i=this.getCacheKey(e);this.cache.set(i,{estimate:t,timestamp:Date.now()});if(this.cache.size>100){this.cleanup()}}cleanup(){const e=Date.now();for(const[t,i]of this.cache.entries()){if(e-i.timestamp>this.CACHE_DURATION){this.cache.delete(t)}}}}const u=new GasEstimateCache;async function handleSimulationRequest(e,t){const{id:i,method:a,params:u}=e;try{o.log.debug("Processing simulation request:",false,{id:i,method:a,timestamp:(new Date).toISOString()});let e;switch(a){case"eth_estimateGas":e=await handleEstimateGas(u);break;case"eth_call":e=await handleEthCall(u);break;case"eth_createAccessList":e=await handleCreateAccessList(u);break;default:throw new Error(`Unsupported simulation method: ${a}`)}const l={type:"YAKKL_RESPONSE:EIP6963",id:i,result:e,jsonrpc:"2.0",method:a};o.log.debug("Sending simulation response:",false,{id:i,method:a,result:e});t.postMessage(l)}catch(e){o.log.error("Error in simulation request:",false,{id:i,method:a,error:e});(0,l.sendErrorResponse)(t,i,e)}}async function handleEstimateGas(e){try{const t=u.get(e);if(t){return t}if(!e||e.length===0){throw new Error("Missing transaction parameters for gas estimation")}const i=Array.isArray(e)?e[0]:e;if(!i.to&&!i.data){throw new Error('Gas estimation requires either "to" address or "data" field')}const l=await(0,a.getYakklCurrentlySelected)();const d=l?.shortcuts?.chainId||1;const p=await estimateGasViaRPC(i,d);u.set(e,p);o.log.debug("Gas estimation successful:",false,{estimate:p,chainId:d});return p}catch(e){if(e.message?.includes("execution reverted")){throw new Error("Transaction would fail: "+e.message)}else if(e.message?.includes("insufficient funds")){throw new Error("Insufficient balance for transaction")}throw e}}async function handleEthCall(e){try{if(!e||e.length===0){throw new Error("Missing parameters for eth_call")}const t=e[0];const i=e[1]||"latest";const o=await(0,a.getYakklCurrentlySelected)();const l=o?.shortcuts?.chainId||1;const u=await callViaRPC(t,i,l);return u}catch(e){o.log.error("Error in eth_call:",false,e);throw e}}async function handleCreateAccessList(e){try{if(!e||e.length===0){throw new Error("Missing parameters for eth_createAccessList")}const t=await(0,a.getYakklCurrentlySelected)();const i=t?.shortcuts?.chainId||1;const o=await createAccessListViaRPC(e[0],i);return o}catch(e){o.log.error("Error creating access list:",false,e);throw e}}async function estimateGasViaRPC(e,t){const{getAlchemyProvider:o}=await Promise.resolve().then(i.bind(i,"./src/lib/managers/providers/network/ethereum_provider/alchemy.ts"));const a=await o();const l=await a.estimateGas(e);return l}async function callViaRPC(e,t,o){const{getAlchemyProvider:a}=await Promise.resolve().then(i.bind(i,"./src/lib/managers/providers/network/ethereum_provider/alchemy.ts"));const l=await a();const u=await l.request({method:"eth_call",params:[e,t]});return u}async function createAccessListViaRPC(e,t){const{getAlchemyProvider:o}=await Promise.resolve().then(i.bind(i,"./src/lib/managers/providers/network/ethereum_provider/alchemy.ts"));const a=await o();const l=await a.request({method:"eth_createAccessList",params:[e]});return l}},"./src/lib/common/listeners/background/tabListeners.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{onTabActivatedListener:()=>onTabActivatedListener,onTabRemovedListener:()=>onTabRemovedListener,onTabUpdatedListener:()=>onTabUpdatedListener,onWindowsFocusChangedListener:()=>onWindowsFocusChangedListener});var o=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var a=i.n(o);var l=i("./src/lib/extensions/chrome/database.ts");var u=i("./src/lib/extensions/chrome/ports.ts");var d=i("./src/lib/managers/Logger.ts");var p=i("./src/lib/common/stores.ts");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var g=i("./src/lib/common/storage.ts");var v=i("./src/lib/managers/BackgroundManager.ts");var y=i("./src/lib/common/types.ts");const _=a();async function onTabActivatedListener(e){try{if(!_)return;const t={tabId:e.tabId,windowId:e.windowId,windowType:"",url:"",title:"",favIconUrl:"",dateTime:(new Date).toISOString()};const i=await _.tabs.get(e.tabId);if(i){t.url=i?.url??"";t.title=i?.title??"";t.favIconUrl=i?.favIconUrl??"";const o=await _.windows.get(e.windowId);if(o){t.windowType=o.type}if(t.windowType==="normal"){p.activeTabBackgroundStore.set(t);p.activeTabUIStore.set(t);try{await v.backgroundManager.sendMessage(y.MessageType.ACTIVE_TAB_CHANGED,t);await(0,g.setObjectInLocalStorage)("activeTabBackground",t)}catch(e){d.log.warn("Error sending active tab changed message:",false,e)}}}}catch(e){d.log.warn("Background - onTabActivatedListener",false,e)}}async function onTabUpdatedListener(e,t,i){try{if(!_)return;const i={tabId:e,windowId:0,windowType:"",url:"",title:"",favIconUrl:"",dateTime:(new Date).toISOString()};const o=await _.tabs.get(e);if(o){i.windowId=o?.windowId??0;i.url=o?.url??"";i.title=o?.title??"";i.favIconUrl=o?.favIconUrl??"";if(i.windowId>0){const e=await _.windows.get(i.windowId);if(e){i.windowType=e.type}}if(i.windowType==="normal"){p.activeTabBackgroundStore.set(i);p.activeTabUIStore.set(i);try{await v.backgroundManager.sendMessage(y.MessageType.TAB_UPDATED,i);await(0,g.setObjectInLocalStorage)("activeTabBackground",i)}catch(e){}}if(t.url){const i=new URL(t.url).hostname;if(await(0,l.isBlacklisted)(i)){if(t.url.endsWith("yid="+o.id?.toString())){d.log.info("Phishing warning but user elected to proceed to:",t.url)}else{d.log.warn("Attempting to navigate to a known or potential phishing site.",t.url);const i=_.runtime.getURL("/phishing.html?flaggedSite="+t.url+"&yid="+o.id);_.tabs.update(e,{url:i})}}}}}catch(e){d.log.warn("Background - OnTabUpdatedListener",false,e)}}async function onTabRemovedListener(e,t){try{const t=(0,m.get)(p.activeTabBackgroundStore);if(t){if(t.tabId===e){p.activeTabBackgroundStore.set(null);try{await v.backgroundManager.sendMessage(y.MessageType.TAB_REMOVED,null);await(0,g.setObjectInLocalStorage)("activeTabBackground",null)}catch(e){}}}if(e&&u.portsExternal.size>0){u.portsExternal.delete(e)}}catch(e){d.log.warn("Background - onTabRemovedListener",false,e)}}async function onWindowsFocusChangedListener(e){try{if(!_)return;if(e!==_.windows.WINDOW_ID_NONE){const t=await _.windows.get(e);const i={windowId:e,type:t.type};if(t.type==="normal"){const o={tabId:0,windowId:e,windowType:t.type,url:"",title:"",favIconUrl:"",dateTime:(new Date).toISOString()};const a=await _.tabs.query({active:true,windowId:e});if(a.length>0){o.tabId=a[0].id??0;o.url=a[0].url??"";o.title=a[0].title??"";o.favIconUrl=a[0].favIconUrl??"";if(o.tabId>0){p.activeTabBackgroundStore.set(o);p.activeTabUIStore.set(o);await v.backgroundManager.sendMessage(y.MessageType.WINDOW_FOCUSED,i);await(0,g.setObjectInLocalStorage)("activeTabBackground",o)}}}}}catch(e){d.log.warn("Background - onWindowsFocusChangedListener",false,e)}}},"./src/lib/common/listeners/background/unifiedMessageListener.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EIP6963_ANNOUNCE:()=>P,EIP6963_REQUEST:()=>I,EIP6963_RESPONSE:()=>N,RUNTIME_MESSAGE:()=>M,SECURITY_MESSAGE:()=>C,decryptDataBackground:()=>decryptDataBackground,getBackgroundSessionToken:()=>getBackgroundSessionToken,handleRefreshSession:()=>handleRefreshSession,onUnifiedMessageHandler:()=>U,onUnifiedMessageListener:()=>onUnifiedMessageListener,onUnifiedPortMessageListener:()=>onUnifiedPortMessageListener,unregisterPort:()=>unregisterPort});var o=i("./src/lib/common/logger-wrapper.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/common/uuid.ts");var d=i("./src/lib/extensions/chrome/requestManager.ts");var p=i("./src/lib/extensions/chrome/signingManager.ts");var m=i("./src/lib/common/stores.ts");var g=i("./src/lib/extensions/chrome/eip-6963.ts");var v=i("./src/lib/common/encryption.ts");var y=i("./src/lib/common/misc.ts");var _=i("./src/lib/extensions/chrome/ui.ts");var w=i("./src/lib/extensions/chrome/iconTimer.ts");var A=i("./src/lib/utilities/index.ts");var k=i("./src/lib/common/backgroundSecurity.ts");var T=i("./src/lib/managers/SessionPortManager.ts");var x=i("./src/lib/managers/RequestManager.ts");const I="EIP6963_REQUEST";const N="EIP6963_RESPONSE";const P="EIP6963_ANNOUNCE";const C="SECURITY_MESSAGE";const M="RUNTIME_MESSAGE";const B=15*60*1e3;let j=false;let O=null;let D=null;const L=new Map;const F=new Map;function generateSessionToken(){const e=(0,u.getSafeUUID)();const t=Date.now()+B;return{token:e,expiresAt:t}}function clearSession(e){O=null;D=null}function registerSessionPort(e,t){try{o.log.info("Attempting to register port",false,{requestId:t,portName:e?.name,portType:typeof e,hasOnDisconnect:!!e?.onDisconnect,hasOnMessage:!!e?.onMessage});if(!e||!t){o.log.error("Invalid port or requestId",false,{port:e?{name:e.name,type:typeof e}:null,requestId:t});return{success:false,error:"Invalid port or requestId"}}if(L.has(t)){const i=L.get(t);o.log.warn("Port already registered for requestId",false,{requestId:t,existingPortName:i?.name,newPortName:e.name});return{success:false,error:"Port already registered"}}L.set(t,e);T.sessionPortManager.registerSessionPort({requestId:t},e);o.log.info("Port registered successfully",false,{requestId:t,portName:e.name,totalPorts:L.size});return{success:true}}catch(i){o.log.error("Error registering port",false,{error:i instanceof Error?i.message:"Unknown error",requestId:t,port:e?{name:e.name,type:typeof e}:null,stack:i instanceof Error?i.stack:undefined});return{success:false,error:i instanceof Error?i.message:"Unknown error"}}}function validateSession(e,t){try{if(!O||Date.now()>O.expiresAt){o.log.warn("Session validation failed",false,{reason:!O?"No session token":"Token expired",expiresAt:O?.expiresAt,currentTime:Date.now()});clearSession("Token expired or missing");throw new Error("Session expired")}if(O.token!==e){o.log.warn(`Unauthorized access to ${t}`,false,{providedToken:e,expectedToken:O.token});throw new Error("Unauthorized")}if(!D){o.log.warn("Memory hash missing during session validation",false);throw new Error("Memory hash missing")}}catch(i){o.log.error("Session validation error",false,{error:i instanceof Error?i.message:"Unknown error",scope:t,token:e});throw i}}async function decryptDataBackground(e,t){if(!(0,k.isBackgroundContext)()){throw new Error("Unauthorized context")}validateSession(t,"decryption");if(!(0,y.isEncryptedData)(e)){o.log.warn("Invalid encrypted data structure");throw new Error("Decryption failed")}return await(0,v.decryptData)(e,D)}async function onUnifiedPortMessageListener(e,t){try{const{id:i,method:a,type:l,action:u}=e;o.log.debug("Unified port handler received message",false,{requestId:i,method:a,type:l,action:u,portName:t.name});if(l==="REGISTER_SESSION_PORT"){const i=T.sessionPortManager.registerSessionPort(e,t);registerSessionPort(t,e.requestId);t.postMessage({type:"SESSION_PORT_REGISTERED",connectionId:i,requestId:e.requestId,portName:t.name});o.log.info("Session port registered",false,{connectionId:i,requestId:e.requestId,portName:t.name});return}if(l==="REQUEST_SESSION_PORT"){const i=T.sessionPortManager.getSessionInfo(e.requestId);if(!i){const i=L.get(e.requestId);if(i){t.postMessage({type:"SESSION_PORT_INFO",sessionInfo:{connectionId:"legacy",portName:i.name,requestId:e.requestId},requestId:e.requestId});return}}if(i){t.postMessage({type:"SESSION_PORT_INFO",sessionInfo:i,requestId:e.requestId})}else{t.postMessage({type:"SESSION_PORT_NOT_FOUND",requestId:e.requestId,error:"No session found for this request ID"})}o.log.info("Session info request handled",false,{requestId:e.requestId,found:!!i});return}const d={tab:t.sender?.tab,id:t.sender?.id,url:t.sender?.url,frameId:t.sender?.frameId};const p=Object.assign({},d,{port:t});const m=await onUnifiedMessageListener(e,p);if(m!==undefined){t.postMessage(m)}}catch(i){o.log.error("Error in unified port message handler",false,{error:i,message:e,portName:t.name});if(e.id){t.postMessage({type:"ERROR_RESPONSE",id:e.id,error:{code:-32603,message:i instanceof Error?i.message:"Internal error"}})}}}const U=onUnifiedPortMessageListener;async function onUnifiedMessageListener(e,t){try{const{id:i,method:a,type:l}=e;o.log.debug("onUnifiedMessageListener - Received message",false,{message:e,sender:t});if(e.type==="popout"){return await handleRuntimeMessage(e,t)}if(e.type==="clientReady"){return{success:true,message:"Client ready acknowledged"}}if(e.type===C){return await handleSecurityMessage(e,t)}if(e.type===I||e.type===N||e.type===P||e.type==="YAKKL_REQUEST:EIP6963"||e.type==="YAKKL_RESPONSE:EIP6963"||e.type==="YAKKL_EVENT:EIP6963"||e.type==="YAKKL_REQUEST:EIP1193"||e.type==="YAKKL_RESPONSE:EIP1193"||e.type==="YAKKL_EVENT:EIP1193"||e.method?.startsWith("eth_")){if(e.id&&t.port){const i=T.sessionPortManager.getSessionInfo(e.id)?.connectionId;x.requestManager.addRequest(e.id,{data:e,port:t.port,resolve:()=>{},reject:()=>{}},i)}return await handleEIP6963Message(e,t)}if(e.type===M||e.type==="getActiveTab"||e.type==="YAKKL_STATE_CHANGE"||e.type==="SET_PANEL_BEHAVIOR"||e.type==="clipboard-timeout"||e.type==="startPricingChecks"||e.type==="stopPricingChecks"){return await handleRuntimeMessage(e,t)}if(e.type==="REQUEST_SESSION_PORT"||e.type==="REGISTER_SESSION_PORT"||e.type==="UNREGISTER_SESSION_PORT"||e.type==="STORE_SESSION_HASH"||e.type==="REFRESH_SESSION"||e.type==="SESSION_TOKEN_BROADCAST"){return await handleSecurityMessage(e,t)}if(e.type==="SIGNING_RESPONSE"||e.type?.includes("personal_sign")||e.type?.includes("eth_signTypedData_v4")){return await handleSigningMessage(e,t)}if(e.type==="YAKKL_SECURITY_CONFIG_UPDATE"||e.type==="SECURITY_CONFIG_UPDATE"){return await handleSecurityMessage(e,t)}return{success:false,error:"Message type not handled in this listener"}}catch(e){o.log.error("Error in unified message listener",false,e);return{success:false,error:e instanceof Error?e.message:"Unknown error"}}}async function handleSecurityMessage(e,t){try{o.log.info("Security message received:",false,{type:e?.type,action:e?.action,hasPayload:!!e?.payload,hasToken:!!e?.token,requestId:e?.requestId});if(e?.type==="REQUEST_SESSION_PORT"){const i=e.requestId;if(!i){o.log.error("No requestId provided for REQUEST_SESSION_PORT",false);return{success:false,error:"No requestId provided"}}const a=T.sessionPortManager.getSessionInfo(i);o.log.info("handleSecurityMessage - New session info:",false,a);if(a){return{success:true,portName:a.portName}}const l=L.get(i);o.log.info("handleSecurityMessage - Existing port:",false,l);if(l){o.log.info("Found existing port for requestId",false,{requestId:i,portName:l.name});return{success:true,portName:l.name}}if(t.port){const e=registerSessionPort(t.port,i);o.log.info("handleSecurityMessage - Registration result:",false,e);if(e.success){return{success:true,portName:t.port.name}}}o.log.warn("No port found for request",false,{requestId:i});return{success:false,error:"No port found for request"}}if(e?.type==="REGISTER_SESSION_PORT"){if(!e.requestId||!e.port){o.log.error("Invalid REGISTER_SESSION_PORT request",false,{requestId:e?.requestId,hasPort:!!e?.port});return{success:false,error:"Invalid request"}}return registerSessionPort(e.port,e.requestId)}if(e?.type==="UNREGISTER_SESSION_PORT"){if(!e.requestId){o.log.error("No requestId provided for UNREGISTER_SESSION_PORT",false);return{success:false,error:"No requestId provided"}}unregisterPort(e.requestId);T.sessionPortManager.removeRequest(e.requestId);return{success:true}}if(e?.type==="STORE_SESSION_HASH"){if(!e.payload||typeof e.payload!=="string"){o.log.error("Invalid payload for STORE_SESSION_HASH",false);return{success:false,error:"Invalid payload"}}D=e.payload;O=generateSessionToken();setTimeout(async()=>{await l().runtime.sendMessage({type:"SESSION_TOKEN_BROADCAST",token:O.token,expiresAt:O.expiresAt})},0);return{success:true,token:O.token,expiresAt:O.expiresAt}}if(e?.type==="REFRESH_SESSION"){if(O&&e.token===O.token){O.expiresAt=Date.now()+B;return{success:true,token:O.token,expiresAt:O.expiresAt}}else{clearSession("Invalid or expired refresh request");return{success:false,error:"Unauthorized"}}}if(e?.type==="SESSION_TOKEN_BROADCAST"){return undefined}if(e?.type===C){return undefined}return undefined}catch(t){o.log.error("Error handling security message",false,{error:t instanceof Error?t.message:"Unknown error",message:e?.type,requestId:e?.requestId});return{success:false,error:t instanceof Error?t.message:"Unknown error"}}}async function handleEIP6963Message(e,t){try{const i=e.id||(0,u.getSafeUUID)();const o=getRequestOrigin(e,t);if(e.method?.startsWith("eth_")){return await handleEIP1193Method(e,t,i)}if(I===e.type){return await handleEIP6963Request(e,t,i,o)}if(N===e.type){return await handleEIP6963Response(e,t,i,o)}if(P===e.type){return await handleEIP6963Event(e,t,i,o)}return undefined}catch(e){o.log.error("Error handling EIP-6963 message:",false,e);return{type:N,error:{code:-32603,message:e instanceof Error?e.message:"EIP-6963 error"}}}}async function handleSigningMessage(e,t){try{if(!e||typeof e!=="object"){o.log.warn("Invalid signing message",false,{message:e});return{type:"YAKKL_RESPONSE:EIP6963",id:e?.requestId||"unknown",error:{code:-32602,message:"Invalid message format"}}}const{requestId:t,type:i,params:a,token:l}=e;if(!t||!i||!a||!l){o.log.warn("Missing required fields in signing message",false,{message:e});return{type:"YAKKL_RESPONSE:EIP6963",id:t||"unknown",error:{code:-32602,message:"Missing required fields"}}}try{validateSession(l,"signing")}catch(e){o.log.error("Session validation failed",false,{error:e});return{type:"YAKKL_RESPONSE:EIP6963",id:t,error:{code:-32e3,message:e instanceof Error?e.message:"Session validation failed"}}}const u=await(0,p.getSigningManager)();const d=await u.handleSigningRequest(t,i,a,l);o.log.info("Signing request completed",false,{result:d});return{type:"YAKKL_RESPONSE:EIP6963",id:t,method:i,result:d.result}}catch(t){o.log.error("Error handling signing message",false,{error:t});return{type:"YAKKL_RESPONSE:EIP6963",id:e?.requestId||"unknown",error:{code:-32603,message:t instanceof Error?t.message:"Unknown error occurred"}}}}async function handleRuntimeMessage(e,t){try{o.log.info("unifiedMessageListener - handleRuntimeMessage - message:",false,e);switch(e.type){case"getActiveTab":{try{let e=null;const t=await l().tabs.query({active:true});if(t.length>0){const i=t.find(e=>!e.url?.startsWith("chrome-extension://"));if(i){const t=await l().windows.get(i.windowId);e={tabId:i.id,windowId:i.windowId,windowType:t.type,url:i.url,title:i.title,favIconUrl:i.favIconUrl,dateTime:(new Date).toISOString()}}}if(e&&e.tabId){return{success:true,activeTab:e}}else{o.log.error("No active tab found:",true);return{success:false,error:"No active tab found."}}}catch(e){o.log.error("Error getting active tab:",true,e);return{success:false,error:e}}}case"popout":{(0,_.showPopup)("");return{success:true}}case"ping":{return{success:true,message:"Pong"}}case"clipboard-timeout":{setTimeout(async()=>{try{l().scripting.executeScript({target:{tabId:e.tabId},func:async()=>{try{await navigator.clipboard.writeText(e.redactText)}catch(e){o.log.error("Failed to write to clipboard:",false,e)}}})}catch(e){o.log.error("Failed to write to clipboard:",false,e)}},e.timeout);return{success:true,message:"Clipboard timeout scheduled"}}case"createNotification":{const{notificationId:t,title:i,messageText:o}=e.payload;if(i==="Security Notification"){return{success:false,message:"Security Notification canceled"}}await l().notifications.create(t,{type:"basic",iconUrl:l().runtime.getURL("/images/logoBullLock48x48.png"),title:i||"Notification",message:o||"Default message."});return{success:true,message:"Notification sent"}}case"startLockIconTimer":{(0,w.startLockIconTimer)();return{success:true,message:"Lock icon timer started."}}case"stopLockIconTimer":{(0,w.stopLockIconTimer)();return{success:true,message:"Lock icon timer stopped."}}case"setIconLock":{await(0,A.setIconLock)();return{success:true,message:"Lock icon set."}}case"setIconUnlock":{await(0,A.setIconUnlock)();return{success:true,message:"Unlock icon set."}}default:{o.log.info("unifiedMessageListener - handleRuntimeMessage - default (passed through):",false,e);return undefined}}}catch(e){o.log.error("Error handling runtime message:",false,e);return{success:false,error:e?.message||"Unknown error occurred."}}}function getRequestOrigin(e,t){try{if(e?.origin)return e.origin;if(t?.url)return new URL(t.url).origin;if(t?.tab?.url)return new URL(t.tab.url).origin;return""}catch(e){o.log.error("Error getting request origin:",false,e);return""}}async function handleStoreSessionHash(e){try{if(!e||typeof e!=="string"){o.log.warn("Invalid payload for session hash storage",false,{payload:e});return{success:false,error:"Invalid payload"}}D=e;O=generateSessionToken();try{await l().runtime.sendMessage({type:"SESSION_TOKEN_BROADCAST",token:O.token,expiresAt:O.expiresAt})}catch(e){o.log.warn("Failed to broadcast session token",false,{error:e})}o.log.info("Session hash stored and token generated",false,{token:O.token,expiresAt:O.expiresAt});return{success:true,token:O.token,expiresAt:O.expiresAt}}catch(t){o.log.error("Error storing session hash",false,{error:t instanceof Error?t.message:"Unknown error",payload:e});return{success:false,error:t instanceof Error?t.message:"Unknown error"}}}async function handleRefreshSession(e){try{if(!(0,k.isBackgroundContext)()){o.log.warn("Attempt to refresh session from non-background context");return{success:false,error:"Unauthorized context"}}if(!e){o.log.warn("No token provided for session refresh",false);return{success:false,error:"No token provided"}}if(O&&e===O.token){O.expiresAt=Date.now()+B;o.log.info("Session refreshed",false,{expiresAt:O.expiresAt,token:O.token});try{await l().runtime.sendMessage({type:"SESSION_TOKEN_BROADCAST",token:O.token,expiresAt:O.expiresAt})}catch(e){o.log.warn("Failed to broadcast session token",false,{error:e})}return{success:true,token:O.token,expiresAt:O.expiresAt}}else{o.log.warn("Invalid or expired refresh request",false,{providedToken:e,currentToken:O?.token});clearSession("Invalid refresh token");return{success:false,error:"Invalid or expired token"}}}catch(t){o.log.error("Error refreshing session",false,{error:t instanceof Error?t.message:"Unknown error",token:e});return{success:false,error:t instanceof Error?t.message:"Unknown error"}}}async function handleEIP1193Method(e,t,i){try{const{method:o,params:a}=e;const l=getRequestOrigin(e,t);const u={resolve:()=>{},reject:()=>{},port:t,data:{id:i,method:o,params:a,timestamp:Date.now(),type:I,origin:l}};d.requestManager.addRequest(i,u);await(0,g.showEIP6963Popup)(o,a,t,i);const p=await d.requestManager.getRequest(i);if(p?.error){throw new Error(p.error.message)}return{type:N,id:i,result:p?.result}}catch(e){o.log.error("Error handling EIP-1193 method:",false,e);return{type:N,id:i,error:{code:-32603,message:e instanceof Error?e.message:"EIP-1193 method error"}}}}async function handleEIP6963Request(e,t,i,a){try{const{type:o,payload:l}=e;const u={resolve:()=>{},reject:()=>{},port:t,data:{id:i,method:o,params:[l],timestamp:Date.now(),type:o,origin:a}};d.requestManager.addRequest(i,u);await(0,g.showEIP6963Popup)(o,[l],t,i);const p=await d.requestManager.getRequest(i);if(p?.error){throw new Error(p.error.message)}return{type:N,id:i,result:p?.result}}catch(e){o.log.error("Error handling EIP-6963 request:",false,e);return{type:N,id:i,error:{code:-32603,message:e instanceof Error?e.message:"EIP-6963 request error"}}}}async function handleEIP6963Response(e,t,i,a){try{const{type:t,result:o,error:a}=e;d.requestManager.updateRequest(i,{data:{id:i,method:t,params:[],timestamp:Date.now(),type:t},result:o,error:a});return{type:N,id:i,success:true}}catch(e){o.log.error("Error handling EIP-6963 response:",false,e);return{type:N,id:i,error:{code:-32603,message:e instanceof Error?e.message:"EIP-6963 response error"}}}}async function handleEIP6963Event(e,t,i,a){try{const{type:t,event:i,data:o}=e;switch(i){case"accountsChanged":const e=await(0,m.getYakklCurrentlySelected)();return{type:P,event:"accountsChanged",data:e};case"chainChanged":return{type:P,event:"chainChanged",data:o};case"disconnect":return{type:P,event:"disconnect",data:o};default:return undefined}}catch(e){o.log.error("Error handling EIP-6963 event:",false,e);return{type:N,id:i,error:{code:-32603,message:e instanceof Error?e.message:"EIP-6963 event error"}}}}function unregisterPort(e){if(!(0,k.isBackgroundContext)()){return{success:false,error:"Unauthorized context"}}o.log.info("Unregistering port",false,{requestId:e});L.delete(e);T.sessionPortManager.removeRequest(e);return{success:true}}function getBackgroundSessionToken(){try{if(!(0,k.isBackgroundContext)()){throw new Error("Unauthorized context")}if(!O){o.log.debug("No active session token found");return null}if(Date.now()>O.expiresAt){o.log.debug("Session token has expired");clearSession("Token expired");return null}return O}catch(e){o.log.error("Error accessing session token:",false,e);return null}}},"./src/lib/common/listeners/background/writeMethodHandler.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{handleWriteRequest:()=>handleWriteRequest});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/extensions/chrome/errorResponseHandler.ts");var l=i("./src/lib/extensions/chrome/background.ts");var u=i("./src/lib/extensions/chrome/eip-6963.ts");var d=i("./src/lib/common/security.ts");var p=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var m=i.n(p);var g=i("./src/lib/extensions/chrome/verifyDomainConnectedBackground.ts");async function handleWriteRequest(e,t){const{id:i,method:l,params:u,requiresApproval:d=true}=e;try{o.log.debug("Processing write request:",false,{id:i,method:l,requiresApproval:d,timestamp:(new Date).toISOString()});if(d){await handleApprovalRequest(e,t)}else{const e=await executeWriteMethod(l,u);const o={type:"YAKKL_RESPONSE:EIP6963",id:i,result:e,jsonrpc:"2.0",method:l};t.postMessage(o)}}catch(e){o.log.error("Error in write request:",false,{id:i,method:l,error:e});(0,a.sendErrorResponse)(t,i,e)}}async function handleApprovalRequest(e,t){const{id:i,method:d,params:p}=e;try{const e=await getTabInfoForPort(t);const o={resolve:e=>{t.postMessage({type:"YAKKL_RESPONSE:EIP6963",id:i,result:e,method:d,jsonrpc:"2.0"})},reject:e=>{(0,a.sendErrorResponse)(t,i,e)},port:t,data:{id:i,method:d,params:p||[],requiresApproval:true,timestamp:Date.now(),metaData:{method:d,params:p||[],metaData:{domain:e.domain,icon:e.icon,title:e.title,origin:e.url,isConnected:await(0,g.verifyDomainConnected)(e.domain),message:getApprovalMessage(d,p)}}}};l.pendingRequests.set(i,o);await(0,u.showEIP6963Popup)(d,p||[],t,i)}catch(e){o.log.error("Error handling approval request:",false,e);(0,a.sendErrorResponse)(t,i,e)}}async function executeWriteMethod(e,t){const{getAlchemyProvider:o}=await Promise.resolve().then(i.bind(i,"./src/lib/managers/providers/network/ethereum_provider/alchemy.ts"));const a=await o();const l=await a.request({method:e,params:t});return l}async function getTabInfoForPort(e){try{if(e.sender?.tab?.id){const t=await m().tabs.get(e.sender.tab.id);return{domain:(0,d.extractSecureDomain)(t.url||""),url:t.url||"",title:t.title||"Unknown",icon:t.favIconUrl||"/images/failIcon48x48.png"}}}catch(e){o.log.error("Error getting tab info:",false,e)}return{domain:"Unknown",url:"",title:"Unknown",icon:"/images/failIcon48x48.png"}}function getApprovalMessage(e,t){switch(e){case"eth_requestAccounts":return"Connect your wallet";case"eth_sendTransaction":return"Confirm transaction";case"personal_sign":return t?.[0]?String(t[0]):"Sign message";case"eth_signTypedData_v4":return"Sign typed data";case"wallet_addEthereumChain":return"Add network";case"wallet_switchEthereumChain":return"Switch network";case"wallet_watchAsset":return"Add token";default:return"Approve request"}}},"./src/lib/common/listeners/ui/portListeners.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{onPortInternalListener:()=>onPortInternalListener});var o=i("./src/lib/extensions/chrome/ui.ts");var a=i("./src/lib/utilities/utilities.ts");async function onPortInternalListener(e,t){if(e&&e.method){switch(e.method){case"int_screen":(0,o.updateScreenPreferences)(e);break;case"close":await(0,a.setIconLock)();o.openWindows.clear();break;default:break}}}},"./src/lib/common/logger-wrapper.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{LogLevel:()=>o.LogLevel,LogLevelDirection:()=>o.LogLevelDirection,log:()=>a});var o=i("./src/lib/managers/Logger.ts");const a={debug:true?o.log.debug.bind(o.log):0,debugStack:true?o.log.debugStack.bind(o.log):0,warn:true?o.log.warn.bind(o.log):0,errorStack:true?o.log.errorStack.bind(o.log):0,info:true?o.log.info.bind(o.log):0,infoStack:true?o.log.infoStack.bind(o.log):0,trace:true?o.log.trace.bind(o.log):0,error:o.log.error.bind(o.log),setLevel:o.log.setLevel.bind(o.log),setLogFilterEnabled:o.log.setLogFilterEnabled.bind(o.log),setLogFilterRegex:o.log.setLogFilterRegex.bind(o.log),setStackIndex:o.log.setStackIndex.bind(o.log),setBackend:o.log.setBackend.bind(o.log),clearPersistedLogs:o.log.clearPersistedLogs.bind(o.log),getPersistedLogs:o.log.getPersistedLogs.bind(o.log)}},"./src/lib/common/loggerColor.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>colorLog});function colorLog(e,t){let i=t||o.FgBlack;switch(t){case"success":i=o.FgGreen;break;case"info":i=o.FgBlue;break;case"error":i=o.FgRed;break;case"warning":i=o.FgYellow;break}console.log(i,e)}const o={Reset:"[0m",Bright:"[1m",Dim:"[2m",Underscore:"[4m",Blink:"[5m",Reverse:"[7m",Hidden:"[8m",FgBlack:"[30m",FgRed:"[31m",FgGreen:"[32m",FgYellow:"[33m",FgBlue:"[34m",FgMagenta:"[35m",FgCyan:"[36m",FgWhite:"[37m",BgBlack:"[40m",BgRed:"[41m",BgGreen:"[42m",BgYellow:"[43m",BgBlue:"[44m",BgMagenta:"[45m",BgCyan:"[46m",BgWhite:"[47m"}},"./src/lib/common/math.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{addHexPrefix:()=>a.addHexPrefix,bigNumberishMultiplyByFraction:()=>bigNumberishMultiplyByFraction,bigNumberishToHex:()=>bigNumberishToHex,convertBasisPointsToDecimal:()=>convertBasisPointsToDecimal,getBigInt:()=>getBigInt,getNumber:()=>getNumber,getUint:()=>getUint,hexToBigNumberish:()=>hexToBigNumberish,multiplyNumeric:()=>multiplyNumeric,numberToBigInt:()=>numberToBigInt,safeConvertToBigInt:()=>safeConvertToBigInt,stringToBigInt:()=>stringToBigInt,toBeArray:()=>toBeArray,toBeHex:()=>toBeHex,toBigInt:()=>toBigInt,toNumber:()=>toNumber,toQuantity:()=>toQuantity});var o=i("./src/lib/common/errors.ts");var a=i("./src/lib/common/misc.ts");var l=i("./src/lib/common/bignumber.ts");var u=i("./src/lib/managers/Logger.ts");const d="0123456789abcdef";const p=BigInt(0);const m=BigInt(1);const g=BigInt(2)**BigInt(256)-BigInt(1);function convertBasisPointsToDecimal(e){try{if(e<1){return e}return e/1e4}catch(e){u.log.error(`convertBasisPointsToDecimal: ${e}`);return 0}}function hexToBigNumberish(e){return BigInt((0,a.stripHexPrefix)(e))}function bigNumberishMultiplyByFraction(e,t,i){try{const o=getBigInt(e);const a=getBigInt(t);const l=getBigInt(i);return o*a/l}catch(t){if(t instanceof Error){throw(0,o.makeError)(t.message,"NUMERIC_FAULT",{fault:"overflow",operation:"bigNumberishMultiplyByFraction",value:e})}else{throw t}}}function bigNumberishToHex(e){if(e===null){throw new Error("value cannot be null")}return(0,a.addHexPrefix)(e.toString(16))}function getBigInt(e,t){try{if(e===null){throw new Error("value cannot be null")}switch(typeof e){case"bigint":return e;case"number":if(!Number.isInteger(e)){throw new Error("underflow")}if(e<-g||e>g){throw new Error("overflow")}return BigInt(e);case"string":if(e===""){throw new Error("empty string")}if(e[0]==="-"&&e[1]!=="-"){return-BigInt(e.substring(1))}if(e==="0"||e==="0.0"||e==="0.00"){return 0n}return BigInt(e);default:throw new Error("invalid BigNumberish value")}}catch(i){u.log.error(`getBigInt: ${i}`);if(i instanceof Error){throw(0,o.makeError)(i.message,"INVALID_ARGUMENT",{argument:t||"value",value:e})}else{throw i}}}function getUint(e,t){try{const i=getBigInt(e,t);if(i<p){throw new Error("unsigned value cannot be negative")}return i}catch(t){u.log.error(`getUint: ${t}`);if(t instanceof Error){throw(0,o.makeError)(t.message,"NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e})}else{throw t}}}function toBigInt(e,t){if(e instanceof Uint8Array){let t="0x0";for(const i of e){t+=d[i>>4];t+=d[i&15]}return BigInt(t)}if(typeof e==="number"){if(t!==undefined)return numberToBigInt(e,t)}if(typeof e==="string"){if(t!==undefined)return stringToBigInt(e,t)}return getBigInt(e)}function stringToBigInt(e,t=18){if(!e||isNaN(Number(e))){return 0n}const[i,o=""]=e.split(".");const a=o.padEnd(t,"0").slice(0,t);const l=i+a;return BigInt(l)}function numberToBigInt(e,t=18){if(isNaN(e)||t<0){return 0n}const i=Math.pow(10,t);const o=Math.round(e*i);return BigInt(o)}function safeConvertToBigInt(e){try{if(e===null||e===undefined)return undefined;if(typeof e==="bigint")return e;if(e instanceof l.BigNumber){return BigInt(e.toString())}if(typeof e==="object"&&e!==null&&"_hex"in e){return BigInt(e._hex)}return toBigInt(e)}catch(e){u.log.error(`safeConvertToBigInt: ${e}`);return 0n}}function getNumber(e,t){try{switch(typeof e){case"bigint":if(e<-g||e>g){throw new Error("overflow")}return Number(e);case"number":if(!Number.isInteger(e)){throw new Error("underflow")}if(e<-g||e>g){throw new Error("overflow")}return e;case"string":if(e===""){throw new Error("empty string")}return getNumber(BigInt(e),t);default:throw new Error("invalid numeric value")}}catch(i){u.log.error(`getNumber: ${i}`);if(i instanceof Error){throw(0,o.makeError)(i.message,"INVALID_ARGUMENT",{argument:t||"value",value:e})}else{throw i}}}function toNumber(e){return getNumber(toBigInt(e))}function toBeHex(e,t){try{const i=getUint(e,"value");let o=i.toString(16);if(t==null){if(o.length%2){o="0"+o}}else{const e=getNumber(t,"width");if(e*2<o.length){throw new Error(`value exceeds width (${e} bytes)`)}while(o.length<e*2){o="0"+o}}return"0x"+o}catch(t){if(t instanceof Error){u.log.error(`toBeHex: ${t}`);throw(0,o.makeError)(t.message,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e})}else{throw t}}}function toBeArray(e){const t=getUint(e,"value");if(t===p){return new Uint8Array([])}let i=t.toString(16);if(i.length%2){i="0"+i}const o=new Uint8Array(i.length/2);for(let e=0;e<o.length;e++){const t=e*2;o[e]=parseInt(i.substring(t,t+2),16)}return o}function toQuantity(e){let t=(0,a.hexlify)((0,a.isBytesLike)(e)?e:toBeArray(e)).substring(2);while(t.startsWith("0")){t=t.substring(1)}if(t===""){t="0"}return"0x"+t}function multiplyNumeric(e,t){const i=typeof e==="bigint"?e:BigInt(e);const o=typeof t==="bigint"?t:BigInt(t);const a=i*o;return a}},"./src/lib/common/misc.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{addHexPrefix:()=>addHexPrefix,checkProperties:()=>checkProperties,concat:()=>concat,convertToHexStrings:()=>convertToHexStrings,dataLength:()=>dataLength,dataSlice:()=>dataSlice,decodeJSON:()=>decodeJSON,encodeJSON:()=>encodeJSON,extractFQDN:()=>extractFQDN,getBytes:()=>getBytes,getBytesCopy:()=>getBytesCopy,getOrDefault:()=>getOrDefault,getPlatform:()=>getPlatform,getPrimaryAccountByAddress:()=>getPrimaryAccountByAddress,hexlify:()=>hexlify,isBigNumber:()=>isBigNumber,isBigNumberish:()=>isBigNumberish,isBytesLike:()=>isBytesLike,isCurrentlySelectedData:()=>isCurrentlySelectedData,isEmptyNullOrUndefined:()=>isEmptyNullOrUndefined,isEmptyObject:()=>isEmptyObject,isEncryptedData:()=>isEncryptedData,isHexPrefixed:()=>isHexPrefixed,isHexString:()=>isHexString,isJSONSerializable:()=>isJSONSerializable,isJsonObject:()=>isJsonObject,isMetaData:()=>isMetaData,isNull:()=>isNull,isPrimaryAccountData:()=>isPrimaryAccountData,isProfileData:()=>isProfileData,isPromiseJson:()=>isPromiseJson,isString:()=>isString,isUndefined:()=>isUndefined,isValidJSON:()=>isValidJSON,isYakklAccount:()=>isYakklAccount,isYakklPrimaryAccount:()=>isYakklPrimaryAccount,parseJsonOrObject:()=>parseJsonOrObject,parseWithBigInt:()=>parseWithBigInt,resolveProperties:()=>resolveProperties,stripHexPrefix:()=>stripHexPrefix,toHex:()=>toHex});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/common/bignumber.ts");var l=i("./src/lib/managers/Logger.ts");async function getPrimaryAccountByAddress(e){if(!e)return null;const t=[];if(!t)return null;const i=t.find(t=>t.address===e);return i||null}function encodeJSON(e){const t=JSON.stringify(e,(e,t)=>{if(typeof t==="bigint"){return t.toString()+"n"}if(typeof t==="object"&&t!==null&&Object.keys(t).length===0){if(Array.isArray(t)){return[]}return"{}"}return t});return t}function decodeJSON(e){return JSON.parse(e,(e,t)=>{if(typeof t==="string"&&/^\d+n$/.test(t)){return BigInt(t.slice(0,-1))}return t})}function parseWithBigInt(e){return JSON.parse(e,(e,t)=>typeof t==="string"&&/^\d+n$/.test(t)?BigInt(t.slice(0,-1)):t)}function isJSONSerializable(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||Array.isArray(e)||typeof e==="object"&&Object.prototype.toString.call(e)==="[object Object]"&&(Object.getPrototypeOf(e)===null||Object.getPrototypeOf(e)===Object.prototype)}function isNull(e){return e===null}function isUndefined(e){return e===undefined}function isEmptyObject(e){return e&&typeof e==="object"&&Object.keys(e).length===0&&e.constructor===Object}function isEmptyNullOrUndefined(e){return e===null||e===undefined||typeof e==="object"&&Object.keys(e).length===0&&e.constructor===Object}function isValidJSON(e){try{JSON.parse(e);return true}catch{return false}}function isEncryptedData(e){return!isEmptyNullOrUndefined(e)&&typeof e.iv==="string"&&typeof e.data==="string"&&typeof e.salt==="string"}function isProfileData(e){return e.pincode!==undefined}function isMetaData(e){return e!==null&&typeof e==="object"}function isString(e){return typeof e==="string"}function isCurrentlySelectedData(e){return e.profile!==undefined}function isPrimaryAccountData(e){return e.privateKey!==undefined}function isYakklPrimaryAccount(e){return e&&e.subAccounts!==undefined}function isYakklAccount(e){return e&&e.accountType!==undefined}function isJsonObject(e){return e!==null&&typeof e==="object"&&!Array.isArray(e)}async function isPromiseJson(e){try{const t=await e;return isJsonObject(t)}catch{return false}}function isBigNumber(e){return e instanceof a.BigNumber}function isBigNumberish(e){return typeof e==="number"||typeof e==="string"&&/^-?\d+$/.test(e)||typeof e==="bigint"||isBigNumber(e)}function toHex(e){if(isBigNumber(e)){return e.toHex()}const t=a.BigNumber.from(e).toHex();return t.length%2===0?t:"0x0"+t.slice(2)}function convertToHexStrings(e,t=[]){const i=new Set(t);function shouldSkip(e){const t=e.join(".");return Array.from(i).some(e=>t.startsWith(e))}function convert(e,t=[]){if(shouldSkip(t)){return e}if(Array.isArray(e)){return e.map((e,i)=>convert(e,[...t,i.toString()]))}else if(e&&typeof e==="object"&&!isBigNumber(e)){const i={};for(const o in e){if(Object.prototype.hasOwnProperty.call(e,o)){i[o]=convert(e[o],[...t,o])}}return i}else if(isBigNumberish(e)){return toHex(e)}return e}return convert(e)}function parseJsonOrObject(e){if(e===null||e===undefined){return null}if(typeof e==="object"){return e}if(typeof e==="string"){try{const t=JSON.parse(e);if(typeof t==="object"&&t!==null){return t}}catch(e){l.log.error("Error parsing JSON string:",false,e);return null}}return null}async function resolveProperties(e){const t=Object.keys(e).map(async t=>{const i=e[t];const o=await Promise.resolve(i);return{key:t,value:o}});const i=await Promise.all(t);return i.reduce((e,t)=>{e[t.key]=t.value;return e},{})}function checkProperties(e,t){if(!e||typeof e!=="object"){throw new Error("invalid object",e)}Object.keys(e).forEach(i=>{if(!t[i]){throw new Error("invalid object key - "+i,e)}})}function getOrDefault(e,t){return e===undefined?t:e}const addHexPrefix=e=>{if(typeof e!=="string"||e.match(/^-?0x/u)){return e}if(e.match(/^-?0X/u)){return e.replace("0X","0x")}if(e.startsWith("-")){return e.replace("-","-0x")}return`0x${e}`};const stripHexPrefix=e=>{if(typeof e!=="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return isHexPrefixed(e)?e.slice(2):e};function isHexPrefixed(e){if(typeof e!=="string"){throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`)}return e[0]==="0"&&e[1]==="x"}function isHexString(e,t){if(typeof e!=="string"||!e.match(/^0x[0-9A-Fa-f]*$/)){return false}if(typeof t==="number"&&e.length!==2+2*t){return false}if(t===true&&e.length%2!==0){return false}return true}function _getBytes(e,t,i){try{if(e instanceof Uint8Array){if(i){return new Uint8Array(e)}return e}if(typeof e==="string"&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let i=2;for(let o=0;o<t.length;o++){t[o]=parseInt(e.substring(i,i+2),16);i+=2}return t}throw new Error("invalid BytesLike value")}catch(i){if(i instanceof Error){throw(0,o.makeError)(i.message,"INVALID_ARGUMENT",{argument:t||"value",value:e})}else{throw i}}}function getBytes(e,t){return _getBytes(e,t,false)}function getBytesCopy(e,t){return _getBytes(e,t,true)}function isBytesLike(e){return isHexString(e,true)||e instanceof Uint8Array}const u="0123456789abcdef";function hexlify(e){const t=getBytes(e);let i="0x";for(let e=0;e<t.length;e++){const o=t[e];i+=u[(o&240)>>4]+u[o&15]}return i}function concat(e){return"0x"+e.map(e=>hexlify(e).substring(2)).join("")}function dataLength(e){if(isHexString(e,true)){return(e.length-2)/2}return getBytes(e).length}function dataSlice(e,t,i){const o=getBytes(e);if(i!=null&&i>o.length){}return hexlify(o.slice(t==null?0:t,i==null?o.length:i))}const getPlatform=()=>{const{navigator:e}=window;const{userAgent:t}=e;if(t.includes("Firefox")){return o.PLATFORM_TYPES.FIREFOX}else if("brave"in e){return o.PLATFORM_TYPES.BRAVE}else if(t.includes("Edg/")){return o.PLATFORM_TYPES.EDGE}else if(t.includes("OPR")){return o.PLATFORM_TYPES.OPERA}return o.PLATFORM_TYPES.CHROME};function extractFQDN(e){try{if(!e)return"";const t=new URL(e);return t.hostname}catch(e){l.log.error(e);return""}}},"./src/lib/common/network.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{postWithBackoff:()=>postWithBackoff,requestWithBackoff:()=>requestWithBackoff});var o=i("./src/lib/common/index.ts");async function postWithBackoff(e,t,i=1,a=o.DEV_BASE_DELAY){return new Promise((l,u)=>{fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(d=>{if(d.ok){l(d)}else{if(i<o.DEV_MAX_RETRIES){const o=a*2;setTimeout(()=>{postWithBackoff(e,t,i+1,o).then(l).catch(u)},o)}else{console.log("[ERROR]: postWithBackoff - response:",d);u(new Error(`POST request failed after ${o.DEV_MAX_RETRIES} attempts.`))}}}).catch(d=>{if(i<o.DEV_MAX_RETRIES){const o=a*2;setTimeout(()=>{postWithBackoff(e,t,i+1,o).then(l).catch(u)},o)}else{console.log("[ERROR]: postWithBackoff:",false,d);u(new Error(`POST request failed after ${o.DEV_MAX_RETRIES} attempts. ${d}`))}})})}async function requestWithBackoff(e,t,i=1,a=o.DEV_BASE_DELAY){return new Promise((l,u)=>{fetch(e,t).then(d=>{if(d.ok){l(d)}else{if(i<o.DEV_MAX_RETRIES){const o=a*2;setTimeout(()=>{requestWithBackoff(e,t,i+1,o).then(l).catch(u)},o)}else{console.log("[ERROR]: requestWithBackoff - response:",d);u(new Error(`Request failed after ${o.DEV_MAX_RETRIES} attempts.`))}}}).catch(d=>{if(i<o.DEV_MAX_RETRIES){const o=a*2;setTimeout(()=>{requestWithBackoff(e,t,i+1,o).then(l).catch(u)},o)}else{console.log("[ERROR]: requestWithBackoff:",false,d);u(new Error(`Request failed after ${o.DEV_MAX_RETRIES} attempts.  ${d}`))}})})}},"./src/lib/common/notifications.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{NotificationService:()=>NotificationService,sendNotificationMessage:()=>sendNotificationMessage,sendNotificationPing:()=>sendNotificationPing,sendNotificationStartLockIconTimer:()=>sendNotificationStartLockIconTimer,sendNotificationStopLockIconTimer:()=>sendNotificationStopLockIconTimer});var o=i("./src/lib/extensions/chrome/iconTimer.ts");var a=i("./src/lib/common/environment.ts");var l=i("./src/lib/common/logger-wrapper.ts");var u=i("./src/lib/utilities/index.ts");const d="/images/logoBullLock48x48.png";const p=new Set;class NotificationService{static DEFAULT_ID="yakkl-notification";static DEFAULT_ICON="/images/logoBullLock48x48.png";static clearTimeout=null;static _badgeCountdownInterval=null;static _urgentSoundContext=null;static _isClearing=false;static _clearingPromise=null;static IMPORTANT_NOTIFICATIONS=["security-alert","lockdown-warning","wallet-locked"];static async createNotification(e,t){if(!a.browser_ext)return null;try{const i=t||this.DEFAULT_ID;const o={...e,iconUrl:a.browser_ext.runtime.getURL(this.DEFAULT_ICON),...this.IMPORTANT_NOTIFICATIONS.some(e=>i.startsWith(e))?{requireInteraction:true,priority:2,silent:false,eventTime:Date.now()}:{}};l.log.info("createNotification - notificationOptions:",false,o);await a.browser_ext.notifications.create(i,o);p.add(i);if(this.IMPORTANT_NOTIFICATIONS.some(e=>i.startsWith(e))){this.broadcastNotificationToUI(i,o)}return i}catch(e){l.log.warn("Error creating notification:",false,e);return null}}static broadcastNotificationToUI(e,t){if(!a.browser_ext)return;try{a.browser_ext.runtime.sendMessage({type:"IMPORTANT_NOTIFICATION",notificationId:e,title:t.title,message:t.message,options:{requireInteraction:t.requireInteraction,priority:t.priority,silent:t.silent},timestamp:Date.now()}).catch(e=>{l.log.debug("Error broadcasting notification to UI:",false,e)})}catch(e){}}static async clear(e=this.DEFAULT_ID){if(!a.browser_ext)return false;try{await a.browser_ext.notifications.clear(e);p.delete(e);try{a.browser_ext.runtime.sendMessage({type:"CLEAR_NOTIFICATION",notificationId:e,timestamp:Date.now()}).catch(()=>{})}catch(e){}return true}catch(t){l.log.warn("Error clearing notification:",false,{id:e,error:t});return false}}static async clearAll(){if(!a.browser_ext)return;const e=[...p];for(const t of e){await this.clear(t)}}static async sendBasic(e,t,i={},o){l.log.info("sendBasic - title:",false,e);return await this.createNotification({type:"basic",title:e,message:t,...i},o)}static async sendList(e,t,i,o={},a){return await this.createNotification({type:"list",title:e,message:t,items:i,...o},a)}static async sendImage(e,t,i,o={},a){return await this.createNotification({type:"image",title:e,message:t,imageUrl:i,...o},a)}static async sendProgress(e,t,i,o={},a){return await this.createNotification({type:"progress",title:e,message:t,progress:Math.max(0,Math.min(100,i)),...o},a)}static async sendSecurityAlert(e,t={},i){l.log.info("sendSecurityAlert - message:",false,e);const o=i||`security-alert-${Date.now()}`;const u={requireInteraction:true,priority:2,silent:false,iconUrl:a.browser_ext?.runtime.getURL("/images/logoBullLock48x48.png"),type:"basic",...t,eventTime:Date.now()};try{const t=await this.sendBasic("🔒 Security Alert",e,u,o);if(a.browser_ext&&this.IMPORTANT_NOTIFICATIONS.some(e=>o.startsWith(e))){try{a.browser_ext.runtime.sendMessage({type:"SECURITY_ALERT",message:e,options:u,id:o,timestamp:Date.now()}).catch(()=>{})}catch(e){}}return t}catch(e){l.log.warn("Failed to send security alert notification:",false,e);return null}}static async sendLockdownWarning(e=3e4,t={}){const i=`YAKKL will be locked soon due to inactivity. You have ${Math.round(e/1e3)} seconds remaining.`;const o=`lockdown-warning-${Date.now()}`;const u=await this.sendSecurityAlert(i,{contextMessage:"Use YAKKL to prevent automatic lockdown",requireInteraction:true,priority:2,...t},o);if(a.browser_ext){try{a.browser_ext.runtime.sendMessage({type:"LOCKDOWN_WARNING",message:i,timestamp:Date.now(),delayMs:e}).catch(e=>{l.log.debug("Error sending lockdown warning message:",false,e)})}catch(e){l.log.debug("Error sending lockdown warning message:",false,e)}}return u}static async sendWalletLocked(e={}){return await this.sendSecurityAlert("Your YAKKL wallet has been locked due to inactivity.",{requireInteraction:false,priority:2,...e},"wallet-locked")}static async focusPopupWindowEnhanced(){try{if(!a.browser_ext?.windows)return false;const e=await a.browser_ext.windows.getAll({windowTypes:["popup"]});const t=e.find(e=>e.type==="popup"&&e.tabs?.some(e=>e.url?.includes(a.browser_ext.runtime.id)));if(t?.id){await a.browser_ext.windows.update(t.id,{focused:true,drawAttention:true});l.log.info("[NotificationService] Popup window focused and attention drawn");return true}else{l.log.debug("[NotificationService] Extension popup window not found");return false}}catch(e){l.log.warn("[NotificationService] Failed to focus popup window:",false,e);return false}}static async setUrgentBadgeEnhanced(e="⚠️"){try{if(!a.browser_ext?.action)return;await a.browser_ext.action.setBadgeText({text:e});await a.browser_ext.action.setBadgeBackgroundColor({color:"#ff0000"});try{await a.browser_ext.action.setIcon({path:{16:"/images/logoUrgentBullUnlock16x16.png",32:"/images/logoUrgentBullUnlock32x32.png",48:"/images/logoUrgentBullUnlock48x48.png",96:"/images/logoUrgentBullUnlock96x96.png",128:"/images/logoUrgentBullUnlock128x128.png"}})}catch(e){l.log.debug("[NotificationService] Urgent icons not found, using default")}l.log.info("[NotificationService] Enhanced urgent badge state set")}catch(e){l.log.warn("[NotificationService] Failed to set enhanced urgent badge:",false,e)}}static startBadgeCountdownEnhanced(e){this.clearBadgeCountdown();let t=e;if(typeof window!=="undefined"){this._badgeCountdownInterval=window.setInterval(async()=>{t--;if(t<=0){this.clearBadgeCountdown();await this.clearUrgentBadgeEnhanced();return}if(a.browser_ext?.action){try{await a.browser_ext.action.setBadgeText({text:t.toString()});if(t<=5){await a.browser_ext.action.setBadgeBackgroundColor({color:"#ff0000"})}else if(t<=10){await a.browser_ext.action.setBadgeBackgroundColor({color:"#ff8800"})}else{await a.browser_ext.action.setBadgeBackgroundColor({color:"#ffaa00"})}}catch(e){l.log.debug("Badge update failed:",false,e)}}},1e3);l.log.info("[NotificationService] Badge countdown started:",false,{seconds:e,intervalId:this._badgeCountdownInterval})}}static clearBadgeCountdown(){if(this._badgeCountdownInterval){clearInterval(this._badgeCountdownInterval);this._badgeCountdownInterval=null;(0,u.setBadgeText)("");l.log.info("[NotificationService] Badge countdown interval cleared")}}static async clearUrgentBadgeEnhanced(){try{if(!a.browser_ext?.action)return;this.clearBadgeCountdown();await a.browser_ext.action.setBadgeText({text:""});await a.browser_ext.action.setIcon({path:{16:"/images/logoBullFav16x16.png",32:"/images/logoBullFav32x32.png",48:"/images/logoBullFav48x48.png",96:"/images/logoBullFav96x96.png",128:"/images/logoBullFav128x128.png"}});l.log.info("[NotificationService] Enhanced urgent badge state cleared")}catch(e){l.log.warn("[NotificationService] Failed to clear enhanced urgent badge:",false,e)}}static async playUrgentSoundEnhanced(){try{if(a.browser_ext?.runtime){a.browser_ext.runtime.sendMessage({type:"PLAY_URGENT_SOUND",timestamp:Date.now()}).catch(e=>{l.log.debug("Error sending sound request to UI:",false,e)})}l.log.info("[NotificationService] Enhanced urgent sound request sent")}catch(e){l.log.warn("[NotificationService] Failed to play enhanced urgent sound:",false,e)}}static async sendLockdownWarningEnhanced(e=3e4,t={}){try{const i=Math.ceil(e/1e3);l.log.info("[NotificationService] sendLockdownWarningEnhanced called with full attention features",false,{delayMs:e,delaySeconds:i,options:t});await this.setUrgentBadgeEnhanced(`${i}`);const o=await this.focusPopupWindowEnhanced();const u=`YAKKL will be locked in ${i} seconds due to inactivity. Click extension or this notification to stay active!`;const d=`lockdown-warning-enhanced-${Date.now()}`;let m=null;if(a.browser_ext?.notifications){try{const e={type:"basic",title:"🚨 YAKKL SECURITY ALERT",message:u,priority:2,requireInteraction:true,silent:false,eventTime:Date.now(),...t};const i={...e,iconUrl:a.browser_ext.runtime.getURL(this.DEFAULT_ICON)};await a.browser_ext.notifications.create(d,i);p.add(d);m=d;l.log.info("[NotificationService] Enhanced browser notification created")}catch(e){l.log.warn("[NotificationService] Failed to create enhanced browser notification:",false,e)}}await this.playUrgentSoundEnhanced();if(a.browser_ext?.runtime){try{a.browser_ext.runtime.sendMessage({type:"LOCKDOWN_WARNING_ENHANCED",message:u,timestamp:Date.now(),delayMs:e,delaySeconds:i,notificationId:d,windowFocused:o}).catch(e=>{l.log.warn("Error sending enhanced lockdown warning to UI:",false,e)})}catch(e){l.log.warn("Error sending enhanced lockdown warning to UI:",false,e)}}this.startBadgeCountdownEnhanced(i);return m}catch(e){l.log.warn("[NotificationService] Error in sendLockdownWarningEnhanced:",false,e);throw e}}static async sendSecurityAlertEnhanced(e,t={},i){l.log.info("[NotificationService] sendSecurityAlertEnhanced called:",false,e);const o=i||`security-alert-enhanced-${Date.now()}`;try{await this.focusPopupWindowEnhanced();await this.setUrgentBadgeEnhanced("🚨");await this.playUrgentSoundEnhanced();const i={requireInteraction:true,priority:2,silent:false,eventTime:Date.now(),...t};const l=await this.sendSecurityAlert(e,i,o);if(a.browser_ext?.runtime){try{a.browser_ext.runtime.sendMessage({type:"SECURITY_ALERT_ENHANCED",message:e,options:t,id:o,timestamp:Date.now()}).catch(()=>{})}catch(e){}}return l}catch(e){l.log.warn("[NotificationService] Failed to send enhanced security alert:",false,e);return null}}static async clearAllAlertsEnhanced(){if(this._isClearing){l.log.info("[NotificationService] Already clearing alerts, waiting for completion");if(this._clearingPromise){await this._clearingPromise}return}this._isClearing=true;this._clearingPromise=this._performClearAllAlertsEnhanced();try{await this._clearingPromise}finally{this._isClearing=false;this._clearingPromise=null}}static async _performClearAllAlertsEnhanced(){try{l.log.info("[NotificationService] Starting comprehensive alert clearing");this.clearBadgeCountdown();this.clearAll();if(this._urgentSoundContext){try{await this._urgentSoundContext.close();this._urgentSoundContext=null;l.log.info("[NotificationService] Audio context closed")}catch(e){l.log.debug("Audio context close error (may be normal):",false,e)}}if(a.browser_ext?.notifications){try{const e=await a.browser_ext.notifications.getAll();l.log.info(`[NotificationService] Found ${Object.keys(e).length} notifications to clear`);const t=Object.keys(e).map(e=>a.browser_ext.notifications.clear(e).catch(()=>{}));await Promise.all(t);p.clear();l.log.info("[NotificationService] All browser notifications cleared")}catch(e){l.log.warn("[NotificationService] Error clearing browser notifications:",false,e)}}if(a.browser_ext?.action){try{await a.browser_ext.action.setBadgeText({text:""});await a.browser_ext.action.setIcon({path:{16:"/images/logoBullFav16x16.png",32:"/images/logoBullFav32x32.png",48:"/images/logoBullFav48x48.png",96:"/images/logoBullFav96x96.png",128:"/images/logoBullFav128x128.png"}});l.log.info("[NotificationService] Badge and icon cleared")}catch(e){l.log.warn("[NotificationService] Error clearing badge/icon:",false,e)}}if(a.browser_ext?.alarms){try{await Promise.all([a.browser_ext.alarms.clear("yakkl-lock-alarm").catch(()=>{}),a.browser_ext.alarms.clear("yakkl-lock-notification").catch(()=>{})]);l.log.info("[NotificationService] Alarms cleared")}catch(e){l.log.warn("[NotificationService] Error clearing alarms:",false,e)}}l.log.info("[NotificationService] All enhanced alerts cleared successfully (no UI messages sent)")}catch(e){l.log.warn("[NotificationService] Failed to clear enhanced alerts:",false,e);throw e}}static async clearAlertsUIOnly(){try{l.log.info("[NotificationService] Clearing UI-only alerts");if(typeof window!=="undefined"){const e=window.__yakklAudioContext;if(e&&e.state!=="closed"){await e.close();window.__yakklAudioContext=null;l.log.info("[NotificationService] Audio context closed")}if(window.__yakklTitleFlashInterval){clearInterval(window.__yakklTitleFlashInterval);window.__yakklTitleFlashInterval=null}if(window.__yakklOriginalTitle){document.title=window.__yakklOriginalTitle;window.__yakklOriginalTitle=null}if(window.__yakklCountdownInterval){clearInterval(window.__yakklCountdownInterval);window.__yakklCountdownInterval=null}try{const{hideSecurityWarning:e}=await i.e("src_lib_common_stores_securityWarning_ts").then(i.bind(i,"./src/lib/common/stores/securityWarning.ts"));e()}catch(e){l.log.debug("Error hiding security warning:",false,e)}}l.log.info("[NotificationService] UI-only alerts cleared")}catch(e){l.log.warn("[NotificationService] Failed to clear UI-only alerts:",false,e)}}static async clearEnhanced(e=this.DEFAULT_ID){try{const t=await this.clear(e);if(e.includes("lockdown-warning")){await this.clearUrgentBadgeEnhanced();for(let e=0;e<4;e++){await this.clear(`lockdown-reminder-enhanced-${e}`)}}if(a.browser_ext?.runtime){try{a.browser_ext.runtime.sendMessage({type:"CLEAR_NOTIFICATION_ENHANCED",notificationId:e,timestamp:Date.now()}).catch(()=>{})}catch(e){}}return t}catch(t){l.log.warn("Error in enhanced clear:",false,{id:e,error:t});return false}}static async testEnhancedFeatures(){l.log.info("[NotificationService] Testing enhanced features...");try{await this.focusPopupWindowEnhanced();await this.setUrgentBadgeEnhanced("TEST");await this.playUrgentSoundEnhanced();await this.sendLockdownWarningEnhanced(15e3,{contextMessage:"This is a test of enhanced features"});l.log.info("[NotificationService] Enhanced features test completed")}catch(e){l.log.warn("[NotificationService] Enhanced features test failed:",false,e)}}}async function sendNotificationPing(){try{if(!a.browser_ext)return;const e=await a.browser_ext.runtime.sendMessage({type:"ping"});if(isResponseWithSuccess(e)){l.log.info("Ping response status:",false,e)}else{l.log.warn("Unexpected response structure:",false,e)}}catch(e){l.log.warn("No Pong response:",false,e)}}async function sendNotificationMessage(e,t){try{if(!a.browser_ext)return;l.log.info("sendNotificationMessage - title:",false,e);l.log.info("sendNotificationMessage - messageText:",false,t);const i=await a.browser_ext.notifications.create("yakkl-notification",{type:"basic",iconUrl:a.browser_ext.runtime.getURL("/images/logoBullLock48x48.png"),title:e||"Notification",message:t||"Default message."});return i}catch(e){l.log.warn("Error sending notification message:",false,e);return null}}async function sendNotificationStartLockIconTimer(){try{if(!a.browser_ext)return;l.log.info("sendNotificationStartLockIconTimer - starting lock icon timer:",false);(0,o.startLockIconTimer)()}catch(e){l.log.warn("Error starting lock icon timer:",false,e)}}async function sendNotificationStopLockIconTimer(){try{if(!a.browser_ext)return;(0,o.stopLockIconTimer)()}catch(e){l.log.warn("Error stopping lock icon timer:",false,e)}}function isResponseWithSuccess(e){return typeof e==="object"&&e!==null&&"success"in e&&e.success===true}},"./src/lib/common/origin.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{debugOriginInfo:()=>debugOriginInfo,detectContextType:()=>detectContextType,getCurrentOrigin:()=>getCurrentOrigin,getPostMessageConfig:()=>getPostMessageConfig,getTargetOrigin:()=>getTargetOrigin,getWindowOrigin:()=>getWindowOrigin,isSandboxedContext:()=>isSandboxedContext,isValidOrigin:()=>isValidOrigin,safePostMessage:()=>safePostMessage,validatePostMessage:()=>validatePostMessage});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/frameInspector.ts");const l=3;const u=1e3;const d=new Map;function getWindowOrigin(){try{const e=window.location.origin;if(!e||e==="null"||e==="undefined"){return"*"}if(window.location.protocol==="data:"||window.location.protocol==="blob:"||window.location.protocol==="file:"||window.location.href.startsWith("moz-extension:")||window.location.href.startsWith("chrome-extension:")){return"*"}return e}catch(e){o.log.debug("[OriginDetection] Error getting window origin:",false,e);return"*"}}function getCurrentOrigin(){try{const e=window.location.origin;if(!e||e==="null"||e==="undefined"){return"null"}return e}catch(e){o.log.debug("[Origin] Error getting current origin:",false,e);return"null"}}function isValidOrigin(e){try{const t=getCurrentOrigin();if(!t)return false;return e===t}catch(e){o.log.warn("Error validating origin, defaulting to false",false,e);return false}}function getTargetOrigin(){try{const e=getCurrentOrigin();if(e==="null"){return"*"}if(window.location.protocol==="chrome-extension:"||window.location.protocol==="moz-extension:"||window.location.protocol==="data:"||window.location.protocol==="blob:"||window.location.protocol==="file:"){return"*"}try{if(window.parent!==window&&window.parent.location.origin==="null"){return"*"}}catch(e){return"*"}return e}catch(e){o.log.debug("[OriginUtils] Error determining target origin:",false,e);return"*"}}function safePostMessage(e,t,i){const{context:a="unknown",allowRetries:l=true,retryKey:u,maxRetries:d=2}=i||{};const p=t||getTargetOrigin();let m=0;const attemptPostMessage=t=>{m++;try{o.log.debug(`[SafePostMessage] Attempt ${m} from ${a}:`,false,{messageType:e.type,messageId:e.id,targetOrigin:t,currentOrigin:getCurrentOrigin(),protocol:window.location.protocol,isNull:getCurrentOrigin()==="null"});window.postMessage(e,t);return true}catch(i){if(i instanceof Error){if(i.message.includes("does not match the recipient window's origin")){o.log.debug(`[SafePostMessage] Origin mismatch (attempt ${m}):`,false,{error:i.message,triedOrigin:t,currentOrigin:getCurrentOrigin()});if(l&&t!=="*"&&m<=d){return attemptPostMessage("*")}}else if(i.message.includes("Extension context invalidated")){o.log.warn(`[SafePostMessage] Extension context invalidated in ${a}`);return false}}o.log.warn(`[SafePostMessage] Failed attempt ${m} from ${a}:`,false,{error:i instanceof Error?i.message:i,messageType:e.type,messageId:e.id,targetOrigin:t,currentOrigin:getCurrentOrigin()});return false}};return attemptPostMessage(p)}function detectContextType(){try{const e=window.location.protocol;const t=getCurrentOrigin();if(e==="chrome-extension:"||e==="moz-extension:"){return"extension"}if(e==="data:"||e==="blob:"){return"data"}if(t==="null"){return"sandboxed"}if(e==="https:"||e==="http:"){return"web"}return"unknown"}catch(e){o.log.debug("[OriginUtils] Error detecting context type:",false,e);return"unknown"}}function isSandboxedContext(){try{const e=detectContextType();if(e==="sandboxed"||e==="data"){return true}try{if(window.parent!==window){const e=window.parent.location.origin;return false}}catch(e){return true}return false}catch(e){o.log.debug("[OriginUtils] Error checking if sandboxed:",false,e);return true}}function getPostMessageConfig(){const e=detectContextType();const t=isSandboxedContext();const i=getCurrentOrigin();const o=t||e==="extension"||e==="data"||i==="null";const a=o?"*":i;return{targetOrigin:a,contextType:e,isSandboxed:t,shouldUseWildcard:o}}function validatePostMessage(e,t){if(!e||typeof e!=="object"){return{isValid:false,reason:"Invalid message format"}}if(typeof window==="undefined"||!window.postMessage){return{isValid:false,reason:"postMessage not available"}}const i=getPostMessageConfig();if(t!=="*"&&i.shouldUseWildcard){return{isValid:true,reason:"Sandboxed context detected",suggestedOrigin:"*"}}return{isValid:true}}function debugOriginInfo(){const e=getPostMessageConfig();return{currentOrigin:getCurrentOrigin(),protocol:window.location.protocol,href:window.location.href,contextType:e.contextType,isSandboxed:e.isSandboxed,shouldUseWildcard:e.shouldUseWildcard,recommendedTargetOrigin:e.targetOrigin,timestamp:(new Date).toISOString()}}},"./src/lib/common/process.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ensureProcessPolyfill:()=>ensureProcessPolyfill});function ensureProcessPolyfill(){if(typeof globalThis.process==="undefined"){globalThis.process={}}if(typeof globalThis.process.nextTick!=="function"){globalThis.process.nextTick=(e,...t)=>{Promise.resolve().then(()=>e(...t))}}}},"./src/lib/common/security.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{extractSecureDomain:()=>extractSecureDomain,getYakklCurrentlySelectedAccountKey:()=>getYakklCurrentlySelectedAccountKey,verify:()=>verify});var o=i("./src/lib/common/encryption.ts");var a=i("./src/lib/common/misc.ts");var l=i("./src/lib/common/stores.ts");var u=i("./src/lib/common/logger-wrapper.ts");var d=i("./src/lib/common/auth/session.ts");async function verify(e){try{if(!e){return undefined}const t=await(0,l.getProfile)();const i=await(0,o.digestMessage)(e);if(!t||!i){return undefined}else{if((0,a.isEncryptedData)(t.data)){const e=await(0,o.decryptData)(t.data,i);if(e){(0,l.setMiscStore)(i);const e=await(0,d.storeEncryptedHash)(i);if(e){(0,d.storeSessionToken)(e.token,e.expiresAt)}u.log.info("verify - sessionToken",false,e)}else{throw"Verification failed!"}}return t}}catch(e){u.log.error("Verification failed!",false,e);throw`Verification failed! - ${e}`}}async function getYakklCurrentlySelectedAccountKey(){try{const e=await(0,l.getYakklCurrentlySelected)();const t=(0,l.getMiscStore)();let i=null;let u=null;let d=null;if(!t||!e){return null}if((0,a.isEncryptedData)(e.data)){const i=await(0,o.decryptData)(e.data,t);const l=i;u=l?.account?.address||null;if((0,a.isEncryptedData)(l?.account?.data)){const e=await(0,o.decryptData)(l.account.data,t);const i=e;d=i.privateKey}else{d=l?l.account?.data.privateKey:null}}else{d=e.data?e.data.account?.data?.privateKey??null:null}if(d&&u){i={address:u,privateKey:d}}return i}catch(e){u.log.errorStack(e);throw`Error getting account key - ${e}`}}function extractSecureDomain(e){try{const t=new URL(e);const i=t.protocol==="https:";const o=t.hostname==="localhost"||t.hostname==="127.0.0.1";const a=t.protocol==="chrome:";if(!i&&!o&&!a){throw new Error("Insecure protocol detected. Only HTTPS, localhost, and chrome:// are allowed.")}return t.hostname}catch(e){if(e instanceof Error){throw new Error(`Invalid URL or security violation: ${e.message}`)}throw new Error("Invalid URL format")}}},"./src/lib/common/storage.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{clearObjectsFromLocalStorage:()=>clearObjectsFromLocalStorage,getObjectFromLocalStorage:()=>getObjectFromLocalStorage,removeObjectFromLocalStorage:()=>removeObjectFromLocalStorage,setObjectInLocalStorage:()=>setObjectInLocalStorage});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/environment.ts");const clearObjectsFromLocalStorage=async()=>{if(!a.browser_ext)return;try{await a.browser_ext.storage.local.clear()}catch(e){o.log.error("Error clearing local storage",false,e);throw e}};const getObjectFromLocalStorage=async(e,t=1e3)=>{try{if(!a.browser_ext){return null}const i=a.browser_ext.storage.local.get(e);const o=new Promise(e=>setTimeout(()=>{e(null)},t));const l=await Promise.race([i,o]);if(!l||!(e in l)){return null}return l[e]}catch(e){o.log.error("Error getting object from local storage",false,e);return null}};const setObjectInLocalStorage=async(e,t)=>{if(!a.browser_ext)return;try{await a.browser_ext.storage.local.set({[e]:t})}catch(e){o.log.error("Error setting object in local storage",false,e);throw e}};const removeObjectFromLocalStorage=async e=>{if(!a.browser_ext)return;try{await a.browser_ext.storage.local.remove(e)}catch(e){o.log.error("Error removing object from local storage",false,e);throw e}}},"./src/lib/common/stores.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{activeTabBackgroundStore:()=>ie,activeTabUIStore:()=>oe,alert:()=>k,backgroundUIConnectedStore:()=>ae,getAccountStore:()=>getAccountStore,getContactStore:()=>getContactStore,getContextTypeStore:()=>getContextTypeStore,getDappConnectRequestStore:()=>getDappConnectRequestStore,getMiscStore:()=>getMiscStore,getPreferences:()=>getPreferences,getProfile:()=>getProfile,getProfileStore:()=>getProfileStore,getSettings:()=>getSettings,getSettingsStore:()=>getSettingsStore,getUserNameStore:()=>getUserNameStore,getVersionStore:()=>getVersionStore,getVeryStore:()=>getVeryStore,getYakklAccounts:()=>getYakklAccounts,getYakklAccountsStore:()=>getYakklAccountsStore,getYakklBlockedList:()=>getYakklBlockedList,getYakklBlockedListStore:()=>getYakklBlockedListStore,getYakklBookmarkedArticles:()=>getYakklBookmarkedArticles,getYakklChats:()=>getYakklChats,getYakklChatsStore:()=>getYakklChatsStore,getYakklCombinedToken:()=>getYakklCombinedToken,getYakklCombinedTokenStore:()=>getYakklCombinedTokenStore,getYakklConnectedDomains:()=>getYakklConnectedDomains,getYakklConnectedDomainsStore:()=>getYakklConnectedDomainsStore,getYakklConnectionStore:()=>getYakklConnectionStore,getYakklContacts:()=>getYakklContacts,getYakklContactsStore:()=>getYakklContactsStore,getYakklContractStore:()=>getYakklContractStore,getYakklCurrentlySelected:()=>getYakklCurrentlySelected,getYakklCurrentlySelectedStore:()=>getYakklCurrentlySelectedStore,getYakklGPTKeyStore:()=>getYakklGPTKeyStore,getYakklInstancesStore:()=>getYakklInstancesStore,getYakklPreferenceStore:()=>getYakklPreferenceStore,getYakklPrimaryAccounts:()=>getYakklPrimaryAccounts,getYakklPrimaryAccountsStore:()=>getYakklPrimaryAccountsStore,getYakklRegisteredData:()=>getYakklRegisteredData,getYakklTokenData:()=>getYakklTokenData,getYakklTokenDataCustom:()=>getYakklTokenDataCustom,getYakklTokenDataCustomStore:()=>getYakklTokenDataCustomStore,getYakklTokenDataStore:()=>getYakklTokenDataStore,getYakklWalletBlockchains:()=>getYakklWalletBlockchains,getYakklWalletBlockchainsStore:()=>getYakklWalletBlockchainsStore,getYakklWalletProviders:()=>getYakklWalletProviders,getYakklWalletProvidersStore:()=>getYakklWalletProvidersStore,getYakklWatchList:()=>getYakklWatchList,getYakklWatchListStore:()=>getYakklWatchListStore,loadCheckCurrentlySelectedStore:()=>loadCheckCurrentlySelectedStore,onError:()=>onError,prerender:()=>A,priceStore:()=>ne,profileStore:()=>I,resetStores:()=>resetStores,sessionInitialized:()=>se,setAccountStore:()=>setAccountStore,setContactStore:()=>setContactStore,setContextTypeStore:()=>setContextTypeStore,setDappConnectRequestStore:()=>setDappConnectRequestStore,setMiscStore:()=>setMiscStore,setPreferencesStorage:()=>setPreferencesStorage,setPreferencesStore:()=>setPreferencesStore,setProfileStorage:()=>setProfileStorage,setProfileStore:()=>setProfileStore,setSettings:()=>setSettings,setSettingsStorage:()=>setSettingsStorage,setSettingsStore:()=>setSettingsStore,setUserNameStore:()=>setUserNameStore,setVersionStore:()=>setVersionStore,setVeryStore:()=>setVeryStore,setYakklAccountsStorage:()=>setYakklAccountsStorage,setYakklAccountsStore:()=>setYakklAccountsStore,setYakklBlockedListStorage:()=>setYakklBlockedListStorage,setYakklBlockedListStore:()=>setYakklBlockedListStore,setYakklBookmarkedArticles:()=>setYakklBookmarkedArticles,setYakklChatsStorage:()=>setYakklChatsStorage,setYakklChatsStore:()=>setYakklChatsStore,setYakklCombinedTokenStorage:()=>setYakklCombinedTokenStorage,setYakklCombinedTokenStore:()=>setYakklCombinedTokenStore,setYakklConnectedDomainsStorage:()=>setYakklConnectedDomainsStorage,setYakklConnectedDomainsStore:()=>setYakklConnectedDomainsStore,setYakklConnectionStore:()=>setYakklConnectionStore,setYakklContactsStorage:()=>setYakklContactsStorage,setYakklContactsStore:()=>setYakklContactsStore,setYakklContractStore:()=>setYakklContractStore,setYakklCurrentlySelectedStorage:()=>setYakklCurrentlySelectedStorage,setYakklCurrentlySelectedStore:()=>setYakklCurrentlySelectedStore,setYakklGPTKeyStore:()=>setYakklGPTKeyStore,setYakklInstancesStore:()=>setYakklInstancesStore,setYakklPrimaryAccountsStorage:()=>setYakklPrimaryAccountsStorage,setYakklPrimaryAccountsStore:()=>setYakklPrimaryAccountsStore,setYakklTokenDataCustomStorage:()=>setYakklTokenDataCustomStorage,setYakklTokenDataCustomStore:()=>setYakklTokenDataCustomStore,setYakklTokenDataStorage:()=>setYakklTokenDataStorage,setYakklTokenDataStore:()=>setYakklTokenDataStore,setYakklWalletBlockchainsStorage:()=>setYakklWalletBlockchainsStorage,setYakklWalletBlockchainsStore:()=>setYakklWalletBlockchainsStore,setYakklWalletProvidersStorage:()=>setYakklWalletProvidersStorage,setYakklWalletProvidersStore:()=>setYakklWalletProvidersStore,setYakklWatchListStorage:()=>setYakklWatchListStorage,setYakklWatchListStore:()=>setYakklWatchListStore,storageChange:()=>storageChange,syncStorageToStore:()=>syncStorageToStore,updateCombinedTokenStore:()=>updateCombinedTokenStore,updateYakklTokenData:()=>updateYakklTokenData,updateYakklTokenDataCustom:()=>updateYakklTokenDataCustom,verifyEncryption:()=>verifyEncryption,wallet:()=>le,yakklAccountStore:()=>W,yakklAccountsStore:()=>M,yakklBlockedListStore:()=>O,yakklBookmarkedArticlesStore:()=>de,yakklChatsStore:()=>C,yakklCombinedTokenStore:()=>Q,yakklConnectedDomainsStore:()=>D,yakklConnectionStore:()=>te,yakklContactStore:()=>z,yakklContactsStore:()=>P,yakklContextTypeStore:()=>ue,yakklContractStore:()=>ce,yakklCurrentlySelectedStore:()=>N,yakklDappConnectRequestStore:()=>re,yakklGPTKeyStore:()=>ee,yakklGPTRunningStore:()=>X,yakklGasTransStore:()=>G,yakklInstancesStore:()=>Z,yakklMiscStore:()=>L,yakklPreferencesStore:()=>T,yakklPricingStore:()=>q,yakklPrimaryAccountsStore:()=>B,yakklSettingsStore:()=>x,yakklTokenDataCustomStore:()=>J,yakklTokenDataStore:()=>$,yakklUserNameStore:()=>H,yakklVersionStore:()=>U,yakklVeryStore:()=>F,yakklWalletBlockchainsStore:()=>Y,yakklWalletProvidersStore:()=>V,yakklWatchListStore:()=>j});var o=i("./src/lib/common/storage.ts");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var l=i("./src/lib/models/dataModels.ts");var u=i("./src/lib/common/constants.ts");var d=i("./src/lib/common/encryption.ts");var p=i("./src/lib/common/misc.ts");var m=i("./src/lib/common/types.ts");var g=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEqual.js");var v=i("./src/lib/managers/Wallet.ts");var y=i("./src/lib/common/stores/tokens.ts");var _=i("./src/lib/managers/Logger.ts");var w=i("./src/lib/common/environment.ts");const A=false;const k=(0,a.writable)({msg:"Welcome to the YAKKL® Smart Wallet!",icon:1,color:{background:"bg-indigo-400",text:"text-indigo-800"},opacity:.5,ms:3e3});async function loadCheckCurrentlySelectedStore(){try{const e=getYakklCurrentlySelectedStore();const t=getMiscStore();if(t&&e!==null){if((0,p.isEncryptedData)(e.data)){(0,d.decryptData)(e.data,t).then(t=>{e.data=t;return e})}else{return e}}return null}catch(e){_.log.error("Error in loadCheckCurrentlySelectedStore:",false,e);throw e}}async function verifyEncryption(e){try{const t=getMiscStore();if(t){const processItem=async e=>{if(!(0,p.isEncryptedData)(e.data)){const i=await(0,d.encryptData)(e.data,t);e.data=i}return e};if(Array.isArray(e)){return Promise.all(e.map(processItem))}else{return processItem(e)}}return e}catch(e){_.log.error("Error in verifyEncryption:",false,e);throw e}}const T=(0,a.writable)(l.yakklPreferences);const x=(0,a.writable)(l.yakklSettings);const I=(0,a.writable)(l.profile);const N=(0,a.writable)(l.yakklCurrentlySelected);const P=(0,a.writable)(l.yakklContacts);const C=(0,a.writable)(l.yakklChats);const M=(0,a.writable)(l.yakklAccounts);const B=(0,a.writable)(l.yakklPrimaryAccounts);const j=(0,a.writable)(l.yakklWatchList);const O=(0,a.writable)(l.yakklBlockedList);const D=(0,a.writable)(undefined);const L=(0,a.writable)(undefined);const F=(0,a.writable)(undefined);const U=(0,a.writable)(undefined);const H=(0,a.writable)(undefined);const q=(0,a.writable)(undefined);const G=(0,a.writable)(undefined);const z=(0,a.writable)(undefined);const W=(0,a.writable)(undefined);const V=(0,a.writable)([]);const Y=(0,a.writable)([]);const $=(0,a.writable)([]);const J=(0,a.writable)([]);const Q=(0,a.writable)([]);const Z=(0,a.writable)([null,null,null,null]);const X=(0,a.writable)(false);const ee=(0,a.writable)(undefined);const te=(0,a.writable)(true);const re=(0,a.writable)(null);const ne=(0,a.writable)(null);const se=(0,a.writable)(false);const ie=(0,a.writable)(null);const oe=(0,a.writable)(null);const ae=(0,a.writable)(false);const le=(0,a.writable)(null);const ce=(0,a.writable)({address:"",abi:"",functions:[]});const ue=(0,a.writable)(undefined);const de=(0,a.writable)([]);function resetStores(){try{setPreferencesStore(l.yakklPreferences);setSettingsStore(l.yakklSettings);setProfileStore(l.profile);setYakklCurrentlySelectedStore(l.yakklCurrentlySelected);setYakklWatchListStore(l.yakklWatchList);setYakklBlockedListStore(l.yakklBlockedList);setYakklContactsStore(l.yakklContacts);setYakklChatsStore(l.yakklChats);setYakklAccountsStore(l.yakklAccounts);setYakklPrimaryAccountsStore(l.yakklPrimaryAccounts);setYakklTokenDataStore([]);setYakklTokenDataCustomStore([]);setYakklCombinedTokenStore([]);setYakklWalletBlockchainsStore([]);setYakklWalletProvidersStore([]);setYakklConnectedDomainsStore([]);L.set(undefined);ue.set(undefined);F.set(undefined);U.set(undefined);H.set(undefined);q.set(undefined);G.set(undefined);z.set(undefined);W.set(undefined);V.set([]);Y.set([]);$.set([]);J.set([]);Q.set([]);Z.set([null,null,null,null]);X.set(false);ee.set(undefined);te.set(true);re.set(null);le.set(null);ce.set({address:"",abi:"",functions:[]});y.tokens.set([]);v.walletStore.set(null);ne.set(null)}catch(e){_.log.error(e);throw e}}function onError(e){_.log.error(e)}function storageChange(e){try{if(e.yakklPreferences){setPreferencesStore(e.yakklPreferences.newValue)}if(e.yakklSettings){setSettingsStore(e.yakklSettings.newValue)}if(e.profile){setProfileStore(e.profile.newValue)}if(e.yakklCurrentlySelected){setYakklCurrentlySelectedStore(e.yakklCurrentlySelected.newValue)}if(e.yakklWatchList){setYakklWatchListStore(e.yakklWatchList.newValue)}if(e.yakklAccounts){setYakklAccountsStore(e.yakklAccounts.newValue)}if(e.yakklPrimaryAccounts){setYakklPrimaryAccountsStore(e.yakklPrimaryAccounts.newValue)}if(e.yakklContacts){setYakklContactsStore(e.yakklContacts.newValue)}if(e.yakklChats){setYakklChatsStore(e.yakklChats.newValue)}if(e.yakklConnectedDomains){setYakklConnectedDomainsStore(e.yakklConnectedDomains.newValue)}if(e.yakklBlockedList){setYakklBlockedListStore(e.yakklBlockedList.newValue)}}catch(e){_.log.error(e);throw e}}async function syncStorageToStore(){try{const[e,t,i,o,a,u,d,p,m,g,v,y,_]=await Promise.all([getPreferences(),getSettings(),getProfile(),getYakklCurrentlySelected(),getYakklWatchList(),getYakklBlockedList(),getYakklAccounts(),getYakklPrimaryAccounts(),getYakklContacts(),getYakklChats(),getYakklTokenData(),getYakklTokenDataCustom(),getYakklConnectedDomains()]);setPreferencesStore(e??l.yakklPreferences);setSettingsStore(t??l.yakklSettings);setProfileStore(i??l.profile);setYakklCurrentlySelectedStore(o??l.yakklCurrentlySelected);setYakklWatchListStore(a);setYakklBlockedListStore(u);setYakklAccountsStore(d);setYakklPrimaryAccountsStore(p);setYakklContactsStore(m);setYakklChatsStore(g);setYakklTokenDataStore(v);setYakklTokenDataCustomStore(y);setYakklConnectedDomainsStore(_)}catch(e){_.log.error("Error syncing stores:",false,e);throw e}}async function setSettings(e){return await setSettingsStorage(e)}function getYakklPreferenceStore(){const e=(0,a.get)(T);return e}function getSettingsStore(){const e=(0,a.get)(x);return e}function getProfileStore(e){const t=(0,a.get)(I);I.set(e);return t}function getYakklCurrentlySelectedStore(){const e=(0,a.get)(N);return e}function getYakklWatchListStore(){const e=(0,a.get)(j);return e}function getYakklBlockedListStore(){const e=(0,a.get)(O);return e}function getYakklAccountsStore(){const e=(0,a.get)(M);return e}function getYakklPrimaryAccountsStore(){const e=(0,a.get)(B);return e}function getYakklContactsStore(){const e=(0,a.get)(P);return e}function getYakklTokenDataStore(){const e=(0,a.get)($);return e}function getYakklTokenDataCustomStore(){const e=(0,a.get)(J);return e}function getYakklCombinedTokenStore(){const e=(0,a.get)(Q);return e}function getYakklChatsStore(){const e=(0,a.get)(C);return e}function getYakklWalletBlockchainsStore(){const e=(0,a.get)(Y);return e}function getYakklWalletProvidersStore(){const e=(0,a.get)(V);return e}function getYakklConnectedDomainsStore(){const e=(0,a.get)(D);return e}function getYakklContractStore(){return(0,a.get)(ce)}function getMiscStore(){const e=(0,a.get)(L);return e}function getContextTypeStore(){const e=(0,a.get)(ue);return e}function getVeryStore(){const e=(0,a.get)(F);return e}function getDappConnectRequestStore(){const e=(0,a.get)(re);return e}function getContactStore(){const e=(0,a.get)(z);return e}function getAccountStore(){const e=(0,a.get)(W);return e}function getVersionStore(){const e=(0,a.get)(U);return e}function getUserNameStore(){const e=(0,a.get)(H);return e}function getYakklGPTKeyStore(){const e=(0,a.get)(ee);return e}function getYakklConnectionStore(){const e=(0,a.get)(te);return e}function getYakklInstancesStore(){const e=(0,a.get)(Z);return e}function setPreferencesStore(e){const t=(0,a.get)(T);T.set(e===null?l.yakklPreferences:e);return t}function setSettingsStore(e){const t=(0,a.get)(x);x.set(e===null?l.yakklSettings:e);return t}function setProfileStore(e){const t=(0,a.get)(I);I.set(e===null?l.profile:e);return t}function setYakklCurrentlySelectedStore(e){const t=(0,a.get)(N);N.set(e!==null?e:null);return t}function setYakklWatchListStore(e){const t=(0,a.get)(j);j.set(e);return t}function setYakklBlockedListStore(e){const t=(0,a.get)(O);O.set(e);return t}function setYakklContactsStore(e){const t=(0,a.get)(P);P.set(e);return t}function setYakklTokenDataStore(e){const t=(0,a.get)($);$.set(e);return t}function setYakklTokenDataCustomStore(e){const t=(0,a.get)(J);J.set(e);return t}function setYakklCombinedTokenStore(e){const t=(0,a.get)(Q);Q.set(e);return t}function setYakklChatsStore(e){const t=(0,a.get)(C);C.set(e);return t}function setYakklWalletBlockchainsStore(e){const t=(0,a.get)(Y);Y.set(e);return t}function setYakklWalletProvidersStore(e){const t=(0,a.get)(V);V.set(e);return t}function setYakklConnectedDomainsStore(e){const t=(0,a.get)(D);D.set(e);return t}function setYakklAccountsStore(e){const t=(0,a.get)(M);M.set(e);return t}function setYakklPrimaryAccountsStore(e){const t=(0,a.get)(B);B.set(e);return t}function setMiscStore(e){const t=(0,a.get)(L);L.set(e);return t}function setContextTypeStore(e){const t=(0,a.get)(ue);ue.set(e);return t}function setVeryStore(e){const t=(0,a.get)(F);F.set(e);return t}function setDappConnectRequestStore(e){const t=(0,a.get)(re);re.set(e);return t}function setContactStore(e){const t=(0,a.get)(z);z.set(e);return t}function setAccountStore(e){const t=(0,a.get)(W);W.set(e);return t}function setVersionStore(e){const t=(0,a.get)(U);U.set(e);return t}function setUserNameStore(e){const t=(0,a.get)(H);H.set(e);return t}function setYakklGPTKeyStore(e){const t=(0,a.get)(ee);ee.set(e);return t}function setYakklConnectionStore(e){const t=(0,a.get)(te);te.set(e);return t}function setYakklContractStore(e){const t=(0,a.get)(ce);ce.set(e);return t}function setYakklInstancesStore(e){const t=(0,a.get)(Z);Z.set(e);return t}async function getYakklRegisteredData(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_REGISTERED_DATA);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i||null}catch(e){_.log.error("Error in getYakklRegisteredData:",false,e);throw e}}async function getYakklContacts(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONTACTS);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i||[]}catch(e){_.log.error("Error in getYakklContacts:",false,e);throw e}}async function getYakklTokenData(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_TOKENDATA);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}if(i)setYakklTokenDataStore(i);return i||[]}catch(e){_.log.error("Error in getYakklTokenData:",false,e);throw e}}async function getYakklTokenDataCustom(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_TOKENDATA_CUSTOM);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}if(i)setYakklTokenDataCustomStore(i);return i||[]}catch(e){_.log.error("Error in getYakklTokenDataCustom:",false,e);throw e}}async function getYakklCombinedToken(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_COMBINED_TOKENS);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}if(i)setYakklCombinedTokenStore(i);return i||[]}catch(e){_.log.error("Error in getYakklCombinedToken:",false,e);throw e}}async function getYakklChats(e,t){try{let i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CHATS);if(typeof i==="string"){i=[];setYakklChatsStorage(i)}if(e&&t){}if(i&&typeof i==="object"&&!Array.isArray(i)){i=Object.values(i)}return i||[]}catch(e){_.log.error("Error in getYakklChats:",false,e);return[]}}async function getYakklWalletBlockchains(){try{let e=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_WALLET_BLOCKCHAINS);if(typeof e==="string"){e=[];setYakklWalletBlockchainsStorage(e)}return e||[]}catch(e){_.log.error("Error in getYakklWalletBlockchains:",false,e);throw e}}async function getYakklWalletProviders(){try{let e=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_WALLET_PROVIDERS);if(typeof e==="string"){e=[];setYakklWalletProvidersStorage(e)}return e||[]}catch(e){_.log.error("Error in getYakklWalletProviders:",false,e);throw e}}async function getYakklConnectedDomains(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);_.log.info("getYakklConnectedDomains - value:",false,i);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){return i.filter(i=>i.id===e&&i.persona===t)||[]}return i||[]}catch(e){_.log.error("Error in getYakklConnectedDomains:",false,e);throw e}}async function getPreferences(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_PREFERENCES);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i}catch(e){_.log.error("Error in getPreferences:",false,e);throw e}}async function getSettings(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_SETTINGS);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i}catch(e){_.log.error("Error in getSettings:",false,e);throw e}}async function getProfile(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_PROFILE);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i}catch(e){_.log.error("Error in getProfile:",false,e);throw e}}async function getYakklCurrentlySelected(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CURRENTLY_SELECTED);if(e&&t){}if(!i||typeof i==="string"){_.log.warn("No currently selected Yakkl found, using defaults",false,i);return{id:"",shortcuts:{quantity:0n,accountType:m.AccountTypeCategory.PRIMARY,accountName:"YAKKL_ZERO_ACCOUNT",smartContract:false,address:"",alias:"",primary:null,init:false,legal:false,isLocked:true,showTestNetworks:false,profile:{userName:"",name:null,email:""},gasLimit:21e3,networks:[{blockchain:"Ethereum",name:"Mainnet",chainId:1,symbol:"ETH",type:m.NetworkType.MAINNET,explorer:"https://etherscan.io",decimals:18}],network:{blockchain:"Ethereum",name:"Mainnet",chainId:1,symbol:"ETH",type:m.NetworkType.MAINNET,explorer:"https://etherscan.io",decimals:18},blockchain:"Ethereum",type:m.NetworkType.MAINNET,chainId:1,symbol:"ETH",explorer:"https://etherscan.io"},preferences:{locale:"en_US",currency:{code:"USD",symbol:"$"}},data:{},version:"1.0.0",createDate:(new Date).toISOString(),updateDate:(new Date).toISOString()}}return i}catch(e){_.log.error("Error in getYakklCurrentlySelected:",false,e);throw e}}async function getYakklWatchList(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_WATCHLIST);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i||[]}catch(e){_.log.error("Error in getYakklWatchList:",false,e);throw e}}async function getYakklBlockedList(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_BLOCKEDLIST);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i||[]}catch(e){_.log.error("Error in getYakklBlockedList:",false,e);throw e}}async function getYakklAccounts(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_ACCOUNTS);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i||[]}catch(e){_.log.error("Error in getYakklAccounts:",false,e);throw e}}async function getYakklPrimaryAccounts(e,t){try{const i=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_PRIMARY_ACCOUNTS);if(typeof i==="string"){throw new Error("Unexpected string value received from local storage")}if(e&&t){}return i||[]}catch(e){_.log.error("Error in getYakklPrimaryAccounts:",false,e);throw e}}async function setYakklContactsStorage(e){try{P.set(e);await(0,o.setObjectInLocalStorage)("yakklContacts",e)}catch(e){_.log.error("Error in setYakklContactsStorage:",false,e);throw e}}async function setYakklTokenDataStorage(e){try{$.set(e);await(0,o.setObjectInLocalStorage)("yakklTokenData",e)}catch(e){_.log.error("Error in setYakklTokenDataStorage:",false,e);throw e}}async function setYakklTokenDataCustomStorage(e){try{J.set(e);await(0,o.setObjectInLocalStorage)("yakklTokenDataCustom",e)}catch(e){_.log.error("Error in setYakklTokenDataCustomStorage:",false,e);throw e}}async function setYakklCombinedTokenStorage(e){try{Q.set(e);await(0,o.setObjectInLocalStorage)("yakklCombinedTokens",e)}catch(e){_.log.error("Error in setYakklCombinedTokenStorage:",false,e);throw e}}async function setYakklChatsStorage(e){try{C.set(e);await(0,o.setObjectInLocalStorage)("yakklChats",e)}catch(e){_.log.error("Error in setYakklChatsStorage:",false,e);throw e}}async function setYakklWalletBlockchainsStorage(e){try{Y.set(e);await(0,o.setObjectInLocalStorage)("yakklWalletBlockchains",e)}catch(e){_.log.error("Error in setYakklWalletBlockchainsStorage:",false,e);throw e}}async function setYakklWalletProvidersStorage(e){try{V.set(e);await(0,o.setObjectInLocalStorage)("yakklWalletProviders",e)}catch(e){_.log.error("Error in setYakklWalletProvidersStorage:",false,e);throw e}}async function setYakklConnectedDomainsStorage(e){try{const t=(0,a.get)(D);if(!(0,g["default"])(t,e)){D.set(e);await(0,o.setObjectInLocalStorage)("yakklConnectedDomains",e)}}catch(e){_.log.error("Error in setYakklConnectedDomainsStorage:",false,e);throw e}}async function setSettingsStorage(e){try{x.set(e);await(0,o.setObjectInLocalStorage)("settings",e)}catch(e){_.log.error("Error in setSettingsStorage:",false,e);throw new Error("Error in setSettingsStorage: "+false,e)}}async function setPreferencesStorage(e){try{T.set(e);await(0,o.setObjectInLocalStorage)("preferences",e)}catch(e){_.log.error("Error in setPreferencesStorage:",false,e);throw new Error("Error in setPreferencesStorage: "+false,e)}}async function setProfileStorage(e){try{I.set(e);await(0,o.setObjectInLocalStorage)("profile",e)}catch(e){_.log.error("Error in setProfileStorage:",false,e);throw new Error("Error in setProfileStorage: "+false,e)}}async function setYakklCurrentlySelectedStorage(e){try{if(e.shortcuts.address.trim().length===0||e.shortcuts.accountName.trim().length===0){throw new Error("Attempting to save yakklCurrentlySelected with no address or no account name. Select a default account and retry.")}const t=await verifyEncryption(e);setYakklCurrentlySelectedStore(t);await(0,o.setObjectInLocalStorage)("yakklCurrentlySelected",t)}catch(e){_.log.error("Error in setYakklCurrentlySelectedStorage:",false,e);throw e}}async function setYakklWatchListStorage(e){try{j.set(e);await(0,o.setObjectInLocalStorage)("yakklWatchList",e)}catch(e){_.log.error("Error in setYakklWatchListStorage:",false,e);throw e}}async function setYakklBlockedListStorage(e){try{O.set(e);await(0,o.setObjectInLocalStorage)("yakklBlockedList",e)}catch(e){_.log.error("Error in setYakklBlockedListStorage:",false,e);throw e}}async function setYakklAccountsStorage(e){try{const t=await verifyEncryption(e);M.set(t);await(0,o.setObjectInLocalStorage)("yakklAccounts",t)}catch(e){_.log.error("Error in setYakklAccountsStorage:",false,e);throw e}}async function setYakklPrimaryAccountsStorage(e){try{const t=await verifyEncryption(e);B.set(t);await(0,o.setObjectInLocalStorage)("yakklPrimaryAccounts",t)}catch(e){_.log.error("Error in setYakklPrimaryAccountsStorage:",false,e);throw e}}async function updateYakklTokenData(e){try{const t=(0,a.get)($);const i=t.map(t=>e(t));$.set(i);await(0,o.setObjectInLocalStorage)("yakklTokenData",i)}catch(e){_.log.error("Error updating token data:",false,e);throw e}}async function updateYakklTokenDataCustom(e){try{const t=(0,a.get)(J);const i=t.map(t=>e(t));J.set(i);await(0,o.setObjectInLocalStorage)("yakklTokenDataCustom",i)}catch(e){_.log.error("Error updating custom token data:",false,e);throw e}}function updateCombinedTokenStore(){const e=[...(0,a.get)($),...(0,a.get)(J)];Q.set(e)}async function getYakklBookmarkedArticles(){try{const e=await(0,o.getObjectFromLocalStorage)("yakklBookmarkedArticles");const t=e||[];de.set(t);return t}catch(e){console.error("Error getting bookmarked articles:",e);return[]}}async function setYakklBookmarkedArticles(e){try{await(0,o.setObjectInLocalStorage)("yakklBookmarkedArticles",e);de.set(e)}catch(e){console.error("Error setting bookmarked articles:",e)}}getYakklBookmarkedArticles().then(e=>{de.set(e)})},"./src/lib/common/stores/tokens.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{loadTokens:()=>loadTokens,preferredTokenSymbols:()=>d,sortedTokens:()=>p,tokens:()=>u});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var a=i("./src/lib/managers/contracts/evm/constants-evm.ts");var l=i("./src/lib/managers/Logger.ts");const u=(0,o.writable)([]);const d=(0,o.writable)(["ETH","WETH","USDC","USDT","WBTC"]);const p=(0,o.derived)([u,d],([e,t])=>{const i=e.filter(e=>t.includes(e.symbol));const o=e.filter(e=>!t.includes(e.symbol)&&e.chainId===1);let l={chainId:1,address:a.ADDRESSES.WETH,name:"Ethereum",symbol:"ETH",decimals:18,isNative:true,isStablecoin:false,logoURI:"/images/ethereum.svg"};i.unshift(l);return[...i,...o]});async function loadTokens(){try{const e=await fetch("/data/uniswap.json");const t=await e.json();const i=t.tokens||t?.data?.tokens||t;const o=i.map(e=>({...e,isStablecoin:["USDC","USDT","DAI","BUSD"].includes(e.symbol)}));u.set(o)}catch(e){l.log.error("Error loading tokens:",false,e)}}},"./src/lib/common/tokens.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getTokenBalance:()=>getTokenBalance,updateTokenBalances:()=>updateTokenBalances,updateTokenDataBalances:()=>updateTokenDataBalances,updateTokenDataCustomBalances:()=>updateTokenDataCustomBalances,updateTokenValues:()=>updateTokenValues});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/units.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/contract.js");var d=i("./src/lib/common/stores.ts");var p=i("../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEqual.js");var m=i("./src/lib/managers/Logger.ts");var g=i("./src/lib/common/computeTokenValue.ts");async function getTokenBalance(e,t,o){try{if(!a.isAddress(e.address)){m.log.error(`Invalid token address: ${e.address}`);return undefined}if(e.isNative){const e=await o.getBalance(t);const{balanceCacheManager:a}=await i.e("src_lib_managers_BalanceCacheManager_ts").then(i.bind(i,"./src/lib/managers/BalanceCacheManager.ts"));const{yakklPricingStore:u}=await Promise.resolve().then(i.bind(i,"./src/lib/common/stores.ts"));const{get:d}=await Promise.resolve().then(i.bind(i,"../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js"));const p=d(u)?.price;if(p){a.setCachedBalance(t,e,p);m.log.debug("[tokens] Updated cache for native token balance")}return l.formatUnits(e,18)}const d=new u.Contract(e.address,["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)"],o);try{const e=await d.balanceOf(t);const i=await d.decimals();return l.formatUnits(e,i)}catch{m.log.error("The contract does not implement balanceOf or it reverted.");return undefined}}catch(t){m.log.error(`Failed to get balance for token: ${e.name}`,false,t);return undefined}}async function updateTokenBalances(e,t){try{const[i,o]=await Promise.all([updateTokenDataBalances(e,t),updateTokenDataCustomBalances(e,t)]);(0,d.updateCombinedTokenStore)()}catch(e){m.log.error("Error updating token balances:",false,e)}}async function updateTokenDataBalances(e,t){try{const i=(0,o.get)(d.yakklTokenDataStore);if(!i||i.length===0){m.log.warn("No tokens available to update balances");return[]}const a=await Promise.all(i.map(async i=>{try{const o=await getTokenBalance(i,e,t);return{...i,sidepanel:i.sidepanel??true,balance:o!==undefined?o:i.balance,value:0}}catch(e){m.log.error(`Error fetching balance for token ${i.symbol}:`,false,e);return i}}));const l=(0,o.get)(d.yakklTokenDataStore);if(!(0,p["default"])(l,a)){await(0,d.setYakklTokenDataStorage)(a)}return a}catch(e){m.log.error("Error updating token balances:",false,e);return[]}}async function updateTokenDataCustomBalances(e,t){try{const i=(0,o.get)(d.yakklTokenDataCustomStore);if(!i||i.length===0){m.log.warn("No custom tokens available to update balances");return[]}const a=await Promise.all(i.map(async i=>{try{const o=await getTokenBalance(i,e,t);return{...i,sidepanel:i.sidepanel??true,balance:o!==undefined?o:i.balance,value:0}}catch(e){m.log.error(`Error fetching balance for custom token ${i.symbol}:`,false,e);return i}}));const l=(0,o.get)(d.yakklTokenDataCustomStore);if(!(0,p["default"])(l,a)){await(0,d.setYakklTokenDataCustomStorage)(a)}return a}catch(e){m.log.error("Error updating custom token balances:",false,e);return[]}}function updateTokenValues(){d.yakklCombinedTokenStore.update(e=>e.map(e=>{const{value:t}=(0,g.computeTokenValue)(e);return{...e,value:t}}))}},"./src/lib/common/types.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AccessSourceType:()=>p,AccountTypeCategory:()=>a,AccountTypeStatus:()=>l,MessageType:()=>v,NetworkType:()=>g,PlanType:()=>d,PromoClassificationType:()=>m,RegisteredType:()=>u,SystemTheme:()=>o});var o;(function(e){e["DARK"]="dark";e["LIGHT"]="light";e["SYSTEM"]="system"})(o||(o={}));var a;(function(e){e["PRIMARY"]="primary";e["SUB"]="sub";e["CONTRACT"]="contract";e["IMPORTED"]="imported"})(a||(a={}));var l;(function(e){e["ACTIVE"]="active";e["INACTIVE"]="inactive";e["DELETED"]="deleted"})(l||(l={}));var u;(function(e){e["BASIC_MEMBER"]="basic_member";e["FOUNDING_MEMBER"]="founding_member";e["EARLY_ADOPTER"]="early_adopter";e["YAKKL_PRO"]="yakkl_pro";e["INSTITUTION"]="institution";e["BUSINESS"]="business";e["ENTERPRISE"]="enterprise"})(u||(u={}));var d;(function(e){e["TRIAL"]="trial";e["BASIC_MEMBER"]="basic_member";e["FOUNDING_MEMBER"]="founding_member";e["EARLY_ADOPTER"]="early_adopter";e["YAKKL_PRO"]="yakkl_pro";e["INSTITUTION"]="institution";e["BUSINESS"]="business";e["ENTERPRISE"]="enterprise"})(d||(d={}));var p;(function(e){e["STANDARD"]="standard";e["SUBSCRIBED"]="subscribed";e["TRIAL"]="trial";e["PROMO"]="promo"})(p||(p={}));var m;(function(e){e["FOUNDING_MEMBER"]="founding_member";e["EARLY_ADOPTER"]="early_adopter";e["YAKKL_PRO"]="yakkl_pro";e["INFLUENCER"]="influencer";e["EMPLOYEE"]="employee";e["SPECIAL"]="special";e["EVENT"]="event";e["OTHER"]="other";e["NONE"]="none"})(m||(m={}));var g;(function(e){e["MAINNET"]="mainnet";e["TESTNET"]="testnet";e["PRIVATE"]="private";e["OTHER"]="other"})(g||(g={}));var v;(function(e){e["ACTIVE_TAB_CHANGED"]="ACTIVE_TAB_CHANGED";e["TAB_UPDATED"]="TAB_UPDATED";e["TAB_REMOVED"]="TAB_REMOVED";e["WINDOW_FOCUSED"]="WINDOW_FOCUSED"})(v||(v={}))},"./src/lib/common/utils.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{addressExist:()=>addressExist,canUpgrade:()=>canUpgrade,checkAccountRegistration:()=>checkAccountRegistration,convertTokenToUsd:()=>convertTokenToUsd,convertUsdToTokenAmount:()=>convertUsdToTokenAmount,detectExecutionContext:()=>detectExecutionContext,formatAmount:()=>formatAmount,formatUsd:()=>formatUsd,getCurrentFunctionInfo:()=>getCurrentFunctionInfo,getLengthInBytes:()=>getLengthInBytes,getNormalizedSettings:()=>getNormalizedSettings,getTrialEndDate:()=>getTrialEndDate,getUserId:()=>getUserId,gweiToWeiHex:()=>gweiToWeiHex,isExtensionContextValid:()=>isExtensionContextValid,isFullyPro:()=>isFullyPro,isProLevel:()=>isProLevel,isServerSide:()=>isServerSide,isStandard:()=>isStandard,isTrialing:()=>isTrialing,normalizeUserPlan:()=>normalizeUserPlan,parseAmount:()=>parseAmount,parseAmountAlternative:()=>parseAmountAlternative,parseErrorMessageFromJSON:()=>parseErrorMessageFromJSON,removeDuplicateAddress:()=>removeDuplicateAddress,safeRuntimeCall:()=>safeRuntimeCall,safeSendMessage:()=>safeSendMessage,setRegisteredType:()=>setRegisteredType,supportedChainId:()=>supportedChainId,toHexChainId:()=>toHexChainId,trialExpiresSoon:()=>trialExpiresSoon,typewriter:()=>typewriter,wait:()=>wait,wasTrialExpiredRecently:()=>wasTrialExpiredRecently});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/common/types.ts");var l=i("./src/lib/common/stores.ts");var u=i("./src/lib/common/environment.ts");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/units.js");var p=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var m=i("./src/lib/managers/Logger.ts");let g=true;const v=[];function isExtensionContextValid(){try{if(!u.browser_ext?.runtime?.id){return false}if(u.browser_ext.runtime.getURL){u.browser_ext.runtime.getURL("/")}return true}catch(e){return false}}function validateExtensionContext(){const e=g;g=isExtensionContextValid();if(e&&!g){m.log.warn("[ExtensionContext] Extension context became invalid");v.length=0}else if(!e&&g){m.log.info("[ExtensionContext] Extension context restored");while(v.length>0){const e=v.shift();try{e?.()}catch(e){m.log.warn("[ExtensionContext] Error executing queued operation:",false,e)}}}return g}function getCurrentFunctionInfo(e=2){const t=new Error;const i=t.stack?.split("\n");if(!i||i.length<=e){return{name:"unknown",location:"unknown"}}const o=i[e].trim();const a=o.match(/at\s+(.*)\s+\((.*)\)/)||o.match(/at\s+(.*)/);if(a){const[,e,t]=a;return{name:e?.split(" ")[0]??"anonymous",location:t??"unknown"}}return{name:"unknown",location:"unknown"}}async function isProLevel(){const e=await(0,l.getSettings)();return e?.plan.type===a.PlanType.YAKKL_PRO||e?.plan.type===a.PlanType.FOUNDING_MEMBER||e?.plan.type===a.PlanType.EARLY_ADOPTER}async function isStandard(){const e=await(0,l.getSettings)();return e?.plan.type===a.PlanType.BASIC_MEMBER}async function setRegisteredType(e){const t=await(0,l.getSettings)();if(t){t.plan.type=e;await(0,l.setSettingsStorage)(t)}}async function isTrialing(){const e=await(0,l.getSettings)();return e.plan.source===a.AccessSourceType.TRIAL}async function trialExpiresSoon(){const e=await(0,l.getSettings)();if(!e.plan.trialEndDate)return false;return new Date(e.plan.trialEndDate).getTime()-Date.now()<1e3*60*60*24}async function isFullyPro(e){const t=e??await(0,l.getSettings)();if(!t)return false;const{plan:i}=t;return(i.type===a.PlanType.YAKKL_PRO||i.type===a.PlanType.FOUNDING_MEMBER||i.type===a.PlanType.EARLY_ADOPTER)&&i.source!==a.AccessSourceType.TRIAL&&!i.trialEndDate&&!i.promo}async function canUpgrade(e){const t=e??await(0,l.getSettings)();if(!t)return false;const{plan:i}=t;if((i.type===a.PlanType.YAKKL_PRO||i.type===a.PlanType.FOUNDING_MEMBER||i.type===a.PlanType.EARLY_ADOPTER)&&i.source!==a.AccessSourceType.TRIAL&&!i.trialEndDate&&!i.promo){return false}return true}function normalizeUserPlan(e){const t=new Date;const i=e.plan.trialEndDate&&new Date(e.plan.trialEndDate).getTime()<t.getTime();const l=e.plan.promo&&o.PRO_ELIGIBLE_PROMO_TYPES.includes(e.plan.promo.toLowerCase());if(i&&!l){return{...e,plan:{...e.plan,type:a.PlanType.BASIC_MEMBER,source:a.AccessSourceType.STANDARD,trialEndDate:null,promo:null,upgradeDate:null}}}return e}async function getNormalizedSettings(){const e=await(0,l.getSettings)();const t=normalizeUserPlan(e);if(JSON.stringify(t.plan)!==JSON.stringify(e.plan)){await(0,l.setSettingsStorage)(t)}return t}function wasTrialExpiredRecently(e,t=1e3*60*60*24){if(!e.plan.trialEndDate)return false;const i=new Date(e.plan.trialEndDate).getTime();const o=Date.now();return i<o&&o-i<t}function getTrialEndDate(){const e=o.TRIAL_DAYS;const t=new Date;t.setDate(t.getDate()+e);return t.toISOString()}function safeRuntimeCall(e,t){if(!isExtensionContextValid()){console.warn("Extension context invalidated");return t}try{return e()}catch(e){if(e.message?.includes("Extension context invalidated")){console.warn("Extension context invalidated during call");return t}throw e}}async function safeSendMessage(e,t){return safeRuntimeCall(async()=>{try{return u.browser_ext.runtime.sendMessage(e,t)}catch(e){if(e.message?.includes("receiving end does not exist")){console.warn("Message receiver not available");return null}throw e}},null)}function isServerSide(){return typeof window==="undefined"||typeof document==="undefined"}function getUserId(){let e=localStorage.getItem("anonymous_user_id");if(!e){e=crypto.randomUUID();localStorage.setItem("anonymous_user_id",e)}return e}function detectExecutionContext(){if(typeof window==="undefined"){return"background"}if(typeof document!=="undefined"&&window.location.protocol!=="chrome-extension:"){return"content_script"}if(window.location.protocol==="chrome-extension:"){if(window.location.pathname.includes("popup")){return"popup"}if(window.location.pathname.includes("options")){return"options"}return"unknown"}return"unknown"}async function checkAccountRegistration(){try{let e=(0,p.get)(l.yakklAccountsStore);let t=(0,p.get)(l.yakklPrimaryAccountsStore);if(!Array.isArray(e)){e=Object.values(e);m.log.warn("Accounts is currently not an array:",false,e);await(0,l.setYakklAccountsStorage)(e);l.yakklAccountsStore.set(e);if(Array.isArray(e))m.log.info("Accounts has been converted to an array and stored:",false,e)}if(!e||e.length===0){return false}const i=e.some(e=>e.accountType===a.AccountTypeCategory.PRIMARY||e.accountType===a.AccountTypeCategory.IMPORTED);if(!t||t.length===0){return false}return i}catch(e){m.log.error("Error checking registration:",false,e);return false}}function parseAmount(e,t){const i=e.startsWith(".")?`0${e}`:e;try{const[e,o=""]=i.split(".");const a=o.slice(0,t).padEnd(t,"0");const l=`${e}${a}`;return BigInt(l)}catch(e){m.log.error("Failed to parse amount:",false,e);return 0n}}function parseAmountAlternative(e,t){if(!e||e==="."||e.trim()===""){return 0n}try{const i=Number(e);return BigInt(Math.round(i*10**t))}catch(e){m.log.error("Error parsing amount:",false,e);return 0n}}function formatUsd(e){return e.toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})}function formatAmount(e,t){if(e===0n)return"0";const i=Number(e)/Math.pow(10,t);return i.toLocaleString(undefined,{minimumFractionDigits:0,maximumFractionDigits:t})}function convertUsdToTokenAmount(e,t,i){if(t<=0)return"0";const o=e/t;return d.formatUnits(d.parseUnits(o.toFixed(i),i),i)}function convertTokenToUsd(e,t){if(t<=0)return 0;return e*t}function typewriter(e,{speed:t=1}){if(e.childNodes.length!==1||e.childNodes[0].nodeType!==Node.TEXT_NODE){throw new Error(`This transition only works on elements with a single text node child`)}const i=e.textContent??"";const o=i.length/(t*.01);return{duration:o,tick:t=>{const o=Math.trunc(i.length*t);e.textContent=i.slice(0,o)}}}function supportedChainId(e){switch(e){case 1:case 5:case 11155111:return true;default:break}return false}function toHexChainId(e){return`0x${e.toString(16)}`}const gweiToWeiHex=e=>`0x${(e*1e9).toString(16)}`;const wait=e=>new Promise(t=>setTimeout(t,e));function parseErrorMessageFromJSON(e){try{const t=JSON.parse(e);if(t.body){const e=JSON.parse(t.body);return e.error??null}if(t.reason){return t.reason}return t}catch(e){m.log.error("Failed to parse errorMessage, body or error:",false,e)}return null}function getLengthInBytes(e){if(typeof e==="string"&&e!=="0x"){if(e.startsWith("0x"))return Math.round(e.length/2);return e.length}return 0}async function addressExist(e){try{const t=await(0,l.getYakklAccounts)();for(const i of t){if(i.address===e){return{exists:true,table:"accounts"}}}const i=await(0,l.getYakklPrimaryAccounts)();for(const t of i){if(t.address===e){return{exists:true,table:"primaryAccounts"}}}return{exists:false,table:null}}catch(e){m.log.error("Error checking if address exists:",false,e);return{exists:false,table:null}}}async function removeDuplicateAddress(){try{const e=await(0,l.getYakklAccounts)();const t=await(0,l.getYakklPrimaryAccounts)();const i=e.length;const o=t.length;const a=new Map;const u=new Map;for(const t of e){if(a.has(t.address)){const e=a.get(t.address);if(t.updateDate>e.updateDate){a.set(t.address,t)}}else{a.set(t.address,t)}}for(const e of t){if(u.has(e.address)){const t=u.get(e.address);if(e.updateDate>t.updateDate){u.set(e.address,e)}}else{u.set(e.address,e)}}const d=Array.from(a.values());const p=Array.from(u.values());const m=i-d.length;const g=o-p.length;if(m>0){await(0,l.setYakklAccountsStorage)(d)}if(g>0){await(0,l.setYakklPrimaryAccountsStorage)(p)}return{accountsRemoved:m,primaryAccountsRemoved:g}}catch(e){m.log.error("Error removing duplicate addresses:",false,e);return{accountsRemoved:0,primaryAccountsRemoved:0}}}},"./src/lib/common/uuid.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getSafeUUID:()=>getSafeUUID});function getSafeUUID(){if(typeof crypto?.randomUUID==="function"){return crypto.randomUUID()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;const i=e==="x"?t:t&3|8;return i.toString(16)})}},"./src/lib/common/wallet.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getInstances:()=>getInstances});var o=i("./src/lib/managers/WalletManager.ts");var a=i("./src/lib/common/security.ts");var l=i("./src/lib/common/stores.ts");var u=i("./src/lib/managers/blockchains/evm/TokenService.ts");var d=i("./src/lib/managers/Logger.ts");async function getInstances(){try{const e=(0,l.getMiscStore)();if(!e){return[null,null,null,null]}const t=await(0,l.getYakklCurrentlySelected)();const i=t.shortcuts?.chainId??1;let p=null;const m="pBm4VA9q8Laz9x3bmXTNZ9m-ArxczEWk"||0||0;p=o["default"].getInstance(["Alchemy"],["Ethereum"],i,m);if(p){if(!p.getSigner()){const e=await(0,a.getYakklCurrentlySelectedAccountKey)();if(e?.privateKey){await p.setSigner(e.privateKey)}else{d.log.warn("No account key found, wallet may not be functional.")}}const e=p.getProvider();if(e){const t=p.getSigner();if(t){e.setSigner(t)}const i=p.getBlockchain();const o=new u.TokenService(i);return[p,e,i,o]}return[p,null,null,null]}return[null,null,null,null]}catch(e){d.log.error("getInstances() - Failed:",false,e);return[null,null,null,null]}}},"./src/lib/extensions/chrome/background.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getIdleManagerStatus:()=>getIdleManagerStatus,pendingRequests:()=>B});var o=i("./src/lib/common/process.ts");var a=i("./src/lib/extensions/chrome/eip-6963.ts");var l=i("./src/lib/common/listeners/background/backgroundListeners.ts");var u=i("./src/lib/managers/Logger.ts");var d=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var p=i.n(d);var m=i("./src/lib/common/listeners/background/alarmListeners.ts");var g=i("./src/lib/common/index.ts");var v=i("./src/lib/permissions/index.ts");var y=i("./src/lib/common/backgroundUtils.ts");var _=i("./src/lib/common/backgroundSecuredStorage.ts");var w=i("./src/lib/permissions/types.ts");var A=i("./src/lib/managers/providers/network/ethereum_provider/alchemy.ts");var k=i("./src/lib/common/security.ts");var T=i("./src/lib/extensions/chrome/errorResponseHandler.ts");var x=i("./src/lib/extensions/chrome/methodClassification.ts");var I=i("./src/lib/common/listeners/background/readMethodHandler.ts");var N=i("./src/lib/common/listeners/background/simulationMethodHandler.ts");var P=i("./src/lib/common/listeners/background/writeMethodHandler.ts");var C=i("./src/lib/extensions/chrome/context.ts");(0,o.ensureProcessPolyfill)();class ConnectionManager{ports=new Map;portIdCounter=0;processedMessages=new Map;MESSAGE_DEDUP_THRESHOLD=500;registerPort(e,t){const i=`port-${this.portIdCounter++}`;const o={port:e,type:this.detectPortType(e.name),lastActivity:Date.now(),metadata:{tabId:t?.tab?.id,url:t?.url||t?.tab?.url,isContentScript:t?.url?.startsWith("chrome-extension://")===false}};this.ports.set(i,o);u.log.debug("Port registered:",false,{portId:i,type:o.type,metadata:o.metadata});return i}detectPortType(e){if(e==="yakkl-unified"){return"unified"}return"legacy"}getPort(e){return this.ports.get(e)}removePort(e){this.ports.delete(e);u.log.debug("Port removed:",false,{portId:e})}updateActivity(e){const t=this.ports.get(e);if(t){t.lastActivity=Date.now()}}cleanupInactivePorts(e=3e5){const t=Date.now();for(const[i,o]of this.ports.entries()){if(t-o.lastActivity>e){this.removePort(i)}}}isDuplicateMessage(e){if(!e||!e.type)return false;if(e.type==="USER_ACTIVITY"||e.type==="ui_context_activity"||e.type.includes("RESPONSE")){return false}const t=`${e.type}:${e.id||""}:${e.contextId||""}`;const i=Date.now();const o=this.processedMessages.get(t);if(o&&i-o<this.MESSAGE_DEDUP_THRESHOLD){return true}this.processedMessages.set(t,i);return false}cleanupProcessedMessages(){const e=Date.now();const t=e-6e4;for(const[e,i]of this.processedMessages.entries()){if(i<t){this.processedMessages.delete(e)}}if(this.processedMessages.size>5e3){const e=this.processedMessages.size-4e3;const t=Array.from(this.processedMessages.entries()).sort((e,t)=>e[1]-t[1]).slice(0,e).map(e=>e[0]);for(const e of t){this.processedMessages.delete(e)}}}}const M=new ConnectionManager;const B=new Map;const j=new Set;function getIdleManagerStatus(){const{getIdleStatus:e}=i("./src/lib/extensions/chrome/context.ts");return e()}if(typeof self!=="undefined"&&self.YAKKLDebug){self.YAKKLDebug={...self.YAKKLDebug,idleManager:{getStatus:getIdleManagerStatus}}}p().runtime.onConnect.addListener(e=>{const t=e.sender;const i=M.registerPort(e,t);u.log.debug("Background: Port connected:",false,{portId:i,portName:e.name,sender:t,timestamp:(new Date).toISOString()});e.onMessage.addListener(async t=>{try{M.updateActivity(i);const o=t.message||t;if(M.isDuplicateMessage(o)){u.log.debug("Background: Dropping duplicate message:",false,{type:o.type});return}u.log.debug("Background: Message received on port:",false,{portId:i,type:o.type,timestamp:(new Date).toISOString()});if(o.source==="content"||o.source==="provider"){u.log.debug("Background: Handling provider message:",false,{portId:i,type:o.type,timestamp:(new Date).toISOString()});await handleProviderMessage(o,e,i)}else{u.log.debug("Background: Handling general message:",false,{portId:i,type:o.type,timestamp:(new Date).toISOString()});await handleGeneralMessage(o,e,i)}}catch(i){u.log.error("Error handling port message:",false,i);(0,T.sendErrorResponse)(e,t.id,i)}});e.onDisconnect.addListener(()=>{u.log.debug("Background: Port disconnected:",false,{portId:i,timestamp:(new Date).toISOString()});M.removePort(i);cleanupPendingRequestsForPort(e)})});async function handleProviderMessage(e,t,i){if(e.id&&j.has(e.id)){u.log.debug("Background: Skipping duplicate request:",false,{requestId:e.id,method:e.method});return}if(e.id){j.add(e.id)}switch(e.type){case"YAKKL_REQUEST:EIP6963":case"YAKKL_REQUEST:EIP1193":const o=e.method;if(!o){u.log.warn("No method specified in provider message:",false,e);(0,T.sendErrorResponse)(t,e.id,new Error("Method is required"));return}try{if((0,x.isSimulationMethod)(o)){await(0,N.handleSimulationRequest)(e,t)}else if((0,x.isWriteMethod)(o)){await(0,P.handleWriteRequest)(e,t)}else if((0,x.isReadMethod)(o)){await(0,I.handleReadOnlyRequest)(e,t)}else{u.log.warn("Unknown provider method:",false,{method:o});(0,T.sendErrorResponse)(t,e.id,new Error(`Unknown method: ${o}`))}}catch(i){u.log.error("Error handling provider message:",false,i);(0,T.sendErrorResponse)(t,e.id,i)}break;case"CONNECTION_TEST":t.postMessage({type:"CONNECTION_TEST_RESPONSE",id:e.id});break;case"clientReady":t.postMessage({type:"clientReady_response",id:e.id,success:true});break;default:await handleUnknownMessage(e,t,i)}}async function handleGeneralMessage(e,t,i){const o=e.message||e;const a=["clientReady","ui_context_initialized","ui_context_activity","ui_context_closing","SET_LOGIN_VERIFIED","USER_ACTIVITY"];if(a.includes(o.type)){try{t.postMessage({type:`${o.type}_response`,id:o.id||o.messageId,success:true})}catch(e){}}switch(o.type){case"SECURITY_CONFIG_REQUEST":const e=await getSecurityLevel();t.postMessage({type:"SECURITY_CONFIG_RESPONSE",securityLevel:e,injectIframes:shouldInjectIframes(e)});break;case"YAKKL_RESPONSE:EIP6963":case"YAKKL_RESPONSE:EIP1193":await handleProviderResponse(o,t,i);break;case"clientReady":break;case"ui_context_initialized":case"ui_context_activity":case"ui_context_closing":case"SET_LOGIN_VERIFIED":case"USER_ACTIVITY":case"IDLE_MANAGER_START":case"GET_IDLE_STATUS":break;default:await handleUnknownMessage(o,t,i)}}async function handleUnknownMessage(e,t,i){const o=new Map;const a=Date.now();if(!o.has(e.type)||a-o.get(e.type)>6e4){u.log.debug("Unknown message type received:",false,{type:e.type,portId:i});o.set(e.type,a)}if(o.size>100){const e=Array.from(o.entries()).sort((e,t)=>e[1]-t[1]).slice(0,50).map(e=>e[0]);for(const t of e){o.delete(t)}}}async function handleProviderResponse(e,t,i){const{id:o,result:a,error:l}=e;u.log.debug("Handling provider response:",false,{id:o,hasResult:a!==undefined,hasError:l!==undefined,portId:i,timestamp:(new Date).toISOString()});const d=B.get(o);if(!d){u.log.warn("No pending request found for response:",false,{id:o});return}const p=d.port;try{u.log.debug("Forwarding response to original port:",false,{id:o,originalPortName:p.name,currentPortName:t.name,timestamp:(new Date).toISOString()});p.postMessage(e);B.delete(o);u.log.debug("Response forwarded successfully",false,{id:o})}catch(l){u.log.error("Failed to forward response:",false,{id:o,error:l,originalPortDisconnected:!p.name});B.delete(o)}}async function getTabInfoForPort(e){try{if(e?.metadata?.tabId){const t=await p().tabs.get(e.metadata.tabId);return{domain:(0,k.extractSecureDomain)(t.url||""),url:t.url||"",title:t.title||"Unknown",icon:t.favIconUrl||"/images/failIcon48x48.png"}}}catch(e){u.log.error("Error getting tab info:",false,e)}return{domain:"Unknown",url:"",title:"Unknown",icon:"/images/failIcon48x48.png"}}function getApprovalMessage(e,t){switch(e){case"personal_sign":return t?.[0]?String(t[0]):"Sign Message";case"eth_signTypedData_v4":return"Sign Typed Data";case"eth_sendTransaction":return"Send Transaction";default:return"Approve Request"}}function cleanupPendingRequestsForPort(e){for(const[t,i]of B.entries()){if(i.port===e){B.delete(t);u.log.debug("Cleaned up pending request:",false,{id:t})}}}async function getSecuritySettings(){try{const e=await(0,_.getObjectFromLocalStorage)("securitySettings");if(!e||typeof e!=="object"){return null}if("level"in e&&Object.values(w.SecurityLevel).includes(e.level)){return e}return null}catch(e){console.error("Error retrieving security settings:",e);return null}}async function getSecurityLevel(){const e=await getSecuritySettings();return e?.level||w.SecurityLevel.MEDIUM}function shouldInjectIframes(e){switch(e){case w.SecurityLevel.HIGH:return false;case w.SecurityLevel.MEDIUM:case w.SecurityLevel.STANDARD:return true;default:return true}}function setupProviderEvents(){const e=(0,A.getAlchemyProvider)();e.on("accountsChanged",e=>{broadcastEvent("accountsChanged",e)});e.on("chainChanged",e=>{broadcastEvent("chainChanged",e)});e.on("connect",e=>{broadcastEvent("connect",e)});e.on("disconnect",e=>{broadcastEvent("disconnect",e)})}function broadcastEvent(e,t){const i={type:"YAKKL_EVENT:EIP6963",event:e,data:t};for(const[e,t]of Object.entries(M["ports"])){try{t.port.postMessage(i)}catch(e){u.log.debug("Failed to send event to port:",false,e)}}}async function initializeBackground(){try{u.log.debug("Initializing background script...",false);if(typeof chrome!=="undefined"&&chrome.sidePanel){u.log.info("Background initializing: chrome.sidePanel is defined");chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:true})}await(0,y.initializeStorageDefaults)();(0,v.initializePermissions)();(0,a.initializeEIP6963)();(0,l.addBackgroundListeners)();p().alarms.onAlarm.addListener(m.onAlarmListener);setupProviderEvents();setInterval(()=>{M.cleanupInactivePorts();M.cleanupProcessedMessages();cleanupOldProcessedRequests()},6e4);await(0,y.watchLockedState)(2*60*1e3);(0,C.initContextTracker)();u.log.debug("Background script initialized successfully",false)}catch(e){u.log.error("Failed to initialize background script:",false,e)}}function cleanupOldProcessedRequests(){const e=Date.now();for(const[t,i]of B.entries()){if(e-i.data.timestamp>3e5){B.delete(t);u.log.debug("Cleaned up stale pending request:",false,{id:t})}}if(j.size>5e3){const e=j.size-4e3;const t=j.values();for(let i=0;i<e;i++){j.delete(t.next().value)}}}async function getActiveTab(){try{const e=await p().tabs.query({active:true});if(e.length>0){const t=e.find(e=>!e.url?.startsWith("chrome-extension://"));if(t&&p().windows){const e=await p().windows.get(t.windowId);return{tabId:t.id,windowId:t.windowId,windowType:e.type,url:t.url,title:t.title,favIconUrl:t.favIconUrl,dateTime:(new Date).toISOString()}}}return null}catch(e){u.log.error("Error getting active tab:",false,e);return null}}globalThis.connectionManager=M;initializeBackground()},"./src/lib/extensions/chrome/context.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{broadcastToOtherContexts:()=>broadcastToOtherContexts,broadcastToProtectedContexts:()=>broadcastToProtectedContexts,clearAllContexts:()=>clearAllContexts,getActiveContextCount:()=>getActiveContextCount,getActiveContexts:()=>getActiveContexts,getContextInfo:()=>getContextInfo,getContextsByType:()=>getContextsByType,getIdleStatus:()=>getIdleStatus,getProtectedContextCount:()=>getProtectedContextCount,hasContext:()=>hasContext,initContextTracker:()=>initContextTracker,setLoginVerified:()=>setLoginVerified});var o=i("./src/lib/common/logger-wrapper.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/common/index.ts");var d=i("./src/lib/common/notifications.ts");var p=i("./src/lib/common/globals.ts");function needsIdleProtection(e){return p.protectedContexts.includes(e)}const m=new Map;const g=new Map;const v=1e3;const y=500;let _=false;let w=false;let A="active";let k=Date.now();let T=null;let x=null;let I=u.TIMER_IDLE_THRESHOLD;let N=u.TIMER_IDLE_LOCK_DELAY;let P=false;let C=false;let M=null;let B=0;const j=3e3;const O=2e3;function initContextTracker(){try{l().runtime.onMessage.addListener(handleContextMessage);if(l().windows&&l().windows.onRemoved){l().windows.onRemoved.addListener(handleWindowRemoved)}if(l().alarms&&l().alarms.onAlarm){l().alarms.onAlarm.addListener(e=>{o.log.info("[IdleManager] Alarm received:",false,e);if(e.name==="yakkl-lock-alarm"){o.log.info("[IdleManager] Executing lockdown from alarm");executeLockdown().catch(e=>{o.log.error("[IdleManager] Error executing lockdown from alarm:",false,e)})}else if(e.name==="yakkl-lock-notification"){o.log.info("[IdleManager] Sending lockdown warning from alarm");d.NotificationService.sendLockdownWarning(N)}else if(e.name==="yakkl-keepalive"){o.log.debug("[ContextTracker] ⏰ Keepalive alarm - checking idle state");if(w){checkInactivity().catch(e=>{o.log.error("[ContextTracker] Error in keepalive activity check:",false,e)})}}})}o.log.info("[ContextTracker] 🚀 INITIALIZED with idle threshold:",false,{threshold:I/1e3,lockDelay:N/1e3,browserIdleSupported:!!(l().idle&&l().idle.setDetectionInterval),alarmSupported:!!(l().alarms&&l().alarms.onAlarm),notificationSupported:!!l().notifications});setInterval(cleanupRecentMessages,3e4);initializeDebugAPI()}catch(e){o.log.error("[ContextTracker] Failed to initialize:",false,e)}}function cleanupRecentMessages(){try{const e=Date.now();const t=e-v*2;for(const[e,i]of g.entries()){if(i<t){g.delete(e)}}if(g.size>y){const e=Array.from(g.entries()).sort((e,t)=>t[1]-e[1]).slice(0,y);g.clear();e.forEach(([e,t])=>{g.set(e,t)})}}catch(e){o.log.warn("[ContextTracker] Error during cleanup:",false,e)}}function isDuplicateMessage(e){try{if(e.type==="USER_ACTIVITY"||e.type==="ui_context_activity"){return false}const t=`${e.type}:${e.contextId||"global"}`;const i=Date.now();const o=g.get(t);if(o&&i-o<v){return true}g.set(t,i);return false}catch(e){o.log.warn("[ContextTracker] Error checking duplicate message:",false,e);return false}}function handleContextMessage(e,t,i){try{const a=e.message||e;if(!a||typeof a!=="object"){return undefined}if(isDuplicateMessage(a)){if(a.type!=="CLEAR_ALL_ENHANCED_ALERTS"){o.log.debug("[ContextTracker] Dropping duplicate message:",false,{type:a.type})}i({success:false,error:"Duplicate message"});return true}if(a.type==="ui_context_initialized"){i({success:true});setTimeout(()=>registerContext(a,t),0);return true}if(a.type==="ui_context_activity"||a.type==="USER_ACTIVITY"){i({success:true});setTimeout(()=>updateContextActivity(a),0);return true}if(a.type==="ui_context_closing"){i({success:true});setTimeout(()=>removeContext(a),0);return true}if(a.type==="SET_LOGIN_VERIFIED"){o.log.info("[ContextTracker] SET_LOGIN_VERIFIED received:",false,a);i({success:true});setTimeout(()=>setLoginVerified(a.verified,a.contextId),0);return true}if(a.type==="IDLE_MANAGER_START"){const e=m.get(a.contextId);if(e&&e.type==="popup-wallet"){i({success:false,message:"Idle manager not supported in popup wallet"});return true}o.log.info(`[ContextTracker] Starting idle manager from ${a.contextId||"unknown"}`);i({success:true,message:"Idle manager started"});setTimeout(()=>setLoginVerified(true),0);return true}if(a.type==="GET_IDLE_STATUS"){i(getIdleStatus());return true}if(a.type==="clientReady"){i({success:true,clientReady:true});return true}return undefined}catch(e){o.log.error("[ContextTracker] Error handling context message:",false,e);try{i({success:false,error:"Internal error"})}catch(e){o.log.error("[ContextTracker] Error sending error response:",false,e)}return true}}function handleWindowRemoved(e){try{for(const[t,i]of m.entries()){if(i.windowId===e){m.delete(t);o.log.info(`[ContextTracker] Context ${t} removed due to window close`);setTimeout(()=>{broadcastToOtherContexts("context_removed",{id:t,type:i.type},t)},0)}}}catch(e){o.log.error("[ContextTracker] Error handling window removal:",false,e)}}function registerContext(e,t){try{let i=e.contextType;if(i==="unknown"&&t.url){if(t.url.includes("sidepanel")){i="sidepanel"}else if(t.url.includes("index.html")||t.url.endsWith("/")){i="popup-wallet"}else if(t.url.includes("dapp/popups")){i="popup-dapp"}else if(t.url.includes("options")){i="options"}else{i="popup-wallet"}o.log.info(`[ContextTracker] Corrected context type from 'unknown' to '${i}' based on URL: ${t.url}`)}const a={id:e.contextId,type:i,windowId:t.tab?.windowId,tabId:t.tab?.id,url:t.url,createdAt:e.timestamp||Date.now(),lastActive:Date.now()};m.set(e.contextId,a);o.log.info(`[ContextTracker] UI Context initialized: ${i}`,false,a);setTimeout(()=>{broadcastToOtherContexts("context_added",{id:e.contextId,type:i},e.contextId)},0)}catch(e){o.log.error("[ContextTracker] Error registering context:",false,e)}}async function updateContextActivity(e){try{const t=e.contextId;const i=Date.now();if(m.has(t)){const e=m.get(t);e.lastActive=i;m.set(t,e)}else{const o=e.contextType||"unknown";m.set(t,{id:t,type:o,createdAt:i,lastActive:i})}const a=m.get(t);if(a&&needsIdleProtection(a.type)){k=i;if(_){o.log.info("[ContextTracker] User activity detected, clearing lockdown state");await clearLockdownState()}if(A!=="active"){handleStateChanged("active").catch(e=>{o.log.error("[ContextTracker] Error handling state change to active:",false,e)})}}}catch(e){o.log.error("[ContextTracker] Error updating context activity:",false,e)}}async function clearLockdownState(){if(C){if(M){await M}return}C=true;const e=Date.now();try{M=(async()=>{cancelPendingLockdown();try{if(l().alarms){await Promise.all([l().alarms.clear("yakkl-lock-alarm"),l().alarms.clear("yakkl-lock-notification"),l().alarms.clear("yakkl-keepalive")])}}catch(e){o.log.warn("[ContextTracker] Error clearing alarms:",false,e)}try{await d.NotificationService.clearAllAlertsEnhanced()}catch(e){o.log.warn("[ContextTracker] Error clearing notifications:",false,e)}try{if(l().action){await Promise.all([l().action.setBadgeText({text:""}),l().action.setIcon({path:{16:"/images/logoBullFav16x16.png",32:"/images/logoBullFav32x32.png",48:"/images/logoBullFav48x48.png",96:"/images/logoBullFav96x96.png",128:"/images/logoBullFav128x128.png"}})])}}catch(e){o.log.warn("[ContextTracker] Error resetting badge/icon:",false,e)}const t=e-clearLockdownState.lastClearTime>O;if(t){clearLockdownState.lastClearTime=e;const t=[];for(const[i,o]of m.entries()){if(o.tabId&&o.id){t.push(l().tabs.sendMessage(o.tabId,{type:"CLEAR_ALL_ENHANCED_ALERTS",timestamp:e,source:"user_activity",targetContextTypes:[o.type]}).catch(()=>{}))}}await Promise.allSettled(t)}if(w){startIdleDetection()}_=false;A="active";try{await l().runtime.sendMessage({type:"startPricingChecks"})}catch(e){o.log.debug("[ContextTracker] Error sending startPricingChecks message:",false,e)}o.log.info("[ContextTracker] Lockdown state cleared successfully")})();await M}finally{C=false;M=null}}clearLockdownState.lastClearTime=0;function removeContext(e){try{const t=e.contextId;if(m.has(t)){const e=m.get(t);m.delete(t);o.log.info(`[ContextTracker] UI Context closed: ${e.type}`,false,e);const i=Array.from(m.values()).some(e=>needsIdleProtection(e.type));if(!i){o.log.info("[ContextTracker] No more protected contexts, stopping idle detection");stopIdleDetection();w=false}setTimeout(()=>{broadcastToOtherContexts("context_removed",{id:t,type:e.type},t)},0)}}catch(e){o.log.error("[ContextTracker] Error removing context:",false,e)}}function broadcastToOtherContexts(e,t,i){try{const a=[];for(const[u,d]of m.entries()){if(u!==i){if(d.tabId){a.push(l().tabs.sendMessage(d.tabId,{type:e,data:t,fromContextId:i,timestamp:Date.now()}).catch(e=>{o.log.debug(`[ContextTracker] Failed to send message to context ${u}:`,false,e)}))}}}Promise.allSettled(a).catch(()=>{})}catch(e){o.log.warn("[ContextTracker] Error broadcasting to other contexts:",false,e)}}function broadcastToProtectedContexts(e,t,i){try{const a=[];for(const[u,d]of m.entries()){if(u!==i&&needsIdleProtection(d.type)){if(d.tabId){a.push(l().tabs.sendMessage(d.tabId,{type:e,data:t,fromContextId:i,timestamp:Date.now()}).catch(e=>{o.log.debug(`[ContextTracker] Failed to send message to context ${u}:`,false,e)}))}}}Promise.allSettled(a).catch(()=>{})}catch(e){o.log.warn("[ContextTracker] Error broadcasting to protected contexts:",false,e)}}function setLoginVerified(e,t){try{o.log.info(`[ContextTracker] 🔐 LOGIN VERIFICATION REQUEST:`,false,{verified:e,contextId:t,currentLoginState:w,totalContexts:m.size,activeContextTypes:Array.from(m.values()).map(e=>e.type)});const i=Array.from(m.values()).filter(e=>needsIdleProtection(e.type));const a=i.length>0;o.log.info(`[ContextTracker] 🛡️ PROTECTED CONTEXTS ANALYSIS:`,false,{hasProtectedContext:a,protectedCount:i.length,protectedTypes:i.map(e=>e.type),allContexts:Array.from(m.values()).map(e=>({id:e.id,type:e.type}))});if(!a&&e){o.log.warn("[ContextTracker] ❌ NO PROTECTED CONTEXTS - not starting idle detection:",false,{reason:"No popup-wallet or popup-dapp contexts found",allContextTypes:Array.from(m.values()).map(e=>e.type),expectedProtectedTypes:["popup-wallet","popup-dapp"]});return}const l=w;w=e;o.log.info(`[ContextTracker] 🔄 LOGIN STATE CHANGED:`,false,{from:l,to:e,willStartIdle:e&&a,willStopIdle:!e&&l});if(e){o.log.info("[ContextTracker] 🚀 STARTING idle detection due to login verification");startIdleDetection();broadcastIdleStatus("active")}else{o.log.info("[ContextTracker] 🛑 STOPPING idle detection due to login unverification");stopIdleDetection()}}catch(e){o.log.error("[ContextTracker] ❌ CRITICAL ERROR setting login verified:",false,e)}}function startIdleDetection(){try{o.log.info("[ContextTracker] 🎯 ATTEMPTING to start idle detection");if(!w){o.log.warn("[ContextTracker] ❌ NOT STARTING - login not verified:",false,{isLoginVerified:w,activeContextsCount:m.size,protectedContextsPresent:Array.from(m.values()).filter(e=>["popup-wallet","popup-dapp"].includes(e.type)).length});return}o.log.info("[ContextTracker] ✅ Login verified, proceeding with idle detection setup");if(l().idle&&l().idle.setDetectionInterval){const e=Math.floor(I/1e3);l().idle.setDetectionInterval(e);o.log.info("[ContextTracker] ✅ Browser idle detection interval set:",false,{intervalSeconds:e,idleThreshold:I})}else{o.log.error("[ContextTracker] ❌ Browser idle API not available:",false,{hasIdleAPI:!!l().idle,hasSetInterval:!!(l().idle&&l().idle.setDetectionInterval),hasOnStateChanged:!!(l().idle&&l().idle.onStateChanged)})}if(!T&&l().idle&&l().idle.onStateChanged){T=e=>{o.log.info("[ContextTracker] 🔄 IDLE STATE CHANGED:",false,{newState:e,timestamp:(new Date).toISOString(),lastActivity:new Date(k).toISOString()});handleStateChanged(e).catch(e=>{o.log.error("[ContextTracker] ❌ Error in state change listener:",false,e)})};l().idle.onStateChanged.addListener(T);o.log.info("[ContextTracker] ✅ Idle state change listener added")}else if(T){o.log.info("[ContextTracker] ℹ️ State change listener already exists")}else{o.log.error("[ContextTracker] ❌ Cannot add state change listener - browser API not available")}if(!x&&typeof setInterval!=="undefined"){x=setInterval(()=>{o.log.debug("[ContextTracker] 🔍 Running periodic activity check");checkInactivity().catch(e=>{o.log.error("[ContextTracker] ❌ Error in activity check:",false,e)})},u.TIMER_IDLE_CHECK_INTERVAL);o.log.info("[ContextTracker] ✅ Activity check timer started:",false,{intervalMs:u.TIMER_IDLE_CHECK_INTERVAL})}else if(x){o.log.info("[ContextTracker] ℹ️ Activity check timer already running")}if(l().alarms){l().alarms.create("yakkl-keepalive",{periodInMinutes:.25});o.log.info("[ContextTracker] ✅ Keepalive alarm created (every 15 seconds)")}checkCurrentState().then(e=>{o.log.info(`[ContextTracker] 📊 Initial idle state: ${e}`)}).catch(e=>{o.log.error("[ContextTracker] ❌ Error checking initial state:",false,e)});o.log.info("[ContextTracker] 🎉 IDLE DETECTION SETUP COMPLETE")}catch(e){o.log.error("[ContextTracker] ❌ CRITICAL ERROR starting idle detection:",false,e)}}function stopIdleDetection(){try{o.log.info("[ContextTracker] Stopping idle detection");if(T&&l().idle&&l().idle.onStateChanged){l().idle.onStateChanged.removeListener(T);T=null}if(x){clearInterval(x);x=null}cancelPendingLockdown();_=false;A="active";k=Date.now();if(l().alarms){Promise.allSettled([l().alarms.clear("yakkl-lock-alarm"),l().alarms.clear("yakkl-lock-notification"),l().alarms.clear("yakkl-keepalive")]).catch(()=>{})}d.NotificationService.clearAllAlertsEnhanced().catch(()=>{})}catch(e){o.log.error("[ContextTracker] Error stopping idle detection:",false,e)}}async function checkInactivity(){if(!w||P)return;try{const e=Date.now();const t=e-k;const i=e-B;if(i<j){return}const a=await checkCurrentState();if(a!=="active"&&!_){o.log.info(`[ContextTracker] Browser reports ${a} state - handling immediately`);await handleStateChanged(a);return}if(t>=I&&!_){o.log.info(`[ContextTracker] Idle threshold reached: ${t}ms`);await handleStateChanged("idle")}}catch(e){o.log.error("[ContextTracker] Error checking inactivity:",false,e)}}async function checkCurrentState(){if(!w)return"active";try{if(l().idle&&l().idle.queryState){const e=Math.floor(I/1e3);const t=await l().idle.queryState(e);const i=Date.now();if(!checkCurrentState.lastLogTime||i-checkCurrentState.lastLogTime>1e4){o.log.debug("[ContextTracker] Idle state query:",false,{state:t,querySeconds:e,timeSinceLastActivity:i-k});checkCurrentState.lastLogTime=i}return t}return"active"}catch(e){o.log.warn("[ContextTracker] Error querying idle state:",false,e);return"active"}}checkCurrentState.lastLogTime=0;async function handleStateChanged(e){if(!w||P)return;if(e===A)return;const t=Date.now();const i=t-B;if(i<j){o.log.debug("[ContextTracker] Skipping state change - too soon since last change:",false,{timeSinceLastChange:i,debouncePeriod:j});return}const a=Array.from(m.values()).some(e=>needsIdleProtection(e.type));if(!a){o.log.info("[ContextTracker] No protected contexts found, stopping idle detection");stopIdleDetection();return}P=true;try{o.log.info(`[ContextTracker] State changing from ${A} to ${e}`);A=e;B=t;broadcastIdleStatus(e);switch(e){case"active":await handleActiveState(t);break;case"idle":case"locked":await handleIdleLockState(e,t);break}}catch(e){o.log.error("[ContextTracker] Error handling state change:",false,e);_=false;A="active"}finally{P=false}}async function handleActiveState(e){try{cancelPendingLockdown();k=e;await clearLockdownState();if(w){startIdleDetection()}try{await l().runtime.sendMessage({type:"startPricingChecks"})}catch(e){o.log.debug("[ContextTracker] Error sending startPricingChecks message:",false,e)}}catch(e){o.log.error("[ContextTracker] Error handling active state:",false,e)}}async function handleIdleLockState(e,t){try{if(!_){const t=await checkCurrentState();if(t!=="active"){_=true;if(N<=0){o.log.info(`[ContextTracker] ${e} detected, initiating immediate lockdown`);await executeLockdown()}else{o.log.info(`[ContextTracker] ${e} detected, lockdown will occur in ${N/1e3} seconds`);await startLockdownSequence()}}else{o.log.info("[ContextTracker] State changed to active during idle check, canceling lockdown");await handleStateChanged("active")}}}catch(e){o.log.error("[ContextTracker] Error handling idle/lock state:",false,e);_=false}}async function startLockdownSequence(){try{const e=Array.from(m.values()).filter(e=>needsIdleProtection(e.type));if(e.length===0){o.log.info("[ContextTracker] No protected contexts found, skipping lockdown sequence");return}o.log.info(`[ContextTracker] Starting lockdown sequence for ${e.length} protected context(s)`);const t=Math.max(0,N);const i=Math.ceil(t/1e3);const a=[];for(const u of e){if(u.tabId&&u.id){a.push(l().tabs.sendMessage(u.tabId,{type:"lockdownImminent",delayMs:t,remainingSeconds:i,enhanced:true,targetContextTypes:p.protectedContexts,timestamp:Date.now()}).catch(e=>{o.log.warn(`[ContextTracker] Failed to send lockdownImminent to context ${u.id}:`,false,e)}))}}await Promise.allSettled(a);if(l().alarms){await l().alarms.create("yakkl-lock-alarm",{when:Date.now()+t})}o.log.info(`[ContextTracker] Alarm set for lockdown in ${i} seconds`)}catch(e){o.log.error("[ContextTracker] Error starting lockdown sequence:",false,e)}}function cancelPendingLockdown(){if(!_)return;try{o.log.info("[ContextTracker] Canceling pending lockdown");_=false;if(l().alarms){Promise.allSettled([l().alarms.clear("yakkl-lock-alarm"),l().alarms.clear("yakkl-lock-notification")]).catch(()=>{})}A="active";o.log.info("[ContextTracker] Pending lockdown canceled")}catch(e){o.log.error("[ContextTracker] Error canceling pending lockdown:",false,e)}}async function executeLockdown(){try{o.log.info("[ContextTracker] Executing lockdown");const e=Array.from(m.values()).filter(e=>needsIdleProtection(e.type));if(e.length===0){o.log.info("[ContextTracker] No protected contexts found, skipping lockdown");_=false;return}o.log.info(`[ContextTracker] Executing lockdown for ${e.length} protected context(s)`);const t=[];for(const i of e){if(i.tabId){t.push(l().tabs.sendMessage(i.tabId,{type:"lockdown",targetContextTypes:p.protectedContexts,timestamp:Date.now()}).catch(e=>{o.log.warn(`[ContextTracker] Failed to send lockdown to context ${i.id}:`,false,e)}))}}await Promise.allSettled(t);_=false}catch(e){o.log.error("[ContextTracker] Error executing lockdown:",false,e);_=false}}function broadcastIdleStatus(e){try{const t=Array.from(m.values()).filter(e=>needsIdleProtection(e.type));if(t.length===0){o.log.debug("[ContextTracker] No protected contexts to broadcast to");return}o.log.info(`[ContextTracker] Broadcasting idle status '${e}' to ${t.length} protected context(s)`);const i=[];for(const o of t){if(o.tabId&&o.id){i.push(l().tabs.sendMessage(o.tabId,{type:"IDLE_STATUS_CHANGED",state:e,timestamp:Date.now(),targetContextTypes:p.protectedContexts}).catch(()=>{}))}}Promise.allSettled(i).catch(()=>{})}catch(e){o.log.error("[ContextTracker] Error broadcasting idle status:",false,e)}}function getActiveContexts(){try{return Array.from(m.entries()).map(([e,t])=>({id:e,type:t.type,url:t.url,createdAt:new Date(t.createdAt).toISOString(),lastActive:new Date(t.lastActive).toISOString(),age:Math.floor((Date.now()-t.createdAt)/1e3)+"s"}))}catch(e){o.log.error("[ContextTracker] Error getting active contexts:",false,e);return[]}}function hasContext(e){return m.has(e)}function getContextInfo(e){return m.get(e)}function getContextsByType(e){try{return Array.from(m.values()).filter(t=>t.type===e)}catch(e){o.log.error("[ContextTracker] Error getting contexts by type:",false,e);return[]}}function getActiveContextCount(){return m.size}function getProtectedContextCount(){try{return Array.from(m.values()).filter(e=>needsIdleProtection(e.type)).length}catch(e){o.log.error("[ContextTracker] Error getting protected context count:",false,e);return 0}}function getIdleStatus(){try{const e=Array.from(m.entries()).filter(([e,t])=>needsIdleProtection(t.type)).map(([e,t])=>({id:e,type:t.type,lastActivity:new Date(t.lastActive).toISOString(),idleFor:Math.round((Date.now()-t.lastActive)/1e3)+"s"}));return{isLockdownInitiated:_,isLoginVerified:w,previousState:A,threshold:I,lockDelay:N,lastActivity:k,timeSinceLastActivity:Date.now()-k,activeContextsCount:m.size,protectedContextsCount:e.length,recentMessagesCount:g.size,isProcessingStateChange:P,isCleaningUp:C,lastStateChangeTime:B,activeContexts:Array.from(m.entries()).map(([e,t])=>({id:e,type:t.type,isProtected:needsIdleProtection(t.type),lastActivity:new Date(t.lastActive).toISOString(),idleFor:Math.round((Date.now()-t.lastActive)/1e3)+"s"})),protectedContexts:e}}catch(e){o.log.error("[ContextTracker] Error getting idle status:",false,e);return{error:"Failed to get idle status",timestamp:(new Date).toISOString()}}}function clearAllContexts(){try{m.clear();g.clear();o.log.info("[ContextTracker] All contexts cleared")}catch(e){o.log.error("[ContextTracker] Error clearing all contexts:",false,e)}}function initializeDebugAPI(){try{if(typeof globalThis!=="undefined"){globalThis.YAKKLBackgroundDebug={getIdleStatus,getActiveContexts,getProtectedContextCount,hasLockdownInitiated:()=>_,getLastActivity:()=>({timestamp:k,timeSinceLastActivity:Date.now()-k,timeInSeconds:Math.round((Date.now()-k)/1e3)}),getCurrentState:checkCurrentState,triggerStateChange:e=>{o.log.info(`[Debug] Manually triggering state change to: ${e}`);handleStateChanged(e).catch(e=>{o.log.error("[Debug] Error in manual state change:",false,e)})},clearLockdown:()=>{o.log.info("[Debug] Manually clearing lockdown state");_=false;cancelPendingLockdown();handleStateChanged("active").catch(e=>{o.log.error("[Debug] Error in manual clear lockdown:",false,e)})},clearAllContexts,recentMessagesCount:()=>g.size,clearRecentMessages:()=>g.clear(),getDetailedIdleStatus:()=>({isLoginVerified:w,isLockdownInitiated:_,previousState:A,lastActivity:k,timeSinceLastActivity:Date.now()-k,idleThreshold:I,idleLockDelay:N,hasStateChangeListener:!!T,hasActivityCheckTimer:!!x,browserIdleAPI:{available:!!(l().idle&&l().idle.setDetectionInterval),hasOnStateChanged:!!(l().idle&&l().idle.onStateChanged),hasQueryState:!!(l().idle&&l().idle.queryState)},activeContexts:Array.from(m.values()).map(e=>({id:e.id,type:e.type,isProtected:needsIdleProtection(e.type),lastActive:e.lastActive,timeSinceActive:Date.now()-e.lastActive}))}),manuallySetLoginVerified:e=>{o.log.info(`[Debug] 🔧 Manually setting login verified to: ${e}`);setLoginVerified(e,"debug-manual")},manuallyStartIdleDetection:()=>{o.log.info("[Debug] 🔧 Manually starting idle detection");startIdleDetection()},manuallyStopIdleDetection:()=>{o.log.info("[Debug] 🔧 Manually stopping idle detection");stopIdleDetection()},testIdleFlow:async()=>{o.log.info("[Debug] 🧪 TESTING COMPLETE IDLE FLOW");const e=getIdleStatus();o.log.info("[Debug] 📊 Initial status:",false,e);const t={hasIdle:!!l().idle,hasSetInterval:!!(l().idle&&l().idle.setDetectionInterval),hasOnStateChanged:!!(l().idle&&l().idle.onStateChanged),hasQueryState:!!(l().idle&&l().idle.queryState)};o.log.info("[Debug] 🔍 Browser APIs:",false,t);if(l().idle&&l().idle.queryState){const e=await l().idle.queryState(Math.floor(I/1e3));o.log.info("[Debug] 📊 Current browser idle state:",false,e)}const i=Array.from(m.values());o.log.info("[Debug] 🎯 Active contexts:",false,i);const a=i.filter(e=>needsIdleProtection(e.type));o.log.info("[Debug] 🛡️ Protected contexts:",false,a);return{initialStatus:e,browserAPIs:t,contexts:i,protectedContexts:a,recommendation:a.length>0&&t.hasIdle?"All components available for idle detection":"Missing components - see logs for details"}},simulateActivity:()=>{o.log.info("[Debug] 🔧 Simulating user activity");k=Date.now();const e=Array.from(m.values()).filter(e=>needsIdleProtection(e.type));e.forEach(e=>{if(e.tabId){l().tabs.sendMessage(e.tabId,{type:"USER_ACTIVITY",timestamp:Date.now(),contextId:e.id,source:"debug-simulation"}).catch(()=>{})}})},forceSetIdleInterval:e=>{if(l().idle&&l().idle.setDetectionInterval){l().idle.setDetectionInterval(e);o.log.info(`[Debug] 🔧 Forced idle detection interval to ${e} seconds`)}else{o.log.error("[Debug] ❌ Browser idle API not available")}},testIdleWarningNotification:(e=15)=>{o.log.info(`[Debug] 🧪 Testing idle warning notification for ${e} seconds`);const t=Array.from(m.values()).filter(e=>needsIdleProtection(e.type));t.forEach(t=>{if(t.tabId){l().tabs.sendMessage(t.tabId,{type:"LOCKDOWN_WARNING_ENHANCED",message:`Test idle warning notification - wallet will lock in ${e} seconds`,timestamp:Date.now(),delayMs:e*1e3,delaySeconds:e,notificationId:`test-lockdown-warning-${Date.now()}`,windowFocused:false}).catch(()=>{})}})}};o.log.info("[ContextTracker] 🧰 Enhanced debug API available via YAKKLBackgroundDebug global object");o.log.info("[ContextTracker] 💡 Try: YAKKLBackgroundDebug.testIdleFlow() or YAKKLBackgroundDebug.getDetailedIdleStatus()");o.log.info("[ContextTracker] 🎯 NEW: YAKKLBackgroundDebug.testIdleWarningNotification(15) - Test new visual notification system!")}}catch(e){o.log.warn("[ContextTracker] Failed to initialize debug API:",false,e)}}},"./src/lib/extensions/chrome/dapp.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{handleUnifiedPortMessage:()=>handleUnifiedPortMessage,onDappListener:()=>onDappListener,portRegistry:()=>p,registerContentScriptPort:()=>registerContentScriptPort});var o=i("./src/lib/extensions/chrome/eip-6963.ts");var a=i("./src/lib/managers/Logger.ts");var l=i("./src/lib/extensions/chrome/verifyDomainConnectedBackground.ts");var u=i("./src/lib/managers/PortManager.ts");var d=i("./src/lib/managers/UnifiedTimerManager.ts");const p={contentScripts:new Map,dappPorts:new Map,unifiedPorts:new Map};let m=0;function generatePortId(){return`dapp-port-${Date.now()}-${m++}`}async function onDappListener(e,t){const i=generatePortId();try{a.log.info("Dapp - onDappListener - event: Starting",false,{event:e,port:t,portId:i,sender:t.sender,timestamp:(new Date).toISOString()});p.dappPorts.set(i,t);t.onDisconnect.addListener(()=>{a.log.debug("Dapp port disconnected:",false,{portId:i});p.dappPorts.delete(i)});switch(e?.method){case"get_warning":await handleGetWarning(e,t);break;case"get_params":await handleGetParams(e,t);break;case"error":await handleError(e,t);break;default:await handleDefaultMessage(e,t,i);break}}catch(i){a.log.error("Dapp - Error in onDappListener:",false,i);sendErrorResponse(t,e?.id,i)}}async function handleGetWarning(e,t){try{const i=o.requestManager.getRequest(e.id);if(i){t.postMessage({method:"get_warning",data:i,timestamp:Date.now()})}else{a.log.warn("Dapp - get_warning - No warning data found for request:",false,e.id);t.postMessage({method:"get_warning",data:null,error:"No warning data found"})}}catch(i){a.log.error("Error handling get_warning:",false,i);sendErrorResponse(t,e.id,i)}}async function handleGetParams(e,t){try{if(!e.id){a.log.error("Dapp - get_params - No event ID is present.");sendErrorResponse(t,null,new Error("No event ID provided"));return}const i=o.requestManager.getRequest(e.id);if(i){const o=await(0,l.verifyDomainConnected)(i.data.metaData.metaData.domain);a.log.info("Dapp - get_params - isConnected:",false,{isConnected:o,request:i,domain:i.data.metaData.metaData.domain});i.data.metaData.metaData.isConnected=o;t.postMessage({id:e.id,jsonrpc:"2.0",method:"get_params",type:"YAKKL_RESPONSE:EIP6963",result:i,timestamp:Date.now()})}else{t.postMessage({id:e.id,jsonrpc:"2.0",method:"get_params",type:"YAKKL_RESPONSE:EIP6963",result:{params:[]},timestamp:Date.now()})}}catch(i){a.log.error("Error handling get_params:",false,i);sendErrorResponse(t,e.id,i)}}async function handleError(e,t){try{if(!t){a.log.error("Dapp - Error case: Sender port is invalid.");return}t.postMessage({id:e.id,jsonrpc:"2.0",method:e.method,type:"YAKKL_RESPONSE:EIP6963",error:e.response?.data||{code:-32603,message:"Internal error"},timestamp:Date.now()})}catch(e){a.log.error("Error handling error method:",false,e)}}async function handleDefaultMessage(e,t,i){try{if(!t){a.log.error("Dapp - Default case: Sender port is invalid.");return}a.log.info("Dapp - onDappListener - default case",false,{event:e,port:t,portId:i});if(!e.id){a.log.warn("Dapp - Default case: No request ID to forward response.",false,{event:e});return}if(shouldForwardToContentScript(e)){await forwardToContentScript(e,t);return}const o={id:e.id,type:"YAKKL_RESPONSE:EIP6963",jsonrpc:"2.0",timestamp:Date.now()};if(e.error){o.error=e.error}else{o.result=e.result}a.log.info("Dapp - Default case forwarding:",false,o);t.postMessage(o);await new Promise(e=>{const t=d.UnifiedTimerManager.getInstance();t.addTimeout("port-delay",()=>e(undefined),100);t.startTimeout("port-delay")})}catch(i){a.log.error("Error handling default message:",false,i);sendErrorResponse(t,e.id,i)}}function shouldForwardToContentScript(e){return e.target==="content"||e.source==="ui"||e.forward===true}async function forwardToContentScript(e,t){try{const i=t.sender?.tab?.id;if(!i){a.log.error("Cannot forward to content script: no tab ID",false);return}const o=await findContentScriptPort(i);if(o){a.log.debug("Forwarding message to content script:",false,{tabId:i,message:e});o.postMessage({...e,source:"background",forwarded:true,timestamp:Date.now()})}else{a.log.error("No content script port found for tab:",false,{tabId:i})}}catch(e){a.log.error("Error forwarding to content script:",false,e)}}async function findContentScriptPort(e){const t=p.contentScripts.get(e);if(t){return t}return u.portManager.getContentScriptPort(e)}function registerContentScriptPort(e,t){a.log.debug("Registering content script port:",false,{tabId:e});p.contentScripts.set(e,t);u.portManager.registerContentScriptPort(e,t);t.onDisconnect.addListener(()=>{a.log.debug("Content script port disconnected:",false,{tabId:e});p.contentScripts.delete(e);u.portManager.removeContentScriptPort(e)})}function sendErrorResponse(e,t,i){if(!e){a.log.error("Cannot send error response: no port available");return}const o={id:t||"unknown",jsonrpc:"2.0",method:"error",type:"YAKKL_RESPONSE:EIP6963",error:{code:i.code||-32603,message:i.message||"Internal error",data:i.data},timestamp:Date.now()};try{e.postMessage(o)}catch(e){a.log.error("Failed to send error response:",false,e)}}async function handleUnifiedPortMessage(e,t){const i=generatePortId();try{a.log.debug("Handling unified port message:",false,{message:e,portId:i});p.unifiedPorts.set(i,t);if(e.method&&e.id){await onDappListener(e,t)}else if(e.type==="stream"){await handleStreamMessage(e,t)}else{await routeUnifiedMessage(e,t)}}catch(i){a.log.error("Error handling unified port message:",false,i);sendErrorResponse(t,e.id,i)}}async function handleStreamMessage(e,t){try{a.log.debug("Handling stream message:",false,e);const i=e.tabId||t.sender?.tab?.id;if(i){const t=await findContentScriptPort(i);if(t){t.postMessage({...e,source:"background",timestamp:Date.now()})}}}catch(e){a.log.error("Error handling stream message:",false,e)}}async function routeUnifiedMessage(e,t){try{const{type:i,method:o,target:l}=e;if(l==="content"||i==="forward"){await forwardToContentScript(e,t)}else if(i==="request"||o){await onDappListener(e,t)}else{a.log.warn("Unknown unified message type:",false,e)}}catch(e){a.log.error("Error routing unified message:",false,e)}}const g=d.UnifiedTimerManager.getInstance();g.addInterval("dapp-port-cleanup",()=>{const e=Date.now();for(const[t,i]of p.dappPorts.entries()){try{i.postMessage({type:"ping",timestamp:e})}catch(e){p.dappPorts.delete(t)}}for(const[t,i]of p.unifiedPorts.entries()){try{i.postMessage({type:"ping",timestamp:e})}catch(e){p.unifiedPorts.delete(t)}}},6e4);g.startInterval("dapp-port-cleanup")},"./src/lib/extensions/chrome/database.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{checkDomain:()=>checkDomain,initializeBlacklistDatabase:()=>initializeBlacklistDatabase,isBlacklisted:()=>isBlacklisted});var o=i("./src/lib/common/storage.ts");var a=i("./src/lib/managers/Logger.ts");var l=i("../../node_modules/.pnpm/dexie@4.0.11/node_modules/dexie/import-wrapper.mjs");class BlacklistDatabase extends l["default"]{domains;constructor(){super("BlacklistDatabase");this.version(1).stores({domains:"domain"});this.domains=this.table("domains")}}const u=new BlacklistDatabase;async function initializeBlacklistDatabase(e=false){try{if(e)await u.domains.clear();const t=await u.domains.count();if(t===0){const e=await fetch("/data/lists.json");const t=await e.json();await u.domains.bulkAdd(t.blacklist.map(e=>({domain:e})))}}catch(e){a.log.warn("Warning initializing database",false,e)}}async function isBlacklisted(e){try{const t=await u.domains.get({domain:e});return!!t}catch(e){a.log.warn("Warning checking blacklist",false,e);return false}}async function checkDomain(e){try{const t=await(0,o.getObjectFromLocalStorage)("yakklBlockList");if(t){if(t.find(t=>t.domain===e)){return Promise.resolve(true)}}return Promise.resolve(false)}catch(e){a.log.error(e);Promise.reject(e)}}},"./src/lib/extensions/chrome/eip-6963.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{READONLY_METHODS:()=>U,broadcastToEIP6963Ports:()=>broadcastToEIP6963Ports,getCurrentlySelectedAccounts:()=>getCurrentlySelectedAccounts,getCurrentlySelectedData:()=>getCurrentlySelectedData,handleAddEthereumChain:()=>handleAddEthereumChain,handleGetPermissions:()=>handleGetPermissions,handlePersonalSign:()=>handlePersonalSign,handleReadOnlyMethod:()=>handleReadOnlyMethod,handleRequestAccounts:()=>handleRequestAccounts,handleRequestPermissions:()=>handleRequestPermissions,handleRevokePermissions:()=>handleRevokePermissions,handleSendTransaction:()=>handleSendTransaction,handleSign:()=>handleSign,handleSignTypedDataV4:()=>handleSignTypedDataV4,handleSwitchEthereumChain:()=>handleSwitchEthereumChain,handleWriteMethod:()=>handleWriteMethod,initializeEIP6963:()=>initializeEIP6963,onEIP6963MessageListener:()=>onEIP6963MessageListener,onEIP6963PortListener:()=>onEIP6963PortListener,rejectEIP6963Request:()=>rejectEIP6963Request,requestManager:()=>v.requestManager,resolveEIP6963Request:()=>resolveEIP6963Request,showEIP6963Popup:()=>showEIP6963Popup});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/index.ts");var l=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var u=i.n(l);var d=i("./src/lib/managers/UnifiedTimerManager.ts");var p=i("./src/lib/permissions/index.ts");var m=i("./src/lib/extensions/chrome/legacy.ts");var g=i("./src/lib/common/constants.ts");var v=i("./src/lib/extensions/chrome/requestManager.ts");var y=i("./src/lib/common/stores.ts");var _=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var w=i("./src/lib/common/security.ts");var A=i("./src/lib/extensions/chrome/verifyDomainConnectedBackground.ts");var k=i("./src/lib/extensions/chrome/methodClassification.ts");var T=i("./src/lib/common/listeners/background/readMethodHandler.ts");var x=i("./src/lib/common/listeners/background/simulationMethodHandler.ts");var I=i("./src/lib/common/listeners/background/writeMethodHandler.ts");var N=i("./src/lib/extensions/chrome/errorResponseHandler.ts");var P=i("./src/lib/extensions/chrome/messageAnalyzer.ts");var C=i("./src/lib/managers/DAppPopupManager.ts");const M=new Map;const B=3e4;const j=new P.MessageAnalyzer;const O={USER_REJECTED:{code:4001,message:"User rejected the request"},UNAUTHORIZED:{code:4100,message:"Unauthorized"},UNSUPPORTED_METHOD:{code:4200,message:"Method not supported"},DISCONNECTED:{code:4900,message:"Disconnected"},CHAIN_DISCONNECTED:{code:4901,message:"Chain disconnected"},INVALID_PARAMS:{code:-32602,message:"Invalid parameters"},INTERNAL_ERROR:{code:-32603,message:"Internal error"}};const D=new Map;const L=d.UnifiedTimerManager.getInstance();L.addInterval("eip6963-cleanup",()=>{const e=Date.now();for(const[t,i]of D.entries()){if(e-i.timestamp>5*60*1e3){D.delete(t)}}},5*60*1e3);L.startInterval("eip6963-cleanup");const F=new Set;function getRequestOrigin(e,t){try{if(t&&t.url){return new URL(t.url).origin}if(e&&e.origin){return e.origin}if(e&&e.metaDataParams&&e.metaDataParams.domain){const t=e.metaDataParams.domain;if(t.startsWith("http://")||t.startsWith("https://")){return t}return`https://${t}`}o.log.warn("Could not determine request origin, using placeholder",false,{request:e,sender:t});return"unknown-origin"}catch(e){o.log.error("Error getting request origin",false,e);return"unknown-origin"}}async function onEIP6963MessageListener(e,t){try{const isEIP6963Message=e=>e&&typeof e==="object"&&typeof e.action==="string"&&typeof e.requestId==="string";if(!isEIP6963Message(e)){o.log.info("EIP6963 - onMessage - not an EIP6963 message so passing through",false,{message:e});return undefined}o.log.info("Received EIP6963 message",false,e);if(e.action==="resolveEIP6963Request"){const t=resolveEIP6963Request(e.requestId,e.result);o.log.debug("EIP6963: resolveEIP6963Request",false,{success:t,requestId:e.requestId});return{type:"YAKKL_RESPONSE:EIP6963",result:t,requestId:e.requestId}}if(e.action==="rejectEIP6963Request"){const t=rejectEIP6963Request(e.requestId,e.error);o.log.debug("EIP6963: rejectEIP6963Request",false,{success:t,requestId:e.requestId,error:e.error});return{type:"YAKKL_RESPONSE:EIP6963",result:t,requestId:e.requestId,error:e.error}}throw new Error("Unknown EIP6963 action")}catch(e){o.log.error("Error handling EIP-6963 message",false,e);return{type:"YAKKL_RESPONSE:EIP6963",error:{code:4200,message:e instanceof Error?e.message:String(e)}}}}function initializeEIP6963(){if(!u())return;try{(0,p.initializePermissions)();u().runtime.onConnect.addListener(e=>{if(e.name!==g.YAKKL_PROVIDER_EIP6963)return;o.log.debug("EIP6963: Port connected:",false,{portName:e.name,port:e,timestamp:(new Date).toISOString()});const t=`eip6963_${Date.now()}_${Math.random().toString(36).slice(2,11)}`;M.set(t,e);e.onMessage.addListener(async t=>{await onEIP6963PortListener(t,e)});e.onDisconnect.addListener(()=>{M.delete(t);if(u().runtime.lastError){o.log.error("EIP-6963 port error on disconnect",false,u().runtime.lastError)}})})}catch(e){o.log.error("Failed to initialize EIP-6963 handler",true,e)}}async function handleGetBlock(e,t){return await(0,m.getBlock)(e,t,undefined)}async function handleEstimateGas(e,t){return await(0,m.estimateGas)(e,t[0])}const U=["eth_accounts","eth_coinbase","eth_getBalance","eth_getCode","eth_getStorageAt","eth_getTransactionCount","eth_blockNumber","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_chainId","net_version","eth_protocolVersion","eth_compileLLL","eth_compileSerpent","eth_compileSolidity","eth_getCompilers","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_gasPrice","eth_hashrate","eth_mining","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionReceipt","eth_getWork","eth_submitHashrate","eth_submitWork","eth_syncing"];async function handleReadOnlyMethod(e,t=[],i){try{switch(e){case"eth_chainId":return await getCurrentlySelectedChainId(i);case"eth_accounts":return await getCurrentlySelectedAccounts(i);case"net_version":return await getCurrentlySelectedNetworkVersion(i);case"eth_blockNumber":return await getCurrentlySelectedBlockNumber(i);case"eth_getBalance":return await getCurrentlySelectedBalance(t[0],i);case"eth_getCode":return await getCurrentlySelectedCode(t[0],i);case"eth_getStorageAt":return await getCurrentlySelectedStorageAt(t[0],t[1],i);case"eth_getTransactionCount":return await getCurrentlySelectedTransactionCount(t[0],i);case"eth_gasPrice":return await getCurrentlySelectedGasPrice(i);case"eth_getBlockByHash":return await getCurrentlySelectedBlockByHash(t[0],t[1],i);case"eth_getBlockByNumber":return await getCurrentlySelectedBlockByNumber(t[0],t[1],i);case"eth_getTransactionByHash":return await getCurrentlySelectedTransactionByHash(t[0],i);case"eth_getTransactionReceipt":return await getCurrentlySelectedTransactionReceipt(t[0],i);case"eth_getLogs":return await getCurrentlySelectedLogs(t[0],i);default:throw new a.ProviderRpcError(4200,`Method ${e} not supported`)}}catch(t){o.log.error("Error handling read-only method:",false,{method:e,error:t,timestamp:(new Date).toISOString()});throw t}}async function getCurrentlySelectedBlockByNumber(e,t,i){try{const o=await getCurrentlySelectedData(i);const a=await(0,m.getBlock)(o.chainId,e,t?true:false);return a}catch(t){o.log.error("Error getting block by number:",false,{error:t,blockNumber:e,requestId:i,timestamp:(new Date).toISOString()});throw t}}async function handleWriteMethod(e,t,i=[],l){try{switch(e){case"eth_requestAccounts":return await handleRequestAccounts(t,l);case"eth_sendTransaction":return await handleSendTransaction(t,i,l);case"eth_sign":return await handleSign(t,i,l);case"personal_sign":return await handlePersonalSign(t,i,l);case"eth_signTypedData_v4":return await handleSignTypedDataV4(t,i,l);case"wallet_addEthereumChain":return await handleAddEthereumChain(t,i,l);case"wallet_switchEthereumChain":return await handleSwitchEthereumChain(t,i,l);case"wallet_requestPermissions":return await handleRequestPermissions(t,i,l);case"wallet_revokePermissions":return await handleRevokePermissions(t,i,l);case"wallet_getPermissions":return await handleGetPermissions(t,l);default:throw new a.ProviderRpcError(4200,`Method ${e} not supported`)}}catch(t){o.log.error("Error handling write method:",false,{method:e,error:t,timestamp:(new Date).toISOString()});throw t}}async function onEIP6963PortListener(e,t){try{j.analyze(e);o.log.debug("EIP6963 handler received raw message",false,{message:e,messageType:typeof e,hasMethod:"method"in e,hasType:"type"in e,timestamp:(new Date).toISOString()});let i=e.method;let a=e.id;if(!i&&e.data?.method){i=e.data.method;o.log.debug("Found method in message.data",false,{method:i})}if(!i&&e.payload?.method){i=e.payload.method;o.log.debug("Found method in message.payload",false,{method:i})}if(!i&&e.type&&typeof e.type==="string"){const t=e.type.match(/:(eth_[a-zA-Z0-9_]+)/);if(t){i=t[1];o.log.debug("Extracted method from type",false,{type:e.type,method:i})}}if(!i&&e.action){i=e.action;o.log.debug("Using action as method",false,{action:e.action})}if(!i&&e.type){switch(e.type){case"ping":case"PING":case"connection_test":t.postMessage({type:"pong",id:a||e.id||Date.now().toString(),timestamp:Date.now()});o.log.debug("Handled ping message",false);return;case"init":case"INIT":case"handshake":t.postMessage({type:"init_ack",id:a||e.id||Date.now().toString(),status:"ready"});o.log.debug("Handled init message",false);return;default:}}if(!i){o.log.error("No method found in EIP6963 message after all fallbacks",false,{message:e,checkedLocations:["message.method","message.data.method","message.payload.method","message.type (extraction)","message.action"]});if(a){(0,N.sendErrorResponse)(t,a,new Error("Method is required"))}else{o.log.error("Cannot send error response - no request ID",false)}return}o.log.debug("EIP6963 handler processing message",false,{method:i,id:a,timestamp:(new Date).toISOString()});if(a&&F.has(a)){o.log.debug("EIP6963: Skipping duplicate request:",false,{requestId:a,method:i,timestamp:(new Date).toISOString()});return}if(a){F.add(a)}if((0,k.isSimulationMethod)(i)){o.log.debug("Routing to simulation handler:",false,{method:i});await(0,x.handleSimulationRequest)(e,t)}else if((0,k.isWriteMethod)(i)){o.log.debug("Routing to write handler:",false,{method:i});await(0,I.handleWriteRequest)(e,t)}else if((0,k.isReadMethod)(i)){o.log.debug("Routing to read handler:",false,{method:i});await(0,T.handleReadOnlyRequest)(e,t)}else{o.log.warn("Unknown EIP6963 method:",false,{method:i});if(a){(0,N.sendErrorResponse)(t,a,new Error(`Unknown method: ${i}`))}}}catch(i){o.log.error("Error in EIP6963 handler:",false,i);if(e?.id){(0,N.sendErrorResponse)(t,e.id,i)}}}async function switchEthereumChain(e,t){try{const i=parseInt(e[0].chainId,16);broadcastToEIP6963Ports("chainChanged",`0x${i.toString(16)}`,t);return null}catch(e){o.log.error("Error in wallet_switchEthereumChain",false,e);throw new a.ProviderRpcError(4901,"Failed to switch chain")}}async function addEthereumChain(e,t,i){return await showEIP6963Popup("wallet_addEthereumChain",e,t,i)}async function getBlockByNumber(e,t,i){const o=await u().storage.local.get(g.STORAGE_YAKKL_CURRENTLY_SELECTED);const l=o[g.STORAGE_YAKKL_CURRENTLY_SELECTED];if(!l?.shortcuts?.chainId){throw new a.ProviderRpcError(4100,"Wallet not initialized")}return await showEIP6963Popup("eth_getBlockByNumber",e,t,i)}async function estimateGas(e,t,i,o){const l=await u().storage.local.get(g.STORAGE_YAKKL_CURRENTLY_SELECTED);const d=l[g.STORAGE_YAKKL_CURRENTLY_SELECTED];if(!d?.shortcuts?.chainId){throw new a.ProviderRpcError(4100,"Wallet not initialized")}return await showEIP6963Popup("eth_estimateGas",e,i,o)}function validateParams(e,t){try{switch(e){case"eth_sendTransaction":return t.length===1&&typeof t[0]==="object";case"eth_sign":return t.length===2&&typeof t[0]==="string"&&typeof t[1]==="string";case"personal_sign":return t.length===2&&typeof t[0]==="string"&&typeof t[1]==="string";case"eth_signTypedData_v4":return t.length===2&&typeof t[0]==="string"&&typeof t[1]==="string";case"wallet_switchEthereumChain":return t.length===1&&typeof t[0]==="object"&&typeof t[0].chainId==="string";case"wallet_addEthereumChain":return t.length===1&&typeof t[0]==="object"&&typeof t[0].chainId==="string";case"wallet_requestPermissions":return t.length===1&&Array.isArray(t[0])&&t[0].every(e=>typeof e==="object"&&typeof e.eth_accounts==="object");case"wallet_revokePermissions":return t.length===1&&Array.isArray(t[0])&&t[0].every(e=>typeof e==="object"&&typeof e.eth_accounts==="object");case"wallet_getPermissions":return t.length===0;default:return true}}catch(i){o.log.error("Parameter validation error",false,{method:e,params:t,error:i});return false}}async function getCurrentlySelectedData(e){try{const e=await u().storage.local.get(g.STORAGE_YAKKL_CURRENTLY_SELECTED);const t=e[g.STORAGE_YAKKL_CURRENTLY_SELECTED];if(!t?.shortcuts){throw new a.ProviderRpcError(4100,"Wallet shortcuts not initialized")}return t.shortcuts}catch(e){o.log.error("Error getting currently selected data",false,e);throw new a.ProviderRpcError(4100,"Error getting currently selected data")}}async function getCurrentlySelectedChainId(e){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for eth_chainId")}const t=await getCurrentlySelectedData(e);return`0x${t.chainId.toString(16)}`}async function getCurrentlySelectedAccounts(e){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for eth_accounts")}const t=await getCurrentlySelectedData(e);const i=t.id;const l=t.persona;const u=await(0,A.getDomainForRequestId)(e);const d=await(0,A.getAddressesForDomain)(u);o.log.info("getCurrentlySelectedAccounts",false,{id:i,persona:l,addresses:d});return d}async function getCurrentlySelectedNetworkVersion(e){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for eth_chainId")}const t=await getCurrentlySelectedData(e);return t.chainId.toString()}async function getCurrentlySelectedBlockNumber(e){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for eth_blockNumber")}const t=await getCurrentlySelectedData(e);const i=await(0,m.getLatestBlock)(t.chainId);return i.number.toString()}async function getCurrentlySelectedBalance(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getBalance")}const i=await getCurrentlySelectedData(t);const o=await(0,m.getBalance)(i.chainId,e);return o.toString()}async function getCurrentlySelectedCode(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getCode")}const i=await getCurrentlySelectedData(t);return await(0,m.getCode)(i.chainId,e)}async function getCurrentlySelectedStorageAt(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getStorageAt")}const o=await getCurrentlySelectedData(i);return await(0,m.getCode)(o.chainId,e)}async function getCurrentlySelectedTransactionCount(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getTransactionCount")}const i=await getCurrentlySelectedData(t);const o=await(0,m.getNonce)(i.chainId,e);return o.toString()}async function getCurrentlySelectedGasPrice(e){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for eth_gasPrice")}const t=await getCurrentlySelectedData(e);const i=await(0,m.getGasPrice)(t.chainId);return i.toString()}async function getCurrentlySelectedBlockByHash(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getBlockByHash")}const o=await getCurrentlySelectedData(i);return await(0,m.getBlock)(o.chainId,e,t?true:false)}async function getCurrentlySelectedTransactionByHash(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getTransactionByHash")}const i=await getCurrentlySelectedData(t);return await(0,m.getTransaction)(i.chainId,e)}async function getCurrentlySelectedTransactionReceipt(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getTransactionReceipt")}const i=await getCurrentlySelectedData(t);return await(0,m.getTransactionReceipt)(i.chainId,e)}async function getCurrentlySelectedLogs(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_getLogs")}const i=await getCurrentlySelectedData(t);return await(0,m.getLogs)(i.chainId,e)}async function handleSendTransaction(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for eth_sendTransaction")}return showEIP6963Popup("eth_sendTransaction",t,e,i)}async function handleRequestAccounts(e,t){if(!t){throw new a.ProviderRpcError(4100,"Request ID is required for eth_requestAccounts")}o.log.warn("Requesting accounts",false,{method:"eth_requestAccounts",requestId:t});return showEIP6963Popup("eth_requestAccounts",[],e,t)}async function handleSign(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for eth_sign")}return showEIP6963Popup("eth_sign",t,e,i)}async function handlePersonalSign(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for personal_sign")}return showEIP6963Popup("personal_sign",t,e,i)}async function handleSignTypedDataV4(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for eth_signTypedData_v4")}return showEIP6963Popup("eth_signTypedData_v4",t,e,i)}async function handleAddEthereumChain(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for wallet_addEthereumChain")}return showEIP6963Popup("wallet_addEthereumChain",t,e,i)}async function handleSwitchEthereumChain(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for wallet_switchEthereumChain")}return showEIP6963Popup("wallet_switchEthereumChain",t,e,i)}async function handleRequestPermissions(e,t,i){if(!i){throw new a.ProviderRpcError(4100,"Request ID is required for wallet_requestPermissions")}try{if(!validateParams("wallet_requestPermissions",t)){throw new a.ProviderRpcError(O.INVALID_PARAMS.code,"Invalid parameters for wallet_requestPermissions")}return await showEIP6963Popup("wallet_requestPermissions",t,e,i)}catch(e){o.log.error("Error handling wallet_requestPermissions:",false,e);throw e}}async function handleRevokePermissions(e,t,i){try{if(!validateParams("wallet_revokePermissions",t)){throw new a.ProviderRpcError(O.INVALID_PARAMS.code,"Invalid parameters for wallet_revokePermissions")}const i=e.sender?.url?new URL(e.sender.url).origin:null;if(!i){throw new a.ProviderRpcError(O.INVALID_PARAMS.code,"Could not determine origin for permission revocation")}await(0,A.revokeDomainConnection)(i);return true}catch(e){o.log.error("Error handling wallet_revokePermissions:",false,e);throw e}}async function handleGetPermissions(e,t){try{if(!validateParams("wallet_getPermissions",[])){throw new a.ProviderRpcError(O.INVALID_PARAMS.code,"Invalid parameters for wallet_getPermissions")}const t=e.sender?.url?new URL(e.sender.url).origin:null;if(!t){throw new a.ProviderRpcError(O.INVALID_PARAMS.code,"Could not determine origin for permission check")}const i=await(0,A.verifyDomainConnected)(t);if(i){return[{parentCapability:"eth_accounts",caveats:[]}]}return[]}catch(e){o.log.error("Error handling wallet_getPermissions:",false,e);throw e}}function resolveEIP6963Request(e,t){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for resolveEIP6963Request")}const i=v.requestManager.getRequest(e);if(!i){throw new a.ProviderRpcError(4100,"Request not found")}i.resolve(t);v.requestManager.removeRequest(e)}function rejectEIP6963Request(e,t){if(!e){throw new a.ProviderRpcError(4100,"Request ID is required for rejectEIP6963Request")}const i=v.requestManager.getRequest(e);if(!i){throw new a.ProviderRpcError(4100,"Request not found")}i.reject(t);v.requestManager.removeRequest(e)}function broadcastToEIP6963Ports(e,t,i){M.forEach(i=>{try{if(i.sender){i.postMessage({type:"YAKKL_EVENT:EIP6963",event:e,data:t})}}catch(e){o.log.error("Error broadcasting to port",false,e)}})}async function showEIP6963Popup(e,t,i,a,l="M"){if(!a){throw new Error("Request ID is required for EIP-6963 popup")}const u=v.requestManager.getRequest(a);if(u){o.log.info(`Reusing existing request for ID: ${a}`,false,{method:e,requestManager:v.requestManager,existingRequest:u});return new Promise((e,t)=>{u.resolve=e;u.reject=t})}const d=v.requestManager.getActiveRequests();const p=d.find(i=>i.data.method===e&&JSON.stringify(i.data.params)===JSON.stringify(t)&&i.data.timestamp>Date.now()-5e3);if(p){o.log.info(`Found duplicate request for method: ${e}`,false,{originalId:p.data.id,newId:a});return new Promise((e,t)=>{p.resolve=e;p.reject=t})}const m=(0,_.get)(y.activeTabBackgroundStore);const g=m?.url||"";const k=g?(0,w.extractSecureDomain)(g):"NO DOMAIN - NOT ALLOWED";const T=Array.isArray(t)?t:[t];o.log.debug("----------- EIP-6963: Request params: ------------",false,{requestParams:T,method:e,params:t});const x={id:a,method:e,params:T,timestamp:Date.now(),requiresApproval:true,metaData:{method:e,params:T,metaData:{domain:k,isConnected:await(0,A.verifyDomainConnected)(k),icon:m?.favIconUrl||"/images/failIcon48x48.png",title:m?.title||"Not Available",origin:g,message:T&&T.length>0?String(T[0]):"Not Available"}}};const I={resolve:t=>{i.postMessage({type:"YAKKL_RESPONSE:EIP6963",jsonrpc:"2.0",id:a,method:e,result:t})},reject:t=>{i.postMessage({type:"YAKKL_RESPONSE:EIP6963",jsonrpc:"2.0",id:a,method:e,error:{code:-32603,message:t?.message||"Internal error"}})},port:i,data:x};v.requestManager.addRequest(a,I);let N=`/dapp/popups/approve.html?requestId=${a}&source=eip6963&method=${e}`;(0,C.showPopupForMethod)(e,a,"M");return new Promise((e,t)=>{const i=v.requestManager.getRequest(a);if(i){i.resolve=e;i.reject=t}})}},"./src/lib/extensions/chrome/errorResponseHandler.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{sendErrorResponse:()=>sendErrorResponse});var o=i("./src/lib/managers/Logger.ts");function sendErrorResponse(e,t,i){try{const a=i.code||-32603;const l=i.message||"Internal error";const u={type:"YAKKL_RESPONSE:EIP6963",id:t,jsonrpc:"2.0",error:{code:a,message:l,data:i.data||undefined}};o.log.debug("Sending error response:",false,{id:t,errorCode:a,errorMessage:l,timestamp:(new Date).toISOString()});e.postMessage(u)}catch(e){o.log.error("Failed to send error response:",false,{originalError:i,sendError:e,id:t})}}},"./src/lib/extensions/chrome/iconTimer.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{startLockIconTimer:()=>startLockIconTimer,stopLockIconTimer:()=>stopLockIconTimer});var o=i("./src/lib/common/storage.ts");var a=i("./src/lib/utilities/index.ts");var l=i("./src/lib/common/environment.ts");var u=i("./src/lib/common/constants.ts");var d=i("./src/lib/common/stores.ts");var p=i("./src/lib/managers/TimerManager.ts");var m=i("./src/lib/managers/Logger.ts");function startLockIconTimer(){try{(0,p.getTimerManager)().addTimer("iconTimer_lockIcon",async()=>{try{const e=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_SETTINGS);const t=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CURRENTLY_SELECTED);if(t){if(e.isLocked!==t.shortcuts.isLocked){t.shortcuts.isLocked=e.isLocked;await(0,o.setObjectInLocalStorage)(u.STORAGE_YAKKL_CURRENTLY_SELECTED,t);d.yakklCurrentlySelectedStore.set(t)}}if(e.isLocked){await(0,a.setIconLock)();if(l.browser_ext){await l.browser_ext.runtime.sendMessage({type:"lockdown"})}}else{await(0,a.setIconUnlock)()}}catch(e){m.log.error("Error in lock icon timer interval:",false,e)}},u.TIMER_ICON_CHECK_TIME);(0,p.getTimerManager)().startTimer("iconTimer_lockIcon")}catch(e){m.log.error("Error starting lock icon timer:",false,e,e?.stack)}}async function stopLockIconTimer(){try{await(0,a.setIconLock)();const e=await(0,o.getObjectFromLocalStorage)(u.STORAGE_YAKKL_SETTINGS);if(e){(0,p.getTimerManager)().removeTimer("iconTimer_lockIcon");if(l.browser_ext){await l.browser_ext.runtime.sendMessage({type:"lockdown"})}}}catch(e){m.log.error("Error stopping lock icon timer:",false,e,e?.stack)}}},"./src/lib/extensions/chrome/legacy.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{estimateGas:()=>estimateGas,ethCall:()=>ethCall,formatGasPrice:()=>formatGasPrice,getBalance:()=>getBalance,getBlock:()=>getBlock,getCode:()=>getCode,getGasPrice:()=>getGasPrice,getGasPriceForDisplay:()=>getGasPriceForDisplay,getLatestBlock:()=>getLatestBlock,getLogs:()=>getLogs,getNonce:()=>getNonce,getRPCAlchemy:()=>getRPCAlchemy,getTransaction:()=>getTransaction,getTransactionReceipt:()=>getTransactionReceipt,weiToGwei:()=>weiToGwei});var o=i("./src/lib/managers/Logger.ts");var a=i("../../node_modules/.pnpm/alchemy-sdk@3.6.0_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/alchemy-sdk/dist/esm/index-643dc9bc.js");var l=i("./src/lib/managers/KeyManager.ts");var u=i("./src/lib/managers/providers/network/alchemy/RPCAlchemy.ts");var d=i("./src/lib/common/bignumber-ethereum.ts");async function getRPCAlchemy(e,t=""){let i=t;o.log.info("getRPCAlchemy",false,{chainId:e,apiKeyOverride:t});if(!i){try{const e=await(0,l.getKeyManager)();i=e.getKey("ALCHEMY_API_KEY_PROD")}catch(e){o.log.warn("Could not get API key from KeyManager, using fallback",false,e)}}if(!i){i="pBm4VA9q8Laz9x3bmXTNZ9m-ArxczEWk"||0||0}if(!i){o.log.warn("No API key available for Alchemy, using public endpoints")}o.log.info("getRPCAlchemy",false,{chainId:e,apiKey:i});const d={apiKey:i,network:e===1?a.N.ETH_MAINNET:e===11155111?a.N.ETH_SEPOLIA:a.N.ETH_MAINNET,maxRetries:3};return new u.RPCAlchemy(i)}function getProviderConfig(e,t){try{let i=a.N.ETH_SEPOLIA;switch(e){case"0xaa36a7":case 11155111:i=a.N.ETH_SEPOLIA;break;case"0x1":case"0x01":case 1:default:i=a.N.ETH_MAINNET;break}return{apiKey:t,network:i}}catch(e){o.log.warn("Warning in getProviderConfig",false,e);throw e}}async function estimateGas(e,t,i=""){try{const o=await getRPCAlchemy(e,i);return await o.estimateGas(t)}catch(e){o.log.warn("Warning in estimateGas",false,e);throw e}}async function getBlock(e,t,i=false,a=""){try{const i=await getRPCAlchemy(e,a);const o=await i.getBlock(t);return o}catch(e){o.log.warn("Warning in getBlock",false,e);throw e}}async function getLatestBlock(e,t=""){try{const i=await getRPCAlchemy(e,t);return await i.getBlock("latest")}catch(e){o.log.warn("Warning in getLatestBlock",false,e);throw e}}async function ethCall(e,t,i="latest",a=""){try{const o=await getRPCAlchemy(e,a);return await o.ethCall(t,i)}catch(e){o.log.warn("Warning in ethCall",false,e);throw e}}async function getGasPrice(e){try{const t=await getRPCAlchemy(e);return await t.getGasPrice()}catch(e){o.log.warn("Warning in getGasPrice",false,e);throw e}}function weiToGwei(e){return e.toGwei().toString()}function formatGasPrice(e){const t=weiToGwei(e);const i=parseFloat(t);if(i<1){return`${i.toFixed(3)} Gwei`}else if(i<10){return`${i.toFixed(2)} Gwei`}else if(i<100){return`${i.toFixed(1)} Gwei`}else{return`${Math.round(i)} Gwei`}}async function getGasPriceForDisplay(e){const t=await getGasPrice(e);return formatGasPrice(d.EthereumBigNumber.from(t))}async function getBalance(e,t,i="latest",a=""){try{const o=await getRPCAlchemy(e,a);return await o.getBalance(t,i)}catch(e){o.log.warn("Warning in getBalance",false,e);throw e}}async function getCode(e,t,i="latest",a=""){try{const o=await getRPCAlchemy(e,a);return await o.getCode(t,i)}catch(e){o.log.warn("Warning in getCode",false,e);throw e}}async function getNonce(e,t,i="latest",a=""){try{const o=await getRPCAlchemy(e,a);return await o.getNonce(t,i)}catch(e){o.log.warn("Warning in getNonce",false,e);throw e}}async function getTransactionReceipt(e,t,i=""){try{const o=await getRPCAlchemy(e,i);return await o.getTransactionReceipt(t)}catch(e){o.log.warn("Warning in getTransactionReceipt",false,e);throw e}}async function getTransaction(e,t,i=""){try{const o=await getRPCAlchemy(e,i);return await o.getTransaction(t)}catch(e){o.log.warn("Warning in getTransaction",false,e);throw e}}async function getLogs(e,t,i=""){try{const o=await getRPCAlchemy(e,i);return await o.getLogs(t)}catch(e){o.log.warn("Warning in getLogs",false,e);throw e}}},"./src/lib/extensions/chrome/messageAnalyzer.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{MessageAnalyzer:()=>MessageAnalyzer});var o=i("./src/lib/managers/Logger.ts");class MessageAnalyzer{patterns=new Map;analyze(e){const t=this.getMessagePattern(e);const i=this.patterns.get(t)||0;this.patterns.set(t,i+1);if(i===0){o.log.info("New message pattern detected:",false,{pattern:t,example:e})}}getMessagePattern(e){const t=Object.keys(e||{}).sort();const i=t.map(t=>`${t}:${typeof e[t]}`);return i.join(",")}reportPatterns(){o.log.info("Message patterns analysis:",false,{patterns:Array.from(this.patterns.entries()).sort((e,t)=>t[1]-e[1]).map(([e,t])=>({pattern:e,count:t}))})}}},"./src/lib/extensions/chrome/methodClassification.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getMethodCategory:()=>getMethodCategory,isReadMethod:()=>isReadMethod,isSimulationMethod:()=>isSimulationMethod,isWriteMethod:()=>isWriteMethod});function isReadMethod(e){const t=["eth_accounts","eth_getBalance","eth_getTransactionCount","eth_getCode","eth_getStorageAt","eth_blockNumber","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionReceipt","eth_gasPrice","eth_feeHistory","eth_maxPriorityFeePerGas","eth_mining","eth_hashrate","eth_getWork","net_version","net_listening","net_peerCount","web3_clientVersion","web3_sha3","eth_chainId","eth_syncing","eth_protocolVersion","eth_getLogs","eth_getFilterChanges","eth_getFilterLogs","eth_newFilter","eth_newBlockFilter","eth_newPendingTransactionFilter","eth_uninstallFilter","eth_getProof"];return t.includes(e)}function isWriteMethod(e){const t=["eth_sendTransaction","eth_sendRawTransaction","eth_sign","personal_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","personal_ecRecover","eth_requestAccounts","eth_coinbase","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_requestPermissions","wallet_getPermissions","wallet_revokePermissions","wallet_watchAsset","wallet_registerOnboarding","personal_listAccounts","personal_newAccount","personal_unlockAccount","personal_sendTransaction","personal_lockAccount","eth_submitWork","eth_submitHashrate"];return t.includes(e)}function isSimulationMethod(e){const t=["eth_estimateGas","eth_call","debug_traceCall","debug_traceTransaction","debug_traceBlockByNumber","debug_traceBlockByHash","eth_createAccessList"];return t.includes(e)}function getMethodCategory(e){if(isReadMethod(e))return"read";if(isWriteMethod(e))return"write";if(isSimulationMethod(e))return"simulation";return"unknown"}},"./src/lib/extensions/chrome/ports.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{PortManager:()=>PortManager,broadcastToPorts:()=>broadcastToPorts,mainPort:()=>v,onConnect:()=>onConnect,onDisconnect:()=>onDisconnect,portsDapp:()=>p,portsExternal:()=>g,portsInternal:()=>m});var o=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var a=i.n(o);var l=i("./src/lib/common/logger-wrapper.ts");var u=i("./src/lib/common/origin.ts");const d=a();const p=[];const m=[];const g=new Map;let v;class PortManager{port;name;constructor(e){this.name=e}async createPort(){if(this.port)return true;try{this.port=d.runtime.connect({name:this.name});this.port.onMessage.addListener(this.onMessageListener);this.port.onDisconnect.addListener(this.onDisconnectListener.bind(this));return true}catch(e){l.log.error("Failed to create port:",false,e);return false}}onMessageListener(e){try{if(window&&typeof window.postMessage==="function"){if(e.type==="YAKKL_RESPONSE"){post(e,(0,u.getTargetOrigin)())}}else{l.log.error("Window context invalid for postMessage",false,e)}}catch(t){l.log.error("Error processing message:",false,t);if(window&&typeof window.postMessage==="function"){post({id:e.id,method:e.method,error:t,type:"YAKKL_RESPONSE"},(0,u.getTargetOrigin)())}else{l.log.error("Window context invalid for postMessage",false,e)}}}async onDisconnectListener(){if(this.port){this.port.onMessage.removeListener(this.onMessageListener);this.port.onDisconnect.removeListener(this.onDisconnectListener.bind(this));this.port=undefined}await this.createPort()}getPort(){return this.port}getName(){return this.name}}function post(e,t){(0,u.safePostMessage)(e,t,{context:"ports"})}function onConnect(e){try{if(!e)throw"Port is undefined.";if(e.name==="main"){v=e}else if(e.name==="dapp"){p.push(e)}else if(e.name==="internal"){m.push(e)}else{throw`Unsupported port name: ${e.name}`}e.onDisconnect.addListener(()=>onDisconnect(e))}catch(e){l.log.error("Port connection error:",false,e)}}function onDisconnect(e){if(v===e)v=undefined}function broadcastToPorts(e,t){e.forEach(e=>e.postMessage(t))}},"./src/lib/extensions/chrome/requestManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{RequestManager:()=>RequestManager,requestManager:()=>a});var o=i("./src/lib/managers/Logger.ts");class RequestManager{static instance=null;requests=new Map;constructor(){}static getInstance(){if(!RequestManager.instance){RequestManager.instance=new RequestManager}return RequestManager.instance}addRequest(e,t){this.requests.set(e,t)}getRequest(e){return this.requests.get(e)}updateRequest(e,t){const i=this.requests.get(e);if(i){this.requests.set(e,{...i,...t})}}removeRequest(e){this.requests.delete(e)}hasRequest(e){return this.requests.has(e)}clearRequests(){this.requests.clear()}getActiveRequests(){return Array.from(this.requests.values())}}const a=RequestManager.getInstance()},"./src/lib/extensions/chrome/signingManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SigningManager:()=>SigningManager,getSigningManager:()=>getSigningManager});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/managers/KeyManager.ts");var l=i("./src/lib/managers/WalletManager.ts");var u=i("./src/lib/common/stores.ts");var d=i("./src/lib/common/index.ts");var p=i("./src/lib/common/backgroundStorage.ts");var m=i("./src/lib/common/listeners/background/unifiedMessageListener.ts");class SigningManager{static instance=null;keyManager;walletManager;currentlySelected;address=null;constructor(e){this.keyManager=e}static async getInstance(){if(!SigningManager.instance){const e=await a.KeyManager.getInstance();SigningManager.instance=new SigningManager(e);await SigningManager.instance.initialize()}return SigningManager.instance}async initialize(){try{this.currentlySelected=await(0,u.getYakklCurrentlySelected)();if(!this.currentlySelected){throw new Error("No currently selected account found")}const e=this.keyManager.getKey("ALCHEMY_API_KEY_PROD");if(!e){o.log.warn("API key not found in environment variables, using fallback")}o.log.info("SigningManager - initialize: 1",false,{apiKey:e});this.walletManager=l["default"].getInstance(["Alchemy"],["Ethereum"],this.currentlySelected.shortcuts.chainId??1,e||"");o.log.info("SigningManager - initialize: 2",false,{walletManager:this.walletManager})}catch(e){o.log.error("Error in SignManager initialize:",false,e);throw e}}getAddress(){return this.address}setAddress(e){this.address=e}getSigningAddress(e,t){o.log.info("SigningManager - getSigningAddress: 1",false,{method:e,params:t});switch(e){case"personal_sign":return t[1];case"eth_signTypedData_v4":return t[0];default:throw new Error(`Unsupported signing method: ${e}`)}}async handleSigningRequest(e,t,i,a){try{const l=await(0,p.getObjectFromLocalStorage)(d.STORAGE_YAKKL_ACCOUNTS);if(!l){throw new Error("No accounts found")}const u=this.getSigningAddress(t,i);if(!u){throw new Error("No signing address found in request")}const g=l.find(e=>e.address.toLowerCase()===u.toLowerCase());if(!g||!g.data){throw new Error("Account not found for signing address")}const v=await(0,m.decryptDataBackground)(g.data,a);o.log.info("SigningManager - handleSigningRequest: DECRYPT_DATA",false,{account:g,token:a,data:v});if(!v||!v.privateKey){throw new Error("No private key found for account")}this.setAddress(g.address);this.walletManager.setSigner(v.privateKey);let y;switch(t){case"personal_sign":y=await this.handlePersonalSign(g,i);break;case"eth_signTypedData_v4":y=await this.handleSignTypedData(g,i);break;default:throw new Error("Unsupported signing method")}o.log.info("SigningManager - handleSigningRequest: 7",false,{signedData:y});return{type:"YAKKL_RESPONSE:EIP6963",id:e,method:t,result:y}}catch(t){o.log.error("Error in handleSigningRequest:",false,{error:t});return this.errorResponse(e,t instanceof Error?t.message:"Unknown error occurred")}}errorResponse(e,t){return{type:"YAKKL_RESPONSE:EIP6963",id:e,error:{code:4001,message:t}}}async handlePersonalSign(e,t){try{const[i,a]=t;o.log.info("SigningManager - handlePersonalSign: 1",false,{message:i,address:a,account:e});if(!i||!a){throw new Error("Invalid parameters for personal_sign")}const l=this.walletManager.getBlockchain();o.log.info("SigningManager - handlePersonalSign: 2",false,{blockchain:l});const u=l.getSigner();if(!u){throw new Error("No signer available")}const d=await u.signMessage(i);o.log.info("SigningManager - handlePersonalSign: 3",false,{signedMessage:d});return d}catch(e){o.log.error("Error in handlePersonalSign:",false,{error:e});throw e}}async handleSignTypedData(e,t){try{const[i,a]=t;o.log.info("SigningManager - handleSignTypedData: 1",false,{address:i,typedData:a,account:e});if(!i||!a){throw new Error("Invalid parameters for eth_signTypedData_v4")}const l=this.walletManager.getBlockchain();o.log.info("SigningManager - handleSignTypedData: 2",false,{blockchain:l});const u=l.getSigner();if(!u){throw new Error("No signer available")}const{domain:d,types:p,message:m}=typeof a==="string"?JSON.parse(a):a;const g=await u.signTypedData(d,p,m);o.log.info("SigningManager - handleSignTypedData: 3",false,{signedMessage:g});return g}catch(e){o.log.error("Error in handleSignTypedData:",false,{error:e});throw e}}}const getSigningManager=()=>SigningManager.getInstance()},"./src/lib/extensions/chrome/storage.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{setLocalObjectStorage:()=>setLocalObjectStorage});var o=i("./src/lib/common/constants.ts");var a=i("./src/lib/common/storage.ts");var l=i("./src/lib/managers/Logger.ts");var u=i("./src/lib/upgrades/upgrades.ts");var d=i("../../node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js");async function setLocalObjectStorage(e,t=false){try{const i=await(0,a.getObjectFromLocalStorage)("settings");const l=i?.version??o.VERSION;if(t){(0,u.upgrade)(l,o.VERSION)}const p=await(0,a.getObjectFromLocalStorage)("preferences");if(i){i.previousVersion=i.version;i.version=o.VERSION;i.updateDate=(new Date).toISOString();i.upgradeDate=i.updateDate;i.lastAccessDate=i.updateDate;if(e!==null){const t=(0,d.detect)();i.platform.arch=e.arch;i.platform.os=e.os;i.platform.browser=t?.name??"";i.platform.browserVersion=t?.version??"";i.platform.platform=t?.type??""}await(0,a.setObjectInLocalStorage)("settings",i)}}catch(e){l.log.error("setLocalObjectStorage Error",false,e);throw e}}},"./src/lib/extensions/chrome/ui.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{openWindows:()=>g,showExtensionPopup:()=>showExtensionPopup,showPopup:()=>showPopup,updateScreenPreferences:()=>updateScreenPreferences});var o=i("./src/lib/common/constants.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/common/storage.ts");var d=i("./src/lib/managers/Logger.ts");var p=i("./src/lib/managers/SingletonWindowManager.ts");const m=l();const g=new Map;async function showExtensionPopup(e=428,t=926,i,a="0"){try{const l=await m.storage.local.get(o.STORAGE_YAKKL_PREFERENCES);const u=l["yakklPreferences"];let{left:p,top:g}=await m.windows.getCurrent();if(u&&u.wallet){e=u.wallet.popupWidth;t=u.wallet.popupHeight;const i=u.screenWidth;const o=u.screenHeight;try{if(u.wallet.pinned){switch(a==="0"||!a?u.wallet.pinnedLocation:a){case"TL":g=0;p=0;break;case"TR":g=0;p=i<=e?0:i-e;break;case"BL":g=o<=e?0:o-t;p=0;break;case"BR":g=o<=e?0:o-t;p=u.screenWidth-e;break;case"M":g=o<=t?0:o/2-t/2;p=i<=e?0:i/2-e/2;break;default:const a=u.wallet.pinnedLocation.split(",");if(a){p=parseInt(a[0])<=0?0:parseInt(a[0]);g=parseInt(a[1])<=0?0:parseInt(a[1])}else{p=0;g=0}break}}}catch(e){d.log.error(e);p=0;g=0}}else{g=0;p=0}return m.windows.create({url:`${m.runtime.getURL(i?i:"index.html")}`,type:"popup",left:p,top:g,width:e,height:t,focused:true})}catch(e){d.log.error(e);return Promise.reject()}}async function showPopup(e="",t="0"){try{const i=p.SingletonWindowManager.getInstance();await i.showPopup(e,t)}catch(e){d.log.error("Background - showPopup",false,e)}}async function updateScreenPreferences(e){if(typeof m==="undefined"){d.log.error("Browser extension API is not available.");return}try{const t=await(0,u.getObjectFromLocalStorage)("yakklPreferences");if(t){t.preferences.screenWidth=e.data.availWidth;t.preferences.screenHeight=e.data.availHeight;await(0,u.setObjectInLocalStorage)("preferences",t)}else{d.log.error("yakklPreferences not found.")}}catch(e){d.log.error("Error updating yakklPreferences:",false,e)}}},"./src/lib/extensions/chrome/unifiedMessageRouter.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{UnifiedPortAdapter:()=>UnifiedPortAdapter,createUnifiedPortConnection:()=>createUnifiedPortConnection,onDappListener_New:()=>onUnifiedMessageHandler,onEIP6963PortListener_New:()=>onUnifiedMessageHandler,onUnifiedMessageHandler:()=>onUnifiedMessageHandler});var o=i("./src/lib/extensions/chrome/eip-6963.ts");var a=i("./src/lib/extensions/chrome/dapp.ts");var l=i("./src/lib/common/listeners/ui/portListeners.ts");var u=i("./src/lib/managers/Logger.ts");var d=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var p=i.n(d);var m=i("./src/lib/common/constants.ts");async function onUnifiedMessageHandler(e,t){try{u.log.debug("Unified router received message",false,{method:e.method,action:e.action,type:e.type,id:e.id});const i=determineHandler(e);switch(i){case"web3":return(0,o.onEIP6963PortListener)(e,t);case"internal":return(0,l.onPortInternalListener)(e,t);case"dapp":default:return(0,a.onDappListener)(e,t)}}catch(t){u.log.error("Error in unified message handler",false,{error:t,message:e});throw t}}function determineHandler(e){if(e.method&&isWeb3Method(e.method)){return"web3"}if(e.action&&isInternalAction(e.action)){return"internal"}if(e.type&&e.type.includes("EIP6963")){return"web3"}return"dapp"}function isWeb3Method(e){const t=["eth_accounts","eth_requestAccounts","eth_coinbase","eth_sendTransaction","eth_estimateGas","eth_gasPrice","eth_getTransactionCount","eth_getTransactionByHash","eth_getTransactionReceipt","eth_blockNumber","eth_getBlockByHash","eth_getBlockByNumber","eth_chainId","net_version","net_listening","net_peerCount","web3_clientVersion","eth_sign","personal_sign","eth_signTypedData_v4","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_requestPermissions","wallet_getPermissions","wallet_revokePermissions","wallet_watchAsset","eth_getBalance","eth_getCode","eth_getStorageAt","eth_getLogs","eth_protocolVersion","eth_syncing"];return t.includes(e)||e.startsWith("eth_")||e.startsWith("wallet_")||e.startsWith("net_")||e.startsWith("web3_")}function isInternalAction(e){const t=["resolveRequest","rejectRequest","resolve","reject","connect","disconnect"];return t.includes(e)}function createUnifiedPortConnection(e){return e||"YAKKL_DAPP"}class UnifiedPortAdapter{port;constructor(e=m.YAKKL_DAPP){this.port=p().runtime.connect({name:e});this.port.onMessage.addListener(e=>{this.handleMessage(e)})}handleMessage(e){}sendMessage(e){this.port.postMessage(e)}disconnect(){this.port.disconnect()}}},"./src/lib/extensions/chrome/verifyDomainConnected.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAddressesForDomain:()=>getAddressesForDomain,getDomainForRequestId:()=>getDomainForRequestId,revokeDomainConnection:()=>revokeDomainConnection,verifyDomainConnected:()=>verifyDomainConnected,verifyDomainConnectedBackground:()=>verifyDomainConnectedBackground});var o=i("./src/lib/extensions/chrome/requestManager.ts");var a=i("./src/lib/managers/Logger.ts");var l=i("./src/lib/common/storage.ts");var u=i("./src/lib/common/constants.ts");async function verifyDomainConnected(e,t){try{if(!e){a.log.warn("verifyDomainConnected: Domain is null",false);return false}if(t==="eth_accounts"){const t=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(!t){a.log.debug("verifyDomainConnected: No connected domains found",false);return false}const i=t.find(t=>t.domain===e);if(!i){a.log.debug("verifyDomainConnected: Domain not found in connected domains",false,{domain:e});return false}if(i.status!=="approved"){a.log.debug("verifyDomainConnected: Domain not approved",false,{domain:e,status:i.status});return false}return true}const i=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(!i){a.log.debug("verifyDomainConnected: No connected domains found",false);return false}const o=i.some(t=>t.domain===e);a.log.debug("verifyDomainConnected: Domain check result",false,{domain:e,exists:o});return o}catch(e){a.log.error("Error in verifyDomainConnected:",false,e);return false}}function verifyDomainConnectedBackground(e){try{const t=o.requestManager.getRequest(e);if(!t){return false}const i=t.data.metaData.metaData.domain;if(!i){return false}return verifyDomainConnected(i)}catch(e){a.log.error(e);return false}}async function revokeDomainConnection(e){try{const t=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(t){const i=t.findIndex(t=>t.domain===e);if(i!==-1){t.splice(i,1);await(0,l.setObjectInLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS,t)}}const i=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_ACCOUNTS);if(i){let t=false;i.forEach(i=>{if(Array.isArray(i.connectedDomains)){const o=i.connectedDomains.indexOf(e);if(o!==-1){i.connectedDomains.splice(o,1);t=true}}});if(t){await(0,l.setObjectInLocalStorage)(u.STORAGE_YAKKL_ACCOUNTS,i);a.log.info("Removed domain from accounts:",false,{domain:e,accounts:i})}}}catch(e){a.log.error("Error in revokeDomainConnection:",false,e)}}async function getAddressesForDomain(e){const t=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(t){const i=t.findIndex(t=>t.domain===e);if(i!==-1){return t[i].addresses}}return[]}async function getDomainForRequestId(e){const t=o.requestManager.getRequest(e);if(!t){return null}return t.data.metaData.metaData.domain}},"./src/lib/extensions/chrome/verifyDomainConnectedBackground.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAddressesForDomain:()=>getAddressesForDomain,getDomainForRequestId:()=>getDomainForRequestId,revokeDomainConnection:()=>revokeDomainConnection,verifyDomainConnected:()=>verifyDomainConnected,verifyDomainConnectedBackground:()=>verifyDomainConnectedBackground});var o=i("./src/lib/extensions/chrome/requestManager.ts");var a=i("./src/lib/managers/Logger.ts");var l=i("./src/lib/common/backgroundStorage.ts");var u=i("./src/lib/common/constants.ts");async function verifyDomainConnected(e,t){try{if(!e){a.log.warn("verifyDomainConnected: Domain is null",false);return false}if(t==="eth_accounts"){const t=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(!t){a.log.debug("verifyDomainConnected: No connected domains found",false);return false}const i=t.find(t=>t.domain===e);if(!i){a.log.debug("verifyDomainConnected: Domain not found in connected domains",false,{domain:e});return false}if(i.status!=="approved"){a.log.debug("verifyDomainConnected: Domain not approved",false,{domain:e,status:i.status});return false}return true}const i=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(!i){a.log.debug("verifyDomainConnected: No connected domains found",false);return false}const o=i.some(t=>t.domain===e);a.log.debug("verifyDomainConnected: Domain check result",false,{domain:e,exists:o});return o}catch(e){a.log.error("Error in verifyDomainConnected:",false,e);return false}}function verifyDomainConnectedBackground(e){try{const t=o.requestManager.getRequest(e);if(!t){return false}const i=t.data.metaData.metaData.domain;if(!i){return false}return verifyDomainConnected(i)}catch(e){a.log.error(e);return false}}async function revokeDomainConnection(e){try{const t=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(t){const i=t.findIndex(t=>t.domain===e);if(i!==-1){t.splice(i,1);await(0,l.setObjectInLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS,t)}}const i=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_ACCOUNTS);if(i){let t=false;i.forEach(i=>{if(Array.isArray(i.connectedDomains)){const o=i.connectedDomains.indexOf(e);if(o!==-1){i.connectedDomains.splice(o,1);t=true}}});if(t){await(0,l.setObjectInLocalStorage)(u.STORAGE_YAKKL_ACCOUNTS,i);a.log.info("Removed domain from accounts:",false,{domain:e,accounts:i})}}}catch(e){a.log.error("Error in revokeDomainConnection:",false,e)}}async function getAddressesForDomain(e){const t=await(0,l.getObjectFromLocalStorage)(u.STORAGE_YAKKL_CONNECTED_DOMAINS);if(t){const i=t.findIndex(t=>t.domain===e);if(i!==-1){return t[i].addresses}}return[]}async function getDomainForRequestId(e){const t=o.requestManager.getRequest(e);if(!t){return null}return t.data.metaData.metaData.domain}},"./src/lib/managers/AnalyticsBase.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AnalyticsBase:()=>AnalyticsBase,Web3Provider:()=>o});var o;(function(e){e["ALCHEMY"]="alchemy";e["INFURA"]="infura";e["CLOUDFLARE"]="cloudflare";e["QUICKNODE"]="quicknode";e["CUSTOM"]="custom"})(o||(o={}));class AnalyticsBase{networkInfo;provider;constructor(e,t,i,o){this.provider=e;this.networkInfo={provider:t,chainId:i,networkName:o}}}},"./src/lib/managers/BackgroundManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BackgroundManager:()=>BackgroundManager,ConnectionType:()=>l,backgroundManager:()=>u});var o=i("./src/lib/common/environment.ts");var a=i("./src/lib/common/logger-wrapper.ts");var l;(function(e){e["UI"]="ui-connection";e["POPUP"]="popup-connection";e["CONTENT"]="content-connection"})(l||(l={}));class BackgroundManager{static instance=null;connections;messageQueue;MAX_QUEUE_SIZE=100;STORAGE_PREFIX="bg_msg_";initialized=false;constructor(){this.connections=new Map;this.messageQueue=[];this.initialize().catch(e=>{a.log.error("Failed to initialize BackgroundManager:",false,e)})}static getInstance(){if(!BackgroundManager.instance){BackgroundManager.instance=new BackgroundManager}return BackgroundManager.instance}async initialize(){if(!o.browser_ext)return;if(this.initialized)return;try{o.browser_ext.runtime.onConnect.addListener(e=>{if(this.isValidConnectionType(e.name)){this.handleNewConnection(e)}});await this.restoreQueuedMessages();this.initialized=true}catch(e){a.log.error("BackgroundManager initialization failed:",false,e);throw e}}isValidConnectionType(e){return Object.values(l).includes(e)}handleNewConnection(e){try{const t={type:e.name,port:e,connectedAt:Date.now()};this.connections.set(e.name,t);e.onDisconnect.addListener(()=>{this.handleDisconnection(e)});this.processQueuedMessages().catch(e=>{a.log.error("Failed to process queued messages:",false,e)})}catch(e){a.log.error("Error handling new connection:",false,e)}}handleDisconnection(e){try{this.connections.delete(e.name)}catch(e){a.log.error("Error handling disconnection:",false,e)}}hasConnections(){return this.connections.size>0}hasUIConnection(){return this.connections.has(l.UI)}getConnectionInfo(e){return this.connections.get(e)}async sendMessage(e,t){try{if(!this.hasConnections()){await this.handleNoConnections(e,t);return}const i={type:e,data:t};const o=[];this.connections.forEach(({port:e})=>{o.push(new Promise((t,o)=>{try{e.postMessage(i);t()}catch(e){o(e)}}))});await Promise.allSettled(o)}catch(i){a.log.error("Failed to send message:",false,i);await this.handleMessageError(e,t,i)}}async handleNoConnections(e,t){try{await Promise.all([this.queueMessage(e,t),this.saveToStorage(e,t)])}catch(e){a.log.error("Failed to handle no connections case:",false,e)}}async handleMessageError(e,t,i){try{await this.queueMessage(e,t);a.log.error("Message queued due to error:",false,{type:e,error:i})}catch(e){a.log.error("Failed to queue message after error:",false,e)}}async queueMessage(e,t){const i={type:e,data:t,timestamp:Date.now()};this.messageQueue.push(i);if(this.messageQueue.length>this.MAX_QUEUE_SIZE){this.messageQueue.shift()}await this.persistQueue()}async persistQueue(){if(!o.browser_ext)return;try{await o.browser_ext.storage.local.set({[`${this.STORAGE_PREFIX}queue`]:this.messageQueue})}catch(e){a.log.error("Failed to persist message queue:",false,e)}}async restoreQueuedMessages(){if(!o.browser_ext)return;try{const e=await o.browser_ext.storage.local.get(`${this.STORAGE_PREFIX}queue`);const t=e[`${this.STORAGE_PREFIX}queue`];if(Array.isArray(t)){this.messageQueue=t.filter(e=>typeof e==="object"&&e!==null&&"type"in e&&"data"in e&&"timestamp"in e&&typeof e.type==="string"&&typeof e.timestamp==="number")}else{this.messageQueue=[];a.log.debug("No valid queued messages found in storage")}}catch(e){a.log.error("Failed to restore queued messages:",false,e);this.messageQueue=[]}}async saveToStorage(e,t){if(!o.browser_ext)return;try{await o.browser_ext.storage.local.set({[`${this.STORAGE_PREFIX}${e}`]:{data:t,timestamp:Date.now()}})}catch(e){a.log.error("Failed to save to storage:",false,e)}}async processQueuedMessages(){if(!this.hasConnections()){return}try{const e=[...this.messageQueue];this.messageQueue=[];for(const t of e){await this.sendMessage(t.type,t.data)}await this.persistQueue()}catch(e){a.log.error("Failed to process queued messages:",false,e)}}async clearQueue(){try{this.messageQueue=[];await this.persistQueue()}catch(e){a.log.error("Failed to clear message queue:",false,e)}}getQueueSize(){return this.messageQueue.length}isInitialized(){return this.initialized}}const u=BackgroundManager.getInstance()},"./src/lib/managers/Blockchain.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbstractBlockchain:()=>AbstractBlockchain});var o=i("./src/lib/managers/FeeManager.ts");var a=i("./src/lib/managers/providers/fees/ethereum/EthereumGasProvider.ts");var l=i("./src/lib/common/index.ts");var u=i("./src/lib/managers/providers/price/coinbase/CoinbasePriceProvider.ts");var d=i("./src/lib/managers/Logger.ts");var p=i("./src/lib/managers/GasProviderFactory.ts");class AbstractBlockchain{provider;providers=[];chainId;networks=[];network;symbol;icon;name;options;feeManager;constructor(e,t,i,a,l,u,p={}){this.name=e;this.providers=i;if(i.length===0)throw new Error("Providers list cannot be empty");this.chainId=t;this.networks=a;this.options=p;this.symbol=l;this.icon=u;this.network=this.getNetwork();if(!this.isNetworkAndChainIdValid(t))throw new Error("Unsupported network and chain. Please check the chain ID and/or networks");if(!this.providers||this.providers.length===0)throw new Error("Providers list cannot be empty");this.provider=i[0];this.feeManager=new o.BaseFeeManager;this.initializeBlockchain().catch(e=>{d.log.error("Failed to initialize blockchain:",false,e)})}async initializeBlockchain(){try{if(!this.provider){throw new Error("Provider not initialized")}const e=await a.EthereumGasProvider.create(this.provider,this,new u.CoinbasePriceProvider);await this.feeManager.addProvider(e)}catch(e){d.log.error("Failed to initialize blockchain:",false,false,e)}}async isInitialized(){try{const e=this.feeManager.getProviders();return e.length>0}catch{return false}}async ensureInitialized(){const e=this.feeManager.getProviders();if(!this.feeManager||e.length===0){throw new Error("Blockchain not properly initialized")}}async getGasEstimate(e){if(!await this.isInitialized()){throw new Error("Gas provider not initialized")}return this.feeManager.getGasEstimate(e)}async getHistoricalGasData(e){if(!this.feeManager||!e)throw new Error("Fee manager or duration not set");return await this.feeManager.getHistoricalGasData(e)}async predictFutureFees(e){if(!this.feeManager||!e)throw new Error("Fee manager or duration not set");return await this.feeManager.predictFutureFees(e)}async call(e,t){if(!e)throw new Error("Transaction not set");try{return await this.provider.call(e,t)}catch(e){throw new Error(`Error calling - call: ${e}`)}}connect(e,t){if(!this.providers||!this.providers.includes(e))throw new Error("Provider(s) not supported");if(!this.isNetworkAndChainIdValid(t))throw new Error("Unsupported network and chain");this.provider=e;this.chainId=t}getBlockchainName(){return this.name}getChainId(){return this.chainId}getNetwork(){this.network=this.networks.find(e=>e.chainId===this.chainId)||this.networks[0];return this.network}getNetworkByChainId(e){if(!e)throw new Error("Chain ID not set");if(!this.isNetworkAndChainIdValid(e))throw new Error("Unsupported network and chain");return this.networks.find(t=>t.chainId===e)||this.networks[0]}getIcon(){return this.icon}getNetworks(){d.log.info("Blockchain networks",false,this.networks);return this.networks}getSymbol(){return this.symbol}async setChainId(e){if(!e)throw new Error("Chain ID not set");if(!this.isNetworkAndChainIdValid(e))throw new Error("Unsupported network and chain");if(this.chainId===e){return}if(e<=0){throw new Error("Invalid chain ID")}if(this.provider.getChainIds()&&!this.provider.getChainIds().includes(e)){throw new Error("Provider does not support chain ID")}if(this.networks.find(t=>t.chainId===e)===undefined){throw new Error("Blockchain does not support chain ID")}this.network=this.getNetworkByChainId(e);this.chainId=e}setNetwork(e){if(!e)throw new Error("Network not set");try{if(!this.networks.includes(e)){return this.network}const t=this.network;this.network=e;return t}catch(e){throw new Error(`Error calling - switchNetwork: ${e}`)}}setNetworkByChainId(e){if(!e)throw new Error("Chain ID not set");try{const t=this.getNetworkByChainId(e);return this.setNetwork(t)}catch(e){throw new Error(`Error calling - switchNetwork: ${e}`)}}async getBalance(e){try{if(!e)return 0n;return await this.provider.getBalance(e)}catch(e){throw new Error(`Error calling - getBalance: ${e}`)}}getOptions(e){if(!e)throw new Error("Blockchain not set");return this.options[e]}getProvider(){return this.provider}getSigner(){return this.provider.getSigner()}getSignerNative(){return this.provider.getSignerNative()}getProviders(){return this.providers}getProviderList(){return this.providers.map(e=>e.name)}isNetworkAndChainIdValid(e){if(!e)throw new Error("Chain ID not set");return this.networks.find(t=>t.chainId===e)!==undefined}isSmartContractSupported(){return false}async request(e,t){try{return await this.provider.request(e,t)}catch(t){throw new Error(`Error calling - request - ${e}: ${t}`)}}async sendRawTransaction(e){try{return await this.provider.sendRawTransaction(e)}catch(e){throw new Error(`Error calling - sendTransaction: ${e}`)}}setProvider(e,t){if(!this.providers.includes(e)){throw new Error("Provider not supported")}this.provider=e;this.chainId=t}_updateOptions(e,t=false){if(t){this.options=e}else{this.options={...this.options,...e}}}}},"./src/lib/managers/BlockchainFactory.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("./src/lib/managers/blockchains/evm/ethereum/Ethereum.ts");class BlockchainFactory{static createBlockchain(e,t){switch(e){case"Ethereum":return new o.Ethereum(t);default:throw new Error(`Unsupported blockchain: ${e}`)}}}const a=BlockchainFactory},"./src/lib/managers/Contract.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbstractContract:()=>AbstractContract});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/managers/Signer.ts");class AbstractContract{address;abi;provider;constructor(e,t,i){if(!e||!t||!i)throw new Error("Invalid parameters");this.address=e;this.abi=t;this.provider=i}isSigner(e){if(!e)return false;return"signMessage"in e&&typeof e.signMessage==="function"}}},"./src/lib/managers/DAppPopupManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{DAppPopupManager:()=>DAppPopupManager,getDAppPopupManager:()=>getDAppPopupManager,showDappPopup:()=>showDappPopup,showPopupForMethod:()=>showPopupForMethod});var o=i("./src/lib/common/logger-wrapper.ts");var a=i("./src/lib/common/notifications.ts");var l=i("./src/lib/extensions/chrome/ui.ts");var u=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var d=i.n(u);const p=d();class DAppPopupManager{static instance=null;initialized=false;activePopup=null;requestQueue=[];notificationId=null;requestsMap=new Map;config={maxQueueSize:10,notificationEnabled:true,popupWidth:428,popupHeight:620,queueProcessingInterval:1e3,maxRequestAge:36e5,notificationTimeout:15e3};queueTimer=null;static getInstance(){if(!DAppPopupManager.instance){DAppPopupManager.instance=new DAppPopupManager}return DAppPopupManager.instance}constructor(){}async init(){if(this.initialized)return;try{if(!p){console.warn("Browser API not available, DAppPopupManager initialization delayed");return}p.windows.onRemoved.addListener(e=>{this.handleWindowClosed(e)});this.queueTimer=setInterval(()=>this.processQueue(),this.config.queueProcessingInterval);setInterval(()=>{const e=Date.now()-this.config.maxRequestAge;this.requestQueue=this.requestQueue.filter(t=>{if(t.createdAt<e){t.reject(new Error("Request expired while waiting in queue"));return false}return true});for(const[t,i]of this.requestsMap.entries()){if(i.createdAt<e){this.requestsMap.delete(t)}}},6e4);this.initialized=true;o.log.info("[DAppPopupManager] Initialized",false)}catch(e){console.error("Failed to initialize DAppPopupManager:",e)}}configure(e){this.config={...this.config,...e}}handleWindowClosed(e){if(this.activePopup&&this.activePopup.windowId===e){o.log.info("[DAppPopupManager] Active popup closed",false,{requestId:this.activePopup.requestId,method:this.activePopup.method});const e=this.requestsMap.get(this.activePopup.requestId);if(e){this.requestsMap.set(this.activePopup.requestId,{...e,status:"completed"})}this.activePopup=null;this.clearNotification();setTimeout(()=>this.processQueue(),500)}}async processQueue(){if(this.activePopup||this.requestQueue.length===0){return}const e=this.requestQueue.shift();if(!e)return;try{o.log.info("[DAppPopupManager] Processing queued request",false,{requestId:e.requestId,method:e.method,queueRemaining:this.requestQueue.length});this.requestsMap.set(e.requestId,{method:e.method,createdAt:e.createdAt,status:"active",originTabId:e.originTabId,originWindowId:e.originWindowId});const t=await(0,l.showExtensionPopup)(this.config.popupWidth,this.config.popupHeight,e.request,e.pinnedLocation);this.activePopup={requestId:e.requestId,windowId:t.id,method:e.method,createdAt:Date.now()};if(p?.windows){await p.windows.update(t.id,{focused:true,drawAttention:true})}e.resolve(true)}catch(t){o.log.error("[DAppPopupManager] Failed to process queued request",false,{requestId:e.requestId,error:t});this.requestsMap.set(e.requestId,{method:e.method,createdAt:e.createdAt,status:"cancelled",originTabId:e.originTabId,originWindowId:e.originWindowId});e.reject(t);setTimeout(()=>this.processQueue(),500)}}async showNotification(e){if(!this.config.notificationEnabled){return}try{const t=e===1?"1 DApp request is waiting for your attention":`${e} DApp requests are waiting for your attention`;this.notificationId=await(0,a.sendNotificationMessage)("YAKKL Smart Wallet",t)}catch(e){console.warn("Notification attempt failed:",e)}}clearNotification(){if(!this.notificationId)return;try{p.notifications.clear(this.notificationId).catch(()=>{})}catch(e){}this.notificationId=null}hasActivePopup(){return this.activePopup!==null}getActiveRequestId(){return this.activePopup?.requestId||null}getQueueStatus(){let e=null;if(this.requestQueue.length>0){e=Math.min(...this.requestQueue.map(e=>e.createdAt))}return{activePopup:this.activePopup!==null,queueSize:this.requestQueue.length,oldestQueuedRequest:e}}async closeActivePopup(){if(!this.activePopup||!p?.windows){return false}try{await p.windows.remove(this.activePopup.windowId);this.activePopup=null;return true}catch(e){console.error("Failed to close active popup:",e);return false}}clearQueue(){for(const e of this.requestQueue){e.reject(new Error("Queue cleared by application"))}this.requestQueue=[]}markRequestComplete(e,t){const i=this.requestsMap.get(e);if(i){this.requestsMap.set(e,{...i,status:"completed",result:t})}if(this.activePopup?.requestId===e){this.closeActivePopup().catch(()=>{})}}async showDappPopup(e,t,i="",a="M",l){try{await this.init();const u=l?.tabId;const d=l?.windowId;if(this.requestsMap.has(t)){const e=this.requestsMap.get(t);if(e?.status==="pending"||e?.status==="active"){o.log.warn("[DAppPopupManager] Duplicate request rejected",false,{requestId:t,method:i});return false}}const p=this.findSameDappPendingRequest(i,u,d);if(p){o.log.info("[DAppPopupManager] Similar request from same DApp already in queue",false,{requestId:t,existingRequestId:p.requestId,method:i});if(this.isCommonReadMethod(i)){this.requestsMap.set(t,{method:i,createdAt:Date.now(),status:"pending",originTabId:u,originWindowId:d,linkedRequest:p.requestId});return new Promise(e=>{const i=setInterval(()=>{const o=this.requestsMap.get(p.requestId);if(o?.status==="completed"){clearInterval(i);this.requestsMap.set(t,{...o,status:"completed"});e(true)}else if(o?.status==="cancelled"){clearInterval(i);this.requestsMap.set(t,{...o,status:"cancelled"});e(false)}},200)})}}this.requestsMap.set(t,{method:i,createdAt:Date.now(),status:"pending",originTabId:l?.tabId,originWindowId:l?.windowId});return new Promise((u,d)=>{if(this.requestQueue.length>=this.config.maxQueueSize){this.requestsMap.set(t,{method:i,createdAt:Date.now(),status:"cancelled",originTabId:l?.tabId,originWindowId:l?.windowId});d(new Error("Too many pending requests, try again later"));return}this.requestQueue.push({requestId:t,request:e,method:i,pinnedLocation:a,createdAt:Date.now(),originTabId:l?.tabId,originWindowId:l?.windowId,resolve:u,reject:d});if(this.activePopup&&this.requestQueue.length>0){this.showNotification(this.requestQueue.length)}if(!this.activePopup){this.processQueue()}else{o.log.info("[DAppPopupManager] Request queued, waiting for active popup to close",false,{requestId:t,activePopupId:this.activePopup.requestId,queuePosition:this.requestQueue.length})}})}catch(e){o.log.error("[DAppPopupManager] Failed to handle popup request",false,{requestId:t,method:i,error:e});this.requestsMap.set(t,{method:i,createdAt:Date.now(),status:"cancelled",originTabId:l?.tabId,originWindowId:l?.windowId});return false}}async showPopupForMethod(e,t,i="M",o){const a=`/dapp/popups/approve.html?requestId=${t}&source=eip6963&method=${e}`;return this.showDappPopup(a,t,e,i,o)}findSameDappPendingRequest(e,t,i){if(!t&&!i){return null}for(const e of this.requestQueue){if(i&&e.originWindowId===i){return{requestId:e.requestId}}if(t&&e.originTabId===t){return{requestId:e.requestId}}}if(this.activePopup?.method===e){const e=this.requestsMap.get(this.activePopup.requestId);if(i&&e?.originWindowId===i||t&&e?.originTabId===t){return{requestId:this.activePopup.requestId}}}return null}isCommonReadMethod(e){const t=["eth_requestAccounts","eth_accounts","wallet_getPermissions","web3_clientVersion","eth_chainId","net_version"];return t.includes(e)}findAnySamePendingMethod(e){for(const t of this.requestQueue){if(t.method===e){return{requestId:t.requestId}}}if(this.activePopup?.method===e){return{requestId:this.activePopup.requestId}}return null}showDuplicateRequestWarning(e){try{(0,a.sendNotificationMessage)("Request in Progress",`A ${e} request from this DApp is already being processed. Please complete that request first.`);return}catch(e){console.warn("Failed to show duplicate request warning:",e)}}showMaxQueueWarning(){try{(0,a.sendNotificationMessage)("Too Many Requests","There are too many pending DApp requests. Please complete some existing requests first.");return}catch(e){console.warn("Failed to show max queue warning:",e)}}getDebugData(){const e={activePopup:this.activePopup,queueSize:this.requestQueue.length,queuedRequests:this.requestQueue.map(e=>({requestId:e.requestId,method:e.method,age:Math.round((Date.now()-e.createdAt)/1e3)+"s"})),requests:{}};for(const[t,i]of this.requestsMap.entries()){e.requests[t]={...i,age:Math.round((Date.now()-i.createdAt)/1e3)+"s"}}return e}}function getDAppPopupManager(){return DAppPopupManager.getInstance()}async function showDappPopup(e,t,i="",o="M"){return getDAppPopupManager().showDappPopup(e,t,i,o)}async function showPopupForMethod(e,t,i="M"){return getDAppPopupManager().showPopupForMethod(e,t,i)}},"./src/lib/managers/Errors.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ApiError:()=>ApiError,LoggerError:()=>LoggerError});class ApiError extends Error{statusCode;details;constructor(e,t,i){super(e);this.name="ApiError";this.statusCode=t;this.details=i}}class LoggerError extends Error{details=undefined;constructor(e="",t="LoggerError",i){super(e);this.name=t;this.details=i}}},"./src/lib/managers/EventManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});class EventManager{eventListeners=new Map;on(e,t){if(!this.eventListeners.has(e)){this.eventListeners.set(e,new Set)}this.eventListeners.get(e).add(t);return this}once(e,t){const onceWrapper=(...i)=>{this.off(e,onceWrapper);t(...i)};return this.on(e,onceWrapper)}emit(e,...t){if(!this.eventListeners.has(e))return false;this.eventListeners.get(e).forEach(e=>e(...t));return true}listenerCount(e){if(e===undefined){return Array.from(this.eventListeners.values()).reduce((e,t)=>e+t.size,0)}return this.eventListeners.get(e)?.size||0}listeners(e){if(e===undefined){return Array.from(this.eventListeners.values()).flatMap(e=>Array.from(e))}return Array.from(this.eventListeners.get(e)||[])}off(e,t){if(!this.eventListeners.has(e))return this;if(t){this.eventListeners.get(e).delete(t)}else{this.eventListeners.delete(e)}return this}removeAllListeners(e){if(e===undefined){this.eventListeners.clear()}else{this.eventListeners.delete(e)}return this}}const o=new EventManager;const a=o},"./src/lib/managers/FeeManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{BaseFeeManager:()=>BaseFeeManager});var o=i("./src/lib/common/bignumber.ts");class BaseFeeManager{providers;initializationPromise;constructor(){this.providers=new Map;this.initializationPromise=Promise.resolve()}async addProvider(e){const t=await e;this.providers.set(t.getName(),t)}removeProvider(e){this.providers.delete(e)}getProviders(){return Array.from(this.providers.keys())}async getGasEstimate(e){await this.initializationPromise;if(this.providers.size===0){throw new Error("No gas providers available")}const t=await Promise.all(Array.from(this.providers.values()).map(async t=>t.getGasEstimate(e).catch(e=>{console.log(`Failed to get gas estimate from ${t.getName()}:`,false,e);return null}))).then(e=>e.filter(e=>e!==null));const i=t.map(e=>o.BigNumber.from(e.gasLimit)).sort((e,t)=>e.compare(t));const a=t.map(e=>o.BigNumber.from(e.feeEstimate.baseFee)).sort((e,t)=>e.compare(t));const l=t.map(e=>o.BigNumber.from(e.feeEstimate.priorityFee)).sort((e,t)=>e.compare(t));const u=i[Math.floor(i.length/2)];const d=a[Math.floor(a.length/2)];const p=l[Math.floor(l.length/2)];const m={baseFee:d.toString(),priorityFee:p.toString(),totalFee:d.add(p).toString()};return{gasLimit:u.toString(),feeEstimate:m}}async getHistoricalGasData(e){if(this.providers.size===0){throw new Error("No gas providers available")}const t=await Promise.all(Array.from(this.providers.values()).map(t=>t.getHistoricalGasData(e)));const i=new Map;t.flat().forEach(e=>{if(!i.has(e.timestamp)){i.set(e.timestamp,{...e,count:1})}else{const t=i.get(e.timestamp);t.baseFee=o.BigNumber.from(t.baseFee).add(o.BigNumber.from(e.baseFee)).toString();t.priorityFee=o.BigNumber.from(t.priorityFee).add(o.BigNumber.from(e.priorityFee)).toString();t.count++}});return Array.from(i.values()).map(e=>({timestamp:e.timestamp,baseFee:o.BigNumber.from(e.baseFee).div(o.BigNumber.from(e.count)).toString(),priorityFee:o.BigNumber.from(e.priorityFee).div(o.BigNumber.from(e.count)).toString()}))}async predictFutureFees(e){if(this.providers.size===0){throw new Error("No gas providers available")}const t=await Promise.all(Array.from(this.providers.values()).map(t=>t.predictFutureFees(e)));const i=new Map;t.flat().forEach(e=>{if(!i.has(e.timestamp)){i.set(e.timestamp,{...e,count:1})}else{const t=i.get(e.timestamp);t.estimatedBaseFee=o.BigNumber.from(t.estimatedBaseFee).add(o.BigNumber.from(e.estimatedBaseFee)).toString();t.estimatedPriorityFee=o.BigNumber.from(t.estimatedPriorityFee).add(o.BigNumber.from(e.estimatedPriorityFee)).toString();t.count++}});return Array.from(i.values()).map(e=>({timestamp:e.timestamp,estimatedBaseFee:o.BigNumber.from(e.estimatedBaseFee).div(o.BigNumber.from(e.count)).toString(),estimatedPriorityFee:o.BigNumber.from(e.estimatedPriorityFee).div(o.BigNumber.from(e.count)).toString()}))}setPriorityOrder(e){const t=new Map;e.forEach(e=>{if(this.providers.has(e)){t.set(e,this.providers.get(e))}});this.providers=t}setDefaultProvider(e){if(this.providers.has(e)){const t=this.providers.get(e);this.providers.delete(e);this.providers=new Map([[e,t],...this.providers])}}}},"./src/lib/managers/GasProviderFactory.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{GasProviderFactory:()=>GasProviderFactory});var o=i("./src/lib/managers/providers/fees/ethereum/EthereumGasProvider.ts");class GasProviderFactory{static async createProviders(e,t,i){return[await o.EthereumGasProvider.create(e,t,i)]}}},"./src/lib/managers/GlobalListenerManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{GlobalListenerManager:()=>GlobalListenerManager,globalListenerManager:()=>l});var o=i("./src/lib/managers/ListenerManager.ts");var a=i("./src/lib/managers/Logger.ts");class GlobalListenerManager{contextManagers=new Map;hasContext(e){return this.contextManagers.has(e)}registerContext(e,t){if(!this.contextManagers.has(e)){this.contextManagers.set(e,t)}else{a.log.warn(`ListenerManager for context "${e}" is already registered.`)}}addListener(e,t,i){const o=this.contextManagers.get(e);if(o){o.add(t,i)}else{a.log.error(`ListenerManager for context "${e}" is not registered.`)}}removeListener(e,t,i){const o=this.contextManagers.get(e);if(o){o.remove(t,i)}else{a.log.error(`ListenerManager for context "${e}" is not registered.`)}}removeAllFromContext(e){const t=this.contextManagers.get(e);if(t){t.removeAll()}else{a.log.error(`ListenerManager for context "${e}" is not registered.`)}}removeAll(){this.contextManagers.forEach((e,t)=>{e.removeAll()})}}const l=new GlobalListenerManager},"./src/lib/managers/KeyManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{KeyManager:()=>KeyManager,getKeyManager:()=>getKeyManager});var o=i("./src/lib/managers/Logger.ts");var a=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var l=i.n(a);var u=i("./src/lib/common/utils.ts");var d=i("./src/config/keys.json");var p=i("./src/lib/common/backgroundUtils.ts");var m=i("./src/lib/common/contextCheck.ts");var g=i("../../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const v="yakkl_v2_";const y=6e5;const _=5;const w=3e4;const A=7*24*60*60*1e3;class KeyManager{static instance=null;static isInitializing=false;initialized=false;keys=new Map;keyConfigs=[];constructor(){if(!(0,m.isBackgroundContext)()){o.log.error("KeyManager attempted to run outside background context");throw new Error("KeyManager is restricted to background context only")}}static async getInstance(){if(!KeyManager.instance){KeyManager.instance=new KeyManager}if(!KeyManager.instance.initialized&&!KeyManager.isInitializing){try{KeyManager.isInitializing=true;await KeyManager.instance.initialize();o.log.debug("KeyManager initialization completed")}finally{KeyManager.isInitializing=false}}else if(KeyManager.isInitializing){while(!KeyManager.instance.initialized){await new Promise(e=>setTimeout(e,100))}}return KeyManager.instance}registerKey(e,t,i=false,o){const a={name:e,category:t,isRequired:i,envKey:o||e};this.keyConfigs.push(a)}initializeDefaultConfigs(){this.registerKey("ALCHEMY_API_KEY_PROD","blockchain",false);this.registerKey("ALCHEMY_API_KEY_DEV","blockchain",false);this.registerKey("BLOCKNATIVE_API_KEY","blockchain",false);this.registerKey("INFURA_API_KEY","blockchain",false);this.registerKey("OPENAI_API_KEY","ai",false);this.registerKey("ANTHROPIC_API_KEY","ai",false);o.log.info("KeyManager initialized default configs")}async initialize(){if(this.initialized){o.log.debug("KeyManager already initialized, skipping");return}o.log.debug("KeyManager initialize called");try{(0,p.initializeStorageDefaults)();o.log.debug("Background context confirmed via initializeStorageDefaults");this.initializeDefaultConfigs();await this.loadKeysFromEnvironment();this.setupMessageListener();this.initialized=true;o.log.debug("KeyManager initialization completed successfully")}catch(e){o.log.error("Failed to initialize KeyManager",e);throw e}}async loadKeysFromEnvironment(){o.log.debug("Loading keys from environment");if(true){o.log.debug("Available process.env keys:",false,Object.keys(g.env||{}));if(false){}}for(const e of this.keyConfigs){const t=e.envKey;let i;let a="";if(typeof g!=="undefined"&&g.env){i=g.env[t];if(i)a=`process.env.${t}`;if(!i){i=g.env[`VITE_${t}`];if(i)a=`process.env.VITE_${t}`}}if(!i&&"object"!=="undefined"&&undefined){}if(i&&i!=="undefined"&&i!=="[object Object]"){o.log.info(`Found key ${e.name} from ${a}`);this.keys.set(e.name,i)}else{if(e.isRequired){o.log.warn(`Required key ${e.name} not found in environment`)}else{o.log.debug(`Optional key ${e.name} not found in environment`)}}}o.log.info(`Loaded ${this.keys.size} keys from environment`);this.logKeyDetails()}setupMessageListener(){o.log.debug("KeyManager message listener set up")}isKeyRequest(e){return typeof e==="object"&&e!==null&&"type"in e&&e.type==="getKey"&&"keyName"in e&&typeof e.keyName==="string"}handleKeyRequest(e){if(!this.initialized){return Promise.resolve({error:"KeyManager not initialized"})}const t=this.keys.get(e);if(!t){o.log.warn(`Key requested but not found: ${e}`);return Promise.resolve({error:"Key not found"})}o.log.debug(`Providing key: ${e}`);return Promise.resolve({value:t})}getKey(e){if(!this.initialized){o.log.error("KeyManager not initialized");return""}const t=this.keys.get(e);if(!t){o.log.warn(`Key requested but not found: ${e}, returning empty string as fallback`);return""}return t}getKeyStatus(){if(!this.initialized){throw new Error("KeyManager not initialized")}return this.keyConfigs.map(e=>({name:e.name,category:e.category,isRequired:e.isRequired,isPresent:this.keys.has(e.name)}))}_forceInitializeInBackground(){if(this.initialized){o.log.debug("KeyManager already initialized");return}o.log.warn("Forcing KeyManager initialization in background - only use in emergency");try{this.initializeDefaultConfigs();this.setupMessageListener();this.initialized=true;o.log.info("KeyManager force initialized successfully")}catch(e){o.log.error("Failed to force initialize KeyManager",false,e);throw e}}isDevelopmentEnvironment(){return typeof g!=="undefined"&&g.env&&"development"!=="production"||true&&undefined&&0||typeof g!=="undefined"&&g.env&&"true"==="true"}logKeyDetails(){if(!this.isDevelopmentEnvironment()){o.log.info("Key details logging disabled in production");return}o.log.info("===== API KEY DETAILS (DEV ONLY) =====");for(const e of this.keyConfigs){const t=this.keys.get(e.name);if(t){o.log.info(`API KEY: ${e.name} = "${t}"`)}else{o.log.warn(`API KEY: ${e.name} = NOT FOUND`)}}o.log.info("--- DETAILED KEY INFO ---");const e={};for(const t of this.keyConfigs){const i=this.keys.get(t.name);e[t.name]={value:i||"NOT FOUND",category:t.category,required:t.isRequired,found:!!i}}o.log.info("Key details object:",false,e);o.log.info("--- KEYS MAP ENTRIES ---");const t={};this.keys.forEach((e,i)=>{t[i]=e});o.log.info("Raw key values:",false,t);o.log.info("======================================")}debugLogKeys(){if(!this.initialized){o.log.error("KeyManager not initialized");return}this.logKeyDetails()}setDevelopmentKey(e,t){if(!this.isDevelopmentEnvironment()){o.log.error("setDevelopmentKey is not allowed in production");return}o.log.info(`Setting development key: ${e}`);this.keys.set(e,t)}getAllKeys(){if(!this.isDevelopmentEnvironment()){o.log.error("getAllKeys is not allowed in production");return undefined}if(!this.initialized){o.log.error("KeyManager not initialized");return undefined}const e={};this.keys.forEach((t,i)=>{e[i]=t});return e}}const getKeyManager=()=>KeyManager.getInstance()},"./src/lib/managers/ListenerManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ListenerManager:()=>ListenerManager});class ListenerManager{listeners=new Set;context;constructor(e){this.context=e}add(e,t){const wrappedHandler=async(...e)=>{const[i]=e;if(i.targetContext&&i.targetContext!==this.context){return false}return await t(...e)};if(e.hasListener(wrappedHandler)){e.removeListener(wrappedHandler)}e.addListener(wrappedHandler);this.listeners.add({event:e,handler:wrappedHandler})}remove(e,t){if(e.hasListener(t)){e.removeListener(t);this.listeners.delete({event:e,handler:t})}}removeAll(e){this.listeners.forEach(({event:e,handler:t})=>{e.removeListener(t)});this.listeners.clear()}}},"./src/lib/managers/Logger.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{LogLevel:()=>d,LogLevelDirection:()=>p,Logger:()=>Logger,log:()=>y});var o=i("./src/lib/managers/Errors.ts");var a=i("../../node_modules/.pnpm/idb@8.0.3/node_modules/idb/build/index.js");var l=i("../../node_modules/.pnpm/dexie@4.0.11/node_modules/dexie/import-wrapper.mjs");const u=typeof window!=="undefined";var d;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["DEBUG_TRACE"]=1]="DEBUG_TRACE";e[e["INFO"]=2]="INFO";e[e["INFO_TRACE"]=3]="INFO_TRACE";e[e["WARN"]=4]="WARN";e[e["ERROR"]=5]="ERROR";e[e["ERROR_TRACE"]=6]="ERROR_TRACE";e[e["TRACE"]=7]="TRACE"})(d||(d={}));var p;(function(e){e[e["NONE"]=0]="NONE";e[e["CONTAINS"]=1]="CONTAINS";e[e["LESSTHAN"]=2]="LESSTHAN";e[e["GREATERTHAN"]=3]="GREATERTHAN";e[e["EQUAL"]=4]="EQUAL";e[e["GREATERTHANOREQUAL"]=5]="GREATERTHANOREQUAL";e[e["LESSTHANOREQUAL"]=6]="LESSTHANOREQUAL"})(p||(p={}));const m={DEBUG:"color: purple; font-weight: bold;",DEBUG_TRACE:"color: purple; font-weight: bold;",INFO:"color: green; font-weight: bold;",INFO_TRACE:"color: green; font-weight: bold;",WARN:"color: orange; font-weight: bold;",ERROR:"color: red; font-weight: bold;",ERROR_TRACE:"color: red; font-weight: bold;",TRACE:"color: blue; font-weight: bold;"};const g=500;const v="yakklLogs";class Logger{static instance=null;logLevel;logLevelDirection;logsIncluded=[];logRegEx=/^(DEBUG|DEBUG_TRACE|INFO|INFO_TRACE|WARN|ERROR|ERROR_TRACE|TRACE)$/;logFilterEnabled=false;stackIndex=4;backend="localStorage";minLogLevel=d.ERROR;constructor(e=d.DEBUG,t=p.LESSTHAN,i=["DEBUG","DEBUG_TRACE","INFO","INFO_TRACE","WARN","ERROR","ERROR_TRACE","TRACE"]){this.logLevel=e;this.logLevelDirection=t;this.logsIncluded=i}static getInstance(){if(!Logger.instance){Logger.instance=new Logger}return Logger.instance}setMinimumLogLevel(e){this.minLogLevel=e}setLevel(e,t,i=["DEBUG","DEBUG_TRACE","INFO","INFO_TRACE","WARN","ERROR","ERROR_TRACE","TRACE"]){this.logLevel=d[e];this.logLevelDirection=p[t];this.logsIncluded=i}setLogFilterEnabled(e){this.logFilterEnabled=e}setLogFilterRegex(e){try{this.logRegEx=new RegExp(e,"i")}catch(e){this.error("Invalid regex pattern:",false,e)}}setStackIndex(e){if(e<0)throw new Error("Stack index must be a positive number");this.stackIndex=e}setBackend(e){this.backend=e}getMinimumLogLevel(){return this.minLogLevel}getTimestamp(){return(new Date).toISOString()}getCallerInfo(){const e=(new Error).stack;if(!e)return"Unknown Caller";const t=e.split("\n").length;const i=Math.min(this.stackIndex,t-1)??this.stackIndex;const o=e.split("\n")[i]?.trim();return o||"Unknown Caller"}normalizeInput(e){if(e instanceof Error){return{message:e.message,stack:e.stack}}else if(typeof e==="string"){return{message:e}}else if(e===null||e===undefined){return{message:String(e)}}else{return{message:JSON.stringify(e,null,2)}}}persistLog(e){try{switch(this.backend){case"indexedDB":this.persistLogIndexedDB(e);break;case"dexie":this.persistLogDexie(e);break;case"sqlite":this.persistLogSQLite(e);break;case"background":this.persistLogBackground(e);break;case"localStorage":default:this.persistLogLocalStorage(e);break}}catch(e){this.error("Failed to persist log:",false,e)}}persistLogLocalStorage(e){try{return;{}}catch(e){this.error("Failed to persist to localStorage:",e)}}persistLogIndexedDB(e){const t=(0,a.openDB)(v,1,{upgrade(e){if(!e.objectStoreNames.contains("logs")){e.createObjectStore("logs",{keyPath:"id",autoIncrement:true})}}});if(e.args){e.args=e.args.map(e=>{try{JSON.parse(JSON.stringify(e));return e}catch{return String(e)}})}t.then(async t=>{const i=t.transaction("logs","readwrite");const o=i.objectStore("logs");await o.add(e);const a=await o.getAll();while(a.length>g){await o.delete(a[0].id);a.shift()}await i.done})}persistLogDexie(e){const t=new l["default"](v);t.version(1).stores({logs:"++id, timestamp, label, message, args"});if(e.args){e.args=e.args.map(e=>{try{JSON.parse(JSON.stringify(e));return e}catch{return String(e)}})}t.table("logs").add(e);t.table("logs").count().then(e=>{if(e>g){t.table("logs").orderBy("id").first(e=>{if(e){t.table("logs").delete(e.id)}})}})}persistLogSQLite(e){}persistLogBackground(e){}clearPersistedLogs(){switch(this.backend){case"indexedDB":(0,a.openDB)(v,1).then(e=>{e.transaction("logs","readwrite").objectStore("logs").clear()});break;case"dexie":const e=new l["default"](v);e.version(1).stores({logs:"++id, message, timestamp"});e.table("logs").clear();break;case"sqlite":break;case"background":break;case"localStorage":default:localStorage.removeItem(v);break}}getPersistedLogs(){try{switch(this.backend){case"indexedDB":(0,a.openDB)(v,1).then(e=>e.transaction("logs","readonly").objectStore("logs").getAll());case"dexie":break;case"sqlite":break;case"background":break;case"localstorage":default:return JSON.parse(localStorage.getItem(v)||"[]")}}catch{this.error("Failed to retrieve persisted logs");return[]}}log(e,t,i,o,a=false,l=false,...u){try{const d=this.isProductionEnvironment();if(d){if(e<this.minLogLevel){return}}const{message:p,stack:m}=this.normalizeInput(o);const g=this.getTimestamp();const v=this.getCallerInfo();console.log(`%c[${t}] ${g}`,i,p,...u||[],"\nCaller:",v,m?"\nStack:"+m:"");if(l){const e={timestamp:g,label:t,message:p,callerInfo:v,stack:a?m:undefined,args:u};this.persistLog(e)}}catch(t){if(!this.isProductionEnvironment()||e>=d.WARN){this.error("Logging failed:",false,t)}}}isProductionEnvironment(){if(true){return false}{}{}{}}debug(e,t=false,...i){this.log(d.DEBUG,"DEBUG",m.DEBUG,e,false,t,...i)}debugStack(e,t=false,...i){this.log(d.DEBUG_TRACE,"DEBUG_TRACE",m.DEBUG,e,true,t,...i)}info(e,t=false,...i){this.log(d.INFO,"INFO",m.INFO,e,false,t,...i)}infoStack(e,t=false,...i){this.log(d.INFO_TRACE,"INFO_TRACE",m.INFO,e,false,t,...i)}warn(e,t=false,...i){this.log(d.WARN,"WARN",m.WARN,e,false,t,...i)}error(e,t=false,...i){this.log(d.ERROR,"ERROR",m.ERROR,e,false,t,...i)}errorStack(e,t=false,...i){this.log(d.ERROR_TRACE,"ERROR_TRACE",m.ERROR,false,t,...i)}trace(e,t=false,...i){this.log(d.TRACE,"TRACE",m.TRACE,e,false,t,...i)}}const y=Logger.getInstance()},"./src/lib/managers/PortManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{portManager:()=>a});var o=i("./src/lib/managers/Logger.ts");class PortManager{static instance;externalPorts=new Map;dappPorts=new Map;internalPorts=new Map;contentScriptPorts=new Map;constructor(){}static getInstance(){if(!PortManager.instance){PortManager.instance=new PortManager}return PortManager.instance}registerExternalPort(e,t,i){const a={port:t,connectionId:i||`external-${e}-${Date.now()}`,registeredAt:Date.now()};this.externalPorts.set(e,a);o.log.debug("Registered external port:",false,{tabId:e,connectionId:a.connectionId})}registerDappPort(e,t){const i={port:t,connectionId:e,registeredAt:Date.now()};this.dappPorts.set(e,i);o.log.debug("Registered DApp port:",false,{portId:e})}registerInternalPort(e,t){const i={port:t,connectionId:e,registeredAt:Date.now()};this.internalPorts.set(e,i);o.log.debug("Registered internal port:",false,{portId:e})}registerContentScriptPort(e,t){const i={port:t,connectionId:`content-${e}-${Date.now()}`,registeredAt:Date.now()};this.contentScriptPorts.set(e,i);o.log.debug("Registered content script port:",false,{tabId:e})}getExternalPort(e){return this.externalPorts.get(e)?.port}getContentScriptPort(e){return this.contentScriptPorts.get(e)?.port||this.externalPorts.get(e)?.port}removeExternalPort(e){this.externalPorts.delete(e);o.log.debug("Removed external port:",false,{tabId:e})}removeContentScriptPort(e){this.contentScriptPorts.delete(e);o.log.debug("Removed content script port:",false,{tabId:e})}removeDappPort(e){for(const[t,i]of this.dappPorts.entries()){if(i.port===e){this.dappPorts.delete(t);o.log.debug("Removed DApp port:",false,{portId:t});break}}}removeInternalPort(e){for(const[t,i]of this.internalPorts.entries()){if(i.port===e){this.internalPorts.delete(t);o.log.debug("Removed internal port:",false,{portId:t});break}}}broadcastToContentScripts(e){for(const[t,i]of this.contentScriptPorts){try{i.port.postMessage(e)}catch(e){o.log.error("Failed to send to content script:",false,{tabId:t,error:e});this.removeContentScriptPort(t)}}for(const[t,i]of this.externalPorts){try{i.port.postMessage(e)}catch(e){o.log.error("Failed to send to external port:",false,{tabId:t,error:e});this.removeExternalPort(t)}}}cleanupDisconnectedPorts(){const e=Date.now();for(const[e,t]of this.externalPorts){try{t.port.postMessage({type:"ping"})}catch(t){this.removeExternalPort(e)}}for(const[e,t]of this.contentScriptPorts){try{t.port.postMessage({type:"ping"})}catch(t){this.removeContentScriptPort(e)}}for(const[e,t]of this.dappPorts){try{t.port.postMessage({type:"ping"})}catch(t){this.dappPorts.delete(e)}}for(const[e,t]of this.internalPorts){try{t.port.postMessage({type:"ping"})}catch(t){this.internalPorts.delete(e)}}}}const a=PortManager.getInstance()},"./src/lib/managers/Provider.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{AbstractProvider:()=>AbstractProvider,assertProvider:()=>assertProvider});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/managers/Signer.ts");var l=i("./src/lib/managers/EventManager.ts");var u=i("./src/lib/common/bignumber-ethereum.ts");function assertProvider(e){if(e===null){throw new Error("Provider is null")}}class AbstractProvider{blockchains=[];blockchain="Ethereum";chainIds=[1,11155111];chainId=1;name;signer=undefined;provider=null;constructor(e,t,i,o,a,l){this.name=e;this.blockchains=t;this.chainIds=i;this.blockchain=o;this.chainId=a;this.provider=l}getName(){return this.name}getProvider(){if(!this.provider){return null}return this.provider}getSigner(){if(!this.signer){return null}return this.signer}getSignerNative(){if(!this.signer){return null}return this.signer.getSigner()}setProvider(e){if(!e)throw new Error("Provider is not valid");this.provider=e}setSigner(e){if(!this.signer)throw new Error("Signer is not valid");this.signer=e}async signTransaction(e){if(!this.signer){throw new Error("Signer not initialized")}return await this.signer.signTransaction(e)}async signTypedData(e,t,i){if(!this.signer){throw new Error("Signer not initialized")}return await this.signer.signTypedData(e,t,i)}async signMessage(e){if(!this.signer){throw new Error("Signer not initialized")}return await this.signer.signMessage(e)}on(e,t){l["default"].on(e,t);return this}once(e,t){l["default"].once(e,t);return this}emit(e,...t){return l["default"].emit(e,...t)}listenerCount(e){return l["default"].listenerCount(e)}listeners(e){return l["default"].listeners(e)}off(e,t){l["default"].off(e,t);return this}removeAllListeners(e){l["default"].removeAllListeners(e);return this}async getFeeData(){const[e,t]=await Promise.all([this.getBlock("latest"),this.getGasPrice()]);let i=new u.EthereumBigNumber(0);let o=new u.EthereumBigNumber(0);let a=new u.EthereumBigNumber(0);if(e&&e.baseFeePerGas){i=u.EthereumBigNumber.from(e.baseFeePerGas);a=u.EthereumBigNumber.fromGwei(1.5);o=u.EthereumBigNumber.from(i.mul(2).add(a))}const l=u.EthereumBigNumber.from(t).div(1e9);return{lastBaseFeePerGas:i.toBigInt()??BigInt(0),maxFeePerGas:o.toBigInt()??BigInt(0),maxPriorityFeePerGas:a.toBigInt()??BigInt(0),gasPrice:l}}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}getBlockchains(){return this.blockchains}setBlockchains(e){this.blockchains=e}getBlockchain(){return this.blockchain}getChainIds(){return this.chainIds}setChainIds(e){this.chainIds=e}async setChainId(e){this.chainId=e}getChainId(){return this.chainId}}},"./src/lib/managers/ProviderFactory.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>a});var o=i("./src/lib/managers/providers/network/alchemy/Alchemy.ts");class ProviderFactory{static createProvider(e){const{name:t,apiKey:i,chainId:a}=e;let l;switch(t){case"Alchemy":l=new o.Alchemy({apiKey:i,chainId:a});l.initializeProvider();return l;default:throw new Error(`Unsupported provider: ${t}`)}}}const a=ProviderFactory},"./src/lib/managers/RPCBase.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{RPCBase:()=>RPCBase});var o=i("./src/lib/common/logger-wrapper.ts");class RPCBase{baseURL;apiKey;headers;maxRetries;timeout;constructor(e){this.baseURL=e.baseURL;this.apiKey=e.apiKey;this.headers=e.headers||{"Content-Type":"application/json"};this.maxRetries=e.maxRetries??3;this.timeout=e.timeout??1e4}async fetchWithRetry(e,t={},i=this.maxRetries,a=500){const l=this.apiKey?`${this.baseURL}/${this.apiKey}`:this.baseURL;const u={method:"POST",headers:t||this.headers,body:JSON.stringify(e)};for(let e=1;e<=i;e++){try{const e=new AbortController;const t=setTimeout(()=>e.abort(),this.timeout);const i=await fetch(l,{...u,signal:e.signal});clearTimeout(t);if(!i.ok){const e=await i.text();o.log.error(`[RPCBase] Non-OK HTTP status`,false,{status:i.status,errorText:e});throw new Error(`HTTP error! status: ${i.status}`)}const a=await i.json();if(a.error){o.log.error(`[RPCBase] JSON-RPC error`,false,a.error);throw new Error(a.error.message||"Unknown JSON-RPC error")}return a.result}catch(t){if(e===i){o.log.error(`[RPCBase] Failed after ${e} attempts`,false,t);throw t}const l=a*2**(e-1);o.log.warn(`[RPCBase] Retry ${e}/${i} after error: ${t}. Waiting ${l}ms...`);await new Promise(e=>setTimeout(e,l))}}}async request(e,t=[],i={},a=this.maxRetries,l=500){const u={jsonrpc:"2.0",id:Date.now(),method:e,params:t};o.log.info(`[RPCBase] Sending request:`,false,{method:e,params:t});return this.fetchWithRetry(u,i)}}},"./src/lib/managers/RequestManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{RequestManager:()=>RequestManager,requestManager:()=>a});var o=i("./src/lib/managers/Logger.ts");class RequestManager{activeRequests=new Map;addRequest(e,t,i){if(this.activeRequests.has(e)){o.log.info("Duplicate request detected",false,{requestId:e,existingStatus:this.activeRequests.get(e)?.status});return}const a={id:e,method:t.data.method,timestamp:Date.now(),port:t.port,status:"pending",connectionId:i};this.activeRequests.set(e,a);o.log.debug("Request added to manager",false,{requestId:e,method:t.data.method,portName:t.port.name,connectionId:i})}getRequest(e){return this.activeRequests.get(e)}resolveRequest(e,t){const i=this.activeRequests.get(e);if(!i){o.log.warn("No request found to resolve",false,{requestId:e});return}i.status="resolved";try{i.port.postMessage({type:"YAKKL_RESPONSE:EIP6963",id:e,result:t,method:i.method});o.log.debug("Request resolved",false,{requestId:e,method:i.method})}catch(t){o.log.error("Failed to send response",false,{error:t,requestId:e})}setTimeout(()=>{this.activeRequests.delete(e)},1e3)}rejectRequest(e,t){const i=this.activeRequests.get(e);if(!i){o.log.warn("No request found to reject",false,{requestId:e});return}i.status="rejected";try{i.port.postMessage({type:"YAKKL_RESPONSE:EIP6963",id:e,error:{code:t.code||-32603,message:t.message||"Internal error"},method:i.method});o.log.debug("Request rejected",false,{requestId:e,method:i.method,error:t.message})}catch(t){o.log.error("Failed to send error response",false,{error:t,requestId:e})}setTimeout(()=>{this.activeRequests.delete(e)},1e3)}cleanupOldRequests(e=6e4){const t=Date.now();const i=[];this.activeRequests.forEach((o,a)=>{if(t-o.timestamp>e){i.push(a)}});i.forEach(e=>{this.rejectRequest(e,new Error("Request timeout"))});o.log.debug("Cleaned up old requests",false,{count:i.length})}}const a=new RequestManager},"./src/lib/managers/SessionPortManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SessionPortManager:()=>SessionPortManager,sessionPortManager:()=>l});var o=i("./src/lib/managers/Logger.ts");var a=i("./src/lib/common/origin.ts");class SessionPortManager{sessionPorts=new Map;requestToConnectionMap=new Map;registerSessionPort(e,t,i){const l=i||`connection-${Date.now()}-${Math.random().toString(36).slice(2)}`;const u=this.sessionPorts.get(l);if(u){u.requestIds.add(e.requestId);this.requestToConnectionMap.set(e.requestId,l);o.log.info("Added request to existing session",false,{connectionId:l,requestId:e.requestId,totalRequests:u.requestIds.size})}else{const i={port:t,connectionId:l,requestIds:new Set([e.requestId]),portName:t.name,createdAt:Date.now(),metadata:{tabId:t.sender?.tab?.id,url:t.sender?.url,origin:(0,a.getWindowOrigin)()}};this.sessionPorts.set(l,i);this.requestToConnectionMap.set(e.requestId,l);o.log.info("New session port registered",false,{connectionId:l,requestId:e.requestId,portName:t.name})}return l}getPortByRequestId(e){const t=this.requestToConnectionMap.get(e);if(!t){o.log.debug("No connection found for request ID",false,{requestId:e});return null}const i=this.sessionPorts.get(t);return i?.port||null}getSessionInfo(e){const t=this.requestToConnectionMap.get(e);if(!t)return null;const i=this.sessionPorts.get(t);if(!i)return null;return{connectionId:t,portName:i.portName,requestId:e}}removeSession(e){const t=this.sessionPorts.get(e);if(!t)return;t.requestIds.forEach(e=>{this.requestToConnectionMap.delete(e)});this.sessionPorts.delete(e);o.log.info("Session removed",false,{connectionId:e,requestCount:t.requestIds.size})}removeRequest(e){const t=this.requestToConnectionMap.get(e);if(!t)return;const i=this.sessionPorts.get(t);if(i){i.requestIds.delete(e);if(i.requestIds.size===0){this.removeSession(t)}}this.requestToConnectionMap.delete(e)}}const l=new SessionPortManager},"./src/lib/managers/Signer.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Signer:()=>Signer});class Signer{}},"./src/lib/managers/SingletonWindowManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SingletonWindowManager:()=>SingletonWindowManager});var o=i("./src/lib/common/logger-wrapper.ts");var a=i("./src/lib/extensions/chrome/ui.ts");var l=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var u=i.n(l);const d=u();class SingletonWindowManager{static instance=null;currentWindowId=null;initialized=false;static getInstance(){if(!SingletonWindowManager.instance){SingletonWindowManager.instance=new SingletonWindowManager}return SingletonWindowManager.instance}constructor(){}async initialize(){if(this.initialized)return;try{await this.loadStoredWindowId();if(d?.windows?.onRemoved){d.windows.onRemoved.addListener(e=>{if(e===this.currentWindowId){this.currentWindowId=null;d.storage.session.remove("windowId").catch(()=>{})}})}this.initialized=true}catch(e){o.log.error("Failed to initialize SingletonWindowManager:",false,e)}}async loadStoredWindowId(){try{if(!d?.storage?.session){o.log.warn("Browser extension storage not available");return}const e=await d.storage.session.get("windowId");if(e?.windowId){this.currentWindowId=e.windowId}}catch(e){o.log.error("Failed to load stored window ID:",false,e)}}async showPopup(e="",t="0"){try{await this.initialize();if(!d){throw new Error("Browser extension API not available")}if(this.currentWindowId){try{const t=await d.windows.get(this.currentWindowId);if(t){await d.windows.update(this.currentWindowId,{focused:true,drawAttention:true});if(e&&d.tabs){const t=await d.tabs.query({windowId:this.currentWindowId});if(t?.[0]?.id){await d.tabs.update(t[0].id,{url:e})}}return}}catch{this.currentWindowId=null}}const i=await(0,a.showExtensionPopup)(428,926,e,t);this.currentWindowId=i.id;if(d.storage?.session){await d.storage.session.set({windowId:i.id})}await d.windows.update(i.id,{drawAttention:true});if(a.openWindows){a.openWindows.set(i.id,i)}}catch(e){o.log.error("SingletonWindowManager - showPopup",false,e)}}}},"./src/lib/managers/TimerManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TimerManager:()=>TimerManager,getTimerManager:()=>getTimerManager,timerManagerStore:()=>l});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var a=i("./src/lib/managers/UnifiedTimerManager.ts");const l=(0,o.writable)(null);class TimerManager{timers=new Map;static instance=null;unifiedManager;constructor(){if(TimerManager.instance){if(!l){l.set(this)}return TimerManager.instance}this.unifiedManager=a.UnifiedTimerManager.getInstance();TimerManager.instance=this;l.set(this)}static getInstance(){return TimerManager.instance??new TimerManager}static clearInstance(){if(this.instance){this.instance.unifiedManager.clearAll()}this.instance=null;l.set(null)}static resetInstance(){this.clearInstance();return this.getInstance()}addTimer(e,t,i){this.timers.set(e,{id:e,callback:t,duration:i,handleIntervalID:null});this.unifiedManager.addInterval(e,t,i)}hasTimer(e){return this.timers.has(e)}startTimer(e){this.unifiedManager.startInterval(e)}startTimerDelayed(e){this.unifiedManager.startInterval(e)}startTimerImmediate(e){this.unifiedManager.startInterval(e,true)}stopTimer(e){this.unifiedManager.stopInterval(e)}startAll(){this.timers.forEach((e,t)=>this.unifiedManager.startInterval(t))}stopAll(){this.timers.forEach((e,t)=>this.unifiedManager.stopInterval(t))}removeTimer(e){this.unifiedManager.removeInterval(e);this.timers.delete(e)}removeAll(){this.unifiedManager.clearAll();this.timers.clear()}isRunning(e){return this.unifiedManager.isIntervalRunning(e)}getTimeoutID(e){return null}getRunningTimers(){return this.unifiedManager.getRunningTimers().intervals}listTimers(){return Array.from(this.timers.keys())}}const getTimerManager=()=>TimerManager.getInstance()},"./src/lib/managers/UnifiedTimerManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{UnifiedTimerManager:()=>UnifiedTimerManager,unifiedTimerManager:()=>a});var o=i("./src/lib/managers/Logger.ts");class UnifiedTimerManager{intervals=new Map;timeouts=new Map;static instance=null;constructor(){if(UnifiedTimerManager.instance){return UnifiedTimerManager.instance}UnifiedTimerManager.instance=this}static getInstance(){return UnifiedTimerManager.instance??new UnifiedTimerManager}static clearInstance(){if(this.instance){this.instance.clearAll()}this.instance=null}static resetInstance(){this.clearInstance();return this.getInstance()}addInterval(e,t,i){if(this.intervals.has(e)){o.log.warn(`Interval "${e}" already exists.`);return}this.intervals.set(e,{id:e,callback:t,duration:i,handle:null,type:"interval"})}startInterval(e,t=false){const i=this.intervals.get(e);if(!i)return o.log.error(`Interval "${e}" not found.`);if(i.handle)return o.log.warn(`Interval "${e}" is already running.`);if(t){i.callback()}i.handle=setInterval(i.callback,i.duration)}stopInterval(e){const t=this.intervals.get(e);if(!t)return o.log.warn(`Interval "${e}" not found.`);if(!t.handle)return o.log.warn(`Interval "${e}" is not running.`);clearInterval(t.handle);t.handle=null}removeInterval(e){this.stopInterval(e);this.intervals.delete(e)}addTimeout(e,t,i){if(this.timeouts.has(e)){o.log.warn(`Timeout "${e}" already exists.`);return}this.timeouts.set(e,{id:e,callback:t,duration:i,handle:null,type:"timeout"})}startTimeout(e){const t=this.timeouts.get(e);if(!t)return o.log.error(`Timeout "${e}" not found.`);if(t.handle)return o.log.warn(`Timeout "${e}" is already running.`);t.handle=setTimeout(()=>{t.callback();t.handle=null},t.duration)}stopTimeout(e){const t=this.timeouts.get(e);if(!t)return o.log.warn(`Timeout "${e}" not found.`);if(!t.handle)return o.log.warn(`Timeout "${e}" is not running.`);clearTimeout(t.handle);t.handle=null}removeTimeout(e){this.stopTimeout(e);this.timeouts.delete(e)}clearAll(){this.intervals.forEach((e,t)=>this.stopInterval(t));this.intervals.clear();this.timeouts.forEach((e,t)=>this.stopTimeout(t));this.timeouts.clear()}getRunningTimers(){const e=Array.from(this.intervals.entries()).filter(([e,t])=>t.handle!==null).map(([e])=>e);const t=Array.from(this.timeouts.entries()).filter(([e,t])=>t.handle!==null).map(([e])=>e);return{intervals:e,timeouts:t}}isIntervalRunning(e){return!!this.intervals.get(e)?.handle}isTimeoutRunning(e){return!!this.timeouts.get(e)?.handle}addTimer(e,t,i){this.addInterval(e,t,i)}startTimer(e){this.startInterval(e)}stopTimer(e){this.stopInterval(e)}removeTimer(e){this.removeInterval(e)}hasTimer(e){return this.intervals.has(e)}isRunning(e){return this.isIntervalRunning(e)}static createDebounce(e,t){let i=null;const debounced=(...o)=>{if(i){clearTimeout(i)}i=setTimeout(()=>{e(...o);i=null},t)};debounced.cancel=()=>{if(i){clearTimeout(i);i=null}};return debounced}static createThrottle(e,t){let i=false;return(...o)=>{if(!i){e(...o);i=true;setTimeout(()=>{i=false},t)}}}}const a=UnifiedTimerManager.getInstance()},"./src/lib/managers/Wallet.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Wallet:()=>Wallet,walletStore:()=>_});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/managers/EventManager.ts");var l=i("./src/lib/managers/ProviderFactory.ts");var u=i("./src/lib/managers/BlockchainFactory.ts");var d=i("./src/lib/managers/Signer.ts");var p=i("./src/lib/managers/blockchains/index.ts");var m=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var g=i("./src/lib/managers/blockchains/evm/TokenService.ts");var v=i("./src/lib/common/logger-wrapper.ts");var y=i("./src/lib/common/environment.ts");const _=(0,m.writable)(null);class Wallet{providerNames;blockchainNames;provider=null;blockchain=null;signer=null;portfolio=[];currentToken=null;accounts=[];apiKey=null;chainId;privateKey=null;tokenService=null;constructor(e=["Alchemy"],t=["Ethereum"],i=1,o=null,a=null){this.providerNames=e;this.blockchainNames=t;this.apiKey=o;this.chainId=i;this.setChainId(i);this.privateKey=a;this.initialize();Wallet.setInstance(this);if(y.browserSvelte){y.browser_ext.runtime.sendMessage({type:"YAKKL_STATE_CHANGE",data:{chainId:i}}).catch(e=>{v.log.error("Error sending initial chain change message",true,e)})}}initialize(){if(this.providerNames.length>0){const e=this.providerNames.map(e=>l["default"].createProvider({name:e,apiKey:this.apiKey,chainId:this.chainId}));this.provider=e[0];const t=this.getBlockchainFromChainId(this.chainId);this.blockchain=u["default"].createBlockchain(t,e);this.tokenService=new g.TokenService(this.blockchain)}this.setupEventListeners();if(this.privateKey){this.setSigner(this.privateKey)}Wallet.setInstance(this)}static setInstance(e){_.set(e)}addTokenToPortfolio(e){this.portfolio.push(e);Wallet.setInstance(this)}async createAccount(e=null,t){if(!this.blockchain){throw new Error("Blockchain not initialized")}const i=await this.blockchain.createAccount(e,t);if((0,o.isYakklPrimaryAccount)(i)){this.addAccount(i)}else{this.addAccount(i)}Wallet.setInstance(this);return i}async estimateGas(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}return await this.blockchain.estimateGas(e)}async getBalance(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}return await this.blockchain.getBalance(e)}getBlockchain(){switch(this.chainId){case 1:case 11155111:default:return this.blockchain}}getBlockchainFromChainId(e){switch(e){case 137:return"Polygon";case 43114:return"Avalanche";case 42161:return"Arbitrum";case 250:return"Optimism";case 1:case 11155111:default:return"Ethereum"}}getTokenService(){return this.tokenService}getChainId(){return this.chainId}getCurrentToken(){return this.currentToken}getPortfolio(){return this.portfolio}getProvider(){return this.provider}async getTransactionHistory(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}return await this.blockchain.getTransactionHistory(e)}onProviderConnected(e){Wallet.setInstance(this)}onBalanceFetched(e){Wallet.setInstance(this)}onProviderSwitched(e){Wallet.setInstance(this)}onError(e){Wallet.setInstance(this)}onRequestMade(e){Wallet.setInstance(this)}async setChainId(e){this.chainId=e;this.blockchain?.setChainId(e);this.provider?.setChainId(e);Wallet.setInstance(this);if(y.browserSvelte){y.browser_ext.runtime.sendMessage({type:"YAKKL_STATE_CHANGE",data:{chainId:e}}).catch(e=>{v.log.error("Error sending chain change message",true,e)})}}setAPIKey(e){this.apiKey=e;Wallet.setInstance(this)}setCurrentToken(e){const t=this.portfolio.find(t=>t.address===e);if(!t){throw new Error(`Token with address ${e} not found in portfolio`)}this.currentToken=t;this.provider=t.provider;this.blockchain=t.blockchain;Wallet.setInstance(this)}setupEventListeners(){a["default"].on("balanceFetched",this.onBalanceFetched.bind(this));a["default"].on("error",this.onError.bind(this));a["default"].on("providerConnected",this.onProviderConnected.bind(this));a["default"].on("providerSwitched",this.onProviderSwitched.bind(this));a["default"].on("requestMade",this.onRequestMade.bind(this));Wallet.setInstance(this)}setSigner(e){try{if(!this.blockchain){v.log.warn("Blockchain is not initialized yet");return null}if(!this.provider){v.log.warn("Provider is not initialized yet");return null}if(!e&&!this.privateKey){v.log.warn("No private key provided yet");return null}switch(this.blockchain.name){case"Ethereum":this.signer=new p.EthereumSigner(e,this.provider);break;default:throw new Error(`Unsupported blockchain: ${this.blockchain.name}`)}if(this.signer){this.privateKey=e;Wallet.setInstance(this);this.provider.setSigner(this.signer);return Promise.resolve(this.signer)}else{throw new Error("Signer could not be created")}}catch(e){v.log.error("Error setting signer:",false,e);return Promise.reject(e)}}getSigner(){return this.signer}switchProvider(){if(!this.blockchain||!this.provider){throw new Error("Blockchain or Provider not initialized")}const e=this.providerNames.map(e=>l["default"].createProvider({name:e,apiKey:this.privateKey,chainId:this.chainId})).filter(e=>e.blockchains.includes(this.blockchain.name));const t=e.find(e=>e!==this.provider);if(t){const e=this.provider.chainId;const i=this.provider.name;this.provider=t;this.blockchain.connect(t,e);a["default"].emit("providerSwitched",{oldProvider:i,newProvider:t.name});Wallet.setInstance(this)}}switchToProvider(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}let t=null;if(typeof e==="string"){const i=this.providerNames.map(e=>l["default"].createProvider({name:e,apiKey:this.privateKey,chainId:this.chainId})).filter(e=>e.blockchains.includes(this.blockchain.name));if(!i.length){throw new Error("No available providers for this blockchain")}t=i.find(e=>e!==this.provider);if(!t){t=l["default"].createProvider({name:e})}}else{t=e}if(!t){throw new Error(`Provider ${typeof e==="string"?e:"unknown"} could not be created or is invalid.`)}if(!t.blockchains.includes(this.blockchain.name)){throw new Error(`Provider ${t.name} does not support blockchain ${this.blockchain.name}`)}if(t!==this.provider){const e=this.provider?.chainId||this.blockchain.chainId;const i=this.provider;this.provider=t;this.blockchain.connect(t,e);a["default"].emit("providerSwitched",{oldProvider:i?.name,newProvider:t.name});Wallet.setInstance(this)}}async sendTransaction(e){if(!this.signer){if(!this.privateKey){throw new Error("Private key not set")}else{await this.setSigner(this.privateKey)}}if(!this.blockchain||!this.provider||!this.signer){throw new Error("Blockchain or Provider or Signer not initialized")}return await this.blockchain.sendTransaction(e)}async signTypedData(e,t,i){if(!this.signer){throw new Error("Signer not initialized")}if(typeof this.signer.signTypedData==="function"){return await this.signer.signTypedData(e,t,i)}else{throw new Error("signTypedData is not supported for the current blockchain signer")}}addAccount(e){if((0,o.isYakklPrimaryAccount)(e)){this.accounts.push(e.account)}else{this.accounts.push(e)}Wallet.setInstance(this)}getAccount(e){return this.accounts.find(t=>t.address===e)}removeAccount(e){this.accounts=this.accounts.filter(t=>t.address!==e);Wallet.setInstance(this)}async getGasEstimate(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}return await this.blockchain.getGasEstimate(e)}async getHistoricalGasData(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}return await this.blockchain.getHistoricalGasData(e)}async predictFutureFees(e){if(!this.blockchain){throw new Error("Blockchain not initialized")}return await this.blockchain.predictFutureFees(e)}}},"./src/lib/managers/WalletManager.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{default:()=>u});var o=i("./src/lib/managers/Wallet.ts");var a=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var l=i("./src/lib/managers/Logger.ts");class WalletManager{static instance=null;static getInstance(e,t=["Ethereum"],i=1,a=null,u=null){try{if(!WalletManager.instance){WalletManager.instance=new o.Wallet(e,t,i,a,u);o.walletStore.set(WalletManager.instance)}else{if(!WalletManager.instance.getSigner()&&u){WalletManager.instance.setSigner(u);o.walletStore.set(WalletManager.instance)}}return WalletManager.instance}catch(e){l.log.error("Failed to get Wallet instance:",false,e);throw e}}static clearInstance(){WalletManager.instance=null;o.walletStore.set(null)}static setInstance(e){this.clearInstance();WalletManager.instance=e;o.walletStore.set(e)}static get wallet(){return(0,a.get)(o.walletStore)}}const u=WalletManager},"./src/lib/managers/blockchains/evm/TokenService.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{TokenService:()=>TokenService});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/managers/Contract.ts");var l=i("./src/lib/managers/contracts/evm/constants-evm.ts");var u=i("./src/lib/common/tokens.ts");var d=i("./src/lib/managers/Logger.ts");class TokenService{blockchain=null;constructor(e=null){this.blockchain=e}getTokenContract(e){if(!e)return null;return this.blockchain?this.blockchain.createContract(e,l.ABIs.ERC20):null}async getTokenInfo(e){if(!e)return{name:"",symbol:"",decimals:0,totalSupply:0n};try{const t=this.getTokenContract(e);if(!t)return{name:"",symbol:"",decimals:0,totalSupply:0n};const[i,o,a,l]=await Promise.all([t.call("name"),t.call("symbol"),t.call("decimals"),t.call("totalSupply")]);return{name:i,symbol:o,decimals:a,totalSupply:l}}catch(e){d.log.error("Contract - getTokenInfo:",false,e);return{name:"",symbol:"",decimals:0,totalSupply:0n}}}async getBalance(e,t){try{if(!e||!t)return 0n;const i=this.getTokenContract(e);if(!i)return 0n;return await i.call("balanceOf",t)}catch(e){d.log.error("Contract - getBalance - error",false,e);return 0n}}async updateTokenBalances(e){try{if(!e)throw new Error("Invalid parameters");(0,u.updateTokenBalances)(e,this.blockchain?.getProvider()?.getProvider()??undefined)}catch(e){d.log.error("Error updating token balances:",false,e)}}async transfer(e,t,i){try{if(!e||!t||!i)throw new Error("Invalid parameters");const o=this.getTokenContract(e);if(!o)throw new Error("Invalid contract");const a=await o.estimateGas("transfer",t,i);const l=await o.populateTransaction("transfer",t,i);if(!l)throw new Error("Invalid transaction");l.gasLimit=a;return await this.blockchain.sendTransaction(l)}catch(e){d.log.error("Contract - transfer - error",false,e);throw new Error(`Error transferring tokens: ${e}`)}}}},"./src/lib/managers/blockchains/evm/ethereum/Ethereum.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Ethereum:()=>Ethereum});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/common/datetime.ts");var l=i("./src/lib/managers/Blockchain.ts");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/address/checks.js");var d=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/crypto/random.js");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/mnemonic.js");var m=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/hdwallet.js");var g=i("./src/lib/managers/blockchains/evm/ethereum/EthereumContract.ts");const v=[{blockchain:"Ethereum",name:"Mainnet",chainId:1,symbol:"ETH",type:o.NetworkType.MAINNET,explorer:"https://etherscan.io",decimals:18},{blockchain:"Ethereum",name:"Sepolia",chainId:11155111,symbol:"ETH",type:o.NetworkType.TESTNET,explorer:"https://sepolia.etherscan.io",decimals:18},{blockchain:"Unichain",name:"Sepolia",chainId:1301,symbol:"ETH",type:o.NetworkType.TESTNET,explorer:"https://sepolia.uniscan.xyz/",decimals:18}];class Ethereum extends l.AbstractBlockchain{_options;constructor(e,t=1,i={},o=false){super("Ethereum",t,e,v,"ETH","/images/ethereum_icon_purple.svg");this.chainId=t;this.options=i;this._updateOptions(i,o);this._options=this.getOptions("ethereum")}async createAccount(e=null,t){if(!t)throw new Error("Account info is missing");if(e===null){return this.createPrimaryAccount(t)}else{if(!t.path)throw new Error("Derive Path is missing from the account info");return this.createSubAccount(e,t.path)}}async estimateGas(e){if(!e)throw new Error("Transaction is missing");return await this.provider.estimateGas(e)}async getBalance(e,t){if(!e)throw new Error("Address is missing");return await this.provider.getBalance(e,t!==undefined?t:"latest")}async getBlock(e){if(!e)throw new Error("Block hash or tag is missing");throw new Error("Method not implemented.")}async getBlockNumber(){throw new Error("Method not implemented.")}async getBlockWithTransactions(e){if(!e)throw new Error("Block hash or tag is missing");throw new Error("Method not implemented.")}async getCode(e,t){if(!e)throw new Error("Address is missing");throw new Error("Method not implemented.")}async getFeeData(){return await this.provider.getFeeData()}async getGasPrice(){throw new Error("Method not implemented.")}async getLogs(e){if(!e)throw new Error("Filter is missing");throw new Error("Method not implemented.")}async getStorageAt(e,t,i){if(!e)throw new Error("Address is missing");throw new Error("Method not implemented.")}async signTypedData(e){if(!e)throw new Error("Transaction is missing");throw new Error("Method not implemented.")}async getTransaction(e){if(!e)throw new Error("Transaction hash is missing");return await this.provider.getTransaction(e)}async getTransactionCount(e,t){if(!e)throw new Error("Address is missing");return await this.provider.getTransactionCount(e,t)}async getTransactionHistory(e){if(!e)throw new Error("Address is missing");return await this.provider.getTransactionHistory(e)}async getTransactionReceipt(e){if(!e)throw new Error("Transaction hash is missing");return await this.provider.getTransactionReceipt(e)}isAddress(e){const t=u.isAddress(e);return t}async isSmartContract(e){if(!this.isAddress(e))return false;let t;try{t=await this.provider.getCode(e)}catch(e){t=null}return t&&t!=="0x"&&t!=="0x0"}isSmartContractSupported(){return true}async request(e,t){return await this.provider.request(e,t)}async sendTransaction(e){return await this.provider.sendTransaction(e)}async sendRawTransaction(e){return await this.provider.sendRawTransaction(e)}async signTransaction(e){return await this.provider.signTransaction(e)}async signMessage(e){return await this.provider.signMessage(e)}async createPrimaryAccount(e){const t=d.randomBytes(32);if(!t)throw new Error("Error generating entropy for the mnemonic");const i=p.Mnemonic.fromEntropy(t);if(!i)throw new Error("Error generating mnemonic from entropy");const l=m.HDNodeWallet.fromMnemonic(i,e.path);if(!l)throw new Error("Error creating wallet from mnemonic");const u={extendedKey:l.extendedKey,privateKey:l.privateKey,publicKey:l.publicKey,publicKeyUncompressed:l.publicKey,path:l.path?l.path:e.path,pathIndex:e.index,fingerPrint:l.fingerprint,parentFingerPrint:l.parentFingerprint,chainCode:l.chainCode,assignedTo:[]};const g={id:e.id,index:e.index,blockchain:"Ethereum",smartContract:false,address:l.address,alias:"",accountType:o.AccountTypeCategory.PRIMARY,name:!e.accountName?`Portfolio Level Account ${e.index+1}`:e.accountName,description:"",primaryAccount:null,data:u,quantity:0n,class:"Default",level:"L1",isSigner:true,avatar:"",tags:["Ethereum","primary"],includeInPortfolio:true,connectedDomains:[],version:o.VERSION,createDate:(0,a.dateString)(),updateDate:(0,a.dateString)()};const v={extendedKey:l.extendedKey,privateKey:l.privateKey,publicKey:l.publicKey,publicKeyUncompressed:l.publicKey,path:l.path?l.path:e.path,pathIndex:e.index,fingerPrint:l.fingerprint,parentFingerPrint:l.parentFingerprint,chainCode:l.chainCode,mnemonic:i.phrase,entropy:t,password:l.mnemonic?.password,wordCount:l.mnemonic?.phrase.split(" ").length||24,wordListLocale:l.mnemonic?.wordlist.locale||"en"};const y={id:e.id,name:"Primary Account",address:l.address,quantity:0n,index:0,data:v,account:{},subIndex:0,subAccounts:[],version:o.VERSION,createDate:(0,a.dateString)(),updateDate:(0,a.dateString)()};return y}async createSubAccount(e,t){const i=e.data.mnemonic;if(!i)throw new Error("Mnemonic is missing from the primary account data");const a=m.HDNodeWallet.fromPhrase(i,undefined,t);if(!a)throw new Error("Error deriving sub account from primary account");const l={extendedKey:a.extendedKey,privateKey:a.privateKey,publicKey:a.publicKey,publicKeyUncompressed:a.publicKey,path:a.path,pathIndex:e.subIndex+1,fingerPrint:a.fingerprint,parentFingerPrint:e.data.fingerPrint,chainCode:"",assignedTo:[]};const u={id:"1",index:e.subIndex+1,blockchain:"Ethereum",smartContract:false,address:a.address,alias:"New Sub Account",accountType:o.AccountTypeCategory.SUB,name:"Sub Account Name",description:"Description of the sub account",primaryAccount:e,data:l,quantity:0n,class:"standard",level:"L1",isSigner:true,avatar:"default-avatar.png",tags:[],includeInPortfolio:true,connectedDomains:[],version:"1.0",createDate:(new Date).toISOString(),updateDate:(new Date).toISOString()};return u}async resolveName(e){if(!e)return null;return await this.provider.resolveName(e)}async lookupAddress(e){if(!e)return null;return await this.provider.lookupAddress(e)}createContract(e,t){if(!e||!t)return null;return new g.EthereumContract(e,t,this.provider)}}},"./src/lib/managers/blockchains/evm/ethereum/EthereumAnalytics.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EthereumAnalytics:()=>EthereumAnalytics});var o=i("./src/lib/managers/AnalyticsBase.ts");var a=i("./src/lib/common/logger-wrapper.ts");class EthereumAnalytics extends o.AnalyticsBase{gasEstimates=[];swapEstimates=[];MAX_STORED_ENTRIES=1e3;providerStats=new Map;lastNetworkCheck=0;NETWORK_CHECK_INTERVAL=6e4;constructor(e,t,i,o){super(e,t,i,o);this.initializeProviderStats()}static async create(e,t,i,o){const a=new EthereumAnalytics(e,t,i,o);await a.initializeNetworkInfo();return a}initializeProviderStats(){this.providerStats.set(this.networkInfo.provider,{totalCalls:0,failedCalls:0,averageLatency:0})}async initializeNetworkInfo(){try{const e=Date.now();const t=await this.provider.getBlockNumber();const i=Date.now()-e;this.networkInfo={...this.networkInfo,blockNumber:t,rpcLatency:i,providerUrl:this.maskProviderUrl(await this.provider.getProviderURL())};this.updateProviderStats("initializeNetworkInfo",true,i)}catch(e){a.log.error("Failed to initialize network info:",false,false,e)}}maskProviderUrl(e){if(!e)return"unknown";try{const t=new URL(e);return`${t.protocol}//${t.hostname}/*****`}catch{return"invalid-url"}}updateProviderStats(e,t,i,o){const a=this.providerStats.get(this.networkInfo.provider)||{totalCalls:0,failedCalls:0,averageLatency:0};a.totalCalls++;if(!t){a.failedCalls++;a.lastError=o?.message;a.lastErrorTime=Date.now()}a.averageLatency=(a.averageLatency*(a.totalCalls-1)+i)/a.totalCalls;this.providerStats.set(this.networkInfo.provider,a)}async trackGasEstimate(e){await this.checkAndUpdateNetworkInfo();const t={...e,timestamp:Date.now(),networkInfo:{...this.networkInfo}};this.gasEstimates.push(t);if(this.gasEstimates.length>this.MAX_STORED_ENTRIES){this.gasEstimates.shift()}this.updateProviderStats(e.methodName||"gasEstimate",e.success,this.networkInfo.rpcLatency||0);if(!e.success){a.log.warn(`Gas estimation failed for ${e.methodName}:`,false,e.errorMessage)}if(e.estimateType==="fallback"){a.log.info(`Using fallback gas estimation for ${e.methodName}:`,false,e.fallbackReason)}}async trackSwapEstimate(e){await this.checkAndUpdateNetworkInfo();const t={...e,timestamp:Date.now(),networkInfo:{...this.networkInfo}};this.swapEstimates.push(t);if(this.swapEstimates.length>this.MAX_STORED_ENTRIES){this.swapEstimates.shift()}this.updateProviderStats(`swap_${e.swapType}`,e.success,this.networkInfo.rpcLatency||0)}async checkAndUpdateNetworkInfo(){const e=Date.now();if(e-this.lastNetworkCheck>this.NETWORK_CHECK_INTERVAL){await this.initializeNetworkInfo();this.lastNetworkCheck=e}}async getAnalyticsSummary(){await this.checkAndUpdateNetworkInfo();return{gasStats:this.calculateGasStats(this.gasEstimates),swapStats:this.calculateSwapStats(this.swapEstimates),providerHealth:this.providerStats,networkInfo:this.networkInfo}}calculateGasStats(e){const t={start:e[0]?.timestamp||Date.now(),end:e[e.length-1]?.timestamp||Date.now()};const i=new Map;const o=new Map;let a=0n;let l=0;e.forEach(e=>{if(e.errorMessage){i.set(e.errorMessage,(i.get(e.errorMessage)||0)+1)}if(e.methodName){o.set(e.methodName,(o.get(e.methodName)||0)+1)}a+=BigInt(e.maxFee);l+=e.networkInfo.rpcLatency||0});return{total:e.length,successful:e.filter(e=>e.success).length,fallbackUsed:e.filter(e=>e.estimateType==="fallback").length,averageGasPrice:e.length?a/BigInt(e.length):0n,averageLatency:e.length?l/e.length:0,commonErrors:i,methodUsage:o,lastBlockNumber:this.networkInfo.blockNumber||0,timeWindow:t}}calculateSwapStats(e){const t=this.calculateGasStats(e);const i=new Map;let o=0;e.forEach(e=>{const t=`${e.tokenInSymbol}/${e.tokenOutSymbol}`;i.set(t,(i.get(t)||0)+1);o+=e.routeHops||1});return{...t,averageHops:e.length?o/e.length:0,popularPairs:i}}getProviderHealth(){const e=this.providerStats.get(this.networkInfo.provider);if(!e)return"Unknown";const t=(e.totalCalls-e.failedCalls)/e.totalCalls;const i=e.averageLatency;if(t>.99&&i<500)return"Excellent";if(t>.95&&i<1e3)return"Good";if(t>.9&&i<2e3)return"Fair";return"Poor"}}},"./src/lib/managers/blockchains/evm/ethereum/EthereumContract.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EthereumContract:()=>EthereumContract});var o=i("./src/lib/managers/Contract.ts");var a=i("./src/lib/common/index.ts");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/contract/contract.js");var u=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/abi/interface.js");var d=i("./src/lib/managers/utilities/EthersConverter.ts");var p=i("./src/lib/managers/Logger.ts");class EthereumContract extends o.AbstractContract{contract;interface;constructor(e,t,i){super(e,t,i);this.contract=new l.Contract(e,t,i.getSignerNative());if(!this.contract){throw new Error("Invalid contract")}this.interface=new u.Interface(t);if(!this.interface){throw new Error("Invalid interface")}}async call(e,...t){try{if(!e||!this.interface)throw new Error("Invalid function name or invalid interface");if(!this.interface.getFunction(e))throw new Error(`Function ${e} does not exist on contract`);return await this.contract[e](...t)}catch(t){p.log.error(`Error calling ${e}:`,false,t);throw t}}async estimateGas(e,...t){try{if(!e||!this.interface)throw new Error("Invalid function name or invalid interface");if(!this.interface.getFunction(e))throw new Error(`Function ${e} does not exist on contract`);const i=this.contract[e];if(typeof i!=="function"){throw new Error(`${e} is not a function`)}const o=await i.estimateGas(...t);return BigInt(o.toString())}catch(t){p.log.error(`Error estimating gas for ${e}:`,false,t);throw t}}async populateTransaction(e,...t){try{if(!e||!this.interface)throw new Error("Invalid function name or invalid interface");if(!this.interface.getFunction(e))throw new Error(`Function ${e} does not exist on contract`);const i=this.contract[e];if(typeof i!=="function"){throw new Error(`${e} is not a function`)}const o=await i.populateTransaction(...t);if(!o)throw new Error("Invalid transaction from populate transaction");return d.EthersConverter.ethersTransactionRequestToTransactionRequest(o)}catch(t){p.log.error(`Error populating transaction for ${e}:`,false,t);throw t}}async sendTransaction(e,...t){try{if(!this.interface.getFunction(e)){throw new Error(`Function ${e} does not exist on contract`)}const i=await this.contract[e](...t);if(!i)throw new Error("Invalid transaction from send transaction");return d.EthersConverter.ethersTransactionResponseToTransactionResponse(i)}catch(t){p.log.error(`Error sending transaction for ${e}:`,false,t);throw t}}encodeFunctionData(e,t=[]){if(!this.interface.getFunction(e)){throw new Error(`Function ${e} does not exist on contract`)}return this.interface.encodeFunctionData(e,t)}on(e,t){this.contract.on(e,t)}off(e,t){this.contract.off(e,t)}once(e,t){this.contract.once(e,t)}getFunctions(){const e={};const t=Object.values(Object.fromEntries(Object.entries(this.interface.fragments).filter(([e,t])=>t.type==="function")));t.forEach(t=>{e[t.name]=(...e)=>this.call(t.name,...e)});return e}getEvents(){const e=Object.values(Object.fromEntries(Object.entries(this.interface.fragments).filter(([e,t])=>t.type==="event")));return e.map(e=>e.name)}}},"./src/lib/managers/blockchains/evm/ethereum/EthereumSigner.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EthereumSigner:()=>EthereumSigner});var o=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/wallet/wallet.js");var a=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/transaction/address.js");var l=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/hash/message.js");var u=i("./src/lib/common/index.ts");var d=i("./src/lib/managers/Signer.ts");var p=i("./src/lib/common/bignumber-ethereum.ts");var m=i("./src/lib/managers/Logger.ts");class EthereumSigner extends d.Signer{wallet;provider=null;constructor(e,t){super();if(!e){throw new Error("Private key not provided to signer")}if(!e.startsWith("0x")){e="0x"+e}if(e.length!==66){throw new Error(`Invalid private key length. Instead it is ${e.length}`)}this.provider=t;const i=t?t.getProvider():null;this.wallet=new o.Wallet(e,i?i:t)}toEthersHex(e){if(e instanceof p.EthereumBigNumber){return e.toHex()}if(typeof e==="bigint"){return"0x"+e.toString(16)}if(typeof e==="number"){return"0x"+BigInt(e).toString(16)}if(typeof e==="string"){return e}if(e&&typeof e==="object"&&"_hex"in e){return e._hex}return null}async signTransaction(e){const t=this.transactionToEthersTransaction(e);return await this.wallet.signTransaction(t)}async signMessage(e){return await this.wallet.signMessage(e)}async signTypedData(e,t,i){return await this.wallet.signTypedData(e,t,i)}async verifySigner(e,t,i){try{const o=a.recoverAddress(l.hashMessage(t),i)===e;return o}catch(e){m.log.error(e);return false}}async getAddress(){return this.wallet.address}getSigner(){if(!this.wallet)return null;return this.wallet}setSigner(e){if(!e)throw new Error("Provider is not provided");this.wallet=new o.Wallet(this.wallet.privateKey,e.getProvider())}async sendTransaction(e){const t=await this.wallet.sendTransaction(this.transactionToEthersTransaction(e));return this.ethersTransactionResponseToTransactionResponse(t)}transactionToEthersTransaction(e){return{to:e.to??undefined,from:e.from??undefined,nonce:e.nonce===-1?undefined:e.nonce,gasLimit:this.toEthersHex(e.gasLimit),gasPrice:this.toEthersHex(e.gasPrice),maxPriorityFeePerGas:this.toEthersHex(e.maxPriorityFeePerGas),maxFeePerGas:this.toEthersHex(e.maxFeePerGas),data:e.data?.toString()??undefined,value:this.toEthersHex(e.quantity),chainId:this.toEthersHex(e.chainId)??undefined,accessList:e.accessList??undefined,customData:e.customData,enableCcipRead:e.ccipReadEnabled,blobVersionedHashes:e.blobVersionedHashes??undefined,maxFeePerBlobGas:this.toEthersHex(e.maxFeePerBlobGas),blobs:e.blobs??undefined,kzg:e.kzg??undefined}}async ethersTransactionResponseToTransactionResponse(e){return{hash:e.hash,to:e.to??"",from:e.from,nonce:e.nonce,gasLimit:e.gasLimit,gasPrice:e.gasPrice,data:e.data,quantity:e.value,chainId:e.chainId,blockNumber:e.blockNumber??undefined,blockHash:e.blockHash??undefined,timestamp:(new Date).getTime(),confirmations:await e.confirmations(),raw:undefined,type:e.type??undefined,accessList:e.accessList??undefined,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas,wait:async t=>{const i=await e.wait(t);if(!i){throw new Error("Transaction receipt is null")}return this.ethersTransactionReceiptToTransactionReceipt(i)}}}async ethersTransactionReceiptToTransactionReceipt(e){return{to:e.to??"",from:e.from,contractAddress:e.contractAddress??undefined,transactionIndex:e.index,root:e.root??undefined,gasUsed:e.gasUsed,logsBloom:e.logsBloom,blockHash:e.blockHash,transactionHash:e.hash,logs:e.logs.map(e=>({blockNumber:e.blockNumber,blockHash:e.blockHash,transactionIndex:e.transactionIndex,removed:e.removed,address:e.address,data:e.data,topics:[...e.topics],transactionHash:e.transactionHash,logIndex:e.index})),blockNumber:e.blockNumber,confirmations:await e.confirmations(),cumulativeGasUsed:e.cumulativeGasUsed,effectiveGasPrice:e.gasPrice??undefined,byzantium:true,type:e.type,status:e.status?e.status:undefined}}}},"./src/lib/managers/blockchains/evm/index.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Ethereum:()=>o.Ethereum,EthereumSigner:()=>a.EthereumSigner});var o=i("./src/lib/managers/blockchains/evm/ethereum/Ethereum.ts");var a=i("./src/lib/managers/blockchains/evm/ethereum/EthereumSigner.ts")},"./src/lib/managers/blockchains/index.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Ethereum:()=>o.Ethereum,EthereumSigner:()=>o.EthereumSigner});var o=i("./src/lib/managers/blockchains/evm/index.ts")},"./src/lib/managers/contracts/evm/abis/erc20.json":e=>{"use strict";e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]')},"./src/lib/managers/contracts/evm/constants-evm.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{ABIs:()=>a,ADDRESSES:()=>l,EOA_TEST_ACCOUNTS:()=>u,EOA_TEST_ACCOUNTS_PRIVATE_KEYS:()=>d});var o=i("./src/lib/managers/contracts/evm/abis/erc20.json");const a={ERC20:o};const l={YAKKL:"0x2B64822cf4bbDd77d386F51AA2B40c5cdbeb80b5",UNISWAP_FACTORY:"0x1F98431c8aD98523631AE4a59f267346ea31F984",UNISWAP_FACTORY_SEPOLIA:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",UNISWAP_V3_ROUTER:"0xE592427A0AEce92De3Edee1F18E0157C05861564",UNISWAP_V3_ROUTER_SEPOLIA:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",UNISWAP_V3_QUOTER:"0x61fFE014bA17989E743c5F6cB21bF9697530B21e",UNISWAP_V3_QUOTER_SEPOLIA:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",UNISWAP_UNIVERSAL_ROUTER:"0xEf1c6E67703c7BD7107eed8303Fbe6EC2554BF6B",UNISWAP_UNIVERSAL_ROUTER_SEPOLIA:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",SUSHISWAP_FACTORY:"0xC0AEe478e3658e2610c5F7A4A2E1777cE9e4f2Ac",SUSHISWAP_FACTORY_SEPOLIA:"0x...",WETH:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",WETH_SEPOLIA:"0xfFf9976782d46cc05630D1f6EbAB18B2324d6B14",WBTC:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",USDC:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",DAI:"0x6B175474E89094C44Da98b954EedeAC495271d0F"};const u=["0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266","0x70997970c51812dc3a010c7d01b50e0d17dc79c8","0x3c44cdddb6a900fa2b585dd299e03d12fa4293bc","0x90f79bf6eb2c4f870365e785982e1f101e93b906","0x15d34aaf54267db7d7c367839aaf71a00a2c6a65","0x9965507d1a55bcc2695c58ba16fb37d819b0a4dc","0x976ea74026e726554db657fa54763abd0c3a0aa9","0x14dc79964da2c08b23698b3d3cc7ca32193d9955","0x23618e81e3f5cdf7f54c3d65f7fbc0abf5b21e8f","0xa0ee7a142d267c1f36714e4a8f75612f20a79720"];const d=["0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80","0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d","0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a","0x7c852118294e51e653712a81e05800f419141751be58f605c371e15141b007a6","0x47e179ec197488593b187f80a00eb0da91f1b9d0b13f8733639f19c30a34926a","0x8b3a350cf5c34c9194ca85829a2df0ec3153be0318b5e2d3348e872092edffba","0x92db14e403b83dfe3df233f83dfa3a0d7096f21ca9b0d6d6b8d88b2b4ec1564e","0x4bbbf85ce3377467afe5d46f804f221813b2bb87f24d81f60f1fcdbf7cbf4356","0xdbda1821b80551c9d65939329250298aa3472ba22feea921c0cf5d620ea67b97","0x2a871d0798f97d79848a013d4936a73bf4cc922c825d33c1cf7073dff6d409c6"]},"./src/lib/managers/providers/fees/ethereum/EthereumGasProvider.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EthereumGasProvider:()=>EthereumGasProvider});var o=i("./src/lib/common/bignumber.ts");var a=i("./src/lib/common/bignumber-ethereum.ts");var l=i("./src/lib/common/gas-types.ts");var u=i("./src/lib/managers/blockchains/evm/ethereum/Ethereum.ts");var d=i("./src/lib/common/logger-wrapper.ts");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/units.js");var m=i("./src/lib/managers/AnalyticsBase.ts");var g=i("./src/lib/managers/blockchains/evm/ethereum/EthereumAnalytics.ts");const v={ERC20_APPROVE:46000n,SWAP_EXACT_IN:180000n,SWAP_EXACT_OUT:250000n};class EthereumGasProvider{provider;blockchain;priceProvider;analytics;PRIORITY_FEE_MULTIPLIERS={[l.TransactionSpeed.SLOW]:1n,[l.TransactionSpeed.NORMAL]:2n,[l.TransactionSpeed.FAST]:3n};BASE_FEE_MULTIPLIERS={[l.TransactionSpeed.SLOW]:1.2,[l.TransactionSpeed.NORMAL]:1.5,[l.TransactionSpeed.FAST]:2};FALLBACK_MULTIPLIERS={[l.TransactionSpeed.SLOW]:.8,[l.TransactionSpeed.NORMAL]:1,[l.TransactionSpeed.FAST]:1.5};SAFE_FALLBACK_VALUES={BASE_PRIORITY_FEE:1n,MAX_TOTAL_GWEI:100n,MIN_TOTAL_GWEI:25n};MIN_PRIORITY_FEE=1n;constructor(e,t,i,o){this.provider=e;this.blockchain=t;this.priceProvider=i;this.analytics=o}static async create(e,t,i){const o=await this.determineProviderType(e);const a=t.getNetwork();const l=await g.EthereumAnalytics.create(e,o,a.chainId,a.name);return new EthereumGasProvider(e,t,i,l)}static async determineProviderType(e){const t=await e.getProviderURL()||"";if(t.includes("alchemy"))return m.Web3Provider.ALCHEMY;if(t.includes("infura"))return m.Web3Provider.INFURA;if(t.includes("cloudflare"))return m.Web3Provider.CLOUDFLARE;if(t.includes("quiknode"))return m.Web3Provider.QUICKNODE;return m.Web3Provider.CUSTOM}getName(){return"EthereumGasProvider"}async getFallbackGasPrice(e=l.TransactionSpeed.NORMAL){try{const t=await this.provider.getGasPrice();const i=this.FALLBACK_MULTIPLIERS[e];return BigInt(Number(t)*i)}catch(t){const i=t instanceof Error?t.message:"Unknown error";this.analytics.trackGasEstimate({estimateType:"fallback",gasLimit:"0",priorityFee:"0",maxFee:"0",success:false,methodName:"getFallbackGasPrice",errorMessage:i,networkInfo:this.analytics.networkInfo,timestamp:Date.now(),fallbackReason:"Gas price fetch failed"});return l.EOA_FALLBACK_GAS.GWEI[e].MAX_FEE*BigInt(1e9)}}async getOptimizedGasFees(e,t={}){try{const i=t.speed||l.TransactionSpeed.NORMAL;const o=await this.provider.getFeeData();let a;if(t.customPriorityFee){a=t.customPriorityFee}else{const e=BigInt(Math.max(Number(o.maxPriorityFeePerGas||this.MIN_PRIORITY_FEE),Number(this.MIN_PRIORITY_FEE)));a=e*this.PRIORITY_FEE_MULTIPLIERS[i]}let u;if(t.customMaxFee){u=t.customMaxFee}else{const e=o.lastBaseFeePerGas||0n;const t=this.BASE_FEE_MULTIPLIERS[i];u=e*BigInt(t*10)/10n+a}const d=e*u;const m=p.formatEther(d);const g=await this.getEthPrice();const v=(Number(m)*g).toFixed(2);const y={maxPriorityFeePerGas:a,maxFeePerGas:u,estimatedCostWei:d,estimatedCostEth:m,estimatedCostUsd:`$${v}`};this.analytics.trackGasEstimate({estimateType:"optimized",gasLimit:e.toString(),priorityFee:a.toString(),maxFee:u.toString(),success:true,methodName:"getOptimizedGasFees",networkInfo:this.analytics.networkInfo,timestamp:Date.now()});return y}catch(t){const i=t instanceof Error?t.message:"Unknown error";this.analytics.trackGasEstimate({estimateType:"fallback",gasLimit:e.toString(),priorityFee:"0",maxFee:"0",success:false,methodName:"getOptimizedGasFees",errorMessage:i,networkInfo:this.analytics.networkInfo,timestamp:Date.now(),fallbackReason:"Optimization failed"});throw t}}async getGasEstimate(e,t={}){try{const i=await this.provider.estimateGas(e);const o=await this.getOptimizedGasFees(i,t);const a={gasLimit:i.toString(),feeEstimate:{baseFee:(o.maxFeePerGas-o.maxPriorityFeePerGas).toString(),priorityFee:o.maxPriorityFeePerGas.toString(),totalFee:o.maxFeePerGas.toString(),estimatedCostEth:o.estimatedCostEth,estimatedCostUsd:o.estimatedCostUsd}};this.analytics.trackGasEstimate({estimateType:"normal",gasLimit:i.toString(),priorityFee:o.maxPriorityFeePerGas.toString(),maxFee:o.maxFeePerGas.toString(),success:true,methodName:"getGasEstimate",networkInfo:this.analytics.networkInfo,timestamp:Date.now()});return a}catch(e){const t=e instanceof Error?e.message:"Unknown error";this.analytics.trackGasEstimate({estimateType:"fallback",gasLimit:"0",priorityFee:"0",maxFee:"0",success:false,methodName:"getGasEstimate",errorMessage:t,networkInfo:this.analytics.networkInfo,timestamp:Date.now(),fallbackReason:"Estimation failed"});throw e}}async getSafeGasEstimate(e,t,i={}){try{const o=await this.getEOATransferGasEstimate(e,t,i);const l=a.EthereumBigNumber.from(o.feeEstimate.totalFee).toBigInt();if(l>this.SAFE_FALLBACK_VALUES.MAX_TOTAL_GWEI){throw new Error("Gas estimate too high")}if(l<this.SAFE_FALLBACK_VALUES.MIN_TOTAL_GWEI){throw new Error("Gas estimate too low")}return o}catch(e){const t=await this.getFallbackGasPrice(i.speed);const o=this.SAFE_FALLBACK_VALUES.BASE_PRIORITY_FEE*BigInt(1e9);const a=t+o;const l=e instanceof Error?e.message:"Unknown error";this.analytics.trackGasEstimate({estimateType:"fallback",gasLimit:"21000",priorityFee:o.toString(),maxFee:a.toString(),success:false,methodName:"getSafeGasEstimate",errorMessage:l,networkInfo:this.analytics.networkInfo,timestamp:Date.now(),fallbackReason:"Safe estimate bounds exceeded"});return{gasLimit:"21000",feeEstimate:{baseFee:t.toString(),priorityFee:o.toString(),totalFee:a.toString(),estimatedCostEth:p.formatEther(21000n*a),estimatedCostUsd:"Using fallback values"}}}}async getEOATransferGasEstimate(e,t,i={}){const o={to:e,quantity:t,from:"0x0000000000000000000000000000000000000000",chainId:this.blockchain.getChainId()};return this.getGasEstimate(o,i)}async getEOATransferGasEstimateWithFallback(e,t,i={}){try{return await this.getEOATransferGasEstimate(e,t,i)}catch(e){const t=e instanceof Error?e.message:"Unknown error";d.log.error("Gas estimation failed, using fallback values:",false,t);const o=i.speed||l.TransactionSpeed.NORMAL;const a=l.EOA_FALLBACK_GAS.GWEI[o];this.analytics.trackGasEstimate({estimateType:"fallback",gasLimit:l.EOA_FALLBACK_GAS.LIMITS.BASE.toString(),priorityFee:a.PRIORITY_FEE.toString(),maxFee:a.MAX_FEE.toString(),success:false,methodName:"getEOATransferGasEstimateWithFallback",errorMessage:t,networkInfo:this.analytics.networkInfo,timestamp:Date.now(),fallbackReason:"Estimation failed, using fallback"});return{gasLimit:l.EOA_FALLBACK_GAS.LIMITS.BASE.toString(),feeEstimate:{baseFee:(a.MAX_FEE-a.PRIORITY_FEE).toString(),priorityFee:a.PRIORITY_FEE.toString(),totalFee:a.MAX_FEE.toString(),estimatedCostEth:p.formatEther(l.EOA_FALLBACK_GAS.LIMITS.BASE*a.MAX_FEE*BigInt(1e9)),estimatedCostUsd:"Fallback estimate"}}}}async getHistoricalGasData(e){try{const e=await fetch("https://api.example.com/historical-gas-data");const t=await e.json();const i=t.map(e=>({timestamp:e.timestamp,baseFee:e.baseFeePerGas,priorityFee:e.priorityFeePerGas}));this.analytics.trackGasEstimate({estimateType:"historical",gasLimit:"0",priorityFee:"0",maxFee:"0",success:true,methodName:"getHistoricalGasData",networkInfo:this.analytics.networkInfo,timestamp:Date.now()});return i}catch(e){const t=e instanceof Error?e.message:"Unknown error";d.log.error("Error fetching historical gas data:",false,t);this.analytics.trackGasEstimate({estimateType:"historical",gasLimit:"0",priorityFee:"0",maxFee:"0",success:false,methodName:"getHistoricalGasData",errorMessage:t,networkInfo:this.analytics.networkInfo,timestamp:Date.now()});throw e}}async predictFutureFees(e){try{const t=await this.getHistoricalGasData(e);const i=t.map(t=>({timestamp:t.timestamp+e,estimatedBaseFee:t.baseFee,estimatedPriorityFee:t.priorityFee}));this.analytics.trackGasEstimate({estimateType:"prediction",gasLimit:"0",priorityFee:"0",maxFee:"0",success:true,methodName:"predictFutureFees",networkInfo:this.analytics.networkInfo,timestamp:Date.now()});return i}catch(e){const t=e instanceof Error?e.message:"Unknown error";d.log.error("Error predicting future gas fees:",false,t);this.analytics.trackGasEstimate({estimateType:"prediction",gasLimit:"0",priorityFee:"0",maxFee:"0",success:false,methodName:"predictFutureFees",errorMessage:t,networkInfo:this.analytics.networkInfo,timestamp:Date.now()});throw e}}async estimateSwapGasFee(e,t,i,o,l,u,p=3e3){try{const o=150000n;const l=46000n;let u=o;if(!e.isNative){u+=l}const d=await this.provider.getFeeData();const p=d.maxFeePerGas||d.gasPrice;if(!p)throw new Error("Could not get gas price");const m=u*BigInt(p.toString());const g=a.EthereumBigNumber.fromWei(m.toString()).toEtherString();const v=await this.getEthPrice();const y=parseFloat(g)*v;this.analytics.trackSwapEstimate({estimateType:"normal",gasLimit:u.toString(),priorityFee:d.maxPriorityFeePerGas?.toString()||"0",maxFee:p.toString(),success:true,methodName:"estimateSwapGasFee",networkInfo:this.analytics.networkInfo,timestamp:Date.now(),tokenInSymbol:e.symbol,tokenOutSymbol:t.symbol,amount:i.toString(),isMultiHop:false,swapType:"exactIn",dexUsed:"Uniswap V3"});return`$${y.toFixed(2)} (${g} ETH)`}catch(o){const a=o instanceof Error?o.message:"Unknown error";d.log.error("Gas estimation error:",false,a);this.analytics.trackSwapEstimate({estimateType:"fallback",gasLimit:"0",priorityFee:"0",maxFee:"0",success:false,methodName:"estimateSwapGasFee",errorMessage:a,networkInfo:this.analytics.networkInfo,timestamp:Date.now(),tokenInSymbol:e.symbol,tokenOutSymbol:t.symbol,amount:i.toString(),isMultiHop:false,swapType:"exactIn",dexUsed:"Uniswap V3"});return"Unable to estimate gas"}}async getEthPrice(){try{d.log.debug("getEthPrice - priceProvider",false,this.priceProvider);const e=this.priceProvider.getMarketPrice("ETH-USD");return(await e).price}catch(e){d.log.error("Error fetching ETH price:",false,false,e);return 0}}async getCurrentGasPriceInGwei(e=1){const t=await this.provider.getGasPrice();return Number(p.formatUnits(t,"gwei"))*e}async getGasPriceFromEtherscan(e){const t=await fetch(`https://api.etherscan.io/api?module=gastracker&action=gasoracle&apikey=${e}`);const i=await t.json();return Number(i.result.ProposeGasPrice)}async getFormattedGasEstimates(e,t=1.5,i=0,a=0){if(!e){throw new Error("Gas estimate must be provided")}const l=o.BigNumber.from(e).toBigInt();if(l<=0n){return 0}if(t<=0){t=1;d.log.warn("Factor must be greater than 0 - set to 1")}if(i<0){i=0;d.log.warn("Gas price must be greater than or equal to 0 - set to 0")}if(a<=0){a=0;d.log.warn("ETH price must be greater than 0 - set to 0")}if(i===0){i=await this.getCurrentGasPriceInGwei(t)}if(a===0){a=await this.getEthPrice()}const u=i*1e-9;const p=Number(e)*u;const m=p*a;return m}setPriceProvider(e){this.priceProvider=e}}},"./src/lib/managers/providers/network/alchemy/Alchemy.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{Alchemy:()=>Alchemy});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/managers/EventManager.ts");var l=i("./src/lib/managers/Provider.ts");var u=i("../../node_modules/.pnpm/alchemy-sdk@3.6.0_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/alchemy-sdk/dist/esm/index-643dc9bc.js");var d=i("./src/lib/managers/utilities/EthersConverter.ts");var p=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/providers/provider-jsonrpc.js");var m=i("./src/lib/managers/Logger.ts");var g=i("./src/lib/managers/providers/network/alchemy/RPCAlchemy.ts");class Alchemy extends l.AbstractProvider{config;alchemy=null;constructor(e={}){super("Alchemy",e.blockchains||["Ethereum","Solana","Optimism","Polygon","Base","Arbitrum","Avalanche","Celo"],e.chainIds||[1,10,69,137,80001,42161,421611,11155111],e.blockchain||"Ethereum",e.chainId||1,null);this.chainId=e.chainId||1;this.alchemy=null;this.setChainId(this.chainId)}async connect(e,t){this.blockchain=e;this.chainId=t;await this.getAlchemy(t)}async getAlchemy(e=1){this.config=getConfig(e);if(!this.config){throw new Error(`Invalid chain ID: ${e}`)}const t=typeof window==="undefined"||!window.document;if(t){const e=`https://eth-mainnet.g.alchemy.com/v2/${this.config.apiKey}`;this.provider=new p.JsonRpcProvider(e);return null}if(this.alchemy){this.alchemy=null}this.alchemy=new u.m(this.config);return this.alchemy}async getProviderURL(){const e=typeof window==="undefined"||!window.document;if(e){const e=getConfig(this.chainId);if(!e?.apiKey){throw new Error("No Alchemy API key found")}return`https://eth-mainnet.g.alchemy.com/v2/${e.apiKey}`}await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.config.getProvider();if(t){return t.connection.url}else{return""}}async initializeProvider(){if(this.provider){return this.provider}const e=await this.getProviderURL();if(!e){throw new Error("No URL set")}this.provider=new p.JsonRpcProvider(e);return this.provider}getProvider(){if(!this.provider){return null}return this.provider}async call(e,t="latest"){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const i=await this.resolveDeferredTransaction(e);const o=await t;const l=d.EthersConverter.transactionToEthersTransaction(i);const u=await this.alchemy.core.call(l,o);a["default"].emit("call",{transaction:i,blockTag:o,result:u});return u}catch(e){a["default"].emit("error",{provider:this.name,method:"call",error:e});throw e}}async estimateGas(e){try{const t=await this.resolveDeferredTransaction(e);const i=typeof window==="undefined"||!window.document;if(i){const e=getConfig(this.chainId);if(!e?.apiKey){throw new Error("No Alchemy API key found")}const i=new g.RPCAlchemy(e.apiKey);const o={from:t.from,to:t.to,gas:t.gasLimit?.toString(),gasPrice:t.gasPrice?.toString(),value:t.quantity?.toString(),data:t.data?.toString()};const l=await i.estimateGas(o);const u=BigInt(l);a["default"].emit("estimateGas",{transaction:t,gasEstimate:u});return u}await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const o=d.EthersConverter.transactionToEthersTransaction(t);const l=await this.alchemy.core.estimateGas(o);a["default"].emit("estimateGas",{transaction:t,gasEstimate:l});return BigInt(l.toString())}catch(e){a["default"].emit("error",{provider:this.name,method:"estimateGas",error:e});throw e}}async resolveDeferredTransaction(e){const t={};for(const[i,o]of Object.entries(e)){if(o instanceof Promise){t[i]=await o}else{t[i]=o}}return t}async getBlockNumber(){try{const e=await this.makeRpcCall("eth_blockNumber",[]);const t=parseInt(e,16);a["default"].emit("blockNumber",{blockNumber:t});return t}catch(e){a["default"].emit("error",{provider:this.name,method:"getBlockNumber",error:e});throw e}}async getGasPrice(){try{const e=await this.makeRpcCall("eth_gasPrice",[]);const t=BigInt(e);a["default"].emit("gasPrice",{price:t});return t}catch(e){a["default"].emit("error",{provider:this.name,method:"getGasPrice",error:e});throw e}}async getFeeData(){try{await this.getAlchemy();if(!this.alchemy){throw new Error("No Alchemy set")}const e=await this.alchemy.core.getFeeData();a["default"].emit("feeData",{feeData:e});return e}catch(e){a["default"].emit("error",{provider:this.name,method:"getFeeData",error:e});throw e}}async getBalance(e,t="latest"){try{const i=await t;const o=typeof i==="bigint"?i.toString():i;const l=typeof window==="undefined"||!window.document;if(l){const t=getConfig(this.chainId);if(!t?.apiKey){throw new Error("No Alchemy API key found")}const i=new g.RPCAlchemy(t.apiKey);const l=await i.getBalance(e,o);const u=BigInt(l);a["default"].emit("balanceFetched",{address:e,balance:u});return u}await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const u=await this.alchemy.core.getBalance(e,i);const d=BigInt(u.toString());a["default"].emit("balanceFetched",{address:e,balance:d});return d}catch(e){a["default"].emit("error",{provider:this.name,method:"getBalance",error:e});throw e}}async getCode(e,t="latest"){try{const i=await t;const o=typeof i==="bigint"?i.toString():i;const a=typeof window==="undefined"||!window.document;if(a){const t=getConfig(this.chainId);if(!t?.apiKey){throw new Error("No Alchemy API key found")}const i=new g.RPCAlchemy(t.apiKey);return await i.getCode(e,o)}await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}return await this.alchemy.core.getCode(e,i)}catch(e){a["default"].emit("error",{provider:this.name,method:"getCode",error:e});throw e}}async getStorageAt(e,t,i="latest"){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const o=await i;const l=await this.alchemy.core.getStorageAt(e,d.EthersConverter.toEthersHex(t)||"0x0",o);a["default"].emit("getStorageAt",{addressOrName:e,position:t,blockTag:o,storage:l});return l}catch(e){a["default"].emit("error",{provider:this.name,method:"getStorageAt",error:e});throw e}}async sendRawTransaction(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.transact.sendTransaction(e);a["default"].emit("sendRawTransaction",{signedTransaction:e,response:t});return t}catch(e){a["default"].emit("error",{provider:this.name,method:"sendRawTransaction",error:e});throw e}}async sendTransaction(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}if(e.nonce===undefined||e.nonce<0){e.nonce=await this.alchemy.core.getTransactionCount(e.from)}if(!this.signer){const e=this.getSigner();if(e){this.setSigner(e)}else{throw new Error("No signer set")}}if(!this.signer){throw new Error("No signer set")}const t=await this.signer.signTransaction(e);const i=await this.alchemy.transact.sendTransaction(t);a["default"].emit("sendTransaction",{signedTransaction:t,response:i});return i}catch(e){a["default"].emit("error",{provider:this.name,method:"sendTransaction",error:e});throw e}}async getBlock(e="latest"){try{m.log.info("getBlock",false,{blockHashOrBlockTag:e});await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=o.BigNumber.from(await e).toHex();const i=await this.alchemy.core.getBlock(t);a["default"].emit("block",{blockTagish:t,block:i});return i}catch(e){a["default"].emit("error",{provider:this.name,method:"getBlock",error:e});throw e}}async getBlockWithTransactions(e="latest"){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=o.BigNumber.from(await e).toHex();const i=await this.alchemy.core.getBlockWithTransactions(t);a["default"].emit("blockWithTransactions",{blockTagish:t,block:i});return i}catch(e){a["default"].emit("error",{provider:this.name,method:"getBlockWithTransactions",error:e});throw e}}async getTransaction(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.core.getTransaction(e);return t}catch(e){a["default"].emit("error",{provider:this.name,method:"getTransaction",error:e});throw e}}async getTransactionCount(e,t="latest"){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const i=o.BigNumber.from(await t).toHex();const a=await this.alchemy.core.getTransactionCount(e,i);return a}catch(e){a["default"].emit("error",{provider:this.name,method:"getTransactionCount",error:e});throw e}}async getTransactionHistory(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.core.getTransaction(e);return t}catch(e){a["default"].emit("error",{provider:this.name,method:"getTransactionHistory",error:e});throw e}}async getTransactionReceipt(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.core.getTransactionReceipt(e);return t}catch(e){a["default"].emit("error",{provider:this.name,method:"getTransactionReceipt",error:e});throw e}}async getLogs(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t={address:e.address,topics:e.topics};if(e.fromBlock){t.fromBlock=this.convertToAlchemyBlockTag(e.fromBlock)}if(e.toBlock){t.toBlock=this.convertToAlchemyBlockTag(e.toBlock)}const i=await this.alchemy.core.getLogs(t);const o=i.map(e=>this.convertAlchemyLogToCustomLog(e));a["default"].emit("getLogs",{filter:e,logs:o});return o}catch(e){a["default"].emit("error",{provider:this.name,method:"getLogs",error:e});throw e}}convertToAlchemyBlockTag(e){if(typeof e==="string"){if(e==="latest"||e==="pending"||e==="earliest"){return e}return parseInt(e,16)}if(typeof e==="number"||typeof e==="bigint"){return Number(e)}throw new Error(`Invalid block tag: ${e}`)}convertAlchemyLogToCustomLog(e){return{blockNumber:e.blockNumber,blockHash:e.blockHash,transactionIndex:e.transactionIndex,removed:e.removed,address:e.address,data:e.data,topics:e.topics,transactionHash:e.transactionHash,logIndex:e.logIndex}}async resolveName(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.core.resolveName(e);a["default"].emit("resolveName",{name:e,address:t});return t}catch(e){a["default"].emit("error",{provider:this.name,method:"resolveName",error:e});throw e}}async lookupAddress(e){try{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}const t=await this.alchemy.core.lookupAddress(e);a["default"].emit("lookupAddress",{address:e,name:t});return t}catch(e){a["default"].emit("error",{provider:this.name,method:"lookupAddress",error:e});throw e}}async request(e,t){try{await this.getAlchemy(this.chainId);const i=typeof window==="undefined"||!window.document;if(i){if(!this.provider){throw new Error("No provider set")}const i=await this.provider.send(e,t);a["default"].emit("requestMade",{provider:this.name,method:e,params:t,result:i});return i}if(!this.alchemy){throw new Error("No Alchemy set")}const o=await this.alchemy.core.send(e,t);a["default"].emit("requestMade",{provider:this.name,method:e,params:t,result:o});return o}catch(t){a["default"].emit("error",{provider:this.name,method:e,error:t});throw t}}setSigner(e){if(!e){throw new Error("Invalid signer")}this.signer=e}async setChainId(e){if(this.chainId===e){return}this.chainId=e}isBackgroundContext(){return typeof window==="undefined"||!window.document}async ensureProvider(){if(this.isBackgroundContext()){if(!this.provider){const e=await this.getProviderURL();this.provider=new p.JsonRpcProvider(e)}}else{await this.getAlchemy(this.chainId);if(!this.alchemy){throw new Error("No Alchemy set")}}}async makeRpcCall(e,t){await this.ensureProvider();if(this.isBackgroundContext()){if(!this.provider){throw new Error("No provider set")}return this.provider.send(e,t)}else{if(!this.alchemy){throw new Error("No Alchemy set")}return this.alchemy.core.send(e,t)}}}function getConfig(e,t=undefined){try{const i="pBm4VA9q8Laz9x3bmXTNZ9m-ArxczEWk"||0||0;let o=t??i;let a=u.N.ETH_MAINNET;switch(e){case 11155111:o=t??i;a=u.N.ETH_SEPOLIA;break;case 1:default:o=t??i;a=u.N.ETH_MAINNET;break}return{apiKey:o,network:a}}catch(e){m.log.error(e);return undefined}}},"./src/lib/managers/providers/network/alchemy/RPCAlchemy.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{RPCAlchemy:()=>RPCAlchemy});var o=i("./src/lib/managers/RPCBase.ts");var a=i("./src/lib/common/logger-wrapper.ts");var l=i("./src/lib/common/bignumber-ethereum.ts");class RPCAlchemy extends o.RPCBase{requestQueue=[];processingQueue=false;lastRequestTime=0;minRequestInterval=100;maxRetries=3;retryDelay=1e3;constructor(e,t){const i={baseURL:`https://eth-mainnet.g.alchemy.com/v2/${e}`,apiKey:e,timeout:8e3,...t};super(i)}async processQueue(){if(this.processingQueue||this.requestQueue.length===0)return;this.processingQueue=true;while(this.requestQueue.length>0){const e=Date.now();const t=e-this.lastRequestTime;if(t<this.minRequestInterval){await new Promise(e=>setTimeout(e,this.minRequestInterval-t))}const i=this.requestQueue.shift();if(i){try{await i()}catch(e){a.log.error("[RPCAlchemy] Error processing request",false,e)}}this.lastRequestTime=Date.now()}this.processingQueue=false}async makeRequestWithRetry(e,t){let i;for(let o=0;o<this.maxRetries;o++){try{const i=await this.request(e,t);return i}catch(t){i=t;if(t.code===429){const t=this.retryDelay*Math.pow(2,o);a.log.warn(`[RPCAlchemy] Rate limited, retrying in ${t}ms`,false,{attempt:o,method:e});await new Promise(e=>setTimeout(e,t));continue}throw t}}throw i}async getBlock(e="latest"){try{a.log.info("[RPCAlchemy] Fetching block",false,{blockTag:e});return await this.request("eth_getBlockByNumber",[e,false])}catch(e){a.log.error("[RPCAlchemy] Error fetching block",false,e);throw e}}async getTransaction(e){try{a.log.info("[RPCAlchemy] Fetching transaction",false,{txHash:e});return await this.request("eth_getTransactionByHash",[e])}catch(e){a.log.error("[RPCAlchemy] Error fetching transaction",false,e);throw e}}async getBalance(e,t="latest"){try{a.log.info("[RPCAlchemy] Fetching balance",false,{address:e,blockTag:t});return new Promise((i,o)=>{const l=setTimeout(()=>{o(new Error("Balance request timeout after 10 seconds"))},1e4);this.requestQueue.push(async()=>{try{const o=await this.makeRequestWithRetry("eth_getBalance",[e,t]);clearTimeout(l);i(o)}catch(t){clearTimeout(l);a.log.warn("[RPCAlchemy] Balance request failed, returning 0",false,{address:e,error:t instanceof Error?t.message:t});i("0x0")}});this.processQueue()})}catch(e){a.log.error("[RPCAlchemy] Error fetching balance",false,e);return"0x0"}}async getCode(e,t="latest"){try{a.log.info("[RPCAlchemy] Fetching code",false,{address:e,blockTag:t});return await this.request("eth_getCode",[e,t])}catch(e){a.log.error("[RPCAlchemy] Error fetching code",false,e);throw e}}async estimateGas(e){try{a.log.info("[RPCAlchemy] Estimating gas",false,{params:e});const t=Array.isArray(e)?e[0]:e;const i={from:t.from,to:t.to,data:t.data||t.input};if(t.value!==undefined){i.value=t.value}if(t.gas!==undefined){i.gas=t.gas}if(t.gasPrice!==undefined){i.gasPrice=t.gasPrice}if(t.maxFeePerGas!==undefined){i.maxFeePerGas=t.maxFeePerGas}if(t.maxPriorityFeePerGas!==undefined){i.maxPriorityFeePerGas=t.maxPriorityFeePerGas}if(t.nonce!==undefined){i.nonce=t.nonce}a.log.debug("[RPCAlchemy] Sending gas estimation request",false,{tx:i});const o=await this.request("eth_estimateGas",[i]);a.log.debug("[RPCAlchemy] Gas estimation result",false,{result:o});return o}catch(e){a.log.error("[RPCAlchemy] Error estimating gas",false,e);throw e}}async ethCall(e,t="latest"){try{a.log.info("[RPCAlchemy] Making eth_call",false,{transaction:e,blockTag:t});const i={from:e.from,to:e.to,data:e.data,quantity:e.value?.toString(),gasLimit:e.gas?.toString(),gasPrice:e.gasPrice?.toString(),nonce:e.nonce?.toString()};return await this.request("eth_call",[i,t])}catch(e){a.log.error("[RPCAlchemy] Error in eth_call",false,e);throw e}}async getGasPrice(){try{a.log.info("[RPCAlchemy] Getting gas price",false);const e=await this.request("eth_gasPrice");return l.EthereumBigNumber.from(e)}catch(e){a.log.error("[RPCAlchemy] Error getting gas price",false,e);throw e}}async getNonce(e,t="latest"){try{a.log.info("[RPCAlchemy] Getting nonce",false,{address:e,blockTag:t});return await this.request("eth_getTransactionCount",[e,t])}catch(e){a.log.error("[RPCAlchemy] Error getting nonce",false,e);throw e}}async getTransactionReceipt(e){try{a.log.info("[RPCAlchemy] Getting transaction receipt",false,{txHash:e});return await this.request("eth_getTransactionReceipt",[e])}catch(e){a.log.error("[RPCAlchemy] Error getting transaction receipt",false,e);throw e}}async getLogs(e){try{a.log.info("[RPCAlchemy] Getting logs",false,{filter:e});return await this.request("eth_getLogs",[e])}catch(e){a.log.error("[RPCAlchemy] Error getting logs",false,e);throw e}}}},"./src/lib/managers/providers/network/ethereum_provider/alchemy.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAlchemyProvider:()=>getAlchemyProvider});var o=i("../../node_modules/.pnpm/events@3.3.0/node_modules/events/events.js");var a=i.n(o);var l=i("./src/lib/managers/Logger.ts");var u=i("./src/lib/managers/providers/network/ethereum_provider/eip-types.ts");var d=i("./src/lib/common/stores.ts");function getAlchemyApiKey(e="0x1"){const t="pBm4VA9q8Laz9x3bmXTNZ9m-ArxczEWk"||0||0;if(!t){l.log.warn("No Alchemy API key found",false)}return t}function getAlchemyRpcUrl(e="0x1"){const t=getAlchemyApiKey(e);const i=parseInt(e,16);let o="mainnet";switch(i){case 1:o="mainnet";break;case 5:o="goerli";break;case 11155111:o="sepolia";break;case 137:o="polygon-mainnet";break;case 80001:o="polygon-mumbai";break;case 42161:o="arbitrum-mainnet";break;case 421613:o="arbitrum-goerli";break;case 10:o="optimism-mainnet";break;case 420:o="optimism-goerli";break;default:o="mainnet"}return`https://eth-${o}.alchemyapi.io/v2/${t}`}async function makeAlchemyRequest(e,t,i="0x1"){const o=getAlchemyRpcUrl(i);const a=getAlchemyApiKey(i);if(!a){throw new Error("No Alchemy API key available")}try{const i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:Date.now(),method:e,params:t})});if(!i.ok){throw new Error(`HTTP error! status: ${i.status}`)}const a=await i.json();if(a.error){throw{code:a.error.code||-32603,message:a.error.message||"Unknown error",data:a.error.data}}return a.result}catch(i){l.log.error("Error making Alchemy request",false,{method:e,params:t,error:i,url:o});throw i}}const p=[""];const m=["eth_requestAccounts","eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData_v4","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset"];class AlchemyProvider extends o.EventEmitter{chainId="0x1";networkVersion="1";accounts=[];isConnected=false;constructor(){super();this.setMaxListeners(100);this.initialize()}async initialize(){try{const e=await(0,d.getYakklCurrentlySelected)();if(e&&e.shortcuts){this.chainId="0x"+e.shortcuts.chainId.toString(16);this.networkVersion=e.shortcuts.chainId.toString();if(e.shortcuts.address){this.accounts=[e.shortcuts.address]}else{this.accounts=p}}else{this.chainId="0x1";this.networkVersion="1";this.accounts=p}this.isConnected=true;this.emit("connect",{chainId:this.chainId})}catch(e){l.log.error("Error initializing Alchemy provider",false,e);this.isConnected=false}}requiresPermission(e){return m.includes(e)}async getChainId(){try{const e=await(0,d.getYakklCurrentlySelected)();if(e&&e.shortcuts&&e.shortcuts.chainId){this.chainId="0x"+e.shortcuts.chainId.toString(16)}return this.chainId}catch(e){l.log.error("Error getting chainId",false,e);return this.chainId}}async getNetworkVersion(){try{const e=await(0,d.getYakklCurrentlySelected)();if(e&&e.shortcuts&&e.shortcuts.chainId){this.networkVersion=e.shortcuts.chainId.toString()}return this.networkVersion}catch(e){l.log.error("Error getting networkVersion",false,e);return this.networkVersion}}async getAccounts(){try{const e=await(0,d.getYakklCurrentlySelected)();if(e&&e.shortcuts&&e.shortcuts.address){this.accounts=[e.shortcuts.address]}return this.accounts}catch(e){l.log.error("Error getting accounts",false,e);return this.accounts}}async requestAccounts(){return this.accounts}async switchChain(e){this.chainId=e;this.networkVersion=parseInt(e,16).toString();this.emit("chainChanged",e);return null}async addChain(e){l.log.debug("Add chain request",false,e);return null}async watchAsset(e){l.log.debug("Watch asset request",false,e);return true}async getBalance(e,t="latest"){try{return await makeAlchemyRequest("eth_getBalance",[e,t],this.chainId)}catch(i){l.log.error("Error getting balance",false,{address:e,blockTag:t,error:i});throw i}}async call(e,t="latest"){try{return await makeAlchemyRequest("eth_call",[e,t],this.chainId)}catch(i){l.log.error("Error making call",false,{transaction:e,blockTag:t,error:i});throw i}}async estimateGas(e){try{return await makeAlchemyRequest("eth_estimateGas",[e],this.chainId)}catch(t){l.log.error("Error estimating gas",false,{transaction:e,error:t});throw t}}async getBlockByNumber(e,t){try{return await makeAlchemyRequest("eth_getBlockByNumber",[e,t],this.chainId)}catch(i){l.log.error("Error getting block by number",false,{blockNumber:e,includeTransactions:t,error:i});throw i}}async getBlockByHash(e,t){try{return await makeAlchemyRequest("eth_getBlockByHash",[e,t],this.chainId)}catch(i){l.log.error("Error getting block by hash",false,{blockHash:e,includeTransactions:t,error:i});throw i}}async getTransactionByHash(e){try{return await makeAlchemyRequest("eth_getTransactionByHash",[e],this.chainId)}catch(t){l.log.error("Error getting transaction by hash",false,{txHash:e,error:t});throw t}}async getTransactionReceipt(e){try{return await makeAlchemyRequest("eth_getTransactionReceipt",[e],this.chainId)}catch(t){l.log.error("Error getting transaction receipt",false,{txHash:e,error:t});throw t}}async getCode(e,t="latest"){try{return await makeAlchemyRequest("eth_getCode",[e,t],this.chainId)}catch(i){l.log.error("Error getting code",false,{address:e,blockTag:t,error:i});throw i}}async getStorageAt(e,t,i="latest"){try{return await makeAlchemyRequest("eth_getStorageAt",[e,t,i],this.chainId)}catch(o){l.log.error("Error getting storage at",false,{address:e,position:t,blockTag:i,error:o});throw o}}async getBlockNumber(){try{return await makeAlchemyRequest("eth_blockNumber",[],this.chainId)}catch(e){l.log.error("Error getting block number",false,{error:e});throw e}}async getGasPrice(){try{return await makeAlchemyRequest("eth_gasPrice",[],this.chainId)}catch(e){l.log.error("Error getting gas price",false,{error:e});throw e}}async getTransactionCount(e,t="latest"){try{return await makeAlchemyRequest("eth_getTransactionCount",[e,t],this.chainId)}catch(i){l.log.error("Error getting transaction count",false,{address:e,blockTag:t,error:i});throw i}}async sign(e,t){return"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}async personalSign(e,t){return"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}async signTypedData(e,t){return"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"}async sendTransaction(e){return"0x0000000000000000000000000000000000000000000000000000000000000000"}async request(e){const{method:t,params:i=[]}=e;try{switch(t){case"eth_chainId":return this.getChainId();case"net_version":return this.getNetworkVersion();case"eth_accounts":l.log.info("eth_accounts - alchemy.ts",false,{params:i});return this.getAccounts();case"eth_requestAccounts":l.log.info("eth_requestAccounts - alchemy.ts",false,{params:i});return this.requestAccounts();case"eth_getBalance":return this.getBalance(i[0],i[1]);case"eth_sendTransaction":return this.sendTransaction(i[0]);case"eth_call":return this.call(i[0],i[1]);case"eth_estimateGas":return this.estimateGas(i[0]);case"eth_getBlockByNumber":return this.getBlockByNumber(i[0],i[1]);case"eth_getBlockByHash":return this.getBlockByHash(i[0],i[1]);case"eth_getTransactionByHash":return this.getTransactionByHash(i[0]);case"eth_getTransactionReceipt":return this.getTransactionReceipt(i[0]);case"eth_getCode":return this.getCode(i[0],i[1]);case"eth_getStorageAt":return this.getStorageAt(i[0],i[1],i[2]);case"eth_blockNumber":return this.getBlockNumber();case"eth_gasPrice":return this.getGasPrice();case"eth_getTransactionCount":return this.getTransactionCount(i[0],i[1]);case"personal_sign":return this.personalSign(i[0],i[1]);case"eth_signTypedData_v4":return this.signTypedData(i[0],i[1]);case"wallet_switchEthereumChain":return this.switchChain(i[0].chainId);case"wallet_addEthereumChain":return this.addChain(i[0]);case"wallet_watchAsset":return this.watchAsset(i[0]);default:try{const e=await makeAlchemyRequest(t,i,this.chainId);return e}catch(e){throw{code:u.EIP1193_ERRORS.UNSUPPORTED_METHOD.code,message:`Method ${t} not supported`,data:e}}}}catch(e){l.log.error("Error in Alchemy provider request",false,{method:t,params:i,error:e});throw e}}}let g=null;function getAlchemyProvider(){if(!g){g=new AlchemyProvider}return g}},"./src/lib/managers/providers/network/ethereum_provider/eip-types.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EIP1193_ERRORS:()=>o});const o={USER_REJECTED:{code:4001,message:"The user rejected the request."},UNAUTHORIZED:{code:4100,message:"The requested method and/or account has not been authorized by the user."},UNSUPPORTED_METHOD:{code:4200,message:"The Provider does not support the requested method."},DISCONNECTED:{code:4900,message:"The Provider is disconnected from all chains."},CHAIN_DISCONNECTED:{code:4901,message:"The Provider is not connected to the requested chain."},TIMEOUT:{code:4902,message:"The request timed out."},INTERNAL_ERROR:{code:-32603,message:"Internal error"}}},"./src/lib/managers/providers/price/coinbase/CoinbasePriceProvider.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{CoinbasePriceProvider:()=>CoinbasePriceProvider});var o=i("../../node_modules/.pnpm/@ethersproject+web@5.8.0/node_modules/@ethersproject/web/lib.esm/index.js");var a=i("./src/lib/managers/Logger.ts");class CoinbasePriceProvider{getAPIKey(){return undefined.VITE_COINBASE_API_KEY}getName(){return"Coinbase"}async getMarketPrice(e){try{if(!e){return{provider:this.getName(),price:0,lastUpdated:new Date,status:404,message:`Invalid pair - ${e}`}}e=await this.getProviderPairFormat(e);const[t,i]=e.split("-");if(!t||!i){return{provider:this.getName(),price:0,lastUpdated:new Date,status:404,message:`Invalid pair - ${e}`}}if(t==="USDC"){return{provider:this.getName(),price:parseFloat("1.00"),lastUpdated:new Date,currency:i,status:0,message:""}}if(t==="WETH"){e=`ETH-${i}`}if(t==="WBTC"){e=`BTC-${i}`}const a=await(0,o.fetchJson)(`https://api.coinbase.com/api/v3/brokerage/market/products?limit=1&product_ids=${e}`);if(a.num_products<=0){return{provider:this.getName(),price:0,lastUpdated:new Date,status:404,message:`No data found for - ${e}`}}return{provider:this.getName(),price:parseFloat(a.products[0].price),lastUpdated:new Date,currency:i,status:0,message:""}}catch(e){a.log.error("CoinbasePriceProvider - getPrice - error",e);let t=404;let i=`Error - ${e}`;if(e.response&&e.response.status===429){t=429;i="Too Many Requests - Rate limit exceeded"}return{provider:this.getName(),price:0,lastUpdated:new Date,status:t,message:i}}}async getProviderPairFormat(e){return e}}},"./src/lib/managers/tokens/defaultTokens.json":e=>{"use strict";e.exports=JSON.parse('[{"name":"Ethereum","address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","symbol":"ETH","decimals":18,"chainId":1,"sidepanel":true,"evmCompatible":true,"isNative":true,"isStablecoin":false,"logoURI":"../../../images/ethereum.svg","url":"https://www.tradingview.com/symbols/ETHUSD/"},{"name":"Wrapped Ether","address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","symbol":"WETH","decimals":18,"chainId":1,"sidepanel":true,"evmCompatible":true,"isNative":false,"isStablecoin":false,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png","url":"https://www.tradingview.com/symbols/ETHUSD/"},{"name":"Tether USD","address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","symbol":"USDT","decimals":6,"chainId":1,"sidepanel":true,"evmCompatible":true,"isNative":false,"isStablecoin":true,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png","url":"https://www.tradingview.com/symbols/USDT/"},{"name":"USDCoin","address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48","symbol":"USDC","decimals":6,"chainId":1,"sidepanel":true,"evmCompatible":true,"isNative":false,"isStablecoin":true,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png","url":"https://www.tradingview.com/symbols/USDC/"},{"name":"Wrapped BTC","address":"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599","symbol":"WBTC","decimals":8,"chainId":1,"sidepanel":true,"evmCompatible":true,"isNative":false,"isStablecoin":false,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png","url":"https://www.tradingview.com/symbols/BTCUSD/"}]')},"./src/lib/managers/tokens/loadDefaultTokens.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{loadDefaultTokens:()=>loadDefaultTokens});var o=i("./src/lib/common/stores.ts");var a=i("./src/lib/managers/Logger.ts");var l=i("./src/lib/managers/tokens/defaultTokens.json");async function loadDefaultTokens(){try{console.log(">>>> loadDefaultTokens");const e=l.map(e=>{if(!validateToken(e)){throw new Error(`Invalid token data: ${JSON.stringify(e)}`)}return{address:e.address,name:e.name,symbol:e.symbol,decimals:e.decimals,chainId:e.chainId,isNative:e.isNative??false,isStablecoin:e.isStablecoin??false,logoURI:e.logoURI??"",description:e.description??"",balance:e.balance??0n,quantity:e.quantity??0,price:e.price??{price:e.price?.price??0,isNative:e.price?.isNative??false,provider:e.price?.provider??"",lastUpdated:e.price?.lastUpdated??0,chainId:e.price?.chainId??1,currency:e.price?.currency??"",status:e.price?.status??"",message:e.price?.message??""},change:e.change??[],value:e.value??0,tags:e.tags??[],version:e.version??"",customDefault:"default",sidepanel:e.sidepanel??true,evmCompatible:e.evmCompatible??true,url:e.url??""}});await(0,o.setYakklTokenDataStorage)(e);a.log.info(`Successfully loaded ${e.length} default tokens`,false,{tokenSymbols:e.map(e=>e.symbol)})}catch(e){a.log.warn("Failed to load default tokens:",false,e)}}function validateToken(e){return typeof e.address==="string"&&typeof e.name==="string"&&typeof e.symbol==="string"&&typeof e.decimals==="number"&&typeof e.chainId==="number"&&typeof e.logoURI==="string"}},"./src/lib/managers/utilities/EthersConverter.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{EthersConverter:()=>EthersConverter});var o=i("./src/lib/managers/Logger.ts");class EthersConverter{static toEthersHex(e){if(e===null||e===undefined)return null;if(typeof e==="string"&&e.startsWith("0x"))return e;return"0x"+BigInt(e.toString()).toString(16)}static transactionToEthersTransaction(e){return{to:e.to??undefined,from:e.from??undefined,nonce:e.nonce===-1?undefined:e.nonce,gasLimit:this.toEthersHex(e.gasLimit),gasPrice:this.toEthersHex(e.gasPrice),maxPriorityFeePerGas:this.toEthersHex(e.maxPriorityFeePerGas),maxFeePerGas:this.toEthersHex(e.maxFeePerGas),data:e.data?.toString()??undefined,value:this.toEthersHex(e.quantity),chainId:this.toEthersHex(e.chainId)??undefined,accessList:e.accessList??undefined,customData:e.customData,type:e.type}}static async ethersTransactionResponseToTransactionResponse(e){return{hash:e.hash,to:e.to??"",from:e.from,nonce:e.nonce,gasLimit:e.gasLimit,gasPrice:e.gasPrice,data:e.data,quantity:e.value,chainId:e.chainId,blockNumber:e.blockNumber??undefined,blockHash:e.blockHash??undefined,timestamp:(new Date).getTime(),confirmations:await e.confirmations(),type:e.type??undefined,accessList:e.accessList??undefined,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas,wait:async t=>{const i=await e.wait(t);if(!i){throw new Error("Transaction receipt is null")}return this.ethersTransactionReceiptToTransactionReceipt(i)}}}static async ethersTransactionReceiptToTransactionReceipt(e){return{to:e.to??"",from:e.from,contractAddress:e.contractAddress??undefined,transactionIndex:e.index,root:e.root??undefined,gasUsed:e.gasUsed,logsBloom:e.logsBloom,blockHash:e.blockHash,transactionHash:e.hash,logs:e.logs.map(this.ethersLogToLog),blockNumber:e.blockNumber,confirmations:await e.confirmations(),cumulativeGasUsed:e.cumulativeGasUsed,effectiveGasPrice:e.gasPrice??undefined,byzantium:true,type:e.type,status:e.status!==null?e.status:undefined}}static ethersLogToLog(e){return{blockNumber:e.blockNumber,blockHash:e.blockHash,transactionIndex:e.transactionIndex,removed:e.removed,address:e.address,data:e.data,topics:[...e.topics],transactionHash:e.transactionHash,logIndex:e.index}}static ethersTransactionRequestToTransactionRequest(e){try{if(!e)return null;return{to:e.to,from:e.from,nonce:e.nonce,gasLimit:e.gasLimit?BigInt(e.gasLimit.toString()):undefined,gasPrice:e.gasPrice?BigInt(e.gasPrice.toString()):undefined,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas.toString()):undefined,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas.toString()):undefined,data:e.data,quantity:e.value?BigInt(e.value.toString()):null,chainId:e.chainId,accessList:this.convertAccessList(e.accessList),customData:e.customData,type:e.type}}catch(e){o.log.error("Error converting ethers transaction request to transaction request:",false,e);return null}}static convertAccessList(e){if(!e)return undefined;if(Array.isArray(e)){return e.map(e=>{if(Array.isArray(e)){return{address:e[0],storageKeys:e[1]}}else{return{address:e.address,storageKeys:e.storageKeys}}})}return Object.entries(e).map(([e,t])=>({address:e,storageKeys:t}))}}},"./src/lib/models/dataModels.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{prerender:()=>u,profile:()=>A,sampleWatch:()=>U,yakklAccount:()=>I,yakklAccounts:()=>M,yakklBlocked:()=>_,yakklBlockedList:()=>L,yakklChat:()=>k,yakklChats:()=>O,yakklConnectedDomain:()=>N,yakklConnectedDomains:()=>D,yakklContact:()=>P,yakklContacts:()=>j,yakklCurrentlySelected:()=>T,yakklNFT:()=>C,yakklPreferences:()=>m,yakklPrimaryAccount:()=>x,yakklPrimaryAccounts:()=>B,yakklRegisteredData:()=>w,yakklSecurity:()=>y,yakklSettings:()=>g,yakklStoredObjects:()=>H,yakklWalletBlockchains:()=>d,yakklWalletProviders:()=>p,yakklWatch:()=>v,yakklWatchList:()=>F});var o=i("./src/lib/common/datetime.ts");var a=i("./src/lib/common/types.ts");var l=i("./src/lib/common/constants.ts");const u=false;let d=["Ethereum"];let p=["Alchemy"];const m={id:"",persona:l.DEFAULT_PERSONA,idleDelayInterval:60,showTestNetworks:true,dark:a.SystemTheme.SYSTEM,chart:"line",screenWidth:0,screenHeight:0,idleAutoLock:true,idleAutoLockCycle:l.IDLE_AUTO_LOCK_CYCLE,locale:"en_US",currency:{code:"USD",symbol:"$"},words:32,wallet:{title:l.DEFAULT_TITLE,extensionHeight:l.DEFAULT_EXT_HEIGHT,popupHeight:l.DEFAULT_POPUP_HEIGHT,popupWidth:l.DEFAULT_POPUP_WIDTH,enableContextMenu:false,enableResize:false,splashDelay:l.SPLASH_DELAY,alertDelay:l.ALERT_DELAY,splashImages:l.NUM_OF_SPLASH_IMAGES,autoLockTimer:0,autoLockAsk:false,autoLockAskTimer:10,animationLockScreen:false,pinned:true,pinnedLocation:"M",defaultWallet:true},theme:"yakkl",themes:[{name:"yakkl",animation:{lockScreen:""},colors:{primary:"",secondary:"",primaryBackgroundLight:"",primaryBackgroundDark:""}}],version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let g={id:"",persona:l.DEFAULT_PERSONA,version:l.VERSION,previousVersion:"",plan:{type:a.PlanType.BASIC_MEMBER,source:a.AccessSourceType.STANDARD,promo:null,trialEndDate:null,upgradeDate:null},trialCountdownPinned:false,legal:{termsAgreed:false,privacyViewed:false,updated:false},platform:{arch:"",nacl_arch:"",os:"",osVersion:"",browser:"",browserVersion:"",platform:""},init:false,showHints:true,isLocked:true,isLockedHow:"",transactions:{retry:{enabled:true,howManyAttempts:3,seconds:30,baseFeeIncrease:.1,priorityFeeIncrease:.1},retain:{enabled:true,days:-1,includeRaw:true}},meta:{},upgradeDate:"",lastAccessDate:(0,o.dateString)(),createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let v={id:"",persona:l.DEFAULT_PERSONA,blockchain:"",name:"",tags:[],quantity:0n,includeInPortfolio:false,explorer:"",address:"",addressAlias:"",version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let y={id:"",persona:l.DEFAULT_PERSONA,type:"",value:"",enhancedSecurity:{enabled:false,rotationDays:0,lastRotationDate:"",passKey:"",passKeyHints:[],mfaType:"",phone:""},version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let _={id:"",persona:l.DEFAULT_PERSONA,domain:""};let w={id:"",persona:l.DEFAULT_PERSONA,key:"",plan:{type:a.PlanType.BASIC_MEMBER,source:a.AccessSourceType.STANDARD,promo:a.PromoClassificationType.NONE,trialEndDate:"",upgradeDate:""},version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let A={id:"",persona:l.DEFAULT_PERSONA,userName:"",preferences:m,data:{},version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let k={id:"",persona:l.DEFAULT_PERSONA,text:"",sender:"",timestamp:"",version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let T={id:"",persona:l.DEFAULT_PERSONA,shortcuts:{quantity:0n,accountType:a.AccountTypeCategory.PRIMARY,accountName:l.YAKKL_ZERO_ACCOUNT_NAME,smartContract:false,address:l.YAKKL_ZERO_ADDRESS,alias:"",primary:null,init:false,legal:false,isLocked:true,showTestNetworks:false,profile:{userName:"",name:null,email:""},gasLimit:21e3,networks:[{blockchain:"Ethereum",name:"Mainnet",chainId:1,symbol:"ETH",type:a.NetworkType.MAINNET,explorer:"https://etherscan.io",decimals:18},{blockchain:"Ethereum",name:"Sepolia",chainId:11155111,symbol:"ETH",type:a.NetworkType.TESTNET,explorer:"https://sepolia.etherscan.io",decimals:18}],network:{blockchain:"Ethereum",name:"Mainnet",chainId:1,symbol:"ETH",type:a.NetworkType.MAINNET,explorer:"https://etherscan.io",decimals:18},blockchain:"Ethereum",type:"Mainnet",chainId:1,symbol:"ETH",explorer:"https://etherscan.io"},preferences:{locale:"en_US",currency:{code:"USD",symbol:"$"}},data:{},version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let x={id:"",persona:l.DEFAULT_PERSONA,name:l.YAKKL_ZERO_ACCOUNT_NAME,address:l.YAKKL_ZERO_ADDRESS,quantity:0n,index:0,data:{},account:{},subIndex:0,subAccounts:[],version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let I={id:"",persona:l.DEFAULT_PERSONA,index:0,blockchain:"Ethereum",smartContract:false,address:l.YAKKL_ZERO_ADDRESS,alias:"",accountType:a.AccountTypeCategory.PRIMARY,name:l.YAKKL_ZERO_ACCOUNT_NAME,description:"",primaryAccount:x,data:{},quantity:0n,class:"Default",level:"L1",isSigner:true,avatar:"",tags:["Ethereum"],includeInPortfolio:true,connectedDomains:[],version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};x.account=I;let N={id:"",persona:l.DEFAULT_PERSONA,addresses:[],name:"",permissions:{},domain:"",icon:"",version:l.VERSION,status:"",revoked:{},chainId:1,url:"",createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()};let P={id:"",persona:l.DEFAULT_PERSONA,name:"",address:"",addressType:"EOA",avatar:"",blockchain:"Ethereum",alias:"",note:"",version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)(),meta:{}};let C={id:"",persona:l.DEFAULT_PERSONA,name:"",description:"",token:"",thumbnail:"",blockchain:"",media:[{type:"image",url:""}],contract:"",owner:"",version:l.VERSION,transferDate:"",createDate:(0,o.dateString)(),updateDate:(0,o.dateString)(),meta:{}};let M=[I];let B=[x];let j=[P];let O=[k];let D=[N];let L=[_];let F=[v];let U=[{id:"",persona:l.DEFAULT_PERSONA,blockchain:"Ethereum",name:"Watcher 1",tags:["Binance 8","Uniswap"],quantity:".000455",includeInPortfolio:true,explorer:"",address:"0xf977814e90da44bfa03b6295a0616a897441acec",addressAlias:"",version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()},{id:"",persona:l.DEFAULT_PERSONA,blockchain:"Ethereum",name:"Watcher 2",tags:["Vb","Token holdings"],quantity:"0.0",includeInPortfolio:false,explorer:"https://etherscan.io/tokenholdings?a=0xab5801a7d398351b8be11c439e05c5b3259aec9b",address:"0xAb5801a7D398351b8bE11C439e05C5B3259aeC9B",addressAlias:"Vb",version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()},{id:"",persona:l.DEFAULT_PERSONA,blockchain:"Ethereum",name:"Watcher 3",tags:["barmstrong.eth","coinbase","address"],quantity:"0.0",includeInPortfolio:false,explorer:"https://etherscan.io/address/0x5b76f5b8fc9d700624f78208132f91ad4e61a1f0",address:"0x5b76f5B8fc9D700624F78208132f91AD4e61a1f0",addressAlias:"barmstrong.eth",version:l.VERSION,createDate:(0,o.dateString)(),updateDate:(0,o.dateString)()}];const H=[{key:"preferences",value:m},{key:"settings",value:g},{key:"yakklCurrentlySelected",value:T},{key:"yakklSecurity",value:y},{key:"yakklWalletBlockchains",value:d},{key:"yakklWalletProviders",value:p},{key:"profile",value:A},{key:"yakklBlockedList",value:L},{key:"yakklWatchList",value:U},{key:"yakklConnectedDomains",value:[]}]},"./src/lib/permissions/handlers.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{isPermissionValid:()=>isPermissionValid,rejectPermissionRequest:()=>rejectPermissionRequest,resolvePermissionRequest:()=>resolvePermissionRequest});var o=i("./src/lib/permissions/types.ts");var a=i("./src/lib/permissions/storage.ts");var l=i("./src/lib/permissions/security.ts");var u=i("./src/lib/managers/Logger.ts");async function isPermissionValid(e){try{const t=await(0,a.getPermission)(e);if(!t)return false;const i=await(0,l.getSecurityLevel)();switch(i){case o.SecurityLevel.HIGH:const e=await(0,a.getCurrentSessionId)();return t.sessionId===e;case o.SecurityLevel.MEDIUM:case o.SecurityLevel.STANDARD:return t.expiresAt>Date.now();default:return false}}catch(t){u.log.error("Error checking permission validity",false,{origin:e,error:t});return false}}function resolvePermissionRequest(e,t){if(d[e]){d[e].resolve(t);delete d[e];return true}u.log.warn("No permission callback found for request",false,{requestId:e});return false}function rejectPermissionRequest(e,t){if(d[e]){d[e].reject(new Error(t||"User rejected the request"));delete d[e];return true}u.log.warn("No permission callback found for request",false,{requestId:e});return false}const d={}},"./src/lib/permissions/index.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SecurityLevel:()=>o.SecurityLevel,getAllPermissions:()=>a.getAllPermissions,getCurrentSessionId:()=>a.getCurrentSessionId,getExpiryDays:()=>l.getExpiryDays,getPermission:()=>a.getPermission,getSecurityLevel:()=>l.getSecurityLevel,initializePermissions:()=>initializePermissions,isPermissionValid:()=>u.isPermissionValid,rejectPermissionRequest:()=>u.rejectPermissionRequest,removePermission:()=>a.removePermission,resolvePermissionRequest:()=>u.resolvePermissionRequest,setSecurityLevel:()=>l.setSecurityLevel,storePermission:()=>a.storePermission,updatePermissionUsage:()=>a.updatePermissionUsage});var o=i("./src/lib/permissions/types.ts");var a=i("./src/lib/permissions/storage.ts");var l=i("./src/lib/permissions/security.ts");var u=i("./src/lib/permissions/handlers.ts");var d=i("./src/lib/managers/Logger.ts");var p=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var m=i.n(p);function initializePermissions(){try{setInterval(async()=>{try{await Promise.resolve().then(i.bind(i,"./src/lib/permissions/storage.ts")).then(e=>e.getAllPermissions())}catch(e){d.log.error("Error cleaning expired permissions",false,e)}},60*60*1e3)}catch(e){d.log.error("Failed to initialize permissions system",false,e)}}},"./src/lib/permissions/security.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getExpiryDays:()=>getExpiryDays,getSecurityLevel:()=>getSecurityLevel,setSecurityLevel:()=>setSecurityLevel});var o=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var a=i.n(o);var l=i("./src/lib/permissions/types.ts");var u=i("./src/lib/managers/Logger.ts");const d="walletSecurityLevel";async function getSecurityLevel(){try{const e=await a().storage.local.get(d);const t=e[d];if(t&&Object.values(l.SecurityLevel).includes(t)){return t}return l.SecurityLevel.MEDIUM}catch(e){u.log.error("Failed to get security level, defaulting to MEDIUM",false,e);return l.SecurityLevel.MEDIUM}}async function setSecurityLevel(e){try{await a().storage.local.set({[d]:e});u.log.debug("Security level updated",false,{level:e})}catch(t){u.log.error("Failed to set security level",false,{level:e,error:t});throw t}}function getExpiryDays(e){switch(e){case l.SecurityLevel.HIGH:return.5;case l.SecurityLevel.MEDIUM:return 7;case l.SecurityLevel.STANDARD:return 365;default:return 7}}},"./src/lib/permissions/storage.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getAllPermissions:()=>getAllPermissions,getCurrentSessionId:()=>getCurrentSessionId,getPermission:()=>getPermission,removePermission:()=>removePermission,storePermission:()=>storePermission,updatePermissionUsage:()=>updatePermissionUsage});var o=i("../../node_modules/.pnpm/webextension-polyfill@0.12.0/node_modules/webextension-polyfill/dist/browser-polyfill.js");var a=i.n(o);var l=i("./src/lib/utilities/crypto.ts");var u=i("./src/lib/managers/Logger.ts");const d="wallet_permission_";const p="walletSecurityLevel";const m="walletSessionId";let g=null;async function getCurrentSessionId(){if(g)return g;try{const e=await a().storage.session.get(m);if(e&&e[m]&&typeof e[m]==="string"){g=e[m];return g}}catch(e){u.log.debug("Session storage not available, generating new session ID")}g=(0,l.generateSessionId)();try{await a().storage.session.set({[m]:g})}catch(e){u.log.warn("Failed to store session ID in session storage",false,e)}return g}function getPermissionKey(e){return`${d}${btoa(e)}`}async function storePermission(e,t,i=7){try{const o=Date.now();const d={accounts:t,approvedAt:o,expiresAt:o+i*24*60*60*1e3,lastUsed:o,sessionId:await getCurrentSessionId()};const p=await(0,l.encryptWithDomainKey)(d,e);const m=getPermissionKey(e);await a().storage.local.set({[m]:p});u.log.debug("Stored permission data for origin",false,{origin:e,accounts:t})}catch(t){u.log.error("Failed to store permission data",false,{origin:e,error:t});throw t}}async function getPermission(e){try{const t=getPermissionKey(e);const i=await a().storage.local.get(t);const o=i[t];if(!o){return null}const d=await(0,l.decryptWithDomainKey)(o,e);if(d.expiresAt<Date.now()){await a().storage.local.remove(t);u.log.debug("Permission expired and removed",false,{origin:e});return null}return d}catch(t){u.log.error("Failed to retrieve permission data",false,{origin:e,error:t});return null}}async function removePermission(e){try{const t=getPermissionKey(e);await a().storage.local.remove(t);u.log.debug("Removed permission for origin",false,{origin:e})}catch(t){u.log.error("Failed to remove permission",false,{origin:e,error:t});throw t}}async function getAllPermissions(){try{const e=await a().storage.local.get(null);const t=new Map;for(const[i,o]of Object.entries(e)){if(i.startsWith(d)){try{const e=i.substring(d.length);const p=atob(e);const m=await(0,l.decryptWithDomainKey)(o,p);if(m.expiresAt>=Date.now()){t.set(p,m)}else{await a().storage.local.remove(i);u.log.debug("Removed expired permission during retrieval",false,{origin:p})}}catch(e){u.log.error("Failed to process permission entry",false,{key:i,error:e})}}}return t}catch(e){u.log.error("Failed to retrieve all permissions",false,e);return new Map}}async function updatePermissionUsage(e){try{const t=await getPermission(e);if(t){t.lastUsed=Date.now();const i=await(0,l.encryptWithDomainKey)(t,e);const o=getPermissionKey(e);await a().storage.local.set({[o]:i})}}catch(t){u.log.error("Failed to update permission usage",false,{origin:e,error:t})}}},"./src/lib/permissions/types.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{SecurityLevel:()=>o});var o;(function(e){e["HIGH"]="high";e["MEDIUM"]="medium";e["STANDARD"]="standard"})(o||(o={}))},"./src/lib/upgrades/upgrades.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{checkVersion:()=>checkVersion,removeBackups:()=>removeBackups,updateVersion:()=>updateVersion,upgrade:()=>upgrade});var o=i("./src/lib/common/storage.ts");var a=i("./src/lib/common/index.ts");var l=i("./src/lib/managers/Logger.ts");const u=["preferences","profile","settings","yakklAccounts","yakklBookmarkedArticles","yakklChats","yakklConnectedDomains","yakklContacts","yakklCombinedTokens","yakklCurrentlySelected","yakklPrimaryAccounts","yakklRegisteredData","yakklSecurity","yakklTokenData","yakklTokenDataCustom","yakklWalletBlockchains","yakklWalletProviders","yakklWatchList"];function upgrade(e,t){try{latest(t);l.log.info(`Upgraded from ${e} to ${t}`)}catch(e){l.log.warn(e)}}async function latest(e){console.log("upgrading settings");console.log("toVersion",e);const t=await(0,o.getObjectFromLocalStorage)("settings");(0,o.setObjectInLocalStorage)("settingsBackup",t);if(t){if(t.plan.source===undefined){t.plan.source=a.AccessSourceType.STANDARD}if(t.plan.promo===undefined){t.plan.promo=a.PromoClassificationType.NONE}if(t.plan.trialEndDate===undefined){t.plan.trialEndDate=""}if(t.trialCountdownPinned===undefined){t.trialCountdownPinned=false}t.previousVersion=t.version;t.version=e;(0,o.setObjectInLocalStorage)("settings",t)}console.log("settings upgraded");console.log("yakklSettings",t);console.log("toVersion",e);removeBackups();updateVersion(e)}async function checkVersion(e){try{for(let t=0;t<u.length;t++){const i=u[t];const a=await(0,o.getObjectFromLocalStorage)(i);if(a?.version&&a.version!==e){return false}}return true}catch(e){l.log.warn(e)}}async function updateVersion(e){try{if(!e)return;for(let t=0;t<u.length;t++){const i=u[t].toString();let a=await(0,o.getObjectFromLocalStorage)(i);if(a){if(Array.isArray(a)){a=a.map(t=>({...t,version:e}))}else{a.version=e}await(0,o.setObjectInLocalStorage)(i,a)}else{l.log.info(`No data found for ${i}. May not have been initialized yet.`)}}}catch(e){l.log.warn(e)}}async function removeBackups(){try{(0,o.removeObjectFromLocalStorage)("settingsBackup")}catch(e){l.log.warn(e)}}},"./src/lib/utilities/connection.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{startCheckConnection:()=>startCheckConnection,stopCheckConnection:()=>stopCheckConnection});var o=i("./src/lib/common/index.ts");var a=i("./src/lib/common/stores.ts");var l=i("./src/lib/managers/TimerManager.ts");var u=i("./src/lib/utilities/utilities.ts");var d=i("./src/lib/managers/Logger.ts");let p;async function checkConnectionCB(){try{if(await(0,u.isOnline)(p)!==true){a.yakklConnectionStore.set(false)}else{a.yakklConnectionStore.set(true)}}catch(e){d.log.error(e)}}function stopCheckConnection(){try{(0,l.getTimerManager)().stopTimer("connection_checkConnection")}catch(e){d.log.error(e)}}function startCheckConnection(e="https://github.com/yakkl",t=o.TIMER_CONNECTION_INTERVAL_TIME){try{if(t>0){p=e;if((0,l.getTimerManager)().isRunning("connection_checkConnection")){return}(0,l.getTimerManager)().addTimer("connection_checkConnection",checkConnectionCB,t);(0,l.getTimerManager)().startTimer("connection_checkConnection")}}catch(e){d.log.error(e);(0,l.getTimerManager)().stopTimer("connection_checkConnection")}}},"./src/lib/utilities/crypto.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{arrayBufferToBase64:()=>arrayBufferToBase64,base64ToArrayBuffer:()=>base64ToArrayBuffer,createDomainKey:()=>createDomainKey,decryptWithDomainKey:()=>decryptWithDomainKey,encryptWithDomainKey:()=>encryptWithDomainKey,generateSessionId:()=>generateSessionId});function arrayBufferToBase64(e){const t=e instanceof Uint8Array?e:new Uint8Array(e);return btoa(String.fromCharCode(...t))}function base64ToArrayBuffer(e){const t=atob(e);const i=new Uint8Array(t.length);for(let e=0;e<t.length;e++){i[e]=t.charCodeAt(e)}return i.buffer}async function createDomainKey(e){const t=new TextEncoder;const i=t.encode(e);const o=await crypto.subtle.digest("SHA-256",i);return await crypto.subtle.importKey("raw",o,{name:"AES-GCM"},false,["encrypt","decrypt"])}async function encryptWithDomainKey(e,t){const i=await createDomainKey(t);const o=new TextEncoder;const a=JSON.stringify(e);const l=o.encode(a);const u=crypto.getRandomValues(new Uint8Array(12));const d=await crypto.subtle.encrypt({name:"AES-GCM",iv:u},i,l);return{encrypted:arrayBufferToBase64(d),iv:arrayBufferToBase64(u)}}async function decryptWithDomainKey(e,t){const i=await createDomainKey(t);const o=base64ToArrayBuffer(e.encrypted);const a=base64ToArrayBuffer(e.iv);const l=await crypto.subtle.decrypt({name:"AES-GCM",iv:a},i,o);const u=new TextDecoder;const d=u.decode(l);return JSON.parse(d)}function generateSessionId(){const e=new Uint8Array(16);crypto.getRandomValues(e);return Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}},"./src/lib/utilities/ethereum.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{getWallet:()=>getWallet});var o=i("../../node_modules/.pnpm/alchemy-sdk@3.6.0_bufferutil@4.0.9_typescript@5.8.3_utf-8-validate@5.0.10/node_modules/alchemy-sdk/dist/esm/index-643dc9bc.js");function getWallet(e){if(e.length>2&&e.slice(0,2)!=="0x"){e="0x"+e}return new o.W(e)}},"./src/lib/utilities/gas.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{debounce:()=>debounce,fetchBlocknativeData:()=>w,fetchEGSData:()=>k,fetchEtherscanData:()=>A,getBlocknativeData:()=>v,getEGSData:()=>_,getEtherscanData:()=>y,startCheckGasPrices:()=>startCheckGasPrices,stopCheckGasPrices:()=>stopCheckGasPrices});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var a=i("./src/lib/common/stores.ts");var l=i("./src/lib/managers/TimerManager.ts");var u=i("./src/lib/managers/Logger.ts");var d=i("./src/lib/common/index.ts");var p=i("./src/lib/managers/UnifiedTimerManager.ts");const now=()=>+Date.now()/1e3;let m=null;const g=[];async function checkGasPricesCB(){try{if((0,l.getTimerManager)().isRunning(d.TIMER_GAS_PRICE_CHECK)){if((0,o.get)(a.yakklConnectionStore)===true){const e=await w();a.yakklGasTransStore.set({provider:m,id:(0,l.getTimerManager)().getTimeoutID(d.TIMER_GAS_PRICE_CHECK),results:e})}}}catch(e){u.log.error(e)}}function setGasCBProvider(e){m=e}function stopCheckGasPrices(){try{(0,l.getTimerManager)().stopTimer(d.TIMER_GAS_PRICE_CHECK);setGasCBProvider(null)}catch(e){u.log.error(e)}}function startCheckGasPrices(e="blocknative",t=d.TIMER_CHECK_GAS_PRICE_INTERVAL_TIME){try{if(t>0){if((0,l.getTimerManager)().isRunning(d.TIMER_GAS_PRICE_CHECK)){return}setGasCBProvider(e);if(!(0,l.getTimerManager)().isRunning(d.TIMER_GAS_PRICE_CHECK)){(0,l.getTimerManager)().addTimer(d.TIMER_GAS_PRICE_CHECK,checkGasPricesCB,t);(0,l.getTimerManager)().startTimer(d.TIMER_GAS_PRICE_CHECK)}}}catch(e){u.log.error(e);(0,l.getTimerManager)().stopTimer(d.TIMER_GAS_PRICE_CHECK)}}const memoizeAsync=e=>{const t=10;let i=0;let o;return async()=>{const a=now()-i>t;if(a){i=now();o=await e()}return o}};const debounce=e=>{const t=p.UnifiedTimerManager.createDebounce(async()=>e(),500);return()=>new Promise((i,o)=>{try{const asyncWrapper=async()=>{try{const t=await e();i(t)}catch(e){o(e)}};t.cancel();const a=p.UnifiedTimerManager.createDebounce(asyncWrapper,500);a()}catch(e){o(e)}})};const v=memoizeAsync(async()=>(await fetch(undefined.VITE_GAS_BLOCKNATIVE_ENDPOINT)).json());const y=memoizeAsync(async()=>(await fetch(undefined.VITE_GAS_ETHERSCAN_ENDPOINT)).json());const _=memoizeAsync(async()=>(await fetch(undefined.VITE_GAS_ETHGASSTATION_ENDPOINT)).json());const w=debounce(async()=>{try{const e=await v();if(e?.blockPrices){const t=e.blockPrices[0];const i=t.estimatedPrices;const o=i.find(e=>e.confidence===99);const a=i.find(e=>e.confidence===95);const l=i.find(e=>e.confidence===90);const u=i.find(e=>e.confidence===80);const d=i.find(e=>e.confidence===70);if(g.length>4){g.shift()}g.push({blocknumber:t.blockNumber,baseFeePerGas:t.baseFeePerGas,maxPriorityFeePerGas:o.maxPriorityFeePerGas,maxFeePerGas:o.maxFeePerGas,timestamp:now()});const p=g.reduce((e,t)=>e+t.baseFeePerGas,0);const m=p/g.length;const v={blockNumber:t.blockNumber,estimatedTransactionCount:t.estimatedTransactionCount,gasProvider:"blocknative",actual:{baseFeePerGas:t.baseFeePerGas,fastest:{maxPriorityFeePerGas:o.maxPriorityFeePerGas,maxFeePerGas:o.maxFeePerGas},faster:{maxPriorityFeePerGas:a.maxPriorityFeePerGas,maxFeePerGas:a.maxFeePerGas},fast:{maxPriorityFeePerGas:l.maxPriorityFeePerGas,maxFeePerGas:l.maxFeePerGas},standard:{maxPriorityFeePerGas:u.maxPriorityFeePerGas,maxFeePerGas:u.maxFeePerGas},slow:{maxPriorityFeePerGas:d.maxPriorityFeePerGas,maxFeePerGas:d.maxFeePerGas}},gasFeeTrend:{baseFeePerGasAvg:m,mostRecentFees:g}};return v}else{return{}}}catch(e){u.log.error(e);return{}}});const A=debounce(async()=>{try{const{result:{SafeGasPrice:e,ProposeGasPrice:t,FastGasPrice:i}}=await y();return[parseInt(i,10),parseInt(t,10),parseInt(e,10)]}catch(e){u.log.error(e);return[0,0,0]}});const k=debounce(async()=>{try{const{fast:e,safeLow:t,average:i}=await _();return[e/10,i/10,t/10]}catch(e){u.log.error(e);return[0,0,0]}})},"./src/lib/utilities/identicons.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{identicon:()=>identicon});var o=i("../../node_modules/.pnpm/ethereum-blockies-base64@1.0.2/node_modules/ethereum-blockies-base64/dist/main.js");var a=i.n(o);function identicon(e){let t=undefined;try{t=a()(e)}catch{t="/images/favicon.png"}return t}},"./src/lib/utilities/index.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{autoscroll:()=>p.autoscroll,blockContextMenu:()=>p.blockContextMenu,blockWindowResize:()=>p.blockWindowResize,calculateFeeAmount:()=>p.calculateFeeAmount,calculateFeeBasisPointsPercent:()=>p.calculateFeeBasisPointsPercent,changeBackground:()=>p.changeBackground,checkForError:()=>p.checkForError,checkUpgrade:()=>p.checkUpgrade,convertToBigInt:()=>p.convertToBigInt,createHash:()=>p.createHash,debounce:()=>l.debounce,decrementProperty:()=>p.decrementProperty,deepCopy:()=>p.deepCopy,ensureDefaults:()=>p.ensureDefaults,extractFQDN:()=>p.extractFQDN,fetchBlocknativeData:()=>l.fetchBlocknativeData,fetchEGSData:()=>l.fetchEGSData,fetchEtherscanData:()=>l.fetchEtherscanData,formatBasisPointsToPercentage:()=>p.formatBasisPointsToPercentage,formatEther:()=>p.formatEther,formatFeeToUSD:()=>p.formatFeeToUSD,formatPrice:()=>p.formatPrice,formatQuantity:()=>p.formatQuantity,formatUnits:()=>p.formatUnits,formatValue:()=>p.formatValue,getBlocknativeData:()=>l.getBlocknativeData,getChainId:()=>p.getChainId,getCurrencyCode:()=>p.getCurrencyCode,getCurrencyCodeForUserLocale:()=>p.getCurrencyCodeForUserLocale,getCurrencySymbol:()=>p.getCurrencySymbol,getEGSData:()=>l.getEGSData,getEtherscanData:()=>l.getEtherscanData,getNetworkInfo:()=>p.getNetworkInfo,getOrDefault:()=>p.getOrDefault,getPlatform:()=>p.getPlatform,getSymbol:()=>p.getSymbol,getTokenChange:()=>p.getTokenChange,getWallet:()=>a.getWallet,handleOpenInTab:()=>p.handleOpenInTab,hexToBigInt:()=>p.hexToBigInt,hexToString:()=>p.hexToString,identicon:()=>u.identicon,incrementProperty:()=>p.incrementProperty,isOnline:()=>p.isOnline,map:()=>d.map,parseEther:()=>p.parseEther,parseUnits:()=>p.parseUnits,safeConvertBigIntToNumber:()=>p.safeConvertBigIntToNumber,setBadgeText:()=>p.setBadgeText,setDefinedProperty:()=>p.setDefinedProperty,setIconLock:()=>p.setIconLock,setIconUnlock:()=>p.setIconUnlock,splitWords:()=>p.splitWords,startCheckConnection:()=>o.startCheckConnection,startCheckGasPrices:()=>l.startCheckGasPrices,stopCheckConnection:()=>o.stopCheckConnection,stopCheckGasPrices:()=>l.stopCheckGasPrices,timeoutClipboard:()=>p.timeoutClipboard,truncate:()=>p.truncate});var o=i("./src/lib/utilities/connection.ts");var a=i("./src/lib/utilities/ethereum.ts");var l=i("./src/lib/utilities/gas.ts");var u=i("./src/lib/utilities/identicons.ts");var d=i("./src/lib/utilities/map.ts");var p=i("./src/lib/utilities/utilities.ts")},"./src/lib/utilities/map.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{map:()=>o});const o={AD:"EUR",AE:"AED",AF:"AFN",AG:"XCD",AI:"XCD",AL:"ALL",AM:"AMD",AO:"AOA",AR:"ARS",AS:"USD",AT:"EUR",AU:"AUD",AW:"AWG",AX:"EUR",AZ:"AZN",BA:"BAM",BB:"BBD",BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BH:"BHD",BI:"BIF",BJ:"XOF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BQ:"USD",BR:"BRL",BS:"BSD",BT:"BTN",BV:"NOK",BW:"BWP",BY:"BYN",BZ:"BZD",CA:"CAD",CC:"AUD",CD:"CDF",CF:"XAF",CG:"XAF",CH:"CHF",CI:"XOF",CK:"NZD",CL:"CLP",CM:"XAF",CN:"CNY",CO:"COP",CR:"CRC",CU:"CUP",CV:"CVE",CW:"ANG",CX:"AUD",CY:"EUR",CZ:"CZK",DE:"EUR",DJ:"DJF",DK:"DKK",DM:"XCD",DO:"DOP",DZ:"DZD",EC:"USD",EE:"EUR",EG:"EGP",EH:"MAD",ER:"ERN",ES:"EUR",ET:"ETB",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",FR:"EUR",GA:"XAF",GB:"GBP",GD:"XCD",GE:"GEL",GF:"EUR",GG:"GBP",GH:"GHS",GI:"GIP",GL:"DKK",GM:"GMD",GN:"GNF",GP:"EUR",GQ:"XAF",GR:"EUR",GS:"GBP",GT:"GTQ",GU:"USD",GW:"XOF",GY:"GYD",HK:"HKD",HM:"AUD",HN:"HNL",HR:"HRK",HT:"HTG",HU:"HUF",ID:"IDR",IE:"EUR",IL:"ILS",IM:"GBP",IN:"INR",IO:"USD",IQ:"IQD",IR:"IRR",IS:"ISK",IT:"EUR",JE:"GBP",JM:"JMD",JO:"JOD",JP:"JPY",KE:"KES",KG:"KGS",KH:"KHR",KI:"AUD",KM:"KMF",KN:"XCD",KP:"KPW",KR:"KRW",KW:"KWD",KY:"KYD",KZ:"KZT",LA:"LAK",LB:"LBP",LC:"XCD",LI:"CHF",LK:"LKR",LR:"LRD",LS:"LSL",LT:"EUR",LU:"EUR",LV:"EUR",LY:"LYD",MA:"MAD",MC:"EUR",MD:"MDL",ME:"EUR",MF:"EUR",MG:"MGA",MH:"USD",MK:"MKD",ML:"XOF",MM:"MMK",MN:"MNT",MO:"MOP",MP:"USD",MQ:"EUR",MR:"MRO",MS:"XCD",MT:"EUR",MU:"MUR",MV:"MVR",MW:"MWK",MX:"MXN",MY:"MYR",MZ:"MZN",NA:"NAD",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NI:"NIO",NL:"EUR",NO:"NOK",NP:"NPR",NR:"AUD",NU:"NZD",NZ:"NZD",OM:"OMR",PA:"PAB",PE:"PEN",PF:"XPF",PG:"PGK",PH:"PHP",PK:"PKR",PL:"PLN",PM:"EUR",PN:"NZD",PR:"USD",PS:"ILS",PT:"EUR",PW:"USD",PY:"PYG",QA:"QAR",RE:"EUR",RO:"RON",RS:"RSD",RU:"RUB",RW:"RWF",SA:"SAR",SB:"SBD",SC:"SCR",SD:"SDG",SE:"SEK",SG:"SGD",SH:"SHP",SI:"EUR",SJ:"NOK",SK:"EUR",SL:"SLL",SM:"EUR",SN:"XOF",SO:"SOS",SR:"SRD",ST:"STD",SV:"SVC",SX:"ANG",SY:"SYP",SZ:"SZL",TC:"USD",TD:"XAF",TF:"EUR",TG:"XOF",TH:"THB",TJ:"TJS",TK:"NZD",TL:"USD",TM:"TMT",TN:"TND",TO:"TOP",TR:"TRY",TT:"TTD",TV:"AUD",TW:"TWD",TZ:"TZS",UA:"UAH",UG:"UGX",UM:"USD",US:"USD",UY:"UYU",UZ:"UZS",VA:"EUR",VC:"XCD",VE:"VEF",VG:"USD",VI:"USD",VN:"VND",VU:"VUV",WF:"XPF",WS:"WST",YE:"YER",YT:"EUR",ZA:"ZAR",ZM:"ZMW",ZW:"ZWL"}},"./src/lib/utilities/utilities.ts":(e,t,i)=>{"use strict";i.r(t);i.d(t,{autoscroll:()=>autoscroll,blockContextMenu:()=>blockContextMenu,blockWindowResize:()=>blockWindowResize,calculateFeeAmount:()=>calculateFeeAmount,calculateFeeBasisPointsPercent:()=>calculateFeeBasisPointsPercent,changeBackground:()=>changeBackground,checkForError:()=>checkForError,checkUpgrade:()=>checkUpgrade,convertToBigInt:()=>convertToBigInt,createHash:()=>createHash,decrementProperty:()=>decrementProperty,deepCopy:()=>deepCopy,ensureDefaults:()=>ensureDefaults,extractFQDN:()=>extractFQDN,formatBasisPointsToPercentage:()=>formatBasisPointsToPercentage,formatEther:()=>formatEther,formatFeeToUSD:()=>formatFeeToUSD,formatPrice:()=>formatPrice,formatQuantity:()=>formatQuantity,formatUnits:()=>formatUnits,formatValue:()=>formatValue,getChainId:()=>getChainId,getCurrencyCode:()=>getCurrencyCode,getCurrencyCodeForUserLocale:()=>getCurrencyCodeForUserLocale,getCurrencySymbol:()=>getCurrencySymbol,getNetworkInfo:()=>getNetworkInfo,getOrDefault:()=>getOrDefault,getPlatform:()=>getPlatform,getSymbol:()=>getSymbol,getTokenChange:()=>getTokenChange,handleOpenInTab:()=>handleOpenInTab,hexToBigInt:()=>hexToBigInt,hexToString:()=>hexToString,incrementProperty:()=>incrementProperty,isOnline:()=>isOnline,parseEther:()=>parseEther,parseUnits:()=>parseUnits,safeConvertBigIntToNumber:()=>safeConvertBigIntToNumber,setBadgeText:()=>setBadgeText,setDefinedProperty:()=>setDefinedProperty,setIconLock:()=>setIconLock,setIconUnlock:()=>setIconUnlock,splitWords:()=>splitWords,timeoutClipboard:()=>timeoutClipboard,truncate:()=>truncate});var o=i("../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/store/index-server.js");var a=i("../../node_modules/.pnpm/clipboard@2.0.11/node_modules/clipboard/dist/clipboard.js");var l=i.n(a);var u=i("./src/lib/common/constants.ts");var d=i("./src/lib/utilities/map.ts");var p=i("./src/lib/common/index.ts");var m=i("./src/lib/common/misc.ts");var g=i("./src/lib/common/stores.ts");var v=i("../../node_modules/.pnpm/@ethersproject+units@5.7.0/node_modules/@ethersproject/units/lib.esm/index.js");var y=i("../../node_modules/.pnpm/ethers@6.14.4_bufferutil@4.0.9_utf-8-validate@5.0.10/node_modules/ethers/lib.esm/utils/units.js");var _=i("./src/lib/common/environment.ts");var w=i("./src/lib/managers/Logger.ts");var A=i("./src/lib/managers/UnifiedTimerManager.ts");function getTokenChange(e,t){if(!e){return null}if(!u.TIMELINES.includes(t)){throw new Error(`Invalid timeline: ${t}`)}const i=e.find(e=>e.timeline===t);return i?i.percentChange:null}function calculateFeeAmount(e,t){const i=BigInt(Math.round(t*100));const o=e*i/BigInt(u.YAKKL_FEE_BASIS_POINTS_DIVISOR*100);return o}function formatFeeToUSD(e,t,i){const o=Number(e)/Math.pow(10,t);const a=o*i;return a.toLocaleString("en-US",{style:"currency",currency:"USD"})}function calculateFeeBasisPointsPercent(e){const t=`${(e/100).toFixed(4)}%`;return t}function convertToBigInt(e,t){if(!e||parseFloat(e)<=0){throw new Error("Invalid approval amount")}const i=parseFloat(e);const o=10**t;const a=i*o;return BigInt(Math.floor(a))}function formatQuantity(e,t){if(e===0n)return"0";const i=y.formatUnits(e,t);const[o,a]=i.split(".");if(!a)return o;const l=a.replace(/0+$/,"");return l?`${o}.${l}`:o}function formatPrice(e){try{const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t}catch(t){w.log.error("formatPrice - SwapTokenPrice and price to format:",false,t,e);return e.toString()}}function formatBasisPointsToPercentage(e){const t=e/1e3;return`${t.toFixed(3).replace(/\.?0+$/,"")}%`}function getOrDefault(e,t){return e===undefined?t:e}function safeConvertBigIntToNumber(e){if(e<BigInt(Number.MIN_SAFE_INTEGER)||e>BigInt(Number.MAX_SAFE_INTEGER)){throw new Error("BigInt value is outside the safe integer range")}return Number(e)}function getCurrencyCodeForUserLocale(){const e=new Intl.NumberFormat(navigator.language,{style:"currency",currency:"USD"}).resolvedOptions();return e.currency}function incrementProperty(e,t,i=1,o=-1){i=Math.abs(i);if(typeof e[t]==="number"){let a=(e[t]??0)+i;if(o!==-1&&a>o){a=o}e[t]=a}else{e[t]=i}}function decrementProperty(e,t,i=1,o=true){i=Math.abs(i);if(typeof e[t]==="number"){let a=(e[t]??0)-i;if(o&&a<0){a=0}e[t]=a}else{e[t]=o?0:-i}}function ensureDefaults(e,t){for(const i in t){if(e[i]===undefined){e[i]=t[i]}}return e}function setDefinedProperty(e,t,i){if(e&&i!==undefined){e[t]=i}}function blockContextMenu(){window.addEventListener("contextmenu",function(e){w.log.debug("Context menu blocked");e.stopPropagation();e.preventDefault()});window.onkeydown=function(e){if(e.code=="F12"){return false}if((e.ctrlKey&&e.shiftKey||e.altKey)&&e.code=="KeyI"){return false}if((e.ctrlKey&&e.shiftKey||e.altKey)&&e.code=="KeyJ"){return false}if((e.ctrlKey&&e.shiftKey||e.altKey)&&e.code=="KeyC"){return false}if((e.ctrlKey||e.altKey)&&e.code=="KeyU"){return false}e.stopPropagation()}}const k=A.UnifiedTimerManager.getInstance();function blockWindowResize(e,t){window.addEventListener("resize",function(){k.stopTimeout("resize-debounce");k.removeTimeout("resize-debounce");k.addTimeout("resize-debounce",()=>{console.log("🔲 Resizing window");window.resizeTo(e,t)},500);k.startTimeout("resize-debounce")})}function extractFQDN(e){if(!e)return undefined;const t=new URL(e);return t.hostname}function checkUpgrade(){try{const e=(0,o.get)(g.yakklVersionStore);if(e){const t=e.substring(u.DEFAULT_UPGRADE_LABEL.length).trim().toUpperCase();if(t){return true}}return false}catch(e){return false}}function getNetworkInfo(e){let t;let i;let o;switch(e){case 1301:t="Unichain";i="Testnet";o="https://sepolia.uniscan.xyz/";break;case 11155111:t="Ethereum";i="Sepolia";o="https://sepolia.etherscan.io";break;case 1:default:t="Ethereum";i="Mainnet";o="https://etherscan.io";break}return{blockchain:t,type:i,explorer:o}}function getChainId(e){let t=1;switch(e.toLowerCase()){case"mainnet":t=1;break;case"sepolia":t=11155111;break}return t}async function createHash(e){return await crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(e)).then(e=>{const t=[],i=new DataView(e);for(let e=0;e<i.byteLength;e+=4)t.push(("00000000"+i.getUint32(e).toString(16)).slice(-8));return t.join("")})}function deepCopy(e){if(!e)return null;return JSON.parse((0,m.encodeJSON)(e))}function formatValue(e,t){if(e.toLowerCase()==="ethereum"){return formatEther(t)}return t}function formatEther(e){if(e){return v.formatEther(e)}else{return"0.0"}}function parseUnits(e,t){return v.parseUnits(e,t).toBigInt()}function parseEther(e){return parseUnits(e,18)}function formatUnits(e,t){return v.formatUnits(e,t)}function getSymbol(e){let t="";try{t="ETH"}catch(e){w.log.error(e)}return t}const getCurrencySymbol=(e,t)=>(0).toLocaleString(e,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim();function truncate(e,t=20,i="..."){if(e.length>t){return e.substring(0,t)+i}return e}function splitWords(e,t=" "){return e.split(t)}function handleOpenInTab(e){if(_.browserSvelte){_.browser_ext.tabs.create({url:e})}}async function isOnline(e=window.location.origin){let t=false;try{if(!window.navigator.onLine)return t;const i=await fetch(e,{method:"HEAD"});t=i.ok}catch(e){w.log.error(e);t=false}return t}function changeBackground(e,t){try{document.getElementById(e).style.backgroundImage="url('"+t.src+"')"}catch(e){w.log.error(e)}}function timeoutClipboard(e,t="<redacted>"){try{if(_.browserSvelte){k.addTimeout("clipboard-timeout",()=>{l().copy(t)},e);k.startTimeout("clipboard-timeout")}}catch(e){w.log.error(e)}}async function setIconLock(){try{if(_.browserSvelte){await _.browser_ext.action.setIcon({path:{16:"/images/logoBullLock16x16.png",32:"/images/logoBullLock32x32.png",48:"/images/logoBullLock48x48.png",128:"/images/logoBullLock128x128.png"}})}}catch(e){w.log.error(e)}}async function setIconUnlock(){try{if(_.browserSvelte){await _.browser_ext.action.setIcon({path:{16:"/images/logoBull16x16.png",32:"/images/logoBull32x32.png",48:"/images/logoBull48x48.png",128:"/images/logoBull128x128.png"}})}}catch(e){w.log.error(e)}}async function setBadgeText(e=""){try{if(_.browserSvelte){await _.browser_ext.action.setBadgeText({text:e})}}catch(e){w.log.error(e)}}function getPlatform(){const{navigator:e}=window;const{userAgent:t}=e;if(t.includes("Firefox")){return u.PLATFORM_TYPES.FIREFOX}else if("brave"in e){return u.PLATFORM_TYPES.BRAVE}else if(t.includes("Edg/")){return u.PLATFORM_TYPES.EDGE}else if(t.includes("OPR")){return u.PLATFORM_TYPES.OPERA}return u.PLATFORM_TYPES.CHROME}function getCurrencyCode(e){try{const t=getCountryCode(e).toUpperCase();if(t in d.map){return d.map[t]}return null}catch(e){w.log.error(e);return null}}const getCountryCode=function(e){try{let t=e.split("_");if(t.length==2){return t.pop()}t=e.split("-");if(t.length==2){return t.pop()}return e}catch(e){w.log.error(e);return null}};function hexToString(e,t=true){try{const i=t?e.toString().slice(2):e.toString();let o="";for(let e=0;e<i.length;e+=2){o+=String.fromCharCode(parseInt(i.substr(e,2),16))}return o}catch(e){w.log.error(e);return null}}function hexToBigInt(e){try{return BigInt(hexToString(e))}catch(e){w.log.error(e);return null}}function autoscroll(e){function scrollToBottom(){e.scrollTop=e.scrollHeight}const t=new MutationObserver(scrollToBottom);t.observe(e,{childList:true});return{destroy(){t.disconnect()}}}function checkForError(){if(_.browserSvelte){const{lastError:e}=_.browser_ext&&_.browser_ext.runtime?_.browser_ext.runtime:null;if(!e){return undefined}return new Error(e.message)}else{return undefined}}},"?1ba8":()=>{},"?44d1":()=>{},"?74b8":()=>{},"?8422":()=>{},"?9344":()=>{},"?ca9d":()=>{},"?d4eb":()=>{}};var __webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var i=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__);i.loaded=true;return i.exports}__webpack_require__.m=__webpack_modules__;(()=>{__webpack_require__.amdO={}})();(()=>{__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t}})();(()=>{__webpack_require__.d=(e,t)=>{for(var i in t){if(__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)){Object.defineProperty(e,i,{enumerable:true,get:t[i]})}}}})();(()=>{__webpack_require__.f={};__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce((t,i)=>{__webpack_require__.f[i](e,t);return t},[]))})();(()=>{__webpack_require__.u=e=>""+e+".js"})();(()=>{__webpack_require__.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__webpack_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__webpack_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();(()=>{__webpack_require__.p="/"})();(()=>{var e={background:1};var installChunk=t=>{var[o,a,l]=t;for(var u in a){if(__webpack_require__.o(a,u)){__webpack_require__.m[u]=a[u]}}if(l)l(__webpack_require__);while(o.length)e[o.pop()]=1;i(t)};__webpack_require__.f.i=(t,i)=>{if(!e[t]){if(true){importScripts(__webpack_require__.p+__webpack_require__.u(t))}}};var t=self["webpackChunkyakkl_wallet"]=self["webpackChunkyakkl_wallet"]||[];var i=t.push.bind(t);t.push=installChunk})();var __webpack_exports__=__webpack_require__("./src/lib/extensions/chrome/background.ts")})();
//# sourceMappingURL=background.js.map