import{p as push,h as copy_payload,i as assign_payload,k as bind_props,c as pop,f as attr_class,g as stringify,a as push_element,l as prevent_snippet_stringification,b as pop_element,m as attr,s as store_get,u as unsubscribe_stores}from"./index2.js";import{i as isEncryptedData,j as decryptData,k as yakklMiscStore}from"./encryption.js";import{l as log}from"./Logger.js";import"./environment.js";import{F as FILENAME}from"./utils.js";import{P as PincodeVerify}from"./PincodeVerify.js";import{M as Modal}from"./Modal2.js";import{C as Copy}from"./Copy.js";ExportPrivateKey[FILENAME]="src/lib/components/ExportPrivateKey.svelte";function ExportPrivateKey($$payload,$$props){push(ExportPrivateKey);var $$store_subs;let{show:show=false,className:className="z-[999]",onVerify:onVerify=()=>{}}=$$props;let privateKey="";let address=void 0;let showPincodeModal=false;let showPrivateKeyModal=false;let currentlySelected;async function verifyPincode(pincode){try{let account;if(isEncryptedData(currentlySelected.data)){await decryptData(currentlySelected.data,store_get($$store_subs??={},"$yakklMiscStore",yakklMiscStore)).then(result=>{currentlySelected.data=result})}account=currentlySelected.data.account;if(isEncryptedData(account&&account.data)){await decryptData(account.data,store_get($$store_subs??={},"$yakklMiscStore",yakklMiscStore)).then(result=>{account.data=result})}privateKey=account.data.privateKey;showPincodeModal=false;showPrivateKeyModal=true;show=false;onVerify()}catch(e){log.error("Error verifying pincode:",e)}}function closeModal(){show=false}let $$settled=true;let $$inner_payload;function $$render_inner($$payload2){$$payload2.out+=`<div${attr_class(`relative ${stringify(className)}`)}>`;push_element($$payload2,"div",54,0);PincodeVerify($$payload2,{onVerified:verifyPincode,get show(){return showPincodeModal},set show($$value){showPincodeModal=$$value;$$settled=false}});$$payload2.out+=`\x3c!----\x3e `;Modal($$payload2,{title:"Private Key",onClose:()=>showPrivateKeyModal=false,get show(){return showPrivateKeyModal},set show($$value){showPrivateKeyModal=$$value;$$settled=false},children:prevent_snippet_stringification($$payload3=>{$$payload3.out+=`<div class="p-6">`;push_element($$payload3,"div",62,2);$$payload3.out+=`<p class="text-sm text-red-500 mb-4">`;push_element($$payload3,"p",63,3);$$payload3.out+=`Please be careful! <strong>`;push_element($$payload3,"strong",64,23);$$payload3.out+=`Your PRIVATE KEY should remain PRIVATE</strong>`;pop_element();$$payload3.out+=`. A bad actor\n\t\t\t\tcould take the content of your wallet if they have access to the PRIVATE KEY! Copy the\n\t\t\t\tPRIVATE KEY and store it somewhere safe!!</p>`;pop_element();$$payload3.out+=` <div class="mb-4">`;push_element($$payload3,"div",68,3);$$payload3.out+=`<label class="block text-sm font-medium text-gray-700 dark:text-gray-200">`;push_element($$payload3,"label",70,4);$$payload3.out+=`Address</label>`;pop_element();$$payload3.out+=` <input type="text" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm bg-gray-100 text-gray-700 cursor-not-allowed"${attr("value",address)} readonly/>`;push_element($$payload3,"input",71,4);pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <div class="mb-4">`;push_element($$payload3,"div",78,3);$$payload3.out+=`<label class="block text-sm font-medium text-gray-700 dark:text-gray-200">`;push_element($$payload3,"label",80,4);$$payload3.out+=`Private Key</label>`;pop_element();$$payload3.out+=` <div class="mt-1 flex">`;push_element($$payload3,"div",82,4);$$payload3.out+=`<input type="text" class="flex-1 block w-full rounded-none rounded-l-md border-gray-300 bg-gray-100 cursor-not-allowed focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"${attr("value",privateKey)} readonly/>`;push_element($$payload3,"input",83,5);pop_element();$$payload3.out+=` `;Copy($$payload3,{className:"relative -ml-px inline-flex items-center space-x-2 rounded-r-md border border-gray-300 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",target:{}});$$payload3.out+=`\x3c!----\x3e</div>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <div class="mt-6 flex justify-end space-x-4">`;push_element($$payload3,"div",100,3);$$payload3.out+=`<button type="button" class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">`;push_element($$payload3,"button",101,4);$$payload3.out+=`Close</button>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=`</div>`;pop_element()}),$$slots:{default:true}});$$payload2.out+=`\x3c!----\x3e `;Modal($$payload2,{title:"Export Private Key",onClose:closeModal,get show(){return show},set show($$value){show=$$value;$$settled=false},children:prevent_snippet_stringification($$payload3=>{$$payload3.out+=`<div class="p-6">`;push_element($$payload3,"div",113,2);$$payload3.out+=`<p class="text-sm text-gray-700 dark:text-gray-200 mb-4">`;push_element($$payload3,"p",114,3);$$payload3.out+=`To export the private key of your account, please verify your pincode first.</p>`;pop_element();$$payload3.out+=` <div class="mt-6 flex justify-end space-x-4">`;push_element($$payload3,"div",117,3);$$payload3.out+=`<button type="button" class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">`;push_element($$payload3,"button",118,4);$$payload3.out+=`Cancel</button>`;pop_element();$$payload3.out+=` <button type="button" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">`;push_element($$payload3,"button",123,4);$$payload3.out+=`Continue</button>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=`</div>`;pop_element()}),$$slots:{default:true}});$$payload2.out+=`\x3c!----\x3e</div>`;pop_element()}do{$$settled=true;$$inner_payload=copy_payload($$payload);$$render_inner($$inner_payload)}while(!$$settled);assign_payload($$payload,$$inner_payload);if($$store_subs)unsubscribe_stores($$store_subs);bind_props($$props,{show:show});pop()}ExportPrivateKey.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};export{ExportPrivateKey as E};
//# sourceMappingURL=ExportPrivateKey.js.map
