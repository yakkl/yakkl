import{F as FILENAME}from"./utils.js";import"clsx";import{p as push,c as pop,F as derived,H as spread_props,l as prevent_snippet_stringification,B as validate_snippet_args}from"./index2.js";import{d as box,n as noop,u as useRefById,t as executeCallbacks,v as ESCAPE,f as useId,T as TAB,w as composeHandlers,e as createContext,x as cssToStyleObj,s as styleToString,m as mergeProps}from"./utils3.js";import{c as computePosition,o as offset,s as shift,f as flip,b as size,d as arrow,h as hide,l as limitShift}from"./floating-ui.dom.js";import{t as tick}from"./index-server2.js";function afterTick(fn){tick().then(fn)}class ElementSize{#size={width:0,height:0};constructor(node,options={box:"border-box"}){this.#size={width:options.initialSize?.width??0,height:options.initialSize?.height??0}}get width(){return this.#size.width}get height(){return this.#size.height}}function runWatcher(sources,flush,effect,options={}){const{lazy:lazy=false}=options}function watch(sources,effect,options){runWatcher(sources,"post",effect,options)}function watchPre(sources,effect,options){runWatcher(sources,"pre",effect,options)}watch.pre=watchPre;const isBrowser=typeof document!=="undefined";function isHTMLElement(element){return element instanceof HTMLElement}function isElement(element){return element instanceof Element}function isElementOrSVGElement(element){return element instanceof Element||element instanceof SVGElement}function isTouch(e){return e.pointerType==="touch"}function isFocusVisible(element){return element.matches(":focus-visible")}function isNotNull(value){return value!==null}function isSelectableInput(element){return element instanceof HTMLInputElement&&"select"in element}function isElementHidden(node,stopAt){if(getComputedStyle(node).visibility==="hidden")return true;while(node){if(stopAt!==void 0&&node===stopAt)return false;if(getComputedStyle(node).display==="none")return true;node=node.parentElement}return false}function useStateMachine(initialState,machine){const state=box(initialState);function reducer(event){const nextState=machine[state.current][event];return nextState??state.current}const dispatch=event=>{state.current=reducer(event)};return{state:state,dispatch:dispatch}}function usePresence(present,id){const initialState=present.current?"mounted":"unmounted";const{state:state}=useStateMachine(initialState,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});const isPresentDerived=["mounted","unmountSuspended"].includes(state.current);return{get current(){return isPresentDerived}}}Presence_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/presence-layer/presence-layer.svelte";function Presence_layer($$payload,$$props){push(Presence_layer);let{present:present,forceMount:forceMount,presence:presence,id:id}=$$props;const isPresent=usePresence(box.with(()=>present),box.with(()=>id));if(forceMount||present||isPresent.current){$$payload.out+="\x3c!--[--\x3e";presence?.($$payload,{present:isPresent});$$payload.out+=`\x3c!----\x3e`}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e`;pop()}Presence_layer.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};function addEventListener(target,event,handler,options){const events=Array.isArray(event)?event:[event];events.forEach(_event=>target.addEventListener(_event,handler,options));return()=>{events.forEach(_event=>target.removeEventListener(_event,handler,options))}}function debounce(fn,wait=500){let timeout=null;const debounced=(...args)=>{if(timeout!==null){clearTimeout(timeout)}timeout=setTimeout(()=>{fn(...args)},wait)};debounced.destroy=()=>{if(timeout!==null){clearTimeout(timeout);timeout=null}};return debounced}function isOrContainsTarget(node,target){return node===target||node.contains(target)}function getOwnerDocument(el){return el?.ownerDocument??document}globalThis.bitsDismissableLayers??=new Map;class DismissibleLayerState{#interactOutsideProp;#behaviorType;#interceptedEvents={pointerdown:false};#isResponsibleLayer=false;node=box(null);#documentObj=void 0;#enabled;#isFocusInsideDOMTree=false;#onFocusOutside;currNode=null;#isValidEventProp;#unsubClickListener=noop;constructor(props){this.#enabled=props.enabled;this.#isValidEventProp=props.isValidEvent;useRefById({id:props.id,ref:this.node,deps:()=>this.#enabled.current,onRefChange:node=>{this.currNode=node}});this.#behaviorType=props.interactOutsideBehavior;this.#interactOutsideProp=props.onInteractOutside;this.#onFocusOutside=props.onFocusOutside}#handleFocus=event=>{if(event.defaultPrevented)return;if(!this.currNode)return;afterTick(()=>{if(!this.currNode||this.#isTargetWithinLayer(event.target))return;if(event.target&&!this.#isFocusInsideDOMTree){this.#onFocusOutside.current?.(event)}})};#addEventListeners(){return executeCallbacks(addEventListener(this.#documentObj,"pointerdown",executeCallbacks(this.#markInterceptedEvent,this.#markResponsibleLayer),true),addEventListener(this.#documentObj,"pointerdown",executeCallbacks(this.#markNonInterceptedEvent,this.#handleInteractOutside)),addEventListener(this.#documentObj,"focusin",this.#handleFocus))}#handleDismiss=e=>{let event=e;if(event.defaultPrevented){event=createWrappedEvent(e)}this.#interactOutsideProp.current(e)};#handleInteractOutside=debounce(e=>{if(!this.currNode){this.#unsubClickListener();return}const isEventValid=this.#isValidEventProp.current(e,this.currNode)||isValidEvent(e,this.currNode);if(!this.#isResponsibleLayer||this.#isAnyEventIntercepted()||!isEventValid){this.#unsubClickListener();return}let event=e;if(event.defaultPrevented){event=createWrappedEvent(event)}if(this.#behaviorType.current!=="close"&&this.#behaviorType.current!=="defer-otherwise-close"){this.#unsubClickListener();return}if(e.pointerType==="touch"){this.#unsubClickListener();this.#unsubClickListener=addEventListener(this.#documentObj,"click",this.#handleDismiss,{once:true})}else{this.#interactOutsideProp.current(event)}},10);#markInterceptedEvent=e=>{this.#interceptedEvents[e.type]=true};#markNonInterceptedEvent=e=>{this.#interceptedEvents[e.type]=false};#markResponsibleLayer=()=>{if(!this.node.current)return;this.#isResponsibleLayer=isResponsibleLayer(this.node.current)};#isTargetWithinLayer=target=>{if(!this.node.current)return false;return isOrContainsTarget(this.node.current,target)};#resetState=debounce(()=>{for(const eventType in this.#interceptedEvents){this.#interceptedEvents[eventType]=false}this.#isResponsibleLayer=false},20);#isAnyEventIntercepted(){const i=Object.values(this.#interceptedEvents).some(Boolean);return i}#onfocuscapture=()=>{this.#isFocusInsideDOMTree=true};#onblurcapture=()=>{this.#isFocusInsideDOMTree=false};props={onfocuscapture:this.#onfocuscapture,onblurcapture:this.#onblurcapture}}function useDismissibleLayer(props){return new DismissibleLayerState(props)}function getTopMostLayer(layersArr){return layersArr.findLast(([_,{current:behaviorType}])=>behaviorType==="close"||behaviorType==="ignore")}function isResponsibleLayer(node){const layersArr=[...globalThis.bitsDismissableLayers];const topMostLayer=getTopMostLayer(layersArr);if(topMostLayer)return topMostLayer[0].node.current===node;const[firstLayerNode]=layersArr[0];return firstLayerNode.node.current===node}function isValidEvent(e,node){if("button"in e&&e.button>0)return false;const target=e.target;if(!isElement(target))return false;const ownerDocument=getOwnerDocument(target);const isValid=ownerDocument.documentElement.contains(target)&&!isOrContainsTarget(node,target);return isValid}function createWrappedEvent(e){const capturedCurrentTarget=e.currentTarget;const capturedTarget=e.target;let newEvent;if(e instanceof PointerEvent){newEvent=new PointerEvent(e.type,e)}else{newEvent=new PointerEvent("pointerdown",e)}let isPrevented=false;const wrappedEvent=new Proxy(newEvent,{get:(target,prop)=>{if(prop==="currentTarget"){return capturedCurrentTarget}if(prop==="target"){return capturedTarget}if(prop==="preventDefault"){return()=>{isPrevented=true;if(typeof target.preventDefault==="function"){target.preventDefault()}}}if(prop==="defaultPrevented"){return isPrevented}if(prop in target){return target[prop]}return e[prop]}});return wrappedEvent}Dismissible_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/dismissible-layer/dismissible-layer.svelte";function Dismissible_layer($$payload,$$props){push(Dismissible_layer);let{interactOutsideBehavior:interactOutsideBehavior="close",onInteractOutside:onInteractOutside=noop,onFocusOutside:onFocusOutside=noop,id:id,children:children,enabled:enabled,isValidEvent:isValidEvent2=()=>false}=$$props;const dismissibleLayerState=useDismissibleLayer({id:box.with(()=>id),interactOutsideBehavior:box.with(()=>interactOutsideBehavior),onInteractOutside:box.with(()=>onInteractOutside),enabled:box.with(()=>enabled),onFocusOutside:box.with(()=>onFocusOutside),isValidEvent:box.with(()=>isValidEvent2)});children?.($$payload,{props:dismissibleLayerState.props});$$payload.out+=`\x3c!----\x3e`;pop()}Dismissible_layer.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};globalThis.bitsEscapeLayers??=new Map;class EscapeLayerState{#onEscapeProp;#behaviorType;#enabled;constructor(props){this.#behaviorType=props.escapeKeydownBehavior;this.#onEscapeProp=props.onEscapeKeydown;this.#enabled=props.enabled}#addEventListener=()=>addEventListener(document,"keydown",this.#onkeydown,{passive:false});#onkeydown=e=>{if(e.key!==ESCAPE||!isResponsibleEscapeLayer(this))return;const clonedEvent=new KeyboardEvent(e.type,e);e.preventDefault();const behaviorType=this.#behaviorType.current;if(behaviorType!=="close"&&behaviorType!=="defer-otherwise-close")return;this.#onEscapeProp.current(clonedEvent)}}function useEscapeLayer(props){return new EscapeLayerState(props)}function isResponsibleEscapeLayer(instance){const layersArr=[...globalThis.bitsEscapeLayers];const topMostLayer=layersArr.findLast(([_,{current:behaviorType}])=>behaviorType==="close"||behaviorType==="ignore");if(topMostLayer)return topMostLayer[0]===instance;const[firstLayerNode]=layersArr[0];return firstLayerNode===instance}Escape_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/escape-layer/escape-layer.svelte";function Escape_layer($$payload,$$props){push(Escape_layer);let{escapeKeydownBehavior:escapeKeydownBehavior="close",onEscapeKeydown:onEscapeKeydown=noop,children:children,enabled:enabled}=$$props;useEscapeLayer({escapeKeydownBehavior:box.with(()=>escapeKeydownBehavior),onEscapeKeydown:box.with(()=>onEscapeKeydown),enabled:box.with(()=>enabled)});children?.($$payload);$$payload.out+=`\x3c!----\x3e`;pop()}Escape_layer.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};function createFocusScopeAPI(){let paused=false;return{id:useId(),get paused(){return paused},pause(){paused=true},resume(){paused=false}}}function focus(element,{select:select=false}={}){if(!(element&&element.focus))return;const previouslyFocusedElement=document.activeElement;element.focus({preventScroll:true});if(element!==previouslyFocusedElement&&isSelectableInput(element)&&select){element.select()}}function focusFirst(candidates,{select:select=false}={}){const previouslyFocusedElement=document.activeElement;for(const candidate of candidates){focus(candidate,{select:select});if(document.activeElement!==previouslyFocusedElement){return true}}}function findVisible(elements,container){for(const element of elements){if(!isElementHidden(element,container))return element}}function getTabbableCandidates(container){const nodes=[];const walker=document.createTreeWalker(container,NodeFilter.SHOW_ELEMENT,{acceptNode:node=>{const isHiddenInput=node.tagName==="INPUT"&&node.type==="hidden";if(node.disabled||node.hidden||isHiddenInput)return NodeFilter.FILTER_SKIP;return node.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});while(walker.nextNode())nodes.push(walker.currentNode);return nodes}function getTabbableEdges(container){const candidates=getTabbableCandidates(container);const first=findVisible(candidates,container);const last=findVisible(candidates.reverse(),container);return[first,last]}function useFocusScope({id:id,loop:loop,enabled:enabled,onOpenAutoFocus:onOpenAutoFocus,onCloseAutoFocus:onCloseAutoFocus,forceMount:forceMount}){const focusScope=createFocusScopeAPI();const ref=box(null);useRefById({id:id,ref:ref,deps:()=>enabled.current});function handleKeydown(e){if(!enabled.current)return;if(!loop.current&&!enabled.current)return;if(focusScope.paused)return;const isTabKey=e.key===TAB&&!e.ctrlKey&&!e.altKey&&!e.metaKey;const focusedElement=document.activeElement;if(!(isTabKey&&focusedElement))return;const container=ref.current;if(!container)return;const[first,last]=getTabbableEdges(container);const hasTabbableElementsInside=first&&last;if(!hasTabbableElementsInside){if(focusedElement===container){e.preventDefault()}}else{if(!e.shiftKey&&focusedElement===last){e.preventDefault();if(loop.current)focus(first,{select:true})}else if(e.shiftKey&&focusedElement===first){e.preventDefault();if(loop.current)focus(last,{select:true})}}}const props=(()=>({id:id.current,tabindex:-1,onkeydown:handleKeydown}))();return{get props(){return props}}}Focus_scope[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/focus-scope/focus-scope.svelte";function Focus_scope($$payload,$$props){push(Focus_scope);let{id:id,trapFocus:trapFocus=false,loop:loop=false,onCloseAutoFocus:onCloseAutoFocus=noop,onOpenAutoFocus:onOpenAutoFocus=noop,focusScope:focusScope,forceMount:forceMount=false}=$$props;const focusScopeState=useFocusScope({enabled:box.with(()=>trapFocus),loop:box.with(()=>loop),onCloseAutoFocus:box.with(()=>onCloseAutoFocus),onOpenAutoFocus:box.with(()=>onOpenAutoFocus),id:box.with(()=>id),forceMount:box.with(()=>forceMount)});focusScope?.($$payload,{props:focusScopeState.props});$$payload.out+=`\x3c!----\x3e`;pop()}Focus_scope.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};globalThis.bitsTextSelectionLayers??=new Map;class TextSelectionLayerState{#id;#onPointerDownProp;#onPointerUpProp;#enabled;#unsubSelectionLock=noop;#ref=box(null);constructor(props){this.#id=props.id;this.#enabled=props.preventOverflowTextSelection;this.#onPointerDownProp=props.onPointerDown;this.#onPointerUpProp=props.onPointerUp;useRefById({id:this.#id,ref:this.#ref,deps:()=>this.#enabled.current})}#addEventListeners(){return executeCallbacks(addEventListener(document,"pointerdown",this.#pointerdown),addEventListener(document,"pointerup",composeHandlers(this.#resetSelectionLock,this.#onPointerUpProp)))}#pointerdown=e=>{const node=this.#ref.current;const target=e.target;if(!isHTMLElement(node)||!isHTMLElement(target)||!this.#enabled.current)return;if(!isHighestLayer(this)||!isOrContainsTarget(node,target))return;this.#onPointerDownProp.current(e);if(e.defaultPrevented)return;this.#unsubSelectionLock=preventTextSelectionOverflow(node)};#resetSelectionLock=()=>{this.#unsubSelectionLock();this.#unsubSelectionLock=noop}}function useTextSelectionLayer(props){return new TextSelectionLayerState(props)}const getUserSelect=node=>node.style.userSelect||node.style.webkitUserSelect;function preventTextSelectionOverflow(node){const body=document.body;const originalBodyUserSelect=getUserSelect(body);const originalNodeUserSelect=getUserSelect(node);setUserSelect(body,"none");setUserSelect(node,"text");return()=>{setUserSelect(body,originalBodyUserSelect);setUserSelect(node,originalNodeUserSelect)}}function setUserSelect(node,value){node.style.userSelect=value;node.style.webkitUserSelect=value}function isHighestLayer(instance){const layersArr=[...globalThis.bitsTextSelectionLayers];if(!layersArr.length)return false;const highestLayer=layersArr.at(-1);if(!highestLayer)return false;return highestLayer[0]===instance}Text_selection_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/text-selection-layer/text-selection-layer.svelte";function Text_selection_layer($$payload,$$props){push(Text_selection_layer);let{preventOverflowTextSelection:preventOverflowTextSelection=true,onPointerDown:onPointerDown=noop,onPointerUp:onPointerUp=noop,id:id,children:children,enabled:enabled}=$$props;useTextSelectionLayer({id:box.with(()=>id),preventOverflowTextSelection:box.with(()=>preventOverflowTextSelection),onPointerDown:box.with(()=>onPointerDown),onPointerUp:box.with(()=>onPointerUp),enabled:box.with(()=>enabled)});children?.($$payload);$$payload.out+=`\x3c!----\x3e`;pop()}Text_selection_layer.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};function createSharedHook(factory){let state=void 0;return(...args)=>state}const useBodyLockStackCount=createSharedHook();function useBodyScrollLock(initialState,restoreScrollDelay=()=>null){const id=useId();const countState=useBodyLockStackCount();restoreScrollDelay();countState.map.set(id,initialState??false);const locked=box.with(()=>countState.map.get(id)??false,v=>countState.map.set(id,v));return locked}Scroll_lock[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/scroll-lock/scroll-lock.svelte";function Scroll_lock($$payload,$$props){push(Scroll_lock);let{preventScroll:preventScroll=true,restoreScrollDelay:restoreScrollDelay=null}=$$props;useBodyScrollLock(preventScroll,()=>restoreScrollDelay);pop()}Scroll_lock.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};function get(valueOrGetValue){return typeof valueOrGetValue==="function"?valueOrGetValue():valueOrGetValue}function getDPR(element){if(typeof window==="undefined")return 1;const win=element.ownerDocument.defaultView||window;return win.devicePixelRatio||1}function roundByDPR(element,value){const dpr=getDPR(element);return Math.round(value*dpr)/dpr}function getFloatingContentCSSVars(name){return{[`--bits-${name}-content-transform-origin`]:`var(--bits-floating-transform-origin)`,[`--bits-${name}-content-available-width`]:`var(--bits-floating-available-width)`,[`--bits-${name}-content-available-height`]:`var(--bits-floating-available-height)`,[`--bits-${name}-anchor-width`]:`var(--bits-floating-anchor-width)`,[`--bits-${name}-anchor-height`]:`var(--bits-floating-anchor-height)`}}function useFloating(options){get(options.open)??true;const middlewareOption=get(options.middleware);const transformOption=get(options.transform)??true;const placementOption=get(options.placement)??"bottom";const strategyOption=get(options.strategy)??"absolute";const reference=options.reference;let x=0;let y=0;const floating=box(null);let strategy=strategyOption;let placement=placementOption;let middlewareData={};let isPositioned=false;const floatingStyles=(()=>{const initialStyles={position:strategy,left:"0",top:"0"};if(!floating.current){return initialStyles}const xVal=roundByDPR(floating.current,x);const yVal=roundByDPR(floating.current,y);if(transformOption){return{...initialStyles,transform:`translate(${xVal}px, ${yVal}px)`,...getDPR(floating.current)>=1.5&&{willChange:"transform"}}}return{position:strategy,left:`${xVal}px`,top:`${yVal}px`}})();function update(){if(reference.current===null||floating.current===null)return;computePosition(reference.current,floating.current,{middleware:middlewareOption,placement:placementOption,strategy:strategyOption}).then(position=>{x=position.x;y=position.y;strategy=position.strategy;placement=position.placement;middlewareData=position.middlewareData;isPositioned=true})}return{floating:floating,reference:reference,get strategy(){return strategy},get placement(){return placement},get middlewareData(){return middlewareData},get isPositioned(){return isPositioned},get floatingStyles(){return floatingStyles},get update(){return update}}}const OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"};class FloatingRootState{anchorNode=box(null);customAnchorNode=box(null);triggerNode=box(null);constructor(){}}class FloatingContentState{root;contentRef=box(null);wrapperRef=box(null);arrowRef=box(null);arrowId=box(useId());id;wrapperId;style;#transformedStyle=derived(()=>{if(typeof this.style==="string")return cssToStyleObj(this.style);if(!this.style)return{}});#dir;#side;#sideOffset;#align;#alignOffset;#arrowPadding;#avoidCollisions;#collisionBoundary;#collisionPadding;#sticky;#hideWhenDetached;#strategy;#updatePositionStrategy=void 0;onPlaced;enabled;#arrowSize=new ElementSize(()=>this.arrowRef.current??void 0);#arrowWidth=derived(()=>this.#arrowSize?.width??0);#arrowHeight=derived(()=>this.#arrowSize?.height??0);#desiredPlacement=derived(()=>this.#side?.current+(this.#align.current!=="center"?`-${this.#align.current}`:""));#boundary=derived(()=>Array.isArray(this.#collisionBoundary.current)?this.#collisionBoundary.current:[this.#collisionBoundary.current]);#hasExplicitBoundaries=derived(()=>this.#boundary().length>0);get hasExplicitBoundaries(){return this.#hasExplicitBoundaries()}set hasExplicitBoundaries($$value){return this.#hasExplicitBoundaries($$value)}#detectOverflowOptions=derived(()=>({padding:this.#collisionPadding.current,boundary:this.#boundary().filter(isNotNull),altBoundary:this.hasExplicitBoundaries}));get detectOverflowOptions(){return this.#detectOverflowOptions()}set detectOverflowOptions($$value){return this.#detectOverflowOptions($$value)}#availableWidth=void 0;#availableHeight=void 0;#anchorWidth=void 0;#anchorHeight=void 0;#middleware=derived(()=>[offset({mainAxis:this.#sideOffset.current+this.#arrowHeight(),alignmentAxis:this.#alignOffset.current}),this.#avoidCollisions.current&&shift({mainAxis:true,crossAxis:false,limiter:this.#sticky.current==="partial"?limitShift():void 0,...this.detectOverflowOptions}),this.#avoidCollisions.current&&flip({...this.detectOverflowOptions}),size({...this.detectOverflowOptions,apply:({rects:rects,availableWidth:availableWidth,availableHeight:availableHeight})=>{const{width:anchorWidth,height:anchorHeight}=rects.reference;this.#availableWidth=availableWidth;this.#availableHeight=availableHeight;this.#anchorWidth=anchorWidth;this.#anchorHeight=anchorHeight}}),this.arrowRef.current&&arrow({element:this.arrowRef.current,padding:this.#arrowPadding.current}),transformOrigin({arrowWidth:this.#arrowWidth(),arrowHeight:this.#arrowHeight()}),this.#hideWhenDetached.current&&hide({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean));get middleware(){return this.#middleware()}set middleware($$value){return this.#middleware($$value)}floating;#placedSide=derived(()=>getSideFromPlacement(this.floating.placement));get placedSide(){return this.#placedSide()}set placedSide($$value){return this.#placedSide($$value)}#placedAlign=derived(()=>getAlignFromPlacement(this.floating.placement));get placedAlign(){return this.#placedAlign()}set placedAlign($$value){return this.#placedAlign($$value)}#arrowX=derived(()=>this.floating.middlewareData.arrow?.x??0);get arrowX(){return this.#arrowX()}set arrowX($$value){return this.#arrowX($$value)}#arrowY=derived(()=>this.floating.middlewareData.arrow?.y??0);get arrowY(){return this.#arrowY()}set arrowY($$value){return this.#arrowY($$value)}#cannotCenterArrow=derived(()=>this.floating.middlewareData.arrow?.centerOffset!==0);get cannotCenterArrow(){return this.#cannotCenterArrow()}set cannotCenterArrow($$value){return this.#cannotCenterArrow($$value)}contentZIndex;#arrowBaseSide=derived(()=>OPPOSITE_SIDE[this.placedSide]);get arrowBaseSide(){return this.#arrowBaseSide()}set arrowBaseSide($$value){return this.#arrowBaseSide($$value)}#wrapperProps=derived(()=>({id:this.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${this.#availableWidth}px`,"--bits-floating-available-height":`${this.#availableHeight}px`,"--bits-floating-anchor-width":`${this.#anchorWidth}px`,"--bits-floating-anchor-height":`${this.#anchorHeight}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:"hidden","pointer-events":"none"},...this.#transformedStyle()},dir:this.#dir.current}));get wrapperProps(){return this.#wrapperProps()}set wrapperProps($$value){return this.#wrapperProps($$value)}#props=derived(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:styleToString({...this.#transformedStyle()})}));get props(){return this.#props()}set props($$value){return this.#props($$value)}#arrowStyle=derived(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0}));get arrowStyle(){return this.#arrowStyle()}set arrowStyle($$value){return this.#arrowStyle($$value)}constructor(props,root){this.id=props.id;this.#side=props.side;this.#sideOffset=props.sideOffset;this.#align=props.align;this.#alignOffset=props.alignOffset;this.#arrowPadding=props.arrowPadding;this.#avoidCollisions=props.avoidCollisions;this.#collisionBoundary=props.collisionBoundary;this.#collisionPadding=props.collisionPadding;this.#sticky=props.sticky;this.#hideWhenDetached=props.hideWhenDetached;this.#updatePositionStrategy=props.updatePositionStrategy;this.onPlaced=props.onPlaced;this.#strategy=props.strategy;this.#dir=props.dir;this.style=props.style;this.root=root;this.enabled=props.enabled;this.wrapperId=props.wrapperId;if(props.customAnchor){this.root.customAnchorNode.current=props.customAnchor.current}useRefById({id:this.wrapperId,ref:this.wrapperRef,deps:()=>this.enabled.current});useRefById({id:this.id,ref:this.contentRef,deps:()=>this.enabled.current});this.floating=useFloating({strategy:()=>this.#strategy.current,placement:()=>this.#desiredPlacement(),middleware:()=>this.middleware,reference:this.root.anchorNode,open:()=>this.enabled.current})}}class FloatingAnchorState{ref=box(null);constructor(props,root){if(props.virtualEl&&props.virtualEl.current){root.triggerNode=box.from(props.virtualEl.current)}else{useRefById({id:props.id,ref:this.ref,onRefChange:node=>{root.triggerNode.current=node}})}}}const[setFloatingRootContext,getFloatingRootContext]=createContext("Floating.Root");const[setFloatingContentContext,getFloatingContentContext]=createContext("Floating.Content");function useFloatingRootState(){return setFloatingRootContext(new FloatingRootState)}function useFloatingContentState(props){return setFloatingContentContext(new FloatingContentState(props,getFloatingRootContext()))}function useFloatingAnchorState(props){return new FloatingAnchorState(props,getFloatingRootContext())}function transformOrigin(options){return{name:"transformOrigin",options:options,fn(data){const{placement:placement,rects:rects,middlewareData:middlewareData}=data;const cannotCenterArrow=middlewareData.arrow?.centerOffset!==0;const isArrowHidden=cannotCenterArrow;const arrowWidth=isArrowHidden?0:options.arrowWidth;const arrowHeight=isArrowHidden?0:options.arrowHeight;const[placedSide,placedAlign]=getSideAndAlignFromPlacement(placement);const noArrowAlign={start:"0%",center:"50%",end:"100%"}[placedAlign];const arrowXCenter=(middlewareData.arrow?.x??0)+arrowWidth/2;const arrowYCenter=(middlewareData.arrow?.y??0)+arrowHeight/2;let x="";let y="";if(placedSide==="bottom"){x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`;y=`${-arrowHeight}px`}else if(placedSide==="top"){x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`;y=`${rects.floating.height+arrowHeight}px`}else if(placedSide==="right"){x=`${-arrowHeight}px`;y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`}else if(placedSide==="left"){x=`${rects.floating.width+arrowHeight}px`;y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`}return{data:{x:x,y:y}}}}}function getSideAndAlignFromPlacement(placement){const[side,align="center"]=placement.split("-");return[side,align]}function getSideFromPlacement(placement){return getSideAndAlignFromPlacement(placement)[0]}function getAlignFromPlacement(placement){return getSideAndAlignFromPlacement(placement)[1]}Floating_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer.svelte";function Floating_layer($$payload,$$props){push(Floating_layer);let{children:children}=$$props;useFloatingRootState();children?.($$payload);$$payload.out+=`\x3c!----\x3e`;pop()}Floating_layer.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Floating_layer_anchor[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-anchor.svelte";function Floating_layer_anchor($$payload,$$props){push(Floating_layer_anchor);let{id:id,children:children,virtualEl:virtualEl}=$$props;useFloatingAnchorState({id:box.with(()=>id),virtualEl:box.with(()=>virtualEl)});children?.($$payload);$$payload.out+=`\x3c!----\x3e`;pop()}Floating_layer_anchor.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Floating_layer_content[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-content.svelte";function Floating_layer_content($$payload,$$props){push(Floating_layer_content);let{content:content,side:side="bottom",sideOffset:sideOffset=0,align:align="center",alignOffset:alignOffset=0,id:id,arrowPadding:arrowPadding=0,avoidCollisions:avoidCollisions=true,collisionBoundary:collisionBoundary=[],collisionPadding:collisionPadding=0,hideWhenDetached:hideWhenDetached=false,onPlaced:onPlaced=()=>{},sticky:sticky="partial",updatePositionStrategy:updatePositionStrategy="optimized",strategy:strategy="fixed",dir:dir="ltr",style:style={},wrapperId:wrapperId=useId(),customAnchor:customAnchor=null}=$$props;const contentState=useFloatingContentState({side:box.with(()=>side),sideOffset:box.with(()=>sideOffset),align:box.with(()=>align),alignOffset:box.with(()=>alignOffset),id:box.with(()=>id),arrowPadding:box.with(()=>arrowPadding),avoidCollisions:box.with(()=>avoidCollisions),collisionBoundary:box.with(()=>collisionBoundary),collisionPadding:box.with(()=>collisionPadding),hideWhenDetached:box.with(()=>hideWhenDetached),onPlaced:box.with(()=>onPlaced),sticky:box.with(()=>sticky),updatePositionStrategy:box.with(()=>updatePositionStrategy),strategy:box.with(()=>strategy),dir:box.with(()=>dir),style:box.with(()=>style),enabled:box.with(()=>false),wrapperId:box.with(()=>wrapperId),customAnchor:box.with(()=>customAnchor)});const mergedProps=mergeProps(contentState.wrapperProps,{style:{pointerEvents:"auto"}});content?.($$payload,{props:contentState.props,wrapperProps:mergedProps});$$payload.out+=`\x3c!----\x3e`;pop()}Floating_layer_content.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Floating_layer_content_static[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-content-static.svelte";function Floating_layer_content_static($$payload,$$props){push(Floating_layer_content_static);let{content:content,onPlaced:onPlaced}=$$props;content?.($$payload,{props:{},wrapperProps:{}});$$payload.out+=`\x3c!----\x3e`;pop()}Floating_layer_content_static.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Popper_content[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-content.svelte";function Popper_content($$payload,$$props){push(Popper_content);let{content:content,isStatic:isStatic=false,onPlaced:onPlaced,$$slots:$$slots,$$events:$$events,...restProps}=$$props;if(isStatic){$$payload.out+="\x3c!--[--\x3e";Floating_layer_content_static($$payload,{content:content,onPlaced:onPlaced})}else{$$payload.out+="\x3c!--[!--\x3e";Floating_layer_content($$payload,spread_props([{content:content,onPlaced:onPlaced},restProps]))}$$payload.out+=`\x3c!--]--\x3e`;pop()}Popper_content.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Popper_layer_inner[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer-inner.svelte";function Popper_layer_inner($$payload,$$props){push(Popper_layer_inner);let{popper:popper,onEscapeKeydown:onEscapeKeydown,escapeKeydownBehavior:escapeKeydownBehavior,preventOverflowTextSelection:preventOverflowTextSelection,id:id,onPointerDown:onPointerDown,onPointerUp:onPointerUp,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,avoidCollisions:avoidCollisions,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,updatePositionStrategy:updatePositionStrategy,strategy:strategy,dir:dir,preventScroll:preventScroll,wrapperId:wrapperId,style:style,onPlaced:onPlaced,onInteractOutside:onInteractOutside,onCloseAutoFocus:onCloseAutoFocus,onOpenAutoFocus:onOpenAutoFocus,onFocusOutside:onFocusOutside,interactOutsideBehavior:interactOutsideBehavior="close",loop:loop,trapFocus:trapFocus=true,isValidEvent:isValidEvent2=()=>false,customAnchor:customAnchor=null,isStatic:isStatic=false,enabled:enabled,$$slots:$$slots,$$events:$$events,...restProps}=$$props;{let content=function($$payload2,{props:floatingProps,wrapperProps:wrapperProps}){validate_snippet_args($$payload2);if(restProps.forceMount&&enabled){$$payload2.out+="\x3c!--[--\x3e";Scroll_lock($$payload2,{preventScroll:preventScroll})}else if(!restProps.forceMount){$$payload2.out+="\x3c!--[1--\x3e";Scroll_lock($$payload2,{preventScroll:preventScroll})}else{$$payload2.out+="\x3c!--[!--\x3e"}$$payload2.out+=`\x3c!--]--\x3e `;{let focusScope=function($$payload3,{props:focusScopeProps}){validate_snippet_args($$payload3);Escape_layer($$payload3,{onEscapeKeydown:onEscapeKeydown,escapeKeydownBehavior:escapeKeydownBehavior,enabled:enabled,children:prevent_snippet_stringification($$payload4=>{{let children=function($$payload5,{props:dismissibleProps}){validate_snippet_args($$payload5);Text_selection_layer($$payload5,{id:id,preventOverflowTextSelection:preventOverflowTextSelection,onPointerDown:onPointerDown,onPointerUp:onPointerUp,enabled:enabled,children:prevent_snippet_stringification($$payload6=>{popper?.($$payload6,{props:mergeProps(restProps,floatingProps,dismissibleProps,focusScopeProps,{style:{pointerEvents:"auto"}}),wrapperProps:wrapperProps});$$payload6.out+=`\x3c!----\x3e`})})};prevent_snippet_stringification(children);Dismissible_layer($$payload4,{id:id,onInteractOutside:onInteractOutside,onFocusOutside:onFocusOutside,interactOutsideBehavior:interactOutsideBehavior,isValidEvent:isValidEvent2,enabled:enabled,children:children})}})})};prevent_snippet_stringification(focusScope);Focus_scope($$payload2,{id:id,onOpenAutoFocus:onOpenAutoFocus,onCloseAutoFocus:onCloseAutoFocus,loop:loop,trapFocus:enabled&&trapFocus,forceMount:restProps.forceMount,focusScope:focusScope})}$$payload2.out+=`\x3c!----\x3e`};prevent_snippet_stringification(content);Popper_content($$payload,{isStatic:isStatic,id:id,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,avoidCollisions:avoidCollisions,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,updatePositionStrategy:updatePositionStrategy,strategy:strategy,dir:dir,wrapperId:wrapperId,style:style,onPlaced:onPlaced,customAnchor:customAnchor,content:content,$$slots:{content:true}})}pop()}Popper_layer_inner.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Popper_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer.svelte";function Popper_layer($$payload,$$props){push(Popper_layer);let{popper:popper,present:present,onEscapeKeydown:onEscapeKeydown,escapeKeydownBehavior:escapeKeydownBehavior,preventOverflowTextSelection:preventOverflowTextSelection,id:id,onPointerDown:onPointerDown,onPointerUp:onPointerUp,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,avoidCollisions:avoidCollisions,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,updatePositionStrategy:updatePositionStrategy,strategy:strategy,dir:dir,preventScroll:preventScroll,wrapperId:wrapperId,style:style,onPlaced:onPlaced,onInteractOutside:onInteractOutside,onCloseAutoFocus:onCloseAutoFocus,onOpenAutoFocus:onOpenAutoFocus,onFocusOutside:onFocusOutside,interactOutsideBehavior:interactOutsideBehavior="close",loop:loop,trapFocus:trapFocus=true,isValidEvent:isValidEvent2=()=>false,customAnchor:customAnchor=null,isStatic:isStatic=false,$$slots:$$slots,$$events:$$events,...restProps}=$$props;{let presence=function($$payload2,{present:present2}){validate_snippet_args($$payload2);Popper_layer_inner($$payload2,spread_props([{popper:popper,onEscapeKeydown:onEscapeKeydown,escapeKeydownBehavior:escapeKeydownBehavior,preventOverflowTextSelection:preventOverflowTextSelection,id:id,onPointerDown:onPointerDown,onPointerUp:onPointerUp,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,avoidCollisions:avoidCollisions,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,updatePositionStrategy:updatePositionStrategy,strategy:strategy,dir:dir,preventScroll:preventScroll,wrapperId:wrapperId,style:style,onPlaced:onPlaced,customAnchor:customAnchor,isStatic:isStatic,enabled:present2.current,onInteractOutside:onInteractOutside,onCloseAutoFocus:onCloseAutoFocus,onOpenAutoFocus:onOpenAutoFocus,interactOutsideBehavior:interactOutsideBehavior,loop:loop,trapFocus:trapFocus,isValidEvent:isValidEvent2,onFocusOutside:onFocusOutside,forceMount:false},restProps]))};prevent_snippet_stringification(presence);Presence_layer($$payload,spread_props([{id:id,present:present},restProps,{presence:presence,$$slots:{presence:true}}]))}pop()}Popper_layer.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Popper_layer_force_mount[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer-force-mount.svelte";function Popper_layer_force_mount($$payload,$$props){push(Popper_layer_force_mount);let{popper:popper,onEscapeKeydown:onEscapeKeydown,escapeKeydownBehavior:escapeKeydownBehavior,preventOverflowTextSelection:preventOverflowTextSelection,id:id,onPointerDown:onPointerDown,onPointerUp:onPointerUp,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,avoidCollisions:avoidCollisions,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,updatePositionStrategy:updatePositionStrategy,strategy:strategy,dir:dir,preventScroll:preventScroll,wrapperId:wrapperId,style:style,onPlaced:onPlaced,onInteractOutside:onInteractOutside,onCloseAutoFocus:onCloseAutoFocus,onOpenAutoFocus:onOpenAutoFocus,onFocusOutside:onFocusOutside,interactOutsideBehavior:interactOutsideBehavior="close",loop:loop,trapFocus:trapFocus=true,isValidEvent:isValidEvent2=()=>false,customAnchor:customAnchor=null,isStatic:isStatic=false,enabled:enabled,$$slots:$$slots,$$events:$$events,...restProps}=$$props;Popper_layer_inner($$payload,spread_props([{popper:popper,onEscapeKeydown:onEscapeKeydown,escapeKeydownBehavior:escapeKeydownBehavior,preventOverflowTextSelection:preventOverflowTextSelection,id:id,onPointerDown:onPointerDown,onPointerUp:onPointerUp,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,avoidCollisions:avoidCollisions,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,updatePositionStrategy:updatePositionStrategy,strategy:strategy,dir:dir,preventScroll:preventScroll,wrapperId:wrapperId,style:style,onPlaced:onPlaced,customAnchor:customAnchor,isStatic:isStatic,enabled:enabled,onInteractOutside:onInteractOutside,onCloseAutoFocus:onCloseAutoFocus,onOpenAutoFocus:onOpenAutoFocus,interactOutsideBehavior:interactOutsideBehavior,loop:loop,trapFocus:trapFocus,isValidEvent:isValidEvent2,onFocusOutside:onFocusOutside},restProps,{forceMount:true}]));pop()}Popper_layer_force_mount.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};export{Floating_layer as F,Popper_layer_force_mount as P,isFocusVisible as a,Popper_layer as b,Floating_layer_anchor as c,afterTick as d,Presence_layer as e,isHTMLElement as f,getFloatingContentCSSVars as g,focusFirst as h,isBrowser as i,isElement as j,isElementOrSVGElement as k,isTouch as l,watch as w};
//# sourceMappingURL=popper-layer-force-mount.js.map
