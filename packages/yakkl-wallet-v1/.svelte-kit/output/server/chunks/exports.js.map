{"version":3,"file":"exports.js","sources":["../../../../../../node_modules/.pnpm/@sveltejs+kit@2.21.5_@sveltejs+vite-plugin-svelte@5.1.0_svelte@5.34.3_vite@6.3.5_@types+node@_kkg52bulj3afeke4e35iads2tm/node_modules/@sveltejs/kit/src/utils/url.js","../../../../../../node_modules/.pnpm/@sveltejs+kit@2.21.5_@sveltejs+vite-plugin-svelte@5.1.0_svelte@5.34.3_vite@6.3.5_@types+node@_kkg52bulj3afeke4e35iads2tm/node_modules/@sveltejs/kit/src/utils/exports.js"],"sourcesContent":["import { BROWSER, DEV } from 'esm-env';\n\n/**\n * Matches a URI scheme. See https://www.rfc-editor.org/rfc/rfc3986#section-3.1\n * @type {RegExp}\n */\nexport const SCHEME = /^[a-z][a-z\\d+\\-.]+:/i;\n\nconst internal = new URL('sveltekit-internal://');\n\n/**\n * @param {string} base\n * @param {string} path\n */\nexport function resolve(base, path) {\n\t// special case\n\tif (path[0] === '/' && path[1] === '/') return path;\n\n\tlet url = new URL(base, internal);\n\turl = new URL(path, url);\n\n\treturn url.protocol === internal.protocol ? url.pathname + url.search + url.hash : url.href;\n}\n\n/** @param {string} path */\nexport function is_root_relative(path) {\n\treturn path[0] === '/' && path[1] !== '/';\n}\n\n/**\n * @param {string} path\n * @param {import('types').TrailingSlash} trailing_slash\n */\nexport function normalize_path(path, trailing_slash) {\n\tif (path === '/' || trailing_slash === 'ignore') return path;\n\n\tif (trailing_slash === 'never') {\n\t\treturn path.endsWith('/') ? path.slice(0, -1) : path;\n\t} else if (trailing_slash === 'always' && !path.endsWith('/')) {\n\t\treturn path + '/';\n\t}\n\n\treturn path;\n}\n\n/**\n * Decode pathname excluding %25 to prevent further double decoding of params\n * @param {string} pathname\n */\nexport function decode_pathname(pathname) {\n\treturn pathname.split('%25').map(decodeURI).join('%25');\n}\n\n/** @param {Record<string, string>} params */\nexport function decode_params(params) {\n\tfor (const key in params) {\n\t\t// input has already been decoded by decodeURI\n\t\t// now handle the rest\n\t\tparams[key] = decodeURIComponent(params[key]);\n\t}\n\n\treturn params;\n}\n\n/**\n * The error when a URL is malformed is not very helpful, so we augment it with the URI\n * @param {string} uri\n */\nexport function decode_uri(uri) {\n\ttry {\n\t\treturn decodeURI(uri);\n\t} catch (e) {\n\t\tif (e instanceof Error) {\n\t\t\te.message = `Failed to decode URI: ${uri}\\n` + e.message;\n\t\t}\n\t\tthrow e;\n\t}\n}\n\n/**\n * Returns everything up to the first `#` in a URL\n * @param {{href: string}} url_like\n */\nexport function strip_hash({ href }) {\n\treturn href.split('#')[0];\n}\n\n/**\n * @param {URL} url\n * @param {() => void} callback\n * @param {(search_param: string) => void} search_params_callback\n * @param {boolean} [allow_hash]\n */\nexport function make_trackable(url, callback, search_params_callback, allow_hash = false) {\n\tconst tracked = new URL(url);\n\n\tObject.defineProperty(tracked, 'searchParams', {\n\t\tvalue: new Proxy(tracked.searchParams, {\n\t\t\tget(obj, key) {\n\t\t\t\tif (key === 'get' || key === 'getAll' || key === 'has') {\n\t\t\t\t\treturn (/**@type {string}*/ param) => {\n\t\t\t\t\t\tsearch_params_callback(param);\n\t\t\t\t\t\treturn obj[key](param);\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// if they try to access something different from what is in `tracked_search_params_properties`\n\t\t\t\t// we track the whole url (entries, values, keys etc)\n\t\t\t\tcallback();\n\n\t\t\t\tconst value = Reflect.get(obj, key);\n\t\t\t\treturn typeof value === 'function' ? value.bind(obj) : value;\n\t\t\t}\n\t\t}),\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n\n\t/**\n\t * URL properties that could change during the lifetime of the page,\n\t * which excludes things like `origin`\n\t */\n\tconst tracked_url_properties = ['href', 'pathname', 'search', 'toString', 'toJSON'];\n\tif (allow_hash) tracked_url_properties.push('hash');\n\n\tfor (const property of tracked_url_properties) {\n\t\tObject.defineProperty(tracked, property, {\n\t\t\tget() {\n\t\t\t\tcallback();\n\t\t\t\t// @ts-expect-error\n\t\t\t\treturn url[property];\n\t\t\t},\n\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true\n\t\t});\n\t}\n\n\tif (!BROWSER) {\n\t\t// @ts-ignore\n\t\ttracked[Symbol.for('nodejs.util.inspect.custom')] = (depth, opts, inspect) => {\n\t\t\treturn inspect(url, opts);\n\t\t};\n\n\t\t// @ts-ignore\n\t\ttracked.searchParams[Symbol.for('nodejs.util.inspect.custom')] = (depth, opts, inspect) => {\n\t\t\treturn inspect(url.searchParams, opts);\n\t\t};\n\t}\n\n\tif ((DEV || !BROWSER) && !allow_hash) {\n\t\tdisable_hash(tracked);\n\t}\n\n\treturn tracked;\n}\n\n/**\n * Disallow access to `url.hash` on the server and in `load`\n * @param {URL} url\n */\nfunction disable_hash(url) {\n\tallow_nodejs_console_log(url);\n\n\tObject.defineProperty(url, 'hash', {\n\t\tget() {\n\t\t\tthrow new Error(\n\t\t\t\t'Cannot access event.url.hash. Consider using `page.url.hash` inside a component instead'\n\t\t\t);\n\t\t}\n\t});\n}\n\n/**\n * Disallow access to `url.search` and `url.searchParams` during prerendering\n * @param {URL} url\n */\nexport function disable_search(url) {\n\tallow_nodejs_console_log(url);\n\n\tfor (const property of ['search', 'searchParams']) {\n\t\tObject.defineProperty(url, property, {\n\t\t\tget() {\n\t\t\t\tthrow new Error(`Cannot access url.${property} on a page with prerendering enabled`);\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * Allow URL to be console logged, bypassing disabled properties.\n * @param {URL} url\n */\nfunction allow_nodejs_console_log(url) {\n\tif (!BROWSER) {\n\t\t// @ts-ignore\n\t\turl[Symbol.for('nodejs.util.inspect.custom')] = (depth, opts, inspect) => {\n\t\t\treturn inspect(new URL(url), opts);\n\t\t};\n\t}\n}\n","/**\n * @param {Set<string>} expected\n */\nfunction validator(expected) {\n\t/**\n\t * @param {any} module\n\t * @param {string} [file]\n\t */\n\tfunction validate(module, file) {\n\t\tif (!module) return;\n\n\t\tfor (const key in module) {\n\t\t\tif (key[0] === '_' || expected.has(key)) continue; // key is valid in this module\n\n\t\t\tconst values = [...expected.values()];\n\n\t\t\tconst hint =\n\t\t\t\thint_for_supported_files(key, file?.slice(file.lastIndexOf('.'))) ??\n\t\t\t\t`valid exports are ${values.join(', ')}, or anything with a '_' prefix`;\n\n\t\t\tthrow new Error(`Invalid export '${key}'${file ? ` in ${file}` : ''} (${hint})`);\n\t\t}\n\t}\n\n\treturn validate;\n}\n\n/**\n * @param {string} key\n * @param {string} ext\n * @returns {string | void}\n */\nfunction hint_for_supported_files(key, ext = '.js') {\n\tconst supported_files = [];\n\n\tif (valid_layout_exports.has(key)) {\n\t\tsupported_files.push(`+layout${ext}`);\n\t}\n\n\tif (valid_page_exports.has(key)) {\n\t\tsupported_files.push(`+page${ext}`);\n\t}\n\n\tif (valid_layout_server_exports.has(key)) {\n\t\tsupported_files.push(`+layout.server${ext}`);\n\t}\n\n\tif (valid_page_server_exports.has(key)) {\n\t\tsupported_files.push(`+page.server${ext}`);\n\t}\n\n\tif (valid_server_exports.has(key)) {\n\t\tsupported_files.push(`+server${ext}`);\n\t}\n\n\tif (supported_files.length > 0) {\n\t\treturn `'${key}' is a valid export in ${supported_files.slice(0, -1).join(', ')}${\n\t\t\tsupported_files.length > 1 ? ' or ' : ''\n\t\t}${supported_files.at(-1)}`;\n\t}\n}\n\nconst valid_layout_exports = new Set([\n\t'load',\n\t'prerender',\n\t'csr',\n\t'ssr',\n\t'trailingSlash',\n\t'config'\n]);\nconst valid_page_exports = new Set([...valid_layout_exports, 'entries']);\nconst valid_layout_server_exports = new Set([...valid_layout_exports]);\nconst valid_page_server_exports = new Set([...valid_layout_server_exports, 'actions', 'entries']);\nconst valid_server_exports = new Set([\n\t'GET',\n\t'POST',\n\t'PATCH',\n\t'PUT',\n\t'DELETE',\n\t'OPTIONS',\n\t'HEAD',\n\t'fallback',\n\t'prerender',\n\t'trailingSlash',\n\t'config',\n\t'entries'\n]);\n\nexport const validate_layout_exports = validator(valid_layout_exports);\nexport const validate_page_exports = validator(valid_page_exports);\nexport const validate_layout_server_exports = validator(valid_layout_server_exports);\nexport const validate_page_server_exports = validator(valid_page_server_exports);\nexport const validate_server_exports = validator(valid_server_exports);\n"],"names":["internal","URL","resolve","base","path","url","protocol","pathname","search","hash","href","normalize_path","trailing_slash","endsWith","slice","decode_pathname","split","map","decodeURI","join","decode_params","params","key","decodeURIComponent","make_trackable","callback","search_params_callback","allow_hash","tracked","Object","defineProperty","value","Proxy","searchParams","get","obj","param","Reflect","bind","enumerable","configurable","tracked_url_properties","push","property","Symbol","for","depth","opts","inspect","disable_hash","allow_nodejs_console_log","Error","disable_search","validator","expected","validate","module","file","has","values","hint","hint_for_supported_files","lastIndexOf","ext","supported_files","valid_layout_exports","valid_page_exports","valid_layout_server_exports","valid_page_server_exports","valid_server_exports","length","at","Set","validate_layout_exports","validate_page_exports","validate_layout_server_exports","validate_page_server_exports","validate_server_exports"],"mappings":"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","x_google_ignoreList":[0,1]}