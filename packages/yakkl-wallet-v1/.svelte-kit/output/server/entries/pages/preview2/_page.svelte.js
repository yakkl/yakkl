import{p as push,f as attr_class,a as push_element,b as pop_element,e as escape_html,c as pop,s as store_get,v as ensure_array_like,m as attr,g as stringify$1,u as unsubscribe_stores,z as maybe_selected,k as bind_props,h as copy_payload,i as assign_payload,l as prevent_snippet_stringification}from"../../../chunks/index2.js";import{F as FILENAME}from"../../../chunks/utils.js";import{g as get,d as derived,w as writable}from"../../../chunks/index.js";import{B as BaseService,a as currentAccount,c as currentChain,M as Modal,A as AIHelpButton,i as isModalOpen}from"../../../chunks/modal.store.js";import{c as canUseFeature,d as canUseFeature$1,U as Upgrade}from"../../../chunks/Upgrade2.js";import"easyqrcodejs";import{m as yakklCurrentlySelectedStore,Q as YAKKL_ZERO_ADDRESS}from"../../../chunks/encryption.js";import"../../../chunks/environment.js";import"../../../chunks/Logger.js";import{UnifiedTimerManager}from"../../../chunks/UnifiedTimerManager.js";import"../../../chunks/utilities.js";import"../../../chunks/gas.js";import"ethereum-blockies-base64";import{u as uiStore}from"../../../chunks/ui.store.js";import{S as SimpleTooltip}from"../../../chunks/SimpleTooltip.js";import{M as ModDashboard}from"../../../chunks/ModDashboard.js";const version="6.14.4";function checkType(value,type,name){const types=type.split("|").map(t=>t.trim());for(let i=0;i<types.length;i++){switch(type){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof value===type){return}}}const error=new Error(`invalid value for type ${type}`);error.code="INVALID_ARGUMENT";error.argument=`value.${name}`;error.value=value;throw error}function defineProperties(target,values,types){for(let key in values){let value=values[key];const type=types?types[key]:null;if(type){checkType(value,type,key)}Object.defineProperty(target,key,{enumerable:true,value:value,writable:false})}}function stringify(value,seen){if(value==null){return"null"}if(seen==null){seen=new Set}if(typeof value==="object"){if(seen.has(value)){return"[Circular]"}seen.add(value)}if(Array.isArray(value)){return"[ "+value.map(v=>stringify(v,seen)).join(", ")+" ]"}if(value instanceof Uint8Array){const HEX="0123456789abcdef";let result="0x";for(let i=0;i<value.length;i++){result+=HEX[value[i]>>4];result+=HEX[value[i]&15]}return result}if(typeof value==="object"&&typeof value.toJSON==="function"){return stringify(value.toJSON(),seen)}switch(typeof value){case"boolean":case"number":case"symbol":return value.toString();case"bigint":return BigInt(value).toString();case"string":return JSON.stringify(value);case"object":{const keys=Object.keys(value);keys.sort();return"{ "+keys.map(k=>`${stringify(k,seen)}: ${stringify(value[k],seen)}`).join(", ")+" }"}}return`[ COULD NOT SERIALIZE ]`}function isError(error,code){return error&&error.code===code}function makeError(message,code,info){let shortMessage=message;{const details=[];if(info){if("message"in info||"code"in info||"name"in info){throw new Error(`value will overwrite populated values: ${stringify(info)}`)}for(const key in info){if(key==="shortMessage"){continue}const value=info[key];details.push(key+"="+stringify(value))}}details.push(`code=${code}`);details.push(`version=${version}`);if(details.length){message+=" ("+details.join(", ")+")"}}let error;switch(code){case"INVALID_ARGUMENT":error=new TypeError(message);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":error=new RangeError(message);break;default:error=new Error(message)}defineProperties(error,{code:code});if(info){Object.assign(error,info)}if(error.shortMessage==null){defineProperties(error,{shortMessage:shortMessage})}return error}function assert(check,message,code,info){if(!check){throw makeError(message,code,info)}}function assertArgument(check,message,name,value){assert(check,message,"INVALID_ARGUMENT",{argument:name,value:value})}function assertArgumentCount(count,expectedCount,message){if(message==null){message=""}if(message){message=": "+message}assert(count>=expectedCount,"missing argument"+message,"MISSING_ARGUMENT",{count:count,expectedCount:expectedCount});assert(count<=expectedCount,"too many arguments"+message,"UNEXPECTED_ARGUMENT",{count:count,expectedCount:expectedCount})}["NFD","NFC","NFKD","NFKC"].reduce((accum,form)=>{try{if("test".normalize(form)!=="test"){throw new Error("bad")}if(form==="NFD"){const check=String.fromCharCode(233).normalize("NFD");const expected=String.fromCharCode(101,769);if(check!==expected){throw new Error("broken")}}accum.push(form)}catch(error){}return accum},[]);function assertPrivate(givenGuard,guard,className){if(className==null){className=""}if(givenGuard!==guard){let method=className,operation="new";if(className){method+=".";operation+=" "+className}assert(false,`private constructor; use ${method}from* methods`,"UNSUPPORTED_OPERATION",{operation:operation})}}function _getBytes(value,name,copy){if(value instanceof Uint8Array){if(copy){return new Uint8Array(value)}return value}if(typeof value==="string"&&value.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const result=new Uint8Array((value.length-2)/2);let offset=2;for(let i=0;i<result.length;i++){result[i]=parseInt(value.substring(offset,offset+2),16);offset+=2}return result}assertArgument(false,"invalid BytesLike value",name||"value",value)}function getBytes(value,name){return _getBytes(value,name,false)}function getBytesCopy(value,name){return _getBytes(value,name,true)}const HexCharacters="0123456789abcdef";function hexlify(data){const bytes2=getBytes(data);let result="0x";for(let i=0;i<bytes2.length;i++){const v=bytes2[i];result+=HexCharacters[(v&240)>>4]+HexCharacters[v&15]}return result}function concat(datas){return"0x"+datas.map(d=>hexlify(d).substring(2)).join("")}const BN_0$3=BigInt(0);const BN_1$2=BigInt(1);const maxValue=9007199254740991;function fromTwos(_value,_width){const value=getUint(_value,"value");const width=BigInt(getNumber(_width,"width"));assert(value>>width===BN_0$3,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:_value});if(value>>width-BN_1$2){const mask2=(BN_1$2<<width)-BN_1$2;return-((~value&mask2)+BN_1$2)}return value}function toTwos(_value,_width){let value=getBigInt(_value,"value");const width=BigInt(getNumber(_width,"width"));const limit=BN_1$2<<width-BN_1$2;if(value<BN_0$3){value=-value;assert(value<=limit,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:_value});const mask2=(BN_1$2<<width)-BN_1$2;return(~value&mask2)+BN_1$2}else{assert(value<limit,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:_value})}return value}function mask(_value,_bits){const value=getUint(_value,"value");const bits=BigInt(getNumber(_bits,"bits"));return value&(BN_1$2<<bits)-BN_1$2}function getBigInt(value,name){switch(typeof value){case"bigint":return value;case"number":assertArgument(Number.isInteger(value),"underflow",name||"value",value);assertArgument(value>=-maxValue&&value<=maxValue,"overflow",name||"value",value);return BigInt(value);case"string":try{if(value===""){throw new Error("empty string")}if(value[0]==="-"&&value[1]!=="-"){return-BigInt(value.substring(1))}return BigInt(value)}catch(e){assertArgument(false,`invalid BigNumberish string: ${e.message}`,name||"value",value)}}assertArgument(false,"invalid BigNumberish value",name||"value",value)}function getUint(value,name){const result=getBigInt(value,name);assert(result>=BN_0$3,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:value});return result}const Nibbles="0123456789abcdef";function toBigInt(value){if(value instanceof Uint8Array){let result="0x0";for(const v of value){result+=Nibbles[v>>4];result+=Nibbles[v&15]}return BigInt(result)}return getBigInt(value)}function getNumber(value,name){switch(typeof value){case"bigint":assertArgument(value>=-maxValue&&value<=maxValue,"overflow",name||"value",value);return Number(value);case"number":assertArgument(Number.isInteger(value),"underflow",name||"value",value);assertArgument(value>=-maxValue&&value<=maxValue,"overflow",name||"value",value);return value;case"string":try{if(value===""){throw new Error("empty string")}return getNumber(BigInt(value),name)}catch(e){assertArgument(false,`invalid numeric string: ${e.message}`,name||"value",value)}}assertArgument(false,"invalid numeric value",name||"value",value)}function toNumber(value){return getNumber(toBigInt(value))}function toBeHex(_value,_width){const value=getUint(_value,"value");let result=value.toString(16);{const width=getNumber(_width,"width");assert(width*2>=result.length,`value exceeds width (${width} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:_value});while(result.length<width*2){result="0"+result}}return"0x"+result}function toBeArray(_value){const value=getUint(_value,"value");if(value===BN_0$3){return new Uint8Array([])}let hex=value.toString(16);if(hex.length%2){hex="0"+hex}const result=new Uint8Array(hex.length/2);for(let i=0;i<result.length;i++){const offset=i*2;result[i]=parseInt(hex.substring(offset,offset+2),16)}return result}function errorFunc(reason,offset,bytes2,output2,badCodepoint){assertArgument(false,`invalid codepoint at offset ${offset}; ${reason}`,"bytes",bytes2)}function ignoreFunc(reason,offset,bytes2,output2,badCodepoint){if(reason==="BAD_PREFIX"||reason==="UNEXPECTED_CONTINUE"){let i=0;for(let o=offset+1;o<bytes2.length;o++){if(bytes2[o]>>6!==2){break}i++}return i}if(reason==="OVERRUN"){return bytes2.length-offset-1}return 0}function replaceFunc(reason,offset,bytes2,output2,badCodepoint){if(reason==="OVERLONG"){assertArgument(typeof badCodepoint==="number","invalid bad code point for replacement","badCodepoint",badCodepoint);output2.push(badCodepoint);return 0}output2.push(65533);return ignoreFunc(reason,offset,bytes2)}const Utf8ErrorFuncs=Object.freeze({error:errorFunc,ignore:ignoreFunc,replace:replaceFunc});function getUtf8CodePoints(_bytes,onError){if(onError==null){onError=Utf8ErrorFuncs.error}const bytes2=getBytes(_bytes,"bytes");const result=[];let i=0;while(i<bytes2.length){const c=bytes2[i++];if(c>>7===0){result.push(c);continue}let extraLength=null;let overlongMask=null;if((c&224)===192){extraLength=1;overlongMask=127}else if((c&240)===224){extraLength=2;overlongMask=2047}else if((c&248)===240){extraLength=3;overlongMask=65535}else{if((c&192)===128){i+=onError("UNEXPECTED_CONTINUE",i-1,bytes2,result)}else{i+=onError("BAD_PREFIX",i-1,bytes2,result)}continue}if(i-1+extraLength>=bytes2.length){i+=onError("OVERRUN",i-1,bytes2,result);continue}let res=c&(1<<8-extraLength-1)-1;for(let j=0;j<extraLength;j++){let nextChar=bytes2[i];if((nextChar&192)!=128){i+=onError("MISSING_CONTINUE",i,bytes2,result);res=null;break}res=res<<6|nextChar&63;i++}if(res===null){continue}if(res>1114111){i+=onError("OUT_OF_RANGE",i-1-extraLength,bytes2,result,res);continue}if(res>=55296&&res<=57343){i+=onError("UTF16_SURROGATE",i-1-extraLength,bytes2,result,res);continue}if(res<=overlongMask){i+=onError("OVERLONG",i-1-extraLength,bytes2,result,res);continue}result.push(res)}return result}function toUtf8Bytes(str,form){assertArgument(typeof str==="string","invalid string value","str",str);let result=[];for(let i=0;i<str.length;i++){const c=str.charCodeAt(i);if(c<128){result.push(c)}else if(c<2048){result.push(c>>6|192);result.push(c&63|128)}else if((c&64512)==55296){i++;const c2=str.charCodeAt(i);assertArgument(i<str.length&&(c2&64512)===56320,"invalid surrogate pair","str",str);const pair=65536+((c&1023)<<10)+(c2&1023);result.push(pair>>18|240);result.push(pair>>12&63|128);result.push(pair>>6&63|128);result.push(pair&63|128)}else{result.push(c>>12|224);result.push(c>>6&63|128);result.push(c&63|128)}}return new Uint8Array(result)}function _toUtf8String(codePoints){return codePoints.map(codePoint=>{if(codePoint<=65535){return String.fromCharCode(codePoint)}codePoint-=65536;return String.fromCharCode((codePoint>>10&1023)+55296,(codePoint&1023)+56320)}).join("")}function toUtf8String(bytes2,onError){return _toUtf8String(getUtf8CodePoints(bytes2,onError))}const BN_N1=BigInt(-1);const BN_0$2=BigInt(0);const BN_1$1=BigInt(1);const BN_5=BigInt(5);const _guard$2={};let Zeros="0000";while(Zeros.length<80){Zeros+=Zeros}function getTens(decimals){let result=Zeros;while(result.length<decimals){result+=result}return BigInt("1"+result.substring(0,decimals))}function checkValue(val,format,safeOp){const width=BigInt(format.width);if(format.signed){const limit=BN_1$1<<width-BN_1$1;assert(safeOp==null||val>=-limit&&val<limit,"overflow","NUMERIC_FAULT",{operation:safeOp,fault:"overflow",value:val});if(val>BN_0$2){val=fromTwos(mask(val,width),width)}else{val=-fromTwos(mask(-val,width),width)}}else{const limit=BN_1$1<<width;assert(safeOp==null||val>=0&&val<limit,"overflow","NUMERIC_FAULT",{operation:safeOp,fault:"overflow",value:val});val=(val%limit+limit)%limit&limit-BN_1$1}return val}function getFormat(value){if(typeof value==="number"){value=`fixed128x${value}`}let signed=true;let width=128;let decimals=18;if(typeof value==="string"){if(value==="fixed");else if(value==="ufixed"){signed=false}else{const match=value.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);assertArgument(match,"invalid fixed format","format",value);signed=match[1]!=="u";width=parseInt(match[2]);decimals=parseInt(match[3])}}else if(value){const v=value;const check=(key,type,defaultValue)=>{if(v[key]==null){return defaultValue}assertArgument(typeof v[key]===type,"invalid fixed format ("+key+" not "+type+")","format."+key,v[key]);return v[key]};signed=check("signed","boolean",signed);width=check("width","number",width);decimals=check("decimals","number",decimals)}assertArgument(width%8===0,"invalid FixedNumber width (not byte aligned)","format.width",width);assertArgument(decimals<=80,"invalid FixedNumber decimals (too large)","format.decimals",decimals);const name=(signed?"":"u")+"fixed"+String(width)+"x"+String(decimals);return{signed:signed,width:width,decimals:decimals,name:name}}function toString(val,decimals){let negative="";if(val<BN_0$2){negative="-";val*=BN_N1}let str=val.toString();if(decimals===0){return negative+str}while(str.length<=decimals){str=Zeros+str}const index=str.length-decimals;str=str.substring(0,index)+"."+str.substring(index);while(str[0]==="0"&&str[1]!=="."){str=str.substring(1)}while(str[str.length-1]==="0"&&str[str.length-2]!=="."){str=str.substring(0,str.length-1)}return negative+str}class FixedNumber{format;#format;#val;#tens;_value;constructor(guard,value,format){assertPrivate(guard,_guard$2,"FixedNumber");this.#val=value;this.#format=format;const _value=toString(value,format.decimals);defineProperties(this,{format:format.name,_value:_value});this.#tens=getTens(format.decimals)}get signed(){return this.#format.signed}get width(){return this.#format.width}get decimals(){return this.#format.decimals}get value(){return this.#val}#checkFormat(other){assertArgument(this.format===other.format,"incompatible format; use fixedNumber.toFormat","other",other)}#checkValue(val,safeOp){val=checkValue(val,this.#format,safeOp);return new FixedNumber(_guard$2,val,this.#format)}#add(o,safeOp){this.#checkFormat(o);return this.#checkValue(this.#val+o.#val,safeOp)}addUnsafe(other){return this.#add(other)}add(other){return this.#add(other,"add")}#sub(o,safeOp){this.#checkFormat(o);return this.#checkValue(this.#val-o.#val,safeOp)}subUnsafe(other){return this.#sub(other)}sub(other){return this.#sub(other,"sub")}#mul(o,safeOp){this.#checkFormat(o);return this.#checkValue(this.#val*o.#val/this.#tens,safeOp)}mulUnsafe(other){return this.#mul(other)}mul(other){return this.#mul(other,"mul")}mulSignal(other){this.#checkFormat(other);const value=this.#val*other.#val;assert(value%this.#tens===BN_0$2,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this});return this.#checkValue(value/this.#tens,"mulSignal")}#div(o,safeOp){assert(o.#val!==BN_0$2,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this});this.#checkFormat(o);return this.#checkValue(this.#val*this.#tens/o.#val,safeOp)}divUnsafe(other){return this.#div(other)}div(other){return this.#div(other,"div")}divSignal(other){assert(other.#val!==BN_0$2,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this});this.#checkFormat(other);const value=this.#val*this.#tens;assert(value%other.#val===BN_0$2,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this});return this.#checkValue(value/other.#val,"divSignal")}cmp(other){let a=this.value,b2=other.value;const delta=this.decimals-other.decimals;if(delta>0){b2*=getTens(delta)}else if(delta<0){a*=getTens(-delta)}if(a<b2){return-1}if(a>b2){return 1}return 0}eq(other){return this.cmp(other)===0}lt(other){return this.cmp(other)<0}lte(other){return this.cmp(other)<=0}gt(other){return this.cmp(other)>0}gte(other){return this.cmp(other)>=0}floor(){let val=this.#val;if(this.#val<BN_0$2){val-=this.#tens-BN_1$1}val=this.#val/this.#tens*this.#tens;return this.#checkValue(val,"floor")}ceiling(){let val=this.#val;if(this.#val>BN_0$2){val+=this.#tens-BN_1$1}val=this.#val/this.#tens*this.#tens;return this.#checkValue(val,"ceiling")}round(decimals){if(decimals==null){decimals=0}if(decimals>=this.decimals){return this}const delta=this.decimals-decimals;const bump=BN_5*getTens(delta-1);let value=this.value+bump;const tens=getTens(delta);value=value/tens*tens;checkValue(value,this.#format,"round");return new FixedNumber(_guard$2,value,this.#format)}isZero(){return this.#val===BN_0$2}isNegative(){return this.#val<BN_0$2}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(format){return FixedNumber.fromString(this.toString(),format)}static fromValue(_value,_decimals,_format){const decimals=_decimals==null?0:getNumber(_decimals);const format=getFormat(_format);let value=getBigInt(_value,"value");const delta=decimals-format.decimals;if(delta>0){const tens=getTens(delta);assert(value%tens===BN_0$2,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:_value});value/=tens}else if(delta<0){value*=getTens(-delta)}checkValue(value,format,"fromValue");return new FixedNumber(_guard$2,value,format)}static fromString(_value,_format){const match=_value.match(/^(-?)([0-9]*)\.?([0-9]*)$/);assertArgument(match&&match[2].length+match[3].length>0,"invalid FixedNumber string value","value",_value);const format=getFormat(_format);let whole=match[2]||"0",decimal=match[3]||"";while(decimal.length<format.decimals){decimal+=Zeros}assert(decimal.substring(format.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:_value});decimal=decimal.substring(0,format.decimals);const value=BigInt(match[1]+whole+decimal);checkValue(value,format,"fromString");return new FixedNumber(_guard$2,value,format)}static fromBytes(_value,_format){let value=toBigInt(getBytes(_value,"value"));const format=getFormat(_format);if(format.signed){value=fromTwos(value,format.width)}checkValue(value,format,"fromBytes");return new FixedNumber(_guard$2,value,format)}}function parseUnits(value,unit){assertArgument(typeof value==="string","value must be a string","value",value);let decimals=18;{decimals=getNumber(unit,"unit")}return FixedNumber.fromString(value,{decimals:decimals,width:512}).value}function parseEther(ether){return parseUnits(ether,18)}const WordSize=32;const Padding=new Uint8Array(WordSize);const passProperties=["then"];const _guard$1={};const resultNames=new WeakMap;function getNames(result){return resultNames.get(result)}function setNames(result,names){resultNames.set(result,names)}function throwError(name,error){const wrapped=new Error(`deferred error during ABI decoding triggered accessing ${name}`);wrapped.error=error;throw wrapped}function toObject(names,items,deep){if(names.indexOf(null)>=0){return items.map((item,index)=>{if(item instanceof Result){return toObject(getNames(item),item,deep)}return item})}return names.reduce((accum,name,index)=>{let item=items.getValue(name);if(!(name in accum)){if(deep&&item instanceof Result){item=toObject(getNames(item),item,deep)}accum[name]=item}return accum},{})}class Result extends Array{#names;constructor(...args){const guard=args[0];let items=args[1];let names=(args[2]||[]).slice();let wrap=true;if(guard!==_guard$1){items=args;names=[];wrap=false}super(items.length);items.forEach((item,index)=>{this[index]=item});const nameCounts=names.reduce((accum,name)=>{if(typeof name==="string"){accum.set(name,(accum.get(name)||0)+1)}return accum},new Map);setNames(this,Object.freeze(items.map((item,index)=>{const name=names[index];if(name!=null&&nameCounts.get(name)===1){return name}return null})));this.#names=[];if(this.#names==null){void this.#names}if(!wrap){return}Object.freeze(this);const proxy=new Proxy(this,{get:(target,prop,receiver)=>{if(typeof prop==="string"){if(prop.match(/^[0-9]+$/)){const index=getNumber(prop,"%index");if(index<0||index>=this.length){throw new RangeError("out of result range")}const item=target[index];if(item instanceof Error){throwError(`index ${index}`,item)}return item}if(passProperties.indexOf(prop)>=0){return Reflect.get(target,prop,receiver)}const value=target[prop];if(value instanceof Function){return function(...args2){return value.apply(this===receiver?target:this,args2)}}else if(!(prop in target)){return target.getValue.apply(this===receiver?target:this,[prop])}}return Reflect.get(target,prop,receiver)}});setNames(proxy,getNames(this));return proxy}toArray(deep){const result=[];this.forEach((item,index)=>{if(item instanceof Error){throwError(`index ${index}`,item)}if(deep&&item instanceof Result){item=item.toArray(deep)}result.push(item)});return result}toObject(deep){const names=getNames(this);return names.reduce((accum,name,index)=>{assert(name!=null,`value at index ${index} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"});return toObject(names,this,deep)},{})}slice(start,end){if(start==null){start=0}if(start<0){start+=this.length;if(start<0){start=0}}if(end==null){end=this.length}if(end<0){end+=this.length;if(end<0){end=0}}if(end>this.length){end=this.length}const _names=getNames(this);const result=[],names=[];for(let i=start;i<end;i++){result.push(this[i]);names.push(_names[i])}return new Result(_guard$1,result,names)}filter(callback,thisArg){const _names=getNames(this);const result=[],names=[];for(let i=0;i<this.length;i++){const item=this[i];if(item instanceof Error){throwError(`index ${i}`,item)}if(callback.call(thisArg,item,i,this)){result.push(item);names.push(_names[i])}}return new Result(_guard$1,result,names)}map(callback,thisArg){const result=[];for(let i=0;i<this.length;i++){const item=this[i];if(item instanceof Error){throwError(`index ${i}`,item)}result.push(callback.call(thisArg,item,i,this))}return result}getValue(name){const index=getNames(this).indexOf(name);if(index===-1){return void 0}const value=this[index];if(value instanceof Error){throwError(`property ${JSON.stringify(name)}`,value.error)}return value}static fromItems(items,keys){return new Result(_guard$1,items,keys)}}function getValue(value){let bytes2=toBeArray(value);assert(bytes2.length<=WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:bytes2,length:WordSize,offset:bytes2.length});if(bytes2.length!==WordSize){bytes2=getBytesCopy(concat([Padding.slice(bytes2.length%WordSize),bytes2]))}return bytes2}class Coder{name;type;localName;dynamic;constructor(name,type,localName,dynamic){defineProperties(this,{name:name,type:type,localName:localName,dynamic:dynamic},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(message,value){assertArgument(false,message,this.localName,value)}}class Writer{#data;#dataLength;constructor(){this.#data=[];this.#dataLength=0}get data(){return concat(this.#data)}get length(){return this.#dataLength}#writeData(data){this.#data.push(data);this.#dataLength+=data.length;return data.length}appendWriter(writer){return this.#writeData(getBytesCopy(writer.data))}writeBytes(value){let bytes2=getBytesCopy(value);const paddingOffset=bytes2.length%WordSize;if(paddingOffset){bytes2=getBytesCopy(concat([bytes2,Padding.slice(paddingOffset)]))}return this.#writeData(bytes2)}writeValue(value){return this.#writeData(getValue(value))}writeUpdatableValue(){const offset=this.#data.length;this.#data.push(Padding);this.#dataLength+=WordSize;return value=>{this.#data[offset]=getValue(value)}}}class Reader{allowLoose;#data;#offset;#bytesRead;#parent;#maxInflation;constructor(data,allowLoose,maxInflation){defineProperties(this,{allowLoose:!!allowLoose});this.#data=getBytesCopy(data);this.#bytesRead=0;this.#parent=null;this.#maxInflation=maxInflation!=null?maxInflation:1024;this.#offset=0}get data(){return hexlify(this.#data)}get dataLength(){return this.#data.length}get consumed(){return this.#offset}get bytes(){return new Uint8Array(this.#data)}#incrementBytesRead(count){if(this.#parent){return this.#parent.#incrementBytesRead(count)}this.#bytesRead+=count;assert(this.#maxInflation<1||this.#bytesRead<=this.#maxInflation*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#maxInflation} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:getBytesCopy(this.#data),offset:this.#offset,length:count,info:{bytesRead:this.#bytesRead,dataLength:this.dataLength}})}#peekBytes(offset,length,loose){let alignedLength=Math.ceil(length/WordSize)*WordSize;if(this.#offset+alignedLength>this.#data.length){if(this.allowLoose&&loose&&this.#offset+length<=this.#data.length){alignedLength=length}else{assert(false,"data out-of-bounds","BUFFER_OVERRUN",{buffer:getBytesCopy(this.#data),length:this.#data.length,offset:this.#offset+alignedLength})}}return this.#data.slice(this.#offset,this.#offset+alignedLength)}subReader(offset){const reader=new Reader(this.#data.slice(this.#offset+offset),this.allowLoose,this.#maxInflation);reader.#parent=this;return reader}readBytes(length,loose){let bytes2=this.#peekBytes(0,length,!!loose);this.#incrementBytesRead(length);this.#offset+=bytes2.length;return bytes2.slice(0,length)}readValue(){return toBigInt(this.readBytes(WordSize))}readIndex(){return toNumber(this.readBytes(WordSize))}}function number(n2){if(!Number.isSafeInteger(n2)||n2<0)throw new Error(`Wrong positive integer: ${n2}`)}function bytes(b2,...lengths){if(!(b2 instanceof Uint8Array))throw new Error("Expected Uint8Array");if(lengths.length>0&&!lengths.includes(b2.length))throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b2.length}`)}function exists(instance,checkFinished=true){if(instance.destroyed)throw new Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw new Error("Hash#digest() has already been called")}function output(out,instance){bytes(out);const min=instance.outputLen;if(out.length<min){throw new Error(`digestInto() expects output buffer of length at least ${min}`)}}const U32_MASK64=BigInt(2**32-1);const _32n=BigInt(32);function fromBig(n2,le=false){if(le)return{h:Number(n2&U32_MASK64),l:Number(n2>>_32n&U32_MASK64)};return{h:Number(n2>>_32n&U32_MASK64)|0,l:Number(n2&U32_MASK64)|0}}function split(lst,le=false){let Ah=new Uint32Array(lst.length);let Al=new Uint32Array(lst.length);for(let i=0;i<lst.length;i++){const{h:h,l:l}=fromBig(lst[i],le);[Ah[i],Al[i]]=[h,l]}return[Ah,Al]}const rotlSH=(h,l,s)=>h<<s|l>>>32-s;const rotlSL=(h,l,s)=>l<<s|h>>>32-s;const rotlBH=(h,l,s)=>l<<s-32|h>>>64-s;const rotlBL=(h,l,s)=>h<<s-32|l>>>64-s;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a=a=>a instanceof Uint8Array;const u32=arr=>new Uint32Array(arr.buffer,arr.byteOffset,Math.floor(arr.byteLength/4));const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes(str){if(typeof str!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof str}`);return new Uint8Array((new TextEncoder).encode(str))}function toBytes(data){if(typeof data==="string")data=utf8ToBytes(data);if(!u8a(data))throw new Error(`expected Uint8Array, got ${typeof data}`);return data}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(hashCons){const hashC=msg=>hashCons().update(toBytes(msg)).digest();const tmp=hashCons();hashC.outputLen=tmp.outputLen;hashC.blockLen=tmp.blockLen;hashC.create=()=>hashCons();return hashC}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]];const _0n=BigInt(0);const _1n=BigInt(1);const _2n=BigInt(2);const _7n=BigInt(7);const _256n=BigInt(256);const _0x71n=BigInt(113);for(let round=0,R=_1n,x=1,y=0;round<24;round++){[x,y]=[y,(2*x+3*y)%5];SHA3_PI.push(2*(5*y+x));SHA3_ROTL.push((round+1)*(round+2)/2%64);let t=_0n;for(let j=0;j<7;j++){R=(R<<_1n^(R>>_7n)*_0x71n)%_256n;if(R&_2n)t^=_1n<<(_1n<<BigInt(j))-_1n}_SHA3_IOTA.push(t)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,true);const rotlH=(h,l,s)=>s>32?rotlBH(h,l,s):rotlSH(h,l,s);const rotlL=(h,l,s)=>s>32?rotlBL(h,l,s):rotlSL(h,l,s);function keccakP(s,rounds=24){const B=new Uint32Array(5*2);for(let round=24-rounds;round<24;round++){for(let x=0;x<10;x++)B[x]=s[x]^s[x+10]^s[x+20]^s[x+30]^s[x+40];for(let x=0;x<10;x+=2){const idx1=(x+8)%10;const idx0=(x+2)%10;const B0=B[idx0];const B1=B[idx0+1];const Th=rotlH(B0,B1,1)^B[idx1];const Tl=rotlL(B0,B1,1)^B[idx1+1];for(let y=0;y<50;y+=10){s[x+y]^=Th;s[x+y+1]^=Tl}}let curH=s[2];let curL=s[3];for(let t=0;t<24;t++){const shift=SHA3_ROTL[t];const Th=rotlH(curH,curL,shift);const Tl=rotlL(curH,curL,shift);const PI=SHA3_PI[t];curH=s[PI];curL=s[PI+1];s[PI]=Th;s[PI+1]=Tl}for(let y=0;y<50;y+=10){for(let x=0;x<10;x++)B[x]=s[y+x];for(let x=0;x<10;x++)s[y+x]^=~B[(x+2)%10]&B[(x+4)%10]}s[0]^=SHA3_IOTA_H[round];s[1]^=SHA3_IOTA_L[round]}B.fill(0)}class Keccak extends Hash{constructor(blockLen,suffix,outputLen,enableXOF=false,rounds=24){super();this.blockLen=blockLen;this.suffix=suffix;this.outputLen=outputLen;this.enableXOF=enableXOF;this.rounds=rounds;this.pos=0;this.posOut=0;this.finished=false;this.destroyed=false;number(outputLen);if(0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200);this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds);this.posOut=0;this.pos=0}update(data){exists(this);const{blockLen:blockLen,state:state}=this;data=toBytes(data);const len=data.length;for(let pos=0;pos<len;){const take=Math.min(blockLen-this.pos,len-pos);for(let i=0;i<take;i++)state[this.pos++]^=data[pos++];if(this.pos===blockLen)this.keccak()}return this}finish(){if(this.finished)return;this.finished=true;const{state:state,suffix:suffix,pos:pos,blockLen:blockLen}=this;state[pos]^=suffix;if((suffix&128)!==0&&pos===blockLen-1)this.keccak();state[blockLen-1]^=128;this.keccak()}writeInto(out){exists(this,false);bytes(out);this.finish();const bufferOut=this.state;const{blockLen:blockLen}=this;for(let pos=0,len=out.length;pos<len;){if(this.posOut>=blockLen)this.keccak();const take=Math.min(blockLen-this.posOut,len-pos);out.set(bufferOut.subarray(this.posOut,this.posOut+take),pos);this.posOut+=take;pos+=take}return out}xofInto(out){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(out)}xof(bytes2){number(bytes2);return this.xofInto(new Uint8Array(bytes2))}digestInto(out){output(out,this);if(this.finished)throw new Error("digest() was already called");this.writeInto(out);this.destroy();return out}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=true;this.state.fill(0)}_cloneInto(to){const{blockLen:blockLen,suffix:suffix,outputLen:outputLen,rounds:rounds,enableXOF:enableXOF}=this;to||(to=new Keccak(blockLen,suffix,outputLen,enableXOF,rounds));to.state32.set(this.state32);to.pos=this.pos;to.posOut=this.posOut;to.finished=this.finished;to.rounds=rounds;to.suffix=suffix;to.outputLen=outputLen;to.enableXOF=enableXOF;to.destroyed=this.destroyed;return to}}const gen=(suffix,blockLen,outputLen)=>wrapConstructor(()=>new Keccak(blockLen,suffix,outputLen));const keccak_256=gen(1,136,256/8);let locked=false;const _keccak256=function(data){return keccak_256(data)};let __keccak256=_keccak256;function keccak256(_data){const data=getBytes(_data,"data");return hexlify(__keccak256(data))}keccak256._=_keccak256;keccak256.lock=function(){locked=true};keccak256.register=function(func){if(locked){throw new TypeError("keccak256 is locked")}__keccak256=func};Object.freeze(keccak256);const BN_0$1=BigInt(0);const BN_36=BigInt(36);function getChecksumAddress(address){address=address.toLowerCase();const chars=address.substring(2).split("");const expanded=new Uint8Array(40);for(let i=0;i<40;i++){expanded[i]=chars[i].charCodeAt(0)}const hashed=getBytes(keccak256(expanded));for(let i=0;i<40;i+=2){if(hashed[i>>1]>>4>=8){chars[i]=chars[i].toUpperCase()}if((hashed[i>>1]&15)>=8){chars[i+1]=chars[i+1].toUpperCase()}}return"0x"+chars.join("")}const ibanLookup={};for(let i=0;i<10;i++){ibanLookup[String(i)]=String(i)}for(let i=0;i<26;i++){ibanLookup[String.fromCharCode(65+i)]=String(10+i)}const safeDigits=15;function ibanChecksum(address){address=address.toUpperCase();address=address.substring(4)+address.substring(0,2)+"00";let expanded=address.split("").map(c=>ibanLookup[c]).join("");while(expanded.length>=safeDigits){let block=expanded.substring(0,safeDigits);expanded=parseInt(block,10)%97+expanded.substring(block.length)}let checksum=String(98-parseInt(expanded,10)%97);while(checksum.length<2){checksum="0"+checksum}return checksum}const Base36=function(){const result={};for(let i=0;i<36;i++){const key="0123456789abcdefghijklmnopqrstuvwxyz"[i];result[key]=BigInt(i)}return result}();function fromBase36(value){value=value.toLowerCase();let result=BN_0$1;for(let i=0;i<value.length;i++){result=result*BN_36+Base36[value[i]]}return result}function getAddress(address){assertArgument(typeof address==="string","invalid address","address",address);if(address.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!address.startsWith("0x")){address="0x"+address}const result=getChecksumAddress(address);assertArgument(!address.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||result===address,"bad address checksum","address",address);return result}if(address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){assertArgument(address.substring(2,4)===ibanChecksum(address),"bad icap checksum","address",address);let result=fromBase36(address.substring(4)).toString(16);while(result.length<40){result="0"+result}return getChecksumAddress("0x"+result)}assertArgument(false,"invalid address","address",address)}const _gaurd={};function n(value,width){let signed=false;if(width<0){signed=true;width*=-1}return new Typed(_gaurd,`${signed?"":"u"}int${width}`,value,{signed:signed,width:width})}function b(value,size){return new Typed(_gaurd,`bytes${size?size:""}`,value,{size:size})}const _typedSymbol=Symbol.for("_ethers_typed");class Typed{type;value;#options;_typedSymbol;constructor(gaurd,type,value,options){if(options==null){options=null}assertPrivate(_gaurd,gaurd,"Typed");defineProperties(this,{_typedSymbol:_typedSymbol,type:type,value:value});this.#options=options;this.format()}format(){if(this.type==="array"){throw new Error("")}else if(this.type==="dynamicArray"){throw new Error("")}else if(this.type==="tuple"){return`tuple(${this.value.map(v=>v.format()).join(",")})`}return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple"){throw TypeError("not a tuple")}return this.#options}get arrayLength(){if(this.type!=="array"){throw TypeError("not an array")}if(this.#options===true){return-1}if(this.#options===false){return this.value.length}return null}static from(type,value){return new Typed(_gaurd,type,value)}static uint8(v){return n(v,8)}static uint16(v){return n(v,16)}static uint24(v){return n(v,24)}static uint32(v){return n(v,32)}static uint40(v){return n(v,40)}static uint48(v){return n(v,48)}static uint56(v){return n(v,56)}static uint64(v){return n(v,64)}static uint72(v){return n(v,72)}static uint80(v){return n(v,80)}static uint88(v){return n(v,88)}static uint96(v){return n(v,96)}static uint104(v){return n(v,104)}static uint112(v){return n(v,112)}static uint120(v){return n(v,120)}static uint128(v){return n(v,128)}static uint136(v){return n(v,136)}static uint144(v){return n(v,144)}static uint152(v){return n(v,152)}static uint160(v){return n(v,160)}static uint168(v){return n(v,168)}static uint176(v){return n(v,176)}static uint184(v){return n(v,184)}static uint192(v){return n(v,192)}static uint200(v){return n(v,200)}static uint208(v){return n(v,208)}static uint216(v){return n(v,216)}static uint224(v){return n(v,224)}static uint232(v){return n(v,232)}static uint240(v){return n(v,240)}static uint248(v){return n(v,248)}static uint256(v){return n(v,256)}static uint(v){return n(v,256)}static int8(v){return n(v,-8)}static int16(v){return n(v,-16)}static int24(v){return n(v,-24)}static int32(v){return n(v,-32)}static int40(v){return n(v,-40)}static int48(v){return n(v,-48)}static int56(v){return n(v,-56)}static int64(v){return n(v,-64)}static int72(v){return n(v,-72)}static int80(v){return n(v,-80)}static int88(v){return n(v,-88)}static int96(v){return n(v,-96)}static int104(v){return n(v,-104)}static int112(v){return n(v,-112)}static int120(v){return n(v,-120)}static int128(v){return n(v,-128)}static int136(v){return n(v,-136)}static int144(v){return n(v,-144)}static int152(v){return n(v,-152)}static int160(v){return n(v,-160)}static int168(v){return n(v,-168)}static int176(v){return n(v,-176)}static int184(v){return n(v,-184)}static int192(v){return n(v,-192)}static int200(v){return n(v,-200)}static int208(v){return n(v,-208)}static int216(v){return n(v,-216)}static int224(v){return n(v,-224)}static int232(v){return n(v,-232)}static int240(v){return n(v,-240)}static int248(v){return n(v,-248)}static int256(v){return n(v,-256)}static int(v){return n(v,-256)}static bytes1(v){return b(v,1)}static bytes2(v){return b(v,2)}static bytes3(v){return b(v,3)}static bytes4(v){return b(v,4)}static bytes5(v){return b(v,5)}static bytes6(v){return b(v,6)}static bytes7(v){return b(v,7)}static bytes8(v){return b(v,8)}static bytes9(v){return b(v,9)}static bytes10(v){return b(v,10)}static bytes11(v){return b(v,11)}static bytes12(v){return b(v,12)}static bytes13(v){return b(v,13)}static bytes14(v){return b(v,14)}static bytes15(v){return b(v,15)}static bytes16(v){return b(v,16)}static bytes17(v){return b(v,17)}static bytes18(v){return b(v,18)}static bytes19(v){return b(v,19)}static bytes20(v){return b(v,20)}static bytes21(v){return b(v,21)}static bytes22(v){return b(v,22)}static bytes23(v){return b(v,23)}static bytes24(v){return b(v,24)}static bytes25(v){return b(v,25)}static bytes26(v){return b(v,26)}static bytes27(v){return b(v,27)}static bytes28(v){return b(v,28)}static bytes29(v){return b(v,29)}static bytes30(v){return b(v,30)}static bytes31(v){return b(v,31)}static bytes32(v){return b(v,32)}static address(v){return new Typed(_gaurd,"address",v)}static bool(v){return new Typed(_gaurd,"bool",!!v)}static bytes(v){return new Typed(_gaurd,"bytes",v)}static string(v){return new Typed(_gaurd,"string",v)}static array(v,dynamic){throw new Error("not implemented yet")}static tuple(v,name){throw new Error("not implemented yet")}static overrides(v){return new Typed(_gaurd,"overrides",Object.assign({},v))}static isTyped(value){return value&&typeof value==="object"&&"_typedSymbol"in value&&value._typedSymbol===_typedSymbol}static dereference(value,type){if(Typed.isTyped(value)){if(value.type!==type){throw new Error(`invalid type: expecetd ${type}, got ${value.type}`)}return value.value}return value}}class AddressCoder extends Coder{constructor(localName){super("address","address",localName,false)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(writer,_value){let value=Typed.dereference(_value,"string");try{value=getAddress(value)}catch(error){return this._throwError(error.message,_value)}return writer.writeValue(value)}decode(reader){return getAddress(toBeHex(reader.readValue(),20))}}class AnonymousCoder extends Coder{coder;constructor(coder){super(coder.name,coder.type,"_",coder.dynamic);this.coder=coder}defaultValue(){return this.coder.defaultValue()}encode(writer,value){return this.coder.encode(writer,value)}decode(reader){return this.coder.decode(reader)}}function pack(writer,coders,values){let arrayValues=[];if(Array.isArray(values)){arrayValues=values}else if(values&&typeof values==="object"){let unique={};arrayValues=coders.map(coder=>{const name=coder.localName;assert(name,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:coder},value:values});assert(!unique[name],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:coder},value:values});unique[name]=true;return values[name]})}else{assertArgument(false,"invalid tuple value","tuple",values)}assertArgument(coders.length===arrayValues.length,"types/value length mismatch","tuple",values);let staticWriter=new Writer;let dynamicWriter=new Writer;let updateFuncs=[];coders.forEach((coder,index)=>{let value=arrayValues[index];if(coder.dynamic){let dynamicOffset=dynamicWriter.length;coder.encode(dynamicWriter,value);let updateFunc=staticWriter.writeUpdatableValue();updateFuncs.push(baseOffset=>{updateFunc(baseOffset+dynamicOffset)})}else{coder.encode(staticWriter,value)}});updateFuncs.forEach(func=>{func(staticWriter.length)});let length=writer.appendWriter(staticWriter);length+=writer.appendWriter(dynamicWriter);return length}function unpack(reader,coders){let values=[];let keys=[];let baseReader=reader.subReader(0);coders.forEach(coder=>{let value=null;if(coder.dynamic){let offset=reader.readIndex();let offsetReader=baseReader.subReader(offset);try{value=coder.decode(offsetReader)}catch(error){if(isError(error,"BUFFER_OVERRUN")){throw error}value=error;value.baseType=coder.name;value.name=coder.localName;value.type=coder.type}}else{try{value=coder.decode(reader)}catch(error){if(isError(error,"BUFFER_OVERRUN")){throw error}value=error;value.baseType=coder.name;value.name=coder.localName;value.type=coder.type}}if(value==void 0){throw new Error("investigate")}values.push(value);keys.push(coder.localName||null)});return Result.fromItems(values,keys)}class ArrayCoder extends Coder{coder;length;constructor(coder,length,localName){const type=coder.type+"["+(length>=0?length:"")+"]";const dynamic=length===-1||coder.dynamic;super("array",type,localName,dynamic);defineProperties(this,{coder:coder,length:length})}defaultValue(){const defaultChild=this.coder.defaultValue();const result=[];for(let i=0;i<this.length;i++){result.push(defaultChild)}return result}encode(writer,_value){const value=Typed.dereference(_value,"array");if(!Array.isArray(value)){this._throwError("expected array value",value)}let count=this.length;if(count===-1){count=value.length;writer.writeValue(value.length)}assertArgumentCount(value.length,count,"coder array"+(this.localName?" "+this.localName:""));let coders=[];for(let i=0;i<value.length;i++){coders.push(this.coder)}return pack(writer,coders,value)}decode(reader){let count=this.length;if(count===-1){count=reader.readIndex();assert(count*WordSize<=reader.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:reader.bytes,offset:count*WordSize,length:reader.dataLength})}let coders=[];for(let i=0;i<count;i++){coders.push(new AnonymousCoder(this.coder))}return unpack(reader,coders)}}class BooleanCoder extends Coder{constructor(localName){super("bool","bool",localName,false)}defaultValue(){return false}encode(writer,_value){const value=Typed.dereference(_value,"bool");return writer.writeValue(value?1:0)}decode(reader){return!!reader.readValue()}}class DynamicBytesCoder extends Coder{constructor(type,localName){super(type,type,localName,true)}defaultValue(){return"0x"}encode(writer,value){value=getBytesCopy(value);let length=writer.writeValue(value.length);length+=writer.writeBytes(value);return length}decode(reader){return reader.readBytes(reader.readIndex(),true)}}class BytesCoder extends DynamicBytesCoder{constructor(localName){super("bytes",localName)}decode(reader){return hexlify(super.decode(reader))}}class FixedBytesCoder extends Coder{size;constructor(size,localName){let name="bytes"+String(size);super(name,name,localName,false);defineProperties(this,{size:size},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(writer,_value){let data=getBytesCopy(Typed.dereference(_value,this.type));if(data.length!==this.size){this._throwError("incorrect data length",_value)}return writer.writeBytes(data)}decode(reader){return hexlify(reader.readBytes(this.size))}}const Empty=new Uint8Array([]);class NullCoder extends Coder{constructor(localName){super("null","",localName,false)}defaultValue(){return null}encode(writer,value){if(value!=null){this._throwError("not null",value)}return writer.writeBytes(Empty)}decode(reader){reader.readBytes(0);return null}}const BN_0=BigInt(0);const BN_1=BigInt(1);const BN_MAX_UINT256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class NumberCoder extends Coder{size;signed;constructor(size,signed,localName){const name=(signed?"int":"uint")+size*8;super(name,name,localName,false);defineProperties(this,{size:size,signed:signed},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(writer,_value){let value=getBigInt(Typed.dereference(_value,this.type));let maxUintValue=mask(BN_MAX_UINT256,WordSize*8);if(this.signed){let bounds=mask(maxUintValue,this.size*8-1);if(value>bounds||value<-(bounds+BN_1)){this._throwError("value out-of-bounds",_value)}value=toTwos(value,8*WordSize)}else if(value<BN_0||value>mask(maxUintValue,this.size*8)){this._throwError("value out-of-bounds",_value)}return writer.writeValue(value)}decode(reader){let value=mask(reader.readValue(),this.size*8);if(this.signed){value=fromTwos(value,this.size*8)}return value}}class StringCoder extends DynamicBytesCoder{constructor(localName){super("string",localName)}defaultValue(){return""}encode(writer,_value){return super.encode(writer,toUtf8Bytes(Typed.dereference(_value,"string")))}decode(reader){return toUtf8String(super.decode(reader))}}class TupleCoder extends Coder{coders;constructor(coders,localName){let dynamic=false;const types=[];coders.forEach(coder=>{if(coder.dynamic){dynamic=true}types.push(coder.type)});const type="tuple("+types.join(",")+")";super("tuple",type,localName,dynamic);defineProperties(this,{coders:Object.freeze(coders.slice())})}defaultValue(){const values=[];this.coders.forEach(coder=>{values.push(coder.defaultValue())});const uniqueNames=this.coders.reduce((accum,coder)=>{const name=coder.localName;if(name){if(!accum[name]){accum[name]=0}accum[name]++}return accum},{});this.coders.forEach((coder,index)=>{let name=coder.localName;if(!name||uniqueNames[name]!==1){return}if(name==="length"){name="_length"}if(values[name]!=null){return}values[name]=values[index]});return Object.freeze(values)}encode(writer,_value){const value=Typed.dereference(_value,"tuple");return pack(writer,this.coders,value)}decode(reader){return unpack(reader,this.coders)}}function id(value){return keccak256(toUtf8Bytes(value))}function setify(items){const result=new Set;items.forEach(k=>result.add(k));return Object.freeze(result)}const _kwVisibDeploy="external public payable override";setify(_kwVisibDeploy.split(" "));const _kwVisib="constant external internal payable private public pure view override";setify(_kwVisib.split(" "));const _kwTypes="constructor error event fallback function receive struct";setify(_kwTypes.split(" "));const _kwModifiers="calldata memory storage payable indexed";const KwModifiers=setify(_kwModifiers.split(" "));const _kwOther="tuple returns";const _keywords=[_kwTypes,_kwModifiers,_kwOther,_kwVisib].join(" ");const Keywords=setify(_keywords.split(" "));const SimpleTokens={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"};const regexWhitespacePrefix=new RegExp("^(\\s*)");const regexNumberPrefix=new RegExp("^([0-9]+)");const regexIdPrefix=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)");const regexId=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$");const regexType=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class TokenString{#offset;#tokens;get offset(){return this.#offset}get length(){return this.#tokens.length-this.#offset}constructor(tokens2){this.#offset=0;this.#tokens=tokens2.slice()}clone(){return new TokenString(this.#tokens)}reset(){this.#offset=0}#subTokenString(from=0,to=0){return new TokenString(this.#tokens.slice(from,to).map(t=>Object.freeze(Object.assign({},t,{match:t.match-from,linkBack:t.linkBack-from,linkNext:t.linkNext-from}))))}popKeyword(allowed){const top=this.peek();if(top.type!=="KEYWORD"||!allowed.has(top.text)){throw new Error(`expected keyword ${top.text}`)}return this.pop().text}popType(type){if(this.peek().type!==type){const top=this.peek();throw new Error(`expected ${type}; got ${top.type} ${JSON.stringify(top.text)}`)}return this.pop().text}popParen(){const top=this.peek();if(top.type!=="OPEN_PAREN"){throw new Error("bad start")}const result=this.#subTokenString(this.#offset+1,top.match+1);this.#offset=top.match+1;return result}popParams(){const top=this.peek();if(top.type!=="OPEN_PAREN"){throw new Error("bad start")}const result=[];while(this.#offset<top.match-1){const link=this.peek().linkNext;result.push(this.#subTokenString(this.#offset+1,link));this.#offset=link}this.#offset=top.match+1;return result}peek(){if(this.#offset>=this.#tokens.length){throw new Error("out-of-bounds")}return this.#tokens[this.#offset]}peekKeyword(allowed){const top=this.peekType("KEYWORD");return top!=null&&allowed.has(top)?top:null}peekType(type){if(this.length===0){return null}const top=this.peek();return top.type===type?top.text:null}pop(){const result=this.peek();this.#offset++;return result}toString(){const tokens2=[];for(let i=this.#offset;i<this.#tokens.length;i++){const token=this.#tokens[i];tokens2.push(`${token.type}:${token.text}`)}return`<TokenString ${tokens2.join(" ")}>`}}function lex(text){const tokens2=[];const throwError2=message=>{const token=offset<text.length?JSON.stringify(text[offset]):"$EOI";throw new Error(`invalid token ${token} at ${offset}: ${message}`)};let brackets=[];let commas=[];let offset=0;while(offset<text.length){let cur=text.substring(offset);let match=cur.match(regexWhitespacePrefix);if(match){offset+=match[1].length;cur=text.substring(offset)}const token={depth:brackets.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:offset,value:-1};tokens2.push(token);let type=SimpleTokens[cur[0]]||"";if(type){token.type=type;token.text=cur[0];offset++;if(type==="OPEN_PAREN"){brackets.push(tokens2.length-1);commas.push(tokens2.length-1)}else if(type=="CLOSE_PAREN"){if(brackets.length===0){throwError2("no matching open bracket")}token.match=brackets.pop();tokens2[token.match].match=tokens2.length-1;token.depth--;token.linkBack=commas.pop();tokens2[token.linkBack].linkNext=tokens2.length-1}else if(type==="COMMA"){token.linkBack=commas.pop();tokens2[token.linkBack].linkNext=tokens2.length-1;commas.push(tokens2.length-1)}else if(type==="OPEN_BRACKET"){token.type="BRACKET"}else if(type==="CLOSE_BRACKET"){let suffix=tokens2.pop().text;if(tokens2.length>0&&tokens2[tokens2.length-1].type==="NUMBER"){const value=tokens2.pop().text;suffix=value+suffix;tokens2[tokens2.length-1].value=getNumber(value)}if(tokens2.length===0||tokens2[tokens2.length-1].type!=="BRACKET"){throw new Error("missing opening bracket")}tokens2[tokens2.length-1].text+=suffix}continue}match=cur.match(regexIdPrefix);if(match){token.text=match[1];offset+=token.text.length;if(Keywords.has(token.text)){token.type="KEYWORD";continue}if(token.text.match(regexType)){token.type="TYPE";continue}token.type="ID";continue}match=cur.match(regexNumberPrefix);if(match){token.text=match[1];token.type="NUMBER";offset+=token.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(cur[0])} at position ${offset}`)}return new TokenString(tokens2.map(t=>Object.freeze(t)))}function consumeKeywords(tokens2,allowed){const keywords=new Set;while(true){const keyword=tokens2.peekType("KEYWORD");if(keyword==null||allowed&&!allowed.has(keyword)){break}tokens2.pop();if(keywords.has(keyword)){throw new Error(`duplicate keywords: ${JSON.stringify(keyword)}`)}keywords.add(keyword)}return Object.freeze(keywords)}const regexArrayType=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(type){const match=type.match(regexType);assertArgument(match,"invalid type","type",type);if(type==="uint"){return"uint256"}if(type==="int"){return"int256"}if(match[2]){const length=parseInt(match[2]);assertArgument(length!==0&&length<=32,"invalid bytes length","type",type)}else if(match[3]){const size=parseInt(match[3]);assertArgument(size!==0&&size<=256&&size%8===0,"invalid numeric width","type",type)}return type}const _guard={};const internal=Symbol.for("_ethers_internal");const ParamTypeInternal="_ParamTypeInternal";class ParamType{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(guard,name,type,baseType,indexed,components,arrayLength,arrayChildren){assertPrivate(guard,_guard,"ParamType");Object.defineProperty(this,internal,{value:ParamTypeInternal});if(components){components=Object.freeze(components.slice())}if(baseType==="array"){if(arrayLength==null||arrayChildren==null){throw new Error("")}}else if(arrayLength!=null||arrayChildren!=null){throw new Error("")}if(baseType==="tuple"){if(components==null){throw new Error("")}}else if(components!=null){throw new Error("")}defineProperties(this,{name:name,type:type,baseType:baseType,indexed:indexed,components:components,arrayLength:arrayLength,arrayChildren:arrayChildren})}format(format){if(format==null){format="sighash"}if(format==="json"){const name=this.name||"";if(this.isArray()){const result3=JSON.parse(this.arrayChildren.format("json"));result3.name=name;result3.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;return JSON.stringify(result3)}const result2={type:this.baseType==="tuple"?"tuple":this.type,name:name};if(typeof this.indexed==="boolean"){result2.indexed=this.indexed}if(this.isTuple()){result2.components=this.components.map(c=>JSON.parse(c.format(format)))}return JSON.stringify(result2)}let result="";if(this.isArray()){result+=this.arrayChildren.format(format);result+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`}else{if(this.isTuple()){result+="("+this.components.map(comp=>comp.format(format)).join(format==="full"?", ":",")+")"}else{result+=this.type}}if(format!=="sighash"){if(this.indexed===true){result+=" indexed"}if(format==="full"&&this.name){result+=" "+this.name}}return result}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(value,process){if(this.isArray()){if(!Array.isArray(value)){throw new Error("invalid array value")}if(this.arrayLength!==-1&&value.length!==this.arrayLength){throw new Error("array is wrong length")}const _this=this;return value.map(v=>_this.arrayChildren.walk(v,process))}if(this.isTuple()){if(!Array.isArray(value)){throw new Error("invalid tuple value")}if(value.length!==this.components.length){throw new Error("array is wrong length")}const _this=this;return value.map((v,i)=>_this.components[i].walk(v,process))}return process(this.type,value)}#walkAsync(promises,value,process,setValue){if(this.isArray()){if(!Array.isArray(value)){throw new Error("invalid array value")}if(this.arrayLength!==-1&&value.length!==this.arrayLength){throw new Error("array is wrong length")}const childType=this.arrayChildren;const result2=value.slice();result2.forEach((value2,index)=>{childType.#walkAsync(promises,value2,process,value3=>{result2[index]=value3})});setValue(result2);return}if(this.isTuple()){const components=this.components;let result2;if(Array.isArray(value)){result2=value.slice()}else{if(value==null||typeof value!=="object"){throw new Error("invalid tuple value")}result2=components.map(param=>{if(!param.name){throw new Error("cannot use object value with unnamed components")}if(!(param.name in value)){throw new Error(`missing value for component ${param.name}`)}return value[param.name]})}if(result2.length!==this.components.length){throw new Error("array is wrong length")}result2.forEach((value2,index)=>{components[index].#walkAsync(promises,value2,process,value3=>{result2[index]=value3})});setValue(result2);return}const result=process(this.type,value);if(result.then){promises.push(async function(){setValue(await result)}())}else{setValue(result)}}async walkAsync(value,process){const promises=[];const result=[value];this.#walkAsync(promises,value,process,value2=>{result[0]=value2});if(promises.length){await Promise.all(promises)}return result[0]}static from(obj,allowIndexed){if(ParamType.isParamType(obj)){return obj}if(typeof obj==="string"){try{return ParamType.from(lex(obj),allowIndexed)}catch(error){assertArgument(false,"invalid param type","obj",obj)}}else if(obj instanceof TokenString){let type2="",baseType="";let comps=null;if(consumeKeywords(obj,setify(["tuple"])).has("tuple")||obj.peekType("OPEN_PAREN")){baseType="tuple";comps=obj.popParams().map(t=>ParamType.from(t));type2=`tuple(${comps.map(c=>c.format()).join(",")})`}else{type2=verifyBasicType(obj.popType("TYPE"));baseType=type2}let arrayChildren=null;let arrayLength=null;while(obj.length&&obj.peekType("BRACKET")){const bracket=obj.pop();arrayChildren=new ParamType(_guard,"",type2,baseType,null,comps,arrayLength,arrayChildren);arrayLength=bracket.value;type2+=bracket.text;baseType="array";comps=null}let indexed2=null;const keywords=consumeKeywords(obj,KwModifiers);if(keywords.has("indexed")){if(!allowIndexed){throw new Error("")}indexed2=true}const name2=obj.peekType("ID")?obj.pop().text:"";if(obj.length){throw new Error("leftover tokens")}return new ParamType(_guard,name2,type2,baseType,indexed2,comps,arrayLength,arrayChildren)}const name=obj.name;assertArgument(!name||typeof name==="string"&&name.match(regexId),"invalid name","obj.name",name);let indexed=obj.indexed;if(indexed!=null){assertArgument(allowIndexed,"parameter cannot be indexed","obj.indexed",obj.indexed);indexed=!!indexed}let type=obj.type;let arrayMatch=type.match(regexArrayType);if(arrayMatch){const arrayLength=parseInt(arrayMatch[2]||"-1");const arrayChildren=ParamType.from({type:arrayMatch[1],components:obj.components});return new ParamType(_guard,name||"",type,"array",indexed,null,arrayLength,arrayChildren)}if(type==="tuple"||type.startsWith("tuple(")||type.startsWith("(")){const comps=obj.components!=null?obj.components.map(c=>ParamType.from(c)):null;const tuple=new ParamType(_guard,name||"",type,"tuple",indexed,comps,null,null);return tuple}type=verifyBasicType(obj.type);return new ParamType(_guard,name||"",type,type,indexed,null,null,null)}static isParamType(value){return value&&value[internal]===ParamTypeInternal}}const PanicReasons=new Map;PanicReasons.set(0,"GENERIC_PANIC");PanicReasons.set(1,"ASSERT_FALSE");PanicReasons.set(17,"OVERFLOW");PanicReasons.set(18,"DIVIDE_BY_ZERO");PanicReasons.set(33,"ENUM_RANGE_ERROR");PanicReasons.set(34,"BAD_STORAGE_DATA");PanicReasons.set(49,"STACK_UNDERFLOW");PanicReasons.set(50,"ARRAY_RANGE_ERROR");PanicReasons.set(65,"OUT_OF_MEMORY");PanicReasons.set(81,"UNINITIALIZED_FUNCTION_CALL");const paramTypeBytes=new RegExp(/^bytes([0-9]*)$/);const paramTypeNumber=new RegExp(/^(u?int)([0-9]*)$/);let defaultCoder=null;let defaultMaxInflation=1024;function getBuiltinCallException(action,tx,data,abiCoder){let message="missing revert data";let reason=null;const invocation=null;let revert=null;if(data){message="execution reverted";const bytes2=getBytes(data);data=hexlify(data);if(bytes2.length===0){message+=" (no data present; likely require(false) occurred";reason="require(false)"}else if(bytes2.length%32!==4){message+=" (could not decode reason; invalid data length)"}else if(hexlify(bytes2.slice(0,4))==="0x08c379a0"){try{reason=abiCoder.decode(["string"],bytes2.slice(4))[0];revert={signature:"Error(string)",name:"Error",args:[reason]};message+=`: ${JSON.stringify(reason)}`}catch(error){message+=" (could not decode reason; invalid string data)"}}else if(hexlify(bytes2.slice(0,4))==="0x4e487b71"){try{const code=Number(abiCoder.decode(["uint256"],bytes2.slice(4))[0]);revert={signature:"Panic(uint256)",name:"Panic",args:[code]};reason=`Panic due to ${PanicReasons.get(code)||"UNKNOWN"}(${code})`;message+=`: ${reason}`}catch(error){message+=" (could not decode panic code)"}}else{message+=" (unknown custom error)"}}const transaction={to:tx.to?getAddress(tx.to):null,data:tx.data||"0x"};if(tx.from){transaction.from=getAddress(tx.from)}return makeError(message,"CALL_EXCEPTION",{action:action,data:data,reason:reason,transaction:transaction,invocation:invocation,revert:revert})}class AbiCoder{#getCoder(param){if(param.isArray()){return new ArrayCoder(this.#getCoder(param.arrayChildren),param.arrayLength,param.name)}if(param.isTuple()){return new TupleCoder(param.components.map(c=>this.#getCoder(c)),param.name)}switch(param.baseType){case"address":return new AddressCoder(param.name);case"bool":return new BooleanCoder(param.name);case"string":return new StringCoder(param.name);case"bytes":return new BytesCoder(param.name);case"":return new NullCoder(param.name)}let match=param.type.match(paramTypeNumber);if(match){let size=parseInt(match[2]||"256");assertArgument(size!==0&&size<=256&&size%8===0,"invalid "+match[1]+" bit length","param",param);return new NumberCoder(size/8,match[1]==="int",param.name)}match=param.type.match(paramTypeBytes);if(match){let size=parseInt(match[1]);assertArgument(size!==0&&size<=32,"invalid bytes length","param",param);return new FixedBytesCoder(size,param.name)}assertArgument(false,"invalid type","type",param.type)}getDefaultValue(types){const coders=types.map(type=>this.#getCoder(ParamType.from(type)));const coder=new TupleCoder(coders,"_");return coder.defaultValue()}encode(types,values){assertArgumentCount(values.length,types.length,"types/values length mismatch");const coders=types.map(type=>this.#getCoder(ParamType.from(type)));const coder=new TupleCoder(coders,"_");const writer=new Writer;coder.encode(writer,values);return writer.data}decode(types,data,loose){const coders=types.map(type=>this.#getCoder(ParamType.from(type)));const coder=new TupleCoder(coders,"_");return coder.decode(new Reader(data,loose,defaultMaxInflation))}static _setDefaultMaxInflation(value){assertArgument(typeof value==="number"&&Number.isInteger(value),"invalid defaultMaxInflation factor","value",value);defaultMaxInflation=value}static defaultAbiCoder(){if(defaultCoder==null){defaultCoder=new AbiCoder}return defaultCoder}static getBuiltinCallException(action,tx,data){return getBuiltinCallException(action,tx,data,AbiCoder.defaultAbiCoder())}}MoreLess[FILENAME]="src/routes/preview2/lib/components/MoreLess.svelte";function MoreLess($$payload,$$props){push(MoreLess);let{count:count=1,text:text="more",lessText:lessText="less",expanded:expanded=false,className:className="",onclick:onclick=null}=$$props;$$payload.out+=`<button${attr_class(`flex items-center gap-1 text-xs text-blue-500 dark:text-blue-400 underline cursor-pointer select-none px-2 py-1 rounded hover:bg-blue-100 dark:hover:bg-zinc-700 transition ${className}`)} type="button">`;push_element($$payload,"button",11,0);if(!expanded){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<svg class="w-4 h-4 mr-1 fill-current text-blue-400 dark:text-blue-300" viewBox="0 0 20 20">`;push_element($$payload,"svg",17,4);$$payload.out+=`<path d="M7 5l5 5-5 5">`;push_element($$payload,"path",18,6);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=` + ${escape_html(count)}${escape_html(text)}`}else{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`<svg class="w-4 h-4 mr-1 fill-current text-blue-400 dark:text-blue-300 transform -rotate-90" viewBox="0 0 20 20">`;push_element($$payload,"svg",22,4);$$payload.out+=`<path d="M7 5l5 5-5 5">`;push_element($$payload,"path",23,6);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=`${escape_html(lessText)}`}$$payload.out+=`\x3c!--]--\x3e</button>`;pop_element();pop()}MoreLess.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};class TransactionService extends BaseService{static instance;constructor(){super()}static getInstance(){if(!TransactionService.instance){TransactionService.instance=new TransactionService}return TransactionService.instance}async sendTransaction(params){try{const account=get(currentAccount);const chain=get(currentChain);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const txParams={from:account.address,to:params.to,value:params.tokenAddress?"0x0":parseEther(params.value).toString(),chainId:chain?.chainId};if(params.tokenAddress){const transferData=this.encodeTokenTransfer(params.to,params.value);txParams.to=params.tokenAddress;txParams.data=transferData}if(params.gasPrice){txParams.gasPrice=params.gasPrice}if(params.gasLimit){txParams.gas=params.gasLimit}const response=await this.sendMessage({method:"eth_sendTransaction",params:[txParams]});return response}catch(error){return{success:false,error:this.handleError(error)}}}async getTransactionHistory(address,limit=10){try{const response=await this.sendMessage({method:"yakkl_getTransactionHistory",params:[address,limit]});if(response.success&&response.data){const transactions=response.data.map(tx=>({hash:tx.hash,from:tx.from,to:tx.to,value:tx.value,timestamp:tx.timestamp||Date.now(),status:this.mapTxStatus(tx.status),type:this.determineTxType(tx,address),gas:tx.gas,gasPrice:tx.gasPrice}));return{success:true,data:transactions}}return response}catch(error){return{success:false,error:this.handleError(error)}}}async estimateGas(params){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const txParams={from:account.address,to:params.to,value:params.tokenAddress?"0x0":parseEther(params.value).toString()};if(params.tokenAddress){txParams.to=params.tokenAddress;txParams.data=this.encodeTokenTransfer(params.to,params.value)}const response=await this.sendMessage({method:"eth_estimateGas",params:[txParams]});return response}catch(error){return{success:false,error:this.handleError(error)}}}async getGasPrice(){try{const response=await this.sendMessage({method:"eth_gasPrice"});return response}catch(error){return{success:false,error:this.handleError(error)}}}encodeTokenTransfer(to,amount){const transferFn="transfer(address,uint256)";const transferSelector=id(transferFn).slice(0,10);const encodedParams=AbiCoder.defaultAbiCoder().encode(["address","uint256"],[to,parseUnits(amount,18)]);return transferSelector+encodedParams.slice(2)}mapTxStatus(status){if(status==="0x0"||status===0)return"failed";if(status==="0x1"||status===1)return"confirmed";return"pending"}determineTxType(tx,userAddress){const from=tx.from?.toLowerCase();const to=tx.to?.toLowerCase();const user=userAddress.toLowerCase();if(from===user&&to!==user)return"send";if(from!==user&&to===user)return"receive";if(tx.data&&tx.data!=="0x")return"contract";return"send"}}function createTransactionStore(){const txService=TransactionService.getInstance();const{subscribe:subscribe,set:set,update:update}=writable({transactions:[],pendingTx:null,loading:{isLoading:false},error:{hasError:false},gasPrice:null});currentAccount.subscribe(async account=>{if(account){await loadTransactions(account.address)}});async function loadTransactions(address){update(state=>({...state,loading:{isLoading:true,message:"Loading transactions..."}}));const response=await txService.getTransactionHistory(address);if(response.success&&response.data){update(state=>({...state,transactions:response.data,loading:{isLoading:false},error:{hasError:false}}))}else{update(state=>({...state,loading:{isLoading:false},error:response.error||{hasError:true,message:"Failed to load transactions"}}))}}return{subscribe:subscribe,async sendTransaction(to,value,tokenAddress){update(state=>({...state,loading:{isLoading:true,message:"Sending transaction..."},error:{hasError:false}}));const response=await txService.sendTransaction({to:to,value:value,tokenAddress:tokenAddress});if(response.success&&response.data){update(state=>({...state,pendingTx:response.data,loading:{isLoading:false},error:{hasError:false}}));setTimeout(()=>{const account=get(currentAccount);if(account){loadTransactions(account.address)}},3e3);return response.data}else{update(state=>({...state,loading:{isLoading:false},error:response.error||{hasError:true,message:"Transaction failed"}}));throw new Error(response.error?.message||"Transaction failed")}},async estimateGas(to,value,tokenAddress){const response=await txService.estimateGas({to:to,value:value,tokenAddress:tokenAddress});return response},async updateGasPrice(){const response=await txService.getGasPrice();if(response.success&&response.data){update(state=>({...state,gasPrice:response.data}))}},clearError(){update(state=>({...state,error:{hasError:false}}))},reset(){set({transactions:[],pendingTx:null,loading:{isLoading:false},error:{hasError:false},gasPrice:null})}}}const transactionStore=createTransactionStore();const recentTransactions=derived(transactionStore,$store=>$store.transactions.slice(0,5));derived(transactionStore,$store=>$store.pendingTx);const isLoadingTx=derived(transactionStore,$store=>$store.loading.isLoading);const txError=derived(transactionStore,$store=>$store.error);RecentActivity[FILENAME]="src/routes/preview2/lib/components/RecentActivity.svelte";function RecentActivity($$payload,$$props){push(RecentActivity);var $$store_subs;let{className:className="",maxRows:maxRows=4}=$$props;let transactions=store_get($$store_subs??={},"$recentTransactions",recentTransactions);let loading=store_get($$store_subs??={},"$isLoadingTx",isLoadingTx);let account=store_get($$store_subs??={},"$currentAccount",currentAccount);let expanded=false;let visible=expanded?transactions:transactions.slice(0,maxRows);let hidden=expanded?[]:transactions.slice(maxRows);function formatAmount(value){try{const num=parseFloat(value);if(num<1e-4){return num.toExponential(2)}return num.toFixed(4)}catch{return value}}function shortAddress(address){if(!address)return"";return`${address.slice(0,6)}...${address.slice(-4)}`}function formatTime(timestamp){const now=Date.now();const diff=now-timestamp;const minutes=Math.floor(diff/6e4);const hours=Math.floor(diff/36e5);const days=Math.floor(diff/864e5);if(minutes<1)return"Just now";if(minutes<60)return`${minutes}m ago`;if(hours<24)return`${hours}h ago`;return`${days}d ago`}function getTransactionDirection(tx){return tx.from.toLowerCase()===account?.address.toLowerCase()?"sent":"received"}function getStatusColor(status){switch(status){case"confirmed":return"bg-green-200 text-green-800 dark:bg-green-900 dark:text-green-200";case"failed":return"bg-red-200 text-red-800 dark:bg-red-900 dark:text-red-200";case"pending":default:return"bg-yellow-200 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}}function getTransactionIcon(type){switch(type){case"send":return"↗️";case"receive":return"↙️";case"swap":return"🔄";case"contract":return"📄";default:return"💸"}}$$payload.out+=`<div${attr_class(`bg-white/70 dark:bg-zinc-800 rounded-2xl shadow p-4 mt-3 relative z-10 ${className}`)}>`;push_element($$payload,"div",67,0);$$payload.out+=`<div class="text-sm font-semibold mb-2 text-zinc-700 dark:text-zinc-200">`;push_element($$payload,"div",68,2);$$payload.out+=`Recent Activity</div>`;pop_element();$$payload.out+=` `;if(loading){$$payload.out+="\x3c!--[--\x3e";const each_array=ensure_array_like(Array(3));$$payload.out+=`<div class="space-y-2">`;push_element($$payload,"div",71,4);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index=0,$$length=each_array.length;$$index<$$length;$$index++){each_array[$$index];$$payload.out+=`<div class="flex items-center gap-2 py-2 animate-pulse">`;push_element($$payload,"div",73,8);$$payload.out+=`<div class="w-8 h-4 bg-zinc-300 dark:bg-zinc-600 rounded">`;push_element($$payload,"div",74,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="flex-1 h-3 bg-zinc-300 dark:bg-zinc-600 rounded">`;push_element($$payload,"div",75,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="w-16 h-3 bg-zinc-300 dark:bg-zinc-600 rounded">`;push_element($$payload,"div",76,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element()}else if(transactions.length===0){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`<div class="text-center py-8 text-gray-500 dark:text-gray-400">`;push_element($$payload,"div",81,4);$$payload.out+=`<p>`;push_element($$payload,"p",82,6);$$payload.out+=`No recent activity</p>`;pop_element();$$payload.out+=` <p class="text-sm mt-2">`;push_element($$payload,"p",83,6);$$payload.out+=`Your transactions will appear here</p>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";const each_array_1=ensure_array_like(visible);$$payload.out+=`<ul class="space-y-1 max-h-44 overflow-y-auto">`;push_element($$payload,"ul",86,4);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index_1=0,$$length=each_array_1.length;$$index_1<$$length;$$index_1++){let tx=each_array_1[$$index_1];const direction=getTransactionDirection(tx);const isOutgoing=direction==="sent";$$payload.out+=`<li class="flex items-center gap-2 text-xs border-b border-zinc-100 dark:border-zinc-700 py-2 last:border-b-0">`;push_element($$payload,"li",90,8);$$payload.out+=`<span class="text-lg"${attr("title",tx.type)}>`;push_element($$payload,"span",92,10);$$payload.out+=`${escape_html(getTransactionIcon(tx.type))}</span>`;pop_element();$$payload.out+=` <div class="flex-1 min-w-0">`;push_element($$payload,"div",97,10);if(tx.type==="send"||tx.type==="receive"){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="flex items-center gap-1">`;push_element($$payload,"div",99,14);$$payload.out+=`<span${attr_class(`font-bold ${stringify$1(isOutgoing?"text-red-500":"text-green-500")}`)}>`;push_element($$payload,"span",100,16);$$payload.out+=`${escape_html(isOutgoing?"−":"+")}\n                  ${escape_html(formatAmount(tx.value))} ETH</span>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="text-gray-400 dark:text-gray-500 truncate">`;push_element($$payload,"div",105,14);$$payload.out+=`${escape_html(isOutgoing?"to":"from")} ${escape_html(shortAddress(isOutgoing?tx.to:tx.from))}</div>`;pop_element()}else if(tx.type==="swap"){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`<div class="font-bold text-blue-500">`;push_element($$payload,"div",109,14);$$payload.out+=`Swap</div>`;pop_element();$$payload.out+=` <div class="text-gray-400 dark:text-gray-500 truncate">`;push_element($$payload,"div",110,14);$$payload.out+=`Contract interaction</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`<div class="font-bold text-purple-500">`;push_element($$payload,"div",114,14);$$payload.out+=`Contract</div>`;pop_element();$$payload.out+=` <div class="text-gray-400 dark:text-gray-500 truncate">`;push_element($$payload,"div",115,14);$$payload.out+=`${escape_html(shortAddress(tx.to))}</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=` <span${attr_class(`px-2 py-0.5 rounded-full text-xs ${stringify$1(getStatusColor(tx.status))} whitespace-nowrap`)}>`;push_element($$payload,"span",122,10);$$payload.out+=`${escape_html(tx.status.charAt(0).toUpperCase()+tx.status.slice(1))}</span>`;pop_element();$$payload.out+=` <span class="text-gray-400 dark:text-gray-500 whitespace-nowrap ml-2">`;push_element($$payload,"span",127,10);$$payload.out+=`${escape_html(formatTime(tx.timestamp))}</span>`;pop_element();$$payload.out+=`</li>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</ul>`;pop_element();$$payload.out+=` `;if(hidden.length>0){$$payload.out+="\x3c!--[--\x3e";MoreLess($$payload,{count:hidden.length,text:"more",lessText:"less",expanded:expanded,className:"mt-2",onclick:()=>expanded=!expanded})}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e`}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();if($$store_subs)unsubscribe_stores($$store_subs);pop()}RecentActivity.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};SendModal[FILENAME]="src/routes/preview2/lib/components/SendModal.svelte";function SendModal($$payload,$$props){push(SendModal);var $$store_subs;let{show:show=false,onClose:onClose=null,onSend:onSend=null,tokens:tokens2=[],chain:chain={icon:"/images/eth.svg",name:"Ethereum"},mode:mode="send"}=$$props;let recipient="";let amount="";let selectedToken=tokens2[0]||{symbol:"ETH",icon:"/images/eth.svg"};let sending=store_get($$store_subs??={},"$isLoadingTx",isLoadingTx);let error=store_get($$store_subs??={},"$txError",txError);if(show){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-in fade-in" role="dialog" aria-modal="true" aria-label="Send tokens modal">`;push_element($$payload,"div",122,2);$$payload.out+=`<div class="relative bg-white dark:bg-zinc-900 rounded-2xl shadow-xl p-6 min-w-[320px] w-full max-w-xs flex flex-col gap-4 animate-in slide-in-from-bottom-10">`;push_element($$payload,"div",128,4);$$payload.out+=`<div class="flex items-center justify-between mb-2">`;push_element($$payload,"div",133,6);$$payload.out+=`<div class="flex items-center gap-2">`;push_element($$payload,"div",134,8);if(chain?.icon){$$payload.out+="\x3c!--[--\x3e";if(chain.icon.startsWith("/")){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<img${attr("src",chain.icon)}${attr("alt",chain.name)} class="w-6 h-6"/>`;push_element($$payload,"img",137,14);pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`<span class="text-xl">`;push_element($$payload,"span",139,14);$$payload.out+=`${escape_html(chain.icon)}</span>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e <span class="font-bold text-lg capitalize">`;push_element($$payload,"span",142,10);$$payload.out+=`${escape_html(mode==="send"?"Send Tokens":"Swap Tokens")}</span>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <button class="text-2xl text-gray-400 hover:text-red-500 transition-colors" aria-label="Close modal">`;push_element($$payload,"button",146,8);$$payload.out+=`×</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` `;if(mode==="swap"){$$payload.out+="\x3c!--[--\x3e";const each_array=ensure_array_like(tokens2);$$payload.out+=`<div>`;push_element($$payload,"div",157,8);$$payload.out+=`<label for="from-token-select" class="block text-xs mb-1 text-gray-600 dark:text-gray-400">`;push_element($$payload,"label",158,10);$$payload.out+=`From Token</label>`;pop_element();$$payload.out+=` <select id="from-token-select" class="w-full rounded bg-zinc-100 dark:bg-zinc-800 p-2 mb-1 text-zinc-900 dark:text-white">`;push_element($$payload,"select",159,10);$$payload.select_value=selectedToken;$$payload.out+=`\x3c!--[--\x3e`;for(let $$index=0,$$length=each_array.length;$$index<$$length;$$index++){let token=each_array[$$index];$$payload.out+=`<option${attr("value",token)}${maybe_selected($$payload,token)}>`;push_element($$payload,"option",165,14);$$payload.out+=`${escape_html(token.symbol)} (${escape_html(token.qty)})</option>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`;$$payload.select_value=void 0;$$payload.out+=`</select>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";const each_array_1=ensure_array_like(tokens2);$$payload.out+=`<div>`;push_element($$payload,"div",171,8);$$payload.out+=`<label for="send-token-select" class="block text-xs mb-1 text-gray-600 dark:text-gray-400">`;push_element($$payload,"label",172,10);$$payload.out+=`Token</label>`;pop_element();$$payload.out+=` <select id="send-token-select" class="w-full rounded bg-zinc-100 dark:bg-zinc-800 p-2 mb-1 text-zinc-900 dark:text-white">`;push_element($$payload,"select",173,10);$$payload.select_value=selectedToken;$$payload.out+=`\x3c!--[--\x3e`;for(let $$index_1=0,$$length=each_array_1.length;$$index_1<$$length;$$index_1++){let token=each_array_1[$$index_1];$$payload.out+=`<option${attr("value",token)}${maybe_selected($$payload,token)}>`;push_element($$payload,"option",179,14);$$payload.out+=`${escape_html(token.symbol)} (Balance: ${escape_html(token.qty)})</option>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`;$$payload.select_value=void 0;$$payload.out+=`</select>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e <div>`;push_element($$payload,"div",188,6);$$payload.out+=`<label for="recipient-input" class="block text-xs mb-1 text-gray-600 dark:text-gray-400">`;push_element($$payload,"label",189,8);$$payload.out+=`${escape_html(mode==="send"?"Recipient Address":"To Token")}</label>`;pop_element();$$payload.out+=` <input id="recipient-input" type="text"${attr("value",recipient)} placeholder="0x..."${attr_class(`w-full p-2 bg-zinc-100 dark:bg-zinc-800 rounded text-zinc-900 dark:text-white border ${stringify$1("border-transparent")}`)}${attr("aria-invalid",recipient)}${attr("aria-describedby",null)}/>`;push_element($$payload,"input",192,8);pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div>`;push_element($$payload,"div",204,6);$$payload.out+=`<label for="amount-input" class="block text-xs mb-1 text-gray-600 dark:text-gray-400">`;push_element($$payload,"label",205,8);$$payload.out+=`Amount</label>`;pop_element();$$payload.out+=` <div class="relative">`;push_element($$payload,"div",206,8);$$payload.out+=`<input id="amount-input" type="number" min="0" step="any"${attr("value",amount)} placeholder="0.00"${attr_class(`w-full p-2 bg-zinc-100 dark:bg-zinc-800 rounded text-zinc-900 dark:text-white border ${stringify$1("border-transparent")}`)}${attr("aria-invalid",amount)}${attr("aria-describedby",null)}/>`;push_element($$payload,"input",207,10);pop_element();$$payload.out+=` <button class="absolute right-2 top-2 text-xs text-blue-500 hover:text-blue-600">`;push_element($$payload,"button",218,10);$$payload.out+=`MAX</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` `;{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e `;{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e `;if(error.hasError){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="text-xs text-red-500 bg-red-50 dark:bg-red-900/20 p-2 rounded" role="alert">`;push_element($$payload,"div",246,8);$$payload.out+=`${escape_html(error.message)}</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e <button${attr_class(`w-full p-3 rounded-xl font-semibold shadow transition-all disabled:opacity-60 disabled:cursor-not-allowed ${stringify$1(mode==="send"?"bg-green-600 hover:bg-green-700":"bg-purple-600 hover:bg-purple-700")} text-white`)}${attr("disabled",!recipient,true)}>`;push_element($$payload,"button",252,6);if(sending){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="flex items-center justify-center gap-2">`;push_element($$payload,"div",258,10);$$payload.out+=`<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin">`;push_element($$payload,"div",259,12);$$payload.out+=`</div>`;pop_element();$$payload.out+=` ${escape_html(mode==="send"?"Sending...":"Swapping...")}</div>`;pop_element()}else if(!canUseFeature(mode==="send"?"send_tokens":"swap_tokens")){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`Upgrade to Pro`}else{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`${escape_html(mode==="send"?"Send":"Swap")}`}$$payload.out+=`\x3c!--]--\x3e</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e`;if($$store_subs)unsubscribe_stores($$store_subs);bind_props($$props,{show:show});pop()}SendModal.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};QR[FILENAME]="src/routes/preview2/lib/components/v1/QR.svelte";function QR($$payload,$$props){push(QR);let{qrText:qrText}=$$props;const width=220;const height=220;$$payload.out+=`<div class="flex mx-auto justify-center w-full h-full svelte-x2f3mp">`;push_element($$payload,"div",21,0);$$payload.out+=`</div>`;pop_element();bind_props($$props,{width:width,height:height});pop()}QR.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Copy[FILENAME]="src/routes/preview2/lib/components/v1/Copy.svelte";function Copy($$payload,$$props){push(Copy);const{target:target,size:size=20,className:className="",showFeedback:showFeedback=true,feedbackDuration:feedbackDuration=2e3,defaultRedactText:defaultRedactText="<redacted>",onClick:onClick=void 0}=$$props;UnifiedTimerManager.getInstance();$$payload.out+=`<button type="button"${attr_class(` inline-flex items-center justify-center transition-all duration-200 ease-in-out rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${stringify$1(className)} `)} title="Copy to clipboard">`;push_element($$payload,"button",104,0);{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`<svg xmlns="http://www.w3.org/2000/svg"${attr("width",size)}${attr("height",size)} viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500 hover:text-blue-500 transition-colors duration-200" aria-hidden="true">`;push_element($$payload,"svg",141,2);$$payload.out+=`<rect x="9" y="9" width="13" height="13" rx="2" ry="2">`;push_element($$payload,"rect",154,3);$$payload.out+=`</rect>`;pop_element();$$payload.out+=`<path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1">`;push_element($$payload,"path",155,3);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=` <span class="sr-only">`;push_element($$payload,"span",157,2);$$payload.out+=`Copy to clipboard</span>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</button>`;pop_element();pop()}Copy.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};Receive[FILENAME]="src/routes/preview2/lib/components/Receive.svelte";function Receive($$payload,$$props){push(Receive);var $$store_subs;let{show:show=false,address:address="",title:title="Receive"}=$$props;let $$settled=true;let $$inner_payload;function $$render_inner($$payload2){Modal($$payload2,{title:title,get show(){return show},set show($$value){show=$$value;$$settled=false},children:prevent_snippet_stringification($$payload3=>{$$payload3.out+=`<div class="p-6">`;push_element($$payload3,"div",17,1);if(store_get($$store_subs??={},"$yakklCurrentlySelectedStore",yakklCurrentlySelectedStore)&&store_get($$store_subs??={},"$yakklCurrentlySelectedStore",yakklCurrentlySelectedStore).shortcuts.address!==YAKKL_ZERO_ADDRESS){$$payload3.out+="\x3c!--[--\x3e";$$payload3.out+=`<div class="bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl p-6 mb-6 text-center">`;push_element($$payload3,"div",20,3);$$payload3.out+=`<div class="mb-6">`;push_element($$payload3,"div",21,4);QR($$payload3,{qrText:address});$$payload3.out+=`\x3c!----\x3e</div>`;pop_element();$$payload3.out+=` <h3 class="text-lg font-semibold text-gray-800 mb-2">`;push_element($$payload3,"h3",24,4);$$payload3.out+=`Your Wallet Address</h3>`;pop_element();$$payload3.out+=` <p class="text-sm text-gray-600 mb-4">`;push_element($$payload3,"p",25,4);$$payload3.out+=`Share this address to receive payments</p>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <div class="bg-white rounded-lg border border-gray-200 shadow-sm">`;push_element($$payload3,"div",29,3);$$payload3.out+=`<div class="flex items-center justify-between p-4">`;push_element($$payload3,"div",30,4);$$payload3.out+=`<div class="flex-1 min-w-0 mr-3">`;push_element($$payload3,"div",31,5);$$payload3.out+=`<div class="text-xs font-medium text-gray-500 uppercase tracking-wide mb-1">`;push_element($$payload3,"div",32,6);$$payload3.out+=`Ethereum Address</div>`;pop_element();$$payload3.out+=` <p class="text-sm font-mono text-gray-900 truncate"${attr("title",address)} id="eth-address">`;push_element($$payload3,"p",35,6);$$payload3.out+=`${escape_html(address)}</p>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <div class="flex-shrink-0">`;push_element($$payload3,"div",39,5);Copy($$payload3,{target:{},className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"});$$payload3.out+=`\x3c!----\x3e</div>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">`;push_element($$payload3,"div",46,3);$$payload3.out+=`<div class="flex items-center">`;push_element($$payload3,"div",47,4);$$payload3.out+=`<div class="flex-shrink-0">`;push_element($$payload3,"div",48,5);$$payload3.out+=`<svg class="w-5 h-5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">`;push_element($$payload3,"svg",49,6);$$payload3.out+=`<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd">`;push_element($$payload3,"path",50,7);$$payload3.out+=`</path>`;pop_element();$$payload3.out+=`</svg>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <div class="ml-3">`;push_element($$payload3,"div",53,5);$$payload3.out+=`<p class="text-sm text-blue-800">`;push_element($$payload3,"p",54,6);$$payload3.out+=`<span class="font-medium">`;push_element($$payload3,"span",55,7);$$payload3.out+=`Scan the QR code</span>`;pop_element();$$payload3.out+=` with your mobile wallet or <span class="font-medium">`;push_element($$payload3,"span",56,7);$$payload3.out+=`copy the address</span>`;pop_element();$$payload3.out+=` to receive payments</p>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=`</div>`;pop_element()}else{$$payload3.out+="\x3c!--[!--\x3e";$$payload3.out+=`<div class="text-center py-12">`;push_element($$payload3,"div",63,3);$$payload3.out+=`<div class="w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">`;push_element($$payload3,"div",64,4);$$payload3.out+=`<svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload3,"svg",65,5);$$payload3.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z">`;push_element($$payload3,"path",66,6);$$payload3.out+=`</path>`;pop_element();$$payload3.out+=`</svg>`;pop_element();$$payload3.out+=`</div>`;pop_element();$$payload3.out+=` <h3 class="text-lg font-semibold text-gray-700 mb-2">`;push_element($$payload3,"h3",69,4);$$payload3.out+=`No Portfolio Accounts</h3>`;pop_element();$$payload3.out+=` <p class="text-gray-500">`;push_element($$payload3,"p",70,4);$$payload3.out+=`Create at least one Portfolio account to receive payments</p>`;pop_element();$$payload3.out+=`</div>`;pop_element()}$$payload3.out+=`\x3c!--]--\x3e</div>`;pop_element()}),$$slots:{default:true}})}do{$$settled=true;$$inner_payload=copy_payload($$payload);$$render_inner($$inner_payload)}while(!$$settled);assign_payload($$payload,$$inner_payload);if($$store_subs)unsubscribe_stores($$store_subs);bind_props($$props,{show:show,address:address});pop()}Receive.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};class BuyService extends BaseService{static instance;constructor(){super()}static getInstance(){if(!BuyService.instance){BuyService.instance=new BuyService}return BuyService.instance}async getBuyQuote(amount,currency="USD",cryptoCurrency="ETH"){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const response=await this.sendMessage({method:"yakkl_getBuyQuote",params:[{amount:amount,currency:currency,cryptoCurrency:cryptoCurrency,userAddress:account.address}]});if(response.success&&response.data){const quote={amount:amount,currency:currency,cryptoAmount:response.data.cryptoAmount,cryptoCurrency:cryptoCurrency,rate:response.data.rate,fees:response.data.fees,total:response.data.total,estimatedTime:response.data.estimatedTime,provider:response.data.provider||"Stripe",validUntil:Date.now()+10*60*1e3};return{success:true,data:quote}}return this.getMockBuyQuote(amount,currency,cryptoCurrency)}catch(error){return{success:false,error:this.handleError(error)}}}async executeBuyOrder(quote,paymentMethodId){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}if(Date.now()>quote.validUntil){return{success:false,error:{hasError:true,message:"Quote expired, please get a new quote"}}}const response=await this.sendMessage({method:"yakkl_executeBuyOrder",params:[{quote:quote,paymentMethodId:paymentMethodId,userAddress:account.address}]});if(response.success&&response.data){const order={id:response.data.orderId,amount:quote.amount,currency:quote.currency,cryptoAmount:quote.cryptoAmount,cryptoCurrency:quote.cryptoCurrency,status:"pending",paymentMethod:paymentMethodId,provider:quote.provider,createdAt:Date.now()};return{success:true,data:order}}return response}catch(error){return{success:false,error:this.handleError(error)}}}async getPaymentMethods(){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const response=await this.sendMessage({method:"yakkl_getPaymentMethods",params:[account.address]});if(response.success&&response.data){return response}return{success:true,data:[]}}catch(error){return{success:false,error:this.handleError(error)}}}async addPaymentMethod(type,details){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const response=await this.sendMessage({method:"yakkl_addPaymentMethod",params:[{type:type,details:details,userAddress:account.address}]});return response}catch(error){return{success:false,error:this.handleError(error)}}}async getBuyLimits(){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const response=await this.sendMessage({method:"yakkl_getBuyLimits",params:[account.address]});if(response.success&&response.data){return response}return{success:true,data:{min:10,max:1e3,daily:1e3,monthly:1e4,currency:"USD"}}}catch(error){return{success:false,error:this.handleError(error)}}}async getBuyHistory(limit=10){try{const account=get(currentAccount);if(!account){return{success:false,error:{hasError:true,message:"No account selected"}}}const response=await this.sendMessage({method:"yakkl_getBuyHistory",params:[account.address,limit]});if(response.success&&response.data){return response}return{success:true,data:[]}}catch(error){return{success:false,error:this.handleError(error)}}}async getSupportedCurrencies(){try{const response=await this.sendMessage({method:"yakkl_getSupportedCurrencies"});if(response.success&&response.data){return response}return{success:true,data:["USD","EUR","GBP","CAD","AUD"]}}catch(error){return{success:false,error:this.handleError(error)}}}async getSupportedCryptoCurrencies(){try{const response=await this.sendMessage({method:"yakkl_getSupportedCryptoCurrencies"});if(response.success&&response.data){return response}return{success:true,data:["ETH","BTC","USDC","USDT","DAI"]}}catch(error){return{success:false,error:this.handleError(error)}}}async getMockBuyQuote(amount,currency,cryptoCurrency){const rates={ETH:2500,BTC:45e3,USDC:1,USDT:1,DAI:1};const rate=rates[cryptoCurrency]||2500;const networkFee=5;const serviceFee=amount*.029;const totalFees=networkFee+serviceFee;const total=amount+totalFees;const cryptoAmount=amount/rate;const quote={amount:amount,currency:currency,cryptoAmount:cryptoAmount,cryptoCurrency:cryptoCurrency,rate:rate,fees:{network:networkFee,service:serviceFee,total:totalFees},total:total,estimatedTime:"5-10 minutes",provider:"Mock Provider",validUntil:Date.now()+10*60*1e3};return{success:true,data:quote}}}BuyModal[FILENAME]="src/routes/preview2/lib/components/BuyModal.svelte";function BuyModal($$payload,$$props){push(BuyModal);var $$store_subs;let{show:show=false,onClose:onClose=null}=$$props;BuyService.getInstance();let amount="100";let currency="USD";let cryptoCurrency="ETH";let error="";let supportedCurrencies=["USD","EUR","GBP","CAD"];let supportedCryptoCurrencies=["ETH","BTC","USDC","USDT"];let limits={min:10,max:1e3,currency:"USD"};let account=store_get($$store_subs??={},"$currentAccount",currentAccount);let canBuy=canUseFeature("buy_crypto_card");function validateAmount(){const amt=parseFloat(amount);if(isNaN(amt)||amt<=0){error="Please enter a valid amount";return false}if(amt<limits.min){error=`Minimum amount is ${limits.min} ${limits.currency}`;return false}if(amt>limits.max){error=`Maximum amount is ${limits.max} ${limits.currency}`;return false}return true}function formatCurrency(value,curr="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:curr}).format(value)}if(show){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-in fade-in" role="dialog" aria-modal="true" aria-label="Buy crypto modal">`;push_element($$payload,"div",139,2);$$payload.out+=`<div class="relative bg-white dark:bg-zinc-900 rounded-2xl shadow-xl p-6 min-w-[380px] w-full max-w-md flex flex-col gap-4 animate-in slide-in-from-bottom-10 max-h-[90vh] overflow-y-auto">`;push_element($$payload,"div",145,4);$$payload.out+=`<div class="flex items-center justify-between mb-2">`;push_element($$payload,"div",150,6);$$payload.out+=`<div class="flex items-center gap-2">`;push_element($$payload,"div",151,8);$$payload.out+=`<span class="text-xl">`;push_element($$payload,"span",152,10);$$payload.out+=`💳</span>`;pop_element();$$payload.out+=` <span class="font-bold text-lg">`;push_element($$payload,"span",153,10);$$payload.out+=`Buy Crypto</span>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <button class="text-2xl text-gray-400 hover:text-red-500 transition-colors" aria-label="Close modal">`;push_element($$payload,"button",155,8);$$payload.out+=`×</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` `;if(!canBuy){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="text-center py-8">`;push_element($$payload,"div",166,8);$$payload.out+=`<div class="text-4xl mb-4">`;push_element($$payload,"div",167,10);$$payload.out+=`🔒</div>`;pop_element();$$payload.out+=` <h3 class="text-lg font-semibold mb-2">`;push_element($$payload,"h3",168,10);$$payload.out+=`Pro Feature</h3>`;pop_element();$$payload.out+=` <p class="text-gray-600 dark:text-gray-400 mb-4">`;push_element($$payload,"p",169,10);$$payload.out+=`Buying crypto with fiat requires a Pro subscription</p>`;pop_element();$$payload.out+=` <button class="yakkl-btn-primary">`;push_element($$payload,"button",172,10);$$payload.out+=`Upgrade to Pro</button>`;pop_element();$$payload.out+=`</div>`;pop_element()}else if(!account){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`<div class="text-center py-8 text-gray-500 dark:text-gray-400">`;push_element($$payload,"div",178,8);$$payload.out+=`<p>`;push_element($$payload,"p",179,10);$$payload.out+=`No account selected</p>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";{$$payload.out+="\x3c!--[--\x3e";const each_array=ensure_array_like(supportedCurrencies);const each_array_1=ensure_array_like(supportedCryptoCurrencies);$$payload.out+=`<div class="space-y-4">`;push_element($$payload,"div",184,10);$$payload.out+=`<div>`;push_element($$payload,"div",186,12);$$payload.out+=`<label for="buy-amount-input" class="block text-sm font-medium mb-2">`;push_element($$payload,"label",187,14);$$payload.out+=`Amount to Spend</label>`;pop_element();$$payload.out+=` <div class="flex gap-2">`;push_element($$payload,"div",188,14);$$payload.out+=`<input id="buy-amount-input" type="number"${attr("value",amount)} placeholder="100"${attr_class(`flex-1 p-3 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-900 dark:text-white border ${stringify$1(error&&!validateAmount()?"border-red-400":"border-transparent")}`)}${attr("aria-invalid",error&&!validateAmount())} aria-describedby="amount-limits"/>`;push_element($$payload,"input",189,16);pop_element();$$payload.out+=` <select class="px-3 py-3 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-900 dark:text-white" aria-label="Select currency">`;push_element($$payload,"select",198,16);$$payload.select_value=currency;$$payload.out+=`\x3c!--[--\x3e`;for(let $$index=0,$$length=each_array.length;$$index<$$length;$$index++){let curr=each_array[$$index];$$payload.out+=`<option${attr("value",curr)}${maybe_selected($$payload,curr)}>`;push_element($$payload,"option",204,20);$$payload.out+=`${escape_html(curr)}</option>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`;$$payload.select_value=void 0;$$payload.out+=`</select>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div id="amount-limits" class="text-xs text-gray-500 mt-1">`;push_element($$payload,"div",208,14);$$payload.out+=`Limits: ${escape_html(formatCurrency(limits.min))} - ${escape_html(formatCurrency(limits.max))}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div>`;push_element($$payload,"div",214,12);$$payload.out+=`<label for="crypto-select" class="block text-sm font-medium mb-2">`;push_element($$payload,"label",215,14);$$payload.out+=`Cryptocurrency</label>`;pop_element();$$payload.out+=` <select id="crypto-select" class="w-full p-3 bg-zinc-100 dark:bg-zinc-800 rounded-lg text-zinc-900 dark:text-white">`;push_element($$payload,"select",216,14);$$payload.select_value=cryptoCurrency;$$payload.out+=`\x3c!--[--\x3e`;for(let $$index_1=0,$$length=each_array_1.length;$$index_1<$$length;$$index_1++){let crypto=each_array_1[$$index_1];$$payload.out+=`<option${attr("value",crypto)}${maybe_selected($$payload,crypto)}>`;push_element($$payload,"option",222,18);$$payload.out+=`${escape_html(crypto)}</option>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`;$$payload.select_value=void 0;$$payload.out+=`</select>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <button class="w-full p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-60"${attr("disabled",!validateAmount(),true)}>`;push_element($$payload,"button",228,12);{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`Get Quote`}$$payload.out+=`\x3c!--]--\x3e</button>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e `;{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e `;{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e `;if(error){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="text-sm text-red-500 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg">`;push_element($$payload,"div",365,10);$$payload.out+=`${escape_html(error)}</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e `;{$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg">`;push_element($$payload,"div",372,10);$$payload.out+=`<strong>`;push_element($$payload,"strong",373,12);$$payload.out+=`Secure Purchase:</strong>`;pop_element();$$payload.out+=`<br/>`;push_element($$payload,"br",373,45);pop_element();$$payload.out+=` • Powered by Stripe for secure payment processing<br/>`;push_element($$payload,"br",374,61);pop_element();$$payload.out+=` • Crypto delivered directly to your wallet<br/>`;push_element($$payload,"br",375,54);pop_element();$$payload.out+=` • Industry-standard encryption and security</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e`;if($$store_subs)unsubscribe_stores($$store_subs);bind_props($$props,{show:show});pop()}BuyModal.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};TokenPortfolio[FILENAME]="src/routes/preview2/lib/components/TokenPortfolio.svelte";function TokenPortfolio($$payload,$$props){push(TokenPortfolio);let{tokens:tokens2=[],className:className="",maxRows:maxRows=4,loading:loading=false}=$$props;let expanded=false;let visible=tokens2.slice(0,maxRows);let hidden=tokens2.slice(maxRows);function needsEllipsis(val){return String(val??"").length>9}function formatValue(val){if(!val)return"0.00";return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(val)}$$payload.out+=`<div${attr_class(`bg-white/70 dark:bg-zinc-800 p-4 rounded-2xl shadow space-y-2 relative z-10 ${className}`)}>`;push_element($$payload,"div",25,0);$$payload.out+=`<div class="text-sm font-semibold mb-2 text-zinc-700 dark:text-zinc-200">`;push_element($$payload,"div",26,2);$$payload.out+=`Token Portfolio</div>`;pop_element();$$payload.out+=` `;if(loading){$$payload.out+="\x3c!--[--\x3e";const each_array=ensure_array_like(Array(4));$$payload.out+=`<div class="grid grid-cols-2 gap-3">`;push_element($$payload,"div",29,4);$$payload.out+=`\x3c!--[--\x3e`;for(let i=0,$$length=each_array.length;i<$$length;i++){each_array[i];$$payload.out+=`<div class="rounded-xl shadow bg-zinc-100 dark:bg-zinc-700 p-3 animate-pulse">`;push_element($$payload,"div",31,8);$$payload.out+=`<div class="w-8 h-8 mb-1 rounded-full bg-zinc-300 dark:bg-zinc-600 mx-auto">`;push_element($$payload,"div",32,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="h-4 bg-zinc-300 dark:bg-zinc-600 rounded mt-2">`;push_element($$payload,"div",33,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="h-3 bg-zinc-300 dark:bg-zinc-600 rounded mt-1 w-3/4 mx-auto">`;push_element($$payload,"div",34,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="h-3 bg-zinc-300 dark:bg-zinc-600 rounded mt-1 w-1/2 mx-auto">`;push_element($$payload,"div",35,10);$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element()}else if(tokens2.length===0){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`<div class="text-center py-8 text-gray-500 dark:text-gray-400">`;push_element($$payload,"div",40,4);$$payload.out+=`<p>`;push_element($$payload,"p",41,6);$$payload.out+=`No tokens found</p>`;pop_element();$$payload.out+=` <p class="text-sm mt-2">`;push_element($$payload,"p",42,6);$$payload.out+=`Add tokens to see them here</p>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";const each_array_1=ensure_array_like(visible);$$payload.out+=`<div class="grid grid-cols-2 gap-3 overflow-auto">`;push_element($$payload,"div",45,4);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index_1=0,$$length=each_array_1.length;$$index_1<$$length;$$index_1++){let token=each_array_1[$$index_1];$$payload.out+=`<div class="rounded-xl shadow flex flex-col items-center justify-center bg-zinc-100 dark:bg-zinc-700 p-3 transition hover:ring-2 hover:ring-indigo-400 dark:hover:ring-indigo-300 min-w-0">`;push_element($$payload,"div",47,8);if(token.icon?.startsWith("/")||token.icon?.startsWith("http")){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<img${attr("src",token.icon)}${attr("alt",token.symbol)} class="w-8 h-8 mb-1 rounded-full"/>`;push_element($$payload,"img",49,12);pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`<div${attr_class(`w-8 h-8 mb-1 rounded-full flex items-center justify-center ${token.color||"bg-gray-400"} text-white font-bold text-lg`)}>`;push_element($$payload,"div",51,12);$$payload.out+=`${escape_html(token.icon||token.symbol[0])}</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e <div class="font-bold text-base text-center mt-1">`;push_element($$payload,"div",55,10);$$payload.out+=`${escape_html(token.symbol)}</div>`;pop_element();$$payload.out+=` `;SimpleTooltip($$payload,{content:`${token.qty||0} ${token.symbol}`,children:prevent_snippet_stringification($$payload2=>{$$payload2.out+=`<div class="text-xs text-zinc-400 dark:text-zinc-200 truncate max-w-[96px] text-center cursor-help mt-0.5">`;push_element($$payload2,"div",57,12);$$payload2.out+=`${escape_html(needsEllipsis(token.qty)?`${token.qty}`.slice(0,9)+"…":token.qty||0)}</div>`;pop_element()})});$$payload.out+=`\x3c!----\x3e `;SimpleTooltip($$payload,{content:formatValue(token.value),children:prevent_snippet_stringification($$payload2=>{$$payload2.out+=`<div class="text-sm text-zinc-600 dark:text-zinc-300 truncate max-w-[96px] text-center cursor-help">`;push_element($$payload2,"div",62,12);$$payload2.out+=`${escape_html(formatValue(token.value))}</div>`;pop_element()})});$$payload.out+=`\x3c!----\x3e</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=` `;if(hidden.length){$$payload.out+="\x3c!--[--\x3e";MoreLess($$payload,{count:hidden.length,text:"more",lessText:"less",expanded:expanded,className:"mt-2",onclick:()=>expanded=!expanded})}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e`}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();pop()}TokenPortfolio.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};const yakklCombinedTokenStore={subscribe:()=>()=>{},get:()=>[]};class TokenService extends BaseService{static instance;constructor(){super()}static getInstance(){if(!TokenService.instance){TokenService.instance=new TokenService}return TokenService.instance}async getTokens(address){try{const combinedTokens=yakklCombinedTokenStore.get();if(!combinedTokens||combinedTokens.length===0){return{success:true,data:[]}}const preview2Tokens=combinedTokens.map(token=>({symbol:token.symbol,name:token.name,icon:token.logo||this.getDefaultIcon(token.symbol),value:parseFloat(token.totalValue||"0"),qty:parseFloat(token.totalQuantity||"0"),price:parseFloat(token.price||"0"),change24h:token.priceChange24h,address:token.address,decimals:token.decimals,color:this.getTokenColor(token.symbol)}));preview2Tokens.sort((a,b2)=>b2.value-a.value);return{success:true,data:preview2Tokens}}catch(error){return{success:false,error:this.handleError(error)}}}async getTokenBalance(tokenAddress,walletAddress){try{const response=await this.sendMessage({method:"eth_call",params:[{to:tokenAddress,data:`0x70a08231000000000000000000000000${walletAddress.slice(2)}`},"latest"]});return response}catch(error){return{success:false,error:this.handleError(error)}}}async refreshTokenPrices(){try{const response=await this.sendMessage({method:"yakkl_refreshTokenPrices"});return response}catch(error){return{success:false,error:this.handleError(error)}}}getDefaultIcon(symbol){const iconMap={ETH:"/images/eth.svg",BTC:"₿",USDT:"💵",USDC:"💰",DAI:"🏦",LINK:"🔗",UNI:"🦄",AAVE:"👻",COMP:"🏛️",MKR:"🏭",SUSHI:"🍣",YFI:"🌾",PEPE:"🐸"};return iconMap[symbol.toUpperCase()]||"🪙"}getTokenColor(symbol){const colorMap={ETH:"bg-blue-400",BTC:"bg-orange-400",USDT:"bg-green-400",USDC:"bg-blue-500",DAI:"bg-yellow-400",LINK:"bg-indigo-400",UNI:"bg-pink-400",AAVE:"bg-purple-400",COMP:"bg-teal-400",MKR:"bg-cyan-400",SUSHI:"bg-rose-400",YFI:"bg-amber-400",PEPE:"bg-green-500"};return colorMap[symbol.toUpperCase()]||"bg-gray-400"}}function createTokenStore(){const tokenService=TokenService.getInstance();const{subscribe:subscribe,set:set,update:update}=writable({tokens:[],loading:{isLoading:false},error:{hasError:false},lastUpdate:null});currentAccount.subscribe(async account=>{if(account){await loadTokens(account.address)}});async function loadTokens(address){update(state=>({...state,loading:{isLoading:true,message:"Loading tokens..."}}));const response=await tokenService.getTokens(address);if(response.success&&response.data){update(state=>({...state,tokens:response.data,loading:{isLoading:false},error:{hasError:false},lastUpdate:new Date}))}else{update(state=>({...state,loading:{isLoading:false},error:response.error||{hasError:true,message:"Failed to load tokens"}}))}}return{subscribe:subscribe,async refresh(){const account=get(currentAccount);if(account){await loadTokens(account.address)}},async refreshPrices(){update(state=>({...state,loading:{isLoading:true,message:"Updating prices..."}}));const response=await tokenService.refreshTokenPrices();if(response.success){const account=get(currentAccount);if(account){await loadTokens(account.address)}}else{update(state=>({...state,loading:{isLoading:false},error:response.error||{hasError:true,message:"Failed to update prices"}}))}},reset(){set({tokens:[],loading:{isLoading:false},error:{hasError:false},lastUpdate:null})}}}const tokenStore=createTokenStore();const tokens=derived(tokenStore,$store=>$store.tokens);const totalPortfolioValue=derived(tokenStore,$store=>$store.tokens.reduce((sum,token)=>sum+token.value,0));const isLoadingTokens=derived(tokenStore,$store=>$store.loading.isLoading);derived(tokenStore,$store=>[...$store.tokens].sort((a,b2)=>b2.value-a.value));const lastTokenUpdate=derived(tokenStore,$store=>$store.lastUpdate);const token_store=Object.freeze(Object.defineProperty({__proto__:null,isLoadingTokens:isLoadingTokens,lastTokenUpdate:lastTokenUpdate,tokenStore:tokenStore,tokens:tokens,totalPortfolioValue:totalPortfolioValue},Symbol.toStringTag,{value:"Module"}));AdvancedAnalytics[FILENAME]="src/routes/preview2/lib/components/pro/AdvancedAnalytics.svelte";function AdvancedAnalytics($$payload,$$props){push(AdvancedAnalytics);var $$store_subs;let{className:className=""}=$$props;let performanceData={dayChange:0,weekChange:0,monthChange:0,yearChange:0,sharpeRatio:0};let diversificationScore=0;let riskProfile="Conservative";let topPerformers=[];let recommendations=[];store_get($$store_subs??={},"$totalPortfolioValue",totalPortfolioValue);store_get($$store_subs??={},"$tokens",tokens);function formatChange(change){const sign="+";return`${sign}${change.toFixed(1)}%`}function getChangeColor(change){return change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}if(!canUseFeature$1("advanced_analytics")){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div${attr_class(`yakkl-card ${className}`)}>`;push_element($$payload,"div",72,2);$$payload.out+=`<div class="p-6 text-center">`;push_element($$payload,"div",73,4);$$payload.out+=`<div class="mb-4">`;push_element($$payload,"div",74,6);$$payload.out+=`<svg class="w-12 h-12 mx-auto text-indigo-500 dark:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",75,8);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">`;push_element($$payload,"path",76,10);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <h3 class="text-lg font-semibold text-zinc-900 dark:text-white mb-2">`;push_element($$payload,"h3",79,6);$$payload.out+=`Advanced Portfolio Analytics</h3>`;pop_element();$$payload.out+=` <p class="text-sm text-zinc-600 dark:text-zinc-400 mb-4">`;push_element($$payload,"p",80,6);$$payload.out+=`Get detailed performance insights, risk analysis, and personalized recommendations</p>`;pop_element();$$payload.out+=` <button class="yakkl-btn-primary bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700">`;push_element($$payload,"button",83,6);$$payload.out+=`Upgrade to Pro</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";const each_array=ensure_array_like(topPerformers);const each_array_1=ensure_array_like(recommendations);$$payload.out+=`<div${attr_class(`yakkl-card ${className}`)}>`;push_element($$payload,"div",90,2);$$payload.out+=`<div class="p-6">`;push_element($$payload,"div",91,4);$$payload.out+=`<div class="flex items-center gap-2 mb-6">`;push_element($$payload,"div",92,6);$$payload.out+=`<svg class="w-6 h-6 text-indigo-600 dark:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",93,8);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">`;push_element($$payload,"path",94,10);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=` <h3 class="text-xl font-bold text-zinc-900 dark:text-white">`;push_element($$payload,"h3",96,8);$$payload.out+=`Advanced Analytics</h3>`;pop_element();$$payload.out+=` <span class="px-2 py-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-xs rounded-full font-semibold">`;push_element($$payload,"span",97,8);$$payload.out+=`PRO</span>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">`;push_element($$payload,"div",101,6);$$payload.out+=`<div class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-xl">`;push_element($$payload,"div",102,8);$$payload.out+=`<div class="text-xs font-medium text-green-700 dark:text-green-300 mb-1">`;push_element($$payload,"div",103,10);$$payload.out+=`24h Change</div>`;pop_element();$$payload.out+=` <div${attr_class(`text-lg font-bold ${getChangeColor(performanceData.dayChange)}`)}>`;push_element($$payload,"div",104,10);$$payload.out+=`${escape_html(formatChange(performanceData.dayChange))}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-xl">`;push_element($$payload,"div",109,8);$$payload.out+=`<div class="text-xs font-medium text-blue-700 dark:text-blue-300 mb-1">`;push_element($$payload,"div",110,10);$$payload.out+=`7d Change</div>`;pop_element();$$payload.out+=` <div${attr_class(`text-lg font-bold ${getChangeColor(performanceData.weekChange)}`)}>`;push_element($$payload,"div",111,10);$$payload.out+=`${escape_html(formatChange(performanceData.weekChange))}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 p-4 rounded-xl">`;push_element($$payload,"div",116,8);$$payload.out+=`<div class="text-xs font-medium text-purple-700 dark:text-purple-300 mb-1">`;push_element($$payload,"div",117,10);$$payload.out+=`30d Change</div>`;pop_element();$$payload.out+=` <div${attr_class(`text-lg font-bold ${getChangeColor(performanceData.monthChange)}`)}>`;push_element($$payload,"div",118,10);$$payload.out+=`${escape_html(formatChange(performanceData.monthChange))}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-4 rounded-xl">`;push_element($$payload,"div",123,8);$$payload.out+=`<div class="text-xs font-medium text-amber-700 dark:text-amber-300 mb-1">`;push_element($$payload,"div",124,10);$$payload.out+=`1y Change</div>`;pop_element();$$payload.out+=` <div${attr_class(`text-lg font-bold ${getChangeColor(performanceData.yearChange)}`)}>`;push_element($$payload,"div",125,10);$$payload.out+=`${escape_html(formatChange(performanceData.yearChange))}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">`;push_element($$payload,"div",132,6);$$payload.out+=`<div class="bg-zinc-50 dark:bg-zinc-800/50 p-4 rounded-xl">`;push_element($$payload,"div",133,8);$$payload.out+=`<div class="text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2">`;push_element($$payload,"div",134,10);$$payload.out+=`Risk Profile</div>`;pop_element();$$payload.out+=` <div class="text-lg font-bold text-zinc-900 dark:text-white">`;push_element($$payload,"div",135,10);$$payload.out+=`${escape_html(riskProfile)}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="bg-zinc-50 dark:bg-zinc-800/50 p-4 rounded-xl">`;push_element($$payload,"div",138,8);$$payload.out+=`<div class="text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2">`;push_element($$payload,"div",139,10);$$payload.out+=`Diversification</div>`;pop_element();$$payload.out+=` <div class="text-lg font-bold text-zinc-900 dark:text-white">`;push_element($$payload,"div",140,10);$$payload.out+=`${escape_html(diversificationScore)}/100</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="bg-zinc-50 dark:bg-zinc-800/50 p-4 rounded-xl">`;push_element($$payload,"div",143,8);$$payload.out+=`<div class="text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2">`;push_element($$payload,"div",144,10);$$payload.out+=`Sharpe Ratio</div>`;pop_element();$$payload.out+=` <div class="text-lg font-bold text-zinc-900 dark:text-white">`;push_element($$payload,"div",145,10);$$payload.out+=`${escape_html(performanceData.sharpeRatio)}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="mb-6">`;push_element($$payload,"div",150,6);$$payload.out+=`<h4 class="text-lg font-semibold text-zinc-900 dark:text-white mb-3">`;push_element($$payload,"h4",151,8);$$payload.out+=`Top Performers</h4>`;pop_element();$$payload.out+=` <div class="space-y-2">`;push_element($$payload,"div",152,8);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index=0,$$length=each_array.length;$$index<$$length;$$index++){let performer=each_array[$$index];$$payload.out+=`<div class="flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg">`;push_element($$payload,"div",154,12);$$payload.out+=`<div class="flex items-center gap-3">`;push_element($$payload,"div",155,14);$$payload.out+=`<div class="w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold">`;push_element($$payload,"div",156,16);$$payload.out+=`${escape_html(performer.symbol.slice(0,2))}</div>`;pop_element();$$payload.out+=` <div>`;push_element($$payload,"div",159,16);$$payload.out+=`<div class="font-medium text-zinc-900 dark:text-white">`;push_element($$payload,"div",160,18);$$payload.out+=`${escape_html(performer.symbol)}</div>`;pop_element();$$payload.out+=` <div class="text-sm text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",161,18);$$payload.out+=`${escape_html(performer.value)}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="text-green-600 dark:text-green-400 font-bold">`;push_element($$payload,"div",164,14);$$payload.out+=`${escape_html(performer.change)}</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div>`;push_element($$payload,"div",171,6);$$payload.out+=`<h4 class="text-lg font-semibold text-zinc-900 dark:text-white mb-3">`;push_element($$payload,"h4",172,8);$$payload.out+=`AI Recommendations</h4>`;pop_element();$$payload.out+=` <div class="space-y-3">`;push_element($$payload,"div",173,8);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index_1=0,$$length=each_array_1.length;$$index_1<$$length;$$index_1++){let recommendation=each_array_1[$$index_1];$$payload.out+=`<div class="flex items-start gap-3 p-3 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-lg">`;push_element($$payload,"div",175,12);$$payload.out+=`<svg class="w-5 h-5 text-indigo-600 dark:text-indigo-400 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",176,14);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">`;push_element($$payload,"path",177,16);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=` <p class="text-sm text-zinc-700 dark:text-zinc-300">`;push_element($$payload,"p",179,14);$$payload.out+=`${escape_html(recommendation)}</p>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e`;if($$store_subs)unsubscribe_stores($$store_subs);pop()}AdvancedAnalytics.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};SecureRecovery[FILENAME]="src/routes/preview2/lib/components/private/SecureRecovery.svelte";function SecureRecovery($$payload,$$props){push(SecureRecovery);let{className:className=""}=$$props;let recoveryOptions=[];let hardwareDevices=[];function formatDate(date){return"Never"}function getStatusColor(status){switch(status){case"active":return"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900/30";case"pending":return"text-amber-600 dark:text-amber-400 bg-amber-100 dark:bg-amber-900/30";case"inactive":return"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30";default:return"text-zinc-600 dark:text-zinc-400 bg-zinc-100 dark:bg-zinc-800"}}if(!canUseFeature$1("private_key_backup")){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div${attr_class(`yakkl-card ${className}`)}>`;push_element($$payload,"div",79,2);$$payload.out+=`<div class="p-6 text-center">`;push_element($$payload,"div",80,4);$$payload.out+=`<div class="mb-4">`;push_element($$payload,"div",81,6);$$payload.out+=`<svg class="w-12 h-12 mx-auto text-red-500 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",82,8);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">`;push_element($$payload,"path",83,10);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <h3 class="text-lg font-semibold text-zinc-900 dark:text-white mb-2">`;push_element($$payload,"h3",86,6);$$payload.out+=`Secure Recovery System</h3>`;pop_element();$$payload.out+=` <p class="text-sm text-zinc-600 dark:text-zinc-400 mb-4">`;push_element($$payload,"p",87,6);$$payload.out+=`Military-grade private key backup, Shamir secret sharing, and air-gapped recovery</p>`;pop_element();$$payload.out+=` <button class="yakkl-btn-primary bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700">`;push_element($$payload,"button",90,6);$$payload.out+=`Upgrade to Private</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";const each_array=ensure_array_like(recoveryOptions);const each_array_1=ensure_array_like(hardwareDevices);$$payload.out+=`<div${attr_class(`yakkl-card ${className}`)}>`;push_element($$payload,"div",97,2);$$payload.out+=`<div class="p-6">`;push_element($$payload,"div",98,4);$$payload.out+=`<div class="flex items-center gap-2 mb-6">`;push_element($$payload,"div",99,6);$$payload.out+=`<svg class="w-6 h-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",100,8);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">`;push_element($$payload,"path",101,10);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element();$$payload.out+=` <h3 class="text-xl font-bold text-zinc-900 dark:text-white">`;push_element($$payload,"h3",103,8);$$payload.out+=`Secure Recovery</h3>`;pop_element();$$payload.out+=` <span class="px-2 py-1 bg-gradient-to-r from-red-500 to-rose-600 text-white text-xs rounded-full font-semibold">`;push_element($$payload,"span",104,8);$$payload.out+=`PRIVATE</span>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">`;push_element($$payload,"div",108,6);$$payload.out+=`<div class="bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 p-4 rounded-xl">`;push_element($$payload,"div",109,8);$$payload.out+=`<div class="flex items-center gap-2 mb-2">`;push_element($$payload,"div",110,10);$$payload.out+=`<div${attr_class(`w-3 h-3 rounded-full ${"bg-red-500"}`)}>`;push_element($$payload,"div",111,12);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="text-sm font-medium text-red-700 dark:text-red-300">`;push_element($$payload,"div",112,12);$$payload.out+=`Backup Status</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="text-lg font-bold text-zinc-900 dark:text-white mb-1">`;push_element($$payload,"div",114,10);$$payload.out+=`${escape_html("Not Secured")}</div>`;pop_element();$$payload.out+=` <div class="text-xs text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",117,10);$$payload.out+=`Last backup: ${escape_html(formatDate())}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-4 rounded-xl">`;push_element($$payload,"div",122,8);$$payload.out+=`<div class="text-sm font-medium text-amber-700 dark:text-amber-300 mb-2">`;push_element($$payload,"div",123,10);$$payload.out+=`Backup Method</div>`;pop_element();$$payload.out+=` <div class="text-lg font-bold text-zinc-900 dark:text-white mb-1">`;push_element($$payload,"div",124,10);$$payload.out+=`${escape_html("None")}</div>`;pop_element();$$payload.out+=` <div class="flex items-center gap-1">`;push_element($$payload,"div",129,10);$$payload.out+=`<div${attr_class(`w-2 h-2 rounded-full ${"bg-red-500"}`)}>`;push_element($$payload,"div",130,12);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="text-xs text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",131,12);$$payload.out+=`Integrity ${escape_html("failed")}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="mb-6">`;push_element($$payload,"div",139,6);$$payload.out+=`<h4 class="text-lg font-semibold text-zinc-900 dark:text-white mb-3">`;push_element($$payload,"h4",140,8);$$payload.out+=`Recovery Methods</h4>`;pop_element();$$payload.out+=` <div class="space-y-3">`;push_element($$payload,"div",141,8);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index=0,$$length=each_array.length;$$index<$$length;$$index++){let option=each_array[$$index];$$payload.out+=`<div class="flex items-center justify-between p-4 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg">`;push_element($$payload,"div",143,12);$$payload.out+=`<div class="flex items-center gap-3">`;push_element($$payload,"div",144,14);$$payload.out+=`<div class="w-10 h-10 bg-gradient-to-br from-red-500 to-rose-600 rounded-lg flex items-center justify-center text-white">`;push_element($$payload,"div",145,16);if(option.method.includes("Shamir")){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",147,20);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">`;push_element($$payload,"path",148,22);$$payload.out+=`</path>`;pop_element();$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">`;push_element($$payload,"path",149,22);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element()}else if(option.method.includes("Hardware")){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",152,20);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z">`;push_element($$payload,"path",153,22);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e";$$payload.out+=`<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",156,20);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 3v2.25m0 13.5V21m9-9h-2.25M4.5 12H3">`;push_element($$payload,"path",157,22);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=` <div>`;push_element($$payload,"div",161,16);$$payload.out+=`<div class="font-medium text-zinc-900 dark:text-white">`;push_element($$payload,"div",162,18);$$payload.out+=`${escape_html(option.method)}</div>`;pop_element();$$payload.out+=` `;if(option.shards){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<div class="text-sm text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",164,20);$$payload.out+=`${escape_html(option.shards)} shards, ${escape_html(option.threshold)} required</div>`;pop_element()}else if(option.device){$$payload.out+="\x3c!--[1--\x3e";$$payload.out+=`<div class="text-sm text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",168,20);$$payload.out+=`${escape_html(option.device)}</div>`;pop_element()}else if(option.location){$$payload.out+="\x3c!--[2--\x3e";$$payload.out+=`<div class="text-sm text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",170,20);$$payload.out+=`${escape_html(option.location)}</div>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <span${attr_class(`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(option.status)}`)}>`;push_element($$payload,"span",174,14);$$payload.out+=`${escape_html(option.status)}</span>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="mb-6">`;push_element($$payload,"div",183,6);$$payload.out+=`<h4 class="text-lg font-semibold text-zinc-900 dark:text-white mb-3">`;push_element($$payload,"h4",184,8);$$payload.out+=`Hardware Devices</h4>`;pop_element();$$payload.out+=` <div class="grid grid-cols-1 md:grid-cols-2 gap-3">`;push_element($$payload,"div",185,8);$$payload.out+=`\x3c!--[--\x3e`;for(let $$index_1=0,$$length=each_array_1.length;$$index_1<$$length;$$index_1++){let device=each_array_1[$$index_1];$$payload.out+=`<div class="flex items-center justify-between p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg">`;push_element($$payload,"div",187,12);$$payload.out+=`<div class="flex items-center gap-3">`;push_element($$payload,"div",188,14);$$payload.out+=`<div${attr_class(`w-3 h-3 rounded-full ${device.status==="connected"?"bg-green-500":"bg-red-500"}`)}>`;push_element($$payload,"div",189,16);$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div>`;push_element($$payload,"div",190,16);$$payload.out+=`<div class="font-medium text-zinc-900 dark:text-white">`;push_element($$payload,"div",191,18);$$payload.out+=`${escape_html(device.name)}</div>`;pop_element();$$payload.out+=` <div class="text-sm text-zinc-500 dark:text-zinc-400">`;push_element($$payload,"div",192,18);$$payload.out+=`${escape_html(device.status)}</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` `;if(device.backup){$$payload.out+="\x3c!--[--\x3e";$$payload.out+=`<svg class="w-4 h-4 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload,"svg",196,16);$$payload.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7">`;push_element($$payload,"path",197,18);$$payload.out+=`</path>`;pop_element();$$payload.out+=`</svg>`;pop_element()}else{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=` <div class="flex flex-wrap gap-3">`;push_element($$payload,"div",206,6);$$payload.out+=`<button class="yakkl-btn-primary bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-sm">`;push_element($$payload,"button",207,8);$$payload.out+=`Create Shamir Backup</button>`;pop_element();$$payload.out+=` <button class="yakkl-btn-secondary text-sm">`;push_element($$payload,"button",214,8);$$payload.out+=`Setup Hardware Backup</button>`;pop_element();$$payload.out+=` <button class="yakkl-btn-secondary text-sm">`;push_element($$payload,"button",221,8);$$payload.out+=`Air-Gapped Backup</button>`;pop_element();$$payload.out+=` <button class="yakkl-btn-secondary text-sm">`;push_element($$payload,"button",228,8);$$payload.out+=`Test Recovery</button>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element();$$payload.out+=`</div>`;pop_element()}$$payload.out+=`\x3c!--]--\x3e `;{$$payload.out+="\x3c!--[!--\x3e"}$$payload.out+=`\x3c!--]--\x3e`;pop()}SecureRecovery.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};_page[FILENAME]="src/routes/preview2/+page.svelte";function _page($$payload,$$props){push(_page);var $$store_subs;let showSendModal=false;let showSwapModal=false;let showReceiveModal=false;let showBuyModal=false;let showUpgradeModal=false;let modalOpen=store_get($$store_subs??={},"$isModalOpen",isModalOpen);let account=store_get($$store_subs??={},"$currentAccount",currentAccount);let chain=store_get($$store_subs??={},"$currentChain",currentChain);let tokenList=store_get($$store_subs??={},"$tokens",tokens);let portfolioValue=store_get($$store_subs??={},"$totalPortfolioValue",totalPortfolioValue);let loading=store_get($$store_subs??={},"$isLoadingTokens",isLoadingTokens);let lastUpdate=store_get($$store_subs??={},"$lastTokenUpdate",lastTokenUpdate);async function refreshAllData(){const{accountStore:accountStore}=await import("../../../chunks/modal.store.js").then(n2=>n2.f);const{chainStore:chainStore}=await import("../../../chunks/modal.store.js").then(n2=>n2.e);const{tokenStore:tokenStore2}=await Promise.resolve().then(()=>token_store);const{planStore:planStore}=await import("../../../chunks/Upgrade2.js").then(n2=>n2.e);await Promise.all([accountStore.loadAccounts(),chainStore.loadChains(),tokenStore2.refresh(),planStore.loadPlan()])}function handleSend(tx){showSendModal=false;console.log("Transaction sent:",tx);uiStore.showTransactionPending(tx.hash);setTimeout(()=>{refreshAllData()},2e3)}function handleSwap(tx){showSwapModal=false;console.log("Swap requested:",tx);uiStore.showSuccess("Swap Initiated!","Your token swap is being processed");setTimeout(()=>{refreshAllData()},2e3)}function shortAddr(addr){if(!addr)return"";return`${addr.slice(0,6)}...${addr.slice(-4)}`}function formatCurrency(value){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(value)}function formatTime(date){if(!date)return"Never";return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:true}).format(date)}let $$settled=true;let $$inner_payload;function $$render_inner($$payload2){SendModal($$payload2,{show:showSendModal,onClose:()=>showSendModal=false,onSend:handleSend,tokens:tokenList,chain:chain,mode:"send"});$$payload2.out+=`\x3c!----\x3e `;if(canUseFeature$1("swap_tokens")){$$payload2.out+="\x3c!--[--\x3e";SendModal($$payload2,{show:showSwapModal,onClose:()=>showSwapModal=false,onSend:handleSwap,tokens:tokenList,chain:chain,mode:"swap"})}else{$$payload2.out+="\x3c!--[!--\x3e"}$$payload2.out+=`\x3c!--]--\x3e `;Receive($$payload2,{get show(){return showReceiveModal},set show($$value){showReceiveModal=$$value;$$settled=false}});$$payload2.out+=`\x3c!----\x3e `;BuyModal($$payload2,{show:showBuyModal,onClose:()=>showBuyModal=false});$$payload2.out+=`\x3c!----\x3e <div class="max-w-[400px] mx-auto p-5 space-y-5 mt-1 pt-2 relative">`;push_element($$payload2,"div",234,0);$$payload2.out+=`<div class="absolute inset-0 flex items-center justify-center pointer-events-none select-none">`;push_element($$payload2,"div",236,2);$$payload2.out+=`<img src="/images/logoBullFav128x128.png" class="w-44 h-44 opacity-10 dark:opacity-15" alt="logo"/>`;push_element($$payload2,"img",237,4);pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=` <div class="flex items-center justify-between relative z-10">`;push_element($$payload2,"div",241,2);$$payload2.out+=`<div>`;push_element($$payload2,"div",242,4);$$payload2.out+=`<div class="text-xs text-gray-400 dark:text-gray-500">`;push_element($$payload2,"div",243,6);$$payload2.out+=`Account</div>`;pop_element();$$payload2.out+=` `;if(account){$$payload2.out+="\x3c!--[--\x3e";$$payload2.out+=`<div class="text-lg font-semibold tracking-wide">`;push_element($$payload2,"div",245,8);$$payload2.out+=`${escape_html(account.ens||account.username||"")}</div>`;pop_element();$$payload2.out+=` <div class="text-xs text-gray-500 dark:text-gray-400">`;push_element($$payload2,"div",246,8);$$payload2.out+=`${escape_html(shortAddr(account.address))}</div>`;pop_element()}else{$$payload2.out+="\x3c!--[!--\x3e";$$payload2.out+=`<div class="text-lg font-semibold tracking-wide">`;push_element($$payload2,"div",248,8);$$payload2.out+=`No account</div>`;pop_element()}$$payload2.out+=`\x3c!--]--\x3e <a href="/preview2/accounts" class="text-blue-500 dark:text-blue-400 text-xs hover:underline">`;push_element($$payload2,"a",250,6);$$payload2.out+=`Switch Account</a>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=` <div class="flex flex-col items-end">`;push_element($$payload2,"div",252,4);if(chain){$$payload2.out+="\x3c!--[--\x3e";$$payload2.out+=`<div class="text-sm bg-green-100 dark:bg-green-900 dark:text-green-200 text-green-800 px-2 py-1 rounded font-bold">`;push_element($$payload2,"div",254,8);$$payload2.out+=`${escape_html(chain.isTestnet?"TESTNET":"LIVE")}</div>`;pop_element()}else{$$payload2.out+="\x3c!--[!--\x3e"}$$payload2.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=` <div class="rounded-2xl bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-700 dark:to-purple-900 shadow-md flex flex-col items-center justify-center p-6 relative z-10 group hover:shadow-lg transition-all duration-300">`;push_element($$payload2,"div",262,2);$$payload2.out+=`<span class="uppercase text-xs text-gray-500 dark:text-gray-300 tracking-widest mb-1">`;push_element($$payload2,"span",263,4);$$payload2.out+=`Total Portfolio</span>`;pop_element();$$payload2.out+=` `;if(loading){$$payload2.out+="\x3c!--[--\x3e";$$payload2.out+=`<div class="animate-pulse h-8 w-32 bg-white/20 rounded">`;push_element($$payload2,"div",265,6);$$payload2.out+=`</div>`;pop_element()}else{$$payload2.out+="\x3c!--[!--\x3e";$$payload2.out+=`<span class="text-3xl font-bold tracking-tight text-zinc-900 dark:text-white group-hover:scale-105 transition-transform duration-200">`;push_element($$payload2,"span",267,6);$$payload2.out+=`${escape_html(formatCurrency(portfolioValue))}</span>`;pop_element()}$$payload2.out+=`\x3c!--]--\x3e <div class="flex items-center gap-2 mt-2">`;push_element($$payload2,"div",269,4);$$payload2.out+=`<span class="text-xs text-gray-400">`;push_element($$payload2,"span",270,6);$$payload2.out+=`Last updated: ${escape_html(formatTime(lastUpdate))}</span>`;pop_element();$$payload2.out+=` `;if(!loading){$$payload2.out+="\x3c!--[--\x3e";$$payload2.out+=`<button class="text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors p-1 rounded" title="Refresh portfolio">`;push_element($$payload2,"button",273,8);$$payload2.out+=`<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload2,"svg",278,10);$$payload2.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">`;push_element($$payload2,"path",279,12);$$payload2.out+=`</path>`;pop_element();$$payload2.out+=`</svg>`;pop_element();$$payload2.out+=`</button>`;pop_element()}else{$$payload2.out+="\x3c!--[!--\x3e"}$$payload2.out+=`\x3c!--]--\x3e</div>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=` <div class="grid grid-cols-4 gap-3 relative z-10">`;push_element($$payload2,"div",287,2);$$payload2.out+=`<button class="yakkl-btn-primary yakkl-btn-send text-sm"${attr("disabled",!account||!canUseFeature$1("send_tokens"),true)}>`;push_element($$payload2,"button",288,4);$$payload2.out+=`Send</button>`;pop_element();$$payload2.out+=` <button class="yakkl-btn-primary bg-blue-600 hover:bg-blue-700 text-sm"${attr("disabled",!account||!canUseFeature$1("receive_tokens"),true)}>`;push_element($$payload2,"button",296,4);$$payload2.out+=`Receive</button>`;pop_element();$$payload2.out+=` <button${attr_class(`yakkl-btn-primary yakkl-swap text-sm ${stringify$1(!canUseFeature$1("swap_tokens")?"opacity-75":"")}`)}${attr("disabled",!account,true)}${attr("title",!canUseFeature$1("swap_tokens")?"Upgrade to Pro to unlock token swapping":"Swap tokens")}>`;push_element($$payload2,"button",304,4);$$payload2.out+=`${escape_html(canUseFeature$1("swap_tokens")?"Swap":"🔒 Swap")}</button>`;pop_element();$$payload2.out+=` <button${attr_class(`yakkl-btn-primary yakkl-btn-buy text-sm ${stringify$1(!canUseFeature$1("buy_crypto")?"opacity-75":"")}`)}${attr("disabled",!account,true)}${attr("title",!canUseFeature$1("buy_crypto")?"Upgrade to Pro to unlock buy/sell features":"Buy and sell crypto")}>`;push_element($$payload2,"button",313,4);$$payload2.out+=`${escape_html(canUseFeature$1("buy_crypto")?"Buy/Sell":"🔒 Buy/Sell")}</button>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=` `;RecentActivity($$payload2,{className:"yakkl-card relative z-10"});$$payload2.out+=`\x3c!----\x3e `;TokenPortfolio($$payload2,{tokens:tokenList,loading:loading,className:"yakkl-card relative z-10"});$$payload2.out+=`\x3c!----\x3e `;if(canUseFeature$1("advanced_analytics")){$$payload2.out+="\x3c!--[--\x3e";AdvancedAnalytics($$payload2,{className:"relative z-10"})}else{$$payload2.out+="\x3c!--[!--\x3e";$$payload2.out+=`<div class="yakkl-card relative z-10 p-6 text-center border-2 border-dashed border-gray-300 dark:border-gray-600">`;push_element($$payload2,"div",337,4);$$payload2.out+=`<div class="text-gray-400 dark:text-gray-500 mb-3">`;push_element($$payload2,"div",338,6);$$payload2.out+=`<svg class="w-12 h-12 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload2,"svg",339,8);$$payload2.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">`;push_element($$payload2,"path",340,10);$$payload2.out+=`</path>`;pop_element();$$payload2.out+=`</svg>`;pop_element();$$payload2.out+=` <h3 class="text-lg font-medium mb-2">`;push_element($$payload2,"h3",342,8);$$payload2.out+=`Advanced Analytics</h3>`;pop_element();$$payload2.out+=` <p class="text-sm mb-4">`;push_element($$payload2,"p",343,8);$$payload2.out+=`Get detailed portfolio insights, performance metrics, and market analysis.</p>`;pop_element();$$payload2.out+=` <button class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">`;push_element($$payload2,"button",344,8);$$payload2.out+=`Upgrade to Pro</button>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=`</div>`;pop_element()}$$payload2.out+=`\x3c!--]--\x3e `;if(canUseFeature$1("secure_recovery")){$$payload2.out+="\x3c!--[--\x3e";SecureRecovery($$payload2,{className:"relative z-10"})}else if(canUseFeature$1("advanced_analytics")){$$payload2.out+="\x3c!--[1--\x3e";$$payload2.out+=`<div class="yakkl-card relative z-10 p-6 text-center border-2 border-dashed border-orange-300 dark:border-orange-600">`;push_element($$payload2,"div",359,4);$$payload2.out+=`<div class="text-orange-400 dark:text-orange-500 mb-3">`;push_element($$payload2,"div",360,6);$$payload2.out+=`<svg class="w-12 h-12 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload2,"svg",361,8);$$payload2.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">`;push_element($$payload2,"path",362,10);$$payload2.out+=`</path>`;pop_element();$$payload2.out+=`</svg>`;pop_element();$$payload2.out+=` <h3 class="text-lg font-medium mb-2">`;push_element($$payload2,"h3",364,8);$$payload2.out+=`Secure Recovery</h3>`;pop_element();$$payload2.out+=` <p class="text-sm mb-4">`;push_element($$payload2,"p",365,8);$$payload2.out+=`Maximum security features including air-gapped signing and zero-knowledge proofs.</p>`;pop_element();$$payload2.out+=` <button class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">`;push_element($$payload2,"button",366,8);$$payload2.out+=`Upgrade to Private</button>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=`</div>`;pop_element()}else{$$payload2.out+="\x3c!--[!--\x3e"}$$payload2.out+=`\x3c!--]--\x3e `;ModDashboard($$payload2,{className:"yakkl-card relative z-10"});$$payload2.out+=`\x3c!----\x3e <div class="text-center pt-4 pb-2 relative z-10">`;push_element($$payload2,"div",380,2);$$payload2.out+=`<div class="inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-3 py-1 rounded-full text-xs font-medium shadow-md">`;push_element($$payload2,"div",381,4);$$payload2.out+=`<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">`;push_element($$payload2,"svg",382,6);$$payload2.out+=`<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z">`;push_element($$payload2,"path",383,8);$$payload2.out+=`</path>`;pop_element();$$payload2.out+=`</svg>`;pop_element();$$payload2.out+=` Preview 2.0</div>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=`</div>`;pop_element();$$payload2.out+=` `;if(!modalOpen){$$payload2.out+="\x3c!--[--\x3e";if(canUseFeature$1("ai_assistant")){$$payload2.out+="\x3c!--[--\x3e";AIHelpButton($$payload2,{className:"fixed bottom-12 right-4"})}else{$$payload2.out+="\x3c!--[!--\x3e";$$payload2.out+=`<div class="fixed bottom-12 right-4 z-50">`;push_element($$payload2,"div",396,4);$$payload2.out+=`<button class="yakkl-circle-button text-xl opacity-60 hover:opacity-80 transition-opacity" title="AI Assistant (Pro Feature - Upgrade Required)">`;push_element($$payload2,"button",397,6);$$payload2.out+=`🤖</button>`;pop_element();$$payload2.out+=`</div>`;pop_element()}$$payload2.out+=`\x3c!--]--\x3e`}else{$$payload2.out+="\x3c!--[!--\x3e"}$$payload2.out+=`\x3c!--]--\x3e `;Upgrade($$payload2,{onComplete:()=>{showUpgradeModal=false;refreshAllData()},onCancel:()=>showUpgradeModal=false,get show(){return showUpgradeModal},set show($$value){showUpgradeModal=$$value;$$settled=false}});$$payload2.out+=`\x3c!----\x3e`}do{$$settled=true;$$inner_payload=copy_payload($$payload);$$render_inner($$inner_payload)}while(!$$settled);assign_payload($$payload,$$inner_payload);if($$store_subs)unsubscribe_stores($$store_subs);pop()}_page.render=function(){throw new Error("Component.render(...) is no longer valid in Svelte 5. See https://svelte.dev/docs/svelte/v5-migration-guide#Components-are-no-longer-classes for more information")};export{_page as default};
//# sourceMappingURL=_page.svelte.js.map
