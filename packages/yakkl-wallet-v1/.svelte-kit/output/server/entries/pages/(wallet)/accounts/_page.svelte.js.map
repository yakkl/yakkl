{"version":3,"file":"_page.svelte.js","sources":["../../../../../../../src/routes/(wallet)/accounts/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { browserSvelte } from '$lib/common/environment';\n\timport { onMount } from 'svelte';\n\timport { goto } from '$app/navigation';\n\timport {\n\t\tPATH_ACCOUNTS_ETHEREUM_CREATE_DERIVED,\n\t\tPATH_ACCOUNTS_ETHEREUM_CREATE_PRIMARY,\n\t\tYAKKL_ZERO_ADDRESS\n\t} from '$lib/common/constants';\n\timport { getYakklCurrentlySelected } from '$lib/common/stores';\n\timport ErrorNoAction from '$lib/components/ErrorNoAction.svelte';\n\timport Back from '$lib/components/Back.svelte';\n\timport ButtonGrid from '$lib/components/ButtonGrid.svelte';\n\timport ButtonGridItem from '$lib/components/ButtonGridItem.svelte';\n\timport type { YakklAccount, YakklCurrentlySelected, YakklWatch } from '$lib/common';\n\timport ImportWatchAccount from '$lib/components/ImportWatchAccount.svelte';\n\timport ImportPrivateKey from '$lib/components/ImportPrivateKey.svelte';\n\timport ExportPrivateKey from '$lib/components/ExportPrivateKey.svelte';\n\timport Accounts from '$lib/components/Accounts.svelte';\n\n\tlet error = $state(false);\n\tlet errorValue: string = $state('');\n\tlet isPortfolioModalOpen = $state(false);\n\tlet isSubPortfolioModalOpen = $state(false);\n\tlet showImportWatch = $state(false);\n\tlet showImportAccount = $state(false);\n\tlet showExportPrivateKey = $state(false);\n\tlet showAccounts = $state(false);\n\n\tlet currentlySelected: YakklCurrentlySelected;\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tif (browserSvelte) {\n\t\t\t\tcurrentlySelected = await getYakklCurrentlySelected();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t});\n\n\tfunction handleAccounts(e: any) {\n\t\tif (browserSvelte) {\n\t\t\tisPortfolioModalOpen = false;\n\t\t\tgoto(PATH_ACCOUNTS_ETHEREUM_CREATE_PRIMARY);\n\t\t}\n\t}\n\n\tfunction handleSubAccounts(e: any) {\n\t\tif (browserSvelte) {\n\t\t\tisSubPortfolioModalOpen = false;\n\t\t\tif (currentlySelected.shortcuts.address === YAKKL_ZERO_ADDRESS) {\n\t\t\t\terrorValue =\n\t\t\t\t\t'NO WALLET ACCOUNT has been created yet. Please create a portfolio wallet account first.';\n\t\t\t\terror = true;\n\t\t\t} else {\n\t\t\t\tif (currentlySelected.shortcuts.accountType !== 'imported') {\n\t\t\t\t\tgoto(PATH_ACCOUNTS_ETHEREUM_CREATE_DERIVED);\n\t\t\t\t} else {\n\t\t\t\t\terrorValue =\n\t\t\t\t\t\t'The currently selected Wallet Account is an imported account. To create a secondary account (an account attached to a primary account) you must first select a non-imported account. Click or hover over the circle with 3 dots (•••) on the card, then select \"List\" option, and then select a primary or secondary account from the popup list.';\n\t\t\t\t\terror = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// function handleExport() {\n\t//   if (browserSvelte) {\n\t//     if (currentlySelected.shortcuts.address === YAKKL_ZERO_ADDRESS) {\n\t//       errorValue = 'NO WALLET ACCOUNT has been created yet. Please create a portfolio wallet account first.';\n\t//       error = true;\n\t//     } else {\n\t//       goto(PATH_EXPORT);\n\t//     }\n\t//   }\n\t// }\n\n\t// function handleAccountMaintenance() {\n\t//   if (browserSvelte) {\n\t//     if (currentlySelected.shortcuts.address === YAKKL_ZERO_ADDRESS) {\n\t//       errorValue = 'NO ACCOUNT has been created yet. Please create a portfolio account first.';\n\t//       error = true;\n\t//     } else {\n\t//       goto(PATH_ACCOUNT_MAINTENANCE);\n\t//     }\n\t//   }\n\t// }\n\n\tfunction handleImport(account: YakklAccount) {\n\t\tif (browserSvelte) {\n\t\t\tshowImportAccount = true;\n\t\t}\n\t}\n\n\tfunction handleImportWatch(account: YakklWatch) {\n\t\tif (browserSvelte) {\n\t\t\tshowImportWatch = true;\n\t\t}\n\t}\n\n\tfunction handleExportPrivateKey() {\n\t\tif (browserSvelte) {\n\t\t\tshowExportPrivateKey = false;\n\t\t}\n\t}\n\n\tfunction handleAccountMaintenance(account: YakklAccount) {\n\t\tif (browserSvelte) {\n\t\t\tshowAccounts = true;\n\t\t}\n\t}\n</script>\n\n<Back defaultClass=\"left-3 top-[.8rem] absolute\" href=\"\" />\n<ImportWatchAccount\n\tbind:show={showImportWatch}\n\tonComplete={handleImportWatch}\n\tclassName=\"text-gray-600 z-[999]\"\n/>\n<ImportPrivateKey\n\tbind:show={showImportAccount}\n\tonComplete={handleImport}\n\tclassName=\"text-gray-600 z-[999]\"\n/>\n<ExportPrivateKey\n\tbind:show={showExportPrivateKey}\n\tonVerify={handleExportPrivateKey}\n\tclassName=\"text-gray-600 z-[999]\"\n/>\n<Accounts\n\tbind:show={showAccounts}\n\tonAccountSelect={handleAccountMaintenance}\n\tclassName=\"text-gray-600\"\n/>\n<ErrorNoAction bind:show={error} value={errorValue} title=\"ERROR\" />\n\n<div class=\"text-center text-base-content\">\n\t<div\n\t\tclass=\"bg-secondary absolute top-[0.1rem] left-[.1rem] rounded-tl-xl rounded-tr-xl w-[99%] h-2\"\n\t></div>\n\t<h1 class=\"text-xl tracking-tight font-extrabold\">\n\t\t<span class=\"2xl:inline\">Wallet Accounts</span>\n\t</h1>\n\t<br />\n</div>\n\n<ButtonGrid>\n\t<ButtonGridItem handle={() => (showAccounts = true)} title=\"Maintenance\" btn=\"btn-secondary\">\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstroke-width=\"1.5\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tclass=\" flex flex-col w-10 h-10 m-0\"\n\t\t>\n\t\t\t<path\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\td=\"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3\"\n\t\t\t/>\n\t\t</svg>\n\t</ButtonGridItem>\n\n\t<ButtonGridItem\n\t\thandle={() => (isPortfolioModalOpen = true)}\n\t\ttitle=\"Add Portfolio Wallet\"\n\t\tbtn=\"btn-secondary\"\n\t>\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstroke-width=\"1.5\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tclass=\"flex flex-col w-10 h-10 m-0\"\n\t\t>\n\t\t\t<path\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\td=\"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3\"\n\t\t\t/>\n\t\t</svg>\n\t</ButtonGridItem>\n\n\t<!-- Modal for portfolio -->\n\t<div class=\"modal\" class:modal-open={isPortfolioModalOpen}>\n\t\t<div class=\"modal-box relative\">\n\t\t\t<h3 class=\"text-lg font-bold\">Portfolio Wallet Account Creation</h3>\n\t\t\t<p class=\"py-4\">\n\t\t\t\tThis will create a portfolio level wallet account. Do you wish to continue?\n\t\t\t</p>\n\t\t\t<div class=\"modal-action\">\n\t\t\t\t<button class=\"btn\" onclick={handleAccounts}>Yes</button>\n\t\t\t\t<button class=\"btn\" onclick={() => (isPortfolioModalOpen = false)}>Cancel</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<ButtonGridItem\n\t\thandle={() => (isSubPortfolioModalOpen = true)}\n\t\ttitle=\"Add Subportfolio Wallet\"\n\t\tbtn=\"btn-secondary\"\n\t>\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstroke-width=\"1.5\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tclass=\"w-10 h-10 m-0\"\n\t\t>\n\t\t\t<path\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\td=\"M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3\"\n\t\t\t/>\n\t\t</svg>\n\t</ButtonGridItem>\n\n\t<!-- Modal for Subportfolio -->\n\t<div class=\"modal\" class:modal-open={isSubPortfolioModalOpen}>\n\t\t<div class=\"modal-box relative\">\n\t\t\t<!-- <label for=\"my-modal-3\" class=\"btn btn-sm btn-circle absolute right-2 top-2\">✕</label> -->\n\t\t\t<h3 class=\"text-lg font-bold\">Subportfolio Wallet Account Creation</h3>\n\t\t\t<p class=\"py-4\">\n\t\t\t\tThis will create a subportfolio level wallet account. Do you wish to continue?\n\t\t\t</p>\n\t\t\t<div class=\"modal-action\">\n\t\t\t\t<button class=\"btn\" onclick={handleSubAccounts}>Yes</button>\n\t\t\t\t<button class=\"btn\" onclick={() => (isSubPortfolioModalOpen = false)}>Cancel</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<ButtonGridItem\n\t\thandle={() => (showImportWatch = true)}\n\t\ttitle=\"Add Watch-Only Wallet\"\n\t\tbtn=\"btn-secondary\"\n\t>\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstroke-width=\"1.5\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tclass=\"w-10 h-10 m-0\"\n\t\t>\n\t\t\t<path\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\td=\"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z\"\n\t\t\t/>\n\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n\t\t</svg>\n\t</ButtonGridItem>\n\n\t<!-- All Contacts were moved to the Speed dial area -->\n\t<!-- <ButtonGridItem handle={() => goto(PATH_CONTACTS)} title=\"Contacts\" btn=\"btn-secondary\" >\n    <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke-width=\"1.5\" stroke=\"currentColor\" class=\"w-10 h-10 m-0\">\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z\" />\n    </svg>\n  </ButtonGridItem> -->\n\n\t<ButtonGridItem\n\t\thandle={() => (showImportAccount = true)}\n\t\ttitle=\"Import Wallet\"\n\t\tbtn=\"btn-secondary\"\n\t>\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstroke-width=\"1.5\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tclass=\"w-10 h-10 m-0\"\n\t\t>\n\t\t\t<path\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\td=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\"\n\t\t\t/>\n\t\t</svg>\n\t</ButtonGridItem>\n\n\t<ButtonGridItem\n\t\thandle={() => (showExportPrivateKey = true)}\n\t\ttitle=\"Export Wallet\"\n\t\tbtn=\"btn-secondary\"\n\t>\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"none\"\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\tstroke-width=\"1.5\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tclass=\"w-10 h-10 m-0\"\n\t\t>\n\t\t\t<path\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\td=\"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5\"\n\t\t\t/>\n\t\t</svg>\n\t</ButtonGridItem>\n</ButtonGrid>\n"],"names":["error","errorValue","isPortfolioModalOpen","isSubPortfolioModalOpen","showImportWatch","showImportAccount","showExportPrivateKey","showAccounts","handleImport","account","browserSvelte","handleImportWatch","handleExportPrivateKey","handleAccountMaintenance","$$value","handle"],"mappings":"45BAoBK,IAAAA,MAAe,MACf,IAAAC,WAA4B,GAC5B,IAAAC,qBAA8B,MAC9B,IAAAC,wBAAiC,MACjC,IAAAC,gBAAyB,MACzB,IAAAC,kBAA2B,MAC3B,IAAAC,qBAA8B,MAC9B,IAAAC,aAAsB,MA8DjB,SAAAC,aAAaC,YACjBC,cAAe,CACEL,kBAAA,IACrB,CACD,CAES,SAAAM,kBAAkBF,YACtBC,cAAe,CACAN,gBAAA,IACnB,CACD,UAESQ,4BACJF,cAAe,CACKJ,qBAAA,KACxB,CACD,CAES,SAAAO,yBAAyBJ,YAC7BC,cAAe,CACHH,aAAA,IAChB,CACD,6NAMYI,+DADD,OAAAP,mCAAeA,gBAAAU,oGAMdN,0DADD,OAAAH,qCAAiBA,kBAAAS,kGAMlBF,oEADC,OAAAN,wCAAoBA,qBAAAQ,iGAMdD,8DADN,OAAAN,gCAAYA,aAAAO,4FAIgBb,oCAAd,OAAAD,yBAAKA,MAAAc,u1BAaCC,OAAA,IAAAR,aAAe,gzBAkB9BQ,OAAA,IAAAb,qBAAuB,00BAqBFA,69BAcrBa,OAAA,IAAAZ,wBAA0B,+zBAqBLA,s+BAerBY,OAAA,IAAAX,gBAAkB,g6BA6BlBW,OAAA,IAAAV,kBAAoB,8oBAqBpBU,OAAA,IAAAT,qBAAuB"}