{"version":3,"mappings":"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","names":["asClassComponent","component","Svelte4Component","constructor","options","super","__privateAdd","this","_events","_instance","sources","Map","add_source","key","value","s","mutable_source","set","props","Proxy","$$events","get","target","prop","Reflect","has","LEGACY_PROPS","__privateSet","hydrate","mount","anchor","context","intro","recover","_a","$$host","sync","flushSync","Object","keys","__privateGet","define_property","enumerable","$set","next","assign","$destroy","unmount","$on","event","callback","cb","args","call","push","filter","fn","WeakMap","contextNeedsIdleProtection","contextType","protectedContexts","includes","CONTEXT_ID","Date","now","toString","Math","random","substr","isClient","window","process","define_process_env_default","log","setLevel","EXTENSION_INIT_STATE","initialized","contextId","activityTrackingStarted","startTime","browser_ext","initializationAttempted","getBrowserExt","browser","browserPolyfill","chrome","runtime","id","warn","errorHandler","ErrorHandler","getInstance","getContextType","pathname","location","href","setContextTypeStore","console","async","init","getSettings","error","info","browserApi","globalListenerManager","hasContext","registerContext","uiListenerManager","syncStorageToStore","loadTokens","setupUIListeners","handleError","removeUIListeners","addUIListeners","cleanup","fencedFrameConfig","removeEventListener","addEventListener","e","message","setTimeout","catch","err","browserExt","sendMessage","type","timestamp","onMessage","addListener","_sender","_sendResponse","targetContextTypes","Array","isArray","dispatchEvent","CustomEvent","detail","state","matchers","components","$.prop","$$props","data_0","data_1","data_2","data_3","$.user_pre_effect","stores","page","$.user_effect","notify","mounted","navigated","title","onMount","unsubscribe","subscribe","$.get","$.set","tick","then","document","Pyramid_3","Pyramid_0","Pyramid_1","Pyramid_2","$$value","consequent","$$render","alternate","consequent_1","alternate_1","consequent_2","alternate_2","consequent_3","consequent_4","root","Root","nodes","__vitePreload","import","__VITE_PRELOAD__","url","server_loads","dictionary","hooks","client_hooks.handleError","reroute","transport","decoders","fromEntries","entries","map","k","v","decode","hash"],"ignoreList":[0],"sources":["../../../../../../../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/legacy/legacy-client.js","../../../../../../src/hooks.client.ts","../../../../../generated/client-optimized/matchers.js","../../../../../generated/root.svelte","../../../../../generated/root.js","../../../../../generated/client-optimized/app.js"],"sourcesContent":["/** @import { ComponentConstructorOptions, ComponentType, SvelteComponent, Component } from 'svelte' */\nimport { DIRTY, LEGACY_PROPS, MAYBE_DIRTY } from '../internal/client/constants.js';\nimport { user_pre_effect } from '../internal/client/reactivity/effects.js';\nimport { mutable_source, set } from '../internal/client/reactivity/sources.js';\nimport { hydrate, mount, unmount } from '../internal/client/render.js';\nimport { active_effect, flushSync, get, set_signal_status } from '../internal/client/runtime.js';\nimport { lifecycle_outside_component } from '../internal/shared/errors.js';\nimport { define_property, is_array } from '../internal/shared/utils.js';\nimport * as w from '../internal/client/warnings.js';\nimport { DEV } from 'esm-env';\nimport { FILENAME } from '../constants.js';\nimport { component_context, dev_current_component_function } from '../internal/client/context.js';\n\n/**\n * Takes the same options as a Svelte 4 component and the component function and returns a Svelte 4 compatible component.\n *\n * @deprecated Use this only as a temporary solution to migrate your imperative component code to Svelte 5.\n *\n * @template {Record<string, any>} Props\n * @template {Record<string, any>} Exports\n * @template {Record<string, any>} Events\n * @template {Record<string, any>} Slots\n *\n * @param {ComponentConstructorOptions<Props> & {\n * \tcomponent: ComponentType<SvelteComponent<Props, Events, Slots>> | Component<Props>;\n * }} options\n * @returns {SvelteComponent<Props, Events, Slots> & Exports}\n */\nexport function createClassComponent(options) {\n\t// @ts-expect-error $$prop_def etc are not actually defined\n\treturn new Svelte4Component(options);\n}\n\n/**\n * Takes the component function and returns a Svelte 4 compatible component constructor.\n *\n * @deprecated Use this only as a temporary solution to migrate your imperative component code to Svelte 5.\n *\n * @template {Record<string, any>} Props\n * @template {Record<string, any>} Exports\n * @template {Record<string, any>} Events\n * @template {Record<string, any>} Slots\n *\n * @param {SvelteComponent<Props, Events, Slots> | Component<Props>} component\n * @returns {ComponentType<SvelteComponent<Props, Events, Slots> & Exports>}\n */\nexport function asClassComponent(component) {\n\t// @ts-expect-error $$prop_def etc are not actually defined\n\treturn class extends Svelte4Component {\n\t\t/** @param {any} options */\n\t\tconstructor(options) {\n\t\t\tsuper({\n\t\t\t\tcomponent,\n\t\t\t\t...options\n\t\t\t});\n\t\t}\n\t};\n}\n\n/**\n * Support using the component as both a class and function during the transition period\n * @typedef  {{new (o: ComponentConstructorOptions): SvelteComponent;(...args: Parameters<Component<Record<string, any>>>): ReturnType<Component<Record<string, any>, Record<string, any>>>;}} LegacyComponentType\n */\n\nclass Svelte4Component {\n\t/** @type {any} */\n\t#events;\n\n\t/** @type {Record<string, any>} */\n\t#instance;\n\n\t/**\n\t * @param {ComponentConstructorOptions & {\n\t *  component: any;\n\t * }} options\n\t */\n\tconstructor(options) {\n\t\tvar sources = new Map();\n\n\t\t/**\n\t\t * @param {string | symbol} key\n\t\t * @param {unknown} value\n\t\t */\n\t\tvar add_source = (key, value) => {\n\t\t\tvar s = mutable_source(value, false, false);\n\t\t\tsources.set(key, s);\n\t\t\treturn s;\n\t\t};\n\n\t\t// Replicate coarse-grained props through a proxy that has a version source for\n\t\t// each property, which is incremented on updates to the property itself. Do not\n\t\t// use our $state proxy because that one has fine-grained reactivity.\n\t\tconst props = new Proxy(\n\t\t\t{ ...(options.props || {}), $$events: {} },\n\t\t\t{\n\t\t\t\tget(target, prop) {\n\t\t\t\t\treturn get(sources.get(prop) ?? add_source(prop, Reflect.get(target, prop)));\n\t\t\t\t},\n\t\t\t\thas(target, prop) {\n\t\t\t\t\t// Necessary to not throw \"invalid binding\" validation errors on the component side\n\t\t\t\t\tif (prop === LEGACY_PROPS) return true;\n\n\t\t\t\t\tget(sources.get(prop) ?? add_source(prop, Reflect.get(target, prop)));\n\t\t\t\t\treturn Reflect.has(target, prop);\n\t\t\t\t},\n\t\t\t\tset(target, prop, value) {\n\t\t\t\t\tset(sources.get(prop) ?? add_source(prop, value), value);\n\t\t\t\t\treturn Reflect.set(target, prop, value);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tthis.#instance = (options.hydrate ? hydrate : mount)(options.component, {\n\t\t\ttarget: options.target,\n\t\t\tanchor: options.anchor,\n\t\t\tprops,\n\t\t\tcontext: options.context,\n\t\t\tintro: options.intro ?? false,\n\t\t\trecover: options.recover\n\t\t});\n\n\t\t// We don't flushSync for custom element wrappers or if the user doesn't want it\n\t\tif (!options?.props?.$$host || options.sync === false) {\n\t\t\tflushSync();\n\t\t}\n\n\t\tthis.#events = props.$$events;\n\n\t\tfor (const key of Object.keys(this.#instance)) {\n\t\t\tif (key === '$set' || key === '$destroy' || key === '$on') continue;\n\t\t\tdefine_property(this, key, {\n\t\t\t\tget() {\n\t\t\t\t\treturn this.#instance[key];\n\t\t\t\t},\n\t\t\t\t/** @param {any} value */\n\t\t\t\tset(value) {\n\t\t\t\t\tthis.#instance[key] = value;\n\t\t\t\t},\n\t\t\t\tenumerable: true\n\t\t\t});\n\t\t}\n\n\t\tthis.#instance.$set = /** @param {Record<string, any>} next */ (next) => {\n\t\t\tObject.assign(props, next);\n\t\t};\n\n\t\tthis.#instance.$destroy = () => {\n\t\t\tunmount(this.#instance);\n\t\t};\n\t}\n\n\t/** @param {Record<string, any>} props */\n\t$set(props) {\n\t\tthis.#instance.$set(props);\n\t}\n\n\t/**\n\t * @param {string} event\n\t * @param {(...args: any[]) => any} callback\n\t * @returns {any}\n\t */\n\t$on(event, callback) {\n\t\tthis.#events[event] = this.#events[event] || [];\n\n\t\t/** @param {any[]} args */\n\t\tconst cb = (...args) => callback.call(this, ...args);\n\t\tthis.#events[event].push(cb);\n\t\treturn () => {\n\t\t\tthis.#events[event] = this.#events[event].filter(/** @param {any} fn */ (fn) => fn !== cb);\n\t\t};\n\t}\n\n\t$destroy() {\n\t\tthis.#instance.$destroy();\n\t}\n}\n\n/**\n * Runs the given function once immediately on the server, and works like `$effect.pre` on the client.\n *\n * @deprecated Use this only as a temporary solution to migrate your component code to Svelte 5.\n * @param {() => void | (() => void)} fn\n * @returns {void}\n */\nexport function run(fn) {\n\tuser_pre_effect(() => {\n\t\tfn();\n\t\tvar effect = /** @type {import('#client').Effect} */ (active_effect);\n\t\t// If the effect is immediately made dirty again, mark it as maybe dirty to emulate legacy behaviour\n\t\tif ((effect.f & DIRTY) !== 0) {\n\t\t\tlet filename = \"a file (we can't know which one)\";\n\t\t\tif (DEV) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tfilename = dev_current_component_function?.[FILENAME] ?? filename;\n\t\t\t}\n\t\t\tw.legacy_recursive_reactive_block(filename);\n\t\t\tset_signal_status(effect, MAYBE_DIRTY);\n\t\t}\n\t});\n}\n\n/**\n * Function to mimic the multiple listeners available in svelte 4\n * @deprecated\n * @param {EventListener[]} handlers\n * @returns {EventListener}\n */\nexport function handlers(...handlers) {\n\treturn function (event) {\n\t\tconst { stopImmediatePropagation } = event;\n\t\tlet stopped = false;\n\n\t\tevent.stopImmediatePropagation = () => {\n\t\t\tstopped = true;\n\t\t\tstopImmediatePropagation.call(event);\n\t\t};\n\n\t\tconst errors = [];\n\n\t\tfor (const handler of handlers) {\n\t\t\ttry {\n\t\t\t\t// @ts-expect-error `this` is not typed\n\t\t\t\thandler?.call(this, event);\n\t\t\t} catch (e) {\n\t\t\t\terrors.push(e);\n\t\t\t}\n\n\t\t\tif (stopped) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let error of errors) {\n\t\t\tqueueMicrotask(() => {\n\t\t\t\tthrow error;\n\t\t\t});\n\t\t}\n\t};\n}\n\n/**\n * Function to create a `bubble` function that mimic the behavior of `on:click` without handler available in svelte 4.\n * @deprecated Use this only as a temporary solution to migrate your automatically delegated events in Svelte 5.\n */\nexport function createBubbler() {\n\tconst active_component_context = component_context;\n\tif (active_component_context === null) {\n\t\tlifecycle_outside_component('createBubbler');\n\t}\n\n\treturn (/**@type {string}*/ type) => (/**@type {Event}*/ event) => {\n\t\tconst events = /** @type {Record<string, Function | Function[]>} */ (\n\t\t\tactive_component_context.s.$$events\n\t\t)?.[/** @type {any} */ (type)];\n\n\t\tif (events) {\n\t\t\tconst callbacks = is_array(events) ? events.slice() : [events];\n\t\t\tfor (const fn of callbacks) {\n\t\t\t\tfn.call(active_component_context.x, event);\n\t\t\t}\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\nexport {\n\tonce,\n\tpreventDefault,\n\tself,\n\tstopImmediatePropagation,\n\tstopPropagation,\n\ttrusted,\n\tpassive,\n\tnonpassive\n} from '../internal/client/dom/legacy/event-modifiers.js';\n","// src/hooks.client.ts\nimport type { Browser } from 'webextension-polyfill';\nimport { getSettings, setContextTypeStore, syncStorageToStore } from '$lib/common/stores';\nimport { loadTokens } from '$lib/common/stores/tokens';\nimport { ErrorHandler } from '$lib/managers/ErrorHandler';\nimport { log } from '$lib/managers/Logger';\nimport { addUIListeners, removeUIListeners } from '$lib/common/listeners/ui/uiListeners';\nimport { globalListenerManager } from '$lib/managers/GlobalListenerManager';\nimport { uiListenerManager } from '$lib/common/listeners/ui/uiListeners';\nimport { protectedContexts } from '$lib/common/globals';\n\n// Helper function to check if context needs idle protection\nfunction contextNeedsIdleProtection(contextType: string): boolean {\n\treturn protectedContexts.includes(contextType);\n}\n\n// Store the browser reference globally for SvelleKit to use\ndeclare global {\n\tinterface Window {\n\t\tbrowserPolyfill: Browser;\n\t\tEXTENSION_INIT_STATE: {\n\t\t\tinitialized: boolean;\n\t\t\tcontextId: string;\n\t\t\tactivityTrackingStarted: boolean;\n\t\t\tstartTime: number;\n\t\t};\n\t}\n}\n\n// Create a unique context ID for this execution instance\nconst CONTEXT_ID =\n\ttypeof Date !== 'undefined'\n\t\t? Date.now().toString(36) + Math.random().toString(36).substr(2, 5)\n\t\t: 'server';\n\n// Early check for window existence\nconst isClient = typeof window !== 'undefined';\n\n// Configure logger EARLY before any logging happens\nif (isClient && typeof process !== 'undefined' && process.env && process.env.DEV_MODE) {\n\tlog.setLevel('DEBUG', 'CONTAINS', [\n\t\t'DEBUG',\n\t\t'DEBUG_TRACE',\n\t\t'INFO',\n\t\t'INFO_TRACE',\n\t\t'WARN',\n\t\t'ERROR',\n\t\t'ERROR_TRACE',\n\t\t'TRACE'\n\t]);\n\t// console.log(`[${CONTEXT_ID}] Logger set to DEBUG mode`);\n} else {\n\tlog.setLevel('ERROR', 'CONTAINS', ['ERROR', 'ERROR_TRACE']);\n\t// if (isClient) {\n\t//   console.log(`[${CONTEXT_ID}] Logger set to ERROR mode`);\n\t// }\n}\n\nif (isClient) {\n\t// Check for existing initialization state\n\tif (!window.EXTENSION_INIT_STATE) {\n\t\twindow.EXTENSION_INIT_STATE = {\n\t\t\tinitialized: false,\n\t\t\tcontextId: CONTEXT_ID,\n\t\t\tactivityTrackingStarted: false,\n\t\t\tstartTime: Date.now()\n\t\t};\n\t}\n}\n\nlet browser_ext: Browser | null = null;\nlet initializationAttempted = false;\n\nfunction getBrowserExt(): Browser | null {\n\tif (!isClient) return null;\n\n\t// If already initialized, return the existing instance\n\tif (browser_ext) return browser_ext;\n\n\t// Only log once\n\tif (!initializationAttempted) {\n\t\tinitializationAttempted = true;\n\t}\n\n\t// First try window.browser (set by polyfill script)\n\tif (window.browser) {\n\t\tbrowser_ext = window.browser;\n\t\twindow.browserPolyfill = browser_ext;\n\t\treturn browser_ext;\n\t}\n\n\t// Then try window.browserPolyfill (may have been set manually)\n\tif (window.browserPolyfill) {\n\t\tbrowser_ext = window.browserPolyfill;\n\t\treturn browser_ext;\n\t}\n\n\t// Finally try chrome with basic detection\n\tif (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) {\n\t\t// You might want to initialize Chrome shim here\n\t\t// For now, just return null\n\t}\n\n\t// Log only on first failed attempt\n\tif (!browser_ext && initializationAttempted) {\n\t\tlog.warn(\n\t\t\t'Browser extension API not available - ' + 'check if browser-polyfill.js is loading correctly'\n\t\t);\n\t}\n\n\treturn browser_ext;\n}\n\nconst errorHandler = ErrorHandler.getInstance(); // Initialize error handlers\n\n/**\n * Determine the context type based on the current URL\n */\nexport function getContextType(): string {\n\tif (!isClient) return 'unknown';\n\n\tconst pathname = window.location.pathname;\n\tconst href = window.location.href;\n\n\tif (pathname.includes('sidepanel') || href.includes('sidepanel')) {\n\t\tsetContextTypeStore('sidepanel');\n\t\treturn 'sidepanel';\n\t} else if (\n\t\tpathname.includes('index.html') ||\n\t\thref.includes('index.html') ||\n\t\tpathname === '/' ||\n\t\tpathname === ''\n\t) {\n\t\tsetContextTypeStore('popup-wallet');\n\t\treturn 'popup-wallet';\n\t} else if (pathname.includes('dapp/popups') || href.includes('dapp/popups')) {\n\t\tsetContextTypeStore('popup-dapp');\n\t\treturn 'popup-dapp';\n\t} else if (pathname.includes('options') || href.includes('options')) {\n\t\tsetContextTypeStore('options');\n\t\treturn 'options';\n\t} else {\n\t\tconsole.warn(\n\t\t\t`[Context Detection] Unknown context type for pathname: ${pathname}, href: ${href}`\n\t\t);\n\t\tsetContextTypeStore('popup-wallet'); // Default to popup-wallet for main extension\n\t\treturn 'popup-wallet';\n\t}\n}\n\nexport async function init() {\n\tif (!isClient) return; // Skip initialization on server\n\n\ttry {\n\t\t// Use window state to prevent multiple initializations across contexts\n\t\tif (window.EXTENSION_INIT_STATE && window.EXTENSION_INIT_STATE.initialized) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait getSettings();\n\t\t} catch (error) {\n\t\t\tconsole.info(`[${CONTEXT_ID}] Failed to get settings in hooks - passing on:`, error);\n\t\t}\n\n\t\t// First get the browser API\n\t\tconst browserApi = getBrowserExt();\n\n\t\t// Register UI context with global listener manager if not already done\n\t\tif (!globalListenerManager.hasContext('ui')) {\n\t\t\tglobalListenerManager.registerContext('ui', uiListenerManager);\n\t\t}\n\n\t\t// Initialize stores first (these need to be ready before any UI rendering)\n\t\tawait syncStorageToStore();\n\t\tawait loadTokens();\n\n\t\t// Get context type for this initialization\n\t\tconst contextType = getContextType();\n\n\t\t// Set up UI listeners through the manager\n\t\tawait setupUIListeners();\n\n\t\t// Mark as initialized\n\t\twindow.EXTENSION_INIT_STATE.initialized = true;\n\t} catch (error: any) {\n\t\tconsole.warn(`[${CONTEXT_ID}] Initialization error:`, error);\n\t\thandleError(error);\n\t}\n}\n\nexport function handleError(error: Error) {\n\tconsole.warn(`[${CONTEXT_ID}] Error:`, error);\n\terrorHandler.handleError(error);\n}\n\nasync function setupUIListeners() {\n\tif (!isClient) return; // Skip on server\n\n\ttry {\n\t\t// Clean up any existing listeners first\n\t\tremoveUIListeners();\n\t\t// Add UI listeners through the manager\n\t\taddUIListeners();\n\t\t// Set up cleanup for page unload\n\t\tconst cleanup = () => {\n\t\t\ttry {\n\t\t\t\t// Stop activity tracking if it was started\n\t\t\t\t// if (window.EXTENSION_INIT_STATE.activityTrackingStarted) {\n\t\t\t\t//   stopActivityTracking();\n\t\t\t\t// }\n\n\t\t\t\tremoveUIListeners();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.warn(`[${CONTEXT_ID}] Cleanup error:`, error);\n\t\t\t}\n\t\t};\n\n\t\t// Add unload handler\n\t\ttry {\n\t\t\t// @ts-ignore\n\t\t\tif (!window.fencedFrameConfig) {\n\t\t\t\twindow.removeEventListener('beforeunload', cleanup);\n\t\t\t\twindow.addEventListener('beforeunload', cleanup);\n\t\t\t}\n\t\t} catch (e: any) {\n\t\t\tif (e.message.includes('fenced frames')) {\n\t\t\t\tconsole.warn('Skipping unload in fenced frame context');\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tconsole.warn(`[${CONTEXT_ID}] Failed to add unload handler:`, e);\n\t\t\t}\n\t\t}\n\n\t\treturn cleanup;\n\t} catch (error) {\n\t\tconsole.warn(`[${CONTEXT_ID}] Setup UI listeners error:`, error);\n\t}\n}\n\n// Run init early, but only in browser context\nif (isClient) {\n\t// Give a slight delay to ensure all globals are available\n\tsetTimeout(() => {\n\t\tinit().catch((err) => {\n\t\t\tconsole.warn(`[${CONTEXT_ID}] Failed to initialize:`, err);\n\t\t});\n\t}, 50);\n}\n\n// Register with background script if we're in a UI context\nif (isClient && getBrowserExt()) {\n\ttry {\n\t\tconst contextType = getContextType();\n\t\tconst browserExt = getBrowserExt();\n\n\t\tbrowserExt?.runtime\n\t\t\t.sendMessage({\n\t\t\t\ttype: 'ui_context_initialized',\n\t\t\t\tcontextId: CONTEXT_ID,\n\t\t\t\tcontextType: contextType,\n\t\t\t\ttimestamp: Date.now()\n\t\t\t})\n\t\t\t.catch((err) => console.warn(`[${CONTEXT_ID}] Failed to register context:`, err));\n\n\t\t// Only set up idle status listener for protected contexts\n\t\tif (contextNeedsIdleProtection(contextType)) {\n\t\t\t// Set up idle status listener\n\t\t\tbrowserExt?.runtime.onMessage.addListener(\n\t\t\t\t(message: any, _sender: any, _sendResponse: any) => {\n\t\t\t\t\tif (message.type === 'IDLE_STATUS_CHANGED') {\n\t\t\t\t\t\t// Check if message is targeted to this context type\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tmessage.targetContextTypes &&\n\t\t\t\t\t\t\tArray.isArray(message.targetContextTypes) &&\n\t\t\t\t\t\t\t!message.targetContextTypes.includes(contextType)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Dispatch event for UI components\n\t\t\t\t\t\twindow.dispatchEvent(\n\t\t\t\t\t\t\tnew CustomEvent('yakklIdleStateChanged', {\n\t\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\t\tstate: message.state,\n\t\t\t\t\t\t\t\t\ttimestamp: message.timestamp\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn undefined; // Allow other listeners to process this message\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\twindow.addEventListener('beforeunload', () => {\n\t\t\tbrowserExt?.runtime\n\t\t\t\t.sendMessage({\n\t\t\t\t\ttype: 'ui_context_closing',\n\t\t\t\t\tcontextId: CONTEXT_ID\n\t\t\t\t})\n\t\t\t\t.catch((err) => console.warn('Failed to send context closing message', err));\n\t\t});\n\t} catch (err) {\n\t\tconsole.warn(`[${CONTEXT_ID}] Error registering context:`, err);\n\t}\n}\n\n// Export for external use if needed\nexport { getBrowserExt };\n","export const matchers = {};","<!-- This file is generated by @sveltejs/kit — do not edit it! -->\n<svelte:options runes={true} />\n<script>\n\timport { setContext, onMount, tick } from 'svelte';\n\timport { browser } from '$app/environment';\n\n\t// stores\n\tlet { stores, page, constructors, components = [], form, data_0 = null, data_1 = null, data_2 = null, data_3 = null } = $props();\n\n\tif (!browser) {\n\t\tsetContext('__svelte__', stores);\n\t}\n\n\tif (browser) {\n\t\t$effect.pre(() => stores.page.set(page));\n\t} else {\n\t\tstores.page.set(page);\n\t}\n\t$effect(() => {\n\t\tstores;page;constructors;components;form;data_0;data_1;data_2;data_3;\n\t\tstores.page.notify();\n\t});\n\n\tlet mounted = $state(false);\n\tlet navigated = $state(false);\n\tlet title = $state(null);\n\n\tonMount(() => {\n\t\tconst unsubscribe = stores.page.subscribe(() => {\n\t\t\tif (mounted) {\n\t\t\t\tnavigated = true;\n\t\t\t\ttick().then(() => {\n\t\t\t\t\ttitle = document.title || 'untitled page';\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tmounted = true;\n\t\treturn unsubscribe;\n\t});\n\n\tconst Pyramid_3=$derived(constructors[3])\n</script>\n\n{#if constructors[1]}\n\t{@const Pyramid_0 = constructors[0]}\n\t\t\t\t\t\t\t<!-- svelte-ignore binding_property_non_reactive -->\n\t\t\t\t\t\t\t<Pyramid_0 bind:this={components[0]} data={data_0} {form}>\n\t\t\t\t\t\t\t\t{#if constructors[2]}\n\t\t\t\t\t\t\t\t\t{@const Pyramid_1 = constructors[1]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- svelte-ignore binding_property_non_reactive -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pyramid_1 bind:this={components[1]} data={data_1} {form}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{#if constructors[3]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{@const Pyramid_2 = constructors[2]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- svelte-ignore binding_property_non_reactive -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pyramid_2 bind:this={components[2]} data={data_2} {form}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- svelte-ignore binding_property_non_reactive -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pyramid_3 bind:this={components[3]} data={data_3} {form} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Pyramid_2>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{@const Pyramid_2 = constructors[2]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<!-- svelte-ignore binding_property_non_reactive -->\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pyramid_2 bind:this={components[2]} data={data_2} {form} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Pyramid_1>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{@const Pyramid_1 = constructors[1]}\n\t\t\t\t\t\t\t\t\t<!-- svelte-ignore binding_property_non_reactive -->\n\t\t\t\t\t\t\t\t\t<Pyramid_1 bind:this={components[1]} data={data_1} {form} />\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</Pyramid_0>\n\t\n{:else}\n\t{@const Pyramid_0 = constructors[0]}\n\t<!-- svelte-ignore binding_property_non_reactive -->\n\t<Pyramid_0 bind:this={components[0]} data={data_0} {form} />\n\t\n{/if}\n\n{#if mounted}\n\t<div id=\"svelte-announcer\" aria-live=\"assertive\" aria-atomic=\"true\" style=\"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px\">\n\t\t{#if navigated}\n\t\t\t{title}\n\t\t{/if}\n\t</div>\n{/if}","import { asClassComponent } from 'svelte/legacy';\nimport Root from './root.svelte';\nexport default asClassComponent(Root);","import * as client_hooks from '../../../src/hooks.client.ts';\n\n\nexport { matchers } from './matchers.js';\n\nexport const nodes = [\n\t() => import('./nodes/0'),\n\t() => import('./nodes/1'),\n\t() => import('./nodes/2'),\n\t() => import('./nodes/3'),\n\t() => import('./nodes/4'),\n\t() => import('./nodes/5'),\n\t() => import('./nodes/6'),\n\t() => import('./nodes/7'),\n\t() => import('./nodes/8'),\n\t() => import('./nodes/9'),\n\t() => import('./nodes/10'),\n\t() => import('./nodes/11'),\n\t() => import('./nodes/12'),\n\t() => import('./nodes/13'),\n\t() => import('./nodes/14'),\n\t() => import('./nodes/15'),\n\t() => import('./nodes/16'),\n\t() => import('./nodes/17'),\n\t() => import('./nodes/18'),\n\t() => import('./nodes/19'),\n\t() => import('./nodes/20'),\n\t() => import('./nodes/21'),\n\t() => import('./nodes/22'),\n\t() => import('./nodes/23'),\n\t() => import('./nodes/24'),\n\t() => import('./nodes/25'),\n\t() => import('./nodes/26'),\n\t() => import('./nodes/27'),\n\t() => import('./nodes/28'),\n\t() => import('./nodes/29'),\n\t() => import('./nodes/30'),\n\t() => import('./nodes/31'),\n\t() => import('./nodes/32'),\n\t() => import('./nodes/33'),\n\t() => import('./nodes/34'),\n\t() => import('./nodes/35'),\n\t() => import('./nodes/36'),\n\t() => import('./nodes/37'),\n\t() => import('./nodes/38'),\n\t() => import('./nodes/39'),\n\t() => import('./nodes/40'),\n\t() => import('./nodes/41'),\n\t() => import('./nodes/42'),\n\t() => import('./nodes/43'),\n\t() => import('./nodes/44'),\n\t() => import('./nodes/45'),\n\t() => import('./nodes/46'),\n\t() => import('./nodes/47'),\n\t() => import('./nodes/48'),\n\t() => import('./nodes/49'),\n\t() => import('./nodes/50'),\n\t() => import('./nodes/51'),\n\t() => import('./nodes/52'),\n\t() => import('./nodes/53'),\n\t() => import('./nodes/54'),\n\t() => import('./nodes/55'),\n\t() => import('./nodes/56'),\n\t() => import('./nodes/57'),\n\t() => import('./nodes/58'),\n\t() => import('./nodes/59'),\n\t() => import('./nodes/60'),\n\t() => import('./nodes/61'),\n\t() => import('./nodes/62'),\n\t() => import('./nodes/63'),\n\t() => import('./nodes/64'),\n\t() => import('./nodes/65'),\n\t() => import('./nodes/66'),\n\t() => import('./nodes/67'),\n\t() => import('./nodes/68'),\n\t() => import('./nodes/69'),\n\t() => import('./nodes/70'),\n\t() => import('./nodes/71'),\n\t() => import('./nodes/72'),\n\t() => import('./nodes/73'),\n\t() => import('./nodes/74'),\n\t() => import('./nodes/75'),\n\t() => import('./nodes/76'),\n\t() => import('./nodes/77'),\n\t() => import('./nodes/78'),\n\t() => import('./nodes/79'),\n\t() => import('./nodes/80'),\n\t() => import('./nodes/81'),\n\t() => import('./nodes/82'),\n\t() => import('./nodes/83')\n];\n\nexport const server_loads = [];\n\nexport const dictionary = {\n\t\t\"/(wallet)\": [31,[6]],\n\t\t\"/(wallet)/accounts\": [32,[6]],\n\t\t\"/(wallet)/accounts/ethereum\": [33,[6]],\n\t\t\"/(wallet)/accounts/ethereum/create/derived\": [34,[7]],\n\t\t\"/(wallet)/accounts/ethereum/create/primary\": [35,[7]],\n\t\t\"/(wallet)/accounts/ethereum/transactions/buy\": [36,[6]],\n\t\t\"/(wallet)/accounts/ethereum/transactions/send\": [37,[6]],\n\t\t\"/(wallet)/accounts/ethereum/transactions/stake\": [38,[6]],\n\t\t\"/(wallet)/contacts\": [39,[6]],\n\t\t\"/(wallet)/crypto\": [40,[6]],\n\t\t\"/(wallet)/cta\": [41,[6]],\n\t\t\"/(dapp)/dapp/EIP6963\": [17,[2]],\n\t\t\"/(dapp)/dapp/login\": [18,[2]],\n\t\t\"/(dapp)/dapp/popups/accounts\": [19,[2]],\n\t\t\"/(dapp)/dapp/popups/approve\": [20,[2]],\n\t\t\"/(dapp)/dapp/popups/permissions\": [21,[2]],\n\t\t\"/(dapp)/dapp/popups/sign\": [22,[2]],\n\t\t\"/(dapp)/dapp/popups/transactions\": [23,[2]],\n\t\t\"/(dapp)/dapp/popups/wallet\": [24,[2]],\n\t\t\"/(dapp)/dapp/walletConnect\": [25,[2]],\n\t\t\"/(wallet)/import/import-phrase\": [42,[8]],\n\t\t\"/(wallet)/legal/Legal\": [43,[9]],\n\t\t\"/(wallet)/lock\": [44,[6]],\n\t\t\"/(wallet)/login/Login\": [45,[10]],\n\t\t\"/(wallet)/logout\": [46,[6]],\n\t\t\"/phishing\": [51],\n\t\t\"/(splash)/popup\": [27,[4]],\n\t\t\"/(splash)/popup/popup\": [28,[4,5]],\n\t\t\"/preview1\": [61,[14]],\n\t\t\"/preview1/emergency-kit\": [62,[14]],\n\t\t\"/preview1/history\": [63,[14]],\n\t\t\"/preview1/receive\": [64,[14]],\n\t\t\"/preview1/send\": [65,[14]],\n\t\t\"/preview1/settings\": [66,[14]],\n\t\t\"/preview1/swap\": [67,[14]],\n\t\t\"/preview1/watch-accounts\": [68,[14]],\n\t\t\"/preview2\": [69,[15]],\n\t\t\"/preview2/accounts\": [70,[15]],\n\t\t\"/preview2/ai-help\": [71,[15]],\n\t\t\"/preview2/contacts\": [72,[15]],\n\t\t\"/preview2/legal\": [73,[15]],\n\t\t\"/preview2/login\": [74,[16]],\n\t\t\"/preview2/mods\": [75,[15]],\n\t\t\"/preview2/preferences\": [76,[15]],\n\t\t\"/preview2/register\": [77,[15]],\n\t\t\"/preview2/send\": [78,[15]],\n\t\t\"/preview2/settings\": [79,[15]],\n\t\t\"/preview2/success\": [80,[15]],\n\t\t\"/preview2/swap\": [81,[15]],\n\t\t\"/preview2/tokens\": [82,[15]],\n\t\t\"/preview2/upgrade\": [83,[15]],\n\t\t\"/preview\": [52,[13]],\n\t\t\"/preview/accounts\": [53,[13]],\n\t\t\"/preview/ai-help\": [54,[13]],\n\t\t\"/preview/contacts\": [55,[13]],\n\t\t\"/preview/preferences\": [56,[13]],\n\t\t\"/preview/send\": [57,[13]],\n\t\t\"/preview/settings\": [58,[13]],\n\t\t\"/preview/swap\": [59,[13]],\n\t\t\"/preview/tokens\": [60,[13]],\n\t\t\"/(wallet)/register/Register\": [47,[11]],\n\t\t\"/(wallet)/security\": [48,[6]],\n\t\t\"/(sidepanel)/sidepanel/sidepanel\": [26,[3]],\n\t\t\"/(test)/test-registration-prompt\": [29],\n\t\t\"/(wallet)/tokens\": [49,[12]],\n\t\t\"/(upgrade)/upgrade\": [30],\n\t\t\"/(wallet)/welcome/welcome\": [50,[6]]\n\t};\n\nexport const hooks = {\n\thandleError: client_hooks.handleError || (({ error }) => { console.error(error) }),\n\tinit: client_hooks.init,\n\treroute: (() => {}),\n\ttransport: {}\n};\n\nexport const decoders = Object.fromEntries(Object.entries(hooks.transport).map(([k, v]) => [k, v.decode]));\n\nexport const hash = false;\n\nexport const decode = (type, value) => decoders[type](value);\n\nexport { default as root } from '../root.js';"],"file":"app/immutable/entry/app.BWuxDamq.js"}