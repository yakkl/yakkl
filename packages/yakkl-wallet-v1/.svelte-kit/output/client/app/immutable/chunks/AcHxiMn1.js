import{n as PlanType,a9 as getObjectFromLocalStorage,aa as STORAGE_YAKKL_SETTINGS,ab as dateString,ac as setObjectInLocalStorage,a8 as yakklSettingsStore,ad as STORAGE_YAKKL_CURRENTLY_SELECTED,Z as yakklCurrentlySelectedStore}from"./Cb2naUpm.js";import{l as log}from"./WDN37msH.js";async function setLocks(locked=true,planType=PlanType.BASIC_MEMBER){try{let dirty=false;const yakklSettings=await getObjectFromLocalStorage(STORAGE_YAKKL_SETTINGS);if(yakklSettings){dirty=false;if(locked){if(!yakklSettings.isLocked){yakklSettings.isLocked=true;yakklSettings.lastAccessDate=dateString();if(planType)yakklSettings.plan.type=planType;await setObjectInLocalStorage("settings",yakklSettings);dirty=true}}else{if(yakklSettings.isLocked){yakklSettings.isLocked=false;yakklSettings.lastAccessDate=dateString();if(planType)yakklSettings.plan.type=planType;await setObjectInLocalStorage("settings",yakklSettings);dirty=true}}if(dirty)yakklSettingsStore.set(yakklSettings)}const yakklCurrentlySelected=await getObjectFromLocalStorage(STORAGE_YAKKL_CURRENTLY_SELECTED);if(yakklCurrentlySelected){dirty=false;if(locked){if(!yakklCurrentlySelected.shortcuts.isLocked){yakklCurrentlySelected.shortcuts.isLocked=true;await setObjectInLocalStorage(STORAGE_YAKKL_CURRENTLY_SELECTED,yakklCurrentlySelected);dirty=true}}else{if(yakklCurrentlySelected.shortcuts.isLocked){yakklCurrentlySelected.shortcuts.isLocked=false;await setObjectInLocalStorage(STORAGE_YAKKL_CURRENTLY_SELECTED,yakklCurrentlySelected);dirty=true}}if(dirty)yakklCurrentlySelectedStore.set(yakklCurrentlySelected)}}catch(error){log.error("Error setting locks:",false,error)}}export{setLocks};
//# sourceMappingURL=AcHxiMn1.js.map
