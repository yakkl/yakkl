import{M as hydrating,q as get_first_child,E as clear_text_content,a8 as queue_micro_task,aT as set_active_reaction,aS as set_active_effect,bb as active_reaction,O as active_effect,at as teardown,F as FILENAME,bc as event_handler_invalid,au as define_property,aK as is_array}from"./BaS8d5lg.js";function autofocus(dom,value){if(value){const body=document.body;dom.autofocus=true;queue_micro_task(()=>{if(document.activeElement===body){dom.focus()}})}}function remove_textarea_child(dom){if(hydrating&&get_first_child(dom)!==null){clear_text_content(dom)}}let listening_to_form_reset=false;function add_form_reset_listener(){if(!listening_to_form_reset){listening_to_form_reset=true;document.addEventListener("reset",evt=>{Promise.resolve().then(()=>{var _a;if(!evt.defaultPrevented){for(const e of evt.target.elements){(_a=e.__on_r)==null?void 0:_a.call(e)}}})},{capture:true})}}function without_reactive_context(fn){var previous_reaction=active_reaction;var previous_effect=active_effect;set_active_reaction(null);set_active_effect(null);try{return fn()}finally{set_active_reaction(previous_reaction);set_active_effect(previous_effect)}}function listen_to_event_and_reset_event(element,event2,handler,on_reset=handler){element.addEventListener(event2,()=>without_reactive_context(handler));const prev=element.__on_r;if(prev){element.__on_r=()=>{prev();on_reset(true)}}else{element.__on_r=()=>on_reset(true)}add_form_reset_listener()}const all_registered_events=new Set;const root_event_handles=new Set;function replay_events(dom){if(!hydrating)return;dom.removeAttribute("onload");dom.removeAttribute("onerror");const event2=dom.__e;if(event2!==void 0){dom.__e=void 0;queueMicrotask(()=>{if(dom.isConnected){dom.dispatchEvent(event2)}})}}function create_event(event_name,dom,handler,options={}){function target_handler(event2){if(!options.capture){handle_event_propagation.call(dom,event2)}if(!event2.cancelBubble){return without_reactive_context(()=>handler==null?void 0:handler.call(this,event2))}}if(event_name.startsWith("pointer")||event_name.startsWith("touch")||event_name==="wheel"){queue_micro_task(()=>{dom.addEventListener(event_name,target_handler,options)})}else{dom.addEventListener(event_name,target_handler,options)}return target_handler}function event(event_name,dom,handler,capture,passive){var options={capture:capture,passive:passive};var target_handler=create_event(event_name,dom,handler,options);if(dom===document.body||dom===window||dom===document||dom instanceof HTMLMediaElement){teardown(()=>{dom.removeEventListener(event_name,target_handler,options)})}}function delegate(events){for(var i=0;i<events.length;i++){all_registered_events.add(events[i])}for(var fn of root_event_handles){fn(events)}}function handle_event_propagation(event2){var _a;var handler_element=this;var owner_document=handler_element.ownerDocument;var event_name=event2.type;var path=((_a=event2.composedPath)==null?void 0:_a.call(event2))||[];var current_target=path[0]||event2.target;var path_idx=0;var handled_at=event2.__root;if(handled_at){var at_idx=path.indexOf(handled_at);if(at_idx!==-1&&(handler_element===document||handler_element===window)){event2.__root=handler_element;return}var handler_idx=path.indexOf(handler_element);if(handler_idx===-1){return}if(at_idx<=handler_idx){path_idx=at_idx}}current_target=path[path_idx]||event2.target;if(current_target===handler_element)return;define_property(event2,"currentTarget",{configurable:true,get(){return current_target||owner_document}});var previous_reaction=active_reaction;var previous_effect=active_effect;set_active_reaction(null);set_active_effect(null);try{var throw_error;var other_errors=[];while(current_target!==null){var parent_element=current_target.assignedSlot||current_target.parentNode||current_target.host||null;try{var delegated=current_target["__"+event_name];if(delegated!=null&&(!current_target.disabled||event2.target===current_target)){if(is_array(delegated)){var[fn,...data]=delegated;fn.apply(current_target,[event2,...data])}else{delegated.call(current_target,event2)}}}catch(error){if(throw_error){other_errors.push(error)}else{throw_error=error}}if(event2.cancelBubble||parent_element===handler_element||parent_element===null){break}current_target=parent_element}if(throw_error){for(let error of other_errors){queueMicrotask(()=>{throw error})}throw throw_error}}finally{event2.__root=handler_element;delete event2.currentTarget;set_active_reaction(previous_reaction);set_active_effect(previous_effect)}}function apply(thunk,element,args,component,loc,has_side_effects=false,remove_parens=false){var _a,_b;let handler;let error;try{handler=thunk()}catch(e){error=e}if(typeof handler!=="function"&&(has_side_effects||handler!=null||error)){const filename=component==null?void 0:component[FILENAME];const location=loc?` at ${filename}:${loc[0]}:${loc[1]}`:` in ${filename}`;const phase=((_a=args[0])==null?void 0:_a.eventPhase)<Event.BUBBLING_PHASE?"capture":"";const event_name=((_b=args[0])==null?void 0:_b.type)+phase;const description=`\`${event_name}\` handler${location}`;const suggestion=remove_parens?"remove the trailing `()`":"add a leading `() =>`";event_handler_invalid(description,suggestion);if(error){throw error}}handler==null?void 0:handler.apply(element,args)}export{all_registered_events as a,apply as b,remove_textarea_child as c,delegate as d,event as e,create_event as f,autofocus as g,handle_event_propagation as h,add_form_reset_listener as i,replay_events as j,listen_to_event_and_reset_event as l,root_event_handles as r,without_reactive_context as w};
//# sourceMappingURL=DiU70Is3.js.map
