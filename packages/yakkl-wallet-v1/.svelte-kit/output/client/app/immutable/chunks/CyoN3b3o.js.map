{"version":3,"file":"CyoN3b3o.js","sources":["../../../../../../../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/internal/client/dom/blocks/svelte-element.js"],"sourcesContent":["/** @import { Effect, TemplateNode } from '#client' */\nimport { FILENAME, NAMESPACE_SVG } from '../../../../constants.js';\nimport {\n\thydrate_next,\n\thydrate_node,\n\thydrating,\n\tset_hydrate_node,\n\tset_hydrating\n} from '../hydration.js';\nimport { create_text, get_first_child } from '../operations.js';\nimport {\n\tblock,\n\tbranch,\n\tdestroy_effect,\n\tpause_effect,\n\tresume_effect\n} from '../../reactivity/effects.js';\nimport { set_should_intro } from '../../render.js';\nimport { current_each_item, set_current_each_item } from './each.js';\nimport { active_effect } from '../../runtime.js';\nimport { component_context } from '../../context.js';\nimport { DEV } from 'esm-env';\nimport { EFFECT_TRANSPARENT } from '#client/constants';\nimport { assign_nodes } from '../template.js';\nimport { is_raw_text_element } from '../../../../utils.js';\n\n/**\n * @param {Comment | Element} node\n * @param {() => string} get_tag\n * @param {boolean} is_svg\n * @param {undefined | ((element: Element, anchor: Node | null) => void)} render_fn,\n * @param {undefined | (() => string)} get_namespace\n * @param {undefined | [number, number]} location\n * @returns {void}\n */\nexport function element(node, get_tag, is_svg, render_fn, get_namespace, location) {\n\tlet was_hydrating = hydrating;\n\n\tif (hydrating) {\n\t\thydrate_next();\n\t}\n\n\tvar filename = DEV && location && component_context?.function[FILENAME];\n\n\t/** @type {string | null} */\n\tvar tag;\n\n\t/** @type {string | null} */\n\tvar current_tag;\n\n\t/** @type {null | Element} */\n\tvar element = null;\n\n\tif (hydrating && hydrate_node.nodeType === 1) {\n\t\telement = /** @type {Element} */ (hydrate_node);\n\t\thydrate_next();\n\t}\n\n\tvar anchor = /** @type {TemplateNode} */ (hydrating ? hydrate_node : node);\n\n\t/** @type {Effect | null} */\n\tvar effect;\n\n\t/**\n\t * The keyed `{#each ...}` item block, if any, that this element is inside.\n\t * We track this so we can set it when changing the element, allowing any\n\t * `animate:` directive to bind itself to the correct block\n\t */\n\tvar each_item_block = current_each_item;\n\n\tblock(() => {\n\t\tconst next_tag = get_tag() || null;\n\t\tvar ns = get_namespace ? get_namespace() : is_svg || next_tag === 'svg' ? NAMESPACE_SVG : null;\n\n\t\t// Assumption: Noone changes the namespace but not the tag (what would that even mean?)\n\t\tif (next_tag === tag) return;\n\n\t\t// See explanation of `each_item_block` above\n\t\tvar previous_each_item = current_each_item;\n\t\tset_current_each_item(each_item_block);\n\n\t\tif (effect) {\n\t\t\tif (next_tag === null) {\n\t\t\t\t// start outro\n\t\t\t\tpause_effect(effect, () => {\n\t\t\t\t\teffect = null;\n\t\t\t\t\tcurrent_tag = null;\n\t\t\t\t});\n\t\t\t} else if (next_tag === current_tag) {\n\t\t\t\t// same tag as is currently rendered — abort outro\n\t\t\t\tresume_effect(effect);\n\t\t\t} else {\n\t\t\t\t// tag is changing — destroy immediately, render contents without intro transitions\n\t\t\t\tdestroy_effect(effect);\n\t\t\t\tset_should_intro(false);\n\t\t\t}\n\t\t}\n\n\t\tif (next_tag && next_tag !== current_tag) {\n\t\t\teffect = branch(() => {\n\t\t\t\telement = hydrating\n\t\t\t\t\t? /** @type {Element} */ (element)\n\t\t\t\t\t: ns\n\t\t\t\t\t\t? document.createElementNS(ns, next_tag)\n\t\t\t\t\t\t: document.createElement(next_tag);\n\n\t\t\t\tif (DEV && location) {\n\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\telement.__svelte_meta = {\n\t\t\t\t\t\tloc: {\n\t\t\t\t\t\t\tfile: filename,\n\t\t\t\t\t\t\tline: location[0],\n\t\t\t\t\t\t\tcolumn: location[1]\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tassign_nodes(element, element);\n\n\t\t\t\tif (render_fn) {\n\t\t\t\t\tif (hydrating && is_raw_text_element(next_tag)) {\n\t\t\t\t\t\t// prevent hydration glitches\n\t\t\t\t\t\telement.append(document.createComment(''));\n\t\t\t\t\t}\n\n\t\t\t\t\t// If hydrating, use the existing ssr comment as the anchor so that the\n\t\t\t\t\t// inner open and close methods can pick up the existing nodes correctly\n\t\t\t\t\tvar child_anchor = /** @type {TemplateNode} */ (\n\t\t\t\t\t\thydrating ? get_first_child(element) : element.appendChild(create_text())\n\t\t\t\t\t);\n\n\t\t\t\t\tif (hydrating) {\n\t\t\t\t\t\tif (child_anchor === null) {\n\t\t\t\t\t\t\tset_hydrating(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tset_hydrate_node(child_anchor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// `child_anchor` is undefined if this is a void element, but we still\n\t\t\t\t\t// need to call `render_fn` in order to run actions etc. If the element\n\t\t\t\t\t// contains children, it's a user error (which is warned on elsewhere)\n\t\t\t\t\t// and the DOM will be silently discarded\n\t\t\t\t\trender_fn(element, child_anchor);\n\t\t\t\t}\n\n\t\t\t\t// we do this after calling `render_fn` so that child effects don't override `nodes.end`\n\t\t\t\t/** @type {Effect} */ (active_effect).nodes_end = element;\n\n\t\t\t\tanchor.before(element);\n\t\t\t});\n\t\t}\n\n\t\ttag = next_tag;\n\t\tif (tag) current_tag = tag;\n\t\tset_should_intro(true);\n\n\t\tset_current_each_item(previous_each_item);\n\t}, EFFECT_TRANSPARENT);\n\n\tif (was_hydrating) {\n\t\tset_hydrating(true);\n\t\tset_hydrate_node(anchor);\n\t}\n}\n"],"names":["element","node","get_tag","is_svg","render_fn","get_namespace","location","was_hydrating","hydrating","hydrate_next","filename","_a","component_context","function","FILENAME","tag","current_tag","hydrate_node","nodeType","anchor","effect","block","next_tag","ns","NAMESPACE_SVG","pause_effect","resume_effect","destroy_effect","set_should_intro","branch","document","createElementNS","createElement","__svelte_meta","loc","file","line","column","assign_nodes","is_raw_text_element","append","createComment","child_anchor","get_first_child","appendChild","create_text","set_hydrating","set_hydrate_node","active_effect","nodes_end","before","EFFECT_TRANSPARENT"],"mappings":"oeAmCO,SAASA,QAAQC,KAAMC,QAASC,OAAQC,UAAWC,cAAeC,iBACxE,IAAIC,cAAgBC,UAEpB,GAAIA,UAAW,CACAC,cAChB,CAEK,IAAAC,SAAkBJ,YAAYK,GAAAC,oBAAA,UAAA,EAAAD,GAAmBE,SAASC,WAG1D,IAAAC,IAGA,IAAAC,YAGJ,IAAIhB,SAAU,KAEV,GAAAQ,WAAaS,aAAaC,WAAa,EAAG,CAC7ClB,SAAkCiB,aACpBR,cAChB,CAEK,IAAAU,OAAsCX,UAAYS,aAAehB,KAGjE,IAAAmB,OASJC,MAAM,KACC,MAAAC,SAAWpB,WAAa,KAC9B,IAAIqB,GAAuCpB,QAAUmB,WAAa,MAAQE,cAAgB,KAG1F,GAAIF,WAAaP,IAAK,OAMtB,GAAIK,OAAQ,CACX,GAAIE,WAAa,KAAM,CAEtBG,aAAaL,OAAQ,KACXA,OAAA,KACKJ,YAAA,MAEnB,MAAA,GAAcM,WAAaN,YAAa,CAEpCU,cAAcN,OAClB,KAAU,CAENO,eAAeP,QACfQ,iBAAiB,MACrB,CACA,CAEM,GAAAN,UAAYA,WAAaN,YAAa,CACzCI,OAASS,OAAO,KACf7B,SAAUQ,UAAA,SAEPe,GACCO,SAASC,gBAAgBR,GAAID,UAC7BQ,SAASE,cAAcV,UAE3B,GAAWhB,SAAU,CAEpBN,SAAQiC,cAAgB,CACvBC,IAAK,CACJC,KAAMzB,SACN0B,KAAM9B,SAAS,GACf+B,OAAQ/B,SAAS,IAGxB,CAEIgC,aAAatC,SAASA,UAEtB,GAAII,UAAW,CACV,GAAAI,WAAa+B,oBAAoBjB,UAAW,CAE/CtB,SAAQwC,OAAOV,SAASW,cAAc,IAC5C,CAIS,IAAAC,aACHlC,UAAYmC,gBAAgB3C,UAAWA,SAAQ4C,YAAYC,eAG5D,GAAIrC,UAAW,CACd,GAAIkC,eAAiB,KAAM,CAC1BI,cAAc,MACrB,KAAa,CACNC,iBAAiBL,aACxB,CACA,CAMKtC,UAAUJ,SAAS0C,aACxB,CAG2BM,cAAeC,UAAYjD,SAElDmB,OAAO+B,OAAOlD,WAElB,CAEQe,IAAAO,SACN,GAAIP,IAAmBC,YAAAD,IACvBa,iBAAiB,OAGfuB,oBAEH,GAAI5C,cAAe,CAClBuC,cAAc,MACdC,iBAAiB5B,OACnB,CACA","x_google_ignoreList":[0]}