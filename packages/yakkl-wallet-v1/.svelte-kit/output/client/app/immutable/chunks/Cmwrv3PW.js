import{l as init_operations,q as get_first_child,H as HYDRATION_START,v as get_next_sibling,w as HYDRATION_ERROR,x as set_hydrating,y as set_hydrate_node,z as hydrate_next,A as hydrate_node,B as HYDRATION_END,C as hydration_mismatch,D as hydration_failed,E as clear_text_content,G as lifecycle_double_unmount,I as array_from,J as component_root,K as create_text,L as branch,M as hydrating,p as push,N as component_context,O as active_effect,a as pop}from"./BaS8d5lg.js";import{a as all_registered_events,r as root_event_handles,h as handle_event_propagation}from"./DiU70Is3.js";import{r as reset_head_anchor}from"./twIkBoiu.js";import{b as assign_nodes}from"./Cm3jf07C.js";import{i as is_passive_event}from"./BgcCkDX2.js";let should_intro=true;function set_should_intro(value){should_intro=value}function set_text(text,value){var str=value==null?"":typeof value==="object"?value+"":value;if(str!==(text.__t??(text.__t=text.nodeValue))){text.__t=str;text.nodeValue=str+""}}function mount(component,options){return _mount(component,options)}function hydrate(component,options){init_operations();options.intro=options.intro??false;const target=options.target;const was_hydrating=hydrating;const previous_hydrate_node=hydrate_node;try{var anchor=get_first_child(target);while(anchor&&(anchor.nodeType!==8||anchor.data!==HYDRATION_START)){anchor=get_next_sibling(anchor)}if(!anchor){throw HYDRATION_ERROR}set_hydrating(true);set_hydrate_node(anchor);hydrate_next();const instance=_mount(component,{...options,anchor:anchor});if(hydrate_node===null||hydrate_node.nodeType!==8||hydrate_node.data!==HYDRATION_END){hydration_mismatch();throw HYDRATION_ERROR}set_hydrating(false);return instance}catch(error){if(error===HYDRATION_ERROR){if(options.recover===false){hydration_failed()}init_operations();clear_text_content(target);set_hydrating(false);return mount(component,options)}throw error}finally{set_hydrating(was_hydrating);set_hydrate_node(previous_hydrate_node);reset_head_anchor()}}const document_listeners=new Map;function _mount(Component,{target:target,anchor:anchor,props:props={},events:events,context:context,intro:intro=true}){init_operations();var registered_events=new Set;var event_handle=events2=>{for(var i=0;i<events2.length;i++){var event_name=events2[i];if(registered_events.has(event_name))continue;registered_events.add(event_name);var passive=is_passive_event(event_name);target.addEventListener(event_name,handle_event_propagation,{passive:passive});var n=document_listeners.get(event_name);if(n===void 0){document.addEventListener(event_name,handle_event_propagation,{passive:passive});document_listeners.set(event_name,1)}else{document_listeners.set(event_name,n+1)}}};event_handle(array_from(all_registered_events));root_event_handles.add(event_handle);var component=void 0;var unmount2=component_root(()=>{var anchor_node=anchor??target.appendChild(create_text());branch(()=>{if(context){push({});var ctx=component_context;ctx.c=context}if(events){props.$$events=events}if(hydrating){assign_nodes(anchor_node,null)}should_intro=intro;component=Component(anchor_node,props)||{};should_intro=true;if(hydrating){active_effect.nodes_end=hydrate_node}if(context){pop()}});return()=>{var _a;for(var event_name of registered_events){target.removeEventListener(event_name,handle_event_propagation);var n=document_listeners.get(event_name);if(--n===0){document.removeEventListener(event_name,handle_event_propagation);document_listeners.delete(event_name)}else{document_listeners.set(event_name,n)}}root_event_handles.delete(event_handle);if(anchor_node!==anchor){(_a=anchor_node.parentNode)==null?void 0:_a.removeChild(anchor_node)}}});mounted_components.set(component,unmount2);return component}let mounted_components=new WeakMap;function unmount(component,options){const fn=mounted_components.get(component);if(fn){mounted_components.delete(component);return fn(options)}{lifecycle_double_unmount()}return Promise.resolve()}export{set_should_intro as a,should_intro as b,hydrate as h,mount as m,set_text as s,unmount as u};
//# sourceMappingURL=Cmwrv3PW.js.map
