import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{p as push,h as tag,i as state,ae as proxy,o as onMount,f as first_child,c as child,s as sibling,t as template_effect,a as pop,e as set,g as get,F as FILENAME,b as strict_equals,$ as $document,r as reset,j as next}from"../chunks/BaS8d5lg.js";import{a as add_locations}from"../chunks/3AhEABF_.js";import{s as set_text}from"../chunks/Cmwrv3PW.js";import{a as await_block}from"../chunks/BB5C_DND.js";import{i as if_block}from"../chunks/Q1yPWpQ-.js";import{a as append,f as from_html,d as from_svg,t as text}from"../chunks/Cm3jf07C.js";import{w as wrap_snippet}from"../chunks/d5hrMixo.js";import{h as head}from"../chunks/twIkBoiu.js";import{s as set_attribute}from"../chunks/DTBsVM-c.js";import{s as set_class}from"../chunks/DX_EEhpR.js";import{d as delegate}from"../chunks/DiU70Is3.js";import{l as log_if_contains_state}from"../chunks/DZ17DrFv.js";import{b as browserSvelte}from"../chunks/CgCfpVku.js";import"../chunks/Doq7snb5.js";import{M as Modal,B as Button,S as Spinner}from"../chunks/trmx-wka.js";import{g as getSettings,C as getYakklCurrentlySelected,x as isEncryptedData,z as decryptData,au as DEFAULT_DERIVED_PATH_ETH,G as isProfileData,aA as isMetaData,aB as isString,aC as randomBytes,aD as Mnemonic,av as HDNodeWallet,ab as dateString,V as VERSION,aw as AccountTypeCategory,R as encryptData,p as getYakklPrimaryAccounts,o as getYakklAccounts,ay as NetworkType,aE as DEFAULT_PERSONA,az as setYakklAccountsStorage,ax as setYakklPrimaryAccountsStorage,u as setSettingsStorage,am as setProfileStorage,ak as setYakklCurrentlySelectedStorage,h as getMiscStore,n as PlanType,ae as PATH_WELCOME,an as DEFAULT_TITLE,aF as yakklRegisteredData,v as getProfile}from"../chunks/Cb2naUpm.js";import{l as log}from"../chunks/WDN37msH.js";import{g as goto}from"../chunks/CkqS9PXN.js";import{b as addressExist}from"../chunks/BgnL0Zd7.js";import"../chunks/z-nmOEXa.js";import{d as deepCopy,j as getSymbol}from"../chunks/CnIbzB-6.js";import"../chunks/Dw28gLPr.js";import"../chunks/D-aJ6pD4.js";import{E as EmergencyKitManager}from"../chunks/BGfGzDFG.js";import{s as sendNotificationMessage}from"../chunks/Bmr6hs4q.js";async function createPortfolioAccount(yakklMiscStore,profile){var _a,_b,_c,_d;try{if(!yakklMiscStore){throw"The User was not defined."}let yakklSettings=await getSettings();if(!yakklSettings){throw"The settings data has not been initialized. This could be due to not yet registered or data could be incomplete which requires registering again. If unable to re-register then uninstall and reinstall. No Ethereum data will be impacted."}let yakklCurrentlySelected=await getYakklCurrentlySelected();if(!yakklCurrentlySelected){throw"No currently selected account found."}if(isEncryptedData(yakklCurrentlySelected.data)){await decryptData(yakklCurrentlySelected.data,yakklMiscStore).then(result=>{yakklCurrentlySelected.data=result})}let currentlySelectedData=yakklCurrentlySelected.data;let derivedPath=DEFAULT_DERIVED_PATH_ETH;let chainId=yakklCurrentlySelected.shortcuts.chainId;if(!chainId){chainId=1}const preferences=profile.preferences;let accountName=null;if(isEncryptedData(profile.data)){await decryptData(profile.data,yakklMiscStore).then(result=>{profile.data=result})}if(isProfileData(profile.data)&&isMetaData(profile.data.meta)){const meta=profile.data.meta;if(isString(meta.accountName)){accountName=meta.accountName}}let index=0;if(isProfileData(profile.data)){index=profile.data.accountIndex??0}else{index=0}derivedPath=`${DEFAULT_DERIVED_PATH_ETH}${index}'/0/0`;if(accountName===null){accountName=`Portfolio Level Account ${index+1}`}const entropy=randomBytes(32);const randomMnemonic=Mnemonic.fromEntropy(entropy);const ethWallet=HDNodeWallet.fromMnemonic(randomMnemonic,derivedPath);const{exists:exists,table:table}=await addressExist(ethWallet.address);if(exists){throw`The Ethereum Wallet (Portfolio Account) was not able to be created. Address already exists in ${table}. Please try again.`}if(!ethWallet){throw"The Ethereum Wallet (Portfolio Account) was not able to be created. Please try again."}const currentDate=dateString();const address=ethWallet.address;profile.data.accountIndex=index+1;const accountData={extendedKey:ethWallet.extendedKey,privateKey:ethWallet.privateKey,publicKey:ethWallet.publicKey,publicKeyUncompressed:ethWallet.publicKey,path:derivedPath,pathIndex:index,fingerPrint:ethWallet.fingerprint,parentFingerPrint:ethWallet.parentFingerprint,chainCode:ethWallet.chainCode,assignedTo:[]};const yakklAccount={id:profile.id,index:index,blockchain:"Ethereum",smartContract:false,address:address,alias:"",accountType:AccountTypeCategory.PRIMARY,name:accountName,description:"",primaryAccount:null,data:accountData,quantity:0n,class:"Default",level:"L1",isSigner:true,avatar:"",tags:["Ethereum","primary"],includeInPortfolio:true,connectedDomains:[],version:VERSION,createDate:currentDate,updateDate:currentDate};const yakklPrimaryAccountData={privateKey:ethWallet.privateKey,publicKey:ethWallet.publicKey,path:derivedPath,pathIndex:index,fingerPrint:ethWallet.fingerprint,parentFingerPrint:ethWallet.parentFingerprint,chainCode:ethWallet.chainCode,extendedKey:ethWallet.extendedKey,mnemonic:(_a=ethWallet.mnemonic)==null?void 0:_a.phrase,entropy:entropy,password:(_b=ethWallet.mnemonic)==null?void 0:_b.password,publicKeyUncompressed:ethWallet.publicKey,wordCount:(_c=ethWallet.mnemonic)==null?void 0:_c.phrase.split(" ").length,wordListLocale:(_d=ethWallet.mnemonic)==null?void 0:_d.wordlist.locale};const yakklPrimaryAccount={id:yakklAccount.id,name:yakklAccount.name,address:yakklAccount.address,quantity:yakklAccount.quantity,index:index,data:yakklPrimaryAccountData,account:yakklAccount,subIndex:0,subAccounts:[],createDate:yakklAccount.createDate,updateDate:yakklAccount.updateDate,version:VERSION};let yakklPrimaryAccountEnc=deepCopy(yakklPrimaryAccount);if(!isEncryptedData(yakklPrimaryAccountEnc.data)){await encryptData(yakklPrimaryAccountEnc.data,yakklMiscStore).then(result=>{yakklPrimaryAccountEnc.data=result})}if(!isEncryptedData(yakklPrimaryAccountEnc.data)){throw new Error("Primary Account Data is not of type EncryptedData")}yakklPrimaryAccountEnc.account=yakklAccount;if(!isEncryptedData(yakklPrimaryAccountEnc.account.data)){await encryptData(yakklPrimaryAccountEnc.account.data,yakklMiscStore).then(result=>{yakklPrimaryAccountEnc.account.data=result});yakklAccount.data=yakklPrimaryAccountEnc.account.data}let yakklPrimaryAccounts=await getYakklPrimaryAccounts();if(!yakklPrimaryAccounts){yakklPrimaryAccounts=[]}yakklPrimaryAccounts.push(yakklPrimaryAccountEnc);if(isProfileData(profile.data)){if(!isEncryptedData(profile.data)){if(!profile.data.primaryAccounts){profile.data.primaryAccounts=[]}profile.data.primaryAccounts.push(yakklPrimaryAccountEnc)}else{throw new Error("Profile Data is of type EncryptedData and should be of type ProfileData")}}let yakklAccounts=await getYakklAccounts();if(!yakklAccounts){yakklAccounts=[]}yakklPrimaryAccountEnc.account.primaryAccount=null;yakklAccounts.push(yakklPrimaryAccountEnc.account);await ethWallet.signMessage(yakklMiscStore).then(result=>{if(isProfileData(profile.data)&&!isEncryptedData(profile.data)){profile.data.sig=result}else{}});const profileEnc=deepCopy(profile);if(!isEncryptedData(profileEnc.data)){await encryptData(profileEnc.data,yakklMiscStore).then(result=>{profileEnc.data=result})}yakklSettings.init=true;yakklSettings.isLocked=false;yakklCurrentlySelected.version=VERSION;yakklCurrentlySelected.preferences.locale=preferences.locale;yakklCurrentlySelected.preferences.currency=preferences.currency;yakklCurrentlySelected.shortcuts.init=true;yakklCurrentlySelected.shortcuts.isLocked=false;yakklCurrentlySelected.shortcuts.blockchain=yakklAccount.blockchain;yakklCurrentlySelected.shortcuts.symbol=getSymbol(yakklAccount.blockchain);yakklCurrentlySelected.shortcuts.chainId=chainId;yakklCurrentlySelected.shortcuts.network.blockchain=yakklAccount.blockchain;yakklCurrentlySelected.shortcuts.network.chainId=chainId;yakklCurrentlySelected.shortcuts.network.name="Mainnet";yakklCurrentlySelected.shortcuts.network.explorer="https://etherscan.io";yakklCurrentlySelected.shortcuts.network.type=NetworkType.MAINNET;yakklCurrentlySelected.shortcuts.network.decimals=18;yakklCurrentlySelected.shortcuts.network.symbol=getSymbol(yakklAccount.blockchain);yakklCurrentlySelected.shortcuts.profile.name=profile.data.name;yakklCurrentlySelected.shortcuts.profile.email=profile.data.email;yakklCurrentlySelected.shortcuts.primary=yakklPrimaryAccountEnc;yakklCurrentlySelected.shortcuts.address=yakklPrimaryAccountEnc.address;yakklCurrentlySelected.shortcuts.accountName=yakklPrimaryAccountEnc.account.name;yakklCurrentlySelected.shortcuts.accountType=AccountTypeCategory.PRIMARY;yakklCurrentlySelected.shortcuts.alias=yakklPrimaryAccountEnc.account.alias;yakklCurrentlySelected.shortcuts.smartContract=false;currentlySelectedData.primaryAccount=yakklPrimaryAccountEnc;currentlySelectedData.account=yakklPrimaryAccountEnc.account;yakklCurrentlySelected.id=profile.id;yakklCurrentlySelected.persona=(profile==null?void 0:profile.persona)||DEFAULT_PERSONA;yakklCurrentlySelected.createDate=yakklPrimaryAccountEnc.account.createDate;yakklCurrentlySelected.updateDate=yakklPrimaryAccountEnc.account.updateDate;yakklCurrentlySelected.data=currentlySelectedData;if(!isEncryptedData(yakklCurrentlySelected.data)){await encryptData(yakklCurrentlySelected.data,yakklMiscStore).then(result=>{yakklCurrentlySelected.data=result})}await setYakklAccountsStorage(yakklAccounts);await setYakklPrimaryAccountsStorage(yakklPrimaryAccounts);await setSettingsStorage(yakklSettings);await setProfileStorage(profileEnc);await setYakklCurrentlySelectedStorage(yakklCurrentlySelected);return Promise.resolve({currentlySelected:yakklCurrentlySelected,primaryAccount:yakklPrimaryAccountEnc})}catch(e){log.error("The Portfolio Account was not able to be created.",false,e);return Promise.reject(e)}}_page[FILENAME]="src/routes/(wallet)/accounts/ethereum/create/primary/+page.svelte";async function handlePrint(e,passwordWarning,printPassword,printKit){set(passwordWarning,false);set(printPassword,false);printKit()}var on_click=(__1,error)=>{set(error,false);goto(PATH_WELCOME)};var on_click_1=(__2,warning)=>{set(warning,false);goto(PATH_WELCOME)};var root_2=add_locations(from_html(`<div class="text-center"><svg aria-hidden="true" class="mx-auto mb-4 w-14 h-14 text-green-600 dark:text-gray-200 fill-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd"></path></svg> <h3 class="mb-2 text-lg font-normal text-green-700 dark:text-gray-400"><span class="font-bold">SUCCESS -</span> Wallet Created!</h3> <div class="text-left"><h3 class="mb-1 text-lg font-bold text-green-900">(ONLY available for Pro version)</h3> <h4 class="mb-1 text-lg font-normal text-green-700">Next steps:</h4> <p class="mb-5 text-md font-normal text-green-900"><span class="font-bold">1. Click the Print button (if you have a secure printer you can trust).</span> This printout will be your emergency kit. Store it somewhere safe! Do not let anyone see it\n\t\t\t\tbecause it contains sensitive information!</p> <p class="mb-5 text-md font-normal text-green-900"><span class="font-bold">2. Click the Download button.</span> This will download this same emergency\n\t\t\t\tkit in a file format but it will be fully encrypted using your credentials that you just created!\n\t\t\t\tIt's a good idea to store the encrypted file on an encrypted and secure USB drive (not a cold\n\t\t\t\twallet - that is something different). Put the secured file and/or encrypted USB drive somewhere\n\t\t\t\tsafe like your hardcopy emergency kit!</p> <p class="mb-5 text-md font-normal text-green-600"><span class="font-bold">3. Click the Close button.</span> This will close the credentials page\n\t\t\t\tand you're now ready to use YAKKL with confidence.</p></div> <div class="text-center"><p class="mb-5 text-md font-bold text-green-600">If you are new to the Crypto world then be sure to checkout 'Getting Started' at the Yakkl\n\t\t\t\tUniversity. You can find a link at the top of any page.</p> <p class="mb-5 text-md font-bold text-green-600">Super excited to have you onboard!</p> <p class="mb-5 text-md font-bold text-green-600">Let us know how we can help!</p></div> <!></div>`),_page[FILENAME],[[221,1,[[222,2,[[230,3]]],[237,2,[[238,3]]],[240,2,[[241,3],[242,3],[243,3,[[244,4]]],[249,3,[[250,4]]],[256,3,[[257,4]]]]],[261,2,[[262,3],[266,3],[267,3]]]]]]);var root_5=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"></path></svg> 1. Print`,1),_page[FILENAME],[[292,6,[[300,7]]]]);var root_6=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"></path></svg> 2. Download`,1),_page[FILENAME],[[309,6,[[317,7]]]]);var root_8=add_locations(from_html(`<dd class="text-xl font-extrabold font-mono text-transparent print:text-gray-900 col-span-4 mt-0"></dd>`),_page[FILENAME],[[503,8]]);var root_9=add_locations(from_html(`<dd class=" text-sm text-gray-900 col-span-4 mt-0"></dd>`),_page[FILENAME],[[508,8]]);var root_10=add_locations(from_html(`<dd class="text-xl font-extrabold font-mono text-transparent print:text-gray-900 col-span-4 mt-0"></dd>`),_page[FILENAME],[[516,8]]);var root_11=add_locations(from_html(`<dd class=" text-sm text-gray-900 col-span-4 mt-0"></dd>`),_page[FILENAME],[[521,8]]);var root_4=add_locations(from_html(`<div class="print:hidden min-h-[40rem] mx-2"><div class="relative mt-1"><main class="p-2 max-h-[900px] rounded-xl bg-base-100 overflow-scroll border-2 border-stone-700 border-r-stone-700/75 border-b-slate-700/75"><div class="mt-[.35rem] ml-1 py-[8px] flex fixed top-0 bg-base-100 print:hidden"><!> <!> <!></div> <div class="print:hidden m-1 mt-12 mb-[12rem] rounded-t-lg bg-base-100 text-base-content overflow-scroll"><h4 class="text-center font-extrabold text-lg mt-5">VERY IMPORTANT!</h4> <h4 class="text-center font-extrabold text-lg mb-4">PRINT THIS PAGE and/or COPY YOUR SECRET PHRASE SOMEWHERE SAFE!</h4> <div class="ml-2 mr-2 text-center"><h3 class="text-lg font-medium leading-6"> </h3> <br/> <h4 class="block mt-1 text-sm">Print and guard this information!</h4> <h4 class="block text-sm">Put this document in a safe place!</h4> <h4 class="block text-sm">Your PASSWORD will not show on the screen, but will show on the print out! Handle\n\t\t\t\t\t\t\tSecurely!</h4> <h4 class="block text-sm text-primary">Portfolio Account</h4></div> <div class="mt-5 border-t mx-1 border-gray-400 break-words overflow-x-scroll"><dl class="divide-y divide-gray-400"><div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-xs ml-1 text-gray-700 mt-1">USERNAME</dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-xs ml-1 text-gray-700 mt-1"> </dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0 break-all">REDACTED</dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-xs ml-1 text-gray-700 mt-1"> </dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0 break-all">REDACTED</dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-xs ml-1 text-gray-700 mt-1">ACCOUNT NAME</dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-xs ml-1 text-gray-700 mt-1">PRIMARY ADDRESS</dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0 break-all"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-xs ml-1 text-gray-700 mt-1">PRIVATE KEY</dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0 break-all"> </dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-xs ml-1 text-gray-700 mt-1">SECRET PHRASE!</dt> <dd class="text-lg font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0 break-normal"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-xs ml-1 text-gray-700 mt-1">DERIVED PATH (internal)</dt> <dd class="text-xl font-extrabold font-mono text-gray-700 col-span-4 mt-0 break-all"> </dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-xs ml-1 text-gray-700 mt-1">DATE CREATED</dt> <dd class="text-lg font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-xs ml-1 text-gray-700 mt-1">EMAIL</dt> <dd class="text-lg font-extrabold font-mono text-gray-700 col-span-4 ml-4 mt-0"> </dd></div></dl></div> <hr/> <span class="block mt-5 text-base text-gray-300 justify-center relative"><span class="font-bold">VERY IMPORTANT:</span> NEVER GIVE ANYONE THE INFORMATION ON THIS\n\t\t\t\t\t\tPAGE (except for CRYPTO ADDRESS since it is public)! NO ONE FROM YAKKL WILL EVER ASK FOR\n\t\t\t\t\t\tYOUR PRIVATE KEY, PASSWORD, OR SECRET PHRASE! If anyone, any site, or any project ever asks\n\t\t\t\t\t\tfor anything other than your public crypto address then THEY MOST LIKELY ARE SCAMMERS! A\n\t\t\t\t\t\tscammer's website will look good, they may show a good number of social media followers,\n\t\t\t\t\t\tor some "influencer" may recommend them (maybe not even knowing). But, if they ask for anything\n\t\t\t\t\t\texcept your crypto address then treat them like a scammer to stay safe!</span> <br/> <span class="block mt-2 text-base text-gray-300 justify-center relative"><span class="font-bold">IMPORTANT:</span> </span> <br/> <span class="block mt-2 text-base text-gray-300 justify-center relative"><span class="font-bold">IMPORTANT:</span> To safely destroy this document, redact and shred\n\t\t\t\t\t\tor burn it!</span></div></main></div></div>  <div class="hidden print:block"><div class="ml-1 mr-1 mb-[10rem] print:ml-0 print:mr-0 w-[1000px] bg-white overflow-scroll"><h4 class="text-center font-extrabold text-lg text-gray-900 m-4 print:hidden">VERY IMPORTANT! PRINT THIS PAGE and/or COPY YOUR SECRET PHRASE SOMEWHERE SAFE!</h4> <div id="printPDF"><div class="items-center w-full text-center"><img class="w-24 h-24 z-10 ml-5" src="/images/logoBullFav128x128.png"/></div> <div class="w-full text-center"><h1 class="text-lg print:text-2xl font-medium leading-6 text-gray-900"> </h1> <br/> <h3 class="block mt-1 text-sm print:text-lg text-gray-700">Print and guard this information!</h3> <h3 class="block mt-1 text-sm print:text-lg text-gray-700">Put this document in a safe place!</h3> <h4 class="block text-sm text-primary">Portfolio Account</h4></div> <div class="mt-5 border-t border-gray-400"><dl class="divide-y divide-gray-400"><div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">USERNAME</dt> <dd class="text-xl font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-sm ml-3 text-gray-500 mt-1"> </dt> <!></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-sm ml-3 text-gray-500 mt-1"> </dt> <!></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">ACCOUNT NAME</dt> <dd class="text-xl font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">PUBLIC ADDRESS</dt> <dd class="text-xl font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">PRIVATE KEY</dt> <dd class="text-xl font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">SECRET PHRASE!</dt> <dd class="text-lg font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">DERIVED PATH (internal)</dt> <dd class="text-xl font-extrabold font-mono text-gray-900 col-span-4 mt-0 break-all"> </dd></div> <div class="py-4 grid grid-cols-5 bg-gray-100"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">DATE CREATED</dt> <dd class="text-lg font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div> <div class="py-4 grid grid-cols-5 bg-white"><dt class="text-sm ml-3 font-medium text-gray-500 mt-1">EMAIL</dt> <dd class="text-lg font-extrabold font-mono text-gray-900 col-span-4 mt-0"> </dd></div></dl></div> <hr/> <span class="block mt-5 text-base text-gray-900 justify-center relative"><span class="font-bold">VERY IMPORTANT:</span> NEVER GIVE ANYONE THE INFORMATION ON THIS\n\t\t\t\t\tPAGE (except for PUBLIC ADDRESS since it is public)! <span class="underline">NO ONE FROM YAKKL WILL EVER ASK FOR YOUR PRIVATE KEY, PASSWORD, OR SECRET PHRASE!</span> If anyone, any site, or any project ever asks for anything other than your public crypto\n\t\t\t\t\taddress then THEY MOST LIKELY ARE SCAMMERS! A scammer's website will look good, they may show\n\t\t\t\t\ta good number of social media followers, or some "influencer" may recommend them (maybe not\n\t\t\t\t\teven knowing). But, if they ask for anything except your crypto address then treat them like\n\t\t\t\t\ta scammer to stay safe!</span> <br/> <span class="block mt-2 text-base text-gray-900 justify-center relative"><span class="font-bold">IMPORTANT:</span> </span> <br/> <span class="block mt-2 text-base text-gray-900 justify-center relative"><span class="font-bold">IMPORTANT:</span> To safely destroy this document, redact and shred\n\t\t\t\t\tor burn it!</span> <br/> <br/> <div class="w-full text-center"> </div></div></div></div>`,1),_page[FILENAME],[[284,1,[[285,2,[[286,3,[[289,4],[338,4,[[341,5],[342,5],[346,5,[[347,6],[348,6],[349,6],[350,6],[351,6],[355,6]]],[357,5,[[358,6,[[359,7,[[360,8],[361,8]]],[365,7,[[366,8],[369,8]]],[375,7,[[376,8],[379,8]]],[385,7,[[386,8],[387,8]]],[391,7,[[392,8],[393,8]]],[399,7,[[400,8],[401,8]]],[407,7,[[408,8],[409,8]]],[415,7,[[416,8],[417,8]]],[423,7,[[424,8],[425,8]]],[429,7,[[430,8],[431,8]]]]]]],[437,5],[438,5,[[439,7]]],[447,5],[448,5,[[449,7]]],[452,5],[453,5,[[454,7]]]]]]]]]]],[464,1,[[465,2,[[466,3],[469,3,[[471,4,[[473,5]]],[476,4,[[477,5],[480,5],[481,5],[484,5],[487,5]]],[490,4,[[491,5,[[492,6,[[493,7],[494,7]]],[498,6,[[499,7]]],[511,6,[[512,7]]],[528,6,[[529,7],[530,7]]],[534,6,[[535,7],[536,7]]],[540,6,[[541,7],[542,7]]],[546,6,[[547,7],[548,7]]],[552,6,[[553,7],[554,7]]],[558,6,[[559,7],[560,7]]],[564,6,[[565,7],[566,7]]]]]]],[572,4],[573,4,[[574,6],[576,5]]],[584,4],[585,4,[[586,6]]],[589,4],[590,4,[[591,6]]],[594,4],[595,4],[596,4]]]]]]]]);var root_12=add_locations(from_html(`<div class="m-2 border-2 border-base-300 rounded-lg bg-base-100 text-base-content justify-center align-middle"><div class="text-center"><span class="font-bold mt-10 text-xl"> </span></div> <div class="text-center mt-10"><!></div></div>`),_page[FILENAME],[[274,1,[[277,2,[[278,3]]],[280,2]]]]);var root=add_locations(from_html(`<div><div class="modal-box relative"><h3 class="text-lg font-bold">ERROR!</h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn">Close</button></div></div></div> <div><div class="modal-box relative"><h3 class="text-lg font-bold"></h3> <p class="py-4"> </p> <div class="modal-action"><button class="btn">Close</button></div></div></div> <div><div class="modal-box relative"><h3 class="text-lg font-bold">WARNING</h3> <p class="py-4">Do you wish to continue?</p> <div class="modal-action"><button class="btn">Yes, I'm sure!</button> <button class="btn">No</button></div></div></div> <!> <!>`,1),_page[FILENAME],[[174,0,[[175,1,[[177,2],[178,2],[179,2,[[180,3]]]]]]],[191,0,[[192,1,[[194,2],[195,2],[196,2,[[197,3]]]]]]],[208,0,[[209,1,[[211,2],[212,2],[213,2,[[214,3],[215,3]]]]]]]]);function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);let settings;let yakklMiscStore=getMiscStore();let profile;let blockchain;let id;let registered=yakklRegisteredData;let email=tag(state(""),"email");let userName=tag(state(""),"userName");let accountName=tag(state("Account 1"),"accountName");let passwordWarning=tag(state(false),"passwordWarning");let printPassword=tag(state(true),"printPassword");let successDialog=tag(state(false),"successDialog");let wordCount=tag(state(0),"wordCount");let address=tag(state(""),"address");let privateKey=tag(state(""),"privateKey");let mnemonic=tag(state(""),"mnemonic");let pincode;let createDate;let updateDate;let displayDate=tag(state(void 0),"displayDate");let derivedPath=tag(state(proxy(DEFAULT_DERIVED_PATH_ETH)),"derivedPath");let network=tag(state(""),"network");let planType=tag(state(proxy(PlanType.BASIC_MEMBER)),"planType");let warning=tag(state(false),"warning");let warningValue;let error=tag(state(false),"error");let errorValue=tag(state(""),"errorValue");onMount(async()=>{if(browserSvelte){settings=await getSettings();if(strict_equals(settings,null)){throw"Settings data does not seem to be valid. Please register or re-register. Thank you."}yakklMiscStore=getMiscStore();id=settings.id;set(planType,settings.plan.type??PlanType.BASIC_MEMBER,true)}});async function createAccount(){try{profile=await getProfile();if(!yakklMiscStore){yakklMiscStore=getMiscStore()}if(!profile||!yakklMiscStore){throw"Profile data does not seem to be valid. Please register or re-register. Thank you."}let profileData=null;if(isEncryptedData(profile.data)){await decryptData(profile.data,yakklMiscStore).then(result=>{profileData=result})}else{throw"Profile data appears to be encrypted. Please try again. Thank you."}set(userName,profile.userName,true);pincode=profileData.pincode;registered=profileData.registered;set(email,profileData.email,true);await createPortfolioAccount(yakklMiscStore,profile).then(async result=>{if(result){try{const primaryAccountValues=result;if(!primaryAccountValues.currentlySelected||!primaryAccountValues.primaryAccount){throw"Portfolio account was not created. Please try again. Thank you."}set(accountName,primaryAccountValues.currentlySelected.shortcuts.accountName,true);id=primaryAccountValues.currentlySelected.id;set(network,blockchain=primaryAccountValues.currentlySelected.shortcuts.network.blockchain,true);set(address,primaryAccountValues.currentlySelected.shortcuts.address,true);createDate=primaryAccountValues.primaryAccount.createDate;updateDate=createDate;let yakklPrimaryAccount=primaryAccountValues.primaryAccount;let primaryData=yakklPrimaryAccount.data;if(isEncryptedData(yakklPrimaryAccount.data)){await decryptData(yakklPrimaryAccount.data,yakklMiscStore).then(result2=>{primaryData=result2})}set(wordCount,primaryData.wordCount,true);set(privateKey,primaryData.privateKey,true);set(mnemonic,primaryData.mnemonic,true);set(derivedPath,primaryData.path,true);set(displayDate,new Date(createDate),true);sendNotificationMessage("Primary Address Created!","Your primary address has been created. Please print and store your emergency kit in a safe place.  🔐 DO NOT share this information with anyone! Thank you.");set(successDialog,true)}catch(e){throw`Wallet was created but the following occured: ${e}`}}}).catch(e=>{throw`${e}`})}catch(e){set(error,true);set(errorValue,`${e}`);console.log(...log_if_contains_state("log",get(errorValue)))}}async function handlePrintPwd(e){set(passwordWarning,false);set(printPassword,true);printKit()}async function handlePrinting(e){handlePrintPwd()}function printKit(){if(browserSvelte){try{window.print()}catch(e){set(errorValue,`Your Wallet did not initialize for the following reason: ${e}`);console.log(...log_if_contains_state("log",get(errorValue)))}}}async function handleDownload(){let ekAccountData={id:id,registered:registered,email:get(email),userName:get(userName),blockchain:blockchain,portfolioAddress:get(address),portfolioName:get(accountName),privateKey:get(privateKey),mnemonic:get(mnemonic),createDate:createDate,updateDate:updateDate,version:VERSION,hash:""};const emergencyKit=await EmergencyKitManager.createEmergencyKit([ekAccountData],true,yakklMiscStore);await EmergencyKitManager.downloadEmergencyKit(emergencyKit)}var fragment=root();head($$anchor2=>{template_effect(()=>$document.title=`\n\t\t${DEFAULT_TITLE}\n\t`)});var div=first_child(fragment);let classes;var div_1=child(div);var p=sibling(child(div_1),2);var text$1=child(p,true);reset(p);var div_2=sibling(p,2);var button=child(div_2);button.__click=[on_click,error];reset(div_2);reset(div_1);reset(div);var div_3=sibling(div,2);let classes_1;var div_4=child(div_3);var h3=child(div_4);h3.textContent="WARNING";var p_1=sibling(h3,2);var text_1=child(p_1,true);reset(p_1);var div_5=sibling(p_1,2);var button_1=child(div_5);button_1.__click=[on_click_1,warning];reset(div_5);reset(div_4);reset(div_3);var div_6=sibling(div_3,2);let classes_2;var div_7=child(div_6);var div_8=sibling(child(div_7),4);var button_2=child(div_8);button_2.__click=handlePrintPwd;var button_3=sibling(button_2,2);button_3.__click=[handlePrint,passwordWarning,printPassword,printKit];reset(div_8);reset(div_7);reset(div_6);var node=sibling(div_6,2);Modal(node,{autoclose:true,get open(){return get(successDialog)},set open($$value){set(successDialog,$$value,true)},children:wrap_snippet(_page,($$anchor2,$$slotProps)=>{var div_9=root_2();var node_1=sibling(child(div_9),8);Button(node_1,{color:"green",$$events:{click:()=>set(successDialog,false)},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{next();var text_2=text("Close");append($$anchor3,text_2)}),$$slots:{default:true}});reset(div_9);append($$anchor2,div_9)}),$$slots:{default:true}});var node_2=sibling(node,2);await_block(node_2,()=>createAccount().then(),$$anchor2=>{var div_42=root_12();var div_43=child(div_42);var span_2=child(div_43);var text_29=child(span_2);reset(span_2);reset(div_43);var div_44=sibling(div_43,2);set_attribute(div_44,"data-size",10);var node_8=child(div_44);Spinner(node_8,{});reset(div_44);reset(div_42);template_effect(()=>set_text(text_29,`Creating ${get(network)??""} Portfolio Account...`));append($$anchor2,div_42)},($$anchor2,_)=>{var fragment_1=root_4();var div_10=first_child(fragment_1);var div_11=child(div_10);var main=child(div_11);var div_12=child(main);var node_3=child(div_12);Button(node_3,{class:"btn-accent btn-sm inline-flex",$$events:{click:handlePrinting},children:wrap_snippet(_page,($$anchor3,$$slotProps)=>{var fragment_2=root_5();next();append($$anchor3,fragment_2)}),$$slots:{default:true}});var node_4=sibling(node_3,2);Button(node_4,{class:"ml-5 mr-5 inline-flex btn-accent btn-sm",$$events:{click:handleDownload},children:wrap_snippet(_page,($$anchor3,$$slotProps)=>{var fragment_3=root_6();next();append($$anchor3,fragment_3)}),$$slots:{default:true}});var node_5=sibling(node_4,2);Button(node_5,{id:"close",class:"inline-flex btn-accent btn-sm",$$events:{click:()=>goto(PATH_WELCOME)},children:wrap_snippet(_page,($$anchor3,$$slotProps)=>{next();var text_3=text("3. Close");append($$anchor3,text_3)}),$$slots:{default:true}});reset(div_12);var div_13=sibling(div_12,2);var div_14=sibling(child(div_13),4);var h3_1=child(div_14);var text_4=child(h3_1);reset(h3_1);next(10);reset(div_14);var div_15=sibling(div_14,2);var dl=child(div_15);var div_16=child(dl);var dd=sibling(child(div_16),2);var text_5=child(dd,true);reset(dd);reset(div_16);var div_17=sibling(div_16,2);var dt=child(div_17);var text_6=child(dt);reset(dt);next(2);reset(div_17);var div_18=sibling(div_17,2);var dt_1=child(div_18);var text_7=child(dt_1);reset(dt_1);next(2);reset(div_18);var div_19=sibling(div_18,2);var dd_1=sibling(child(div_19),2);var text_8=child(dd_1,true);reset(dd_1);reset(div_19);var div_20=sibling(div_19,2);var dd_2=sibling(child(div_20),2);var text_9=child(dd_2,true);reset(dd_2);reset(div_20);var div_21=sibling(div_20,2);var dd_3=sibling(child(div_21),2);var text_10=child(dd_3,true);reset(dd_3);reset(div_21);var div_22=sibling(div_21,2);var dd_4=sibling(child(div_22),2);var text_11=child(dd_4,true);reset(dd_4);reset(div_22);var div_23=sibling(div_22,2);var dd_5=sibling(child(div_23),2);var text_12=child(dd_5,true);reset(dd_5);reset(div_23);var div_24=sibling(div_23,2);var dd_6=sibling(child(div_24),2);var text_13=child(dd_6,true);reset(dd_6);reset(div_24);var div_25=sibling(div_24,2);var dd_7=sibling(child(div_25),2);var text_14=child(dd_7,true);reset(dd_7);reset(div_25);reset(dl);reset(div_15);var span=sibling(div_15,8);var text_15=sibling(child(span));reset(span);next(4);reset(div_13);reset(main);reset(div_11);reset(div_10);var div_26=sibling(div_10,2);var div_27=child(div_26);var div_28=sibling(child(div_27),2);var div_29=sibling(child(div_28),2);var h1=child(div_29);var text_16=child(h1);reset(h1);next(8);reset(div_29);var div_30=sibling(div_29,2);var dl_1=child(div_30);var div_31=child(dl_1);var dd_8=sibling(child(div_31),2);var text_17=child(dd_8,true);reset(dd_8);reset(div_31);var div_32=sibling(div_31,2);var dt_2=child(div_32);var text_18=child(dt_2);reset(dt_2);var node_6=sibling(dt_2,2);{var consequent=$$anchor3=>{var dd_9=root_8();append($$anchor3,dd_9)};var alternate=$$anchor3=>{var dd_10=root_9();append($$anchor3,dd_10)};if_block(node_6,$$render=>{if(strict_equals(get(printPassword),true))$$render(consequent);else $$render(alternate,false)})}reset(div_32);var div_33=sibling(div_32,2);var dt_3=child(div_33);var text_19=child(dt_3);reset(dt_3);var node_7=sibling(dt_3,2);{var consequent_1=$$anchor3=>{var dd_11=root_10();append($$anchor3,dd_11)};var alternate_1=$$anchor3=>{var dd_12=root_11();append($$anchor3,dd_12)};if_block(node_7,$$render=>{if(strict_equals(get(printPassword),true))$$render(consequent_1);else $$render(alternate_1,false)})}reset(div_33);var div_34=sibling(div_33,2);var dd_13=sibling(child(div_34),2);var text_20=child(dd_13,true);reset(dd_13);reset(div_34);var div_35=sibling(div_34,2);var dd_14=sibling(child(div_35),2);var text_21=child(dd_14,true);reset(dd_14);reset(div_35);var div_36=sibling(div_35,2);var dd_15=sibling(child(div_36),2);var text_22=child(dd_15,true);reset(dd_15);reset(div_36);var div_37=sibling(div_36,2);var dd_16=sibling(child(div_37),2);var text_23=child(dd_16,true);reset(dd_16);reset(div_37);var div_38=sibling(div_37,2);var dd_17=sibling(child(div_38),2);var text_24=child(dd_17,true);reset(dd_17);reset(div_38);var div_39=sibling(div_38,2);var dd_18=sibling(child(div_39),2);var text_25=child(dd_18,true);reset(dd_18);reset(div_39);var div_40=sibling(div_39,2);var dd_19=sibling(child(div_40),2);var text_26=child(dd_19,true);reset(dd_19);reset(div_40);reset(dl_1);reset(div_30);var span_1=sibling(div_30,8);var text_27=sibling(child(span_1));reset(span_1);var div_41=sibling(span_1,10);var text_28=child(div_41);reset(div_41);reset(div_28);reset(div_27);reset(div_26);template_effect(()=>{set_text(text_4,`${get(network)??""} - Account Secrets Emergency Kit`);set_text(text_5,get(userName));set_text(text_6,`PASSWORD${get(printPassword)?"":" (write it down)"}`);set_text(text_7,`PINCODE${get(printPassword)?"":" (write it down)"}`);set_text(text_8,get(accountName));set_text(text_9,get(address));set_text(text_10,get(privateKey));set_text(text_11,get(mnemonic));set_text(text_12,get(derivedPath));set_text(text_13,get(displayDate));set_text(text_14,get(email));set_text(text_15,` The ${get(wordCount)??""} words MUST be in the order above!\n\t\t\t\t\t\tDO NOT mix the order up if you need to enter them to recover your account!`);set_text(text_16,`${get(network)??""} - Portfolio Account Emergency Kit`);set_text(text_17,get(userName));set_text(text_18,`PASSWORD${get(printPassword)?"":" (write it down)"}`);set_text(text_19,`PINCODE${get(printPassword)?"":" (write it down)"}`);set_text(text_20,get(accountName));set_text(text_21,get(address));set_text(text_22,get(privateKey));set_text(text_23,get(mnemonic));set_text(text_24,get(derivedPath));set_text(text_25,get(displayDate));set_text(text_26,get(email));set_text(text_27,` The ${get(wordCount)??""} words MUST be in the order above!\n\t\t\t\t\tDO NOT mix the order up if you need to enter them to recover your account!`);set_text(text_28,`YAKKL® Smart Wallet - Version ${VERSION}\n\t\t\t\t\t${get(planType)??""} - https://yakkl.com`)});append($$anchor2,fragment_1)});template_effect(($0,$1,$2)=>{classes=set_class(div,1,"modal",null,classes,$0);set_text(text$1,get(errorValue));classes_1=set_class(div_3,1,"modal",null,classes_1,$1);set_text(text_1,warningValue);classes_2=set_class(div_6,1,"modal",null,classes_2,$2)},[()=>({"modal-open":get(error)}),()=>({"modal-open":get(warning)}),()=>({"modal-open":get(passwordWarning)})]);append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);export{_page as component};
//# sourceMappingURL=35.DTl4gXS_.js.map
