{"version":3,"file":"77.Y31oGh3G.js","sources":["../../../../../../src/routes/preview2/lib/components/RegistrationOption.svelte","../../../../../../src/routes/preview2/register/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\t// NOTE: This is for the RegistrationOption component. The RegistrationOptionModal is only for the RegistrationOption component. Restore requires a valid account to be created first. So, removed restore from here for now.\n\timport { onMount } from 'svelte';\n\timport { getSettings } from '$lib/common/stores';\n\timport { shouldShowProFeatures } from '$lib/common/token-analytics';\n\timport { PlanType } from '$lib/common/types';\n\timport type { Settings } from '$lib/common/interfaces';\n\timport SimpleTooltip from '$lib/components/SimpleTooltip.svelte';\n\n\tinterface Props {\n\t\t/// <reference types=\"svelte\" />\n\t\ttitle?: string;\n\t\tonCreate: () => void;\n\t\tonImport: () => void; // NOTE: import and restore will not work if there is no account created first. Need to either create a tmp account and restore or move this to another component.\n\t\tonRestore: () => void;\n\t}\n\n\tlet {\n\t\ttitle = 'Registration/Restoration Options',\n\t\tonCreate,\n\t\tonImport = () => void {},\n\t\tonRestore = () => void {}\n\t}: Props = $props();\n\n\tlet settings: Settings | null = $state(null);\n\tlet isProUser = $state(false);\n\n\tonMount(async () => {\n\t\tsettings = await getSettings();\n\t\tisProUser = shouldShowProFeatures(settings?.plan?.type || PlanType.BASIC_MEMBER);\n\t});\n\n\tfunction handleRestore() {\n\t\tif (!isProUser) return;\n\t\tonRestore();\n\t}\n</script>\n\n<div class=\"yakkl-card\">\n\t<h1 class=\"text-2xl font-bold text-center text-zinc-900 dark:text-white mb-4\">\n\t\t{title}\n\t</h1>\n\n\t<div class=\"space-y-4 mb-6\">\n\t\t<p class=\"text-zinc-600 dark:text-zinc-400 text-center\">\n\t\t\tChoose an option to get started with your wallet:\n\t\t</p>\n\t\t<div class=\"bg-zinc-50 dark:bg-zinc-800 rounded-xl p-4 space-y-3\">\n\t\t\t<div class=\"flex items-start gap-3\">\n\t\t\t\t<span class=\"text-indigo-600 dark:text-indigo-400 mt-0.5\">•</span>\n\t\t\t\t<span class=\"text-zinc-700 dark:text-zinc-300\">Create a new account if this is your first time</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-start gap-3\">\n\t\t\t\t<span class=\"text-green-600 dark:text-green-400 mt-0.5\">•</span>\n\t\t\t\t<span class=\"text-zinc-700 dark:text-zinc-300\">Import an existing account if you have one</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-start gap-3\">\n\t\t\t\t<span class=\"text-red-600 dark:text-red-400 mt-0.5\">•</span>\n\t\t\t\t<span class=\"text-zinc-700 dark:text-zinc-300\">Restore from Emergency Kit if recovering your wallet</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class=\"space-y-3\">\n\t\t<!-- Create New Account Button -->\n\t\t<button\n\t\t\tonclick={onCreate}\n\t\t\tclass=\"yakkl-btn-primary w-full flex items-center justify-center gap-2\"\n\t\t>\n\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n\t\t\t</svg>\n\t\t\tCreate New Account\n\t\t</button>\n\n\t\t<!-- Import Existing Account Button -->\n\t\t<button\n\t\t\tonclick={onImport}\n\t\t\tclass=\"yakkl-btn-secondary w-full flex items-center justify-center gap-2\"\n\t\t>\n\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n\t\t\t</svg>\n\t\t\tImport Existing Account\n\t\t</button>\n\n\t\t<!-- Restore from Emergency Kit Button -->\n\t\t{#if isProUser}\n\t\t\t<button\n\t\t\t\tonclick={handleRestore}\n\t\t\t\tclass=\"yakkl-btn-danger w-full flex items-center justify-center gap-2\"\n\t\t\t>\n\t\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n\t\t\t\t</svg>\n\t\t\t\tRestore from Emergency Kit\n\t\t\t</button>\n\t\t{:else}\n\t\t\t<SimpleTooltip content=\"Upgrade to Pro for full Emergency Kit features\">\n\t\t\t\t<button\n\t\t\t\t\tdisabled\n\t\t\t\t\tclass=\"w-full bg-zinc-300 dark:bg-zinc-700 text-zinc-500 dark:text-zinc-400 font-semibold px-4 py-2 rounded-lg cursor-not-allowed flex items-center justify-center gap-2 relative\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\tRestore from Emergency Kit\n\t\t\t\t\t<span class=\"absolute -top-1 -right-1 bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-[10px] px-2 py-0.5 rounded-full font-bold\">\n\t\t\t\t\t\tPRO\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t</SimpleTooltip>\n\t\t{/if}\n\t</div>\n</div>\n","<script lang=\"ts\">\n  import RegistrationOption from '../lib/components/RegistrationOption.svelte';\n  import { goto } from '$app/navigation';\n  import { log } from '$lib/common/logger-wrapper';\n\n  function handleCreate() {\n    log.info('Creating new account');\n    goto('/preview2/register/create');\n  }\n\n  function handleImport() {\n    log.info('Importing existing account');\n    goto('/preview2/register/import');\n  }\n\n  function handleRestore() {\n    log.info('Restoring from emergency kit');\n    goto('/preview2/register/restore');\n  }\n</script>\n\n<div class=\"min-h-screen bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center p-4\">\n  <div class=\"max-w-md w-full\">\n    <div class=\"text-center mb-6\">\n      <img src=\"/images/logoBullFav128x128.png\" alt=\"YAKKL\" class=\"w-20 h-20 mx-auto mb-4\" />\n      <h1 class=\"text-3xl font-bold text-zinc-900 dark:text-white\">Welcome to YAKKL</h1>\n      <p class=\"text-zinc-600 dark:text-zinc-400 mt-2\">Let's get your wallet set up</p>\n    </div>\n\n    <RegistrationOption\n      title=\"Choose Setup Method\"\n      onCreate={handleCreate}\n      onImport={handleImport}\n      onRestore={handleRestore}\n    />\n\n    <div class=\"mt-6 text-center\">\n      <a \n        href=\"/preview2/login\" \n        class=\"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-200 transition-colors\"\n      >\n        Already have an account? Sign in\n      </a>\n    </div>\n  </div>\n</div>"],"names":["handleRestore","_","isProUser","onRestore","$.get","title","$.prop","$$props","onImport","settings","$.tag","$.state","onMount","async","getSettings","$.set","shouldShowProFeatures","_a","get","plan","type","PlanType","BASIC_MEMBER","this","$$args","RegistrationOption","$$render","consequent","alternate","handleCreate","log","info","goto","handleImport"],"mappings":"8gCAgCUA,cAAgBC,EAAAC,UAAAC,WACnB,IAAAC,IAAAF,WAAA,OACLC,aACD,spGAjBC,IAAAE,MAAQC,KAAAC,QAAA,QAAA,EAAA,oCAERC,SAAAF,KAAAC,QAAA,WAAA,EAAA,YACAJ,UAAAG,KAAAC,QAAA,YAAA,EAAA,SAAA,GAGG,IAAAE,SAAAC,IAAAC,MAAmC,MAAI,YACvC,IAAAT,UAAAQ,IAAAC,MAAmB,OAAK,aAE5BC,QAAoBC,wBACnBJ,eAAiBK,cAAA,MACjBC,IAAAb,UAAYc,wBAAsBZ,IAAAa,GAAAC,IAAAT,YAAAL,UAAAA,EAAAA,GAAUe,OAAVf,UAAAA,EAAAA,GAAgBgB,OAAQC,SAASC,cAAY,8SAgDrEd,SAAQe,KAAAC,OAAAC,mBAAA,CAAA,GAAA,uGAYPzB,cAAaE,UAAAC,mUAFnBD,WAASwB,SAAAC,iBAAAD,SAAAE,UAAA,mEA/CbvB,o+BCnCQwB,eACPC,IAAIC,KAAK,wBACTC,KAAK,4BACP,UAESC,eACPH,IAAIC,KAAK,8BACTC,KAAK,4BACP,UAEShC,iBACP8B,IAAIC,KAAK,gCACTC,KAAK,6BACP,2IAacH,sBACAI,uBACCjC"}