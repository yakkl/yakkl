{"version":3,"file":"31.HHJETFMx.js","sources":["../../../../../../src/routes/(wallet)/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { goto } from '$app/navigation';\n\timport { PATH_LEGAL, PATH_LOGIN, PATH_REGISTER } from '$lib/common';\n\timport { getSettings } from '$lib/common/stores';\n\timport { onMount } from 'svelte';\n\timport { log } from '$lib/common/logger-wrapper';\n\n\t// NOTE: This is the default index.html file that is rendered when the wallet is loaded.\n\t// Do not remove this file. However, you can add to it if required.\n\n\tonMount(async () => {\n\t\ttry {\n\t\t\tlog.debug('+page.svelte (app level) - onMount');\n\t\t\t\n\t\t\t// Development: Check if preview2 is enabled\n\t\t\tif (import.meta.env.VITE_PREVIEW2 === 'true') {\n\t\t\t\tlog.debug('Preview2 enabled - redirecting to preview2');\n\t\t\t\treturn await goto('/preview2');\n\t\t\t}\n\t\t\t\n\t\t\t// Redirect based on settings\n\t\t\tconst yakklSettings = await getSettings();\n\t\t\tif (!yakklSettings.legal.termsAgreed) {\n\t\t\t\treturn await goto(PATH_LEGAL);\n\t\t\t} else if (!yakklSettings.init) {\n\t\t\t\t// Could check for accountsStore.length > 0 and address !== zero_address\n\t\t\t\treturn await goto(PATH_REGISTER);\n\t\t\t} else {\n\t\t\t\treturn await goto('/preview2/login');//PATH_LOGIN);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlog.error('+page.svelte (app level) - redirecting to legal:', false, error);\n\t\t\treturn await goto(PATH_LEGAL);\n\t\t}\n\t});\n</script>\n\n<svelte:head>\n\t<title>YAKKL Wallet</title>\n</svelte:head>\n"],"names":["onMount","async","log","debug","goto","yakklSettings","getSettings","legal","termsAgreed","PATH_LEGAL","init","PATH_REGISTER","error"],"mappings":"goBAUCA,QAAoBC,UACf,IACHC,IAAIC,MAAM,4DAG4B,EAAA,QAAQ,CAC7CD,IAAIC,MAAM,8CACG,aAAAC,KAAK,YAAW,CAIxB,MAAAC,oBAAsBC,cACvB,IAAAD,cAAcE,MAAMC,YAAa,CACxB,aAAAJ,KAAKK,WAAU,MAAA,IACjBJ,cAAcK,KAAM,CAElB,aAAAN,KAAKO,cAAa,KACzB,CACO,aAAAP,KAAK,kBAAiB,QAE5BQ,OACJV,IAAAU,MAAM,mDAAoD,MAAOA,OACxD,aAAAR,KAAKK,WAAU"}