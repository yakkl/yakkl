import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{p as push,h as tag,aC as tag_proxy,ae as proxy,e as set,s as sibling,t as template_effect,g as get,a as pop,i as state,u as user_derived,$ as $document,c as child,F as FILENAME,b as strict_equals,r as reset,j as next,f as first_child}from"../chunks/BaS8d5lg.js";import{a as add_locations}from"../chunks/3AhEABF_.js";import{s as set_text}from"../chunks/Cmwrv3PW.js";import{i as if_block}from"../chunks/Q1yPWpQ-.js";import{e as each}from"../chunks/DraJ8LN-.js";import{a as append,f as from_html,c as comment,t as text}from"../chunks/Cm3jf07C.js";import{h as head}from"../chunks/twIkBoiu.js";import{r as remove_input_defaults,s as set_attribute}from"../chunks/DTBsVM-c.js";import{s as set_class}from"../chunks/DX_EEhpR.js";import{d as delegate}from"../chunks/DiU70Is3.js";import{t as transition,a as fly}from"../chunks/DevLwR0m.js";import{b as bind_value}from"../chunks/B6q982nR.js";import{a as validate_each_keys}from"../chunks/PvfmHBx2.js";import{l as log_if_contains_state}from"../chunks/DZ17DrFv.js";import{g as goto}from"../chunks/CkqS9PXN.js";import{H as Header}from"../chunks/Czr5fMei.js";import{B as BackButton}from"../chunks/DxdmnoOQ.js";_page[FILENAME]="src/routes/preview1/history/+page.svelte";var on_click=(_,showFilters)=>set(showFilters,!get(showFilters));var on_click_1=(__1,selectedFilter)=>set(selectedFilter,"all");var on_click_2=(__2,selectedFilter)=>set(selectedFilter,"send");var on_click_3=(__3,selectedFilter)=>set(selectedFilter,"receive");var on_click_4=(__4,selectedFilter)=>set(selectedFilter,"swap");var on_click_5=(__5,selectedTimeframe)=>set(selectedTimeframe,"all");var on_click_6=(__6,selectedTimeframe)=>set(selectedTimeframe,"1d");var on_click_7=(__7,selectedTimeframe)=>set(selectedTimeframe,"7d");var on_click_8=(__8,selectedTimeframe)=>set(selectedTimeframe,"30d");var on_click_9=(__9,selectedTimeframe)=>set(selectedTimeframe,"90d");var root_2=add_locations(from_html(`<div class="bg-surface rounded-card p-4 border border-border space-y-4"><div class="space-y-2"><label class="text-sm font-medium text-text-primary">Transaction Type</label> <div class="grid grid-cols-4 gap-2"><button>All</button> <button>Send</button> <button>Receive</button> <button>Swap</button></div></div> <div class="space-y-2"><label class="text-sm font-medium text-text-primary">Timeframe</label> <div class="grid grid-cols-5 gap-2"><button>All</button> <button>1D</button> <button>7D</button> <button>30D</button> <button>90D</button></div></div></div>`),_page[FILENAME],[[209,4,[[215,5,[[216,6],[217,6,[[218,7],[224,7],[230,7],[236,7]]]]],[246,5,[[247,6],[248,6,[[249,7],[255,7],[261,7],[267,7],[273,7]]]]]]]]);var root_3=add_locations(from_html(`<div class="text-center py-12"><svg class="w-16 h-16 text-text-muted mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <p class="text-text-muted text-lg font-medium mb-2">No transactions found</p> <p class="text-text-muted text-sm">Try adjusting your search or filters</p></div>`),_page[FILENAME],[[288,4,[[289,5,[[290,6]]],[292,5],[293,5]]]]);var on_click_10=(__10,viewTransactionDetail,transaction)=>viewTransactionDetail(get(transaction));var root_8=add_locations(from_html(`<span> </span>`),_page[FILENAME],[[328,10]]);var root_10=add_locations(from_html(`<span> </span>`),_page[FILENAME],[[330,10]]);var root_12=add_locations(from_html(`<span> </span>`),_page[FILENAME],[[332,10]]);var root_14=add_locations(from_html(`<span> </span>`),_page[FILENAME],[[334,10]]);var root_5=add_locations(from_html(`<button class="w-full bg-surface hover:bg-surface-elevated rounded-card p-4 transition-all group"><div class="flex items-center space-x-3"><div><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></div> <div class="flex-1 text-left"><div class="flex items-center space-x-2 mb-1"><p class="font-medium text-text-primary capitalize"> <!></p> <span> </span></div> <div class="flex items-center space-x-1 text-sm text-text-muted"><!> <span>•</span> <span> </span></div></div> <div class="text-right"><p><!></p> <p class="text-sm text-text-muted"> </p></div> <svg class="w-4 h-4 text-text-muted group-hover:text-text-secondary transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div></button>`),_page[FILENAME],[[297,5,[[302,6,[[304,7,[[305,8,[[306,9]]]]],[311,7,[[312,8,[[313,9],[321,9]]],[326,8,[[336,9],[337,9]]]]],[342,7,[[343,8],[354,8]]],[358,7,[[359,8]]]]]]]]);var root_17=add_locations(from_html(`<div class="p-4"><button class="w-full py-3 text-sm font-medium text-primary-500 hover:text-primary-600 transition-colors">Load More Transactions</button></div>`),_page[FILENAME],[[369,3,[[370,4]]]]);var root=add_locations(from_html(`<div class="flex flex-col h-screen bg-background"><!> <main class="flex-1 overflow-auto"><div class="p-4 space-y-4"><div class="flex items-center space-x-4"><!> <div><h1 class="text-xl font-semibold text-text-primary">Transaction History</h1> <p class="text-sm text-text-muted"> </p></div></div> <div class="relative"><input placeholder="Search transactions..." class="w-full pl-10 pr-4 py-3 bg-surface border border-border rounded-card text-text-primary placeholder-text-muted focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"/> <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-muted" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div> <button class="flex items-center space-x-2 px-4 py-2 bg-surface hover:bg-surface-elevated rounded-card transition-all text-sm font-medium text-text-primary"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg> <span>Filters</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div> <div class="px-4 space-y-3"><!></div> <!></main></div>`),_page[FILENAME],[[167,0,[[170,1,[[172,2,[[173,3,[[175,4,[[176,5],[177,5]]]]],[182,3,[[183,4],[188,4,[[189,5]]]]],[194,3,[[198,4,[[199,5]]],[201,4],[202,4,[[203,5]]]]]]],[286,2]]]]]]);function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);let searchQuery=tag(state(""),"searchQuery");let selectedFilter=tag(state("all"),"selectedFilter");let selectedTimeframe=tag(state("all"),"selectedTimeframe");let showFilters=tag(state(false),"showFilters");let allTransactions=tag_proxy(proxy([{id:"0x1234...5678",type:"send",asset:{symbol:"ETH",icon:"⟐"},amount:"-0.05",value:"-$116.25",to:"0x742d35...890a",toName:"Alice.eth",status:"confirmed",timestamp:new Date("2024-01-15T14:30:00"),gasUsed:"$2.34",isPositive:false},{id:"0x2345...6789",type:"receive",asset:{symbol:"USDT",icon:"₮"},amount:"+100.00",value:"+$100.00",from:"0x851d45...890b",fromName:"Bob",status:"confirmed",timestamp:new Date("2024-01-14T09:15:00"),gasUsed:"$1.85",isPositive:true},{id:"0x3456...789a",type:"swap",asset:{symbol:"ETH",icon:"⟐"},toAsset:{symbol:"PEPE",icon:"🐸"},amount:"-0.01",toAmount:"+1000",value:"~$23.20",status:"confirmed",timestamp:new Date("2024-01-13T16:45:00"),gasUsed:"$3.12",isPositive:null},{id:"0x4567...89ab",type:"send",asset:{symbol:"USDC",icon:"💵"},amount:"-25.50",value:"-$25.50",to:"0x962e56...890c",toName:"Charlie.eth",status:"pending",timestamp:new Date("2024-01-12T11:20:00"),gasUsed:"$1.95",isPositive:false},{id:"0x5678...9abc",type:"receive",asset:{symbol:"ETH",icon:"⟐"},amount:"+0.025",value:"+$58.00",from:"0x073f42...123d",fromName:"DeFi Protocol",status:"confirmed",timestamp:new Date("2024-01-11T08:30:00"),gasUsed:"$2.10",isPositive:true}]),"allTransactions");let filteredTransactions=tag(user_derived(()=>()=>{let filtered=allTransactions;if(strict_equals(get(selectedFilter),"all",false)){filtered=filtered.filter(tx=>strict_equals(tx.type,get(selectedFilter)))}if(strict_equals(get(selectedTimeframe),"all",false)){const now=new Date;const timeframes={"1d":1,"7d":7,"30d":30,"90d":90};const days=timeframes[get(selectedTimeframe)];if(days){const cutoff=new Date(now.getTime()-days*24*60*60*1e3);filtered=filtered.filter(tx=>tx.timestamp>cutoff)}}if(get(searchQuery)){const query=get(searchQuery).toLowerCase();filtered=filtered.filter(tx=>{var _a,_b,_c,_d;return tx.id.toLowerCase().includes(query)||tx.asset.symbol.toLowerCase().includes(query)||((_a=tx.toName)==null?void 0:_a.toLowerCase().includes(query))||((_b=tx.fromName)==null?void 0:_b.toLowerCase().includes(query))||((_c=tx.to)==null?void 0:_c.toLowerCase().includes(query))||((_d=tx.from)==null?void 0:_d.toLowerCase().includes(query))})}return filtered}),"filteredTransactions");function getTransactionIcon(type){switch(type){case"send":return{icon:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8",color:"text-primary-600",bg:"bg-primary-100"};case"receive":return{icon:"M7 16l-4-4m0 0l4-4m-4 4h18",color:"text-success-600",bg:"bg-success-100"};case"swap":return{icon:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4",color:"text-warning-600",bg:"bg-warning-100"};default:return{icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"text-text-muted",bg:"bg-border-light"}}}function getStatusColor(status){switch(status){case"confirmed":return"text-success bg-success-50";case"pending":return"text-warning bg-warning-50";case"failed":return"text-danger bg-danger-50";default:return"text-text-muted bg-border-light"}}function formatTime(date){const now=new Date;const diff=now.getTime()-date.getTime();const days=Math.floor(diff/(1e3*60*60*24));const hours=Math.floor(diff/(1e3*60*60));const minutes=Math.floor(diff/(1e3*60));if(days>0)return`${days}d ago`;if(hours>0)return`${hours}h ago`;if(minutes>0)return`${minutes}m ago`;return"Just now"}function viewTransactionDetail(transaction){console.log(...log_if_contains_state("log","View transaction:",transaction.id))}function goBack(){goto("/new-wallet")}var div=root();head($$anchor2=>{$document.title="Transaction History - YAKKL Smart Wallet"});var node=child(div);Header(node,{});var main=sibling(node,2);var div_1=child(main);var div_2=child(div_1);var node_1=child(div_2);BackButton(node_1,{onclick:goBack});var div_3=sibling(node_1,2);var p=sibling(child(div_3),2);var text$1=child(p);reset(p);reset(div_3);reset(div_2);var div_4=sibling(div_2,2);var input=child(div_4);remove_input_defaults(input);next(2);reset(div_4);var button=sibling(div_4,2);button.__click=[on_click,showFilters];var svg=sibling(child(button),4);reset(button);var node_2=sibling(button,2);{var consequent=$$anchor2=>{var div_5=root_2();var div_6=child(div_5);var div_7=sibling(child(div_6),2);var button_1=child(div_7);button_1.__click=[on_click_1,selectedFilter];var button_2=sibling(button_1,2);button_2.__click=[on_click_2,selectedFilter];var button_3=sibling(button_2,2);button_3.__click=[on_click_3,selectedFilter];var button_4=sibling(button_3,2);button_4.__click=[on_click_4,selectedFilter];reset(div_7);reset(div_6);var div_8=sibling(div_6,2);var div_9=sibling(child(div_8),2);var button_5=child(div_9);button_5.__click=[on_click_5,selectedTimeframe];var button_6=sibling(button_5,2);button_6.__click=[on_click_6,selectedTimeframe];var button_7=sibling(button_6,2);button_7.__click=[on_click_7,selectedTimeframe];var button_8=sibling(button_7,2);button_8.__click=[on_click_8,selectedTimeframe];var button_9=sibling(button_8,2);button_9.__click=[on_click_9,selectedTimeframe];reset(div_9);reset(div_8);reset(div_5);template_effect(()=>{set_class(button_1,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedFilter),"all")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_2,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedFilter),"send")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_3,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedFilter),"receive")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_4,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedFilter),"swap")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_5,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedTimeframe),"all")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_6,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedTimeframe),"1d")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_7,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedTimeframe),"7d")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_8,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedTimeframe),"30d")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`);set_class(button_9,1,`py-2 text-sm font-medium rounded-button transition-all ${strict_equals(get(selectedTimeframe),"90d")?"bg-primary-500 text-white":"bg-background text-text-secondary hover:bg-surface"}`)});transition(1,div_5,()=>fly,()=>({y:-10,duration:200}));transition(2,div_5,()=>fly,()=>({y:-10,duration:150}));append($$anchor2,div_5)};if_block(node_2,$$render=>{if(get(showFilters))$$render(consequent)})}reset(div_1);var div_10=sibling(div_1,2);var node_3=child(div_10);{var consequent_1=$$anchor2=>{var div_11=root_3();append($$anchor2,div_11)};var alternate=$$anchor2=>{var fragment=comment();var node_4=first_child(fragment);validate_each_keys(()=>get(filteredTransactions),transaction=>transaction.id);each(node_4,17,()=>get(filteredTransactions),transaction=>transaction.id,($$anchor3,transaction)=>{var button_10=root_5();button_10.__click=[on_click_10,viewTransactionDetail,transaction];var div_12=child(button_10);var div_13=child(div_12);var svg_1=child(div_13);var path=child(svg_1);reset(svg_1);reset(div_13);var div_14=sibling(div_13,2);var div_15=child(div_14);var p_1=child(div_15);var text_1=child(p_1);var node_5=sibling(text_1);{var consequent_2=$$anchor4=>{var text_2=text();template_effect(()=>{var _a;return set_text(text_2,`${get(transaction).asset.symbol??""} → ${((_a=get(transaction).toAsset)==null?void 0:_a.symbol)??""}`)});append($$anchor4,text_2)};var alternate_1=$$anchor4=>{var text_3=text();template_effect(()=>set_text(text_3,get(transaction).asset.symbol));append($$anchor4,text_3)};if_block(node_5,$$render=>{if(strict_equals(get(transaction).type,"swap"))$$render(consequent_2);else $$render(alternate_1,false)})}reset(p_1);var span=sibling(p_1,2);var text_4=child(span,true);reset(span);reset(div_15);var div_16=sibling(div_15,2);var node_6=child(div_16);{var consequent_3=$$anchor4=>{var span_1=root_8();var text_5=child(span_1);reset(span_1);template_effect(()=>set_text(text_5,`to ${get(transaction).toName??""}`));append($$anchor4,span_1)};var alternate_2=($$anchor4,$$elseif)=>{{var consequent_4=$$anchor5=>{var span_2=root_10();var text_6=child(span_2);reset(span_2);template_effect(()=>set_text(text_6,`from ${get(transaction).fromName??""}`));append($$anchor5,span_2)};var alternate_3=($$anchor5,$$elseif2)=>{{var consequent_5=$$anchor6=>{var span_3=root_12();var text_7=child(span_3);reset(span_3);template_effect(($0,$1)=>set_text(text_7,`to ${$0??""}...${$1??""}`),[()=>get(transaction).to.slice(0,6),()=>get(transaction).to.slice(-4)]);append($$anchor6,span_3)};var alternate_4=($$anchor6,$$elseif3)=>{{var consequent_6=$$anchor7=>{var span_4=root_14();var text_8=child(span_4);reset(span_4);template_effect(($0,$1)=>set_text(text_8,`from ${$0??""}...${$1??""}`),[()=>get(transaction).from.slice(0,6),()=>get(transaction).from.slice(-4)]);append($$anchor7,span_4)};if_block($$anchor6,$$render=>{if(strict_equals(get(transaction).type,"receive")&&get(transaction).from)$$render(consequent_6)},$$elseif3)}};if_block($$anchor5,$$render=>{if(strict_equals(get(transaction).type,"send")&&get(transaction).to)$$render(consequent_5);else $$render(alternate_4,false)},$$elseif2)}};if_block($$anchor4,$$render=>{if(strict_equals(get(transaction).type,"receive")&&get(transaction).fromName)$$render(consequent_4);else $$render(alternate_3,false)},$$elseif)}};if_block(node_6,$$render=>{if(strict_equals(get(transaction).type,"send")&&get(transaction).toName)$$render(consequent_3);else $$render(alternate_2,false)})}var span_5=sibling(node_6,4);var text_9=child(span_5,true);reset(span_5);reset(div_16);reset(div_14);var div_17=sibling(div_14,2);var p_2=child(div_17);var node_7=child(p_2);{var consequent_7=$$anchor4=>{var text_10=text();template_effect(()=>set_text(text_10,`${get(transaction).amount??""} ${get(transaction).asset.symbol??""}`));append($$anchor4,text_10)};var alternate_5=$$anchor4=>{var text_11=text();template_effect(()=>set_text(text_11,`${get(transaction).amount??""} ${get(transaction).asset.symbol??""}`));append($$anchor4,text_11)};if_block(node_7,$$render=>{if(strict_equals(get(transaction).type,"swap"))$$render(consequent_7);else $$render(alternate_5,false)})}reset(p_2);var p_3=sibling(p_2,2);var text_12=child(p_3,true);reset(p_3);reset(div_17);next(2);reset(div_12);reset(button_10);template_effect(($0,$1,$2,$3,$4)=>{set_class(div_13,1,`w-12 h-12 ${$0??""} rounded-full flex items-center justify-center flex-shrink-0`);set_class(svg_1,0,`w-5 h-5 ${$1??""}`);set_attribute(path,"d",$2);set_text(text_1,`${get(transaction).type??""} `);set_class(span,1,`px-2 py-1 text-xs font-medium rounded-full ${$3??""}`);set_text(text_4,get(transaction).status);set_text(text_9,$4);set_class(p_2,1,`font-medium ${strict_equals(get(transaction).isPositive,true)?"text-success":strict_equals(get(transaction).isPositive,false)?"text-danger":"text-text-primary"}`);set_text(text_12,get(transaction).value)},[()=>getTransactionIcon(get(transaction).type).bg,()=>getTransactionIcon(get(transaction).type).color,()=>getTransactionIcon(get(transaction).type).icon,()=>getStatusColor(get(transaction).status),()=>formatTime(get(transaction).timestamp)]);transition(1,button_10,()=>fly,()=>({y:10,duration:200}));append($$anchor3,button_10)});append($$anchor2,fragment)};if_block(node_3,$$render=>{if(strict_equals(get(filteredTransactions).length,0))$$render(consequent_1);else $$render(alternate,false)})}reset(div_10);var node_8=sibling(div_10,2);{var consequent_8=$$anchor2=>{var div_18=root_17();append($$anchor2,div_18)};if_block(node_8,$$render=>{if(get(filteredTransactions).length>0)$$render(consequent_8)})}reset(main);reset(div);template_effect(()=>{set_text(text$1,`${get(filteredTransactions).length??""} transactions`);set_class(svg,0,`w-4 h-4 transition-transform ${get(showFilters)?"rotate-180":""}`)});bind_value(input,()=>get(searchQuery),$$value=>set(searchQuery,$$value));append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);export{_page as component};
//# sourceMappingURL=63.BRPq31sG.js.map
