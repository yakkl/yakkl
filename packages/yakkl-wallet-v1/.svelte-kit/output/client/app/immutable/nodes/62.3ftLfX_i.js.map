{"version":3,"file":"62.3ftLfX_i.js","sources":["../../../../../../src/routes/preview1/emergency-kit/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { goto } from '$app/navigation';\n\timport { fade, fly, slide } from 'svelte/transition';\n\timport { onMount } from 'svelte';\n\timport Header from '../components/Header.svelte';\n\timport BackButton from '../components/BackButton.svelte';\n\n\t// Emergency kit state\n\tlet activeTab = $state('export');\n\tlet exportOptions = $state({\n\t\tincludePrivateKeys: true,\n\t\tincludeTransactionHistory: true,\n\t\tincludeContacts: true,\n\t\tincludeSettings: true,\n\t\tpassword: '',\n\t\tconfirmPassword: ''\n\t});\n\n\tlet importData = $state({\n\t\tfile: null as File | null,\n\t\tpassword: '',\n\t\tpreview: null as any\n\t});\n\n\tlet showPasswordModal = $state(false);\n\tlet isExporting = $state(false);\n\tlet isImporting = $state(false);\n\n\t// Mock kit data for export preview\n\tlet exportPreview = $state({\n\t\taccounts: 3,\n\t\tprivateKeys: 3,\n\t\ttransactions: 247,\n\t\tcontacts: 8,\n\t\tsettings: 'All preferences'\n\t});\n\n\tfunction switchTab(tab: string) {\n\t\tactiveTab = tab;\n\t}\n\n\tfunction handleFileSelect(event: Event) {\n\t\tconst input = event.target as HTMLInputElement;\n\t\tconst file = input.files?.[0];\n\t\t\n\t\tif (file) {\n\t\t\timportData.file = file;\n\t\t\t// Mock preview data\n\t\t\timportData.preview = {\n\t\t\t\taccounts: 2,\n\t\t\t\ttransactions: 156,\n\t\t\t\tcontacts: 5,\n\t\t\t\tcreatedAt: new Date('2024-01-10'),\n\t\t\t\tversion: '1.0.0'\n\t\t\t};\n\t\t}\n\t}\n\n\tasync function exportEmergencyKit() {\n\t\tif (!exportOptions.password || exportOptions.password !== exportOptions.confirmPassword) {\n\t\t\talert('Please enter matching passwords');\n\t\t\treturn;\n\t\t}\n\n\t\tisExporting = true;\n\t\t\n\t\ttry {\n\t\t\t// Mock export process\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 2000));\n\t\t\t\n\t\t\t// Create mock download\n\t\t\tconst kitData = {\n\t\t\t\tversion: '1.0.0',\n\t\t\t\tcreatedAt: new Date().toISOString(),\n\t\t\t\taccounts: exportOptions.includePrivateKeys ? ['account1', 'account2', 'account3'] : [],\n\t\t\t\ttransactions: exportOptions.includeTransactionHistory ? 'encrypted_data' : null,\n\t\t\t\tcontacts: exportOptions.includeContacts ? 'encrypted_contacts' : null,\n\t\t\t\tsettings: exportOptions.includeSettings ? 'encrypted_settings' : null\n\t\t\t};\n\n\t\t\tconst dataStr = JSON.stringify(kitData, null, 2);\n\t\t\tconst dataBlob = new Blob([dataStr], { type: 'application/json' });\n\t\t\tconst url = URL.createObjectURL(dataBlob);\n\t\t\t\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.href = url;\n\t\t\tlink.download = `yakkl-emergency-kit-${new Date().toISOString().split('T')[0]}.json`;\n\t\t\tdocument.body.appendChild(link);\n\t\t\tlink.click();\n\t\t\tdocument.body.removeChild(link);\n\t\t\tURL.revokeObjectURL(url);\n\n\t\t\talert('Emergency Kit exported successfully!');\n\t\t} catch (error) {\n\t\t\tconsole.error('Export failed:', error);\n\t\t\talert('Export failed. Please try again.');\n\t\t} finally {\n\t\t\tisExporting = false;\n\t\t\tshowPasswordModal = false;\n\t\t}\n\t}\n\n\tasync function importEmergencyKit() {\n\t\tif (!importData.file || !importData.password) {\n\t\t\talert('Please select a file and enter password');\n\t\t\treturn;\n\t\t}\n\n\t\tisImporting = true;\n\n\t\ttry {\n\t\t\t// Mock import process\n\t\t\tawait new Promise(resolve => setTimeout(resolve, 2000));\n\n\t\t\t// TODO: Implement actual import logic\n\t\t\tconsole.log('Importing emergency kit:', {\n\t\t\t\tfile: importData.file.name,\n\t\t\t\tpassword: importData.password\n\t\t\t});\n\n\t\t\talert('Emergency Kit imported successfully!');\n\t\t\t\n\t\t\t// Reset form\n\t\t\timportData = {\n\t\t\t\tfile: null,\n\t\t\t\tpassword: '',\n\t\t\t\tpreview: null\n\t\t\t};\n\t\t\t\n\t\t} catch (error) {\n\t\t\tconsole.error('Import failed:', error);\n\t\t\talert('Import failed. Please check your file and password.');\n\t\t} finally {\n\t\t\tisImporting = false;\n\t\t}\n\t}\n\n\tfunction goBack() {\n\t\tgoto('/new-wallet/settings');\n\t}\n</script>\n\n<svelte:head>\n\t<title>Emergency Kit - YAKKL Smart Wallet</title>\n</svelte:head>\n\n<div class=\"flex flex-col h-screen bg-background\">\n\t<Header />\n\t\n\t<main class=\"flex-1 overflow-auto\">\n\t\t<!-- Header Section -->\n\t\t<div class=\"p-4\">\n\t\t\t<div class=\"flex items-center space-x-4 mb-6\">\n\t\t\t\t<BackButton onclick={goBack} />\n\t\t\t\t<div>\n\t\t\t\t\t<h1 class=\"text-xl font-semibold text-text-primary flex items-center gap-2\">\n\t\t\t\t\t\tEmergency Kit\n\t\t\t\t\t\t<span class=\"px-2 py-1 text-xs font-medium bg-warning-100 text-warning-800 rounded-full\">PRO</span>\n\t\t\t\t\t</h1>\n\t\t\t\t\t<p class=\"text-sm text-text-muted\">Backup and restore your complete wallet</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Warning Banner -->\n\t\t\t<div class=\"bg-danger-50 border border-danger-200 rounded-card p-4 mb-6\">\n\t\t\t\t<div class=\"flex items-start space-x-3\">\n\t\t\t\t\t<svg class=\"w-5 h-5 text-danger-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t\t<p class=\"text-sm font-medium text-danger-800\">Critical Security Warning</p>\n\t\t\t\t\t\t<ul class=\"text-xs text-danger-700 space-y-1\">\n\t\t\t\t\t\t\t<li>• Emergency kits contain highly sensitive data including private keys</li>\n\t\t\t\t\t\t\t<li>• Store backups in secure, offline locations only</li>\n\t\t\t\t\t\t\t<li>• Never share emergency kits or upload to cloud services</li>\n\t\t\t\t\t\t\t<li>• Use strong, unique passwords for encryption</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Tab Navigation -->\n\t\t\t<div class=\"flex bg-surface rounded-card p-1 border border-border mb-6\">\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => switchTab('export')}\n\t\t\t\t\tclass=\"flex-1 flex items-center justify-center space-x-2 py-3 rounded transition-all {activeTab === 'export' ? 'bg-primary-500 text-white' : 'text-text-secondary hover:text-text-primary hover:bg-background'}\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span class=\"font-medium\">Export</span>\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => switchTab('import')}\n\t\t\t\t\tclass=\"flex-1 flex items-center justify-center space-x-2 py-3 rounded transition-all {activeTab === 'import' ? 'bg-primary-500 text-white' : 'text-text-secondary hover:text-text-primary hover:bg-background'}\"\n\t\t\t\t>\n\t\t\t\t\t<svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span class=\"font-medium\">Import</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tab Content -->\n\t\t<div class=\"px-4 space-y-6\">\n\t\t\t{#if activeTab === 'export'}\n\t\t\t\t<!-- Export Tab -->\n\t\t\t\t<div in:fade={{ duration: 200 }}>\n\t\t\t\t\t<!-- What to Include -->\n\t\t\t\t\t<div class=\"bg-surface rounded-card p-4 border border-border mb-6\">\n\t\t\t\t\t\t<h3 class=\"font-medium text-text-primary mb-4\">What to Include</h3>\n\t\t\t\t\t\t<div class=\"space-y-3\">\n\t\t\t\t\t\t\t<label class=\"flex items-center space-x-3 cursor-pointer\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tbind:checked={exportOptions.includePrivateKeys}\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm font-medium text-text-primary\">Private Keys & Seeds</p>\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-text-muted\">Required for full wallet recovery</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label class=\"flex items-center space-x-3 cursor-pointer\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tbind:checked={exportOptions.includeTransactionHistory}\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm font-medium text-text-primary\">Transaction History</p>\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-text-muted\">All past transactions and metadata</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label class=\"flex items-center space-x-3 cursor-pointer\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tbind:checked={exportOptions.includeContacts}\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm font-medium text-text-primary\">Address Book</p>\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-text-muted\">Saved contacts and labels</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t\t<label class=\"flex items-center space-x-3 cursor-pointer\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tbind:checked={exportOptions.includeSettings}\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm font-medium text-text-primary\">Settings & Preferences</p>\n\t\t\t\t\t\t\t\t\t<p class=\"text-xs text-text-muted\">Theme, currency, and all preferences</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Export Preview -->\n\t\t\t\t\t<div class=\"bg-surface rounded-card p-4 border border-border mb-6\">\n\t\t\t\t\t\t<h3 class=\"font-medium text-text-primary mb-4\">Export Preview</h3>\n\t\t\t\t\t\t<div class=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Accounts:</span>\n\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{exportPreview.accounts} accounts</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{#if exportOptions.includePrivateKeys}\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Private Keys:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{exportPreview.privateKeys} keys</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if exportOptions.includeTransactionHistory}\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Transactions:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{exportPreview.transactions} records</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if exportOptions.includeContacts}\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Contacts:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{exportPreview.contacts} contacts</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t{#if exportOptions.includeSettings}\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Settings:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{exportPreview.settings}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Export Button -->\n\t\t\t\t\t<button\n\t\t\t\t\t\tonclick={() => showPasswordModal = true}\n\t\t\t\t\t\tdisabled={!exportOptions.includePrivateKeys && !exportOptions.includeTransactionHistory && !exportOptions.includeContacts && !exportOptions.includeSettings}\n\t\t\t\t\t\tclass=\"w-full py-4 bg-primary-500 hover:bg-primary-600 disabled:bg-border disabled:text-text-muted text-white font-medium rounded-card transition-all disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<span>Create Emergency Kit</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t{:else}\n\t\t\t\t<!-- Import Tab -->\n\t\t\t\t<div in:fade={{ duration: 200 }}>\n\t\t\t\t\t<!-- File Upload -->\n\t\t\t\t\t<div class=\"bg-surface rounded-card p-4 border border-border mb-6\">\n\t\t\t\t\t\t<h3 class=\"font-medium text-text-primary mb-4\">Select Emergency Kit File</h3>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"border-2 border-dashed border-border rounded-card p-6 text-center mb-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\taccept=\".json\"\n\t\t\t\t\t\t\t\tonchange={handleFileSelect}\n\t\t\t\t\t\t\t\tclass=\"hidden\"\n\t\t\t\t\t\t\t\tid=\"emergency-kit-file\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label for=\"emergency-kit-file\" class=\"cursor-pointer\">\n\t\t\t\t\t\t\t\t<svg class=\"w-12 h-12 text-text-muted mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<p class=\"text-text-primary font-medium mb-1\">\n\t\t\t\t\t\t\t\t\t{importData.file ? importData.file.name : 'Choose Emergency Kit File'}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p class=\"text-sm text-text-muted\">\n\t\t\t\t\t\t\t\t\t{importData.file ? 'Click to change file' : 'Select a .json emergency kit file'}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if importData.file}\n\t\t\t\t\t\t\t<div class=\"bg-success-50 border border-success-200 rounded-card p-3\">\n\t\t\t\t\t\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t\t\t\t\t\t<svg class=\"w-4 h-4 text-success-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm font-medium text-success-800\">File loaded successfully</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Import Preview -->\n\t\t\t\t\t{#if importData.preview}\n\t\t\t\t\t\t<div class=\"bg-surface rounded-card p-4 border border-border mb-6\" in:slide={{ duration: 200 }}>\n\t\t\t\t\t\t\t<h3 class=\"font-medium text-text-primary mb-4\">Import Preview</h3>\n\t\t\t\t\t\t\t<div class=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Kit Version:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{importData.preview.version}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Created:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{importData.preview.createdAt.toLocaleDateString()}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Accounts:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{importData.preview.accounts} accounts</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Transactions:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{importData.preview.transactions} records</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-secondary\">Contacts:</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-text-primary\">{importData.preview.contacts} contacts</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<!-- Password Input -->\n\t\t\t\t\t{#if importData.file}\n\t\t\t\t\t\t<div class=\"bg-surface rounded-card p-4 border border-border mb-6\" in:slide={{ duration: 200 }}>\n\t\t\t\t\t\t\t<h3 class=\"font-medium text-text-primary mb-4\">Decryption Password</h3>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tbind:value={importData.password}\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tplaceholder=\"Enter the password used to encrypt this kit\"\n\t\t\t\t\t\t\t\tclass=\"w-full px-3 py-3 bg-background border border-border rounded-card text-text-primary placeholder-text-muted focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\n\t\t\t\t\t<!-- Import Button -->\n\t\t\t\t\t<button\n\t\t\t\t\t\tonclick={importEmergencyKit}\n\t\t\t\t\t\tdisabled={!importData.file || !importData.password || isImporting}\n\t\t\t\t\t\tclass=\"w-full py-4 bg-success-500 hover:bg-success-600 disabled:bg-border disabled:text-text-muted text-white font-medium rounded-card transition-all disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{#if isImporting}\n\t\t\t\t\t\t\t<svg class=\"w-5 h-5 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<span>Importing...</span>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t<path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<span>Import Emergency Kit</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t{/if}\n\t\t</div>\n\n\t\t<!-- Bottom Spacing -->\n\t\t<div class=\"h-6\"></div>\n\t</main>\n</div>\n\n<!-- Password Modal for Export -->\n{#if showPasswordModal}\n\t<div \n\t\tclass=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\"\n\t\tonclick={() => showPasswordModal = false}\n\t\tin:fade={{ duration: 200 }}\n\t\tout:fade={{ duration: 150 }}\n\t>\n\t\t<div \n\t\t\tclass=\"bg-surface-elevated rounded-card p-6 w-full max-w-md\"\n\t\t\tonclick={(e) => e.stopPropagation()}\n\t\t\tin:fly={{ y: 50, duration: 200 }}\n\t\t\tout:fly={{ y: 50, duration: 150 }}\n\t\t>\n\t\t\t<h3 class=\"text-lg font-semibold text-text-primary mb-4\">Encrypt Emergency Kit</h3>\n\t\t\t\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t<label class=\"block text-sm font-medium text-text-primary\">Encryption Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tbind:value={exportOptions.password}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Enter a strong password\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 bg-background border border-border rounded-button text-text-primary focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"space-y-2\">\n\t\t\t\t\t<label class=\"block text-sm font-medium text-text-primary\">Confirm Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tbind:value={exportOptions.confirmPassword}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tplaceholder=\"Confirm your password\"\n\t\t\t\t\t\tclass=\"w-full px-3 py-2 bg-background border border-border rounded-button text-text-primary focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"bg-warning-50 border border-warning-200 rounded-card p-3\">\n\t\t\t\t\t<div class=\"flex items-start space-x-2\">\n\t\t\t\t\t\t<svg class=\"w-4 h-4 text-warning-600 mt-0.5 flex-shrink-0\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.996-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<p class=\"text-xs text-warning-700\">\n\t\t\t\t\t\t\t<strong>Important:</strong> Store this password safely. Without it, your emergency kit cannot be restored.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"flex space-x-3 mt-6\">\n\t\t\t\t<button\n\t\t\t\t\tonclick={() => showPasswordModal = false}\n\t\t\t\t\tclass=\"flex-1 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors\"\n\t\t\t\t>\n\t\t\t\t\tCancel\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonclick={exportEmergencyKit}\n\t\t\t\t\tdisabled={!exportOptions.password || exportOptions.password !== exportOptions.confirmPassword || isExporting}\n\t\t\t\t\tclass=\"flex-1 py-2 bg-primary-500 hover:bg-primary-600 disabled:bg-border disabled:text-text-muted text-white font-medium rounded-button transition-all disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n\t\t\t\t>\n\t\t\t\t\t{#if isExporting}\n\t\t\t\t\t\t<svg class=\"w-4 h-4 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t<path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<span>Exporting...</span>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<span>Export Kit</span>\n\t\t\t\t\t{/if}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}"],"names":["handleFileSelect","event","importData","input","target","file","_a","files","get","preview","accounts","transactions","contacts","createdAt","Date","version","async","exportEmergencyKit","exportOptions","password","$.strict_equals","confirmPassword","alert","isExporting","Promise","resolve","setTimeout","kitData","toISOString","includePrivateKeys","includeTransactionHistory","includeContacts","settings","includeSettings","dataStr","JSON","stringify","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","split","body","appendChild","click","removeChild","revokeObjectURL","error","console","$.log_if_contains_state","showPasswordModal","importEmergencyKit","__1","isImporting","$.get","log","name","set","on_click","__2","switchTab","on_click_1","__3","on_click_2","__4","$.set","on_click_3","__5","e","stopPropagation","on_click_5","__6","activeTab","$.tag","$.state","$.tag_proxy","$.proxy","exportPreview","privateKeys","tab","goBack","goto","template_effect","$.set_text","text_1","$$render","consequent","text_2","consequent_1","text_3","consequent_2","$.template_effect","text_4","consequent_3","text","button_2","disabled","bind_checked","input_1","$$value","input_2","input_3","input_4","transition","div_5","fade","duration","consequent_5","toLocaleDateString","div_19","slide","consequent_6","$.bind_value","input_6","div_26","consequent_7","consequent_8","alternate_1","text_6","button_3","div_15","consequent_4","alternate","consequent_9","alternate_2","bind_value","input_7","input_8","div_28","fly","y","div_27","consequent_10","set_class","button","button_1"],"mappings":"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"}