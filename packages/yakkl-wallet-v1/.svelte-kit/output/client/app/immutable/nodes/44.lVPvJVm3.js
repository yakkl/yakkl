import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{p as push,h as tag,ay as user_effect,e as set,b as strict_equals,a as pop,i as state,F as FILENAME}from"../chunks/BaS8d5lg.js";import{v as validate_store}from"../chunks/Dv9a3G0k.js";import{a as store_get,s as setup_stores}from"../chunks/CViNpZsE.js";import{b as browserSvelte}from"../chunks/CgCfpVku.js";import{g as goto}from"../chunks/CkqS9PXN.js";import{Z as yakklCurrentlySelectedStore,a8 as yakklSettingsStore,B as setMiscStore,i as PATH_LOGOUT,l as log}from"../chunks/Cb2naUpm.js";import"../chunks/WDN37msH.js";import"../chunks/z-nmOEXa.js";import{a as setIconLock}from"../chunks/CnIbzB-6.js";import"../chunks/Dw28gLPr.js";import"../chunks/D-aJ6pD4.js";import{setLocks}from"../chunks/AcHxiMn1.js";_page[FILENAME]="src/routes/(wallet)/lock/+page.svelte";function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);const[$$stores,$$cleanup]=setup_stores();const $yakklCurrentlySelectedStore=()=>(validate_store(yakklCurrentlySelectedStore,"yakklCurrentlySelectedStore"),store_get(yakklCurrentlySelectedStore,"$yakklCurrentlySelectedStore",$$stores));const $yakklSettingsStore=()=>(validate_store(yakklSettingsStore,"yakklSettingsStore"),store_get(yakklSettingsStore,"$yakklSettingsStore",$$stores));let yakklCurrentlySelected=tag(state(null),"yakklCurrentlySelected");let yakklSettings=tag(state(null),"yakklSettings");user_effect(()=>{set(yakklCurrentlySelected,$yakklCurrentlySelectedStore(),true)});user_effect(()=>{set(yakklSettings,$yakklSettingsStore(),true)});let isUpdating=false;async function update(){if(isUpdating)return;isUpdating=true;try{if(browserSvelte){await setIconLock();await setLocks(true);setMiscStore("");goto(PATH_LOGOUT)}}catch(e){log.error("Locking error:",e,e==null?void 0:e.stack);if(browserSvelte){try{goto(PATH_LOGOUT)}catch(error){log.error("Navigation to logout failed:",false,error)}}}finally{isUpdating=false}}(async()=>{if(strict_equals(typeof browserSvelte,"undefined",false)&&browserSvelte){await update()}})();var $$pop=pop({...legacy_api()});$$cleanup();return $$pop}export{_page as component};
//# sourceMappingURL=44.lVPvJVm3.js.map
