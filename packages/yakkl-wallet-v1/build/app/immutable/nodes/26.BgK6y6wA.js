var __defProp=Object.defineProperty;var __typeError=msg=>{throw TypeError(msg)};var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:true,configurable:true,writable:true,value:value}):obj[key]=value;var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!=="symbol"?key+"":key,value);var __accessCheck=(obj,member,msg)=>member.has(obj)||__typeError("Cannot "+msg);var __privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj));var __privateAdd=(obj,member,value)=>member.has(obj)?__typeError("Cannot add the same private member more than once"):member instanceof WeakSet?member.add(obj):member.set(obj,value);var __privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);var _id,_ref,_loop,_props,_value,_value2,_id2,_ref2,_isActive,_isDisabled,_props2,_ref3,_disabled,_id3,_root,_itemState,_isDisabled2,_props3,_ref4,_id4,_originalStyles,_isMountAnimationPrevented,_width,_height,_forceMount,_present,_snippetProps,_props4,_id5,_ref5,_level,_item,_props5;import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{bG as validate_effect,bH as inspect_effect,a0 as UNINITIALIZED,b as strict_equals,h as tag,u as user_derived,g as get,e as set,i as state,ax as user_pre_effect,p as push,f as first_child,a as pop,c as child,n as noop$1,r as reset,F as FILENAME,k as derived_safe_equal,ae as proxy,ay as user_effect,s as sibling,t as template_effect,bv as to_array,o as onMount,j as next,d as onDestroy,aC as tag_proxy}from"../chunks/BaS8d5lg.js";import{a as add_locations}from"../chunks/3AhEABF_.js";import{d as delegate,b as apply}from"../chunks/DiU70Is3.js";import{c as comment,a as append,f as from_html,d as from_svg,t as text}from"../chunks/Cm3jf07C.js";import{i as if_block}from"../chunks/Q1yPWpQ-.js";import{s as snippet,w as wrap_snippet}from"../chunks/d5hrMixo.js";import{s as set_class,c as clsx}from"../chunks/DX_EEhpR.js";import{d as derived,w as writable,g as get$1}from"../chunks/B2gA1VsD.js";import{l as log,g as getSettings,b1 as getYakklCombinedToken,_ as __vitePreload,aj as yakklCombinedTokenStore,aS as setYakklTokenDataStorage,V as VERSION,d5 as yakklBookmarkedArticlesStore,d6 as setYakklBookmarkedArticles,aq as CoinbasePriceProvider,d7 as updateCombinedTokenStore,at as setYakklCombinedTokenStorage}from"../chunks/Cb2naUpm.js";import{s as set_text}from"../chunks/Cmwrv3PW.js";import{e as each,i as index}from"../chunks/DraJ8LN-.js";import{c as component}from"../chunks/Dyu6WQ9w.js";import{p as prop,r as rest_props,s as spread_props,l as legacy_rest_props}from"../chunks/BYboeQtC.js";import{s as snapshot,l as log_if_contains_state}from"../chunks/DZ17DrFv.js";import{l as log$1}from"../chunks/WDN37msH.js";import{a as browser_ext,b as browserSvelte}from"../chunks/CgCfpVku.js";import{h as handleOnMessageForPricing}from"../chunks/D-mKCNoU.js";import{b as startPricingChecks,K as KrakenPriceProvider}from"../chunks/Ch26qbWO.js";import{u as updateTokenPrices}from"../chunks/CrqeLLe0.js";import{d as attribute_effect,s as set_attribute,r as remove_input_defaults,i as init_select,a as set_value,e as select_option}from"../chunks/DTBsVM-c.js";import{o as getTokenChange,n as formatPrice,s as setBadgeText}from"../chunks/CnIbzB-6.js";import{v as validate_snippet_args}from"../chunks/BWLEmBJs.js";import{T as Tooltip_1,E as EyeIcon,P as PlanBadge}from"../chunks/DoycIOVK.js";import{c as create_ownership_validator}from"../chunks/COgMMZ9C.js";import{e as createContext,u as useRefById,F as getDataOrientation,g as getDataDisabled,q as getDataOpenClosed,S as SPACE,p as ENTER,v as getAriaDisabled,r as getAriaExpanded,f as useId,n as noop,d as box,m as mergeProps,h as cn}from"../chunks/BMfkC98N.js";import{w as watch,k as afterTick,t as Presence_layer}from"../chunks/Bhrv3bsB.js";import{u as useRovingFocus,P as Placeholder}from"../chunks/cFqkwrQM.js";import"../chunks/Doq7snb5.js";import{s as slot}from"../chunks/BOv9jBNQ.js";import{b as validate_dynamic_element_tag,v as validate_store}from"../chunks/Dv9a3G0k.js";import{e as element}from"../chunks/CyoN3b3o.js";import{i as init}from"../chunks/D9iNYspi.js";import{h as html}from"../chunks/CAyblTkn.js";import{UnifiedTimerManager}from"../chunks/z-nmOEXa.js";import{s as set_style}from"../chunks/D1JcdFy3.js";import{b as bind_this}from"../chunks/BMXnoaUY.js";import{a as store_get,s as setup_stores}from"../chunks/CViNpZsE.js";import{C as Confirmation}from"../chunks/BWiVuumU.js";import{b as bind_value}from"../chunks/B6q982nR.js";import{M as Modal}from"../chunks/UU1vCwIM.js";import{P as PriceManager,C as CoingeckoPriceProvider}from"../chunks/CZAHYQZy.js";import{C as Copyright}from"../chunks/w2W0-xnm.js";import{U as Upgrade}from"../chunks/CIbUU8ai.js";import{h as isProLevel}from"../chunks/BgnL0Zd7.js";import{t as transition,a as fly}from"../chunks/DevLwR0m.js";import{S as SimpleTooltip}from"../chunks/De3JWpHf.js";import{g as goto}from"../chunks/CkqS9PXN.js";function inspect(get_value,inspector=console.log){validate_effect("$inspect");let initial=true;inspect_effect(()=>{var value=UNINITIALIZED;try{value=get_value()}catch(error){console.error(error)}if(value!==UNINITIALIZED){inspector(initial?"init":"update",...snapshot(value,true))}initial=false})}const ACCORDION_ROOT_ATTR="data-accordion-root";const ACCORDION_TRIGGER_ATTR="data-accordion-trigger";const ACCORDION_CONTENT_ATTR="data-accordion-content";const ACCORDION_ITEM_ATTR="data-accordion-item";const ACCORDION_HEADER_ATTR="data-accordion-header";class AccordionBaseState{constructor(props){__privateAdd(this,_id);__privateAdd(this,_ref);__publicField(this,"disabled");__privateAdd(this,_loop);__publicField(this,"orientation");__publicField(this,"rovingFocusGroup");__privateAdd(this,_props,tag(user_derived(()=>({id:__privateGet(this,_id).current,"data-orientation":getDataOrientation(this.orientation.current),"data-disabled":getDataDisabled(this.disabled.current),[ACCORDION_ROOT_ATTR]:""})),"AccordionBaseState.props"));__privateSet(this,_id,props.id);this.disabled=props.disabled;__privateSet(this,_ref,props.ref);useRefById({id:props.id,ref:__privateGet(this,_ref)});this.orientation=props.orientation;__privateSet(this,_loop,props.loop);this.rovingFocusGroup=useRovingFocus({rootNodeId:__privateGet(this,_id),candidateAttr:ACCORDION_TRIGGER_ATTR,loop:__privateGet(this,_loop),orientation:this.orientation})}get props(){return get(__privateGet(this,_props))}set props(value){set(__privateGet(this,_props),value)}}_id=new WeakMap;_ref=new WeakMap;_loop=new WeakMap;_props=new WeakMap;class AccordionSingleState extends AccordionBaseState{constructor(props){super(props);__privateAdd(this,_value);__publicField(this,"isMulti",false);__privateSet(this,_value,props.value);this.includesItem=this.includesItem.bind(this);this.toggleItem=this.toggleItem.bind(this)}includesItem(item){return strict_equals(__privateGet(this,_value).current,item)}toggleItem(item){__privateGet(this,_value).current=this.includesItem(item)?"":item}}_value=new WeakMap;class AccordionMultiState extends AccordionBaseState{constructor(props){super(props);__privateAdd(this,_value2);__publicField(this,"isMulti",true);__privateSet(this,_value2,props.value);this.includesItem=this.includesItem.bind(this);this.toggleItem=this.toggleItem.bind(this)}includesItem(item){return __privateGet(this,_value2).current.includes(item)}toggleItem(item){if(this.includesItem(item)){__privateGet(this,_value2).current=__privateGet(this,_value2).current.filter(v=>strict_equals(v,item,false))}else{__privateGet(this,_value2).current=[...__privateGet(this,_value2).current,item]}}}_value2=new WeakMap;class AccordionItemState{constructor(props){__privateAdd(this,_id2);__privateAdd(this,_ref2);__publicField(this,"value");__publicField(this,"disabled");__publicField(this,"root");__privateAdd(this,_isActive,tag(user_derived(()=>this.root.includesItem(this.value.current)),"AccordionItemState.isActive"));__privateAdd(this,_isDisabled,tag(user_derived(()=>this.disabled.current||this.root.disabled.current),"AccordionItemState.isDisabled"));__privateAdd(this,_props2,tag(user_derived(()=>({id:__privateGet(this,_id2).current,"data-state":getDataOpenClosed(this.isActive),"data-disabled":getDataDisabled(this.isDisabled),"data-orientation":getDataOrientation(this.root.orientation.current),[ACCORDION_ITEM_ATTR]:""})),"AccordionItemState.props"));this.value=props.value;this.disabled=props.disabled;this.root=props.rootState;__privateSet(this,_id2,props.id);__privateSet(this,_ref2,props.ref);this.updateValue=this.updateValue.bind(this);useRefById({id:__privateGet(this,_id2),ref:__privateGet(this,_ref2),deps:()=>this.isActive})}get isActive(){return get(__privateGet(this,_isActive))}set isActive(value){set(__privateGet(this,_isActive),value)}get isDisabled(){return get(__privateGet(this,_isDisabled))}set isDisabled(value){set(__privateGet(this,_isDisabled),value)}updateValue(){this.root.toggleItem(this.value.current)}get props(){return get(__privateGet(this,_props2))}set props(value){set(__privateGet(this,_props2),value)}}_id2=new WeakMap;_ref2=new WeakMap;_isActive=new WeakMap;_isDisabled=new WeakMap;_props2=new WeakMap;class AccordionTriggerState{constructor(props,itemState){__privateAdd(this,_ref3);__privateAdd(this,_disabled);__privateAdd(this,_id3);__privateAdd(this,_root);__privateAdd(this,_itemState);__privateAdd(this,_isDisabled2,tag(user_derived(()=>__privateGet(this,_disabled).current||__privateGet(this,_itemState).disabled.current||__privateGet(this,_root).disabled.current),"AccordionTriggerState.#isDisabled"));__privateAdd(this,_props3,tag(user_derived(()=>({id:__privateGet(this,_id3).current,disabled:get(__privateGet(this,_isDisabled2)),"aria-expanded":getAriaExpanded(__privateGet(this,_itemState).isActive),"aria-disabled":getAriaDisabled(get(__privateGet(this,_isDisabled2))),"data-disabled":getDataDisabled(get(__privateGet(this,_isDisabled2))),"data-state":getDataOpenClosed(__privateGet(this,_itemState).isActive),"data-orientation":getDataOrientation(__privateGet(this,_root).orientation.current),[ACCORDION_TRIGGER_ATTR]:"",tabindex:0,onclick:this.onclick,onkeydown:this.onkeydown})),"AccordionTriggerState.props"));__privateSet(this,_disabled,props.disabled);__privateSet(this,_itemState,itemState);__privateSet(this,_root,itemState.root);__privateSet(this,_id3,props.id);__privateSet(this,_ref3,props.ref);this.onkeydown=this.onkeydown.bind(this);this.onclick=this.onclick.bind(this);useRefById({id:props.id,ref:__privateGet(this,_ref3)})}onclick(e){if(get(__privateGet(this,_isDisabled2)))return;if(strict_equals(e.button,0,false))return e.preventDefault();__privateGet(this,_itemState).updateValue()}onkeydown(e){if(get(__privateGet(this,_isDisabled2)))return;if(strict_equals(e.key,SPACE)||strict_equals(e.key,ENTER)){e.preventDefault();__privateGet(this,_itemState).updateValue();return}__privateGet(this,_root).rovingFocusGroup.handleKeydown(__privateGet(this,_ref3).current,e)}get props(){return get(__privateGet(this,_props3))}set props(value){set(__privateGet(this,_props3),value)}}_ref3=new WeakMap;_disabled=new WeakMap;_id3=new WeakMap;_root=new WeakMap;_itemState=new WeakMap;_isDisabled2=new WeakMap;_props3=new WeakMap;class AccordionContentState{constructor(props,item){__publicField(this,"item");__privateAdd(this,_ref4);__privateAdd(this,_id4);__privateAdd(this,_originalStyles);__privateAdd(this,_isMountAnimationPrevented,false);__privateAdd(this,_width,tag(state(0),"AccordionContentState.#width"));__privateAdd(this,_height,tag(state(0),"AccordionContentState.#height"));__privateAdd(this,_forceMount);__privateAdd(this,_present,tag(user_derived(()=>__privateGet(this,_forceMount).current||this.item.isActive),"AccordionContentState.present"));__privateAdd(this,_snippetProps,tag(user_derived(()=>({open:this.item.isActive})),"AccordionContentState.snippetProps"));__privateAdd(this,_props4,tag(user_derived(()=>({id:__privateGet(this,_id4).current,"data-state":getDataOpenClosed(this.item.isActive),"data-disabled":getDataDisabled(this.item.isDisabled),"data-orientation":getDataOrientation(this.item.root.orientation.current),[ACCORDION_CONTENT_ATTR]:"",style:{"--bits-accordion-content-height":`${get(__privateGet(this,_height))}px`,"--bits-accordion-content-width":`${get(__privateGet(this,_width))}px`}})),"AccordionContentState.props"));this.item=item;__privateSet(this,_forceMount,props.forceMount);__privateSet(this,_isMountAnimationPrevented,this.item.isActive);__privateSet(this,_id4,props.id);__privateSet(this,_ref4,props.ref);useRefById({id:__privateGet(this,_id4),ref:__privateGet(this,_ref4)});user_pre_effect(()=>{const rAF=requestAnimationFrame(()=>{__privateSet(this,_isMountAnimationPrevented,false)});return()=>{cancelAnimationFrame(rAF)}});watch([()=>this.present,()=>__privateGet(this,_ref4).current],([_,node])=>{if(!node)return;afterTick(()=>{if(!__privateGet(this,_ref4).current)return;__privateSet(this,_originalStyles,__privateGet(this,_originalStyles)||{transitionDuration:node.style.transitionDuration,animationName:node.style.animationName});node.style.transitionDuration="0s";node.style.animationName="none";const rect=node.getBoundingClientRect();set(__privateGet(this,_height),rect.height,true);set(__privateGet(this,_width),rect.width,true);if(!__privateGet(this,_isMountAnimationPrevented)){const{animationName:animationName,transitionDuration:transitionDuration}=__privateGet(this,_originalStyles);node.style.transitionDuration=transitionDuration;node.style.animationName=animationName}})})}get present(){return get(__privateGet(this,_present))}set present(value){set(__privateGet(this,_present),value)}get snippetProps(){return get(__privateGet(this,_snippetProps))}set snippetProps(value){set(__privateGet(this,_snippetProps),value)}get props(){return get(__privateGet(this,_props4))}set props(value){set(__privateGet(this,_props4),value)}}_ref4=new WeakMap;_id4=new WeakMap;_originalStyles=new WeakMap;_isMountAnimationPrevented=new WeakMap;_width=new WeakMap;_height=new WeakMap;_forceMount=new WeakMap;_present=new WeakMap;_snippetProps=new WeakMap;_props4=new WeakMap;class AccordionHeaderState{constructor(props,item){__privateAdd(this,_id5);__privateAdd(this,_ref5);__privateAdd(this,_level);__privateAdd(this,_item);__privateAdd(this,_props5,tag(user_derived(()=>({id:__privateGet(this,_id5).current,role:"heading","aria-level":__privateGet(this,_level).current,"data-heading-level":__privateGet(this,_level).current,"data-state":getDataOpenClosed(__privateGet(this,_item).isActive),"data-orientation":getDataOrientation(__privateGet(this,_item).root.orientation.current),[ACCORDION_HEADER_ATTR]:""})),"AccordionHeaderState.props"));__privateSet(this,_level,props.level);__privateSet(this,_id5,props.id);__privateSet(this,_ref5,props.ref);useRefById({id:__privateGet(this,_id5),ref:__privateGet(this,_ref5)});__privateSet(this,_item,item)}get props(){return get(__privateGet(this,_props5))}set props(value){set(__privateGet(this,_props5),value)}}_id5=new WeakMap;_ref5=new WeakMap;_level=new WeakMap;_item=new WeakMap;_props5=new WeakMap;const[setAccordionRootContext,getAccordionRootContext]=createContext("Accordion.Root");const[setAccordionItemContext,getAccordionItemContext]=createContext("Accordion.Item");function useAccordionRoot(props){const{type:type,...rest}=props;const rootState=strict_equals(type,"single")?new AccordionSingleState(rest):new AccordionMultiState(rest);return setAccordionRootContext(rootState)}function useAccordionItem(props){const rootState=getAccordionRootContext();return setAccordionItemContext(new AccordionItemState({...props,rootState:rootState}))}function useAccordionTrigger(props){const item=getAccordionItemContext();return new AccordionTriggerState(props,item)}function useAccordionContent(props){const item=getAccordionItemContext();return new AccordionContentState(props,item)}function useAccordionHeader(props){const item=getAccordionItemContext();return new AccordionHeaderState(props,item)}Accordion[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/accordion/components/accordion.svelte";var root_2$f=add_locations(from_html(`<div><!></div>`),Accordion[FILENAME],[[48,1]]);function Accordion($$anchor,$$props){check_target(new.target);push($$props,true,Accordion);let disabled=prop($$props,"disabled",3,false),value=prop($$props,"value",15),ref=prop($$props,"ref",15,null),id=prop($$props,"id",19,useId),onValueChange=prop($$props,"onValueChange",3,noop),loop=prop($$props,"loop",3,true),orientation=prop($$props,"orientation",3,"vertical"),controlledValue=prop($$props,"controlledValue",3,false),restProps=rest_props($$props,["$$slots","$$events","$$legacy","disabled","children","child","type","value","ref","id","onValueChange","loop","orientation","controlledValue"],"restProps");strict_equals(value(),void 0)&&value(strict_equals($$props.type,"single")?"":[]);const rootState=useAccordionRoot({type:$$props.type,value:box.with(()=>value(),v=>{if(controlledValue()){onValueChange()(v)}else{value(v);onValueChange()(v)}}),id:box.with(()=>id()),disabled:box.with(()=>disabled()),loop:box.with(()=>loop()),orientation:box.with(()=>orientation()),ref:box.with(()=>ref(),v=>ref(v))});const mergedProps=tag(user_derived(()=>mergeProps(restProps,rootState.props)),"mergedProps");var fragment=comment();var node=first_child(fragment);{var consequent=$$anchor2=>{var fragment_1=comment();var node_1=first_child(fragment_1);snippet(node_1,()=>$$props.child,()=>({props:get(mergedProps)}));append($$anchor2,fragment_1)};var alternate=$$anchor2=>{var div=root_2$f();attribute_effect(div,()=>({...get(mergedProps)}));var node_2=child(div);snippet(node_2,()=>$$props.children??noop$1);reset(div);append($$anchor2,div)};if_block(node,$$render=>{if($$props.child)$$render(consequent);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}Accordion_item$1[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/accordion/components/accordion-item.svelte";var root_2$e=add_locations(from_html(`<div><!></div>`),Accordion_item$1[FILENAME],[[28,1]]);function Accordion_item$1($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_item$1);let id=prop($$props,"id",19,useId),disabled=prop($$props,"disabled",3,false),value=prop($$props,"value",19,useId),ref=prop($$props,"ref",15,null),restProps=rest_props($$props,["$$slots","$$events","$$legacy","id","disabled","value","children","child","ref"],"restProps");const itemState=useAccordionItem({value:box.with(()=>value()),disabled:box.with(()=>disabled()),id:box.with(()=>id()),ref:box.with(()=>ref(),v=>ref(v))});const mergedProps=tag(user_derived(()=>mergeProps(restProps,itemState.props)),"mergedProps");var fragment=comment();var node=first_child(fragment);{var consequent=$$anchor2=>{var fragment_1=comment();var node_1=first_child(fragment_1);snippet(node_1,()=>$$props.child,()=>({props:get(mergedProps)}));append($$anchor2,fragment_1)};var alternate=$$anchor2=>{var div=root_2$e();attribute_effect(div,()=>({...get(mergedProps)}));var node_2=child(div);snippet(node_2,()=>$$props.children??noop$1);reset(div);append($$anchor2,div)};if_block(node,$$render=>{if($$props.child)$$render(consequent);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}Accordion_header[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/accordion/components/accordion-header.svelte";var root_2$d=add_locations(from_html(`<div><!></div>`),Accordion_header[FILENAME],[[26,1]]);function Accordion_header($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_header);let id=prop($$props,"id",19,useId),level=prop($$props,"level",3,2),ref=prop($$props,"ref",15,null),restProps=rest_props($$props,["$$slots","$$events","$$legacy","id","level","children","child","ref"],"restProps");const headerState=useAccordionHeader({id:box.with(()=>id()),level:box.with(()=>level()),ref:box.with(()=>ref(),v=>ref(v))});const mergedProps=tag(user_derived(()=>mergeProps(restProps,headerState.props)),"mergedProps");var fragment=comment();var node=first_child(fragment);{var consequent=$$anchor2=>{var fragment_1=comment();var node_1=first_child(fragment_1);snippet(node_1,()=>$$props.child,()=>({props:get(mergedProps)}));append($$anchor2,fragment_1)};var alternate=$$anchor2=>{var div=root_2$d();attribute_effect(div,()=>({...get(mergedProps)}));var node_2=child(div);snippet(node_2,()=>$$props.children??noop$1);reset(div);append($$anchor2,div)};if_block(node,$$render=>{if($$props.child)$$render(consequent);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}Accordion_trigger$1[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/accordion/components/accordion-trigger.svelte";var root_2$c=add_locations(from_html(`<button><!></button>`),Accordion_trigger$1[FILENAME],[[26,1]]);function Accordion_trigger$1($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_trigger$1);let disabled=prop($$props,"disabled",3,false),ref=prop($$props,"ref",15,null),id=prop($$props,"id",19,useId),restProps=rest_props($$props,["$$slots","$$events","$$legacy","disabled","ref","id","children","child"],"restProps");const triggerState=useAccordionTrigger({disabled:box.with(()=>disabled()),id:box.with(()=>id()),ref:box.with(()=>ref(),v=>ref(v))});const mergedProps=tag(user_derived(()=>mergeProps(restProps,triggerState.props)),"mergedProps");var fragment=comment();var node=first_child(fragment);{var consequent=$$anchor2=>{var fragment_1=comment();var node_1=first_child(fragment_1);snippet(node_1,()=>$$props.child,()=>({props:get(mergedProps)}));append($$anchor2,fragment_1)};var alternate=$$anchor2=>{var button=root_2$c();attribute_effect(button,()=>({type:"button",...get(mergedProps)}));var node_2=child(button);snippet(node_2,()=>$$props.children??noop$1);reset(button);append($$anchor2,button)};if_block(node,$$render=>{if($$props.child)$$render(consequent);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}Accordion_content$1[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/accordion/components/accordion-content.svelte";var root_3$7=add_locations(from_html(`<div><!></div>`),Accordion_content$1[FILENAME],[[34,3]]);function Accordion_content$1($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_content$1);let ref=prop($$props,"ref",15,null),id=prop($$props,"id",19,useId),forceMount=prop($$props,"forceMount",3,false),restProps=rest_props($$props,["$$slots","$$events","$$legacy","child","ref","id","forceMount","children"],"restProps");const contentState=useAccordionContent({forceMount:box.with(()=>forceMount()),id:box.with(()=>id()),ref:box.with(()=>ref(),v=>ref(v))});{const presence=wrap_snippet(Accordion_content$1,function($$anchor2,$$arg0){validate_snippet_args(...arguments);let present=()=>$$arg0==null?void 0:$$arg0().present;present();var fragment_1=comment();const mergedProps=user_derived(()=>mergeProps(restProps,contentState.props,{hidden:forceMount()?void 0:!present().current}));get(mergedProps);var node=first_child(fragment_1);{var consequent=$$anchor3=>{var fragment_2=comment();var node_1=first_child(fragment_2);var render_arg=derived_safe_equal(()=>({props:get(mergedProps),...contentState.snippetProps}));snippet(node_1,()=>$$props.child,()=>get(render_arg));append($$anchor3,fragment_2)};var alternate=$$anchor3=>{var div=root_3$7();attribute_effect(div,()=>({...get(mergedProps)}));var node_2=child(div);snippet(node_2,()=>$$props.children??noop$1);reset(div);append($$anchor3,div)};if_block(node,$$render=>{if($$props.child)$$render(consequent);else $$render(alternate,false)})}append($$anchor2,fragment_1)});Presence_layer($$anchor,{forceMount:true,get present(){return contentState.present},get id(){return id()},presence:presence,$$slots:{presence:true}})}return pop({...legacy_api()})}TokenLineView[FILENAME]="src/lib/components/TokenLineView.svelte";var root_2$b=add_locations(from_html(`<img class="w-6 h-6 rounded-full"/>`),TokenLineView[FILENAME],[[49,4]]);var root_3$6=add_locations(from_html(`<p class="text-sm font-medium"> </p>`),TokenLineView[FILENAME],[[58,4]]);var root_1$f=add_locations(from_html(`<a target="_blank" rel="noopener noreferrer"><div class="flex items-center gap-2 item"><!> <div><p class="text-sm font-medium"> </p></div></div> <div class="text-right"><!></div></a>`),TokenLineView[FILENAME],[[41,1,[[47,2,[[51,3,[[52,4]]]]],[56,2]]]]);var root_5$5=add_locations(from_html(`<img class="w-6 h-6 rounded-full"/>`),TokenLineView[FILENAME],[[73,4]]);var root_6$3=add_locations(from_html(`<p class="text-sm font-medium"> </p>`),TokenLineView[FILENAME],[[82,4]]);var root_4$7=add_locations(from_html(`<div><div class="flex items-center gap-2"><!> <div><p class="text-sm font-medium"> </p></div></div> <div class="text-right"><!></div></div>`),TokenLineView[FILENAME],[[68,1,[[71,2,[[75,3,[[76,4]]]]],[80,2]]]]);function TokenLineView($$anchor,$$props){var _a,_b;check_target(new.target);push($$props,true,TokenLineView);let locked=prop($$props,"locked",3,true),className=prop($$props,"className",3,"");const percentChange=getTokenChange($$props.token.change,"24h");strict_equals(percentChange,null)?"text-slate-900":percentChange>=0?"text-green-500":"text-red-500";let balance=tag(state(proxy((_a=$$props.token)==null?void 0:_a.balance)),"balance");let price=tag(state(0),"price");let priceFormatted=tag(state(""),"priceFormatted");let value=tag(state(0),"value");let valueFormatted=tag(state(""),"valueFormatted");user_effect(()=>{var _a2,_b2,_c;set(balance,(_a2=$$props.token)==null?void 0:_a2.balance,true);set(price,((_c=(_b2=$$props.token)==null?void 0:_b2.price)==null?void 0:_c.price)??0,true);set(priceFormatted,formatPrice(get(price)),true);set(value,get(balance)?Number(get(balance))*get(price):0,true);set(valueFormatted,formatPrice(get(value)),true)});log.info("TokenLineView",false,{token:$$props.token,locked:locked(),balance:$$props.token.balance,quantity:$$props.token.quantity,price:(_b=$$props.token.price)==null?void 0:_b.price});function getTooltipPrice(){if(get(price)<.01){const formatted=get(price).toFixed($$props.token.decimals);return`$${formatted.replace(/\.?0+$/,"")}`}return`${formatPrice(get(price))}`}var fragment=comment();var node=first_child(fragment);{var consequent_1=$$anchor2=>{var a=root_1$f();var div=child(a);var node_1=child(div);{var consequent=$$anchor3=>{var img=root_2$b();template_effect(()=>{set_attribute(img,"src",$$props.token.logoURI);set_attribute(img,"alt",$$props.token.symbol)});append($$anchor3,img)};if_block(node_1,$$render=>{if($$props.token.logoURI)$$render(consequent)})}var div_1=sibling(node_1,2);var p=child(div_1);var text2=child(p);reset(p);reset(div_1);reset(div);var div_2=sibling(div,2);var node_2=child(div_2);const expression=user_derived(getTooltipPrice);Tooltip_1(node_2,{get content(){return get(expression)},children:wrap_snippet(TokenLineView,($$anchor3,$$slotProps)=>{var p_1=root_3$6();var text_1=child(p_1,true);reset(p_1);template_effect($0=>set_text(text_1,$0),[()=>{var _a2,_b2;return get(price)<.01?"< .01 ~"+formatPrice(((_a2=$$props.token.price)==null?void 0:_a2.price)??0):formatPrice(((_b2=$$props.token.price)==null?void 0:_b2.price)??0)}]);append($$anchor3,p_1)}),$$slots:{default:true}});reset(div_2);reset(a);template_effect(()=>{set_attribute(a,"href",$$props.token.url);set_class(a,1,`flex justify-between items-center py-1.5 px-2 border-b border-gray-200 border-solid hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors cursor-pointer ${className()??""}`);set_text(text2,`${$$props.token.name??""} (${$$props.token.symbol??""})`)});append($$anchor2,a)};var alternate=$$anchor2=>{var div_3=root_4$7();var div_4=child(div_3);var node_3=child(div_4);{var consequent_2=$$anchor3=>{var img_1=root_5$5();template_effect(()=>{set_attribute(img_1,"src",$$props.token.logoURI);set_attribute(img_1,"alt",$$props.token.symbol)});append($$anchor3,img_1)};if_block(node_3,$$render=>{if($$props.token.logoURI)$$render(consequent_2)})}var div_5=sibling(node_3,2);var p_2=child(div_5);var text_2=child(p_2);reset(p_2);reset(div_5);reset(div_4);var div_6=sibling(div_4,2);var node_4=child(div_6);const expression_1=user_derived(getTooltipPrice);Tooltip_1(node_4,{get content(){return get(expression_1)},children:wrap_snippet(TokenLineView,($$anchor3,$$slotProps)=>{var p_3=root_6$3();var text_3=child(p_3,true);reset(p_3);template_effect($0=>set_text(text_3,$0),[()=>{var _a2,_b2;return get(price)<.01?"< .01 ~"+formatPrice(((_a2=$$props.token.price)==null?void 0:_a2.price)??0):formatPrice(((_b2=$$props.token.price)==null?void 0:_b2.price)??0)}]);append($$anchor3,p_3)}),$$slots:{default:true}});reset(div_6);reset(div_3);template_effect(()=>{set_class(div_3,1,`flex justify-between items-center py-1.5 px-2 border-b border-gray-200 border-solid hover:bg-gray-50 dark:hover:bg-zinc-800 item ${className()??""}`);set_text(text_2,`${$$props.token.name??""} (${$$props.token.symbol??""})`)});append($$anchor2,div_3)};if_block(node,$$render=>{if($$props.token.url)$$render(consequent_1);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}Accordion_content[FILENAME]="src/lib/components/ui/accordion/accordion-content.svelte";var root_1$e=add_locations(from_html(`<div class="pb-4 pt-0"><!></div>`),Accordion_content[FILENAME],[[19,1]]);function Accordion_content($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_content);var $$ownership_validator=create_ownership_validator($$props);let ref=prop($$props,"ref",15,null),restProps=rest_props($$props,["$$slots","$$events","$$legacy","ref","class","children"],"restProps");var fragment=comment();var node=first_child(fragment);const expression=user_derived(()=>cn("data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm transition-all",$$props.class));component(node,()=>Accordion_content$1,($$anchor2,$$component)=>{$$ownership_validator.binding("ref",$$component,ref);$$component($$anchor2,spread_props({get class(){return get(expression)}},()=>restProps,{get ref(){return ref()},set ref($$value){ref($$value)},children:wrap_snippet(Accordion_content,($$anchor3,$$slotProps)=>{var div=root_1$e();var node_1=child(div);snippet(node_1,()=>$$props.children??noop$1);reset(div);append($$anchor3,div)}),$$slots:{default:true}}))});append($$anchor,fragment);return pop({...legacy_api()})}Accordion_item[FILENAME]="src/lib/components/ui/accordion/accordion-item.svelte";function Accordion_item($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_item);var $$ownership_validator=create_ownership_validator($$props);let ref=prop($$props,"ref",15,null),restProps=rest_props($$props,["$$slots","$$events","$$legacy","ref","class"],"restProps");var fragment=comment();var node=first_child(fragment);const expression=user_derived(()=>cn("border-b",$$props.class));component(node,()=>Accordion_item$1,($$anchor2,$$component)=>{$$ownership_validator.binding("ref",$$component,ref);$$component($$anchor2,spread_props({get class(){return get(expression)}},()=>restProps,{get ref(){return ref()},set ref($$value){ref($$value)}}))});append($$anchor,fragment);return pop({...legacy_api()})}
/**
 * @license lucide-svelte v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};Icon[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/lucide-svelte@0.468.0_svelte@5.34.3/node_modules/lucide-svelte/dist/Icon.svelte";var root$r=add_locations(from_svg(`<svg><!><!></svg>`),Icon[FILENAME],[[14,0]]);function Icon($$anchor,$$props){check_target(new.target);const $$sanitized_props=legacy_rest_props($$props,["children","$$slots","$$events","$$legacy"]);const $$restProps=legacy_rest_props($$sanitized_props,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);push($$props,false,Icon);let name=prop($$props,"name",8,void 0);let color=prop($$props,"color",8,"currentColor");let size=prop($$props,"size",8,24);let strokeWidth=prop($$props,"strokeWidth",8,2);let absoluteStrokeWidth=prop($$props,"absoluteStrokeWidth",8,false);let iconNode=prop($$props,"iconNode",24,()=>[]);const mergeClasses=(...classes)=>classes.filter((className,index2,array)=>Boolean(className)&&strict_equals(array.indexOf(className),index2)).join(" ");init();var svg=root$r();attribute_effect(svg,($0,$1)=>({...defaultAttributes,...$$restProps,width:size(),height:size(),stroke:color(),"stroke-width":$0,class:$1}),[()=>absoluteStrokeWidth()?Number(strokeWidth())*24/Number(size()):strokeWidth(),()=>mergeClasses("lucide-icon","lucide",name()?`lucide-${name()}`:"",$$sanitized_props.class)]);var node=child(svg);each(node,1,iconNode,index,($$anchor2,$$item)=>{var $$array=user_derived(()=>to_array(get($$item),2));let tag2=()=>get($$array)[0];tag2();let attrs=()=>get($$array)[1];attrs();var fragment=comment();var node_1=first_child(fragment);validate_dynamic_element_tag(tag2);element(node_1,tag2,true,($$element,$$anchor3)=>{attribute_effect($$element,()=>({...attrs()}))},void 0,[35,4]);append($$anchor2,fragment)});var node_2=sibling(node);slot(node_2,$$props,"default",{},null);reset(svg);append($$anchor,svg);return pop({...legacy_api()})}Chevron_down[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/lucide-svelte@0.468.0_svelte@5.34.3/node_modules/lucide-svelte/dist/icons/chevron-down.svelte";function Chevron_down($$anchor,$$props){check_target(new.target);const $$sanitized_props=legacy_rest_props($$props,["children","$$slots","$$events","$$legacy"]);push($$props,false,Chevron_down);const iconNode=[["path",{d:"m6 9 6 6 6-6"}]];Icon($$anchor,spread_props({name:"chevron-down"},()=>$$sanitized_props,{get iconNode(){return iconNode},children:wrap_snippet(Chevron_down,($$anchor2,$$slotProps)=>{var fragment_1=comment();var node=first_child(fragment_1);slot(node,$$props,"default",{},null);append($$anchor2,fragment_1)}),$$slots:{default:true}}));return pop({...legacy_api()})}Accordion_trigger[FILENAME]="src/lib/components/ui/accordion/accordion-trigger.svelte";var root_2$a=add_locations(from_html(`<!> <!>`,1),Accordion_trigger[FILENAME],[]);function Accordion_trigger($$anchor,$$props){check_target(new.target);push($$props,true,Accordion_trigger);var $$ownership_validator=create_ownership_validator($$props);let ref=prop($$props,"ref",15,null),level=prop($$props,"level",3,3),restProps=rest_props($$props,["$$slots","$$events","$$legacy","ref","class","level","children"],"restProps");var fragment=comment();var node=first_child(fragment);component(node,()=>Accordion_header,($$anchor2,$$component)=>{$$component($$anchor2,{get level(){return level()},class:"flex",children:wrap_snippet(Accordion_trigger,($$anchor3,$$slotProps)=>{var fragment_1=comment();var node_1=first_child(fragment_1);const expression=user_derived(()=>cn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",$$props.class));component(node_1,()=>Accordion_trigger$1,($$anchor4,$$component2)=>{$$ownership_validator.binding("ref",$$component2,ref);$$component2($$anchor4,spread_props({get class(){return get(expression)}},()=>restProps,{get ref(){return ref()},set ref($$value){ref($$value)},children:wrap_snippet(Accordion_trigger,($$anchor5,$$slotProps2)=>{var fragment_2=root_2$a();var node_2=first_child(fragment_2);snippet(node_2,()=>$$props.children??noop$1);var node_3=sibling(node_2,2);Chevron_down(node_3,{class:"size-4 shrink-0 transition-transform duration-200"});append($$anchor5,fragment_2)}),$$slots:{default:true}}))});append($$anchor3,fragment_1)}),$$slots:{default:true}})});append($$anchor,fragment);return pop({...legacy_api()})}const Root=Accordion;TokenComponentList[FILENAME]="src/lib/components/TokenComponentList.svelte";var root_6$2=add_locations(from_html(`<div class="space-y-1"></div>`),TokenComponentList[FILENAME],[[106,5]]);var root_4$6=add_locations(from_html(`<!> <!>`,1),TokenComponentList[FILENAME],[]);var root$q=add_locations(from_html(`<div><div class="space-y-1"></div> <!></div>`),TokenComponentList[FILENAME],[[90,0,[[91,1]]]]);function TokenComponentList($$anchor,$$props){check_target(new.target);push($$props,true,TokenComponentList);let maxVisibleTokens=prop($$props,"maxVisibleTokens",3,0),locked=prop($$props,"locked",3,true),maxTokens=prop($$props,"maxTokens",19,()=>locked()?3:0),className=prop($$props,"className",3,"");let tokens=tag(state(proxy([])),"tokens");let visibleTokens=tag(state(proxy([])),"visibleTokens");let remainingTokens=tag(state(proxy([])),"remainingTokens");let isExpanded=tag(state(false),"isExpanded");log$1.info("TokenComponentList",false,"Mounting");onMount(async()=>{log$1.info("TokenComponentList",false,"onMount");const settings=await getSettings();if(!settings.init||!settings.legal.termsAgreed){set(tokens,[],true);updateTokenDisplay()}else{getYakklCombinedToken().then(initialTokens=>{console.log(...log_if_contains_state("log","TokenComponentList: combined tokens loaded",initialTokens.length));if(strict_equals(initialTokens.length,0)){log$1.warn("TokenComponentList: No tokens loaded from combined store, attempting to load defaults");__vitePreload(async()=>{const{loadDefaultTokens:loadDefaultTokens2}=await Promise.resolve().then(()=>loadDefaultTokens$1);return{loadDefaultTokens:loadDefaultTokens2}},true?void 0:void 0,import.meta.url).then(({loadDefaultTokens:loadDefaultTokens2})=>{loadDefaultTokens2().then(()=>{getYakklCombinedToken().then(reloadedTokens=>{console.log(...log_if_contains_state("log","TokenComponentList: tokens after reload",reloadedTokens.length));const effectiveMaxTokens2=locked()?maxTokens():maxTokens()>0?maxTokens():0;set(tokens,effectiveMaxTokens2>0?reloadedTokens.slice(0,effectiveMaxTokens2):reloadedTokens,true);updateTokenDisplay()})})})}const effectiveMaxTokens=locked()?maxTokens():maxTokens()>0?maxTokens():0;set(tokens,effectiveMaxTokens>0?initialTokens.slice(0,effectiveMaxTokens):initialTokens,true);updateTokenDisplay()})}if(browser_ext){browser_ext.runtime.onMessage.addListener(handleOnMessageForPricing);browser_ext.runtime.sendMessage({action:"getTokenData"});startPricingChecks();updateTokenPrices()}const unsubscribe=yakklCombinedTokenStore.subscribe(newTokens=>{const effectiveMaxTokens=locked()?maxTokens():maxTokens()>0?maxTokens():0;set(tokens,effectiveMaxTokens>0?newTokens.slice(0,effectiveMaxTokens):newTokens,true);updateTokenDisplay()});return()=>{unsubscribe();if(browser_ext){browser_ext.runtime.onMessage.removeListener(handleOnMessageForPricing)}}});function updateTokenDisplay(){if(strict_equals(maxVisibleTokens(),0)||get(tokens).length<=maxVisibleTokens()){set(visibleTokens,get(tokens),true);set(remainingTokens,[],true)}else{set(visibleTokens,get(tokens).slice(0,maxVisibleTokens()),true);set(remainingTokens,get(tokens).slice(maxVisibleTokens()),true)}console.log(...log_if_contains_state("log","updateTokenDisplay",{visibleTokens:get(visibleTokens),remainingTokens:get(remainingTokens),maxVisibleTokens:maxVisibleTokens(),maxTokens:maxTokens(),locked:locked()}))}var div=root$q();var div_1=child(div);each(div_1,21,()=>get(visibleTokens),index,($$anchor2,token)=>{TokenLineView($$anchor2,{get token(){return get(token)},get locked(){return locked()}})});reset(div_1);var node=sibling(div_1,2);{var consequent=$$anchor2=>{var fragment_1=comment();var node_1=first_child(fragment_1);component(node_1,()=>Root,($$anchor3,$$component)=>{$$component($$anchor3,{type:"single",children:wrap_snippet(TokenComponentList,($$anchor4,$$slotProps)=>{var fragment_2=comment();var node_2=first_child(fragment_2);component(node_2,()=>Accordion_item,($$anchor5,$$component2)=>{$$component2($$anchor5,{value:"remaining-tokens",children:wrap_snippet(TokenComponentList,($$anchor6,$$slotProps2)=>{var fragment_3=root_4$6();var node_3=first_child(fragment_3);component(node_3,()=>Accordion_trigger,($$anchor7,$$component3)=>{$$component3($$anchor7,{class:"w-full py-2 text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:wrap_snippet(TokenComponentList,($$anchor8,$$slotProps3)=>{next();var text$1=text();template_effect(()=>set_text(text$1,get(isExpanded)?"Show Less":`Show ${get(remainingTokens).length} More Tokens`));append($$anchor8,text$1)}),$$slots:{default:true}})});var node_4=sibling(node_3,2);component(node_4,()=>Accordion_content,($$anchor7,$$component3)=>{$$component3($$anchor7,{children:wrap_snippet(TokenComponentList,($$anchor8,$$slotProps3)=>{var div_2=root_6$2();each(div_2,21,()=>get(remainingTokens),index,($$anchor9,token)=>{TokenLineView($$anchor9,{get token(){return get(token)},get locked(){return locked()}})});reset(div_2);append($$anchor8,div_2)}),$$slots:{default:true}})});append($$anchor6,fragment_3)}),$$slots:{default:true}})});append($$anchor4,fragment_2)}),$$slots:{default:true}})});append($$anchor2,fragment_1)};if_block(node,$$render=>{if(get(remainingTokens).length>0)$$render(consequent)})}reset(div);template_effect($0=>set_class(div,1,$0),[()=>clsx(cn("flex flex-col",className()))]);append($$anchor,div);return pop({...legacy_api()})}Banner[FILENAME]="src/lib/components/Banner.svelte";var root_1$d=add_locations(from_html(`<button class="btn btn-secondary btn-sm"> </button>`),Banner[FILENAME],[[17,3]]);var root$p=add_locations(from_html(`<div class="bg-primary text-primary-content p-4"><div class="flex justify-between items-center"><div><h2 class="text-lg font-bold"> </h2> <p class="text-sm"> </p></div> <!></div></div>`),Banner[FILENAME],[[10,0,[[11,1,[[12,2,[[13,3],[14,3]]]]]]]]);function Banner($$anchor,$$props){check_target(new.target);push($$props,true,Banner);let title=prop($$props,"title",3,"Welcome to YAKKL"),message=prop($$props,"message",3,"Your secure crypto wallet"),ctaText=prop($$props,"ctaText",3,"UPGRADE"),onCallToAction=prop($$props,"onCallToAction",3,null);var div=root$p();var div_1=child(div);var div_2=child(div_1);var h2=child(div_2);var text2=child(h2,true);reset(h2);var p=sibling(h2,2);var text_1=child(p,true);reset(p);reset(div_2);var node=sibling(div_2,2);{var consequent=$$anchor2=>{var button=root_1$d();button.__click=function(...$$args){apply(onCallToAction,this,$$args,Banner,[17,20])};var text_2=child(button,true);reset(button);template_effect(()=>set_text(text_2,ctaText()));append($$anchor2,button)};if_block(node,$$render=>{if(onCallToAction())$$render(consequent)})}reset(div_1);reset(div);template_effect(()=>{set_text(text2,title());set_text(text_1,message())});append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);Ad[FILENAME]="src/lib/components/Ad.svelte";var root_1$c=add_locations(from_html(`<div class="h-[100px] flex items-center justify-center">Ad Space</div>`),Ad[FILENAME],[[11,2]]);var root$o=add_locations(from_html(`<div class="bg-primary text-primary-content p-2"><!></div>`),Ad[FILENAME],[[8,0]]);function Ad($$anchor,$$props){check_target(new.target);push($$props,true,Ad);let useGoogleAd=prop($$props,"useGoogleAd",3,false);prop($$props,"onCallToAction",3,null);var div=root$o();var node=child(div);{var consequent=$$anchor2=>{var div_1=root_1$c();append($$anchor2,div_1)};var alternate=($$anchor2,$$elseif)=>{{var consequent_1=$$anchor3=>{var fragment=comment();var node_1=first_child(fragment);html(node_1,()=>$$props.customContent());append($$anchor3,fragment)};if_block($$anchor2,$$render=>{if($$props.customContent)$$render(consequent_1)},$$elseif)}};if_block(node,$$render=>{if(useGoogleAd())$$render(consequent);else $$render(alternate,false)})}reset(div);append($$anchor,div);return pop({...legacy_api()})}RotatingBanner[FILENAME]="src/lib/components/RotatingBanner.svelte";function previous(__1,currentIndex,items){set(currentIndex,(get(currentIndex)-1+items().length)%items().length)}var root_2$9=add_locations(from_html(`<div class="absolute inset-y-0 left-0 flex items-center z-10"><button class="p-0.5 rounded-full bg-black/10 hover:bg-black/20 transition-colors" aria-label="Previous"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg></button></div> <div class="absolute inset-y-0 right-0 flex items-center z-10"><button class="p-0.5 rounded-full bg-black/10 hover:bg-black/20 transition-colors" aria-label="Next"><svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div>`,1),RotatingBanner[FILENAME],[[43,3,[[44,4,[[49,5,[[55,6]]]]]]],[63,3,[[64,4,[[69,5,[[75,6]]]]]]]]);var root_9$2=add_locations(from_html(`<button></button>`),RotatingBanner[FILENAME],[[111,5]]);var root_8$3=add_locations(from_html(`<div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1 z-10"></div>`),RotatingBanner[FILENAME],[[109,3]]);var root_1$b=add_locations(from_html(`<div class="relative"><!> <div><!></div> <!></div>`),RotatingBanner[FILENAME],[[41,1,[[85,2]]]]);function RotatingBanner($$anchor,$$props){check_target(new.target);push($$props,true,RotatingBanner);let show=prop($$props,"show",11,true),items=prop($$props,"items",19,()=>[]),interval=prop($$props,"interval",3,0),autoRotate=prop($$props,"autoRotate",3,true),showControls=prop($$props,"showControls",3,true);let currentIndex=tag(state(0),"currentIndex");const timerManager=UnifiedTimerManager.getInstance();const timerId="rotating-banner";let current=tag(user_derived(()=>items()[get(currentIndex)]),"current");function next2(){set(currentIndex,(get(currentIndex)+1)%items().length)}user_effect(()=>{if(autoRotate()&&interval()>0&&items().length>1){timerManager.stopInterval(timerId);timerManager.removeInterval(timerId);timerManager.addInterval(timerId,next2,interval());timerManager.startInterval(timerId)}else{timerManager.stopInterval(timerId);timerManager.removeInterval(timerId)}});onDestroy(()=>{timerManager.stopInterval(timerId);timerManager.removeInterval(timerId)});var fragment=comment();var node=first_child(fragment);{var consequent_5=$$anchor2=>{var div=root_1$b();var node_1=child(div);{var consequent=$$anchor3=>{var fragment_1=root_2$9();var div_1=first_child(fragment_1);var button=child(div_1);button.__click=[previous,currentIndex,items];reset(div_1);var div_2=sibling(div_1,2);var button_1=child(div_2);button_1.__click=next2;reset(div_2);append($$anchor3,fragment_1)};if_block(node_1,$$render=>{if(showControls()&&items().length>1)$$render(consequent)})}var div_3=sibling(node_1,2);var node_2=child(div_3);{var consequent_1=$$anchor3=>{const expression=user_derived(()=>get(current).onCallToAction?()=>{var _a,_b;return(_b=(_a=get(current)).onCallToAction)==null?void 0:_b.call(_a,get(currentIndex))}:null);Banner($$anchor3,spread_props(()=>get(current),{get onCallToAction(){return get(expression)}}))};var alternate=($$anchor3,$$elseif)=>{{var consequent_2=$$anchor4=>{const expression_1=user_derived(()=>get(current).customContent?()=>{var _a,_b;return(_b=(_a=get(current)).customContent)==null?void 0:_b.call(_a,get(currentIndex))}:void 0);const expression_2=user_derived(()=>get(current).onCallToAction?()=>{var _a,_b;return(_b=(_a=get(current)).onCallToAction)==null?void 0:_b.call(_a,get(currentIndex))}:null);Ad($$anchor4,spread_props(()=>get(current),{get customContent(){return get(expression_1)},get onCallToAction(){return get(expression_2)}}))};var alternate_1=($$anchor4,$$elseif2)=>{{var consequent_3=$$anchor5=>{var fragment_4=comment();var node_3=first_child(fragment_4);html(node_3,()=>get(current).html);append($$anchor5,fragment_4)};if_block($$anchor4,$$render=>{if(strict_equals(get(current).type,"custom"))$$render(consequent_3)},$$elseif2)}};if_block($$anchor3,$$render=>{if(strict_equals(get(current).type,"ad"))$$render(consequent_2);else $$render(alternate_1,false)},$$elseif)}};if_block(node_2,$$render=>{if(strict_equals(get(current).type,"banner"))$$render(consequent_1);else $$render(alternate,false)})}reset(div_3);var node_4=sibling(div_3,2);{var consequent_4=$$anchor3=>{var div_4=root_8$3();each(div_4,21,items,index,($$anchor4,_,i)=>{var button_2=root_9$2();button_2.__click=()=>set(currentIndex,i,true);set_attribute(button_2,"aria-label",`Go to slide ${i+1}`);template_effect(()=>set_class(button_2,1,`w-1.5 h-1.5 rounded-full transition-colors ${strict_equals(i,get(currentIndex))?"bg-primary":"bg-gray-300"}`));append($$anchor4,button_2)});reset(div_4);append($$anchor3,div_4)};if_block(node_4,$$render=>{if(showControls()&&items().length>1)$$render(consequent_4)})}reset(div);template_effect(()=>set_class(div_3,1,clsx(showControls()&&items().length>1?"px-4":"")));append($$anchor2,div)};if_block(node,$$render=>{if(show())$$render(consequent_5)})}append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);ChevronDownIcon[FILENAME]="src/lib/components/icons/ChevronDownIcon.svelte";var root$n=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg>`),ChevronDownIcon[FILENAME],[[4,0,[[14,1]]]]);function ChevronDownIcon($$anchor,$$props){check_target(new.target);push($$props,true,ChevronDownIcon);const size=prop($$props,"size",3,24),stroke=prop($$props,"stroke",3,"currentColor"),className=prop($$props,"className",3,"");var svg=root$n();template_effect(()=>{set_attribute(svg,"stroke",stroke());set_attribute(svg,"width",size());set_attribute(svg,"height",size());set_class(svg,0,clsx(className()))});append($$anchor,svg);return pop({...legacy_api()})}ChevronUpIcon[FILENAME]="src/lib/components/icons/ChevronUpIcon.svelte";var root$m=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5"></path></svg>`),ChevronUpIcon[FILENAME],[[5,0,[[13,1]]]]);function ChevronUpIcon($$anchor,$$props){check_target(new.target);push($$props,true,ChevronUpIcon);prop($$props,"className",3,"");var svg=root$m();append($$anchor,svg);return pop({...legacy_api()})}ResizeIcon[FILENAME]="src/lib/components/icons/ResizeIcon.svelte";var root$l=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 3L3 21"></path><path d="M21 21L3 3"></path><path d="M21 15L15 21"></path><path d="M9 3L3 9"></path></svg>`),ResizeIcon[FILENAME],[[5,0,[[15,1],[16,1],[17,1],[18,1]]]]);function ResizeIcon($$anchor,$$props){check_target(new.target);push($$props,true,ResizeIcon);let className=prop($$props,"className",3,"");var svg=root$l();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}SectionCard[FILENAME]="src/lib/components/SectionCard.svelte";function handleResizeStart(e,isResizing,startY,startHeight,cardElement,handleResizeMove,handleResizeEnd){e.preventDefault();set(isResizing,true);set(startY,e.clientY,true);set(startHeight,get(cardElement).offsetHeight,true);document.addEventListener("mousemove",handleResizeMove);document.addEventListener("mouseup",handleResizeEnd)}function toggleCollapse(_,isCollapsed){set(isCollapsed,!get(isCollapsed))}var root_8$2=add_locations(from_html(`<div class="border-t border-zinc-200 dark:border-zinc-700 p-4 bg-zinc-50 dark:bg-zinc-800/50"><!></div>`),SectionCard[FILENAME],[[150,4]]);var root_10$2=add_locations(from_html(`<div class="border-t border-zinc-200 dark:border-zinc-700 p-4 bg-zinc-50 dark:bg-zinc-800/50"><!></div>`),SectionCard[FILENAME],[[156,4]]);var root_11=add_locations(from_html(`<div role="button" tabindex="0" aria-label="Resize section" class="absolute bottom-0 left-0 right-0 h-4 cursor-ns-resize flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-gradient-to-t from-zinc-100 dark:from-zinc-700 to-transparent"><!></div>`),SectionCard[FILENAME],[[166,3]]);var root_1$a=add_locations(from_html(`<div><header class="flex items-center justify-between p-4 border-b border-zinc-200 dark:border-zinc-700"><div class="flex items-center gap-2"><!> <h2 class="text-md font-semibold text-zinc-900 dark:text-zinc-100"> </h2> <!></div> <div class="flex items-center gap-2"><button class="p-1 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-700 transition-colors"><!></button></div></header> <div class="flex-1 overflow-y-auto transition-all duration-200"><div class="px-4 pb-4 pt-2"><!></div></div> <!> <!></div>`),SectionCard[FILENAME],[[93,1,[[107,2,[[110,3,[[114,4]]],[121,3,[[122,4]]]]],[137,2,[[142,3]]]]]]);function SectionCard($$anchor,$$props){check_target(new.target);push($$props,true,SectionCard);let show=prop($$props,"show",11,true),Icon2=prop($$props,"icon",3,null),className=prop($$props,"className",3,""),isPinned=prop($$props,"isPinned",3,false),eye=prop($$props,"eye",3,false),eyeTooltip=prop($$props,"eyeTooltip",3,"Toggle visibility of values"),minHeight=prop($$props,"minHeight",3,"200px"),maxHeight=prop($$props,"maxHeight",3,"400px"),locked=prop($$props,"locked",3,true),Footer=prop($$props,"footer",3,null),footerProps=prop($$props,"footerProps",19,()=>({})),LockedFooter=prop($$props,"lockedFooter",3,null),lockedFooterProps=prop($$props,"lockedFooterProps",19,()=>({}));let isCollapsed=tag(state(false),"isCollapsed");let isResizing=tag(state(false),"isResizing");let cardHeight=tag(state(proxy(minHeight())),"cardHeight");let startY=tag(state(0),"startY");let startHeight=tag(state(0),"startHeight");let cardElement=tag(state(null),"cardElement");let contentElement=tag(state(null),"contentElement");let hasItems=tag(state(false),"hasItems");let calculatedMinHeight=tag(state(""),"calculatedMinHeight");function calculateMinHeight(){var _a,_b;if(!get(cardElement)||!get(contentElement))return;const headerHeight=((_a=get(cardElement).querySelector("header"))==null?void 0:_a.offsetHeight)||0;const firstItemHeight=((_b=get(contentElement).querySelector(".item"))==null?void 0:_b.offsetHeight)||0;const newMinHeight=get(hasItems)?headerHeight+firstItemHeight:headerHeight;set(calculatedMinHeight,`${newMinHeight}px`);if(parseInt(get(cardHeight))<newMinHeight){set(cardHeight,get(calculatedMinHeight),true)}}function handleResizeMove(e){if(!get(isResizing))return;const deltaY=e.clientY-get(startY);const newHeight=Math.max(parseInt(get(calculatedMinHeight)||minHeight()),Math.min(parseInt(maxHeight()),get(startHeight)+deltaY));set(cardHeight,`${newHeight}px`)}function handleResizeEnd(){set(isResizing,false);document.removeEventListener("mousemove",handleResizeMove);document.removeEventListener("mouseup",handleResizeEnd)}onMount(()=>{calculateMinHeight();const observer=new MutationObserver(()=>{set(hasItems,strict_equals(get(contentElement).querySelector(".item"),null,false));calculateMinHeight()});if(get(contentElement)){observer.observe(get(contentElement),{childList:true,subtree:true})}return()=>{document.removeEventListener("mousemove",handleResizeMove);document.removeEventListener("mouseup",handleResizeEnd);observer.disconnect()}});var fragment=comment();var node=first_child(fragment);{var consequent_7=$$anchor2=>{var div=root_1$a();var header=child(div);var div_1=child(header);var node_1=child(div_1);{var consequent=$$anchor3=>{var fragment_1=comment();var node_2=first_child(fragment_1);component(node_2,Icon2,($$anchor4,Icon3)=>{Icon3($$anchor4,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400"})});append($$anchor3,fragment_1)};if_block(node_1,$$render=>{if(Icon2())$$render(consequent)})}var h2=sibling(node_1,2);var text2=child(h2,true);reset(h2);var node_3=sibling(h2,2);{var consequent_1=$$anchor3=>{Tooltip_1($$anchor3,{get content(){return eyeTooltip()},children:wrap_snippet(SectionCard,($$anchor4,$$slotProps)=>{EyeIcon($$anchor4,{className:"w-4 h-4 text-zinc-600 dark:text-zinc-400"})}),$$slots:{default:true}})};if_block(node_3,$$render=>{if(eye())$$render(consequent_1)})}reset(div_1);var div_2=sibling(div_1,2);var button=child(div_2);button.__click=[toggleCollapse,isCollapsed];var node_4=child(button);{var consequent_2=$$anchor3=>{ChevronDownIcon($$anchor3,{className:"w-4 h-4 text-zinc-600 dark:text-zinc-400"})};var alternate=$$anchor3=>{ChevronUpIcon($$anchor3,{className:"w-4 h-4 text-zinc-600 dark:text-zinc-400"})};if_block(node_4,$$render=>{if(get(isCollapsed))$$render(consequent_2);else $$render(alternate,false)})}reset(button);reset(div_2);reset(header);var div_3=sibling(header,2);var div_4=child(div_3);var node_5=child(div_4);snippet(node_5,()=>$$props.children);reset(div_4);reset(div_3);bind_this(div_3,$$value=>set(contentElement,$$value),()=>get(contentElement));var node_6=sibling(div_3,2);{var consequent_5=$$anchor3=>{var fragment_6=comment();var node_7=first_child(fragment_6);{var consequent_3=$$anchor4=>{var div_5=root_8$2();var node_8=child(div_5);component(node_8,LockedFooter,($$anchor5,LockedFooter2)=>{LockedFooter2($$anchor5,spread_props(lockedFooterProps))});reset(div_5);append($$anchor4,div_5)};var alternate_1=($$anchor4,$$elseif)=>{{var consequent_4=$$anchor5=>{var div_6=root_10$2();var node_9=child(div_6);component(node_9,Footer,($$anchor6,Footer2)=>{Footer2($$anchor6,spread_props(footerProps))});reset(div_6);append($$anchor5,div_6)};if_block($$anchor4,$$render=>{if(Footer())$$render(consequent_4)},$$elseif)}};if_block(node_7,$$render=>{if(locked()&&LockedFooter())$$render(consequent_3);else $$render(alternate_1,false)})}append($$anchor3,fragment_6)};if_block(node_6,$$render=>{if(!get(isCollapsed))$$render(consequent_5)})}var node_10=sibling(node_6,2);{var consequent_6=$$anchor3=>{var div_7=root_11();div_7.__mousedown=[handleResizeStart,isResizing,startY,startHeight,cardElement,handleResizeMove,handleResizeEnd];var node_11=child(div_7);ResizeIcon(node_11,{className:"w-4 h-4 text-zinc-400 rotate-90"});reset(div_7);append($$anchor3,div_7)};if_block(node_10,$$render=>{if(!get(isCollapsed))$$render(consequent_6)})}reset(div);bind_this(div,$$value=>set(cardElement,$$value),()=>get(cardElement));template_effect($0=>{set_class(div,1,$0);set_style(div,`height: ${(get(isCollapsed)?"auto":get(cardHeight))??""}`);set_text(text2,$$props.title);set_attribute(button,"aria-label",get(isCollapsed)?"Expand section":"Collapse section");set_style(div_3,`height: ${get(isCollapsed)?"0":"auto"}`)},[()=>clsx(cn("bg-white dark:bg-zinc-800 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-700","transition-all duration-200 ease-in-out","hover:shadow-md","flex flex-col","relative",isPinned()&&"sticky top-0 z-10 scroll-mt-4",className()))]);append($$anchor2,div)};if_block(node,$$render=>{if(show())$$render(consequent_7)})}append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click","mousedown"]);WalletIcon[FILENAME]="src/lib/components/icons/WalletIcon.svelte";var root$k=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"></path></svg>`),WalletIcon[FILENAME],[[4,0,[[14,1]]]]);function WalletIcon($$anchor,$$props){check_target(new.target);push($$props,true,WalletIcon);const size=prop($$props,"size",3,24),stroke=prop($$props,"stroke",3,"currentColor"),className=prop($$props,"className",3,"");var svg=root$k();template_effect(()=>{set_attribute(svg,"stroke",stroke());set_attribute(svg,"width",size());set_attribute(svg,"height",size());set_class(svg,0,clsx(className()))});append($$anchor,svg);return pop({...legacy_api()})}TokenIcon[FILENAME]="src/lib/components/icons/TokenIcon.svelte";var root$j=add_locations(from_html(`<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFz0lEQVR4nO2aa4hVVRTHf6NOgc5UTliTUgSJWhYRQUFGWjYalI1BUxJRQWVpRtHD3vqh6KFpUmgfCqI+VCQ0mWRWU9aXLLOI7KFZQ5GTH1IxtUbHYW6s+O9htb3n3HPOvWNC/eEgrrP23mvts95z4X8cgGOBGcASYDWwCdgB7NOzQzR795R4bc0hgSZgDrAOKBV4+oBPtIftddAxSre6xwn1B/AW8JCjDQfq9Qx3dONZpTWBZnstBkYeDAVMoLlOAbvRd4DLgaGOLwgXI6bbmjbgPe1VAnYDd+msAcEY4AsnTDswPoE3qyIepwErHM/nwGhqjMuAXTrgB+DCCvxFFAmYAnSK73eglRrhOmC/Nn4dODLDmmoUMTQAr4i3F7iJKjFTtmvPAznWVatIQAgcdv4NVGFOvdpods61tVIEhebwZVqLOHbwiWU51g2W/wSBtwLderY6+mTxZsUy5zOZA0B9FJ3MP56pkLAagfsiYSs9xnuv/CEJTTp7fxTNMoXmuVpgkWOp22Q7cAswJOKfHinwLfCYbn0sMEzPONEeB75z/L+WMZkhOmu7u8ylLprdmSVj75FztYh2KtDhDt4g8xmk7B7onwITyY7zo9LGsvog7b3B0TskQwjNJZl9c9rmQbA3yrybrhwSDtisf60gvBmoIz9szSygJ9qzpLPszBghaT6ZtOnRrvSYkMBzOHCPhA/mdh7VY6Izo306w84qhwmulCnrt7dGdjszIbJMlen1yDxqhXPdBV2c8PWsLvvZyVk2LQR7/ckxfhZ9nSOcY5s51Rqz3UVaJAw4R7KUIhnXxhs065a7JezVwBaXVa1cOF7ZPTh2Hp84BXgUeFFmMyKBr84JfL/OfNlVxlskm8m4V/R/7DVDjNa9BVjIfETKhX4jJMk80enaKA/Y8xtwpsKuL/8NF7jIFPqVbsliMgW8q3dXONrf7akR53EgTgSWR3kiK07Xre0EpsnnzK+65GNdKt9jbHTnLZcMMea7sN2Pt0W8JEWo58VjyS4Jlgc8rtcay/oB1wDbXKdYDk/o/XMpZ00Tj3Wl/Qj54eSUhWtcnZRk33bwVY7WpjVW+J2gC+tU0rOc8VHCXi1aZ2em+Z3xfO+J4YaOSlkYnN8KynIIgeBZRztOpvW1zGuJs3MT4MOEvcY6505Ck/O3foT4nVaM/SkeHxYDBusyvolyzxiNgfqixHmp9rKisRwa9d7OTMJh4tlbS0VG6d0ip9jdijwhnIbaLfjJ5pRus7GoItWa1lBt+IIKPMszXwJn6EvYuoejNeYzVDCtX/KaVijWzIGKOnu76p9dikbh656ldVaQZkWL1nyQwjO+nLOH8GshrVL4tX4ixtmux1jjlLC+4jXRLSNnxYKi4TdPQjSBY1ijc7sKTeutf1RpEWqir8pk8DRsKpoQQ4liU8MsJcqkFCEu0jy3R6X50xlHSAGTc5Yolqv6cYxC5F4d2hZVwSt1Kw/q/+sKNlKVUAesd0WjRcOXXNHYpa+eWDSiSJOnjLfOrtaYk7OM/zhtk0qN1ZRDqLGalRSXi7S6eUr6JEyqZauLIkBJDX7W4UOPOruiw4c5OYcPb+r9wrSNR0rTkkyo0jhoUeRP1hTliU7BsYNggyqMg6ZmHQehGinPgG6afCocvFH9RIuGcg16xom2IMoTXWX6oCEVBnR3ZLmpeo0l84xMGzSh9ApVerq0Ju/IdH2Zy0zEaA2MiwyxQ0IbiCH2TuAkcqLV/VnBHDIPgsBZ6Wm4zVlGWi2YihtdVk3qrwdSkfni71P/XxX8OKf9IP3prRF4Vby9Ss41QavzmU4XmgdCkamuBAljpJpidBTNViTMpIoqYjOwlVF0yu3YWVGv3mO3s90OTfuGFVDEQu+VwPvOF3cpT2QOsdWgWX+fCAqFQcHqjD/hmKfeJ/Q6oXZa+G/90KZJGXitu9E8T59K8dlS9JDACJnYYv1gZqOmM+FnTttEW6UarS1lKs9/Fn8BkCC+URfVsh0AAAAASUVORK5CYII=" alt="chip--v1"/>`),TokenIcon[FILENAME],[[20,0]]);function TokenIcon($$anchor,$$props){check_target(new.target);push($$props,true,TokenIcon);let className=prop($$props,"className",3,"");var img=root$j();template_effect(()=>set_class(img,1,clsx(className())));append($$anchor,img);return pop({...legacy_api()})}NewsIcon[FILENAME]="src/lib/components/icons/NewsIcon.svelte";var root$i=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"></path><path d="M18 14h-8"></path><path d="M18 18h-8"></path><path d="M18 10h-8"></path></svg>`),NewsIcon[FILENAME],[[5,0,[[15,1],[18,1],[19,1],[20,1]]]]);function NewsIcon($$anchor,$$props){check_target(new.target);push($$props,true,NewsIcon);let className=prop($$props,"className",3,"");var svg=root$i();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}ToolIcon[FILENAME]="src/lib/components/icons/ToolIcon.svelte";var root$h=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"></path></svg>`),ToolIcon[FILENAME],[[4,0,[[12,1]]]]);function ToolIcon($$anchor,$$props){check_target(new.target);push($$props,true,ToolIcon);let className=prop($$props,"className",3,"size-6");var svg=root$h();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}const defaultTokens=[{name:"Ethereum",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",symbol:"ETH",decimals:18,chainId:1,sidepanel:true,evmCompatible:true,isNative:true,isStablecoin:false,logoURI:"../../../images/ethereum.svg",url:"https://www.tradingview.com/symbols/ETHUSD/"},{name:"Wrapped Ether",address:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",symbol:"WETH",decimals:18,chainId:1,sidepanel:true,evmCompatible:true,isNative:false,isStablecoin:false,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png",url:"https://www.tradingview.com/symbols/ETHUSD/"},{name:"Tether USD",address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT",decimals:6,chainId:1,sidepanel:true,evmCompatible:true,isNative:false,isStablecoin:true,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png",url:"https://www.tradingview.com/symbols/USDT/"},{name:"USDCoin",address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC",decimals:6,chainId:1,sidepanel:true,evmCompatible:true,isNative:false,isStablecoin:true,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png",url:"https://www.tradingview.com/symbols/USDC/"},{name:"Wrapped BTC",address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",symbol:"WBTC",decimals:8,chainId:1,sidepanel:true,evmCompatible:true,isNative:false,isStablecoin:false,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png",url:"https://www.tradingview.com/symbols/BTCUSD/"}];async function loadDefaultTokens(){try{console.log(">>>> loadDefaultTokens");const tokens=defaultTokens.map(token=>{var _a,_b,_c,_d,_e,_f,_g,_h;if(!validateToken(token)){throw new Error(`Invalid token data: ${JSON.stringify(token)}`)}return{address:token.address,name:token.name,symbol:token.symbol,decimals:token.decimals,chainId:token.chainId,isNative:token.isNative??false,isStablecoin:token.isStablecoin??false,logoURI:token.logoURI??"",description:token.description??"",balance:token.balance??0n,quantity:token.quantity??0,price:token.price??{price:((_a=token.price)==null?void 0:_a.price)??0,isNative:((_b=token.price)==null?void 0:_b.isNative)??false,provider:((_c=token.price)==null?void 0:_c.provider)??"",lastUpdated:((_d=token.price)==null?void 0:_d.lastUpdated)??0,chainId:((_e=token.price)==null?void 0:_e.chainId)??1,currency:((_f=token.price)==null?void 0:_f.currency)??"",status:((_g=token.price)==null?void 0:_g.status)??"",message:((_h=token.price)==null?void 0:_h.message)??""},change:token.change??[],value:token.value??0,tags:token.tags??[],version:token.version??"",customDefault:"default",sidepanel:token.sidepanel??true,evmCompatible:token.evmCompatible??true,url:token.url??""}});await setYakklTokenDataStorage(tokens);log$1.info(`Successfully loaded ${tokens.length} default tokens`,false,{tokenSymbols:tokens.map(t=>t.symbol)})}catch(error){log$1.warn("Failed to load default tokens:",false,error)}}function validateToken(token){return typeof token.address==="string"&&typeof token.name==="string"&&typeof token.symbol==="string"&&typeof token.decimals==="number"&&typeof token.chainId==="number"&&typeof token.logoURI==="string"}const loadDefaultTokens$1=Object.freeze(Object.defineProperty({__proto__:null,loadDefaultTokens:loadDefaultTokens},Symbol.toStringTag,{value:"Module"}));const _ExtensionRSSFeedService=class _ExtensionRSSFeedService{constructor(){__publicField(this,"feedCache",new Map);__publicField(this,"cacheTimeout",5*60*1e3)}static getInstance(){if(!_ExtensionRSSFeedService.instance){_ExtensionRSSFeedService.instance=new _ExtensionRSSFeedService}return _ExtensionRSSFeedService.instance}async fetchFeed(feedUrl){const cached=this.feedCache.get(feedUrl);if(cached&&Date.now()-cached.timestamp<this.cacheTimeout){return cached.data}try{const response=await fetch(feedUrl,{headers:{"User-Agent":"YAKKL Smart Wallet Extension/"+VERSION,Accept:"application/rss+xml, application/xml, text/xml"}});if(!response.ok){throw new Error(`Failed to fetch RSS feed: ${response.statusText}`)}const text2=await response.text();const feed=await this.parseRSSFeed(text2,feedUrl);this.feedCache.set(feedUrl,{data:feed,timestamp:Date.now()});await this.storeFeedInExtensionStorage(feedUrl,feed);return feed}catch(error){console.error("Error fetching RSS feed:",error);const storedFeed=await this.loadFeedFromExtensionStorage(feedUrl);if(storedFeed){return storedFeed}throw error}}async storeFeedInExtensionStorage(feedUrl,feed){try{const key=`rss_feed_${btoa(feedUrl)}`;await browser_ext.storage.local.set({[key]:feed})}catch(error){console.error("Failed to store feed in extension storage:",error)}}async loadFeedFromExtensionStorage(feedUrl){try{const key=`rss_feed_${btoa(feedUrl)}`;const result=await browser_ext.storage.local.get(key);return result[key]}catch(error){console.error("Failed to load feed from extension storage:",error);return null}}async fetchArticleContent(url){try{const response=await fetch(url,{headers:{"User-Agent":"YAKKL Smart Wallet Extension/"+VERSION,Accept:"text/html,application/xhtml+xml"}});if(!response.ok){throw new Error(`Failed to fetch article: ${response.statusText}`)}const html2=await response.text();return this.extractArticleContent(html2)}catch(error){console.error("Error fetching article content:",error);return{content:"",quality:"minimal"}}}extractArticleContent(html2){const parser=new DOMParser;const doc=parser.parseFromString(html2,"text/html");const hasVideo=doc.querySelector('video, iframe[src*="youtube"], iframe[src*="vimeo"]');const hasAudio=doc.querySelector('audio, [class*="podcast"], [class*="audio"]');if(hasVideo||hasAudio){return{content:"",quality:"minimal"}}const contentSelectors=["article .post__content","article .article-body","article .article-content","article .content","article .post-content","article .entry-content","article"];for(const selector of contentSelectors){const element2=doc.querySelector(selector);if(element2){const unwantedElements=element2.querySelectorAll(`\n          script, style, iframe,\n          .ad, .advertisement, .social-share, .related-posts,\n          .comments, .comment-section, .newsletter-signup,\n          .recommended, .trending, .popular-posts,\n          [class*="ad-"], [class*="banner"], [class*="promo"],\n          [class*="sidebar"], [class*="widget"],\n          [class*="social"], [class*="share"],\n          [class*="related"], [class*="recommended"]\n        `);unwantedElements.forEach(el=>el.remove());let content=element2.textContent||"";content=content.replace(/\s+/g," ").replace(/\n+/g,"\n").replace(/\[.*?\]/g,"").replace(/\(.*?\)/g,"").trim();const wordCount=content.split(/\s+/).length;const quality=this.assessContentQuality(content,wordCount);if(quality!=="minimal"){return{content:content,quality:quality}}}}return{content:"",quality:"minimal"}}assessContentQuality(content,wordCount){const hasParagraphs=content.split("\n").length>3;const hasQuotes=content.includes('"')||content.includes('"');const hasReferences=content.includes("said")||content.includes("according to");if(wordCount>300&&hasParagraphs&&(hasQuotes||hasReferences)){return"complete"}else if(wordCount>100&&hasParagraphs){return"partial"}return"minimal"}detectContentType(item,description){var _a;const content=description.toLowerCase();if(content.includes("watch")||content.includes("video")||content.includes("youtube")){return"video"}if(content.includes("listen")||content.includes("podcast")||content.includes("audio")){return"podcast"}const hasVideoEnclosure=item.querySelector('enclosure[type^="video"]');const hasAudioEnclosure=item.querySelector('enclosure[type^="audio"]');if(hasVideoEnclosure)return"video";if(hasAudioEnclosure)return"podcast";const mediaContent=item.getElementsByTagName("media:content")[0]||item.getElementsByTagName("media\\:content")[0];if(mediaContent){const type=((_a=mediaContent.getAttribute("type"))==null?void 0:_a.toLowerCase())||"";if(type.startsWith("video"))return"video";if(type.startsWith("audio"))return"podcast"}return"article"}async parseRSSFeed(xmlText,feedUrl){var _a,_b,_c;const parser=new DOMParser;const doc=parser.parseFromString(xmlText,"text/xml");const parseError=doc.querySelector("parsererror");if(parseError){throw new Error("Invalid RSS feed format")}const channel=doc.querySelector("channel");if(!channel){throw new Error("No channel element found in RSS feed")}const title=((_a=channel.querySelector("title"))==null?void 0:_a.textContent)||"";const description=((_b=channel.querySelector("description"))==null?void 0:_b.textContent)||"";const link=((_c=channel.querySelector("link"))==null?void 0:_c.textContent)||"";const items=[];const itemElements=doc.querySelectorAll("item");const processItems=async()=>{const concurrencyLimit=3;const chunks=Array.from(itemElements).reduce((acc,item,i)=>{const chunkIndex=Math.floor(i/concurrencyLimit);if(!acc[chunkIndex])acc[chunkIndex]=[];acc[chunkIndex].push(item);return acc},[]);for(const chunk of chunks){await Promise.all(chunk.map(async item=>{var _a2,_b2,_c2,_d,_e,_f,_g,_h,_i,_j;const itemTitle=((_b2=(_a2=item.querySelector("title"))==null?void 0:_a2.textContent)==null?void 0:_b2.replace(/<!\[CDATA\[|\]\]>/g,""))||"";const itemLink=((_c2=item.querySelector("link"))==null?void 0:_c2.textContent)||"";const itemDescription=((_e=(_d=item.querySelector("description"))==null?void 0:_d.textContent)==null?void 0:_e.replace(/<!\[CDATA\[|\]\]>/g,""))||"";const contentType=this.detectContentType(item,itemDescription);let content=this.stripHTML(itemDescription)||itemTitle;let contentQuality="minimal";if(contentType==="article"){try{const contentEncodedElement=item.getElementsByTagName("content:encoded")[0];const encodedContent=((_f=contentEncodedElement==null?void 0:contentEncodedElement.textContent)==null?void 0:_f.replace(/<!\[CDATA\[|\]\]>/g,""))||"";if(encodedContent&&encodedContent.length>200){content=encodedContent;contentQuality=this.assessContentQuality(content,content.split(/\s+/).length)}else if(itemLink){const result=await this.fetchArticleContent(itemLink);if(result.content){content=result.content;contentQuality=result.quality}}}catch(error){console.error("Error processing article content:",error)}}const pubDate=((_g=item.querySelector("pubDate"))==null?void 0:_g.textContent)||"";const guid=((_h=item.querySelector("guid"))==null?void 0:_h.textContent)||"";const categories=[];item.querySelectorAll("category").forEach(cat=>{if(cat.textContent)categories.push(cat.textContent)});let imageUrl=this.extractImageFromItem(item,itemDescription);const trackedUrl=this.addUTMParameters(itemLink);const rssItem={title:itemTitle,subtitle:categories.length>0?categories[0]:"Crypto News",description:this.stripHTML(itemDescription)||itemTitle,content:content,imageUrl:imageUrl,source:this.extractSourceFromURL(feedUrl),date:this.formatDate(pubDate),publishedAt:pubDate,url:trackedUrl,guid:guid,categories:categories,author:((_j=(_i=item.querySelector("author"))==null?void 0:_i.textContent)==null?void 0:_j.replace(/<!\[CDATA\[|\]\]>/g,""))||"",contentType:contentType,contentQuality:contentQuality};items.push(rssItem)}))}};await processItems();return{title:title,description:description,link:link,items:items,lastUpdated:new Date}}extractImageFromItem(item,description){const mediaContent=item.querySelector("content[url]");if(mediaContent){return mediaContent.getAttribute("url")||""}const mediaThumbnail=item.querySelector("thumbnail[url]");if(mediaThumbnail){return mediaThumbnail.getAttribute("url")||""}const enclosure=item.querySelector('enclosure[type^="image"]');if(enclosure){return enclosure.getAttribute("url")||""}const imageFromHTML=this.extractImageFromHTML(description);if(imageFromHTML){return imageFromHTML}return"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=200"}extractImageFromHTML(html2){const imgMatch=html2.match(/<img[^>]+src=["']([^"']+)["']/i);return imgMatch?imgMatch[1]:""}stripHTML(html2){const div=document.createElement("div");div.innerHTML=html2;return div.textContent||div.innerText||""}extractSourceFromURL(url){try{const hostname=new URL(url).hostname;return hostname.replace("www.","").split(".")[0]}catch{return"RSS Feed"}}addUTMParameters(url){try{const urlObj=new URL(url);const hasParams=urlObj.search.length>0;urlObj.searchParams.set("utm_source","yakkl.com");urlObj.searchParams.set("utm_medium","wallet");urlObj.searchParams.set("utm_campaign","news_feed");urlObj.searchParams.set("utm_timestamp",Date.now().toString());return urlObj.toString()}catch{return url}}formatDate(dateString){try{const date=new Date(dateString);const now=new Date;const diffInHours=Math.floor((now.getTime()-date.getTime())/(1e3*60*60));if(diffInHours===0){const diffInMinutes=Math.floor((now.getTime()-date.getTime())/(1e3*60));return diffInMinutes===0?"Just now":`${diffInMinutes} minutes ago`}else if(diffInHours<24){return`${diffInHours} hours ago`}else if(diffInHours<48){return"Yesterday"}else{const diffInDays=Math.floor(diffInHours/24);return`${diffInDays} days ago`}}catch{return dateString}}};__publicField(_ExtensionRSSFeedService,"instance");let ExtensionRSSFeedService=_ExtensionRSSFeedService;NewsFeedLineView[FILENAME]="src/lib/components/NewsFeedLineView.svelte";var root_1$9=add_locations(from_html(`<a target="_blank" rel="noopener noreferrer" class="block hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors"><div class="flex gap-4 p-3 item"><div class="flex-shrink-0"><img class="w-16 h-16 object-cover rounded-md"/></div> <div class="flex-1 min-w-0 pr-0"><h3 class="text-sm font-semibold text-gray-900 dark:text-gray-100 truncate"> </h3> <div class="flex items-center gap-1 text-[10px] text-gray-500 dark:text-gray-400 mt-1"><span> </span> <span></span> <span> </span></div> <p class="text-xs text-gray-600 dark:text-gray-300 mt-1 line-clamp-2"> </p></div></div></a>`),NewsFeedLineView[FILENAME],[[7,2,[[13,3,[[14,4,[[15,5]]],[21,4,[[22,5],[25,5,[[26,6],[27,6],[28,6]]],[30,5]]]]]]]]);var root_2$8=add_locations(from_html(`<div class="flex items-center justify-center p-4 text-gray-500 dark:text-gray-400"><p class="text-sm">Unable to display news content</p></div>`),NewsFeedLineView[FILENAME],[[37,2,[[38,3]]]]);var root$g=add_locations(from_html(`<div><!></div>`),NewsFeedLineView[FILENAME],[[5,0]]);function NewsFeedLineView($$anchor,$$props){check_target(new.target);push($$props,true,NewsFeedLineView);let className=prop($$props,"className",3,"");prop($$props,"locked",3,true);const isValidNewsItem=$$props.newsItem&&$$props.newsItem.title&&$$props.newsItem.description&&$$props.newsItem.imageUrl&&$$props.newsItem.source&&$$props.newsItem.date&&$$props.newsItem.url;var div=root$g();var node=child(div);{var consequent=$$anchor2=>{var a=root_1$9();var div_1=child(a);var div_2=child(div_1);var img=child(div_2);reset(div_2);var div_3=sibling(div_2,2);var h3=child(div_3);var text2=child(h3,true);reset(h3);var div_4=sibling(h3,2);var span=child(div_4);var text_1=child(span,true);reset(span);var span_1=sibling(span,4);var text_2=child(span_1,true);reset(span_1);reset(div_4);var p=sibling(div_4,2);var text_3=child(p,true);reset(p);reset(div_3);reset(div_1);reset(a);template_effect(()=>{set_attribute(a,"href",$$props.newsItem.url);set_attribute(img,"src",$$props.newsItem.imageUrl);set_attribute(img,"alt",$$props.newsItem.title);set_text(text2,$$props.newsItem.title);set_text(text_1,$$props.newsItem.source);set_text(text_2,$$props.newsItem.date);set_text(text_3,$$props.newsItem.description)});append($$anchor2,a)};var alternate=$$anchor2=>{var div_5=root_2$8();append($$anchor2,div_5)};if_block(node,$$render=>{if(isValidNewsItem)$$render(consequent);else $$render(alternate,false)})}reset(div);template_effect(()=>set_class(div,1,clsx(className())));append($$anchor,div);return pop({...legacy_api()})}BookmarkIcon[FILENAME]="src/lib/components/icons/BookmarkIcon.svelte";var root$f=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"></path></svg>`),BookmarkIcon[FILENAME],[[5,0,[[6,1]]]]);function BookmarkIcon($$anchor,$$props){check_target(new.target);push($$props,true,BookmarkIcon);let className=prop($$props,"className",3,"w-6 h-6 fill-none stroke-current text-gray-400");var svg=root$f();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}PrinterIcon[FILENAME]="src/lib/components/icons/PrinterIcon.svelte";var root$e=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"></path></svg>`),PrinterIcon[FILENAME],[[5,0,[[13,1]]]]);function PrinterIcon($$anchor,$$props){check_target(new.target);push($$props,true,PrinterIcon);let className=prop($$props,"className",3,"w-6 h-6");var svg=root$e();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}TrashIcon[FILENAME]="src/lib/components/icons/TrashIcon.svelte";var root$d=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>`),TrashIcon[FILENAME],[[5,0,[[13,1]]]]);function TrashIcon($$anchor,$$props){check_target(new.target);push($$props,true,TrashIcon);let className=prop($$props,"className",3,"w-6 h-6");var svg=root$d();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}ArticleControls[FILENAME]="src/lib/components/ArticleControls.svelte";var root_1$8=add_locations(from_html(`<button><!></button>`),ArticleControls[FILENAME],[[351,2]]);var on_click$3=(_,handlePrint,$$props)=>handlePrint($$props.article.url);var root_2$7=add_locations(from_html(`<button><!></button>`),ArticleControls[FILENAME],[[366,2]]);var on_click_1$1=(__1,showDeleteConfirmation)=>set(showDeleteConfirmation,true);var root_3$5=add_locations(from_html(`<button><!></button>`),ArticleControls[FILENAME],[[378,2]]);var root$c=add_locations(from_html(`<div class="absolute top-1 right-1 flex items-center space-x-2 bg-white/90 dark:bg-zinc-800/90 backdrop-blur-sm rounded-full p-1 shadow-lg z-10 transition-all duration-200 opacity-0 group-hover:opacity-100"><!> <!> <!></div> <!>`,1),ArticleControls[FILENAME],[[347,0]]);function ArticleControls($$anchor,$$props){check_target(new.target);push($$props,true,ArticleControls);const[$$stores,$$cleanup]=setup_stores();const $yakklBookmarkedArticlesStore=()=>(validate_store(yakklBookmarkedArticlesStore,"yakklBookmarkedArticlesStore"),store_get(yakklBookmarkedArticlesStore,"$yakklBookmarkedArticlesStore",$$stores));const $isBookmarked=()=>(validate_store(isBookmarked,"isBookmarked"),store_get(isBookmarked,"$isBookmarked",$$stores));let bookmarkEnabled=prop($$props,"bookmarkEnabled",3,true),printEnabled=prop($$props,"printEnabled",3,true),deleteEnabled=prop($$props,"deleteEnabled",3,false);inspect(()=>[$$props.article],console.log);let showDeleteConfirmation=tag(state(false),"showDeleteConfirmation");const isBookmarked=derived(yakklBookmarkedArticlesStore,$store=>$store.some(a=>strict_equals(a.title,$$props.article.title)&&strict_equals(a.source,$$props.article.source)));function sanitizeContent(content){const parser=new DOMParser;const doc=parser.parseFromString(content,"text/html");const elementsToRemove=["script","iframe","style","link","meta","object","embed","applet","noscript","form","input","button","select","textarea","[onclick]","[onload]","[onerror]",'[src*="platform.twitter.com"]','[src*="facebook.com"]','[src*="instagram.com"]','[src*="youtube.com"]','[src*="vimeo.com"]','[src*="player"]','[src*="widget"]','[src*="embed"]','[src*="script"]','[src*="tracker"]','[src*="analytics"]','[src*="pixel"]','[src*="beacon"]','[src*="cookie"]','[src*="ad"]','[src*="banner"]','[src*="promo"]','[src*="sponsor"]','[src*="affiliate"]','[src*="tracking"]','[src*="pixel"]','[src*="beacon"]','[src*="cookie"]','[src*="analytics"]','[src*="tracker"]','[src*="monitor"]','[src*="stat"]','[src*="count"]','[src*="counter"]','[src*="measure"]','[src*="metric"]','[src*="track"]','[src*="trace"]','[src*="log"]','[src*="debug"]','[src*="test"]','[src*="dev"]','[src*="staging"]','[src*="qa"]','[src*="beta"]','[src*="alpha"]','[src*="demo"]','[src*="example"]','[src*="sample"]','[src*="mock"]','[src*="fake"]','[src*="dummy"]','[src*="placeholder"]','[src*="temp"]','[src*="temporary"]','[src*="test"]','[src*="dev"]','[src*="development"]','[src*="staging"]','[src*="qa"]','[src*="beta"]','[src*="alpha"]','[src*="demo"]','[src*="example"]','[src*="sample"]','[src*="mock"]','[src*="fake"]','[src*="dummy"]','[src*="placeholder"]','[src*="temp"]','[src*="temporary"]'];elementsToRemove.forEach(selector=>{doc.querySelectorAll(selector).forEach(el=>el.remove())});doc.querySelectorAll("*").forEach(el=>{el.removeAttribute("style");el.removeAttribute("onclick");el.removeAttribute("onload");el.removeAttribute("onerror");el.removeAttribute("onmouseover");el.removeAttribute("onmouseout");el.removeAttribute("onmouseenter");el.removeAttribute("onmouseleave");el.removeAttribute("onmousedown");el.removeAttribute("onmouseup");el.removeAttribute("onmousemove");el.removeAttribute("onkeydown");el.removeAttribute("onkeyup");el.removeAttribute("onkeypress");el.removeAttribute("onfocus");el.removeAttribute("onblur");el.removeAttribute("onchange");el.removeAttribute("onsubmit");el.removeAttribute("onreset");el.removeAttribute("onselect");el.removeAttribute("onabort");el.removeAttribute("oncanplay");el.removeAttribute("oncanplaythrough");el.removeAttribute("ondurationchange");el.removeAttribute("onemptied");el.removeAttribute("onended");el.removeAttribute("onerror");el.removeAttribute("onloadeddata");el.removeAttribute("onloadedmetadata");el.removeAttribute("onloadstart");el.removeAttribute("onpause");el.removeAttribute("onplay");el.removeAttribute("onplaying");el.removeAttribute("onprogress");el.removeAttribute("onratechange");el.removeAttribute("onreadystatechange");el.removeAttribute("onseeked");el.removeAttribute("onseeking");el.removeAttribute("onstalled");el.removeAttribute("onsuspend");el.removeAttribute("ontimeupdate");el.removeAttribute("onvolumechange");el.removeAttribute("onwaiting")});doc.querySelectorAll("a[href]").forEach(link=>{try{const href=link.getAttribute("href");if(href&&!href.startsWith("http")){const absoluteUrl=new URL(href,$$props.article.url).toString();link.setAttribute("href",absoluteUrl)}}catch(e){console.error(...log_if_contains_state("error","Error converting URL:",e))}});let sanitizedContent=doc.body.innerHTML;sanitizedContent=sanitizedContent.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/javascript:/gi,"").replace(/data:/gi,"").replace(/vbscript:/gi,"").replace(/on\w+="[^"]*"/g,"").replace(/on\w+='[^']*'/g,"").replace(/style="[^"]*"/g,"").replace(/style='[^']*'/g,"");return sanitizedContent}async function handleBookmark(){if(!bookmarkEnabled())return;const bookmarkedArticles=$yakklBookmarkedArticlesStore();if($isBookmarked()){const updatedArticles=bookmarkedArticles.filter(a=>!(strict_equals(a.title,$$props.article.title)&&strict_equals(a.source,$$props.article.source)));await setYakklBookmarkedArticles(updatedArticles)}else{const isDuplicate=bookmarkedArticles.some(a=>strict_equals(a.title,$$props.article.title)&&strict_equals(a.source,$$props.article.source));if(!isDuplicate){const updatedArticles=[...bookmarkedArticles,$$props.article];await setYakklBookmarkedArticles(updatedArticles)}}}async function handleDelete(){if(!deleteEnabled())return;if($$props.onDelete){await $$props.onDelete($$props.article)}else{await handleBookmark()}set(showDeleteConfirmation,false)}function handlePrint(articleUrl=""){console.log(...log_if_contains_state("log","Printing article from internal source",articleUrl));const sanitizedContent=sanitizeContent($$props.article.content||$$props.article.description||$$props.article.title);const html2=generatePrintHtml($$props.article,sanitizedContent);const printWindow=window.open("","_blank");if(!printWindow){console.error("Failed to open print window");return}printWindow.document.open();printWindow.document.write(html2);printWindow.document.close();printWindow.onload=()=>{printWindow.focus();printWindow.print()}}function generatePrintHtml(article2,sanitizedContent){return`\n    <!DOCTYPE html>\n      <html>\n        <head>\n          <title>${article2.title}</title>\n          <meta charset="utf-8">\n          <link rel="shortcut icon" href="https://yakkl.com/images/favicon.png" />\n          <style>\n            body {\n              font-family: Arial, sans-serif;\n              padding: 20px;\n              max-width: 800px;\n              margin: 0 auto;\n              color: #333;\n            }\n            .header {\n              margin-bottom: 20px;\n              border-bottom: 1px solid #eee;\n              padding-bottom: 20px;\n            }\n            .metadata {\n              color: #666;\n              font-size: 0.9em;\n              margin: 10px 0;\n            }\n            .metadata span {\n              margin-right: 15px;\n            }\n            .content {\n              line-height: 1.6;\n              font-size: 1.1em;\n              white-space: pre-wrap;\n              margin: 20px 0;\n            }\n            .content img {\n              max-width: 100%;\n              height: auto;\n              margin: 10px 0;\n            }\n            .content a {\n              color: #0066cc;\n              text-decoration: none;\n            }\n            .content a:hover {\n              text-decoration: underline;\n            }\n            .tags {\n              margin-top: 20px;\n              padding-top: 20px;\n              border-top: 1px solid #eee;\n            }\n            .tag {\n              display: inline-block;\n              background: #f0f0f0;\n              padding: 3px 8px;\n              border-radius: 3px;\n              margin-right: 5px;\n              font-size: 0.9em;\n            }\n            .source-link {\n              margin-top: 20px;\n              font-size: 0.9em;\n              color: #666;\n              border-top: 1px solid #eee;\n              padding-top: 20px;\n            }\n            @media print {\n              body { padding: 0; }\n              .header { border-bottom: 1px solid #000; }\n              .tags { border-top: 1px solid #000; }\n              .source-link { border-top: 1px solid #000; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h1>${article2.title}</h1>\n            <div class="metadata">\n              <span><strong>Source:</strong> ${article2.source}</span>\n              ${article2.author?`<span><strong>Author:</strong> ${article2.author}</span>`:""}\n              <span><strong>Published:</strong> ${article2.publishedAt||article2.date}</span>\n            </div>\n          </div>\n          <div class="content">\n            ${sanitizedContent}\n          </div>\n          ${article2.categories&&article2.categories.length>0?`\n            <div class="tags">\n              Tags: ${article2.categories.map(tag2=>`<span class="tag">${tag2}</span>`).join("")}\n            </div>\n          `:""}\n          <div class="source-link">\n            <p>Source: <a href="${article2.url}" target="_blank">${article2.url}</a></p>\n            <p>Printed on: ${(new Date).toLocaleString()}</p>\n            <p>Printed by: <a href="https://yakkl.com/?utm_source=yakkl-wallet&utm_medium=print&utm_campaign=${encodeURIComponent(article2.source)}&utm_content=${encodeURIComponent(article2.title)}" target="_blank">YAKKL Smart Wallet</a></p>\n          </div>\n        </body>\n      </html>\n    `}var fragment=root$c();var div=first_child(fragment);var node=child(div);const expression=user_derived(()=>$isBookmarked()?"Unbookmark article":"Bookmark article");Tooltip_1(node,{get content(){return get(expression)},children:wrap_snippet(ArticleControls,($$anchor2,$$slotProps)=>{var button=root_1$8();button.__click=handleBookmark;var node_1=child(button);const expression_1=user_derived(()=>$isBookmarked()?"fill-yellow-400":"fill-none");BookmarkIcon(node_1,{get className(){return`w-5 h-5 ${get(expression_1)??""} stroke-current text-gray-400`}});reset(button);template_effect(()=>{set_class(button,1,`text-gray-400 hover:text-gray-500 focus:outline-none relative ${bookmarkEnabled()?"":"opacity-50 cursor-not-allowed"}`);button.disabled=!bookmarkEnabled()});append($$anchor2,button)}),$$slots:{default:true}});var node_2=sibling(node,2);Tooltip_1(node_2,{content:"Print article",children:wrap_snippet(ArticleControls,($$anchor2,$$slotProps)=>{var button_1=root_2$7();button_1.__click=[on_click$3,handlePrint,$$props];var node_3=child(button_1);PrinterIcon(node_3,{className:"w-5 h-5 text-gray-400"});reset(button_1);template_effect(()=>{set_class(button_1,1,`text-gray-400 hover:text-gray-500 focus:outline-none relative ${printEnabled()?"":"opacity-50 cursor-not-allowed"}`);button_1.disabled=!printEnabled()});append($$anchor2,button_1)}),$$slots:{default:true}});var node_4=sibling(node_2,2);Tooltip_1(node_4,{content:"Delete",children:wrap_snippet(ArticleControls,($$anchor2,$$slotProps)=>{var button_2=root_3$5();button_2.__click=[on_click_1$1,showDeleteConfirmation];var node_5=child(button_2);TrashIcon(node_5,{className:"w-5 h-5 text-gray-400"});reset(button_2);template_effect(()=>{set_class(button_2,1,`text-gray-400 hover:text-gray-500 focus:outline-none relative ${deleteEnabled()?"":"opacity-50 cursor-not-allowed"}`);button_2.disabled=!deleteEnabled()});append($$anchor2,button_2)}),$$slots:{default:true}});reset(div);var node_6=sibling(div,2);{var consequent=$$anchor2=>{Confirmation($$anchor2,{get show(){return get(showDeleteConfirmation)},title:"Delete Article",message:"Are you sure you want to delete this article?",onConfirm:handleDelete,onReject:()=>{set(showDeleteConfirmation,false)}})};if_block(node_6,$$render=>{if(get(showDeleteConfirmation))$$render(consequent)})}append($$anchor,fragment);var $$pop=pop({...legacy_api()});$$cleanup();return $$pop}delegate(["click"]);NewsFeed[FILENAME]="src/lib/components/NewsFeed.svelte";var root_3$4=add_locations(from_html(`<div class="flex justify-center"><div class="w-[80%] h-[1px] bg-gray-200 dark:bg-gray-700"></div></div>`),NewsFeed[FILENAME],[[40,6,[[41,7]]]]);var root_2$6=add_locations(from_html(`<div class="relative group"><div class="group-hover:bg-gray-50 dark:group-hover:bg-zinc-800/50 transition-colors duration-200"><!></div> <!> <!></div>`),NewsFeed[FILENAME],[[32,4,[[33,5]]]]);var on_click$2=(_,isRemainingSectionCollapsed)=>set(isRemainingSectionCollapsed,!get(isRemainingSectionCollapsed));var root_9$1=add_locations(from_html(`<div class="flex justify-center"><div class="w-[80%] h-[1px] bg-gray-200 dark:bg-gray-700"></div></div>`),NewsFeed[FILENAME],[[78,9,[[79,10]]]]);var root_8$1=add_locations(from_html(`<div class="relative group"><div class="group-hover:bg-gray-50 dark:group-hover:bg-zinc-800/50 transition-colors duration-200"><!></div> <!> <!></div>`),NewsFeed[FILENAME],[[70,7,[[71,8]]]]);var root_7$1=add_locations(from_html(`<div class="space-y-0"></div>`),NewsFeed[FILENAME],[[68,5]]);var root_4$5=add_locations(from_html(`<div class="space-y-0"><button class="flex items-center justify-between w-full py-2 cursor-pointer"><h3 class="text-sm font-medium text-gray-700 dark:text-gray-300"> </h3> <div class="text-gray-500 dark:text-gray-400"><!></div></button> <!></div>`),NewsFeed[FILENAME],[[50,3,[[51,4,[[55,5],[58,5]]]]]]);var root_1$7=add_locations(from_html(`<div class="space-y-0"></div> <!>`,1),NewsFeed[FILENAME],[[30,2]]);var root_10$1=add_locations(from_html(`<div class="flex items-center justify-center p-4 text-gray-500 dark:text-gray-400"><p class="text-sm">No news items available at this time</p></div>`),NewsFeed[FILENAME],[[89,2,[[90,3]]]]);var root$b=add_locations(from_html(`<div><!></div>`),NewsFeed[FILENAME],[[27,0]]);function NewsFeed($$anchor,$$props){check_target(new.target);push($$props,true,NewsFeed);let newsItems=prop($$props,"newsItems",19,()=>[]),maxVisibleItems=prop($$props,"maxVisibleItems",3,3),className=prop($$props,"className",3,""),locked=prop($$props,"locked",3,true),maxItemsPerFeed=prop($$props,"maxItemsPerFeed",19,()=>locked()?3:0);const effectiveMaxItems=locked()?strict_equals(maxItemsPerFeed(),0)?3:maxItemsPerFeed():0;const limitedItems=effectiveMaxItems>0?newsItems().slice(0,effectiveMaxItems):newsItems();let visibleItems=tag(state(proxy(limitedItems.slice(0,maxVisibleItems()))),"visibleItems");let remainingItems=tag(state(proxy(limitedItems.slice(maxVisibleItems()))),"remainingItems");let isRemainingSectionCollapsed=tag(state(true),"isRemainingSectionCollapsed");user_effect(()=>{const effectiveMaxItems2=locked()?strict_equals(maxItemsPerFeed(),0)?3:maxItemsPerFeed():0;const limitedItems2=effectiveMaxItems2>0?newsItems().slice(0,effectiveMaxItems2):newsItems();set(visibleItems,limitedItems2.slice(0,maxVisibleItems()),true);set(remainingItems,limitedItems2.slice(maxVisibleItems()),true)});const hasValidItems=limitedItems.length>0;var div=root$b();var node=child(div);{var consequent_5=$$anchor2=>{var fragment=root_1$7();var div_1=first_child(fragment);each(div_1,21,()=>get(visibleItems),index,($$anchor3,item,index2)=>{var div_2=root_2$6();var div_3=child(div_2);var node_1=child(div_3);NewsFeedLineView(node_1,{get newsItem(){return get(item)},get locked(){return locked()}});reset(div_3);var node_2=sibling(div_3,2);ArticleControls(node_2,{get article(){return get(item)}});var node_3=sibling(node_2,2);{var consequent=$$anchor4=>{var div_4=root_3$4();append($$anchor4,div_4)};if_block(node_3,$$render=>{if(index2<get(visibleItems).length-1)$$render(consequent)})}reset(div_2);append($$anchor3,div_2)});reset(div_1);var node_4=sibling(div_1,2);{var consequent_4=$$anchor3=>{var div_5=root_4$5();var button=child(div_5);button.__click=[on_click$2,isRemainingSectionCollapsed];var h3=child(button);var text2=child(h3);reset(h3);var div_6=sibling(h3,2);var node_5=child(div_6);{var consequent_1=$$anchor4=>{ChevronDownIcon($$anchor4,{className:"w-4 h-4"})};var alternate=$$anchor4=>{ChevronUpIcon($$anchor4,{className:"w-4 h-4"})};if_block(node_5,$$render=>{if(get(isRemainingSectionCollapsed))$$render(consequent_1);else $$render(alternate,false)})}reset(div_6);reset(button);var node_6=sibling(button,2);{var consequent_3=$$anchor4=>{var div_7=root_7$1();each(div_7,21,()=>get(remainingItems),index,($$anchor5,item,index2)=>{var div_8=root_8$1();var div_9=child(div_8);var node_7=child(div_9);NewsFeedLineView(node_7,{get newsItem(){return get(item)}});reset(div_9);var node_8=sibling(div_9,2);ArticleControls(node_8,{get article(){return get(item)}});var node_9=sibling(node_8,2);{var consequent_2=$$anchor6=>{var div_10=root_9$1();append($$anchor6,div_10)};if_block(node_9,$$render=>{if(index2<get(remainingItems).length-1)$$render(consequent_2)})}reset(div_8);append($$anchor5,div_8)});reset(div_7);append($$anchor4,div_7)};if_block(node_6,$$render=>{if(!get(isRemainingSectionCollapsed))$$render(consequent_3)})}reset(div_5);template_effect(()=>set_text(text2,`${get(remainingItems).length??""} More Stories`));append($$anchor3,div_5)};if_block(node_4,$$render=>{if(get(remainingItems).length>0)$$render(consequent_4)})}append($$anchor2,fragment)};var alternate_1=$$anchor2=>{var div_11=root_10$1();append($$anchor2,div_11)};if_block(node,$$render=>{if(hasValidItems)$$render(consequent_5);else $$render(alternate_1,false)})}reset(div);template_effect(()=>set_class(div,1,clsx(className())));append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);RefreshIcon[FILENAME]="src/lib/components/icons/RefreshIcon.svelte";var root$a=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg>`),RefreshIcon[FILENAME],[[5,0,[[13,1]]]]);function RefreshIcon($$anchor,$$props){check_target(new.target);push($$props,true,RefreshIcon);let className=prop($$props,"className",3,"w-6 h-6");var svg=root$a();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}ExtensionRSSNewsFeed[FILENAME]="src/lib/components/ExtensionRSSNewsFeed.svelte";async function refreshFeeds(_,loadFeeds){loadFeeds()}var root_2$5=add_locations(from_html(`<div class="flex items-center justify-center p-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div></div>`),ExtensionRSSNewsFeed[FILENAME],[[108,3,[[109,4]]]]);var root_4$4=add_locations(from_html(`<div class="flex flex-col items-center justify-center p-8 text-red-500"><p class="text-sm font-medium">Error loading news</p> <p class="text-xs mt-1"> </p> <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm">Retry</button></div>`),ExtensionRSSNewsFeed[FILENAME],[[112,3,[[113,4],[114,4],[115,4]]]]);var root_5$4=add_locations(from_html(`<div class="flex items-center justify-between mb-0"><h2 class="text-lg font-semibold"> </h2> <button class="p-1 text-blue-500 hover:text-blue-600 transition-colors" aria-label="Refresh feeds"><!></button></div> <!>`,1),ExtensionRSSNewsFeed[FILENAME],[[123,3,[[124,4],[125,4]]]]);var root_1$6=add_locations(from_html(`<div><!></div>`),ExtensionRSSNewsFeed[FILENAME],[[106,1]]);function ExtensionRSSNewsFeed($$anchor,$$props){check_target(new.target);push($$props,true,ExtensionRSSNewsFeed);const FIVE_MINUTES=5*60*1e3;const THIRTY_MINUTES=30*60*1e3;let show=prop($$props,"show",11,true),maxVisibleItems=prop($$props,"maxVisibleItems",3,3),className=prop($$props,"className",3,""),locked=prop($$props,"locked",3,true),maxItemsPerFeed=prop($$props,"maxItemsPerFeed",19,()=>locked()?3:0),title=prop($$props,"title",3,"Crypto News"),interval=prop($$props,"interval",3,FIVE_MINUTES);const effectiveInterval=locked()?THIRTY_MINUTES:interval();let newsItems=tag(state(proxy([])),"newsItems");let isLoading=tag(state(true),"isLoading");let error=tag(state(null),"error");const rssService=ExtensionRSSFeedService.getInstance();const timerManager=UnifiedTimerManager.getInstance();const timerId="rss-feed-refresh";onMount(()=>{loadFeeds();timerManager.addInterval(timerId,loadFeeds,effectiveInterval);timerManager.startInterval(timerId);const messageListener=(message,sender,sendResponse)=>{if(strict_equals(message.type,"RSS_FEED_UPDATE")){loadFeeds()}return Promise.resolve(true)};browser_ext.runtime.onMessage.addListener(messageListener);return()=>{timerManager.stopInterval(timerId);timerManager.removeInterval(timerId);browser_ext.runtime.onMessage.removeListener(messageListener)}});async function loadFeeds(){set(isLoading,true);set(error,null);try{const allItems=[];const feedPromises=$$props.feedUrls.map(url=>rssService.fetchFeed(url).catch(err=>{log$1.warn(`Failed to fetch feed ${url}:`,false,err);return null}));const feeds=await Promise.all(feedPromises);feeds.forEach(feed=>{if(feed){allItems.push(...feed.items.slice(0,maxItemsPerFeed()))}});allItems.sort((a,b)=>{const dateA=parseRelativeDate(a.date);const dateB=parseRelativeDate(b.date);return dateB.getTime()-dateA.getTime()});set(newsItems,allItems,true)}catch(err){set(error,err instanceof Error?err.message:"Failed to load RSS feeds",true);log$1.warn("RSS feed error:",false,err)}finally{set(isLoading,false)}}function parseRelativeDate(dateStr){const now=new Date;if(strict_equals(dateStr,"Just now")){return now}const match=dateStr.match(/(\d+)\s+(minute|hour|day)s?\s+ago/);if(match){const value=parseInt(match[1]);const unit=match[2];switch(unit){case"minute":return new Date(now.getTime()-value*60*1e3);case"hour":return new Date(now.getTime()-value*60*60*1e3);case"day":return new Date(now.getTime()-value*24*60*60*1e3)}}if(strict_equals(dateStr,"Yesterday")){return new Date(now.getTime()-24*60*60*1e3)}return now}var fragment=comment();var node=first_child(fragment);{var consequent_2=$$anchor2=>{var div=root_1$6();var node_1=child(div);{var consequent=$$anchor3=>{var div_1=root_2$5();append($$anchor3,div_1)};var alternate=($$anchor3,$$elseif)=>{{var consequent_1=$$anchor4=>{var div_2=root_4$4();var p=sibling(child(div_2),2);var text2=child(p,true);reset(p);var button=sibling(p,2);button.__click=[refreshFeeds,loadFeeds];reset(div_2);template_effect(()=>set_text(text2,get(error)));append($$anchor4,div_2)};var alternate_1=$$anchor4=>{var fragment_1=root_5$4();var div_3=first_child(fragment_1);var h2=child(div_3);var text_1=child(h2,true);reset(h2);var button_1=sibling(h2,2);button_1.__click=[refreshFeeds,loadFeeds];var node_2=child(button_1);RefreshIcon(node_2,{className:"w-4 h-4"});reset(button_1);reset(div_3);var node_3=sibling(div_3,2);NewsFeed(node_3,{get newsItems(){return get(newsItems)},get maxVisibleItems(){return maxVisibleItems()},get className(){return className()},get locked(){return locked()},get maxItemsPerFeed(){return maxItemsPerFeed()}});template_effect(()=>set_text(text_1,title()));append($$anchor4,fragment_1)};if_block($$anchor3,$$render=>{if(get(error))$$render(consequent_1);else $$render(alternate_1,false)},$$elseif)}};if_block(node_1,$$render=>{if(get(isLoading))$$render(consequent);else $$render(alternate,false)})}reset(div);template_effect(()=>set_class(div,1,clsx(className())));append($$anchor2,div)};if_block(node,$$render=>{if(show())$$render(consequent_2)})}append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);CalcIcon[FILENAME]="src/lib/components/icons/CalcIcon.svelte";var root$9=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"></path></svg>`),CalcIcon[FILENAME],[[4,0,[[12,1]]]]);function CalcIcon($$anchor,$$props){check_target(new.target);push($$props,true,CalcIcon);let className=prop($$props,"className",3,"size-6");var svg=root$9();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}EthUnitConverter[FILENAME]="src/lib/components/EthUnitConverter.svelte";function applyValue(_,onComplete,selectedUnit,wei,gwei,ether,compact,show){if(onComplete()){const value=strict_equals(get(selectedUnit),"wei")?get(wei):strict_equals(get(selectedUnit),"gwei")?get(gwei):get(ether);onComplete()(value,get(selectedUnit));if(!compact())show(false)}}function clearFields(__1,wei,gwei,ether){set(wei,"");set(gwei,"");set(ether,"")}var root_2$4=add_locations(from_html(`<div class="text-xs text-green-600 dark:text-green-400 font-semibold mt-2"> </div>`),EthUnitConverter[FILENAME],[[269,3]]);var root_3$3=add_locations(from_html(`<div class="flex justify-end mt-2"><button type="button" class="btn btn-sm btn-primary">Apply</button></div>`),EthUnitConverter[FILENAME],[[275,3,[[276,4]]]]);var root_1$5=add_locations(from_html(`<div class="eth-converter-compact space-y-2 p-3 border rounded-lg"><div class="flex items-center justify-between mb-2"><h3 class="text-sm font-medium">ETH Unit Converter</h3> <button type="button" class="text-xs text-gray-500 hover:text-gray-700">Clear</button></div> <div class="space-y-2"><div class="flex gap-2 items-center"><label class="w-12 text-xs">Wei</label> <input type="text" pattern="[0-9]*" inputmode="numeric" placeholder="0" class="rounded border px-2 py-1 flex-1 font-mono text-xs"/></div> <div class="flex gap-2 items-center"><label class="w-12 text-xs">Gwei (gas)</label> <input type="text" inputmode="decimal" placeholder="0.0" class="rounded border px-2 py-1 flex-1 font-mono text-xs"/></div> <div class="flex gap-2 items-center"><label class="w-12 text-xs">ETH</label> <input type="text" inputmode="decimal" placeholder="0.0" class="rounded border px-2 py-1 flex-1 font-mono text-xs"/></div></div> <!> <!></div>`),EthUnitConverter[FILENAME],[[220,1,[[221,2,[[222,3],[223,3]]],[228,2,[[229,3,[[231,4],[232,4]]],[242,3,[[244,4],[245,4]]],[254,3,[[256,4],[257,4]]]]]]]]);var root_7=add_locations(from_html(`<div class="text-sm text-green-600 dark:text-green-400 font-semibold"> </div>`),EthUnitConverter[FILENAME],[[357,8]]);var root_6$1=add_locations(from_html(`<div class="pt-2 space-y-1"><div class="text-xs text-gray-500"> </div> <!></div>`),EthUnitConverter[FILENAME],[[347,6,[[348,7]]]]);var root_8=add_locations(from_html(`<button type="button" class="btn btn-primary">Apply</button>`),EthUnitConverter[FILENAME],[[368,5]]);var root_5$3=add_locations(from_html(`<div class="space-y-4 p-4 mt-4"><div class="relative"><button type="button" class="absolute -top-8 right-0 text-xs text-gray-600 hover:text-gray-900 dark:hover:text-gray-200 px-2 py-1" aria-label="Clear"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg></button> <div class="flex flex-col gap-3"><div class="flex gap-2 items-center"><label class="w-16 text-sm">Wei</label> <input type="text" pattern="[0-9]*" inputmode="numeric" placeholder="0" class="rounded border px-3 py-2 flex-1 font-mono text-sm"/></div> <div class="flex gap-2 items-center"><label class="w-16 text-sm">Gwei (gas)</label> <input type="text" inputmode="decimal" placeholder="0.0" class="rounded border px-3 py-2 flex-1 font-mono text-sm"/></div> <div class="flex gap-2 items-center"><label class="w-16 text-sm">Ether</label> <input type="text" inputmode="decimal" placeholder="0.0" class="rounded border px-3 py-2 flex-1 font-mono text-sm"/></div> <!></div></div> <div class="flex justify-end gap-2 mt-6"><!> <button type="button" class="btn btn-secondary">Close</button></div></div>`),EthUnitConverter[FILENAME],[[283,2,[[284,3,[[285,4,[[291,5,[[299,6]]]]],[307,4,[[308,5,[[310,6],[311,6]]],[321,5,[[323,6],[324,6]]],[333,5,[[335,6],[336,6]]]]]]],[366,3,[[370,4]]]]]]);function EthUnitConverter($$anchor,$$props){check_target(new.target);push($$props,true,EthUnitConverter);var $$ownership_validator=create_ownership_validator($$props);let show=prop($$props,"show",15,false),initialValue=prop($$props,"initialValue",3,""),initialUnit=prop($$props,"initialUnit",3,"ether"),onComplete=prop($$props,"onComplete",3,null),compact=prop($$props,"compact",3,false),showUsdValue=prop($$props,"showUsdValue",3,true),onClose=prop($$props,"onClose",3,()=>{show(false)});let wei=tag(state(""),"wei");let gwei=tag(state(""),"gwei");let ether=tag(state(""),"ether");let ethPrice=tag(state(0),"ethPrice");let selectedUnit=tag(state(proxy(initialUnit())),"selectedUnit");let ethUnitUsd=tag(user_derived(()=>{if(get(ether)&&get(ethPrice)&&showUsdValue()){const etherNum=parseFloat(get(ether));if(!isNaN(etherNum)&&etherNum>0){const usdValue=etherNum*get(ethPrice);return`$${usdValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}}return""}),"ethUnitUsd");const priceManager=new PriceManager([{provider:new CoinbasePriceProvider,weight:5},{provider:new CoingeckoPriceProvider,weight:3},{provider:new KrakenPriceProvider,weight:2}]);function weiToGwei(wei2){try{if(!wei2||strict_equals(wei2,"0"))return"";const weiNum=BigInt(wei2);const gweiWhole=weiNum/1000000000n;const remainder=weiNum%1000000000n;if(strict_equals(remainder,0n)){return gweiWhole.toString()}const remainderStr=remainder.toString().padStart(9,"0");const trimmed=remainderStr.replace(/0+$/,"");if(trimmed){return`${gweiWhole}.${trimmed}`}return gweiWhole.toString()}catch{return""}}function weiToEther(wei2){try{if(!wei2||strict_equals(wei2,"0"))return"";const weiNum=BigInt(wei2);const etherWhole=weiNum/1000000000000000000n;const remainder=weiNum%1000000000000000000n;if(strict_equals(remainder,0n)){return etherWhole.toString()}const remainderStr=remainder.toString().padStart(18,"0");const trimmed=remainderStr.replace(/0+$/,"");if(trimmed){return`${etherWhole}.${trimmed}`}return etherWhole.toString()}catch{return""}}function gweiToWei(gwei2){try{if(!gwei2)return"";const parts=gwei2.split(".");const wholePart=parts[0]||"0";const decimalPart=parts[1]||"";const paddedDecimal=decimalPart.padEnd(9,"0").slice(0,9);const gweiInWei=BigInt(wholePart)*1000000000n;const decimalInWei=BigInt(paddedDecimal);return(gweiInWei+decimalInWei).toString()}catch{return""}}function gweiToEther(gwei2){try{if(!gwei2)return"";const weiValue=gweiToWei(gwei2);return weiToEther(weiValue)}catch{return""}}function etherToWei(ether2){try{if(!ether2)return"";const parts=ether2.split(".");const wholePart=parts[0]||"0";const decimalPart=parts[1]||"";const paddedDecimal=decimalPart.padEnd(18,"0").slice(0,18);const combined=wholePart+paddedDecimal;return BigInt(combined).toString()}catch{return""}}function etherToGwei(ether2){try{if(!ether2)return"";const weiValue=etherToWei(ether2);return weiToGwei(weiValue)}catch{return""}}async function fetchEthPrice(){try{const result=await priceManager.getMarketPrice("ETH-USD");set(ethPrice,result&&strict_equals(typeof result,"object")&&"price"in result?result.price:0,true)}catch(error){log$1.error("Failed to fetch ETH price:",false,error);set(ethPrice,0)}}function handleWeiInput(e){const target=e.target;const value=target.value;if(!/^\d*$/.test(value)){target.value=get(wei);return}set(wei,value,true);set(selectedUnit,"wei");if(value){set(gwei,weiToGwei(value),true);set(ether,weiToEther(value),true)}else{set(gwei,"");set(ether,"")}}function handleGweiInput(e){const target=e.target;const value=target.value;if(!/^\d*\.?\d{0,9}$/.test(value)){target.value=get(gwei);return}set(gwei,value,true);set(selectedUnit,"gwei");if(value){set(wei,gweiToWei(value),true);set(ether,gweiToEther(value),true)}else{set(wei,"");set(ether,"")}}function handleEtherInput(e){const target=e.target;const value=target.value;if(!/^\d*\.?\d{0,18}$/.test(value)){target.value=get(ether);return}set(ether,value,true);set(selectedUnit,"ether");if(value){set(wei,etherToWei(value),true);set(gwei,etherToGwei(value),true)}else{set(wei,"");set(gwei,"")}}onMount(async()=>{if(showUsdValue()){await fetchEthPrice()}if(initialValue()){switch(initialUnit()){case"wei":set(wei,initialValue());handleWeiInput({target:{value:initialValue()}});break;case"gwei":set(gwei,initialValue());handleGweiInput({target:{value:initialValue()}});break;case"ether":set(ether,initialValue());handleEtherInput({target:{value:initialValue()}});break}}});var fragment=comment();var node=first_child(fragment);{var consequent_2=$$anchor2=>{var div=root_1$5();var div_1=child(div);var button=sibling(child(div_1),2);button.__click=[clearFields,wei,gwei,ether];reset(div_1);var div_2=sibling(div_1,2);var div_3=child(div_2);var input=sibling(child(div_3),2);remove_input_defaults(input);input.__input=handleWeiInput;reset(div_3);var div_4=sibling(div_3,2);var input_1=sibling(child(div_4),2);remove_input_defaults(input_1);input_1.__input=handleGweiInput;reset(div_4);var div_5=sibling(div_4,2);var input_2=sibling(child(div_5),2);remove_input_defaults(input_2);input_2.__input=handleEtherInput;reset(div_5);reset(div_2);var node_1=sibling(div_2,2);{var consequent=$$anchor3=>{var div_6=root_2$4();var text2=child(div_6,true);reset(div_6);template_effect(()=>set_text(text2,get(ethUnitUsd)));append($$anchor3,div_6)};if_block(node_1,$$render=>{if(showUsdValue()&&get(ethUnitUsd))$$render(consequent)})}var node_2=sibling(node_1,2);{var consequent_1=$$anchor3=>{var div_7=root_3$3();var button_1=child(div_7);button_1.__click=[applyValue,onComplete,selectedUnit,wei,gwei,ether,compact,show];reset(div_7);append($$anchor3,div_7)};if_block(node_2,$$render=>{if(onComplete())$$render(consequent_1)})}reset(div);bind_value(input,()=>get(wei),$$value=>set(wei,$$value));bind_value(input_1,()=>get(gwei),$$value=>set(gwei,$$value));bind_value(input_2,()=>get(ether),$$value=>set(ether,$$value));append($$anchor2,div)};var alternate=$$anchor2=>{{$$ownership_validator.binding("show",Modal,show);Modal($$anchor2,{title:"ETH Unit Converter",onClose:onClose(),get show(){return show()},set show($$value){show($$value)},children:wrap_snippet(EthUnitConverter,($$anchor3,$$slotProps)=>{var div_8=root_5$3();var div_9=child(div_8);var button_2=child(div_9);button_2.__click=[clearFields,wei,gwei,ether];var div_10=sibling(button_2,2);var div_11=child(div_10);var input_3=sibling(child(div_11),2);remove_input_defaults(input_3);input_3.__input=handleWeiInput;reset(div_11);var div_12=sibling(div_11,2);var input_4=sibling(child(div_12),2);remove_input_defaults(input_4);input_4.__input=handleGweiInput;reset(div_12);var div_13=sibling(div_12,2);var input_5=sibling(child(div_13),2);remove_input_defaults(input_5);input_5.__input=handleEtherInput;reset(div_13);var node_3=sibling(div_13,2);{var consequent_4=$$anchor4=>{var div_14=root_6$1();var div_15=child(div_14);var text_1=child(div_15);reset(div_15);var node_4=sibling(div_15,2);{var consequent_3=$$anchor5=>{var div_16=root_7();var text_2=child(div_16,true);reset(div_16);template_effect(()=>set_text(text_2,get(ethUnitUsd)));append($$anchor5,div_16)};if_block(node_4,$$render=>{if(get(ethUnitUsd))$$render(consequent_3)})}reset(div_14);template_effect($0=>set_text(text_1,`1 ETH  $${$0??""} USD`),[()=>get(ethPrice)?get(ethPrice).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"--"]);append($$anchor4,div_14)};if_block(node_3,$$render=>{if(showUsdValue())$$render(consequent_4)})}reset(div_10);reset(div_9);var div_17=sibling(div_9,2);var node_5=child(div_17);{var consequent_5=$$anchor4=>{var button_3=root_8();button_3.__click=[applyValue,onComplete,selectedUnit,wei,gwei,ether,compact,show];append($$anchor4,button_3)};if_block(node_5,$$render=>{if(onComplete())$$render(consequent_5)})}var button_4=sibling(node_5,2);button_4.__click=function(...$$args){apply(onClose,this,$$args,EthUnitConverter,[370,61])};reset(div_17);reset(div_8);bind_value(input_3,()=>get(wei),$$value=>set(wei,$$value));bind_value(input_4,()=>get(gwei),$$value=>set(gwei,$$value));bind_value(input_5,()=>get(ether),$$value=>set(ether,$$value));append($$anchor3,div_8)}),$$slots:{default:true}})}};if_block(node,$$render=>{if(compact())$$render(consequent_2);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click","input"]);SearchIcon[FILENAME]="src/lib/components/icons/SearchIcon.svelte";var root$8=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg>`),SearchIcon[FILENAME],[[4,0,[[12,1]]]]);function SearchIcon($$anchor,$$props){check_target(new.target);push($$props,true,SearchIcon);let className=prop($$props,"className",3,"w-6 h-6");var svg=root$8();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}SortIcon[FILENAME]="src/lib/components/icons/SortIcon.svelte";var root$7=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"></path></svg>`),SortIcon[FILENAME],[[5,0,[[13,1]]]]);function SortIcon($$anchor,$$props){check_target(new.target);push($$props,true,SortIcon);let className=prop($$props,"className",3,"w-6 h-6");var svg=root$7();template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,svg);return pop({...legacy_api()})}SearchSortControls[FILENAME]="src/lib/components/SearchSortControls.svelte";function handleSearch(e,debouncedSearch){const value=e.target.value;debouncedSearch(value)}function handleSortOrderChange(e,$$props){const value=e.target.value;$$props.onSortOrderChange(value)}function handleSortDirectionChange(_,$$props){$$props.onSortDirectionChange()}var root$6=add_locations(from_html(`<div class="flex items-center justify-end mb-2"><div class="flex items-center space-x-2 bg-white/90 dark:bg-zinc-800/90 backdrop-blur-sm rounded-full p-1.5 shadow-lg"><div class="relative flex-1 max-w-xs"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><!></div> <input type="text" class="block w-full pl-10 pr-3 py-1.5 text-sm bg-transparent border border-gray-200 dark:border-zinc-700 rounded-full focus:ring-1 focus:ring-gray-300 dark:focus:ring-zinc-700 dark:text-gray-200" placeholder="Search articles..."/></div> <div class="flex items-center space-x-1"><select class="text-sm bg-transparent border-0 focus:ring-0 focus:outline-none dark:text-gray-200"><option>Date</option><option>Title</option></select> <button class="p-1 rounded-full hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors duration-200"><!></button></div></div></div>`),SearchSortControls[FILENAME],[[29,0,[[30,1,[[34,2,[[35,3],[38,3]]],[48,2,[[49,3,[[54,4],[55,4]]],[58,3]]]]]]]]);function SearchSortControls($$anchor,$$props){check_target(new.target);push($$props,true,SearchSortControls);let searchQuery=prop($$props,"searchQuery",3,""),sortOrder=prop($$props,"sortOrder",3,"date"),sortDirection=prop($$props,"sortDirection",3,"desc");const debouncedSearch=UnifiedTimerManager.createDebounce(value=>{$$props.onSearch(value)},300);var div=root$6();var div_1=child(div);var div_2=child(div_1);var div_3=child(div_2);var node=child(div_3);SearchIcon(node,{className:"w-4 h-4 text-gray-400"});reset(div_3);var input=sibling(div_3,2);remove_input_defaults(input);input.__input=[handleSearch,debouncedSearch];reset(div_2);var div_4=sibling(div_2,2);var select=child(div_4);init_select(select,sortOrder);var select_value;select.__change=[handleSortOrderChange,$$props];var option=child(select);option.value=option.__value="date";var option_1=sibling(option);option_1.value=option_1.__value="title";reset(select);var button=sibling(select,2);button.__click=[handleSortDirectionChange,$$props];var node_1=child(button);const expression=user_derived(()=>strict_equals(sortDirection(),"asc")?"rotate-180":"");SortIcon(node_1,{get className(){return`w-4 h-4 text-gray-500 dark:text-gray-400 ${get(expression)??""}`}});reset(button);reset(div_4);reset(div_1);reset(div);template_effect(()=>{set_value(input,searchQuery());if(select_value!==(select_value=sortOrder())){select.value=(select.__value=sortOrder())??"",select_option(select,sortOrder())}});append($$anchor,div);return pop({...legacy_api()})}delegate(["input","change","click"]);LockIcon[FILENAME]="src/lib/components/icons/LockIcon.svelte";var root$5=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg>`),LockIcon[FILENAME],[[4,0,[[14,1]]]]);function LockIcon($$anchor,$$props){check_target(new.target);push($$props,true,LockIcon);const size=prop($$props,"size",3,24),stroke=prop($$props,"stroke",3,"currentColor"),className=prop($$props,"className",3,"");var svg=root$5();template_effect(()=>{set_attribute(svg,"stroke",stroke());set_attribute(svg,"width",size());set_attribute(svg,"height",size());set_class(svg,0,clsx(className()))});append($$anchor,svg);return pop({...legacy_api()})}LockedSectionCard[FILENAME]="src/lib/components/LockedSectionCard.svelte";var on_click$1=(_,onComplete)=>onComplete()();var root_4$3=add_locations(from_html(`<button class="mt-1 px-4 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 transition">Upgrade Now</button>`),LockedSectionCard[FILENAME],[[69,7]]);var root_5$2=add_locations(from_html(`<span class="text-xs text-zinc-500 mt-2 cursor-help underline">Why is this locked?</span>`),LockedSectionCard[FILENAME],[[77,7]]);var root_3$2=add_locations(from_html(`<div class="absolute inset-0 flex flex-col items-center bg-white/80 dark:bg-zinc-900/70 text-center py-4 rounded-xl z-10"><div class="sticky top-0 w-full flex flex-col items-center bg-white/80 dark:bg-zinc-900/70 backdrop-blur-sm py-1"><!> <div class="text-zinc-800 dark:text-zinc-200 text-sm mb-2"> </div> <!> <!></div></div>`),LockedSectionCard[FILENAME],[[58,4,[[61,5,[[65,6]]]]]]);var root_2$3=add_locations(from_html(`<div class="relative"><div><!></div> <!></div>`),LockedSectionCard[FILENAME],[[45,2,[[47,3]]]]);function LockedSectionCard($$anchor,$$props){check_target(new.target);push($$props,true,LockedSectionCard);var $$ownership_validator=create_ownership_validator($$props);let show=prop($$props,"show",15,true),locked=prop($$props,"locked",3,false),lockMessage=prop($$props,"lockMessage",3,"Upgrade to unlock this feature"),showButton=prop($$props,"showButton",3,true),onComplete=prop($$props,"onComplete",3,()=>{}),footerProps=prop($$props,"footerProps",19,()=>({})),lockedFooterProps=prop($$props,"lockedFooterProps",19,()=>({}));var fragment=comment();var node=first_child(fragment);{var consequent_2=$$anchor2=>{{$$ownership_validator.binding("show",SectionCard,show);SectionCard($$anchor2,{get title(){return $$props.title},get icon(){return $$props.icon},get isPinned(){return $$props.isPinned},get eye(){return $$props.eye},get eyeTooltip(){return $$props.eyeTooltip},get className(){return $$props.className},get minHeight(){return $$props.minHeight},get maxHeight(){return $$props.maxHeight},get footer(){return $$props.footer},get footerProps(){return footerProps()},get lockedFooter(){return $$props.lockedFooter},get lockedFooterProps(){return lockedFooterProps()},get locked(){return locked()},get show(){return show()},set show($$value){show($$value)},children:wrap_snippet(LockedSectionCard,($$anchor3,$$slotProps)=>{var div=root_2$3();var div_1=child(div);var node_1=child(div_1);snippet(node_1,()=>$$props.children);reset(div_1);var node_2=sibling(div_1,2);{var consequent_1=$$anchor4=>{var div_2=root_3$2();var div_3=child(div_2);var node_3=child(div_3);LockIcon(node_3,{className:"w-6 h-6 text-zinc-500 mb-2"});var div_4=sibling(node_3,2);var text2=child(div_4,true);reset(div_4);var node_4=sibling(div_4,2);{var consequent=$$anchor5=>{var button=root_4$3();button.__click=[on_click$1,onComplete];append($$anchor5,button)};if_block(node_4,$$render=>{if(showButton())$$render(consequent)})}var node_5=sibling(node_4,2);Tooltip_1(node_5,{content:"Available with YAKKL Pro",children:wrap_snippet(LockedSectionCard,($$anchor5,$$slotProps2)=>{var span=root_5$2();append($$anchor5,span)}),$$slots:{default:true}});reset(div_3);reset(div_2);template_effect($0=>set_text(text2,$0),[()=>strict_equals(typeof lockMessage(),"function")?lockMessage()():lockMessage()]);append($$anchor4,div_2)};if_block(node_2,$$render=>{if(locked())$$render(consequent_1)})}reset(div);template_effect($0=>set_class(div_1,1,$0),[()=>clsx(cn("transition-all duration-300",locked()&&"blur-sm select-none pointer-events-none"))]);append($$anchor3,div)}),$$slots:{default:true}})}};if_block(node,$$render=>{if(show())$$render(consequent_2)})}append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);BookmarkedArticles[FILENAME]="src/lib/components/BookmarkedArticles.svelte";var root_2$2=add_locations(from_html(`<div class="flex items-center justify-center h-32 text-gray-500"><p> </p></div>`),BookmarkedArticles[FILENAME],[[105,2,[[106,3]]]]);var root_5$1=add_locations(from_html(`<div class="flex justify-center"><div class="w-[80%] h-[1px] bg-gray-200 dark:bg-gray-700"></div></div>`),BookmarkedArticles[FILENAME],[[124,6,[[125,7]]]]);var root_4$2=add_locations(from_html(`<div class="relative group"><div class="group-hover:bg-gray-50 dark:group-hover:bg-zinc-800/50 transition-colors duration-200"><!></div> <!> <!></div>`),BookmarkedArticles[FILENAME],[[111,4,[[112,5]]]]);var root_3$1=add_locations(from_html(`<div class="space-y-0"></div>`),BookmarkedArticles[FILENAME],[[109,2]]);var root_1$4=add_locations(from_html(`<!> <!>`,1),BookmarkedArticles[FILENAME],[]);var root$4=add_locations(from_html(`<!> <!>`,1),BookmarkedArticles[FILENAME],[]);function BookmarkedArticles($$anchor,$$props){check_target(new.target);push($$props,true,BookmarkedArticles);var $$ownership_validator=create_ownership_validator($$props);const[$$stores,$$cleanup]=setup_stores();const $yakklBookmarkedArticlesStore=()=>(validate_store(yakklBookmarkedArticlesStore,"yakklBookmarkedArticlesStore"),store_get(yakklBookmarkedArticlesStore,"$yakklBookmarkedArticlesStore",$$stores));const $searchQuery=()=>(validate_store(searchQuery,"searchQuery"),store_get(searchQuery,"$searchQuery",$$stores));const $sortOrder=()=>(validate_store(sortOrder,"sortOrder"),store_get(sortOrder,"$sortOrder",$$stores));const $sortDirection=()=>(validate_store(sortDirection,"sortDirection"),store_get(sortDirection,"$sortDirection",$$stores));const $filteredArticles=()=>(validate_store(filteredArticles,"filteredArticles"),store_get(filteredArticles,"$filteredArticles",$$stores));let show=prop($$props,"show",15,true),onComplete=prop($$props,"onComplete",11,()=>{}),locked=prop($$props,"locked",15,true),footer=prop($$props,"footer",11,null),footerProps=prop($$props,"footerProps",27,()=>tag_proxy(proxy({}),"footerProps")),lockedFooter=prop($$props,"lockedFooter",11,null),lockedFooterProps=prop($$props,"lockedFooterProps",27,()=>tag_proxy(proxy({}),"lockedFooterProps"));let showUpgradeModal=tag(state(false),"showUpgradeModal");const searchQuery=writable("");const sortOrder=writable("date");const sortDirection=writable("desc");const filteredArticles=derived([yakklBookmarkedArticlesStore,searchQuery,sortOrder,sortDirection],([articles,query,order,direction])=>{let filtered=articles;if(query){const searchLower=query.toLowerCase();filtered=articles.filter(article=>{var _a;return article.title.toLowerCase().includes(searchLower)||((_a=article.description)==null?void 0:_a.toLowerCase().includes(searchLower))||article.source.toLowerCase().includes(searchLower)})}return[...filtered].sort((a,b)=>{if(strict_equals(order,"date")){const dateA=new Date(a.publishedAt||a.date||"").getTime();const dateB=new Date(b.publishedAt||b.date||"").getTime();return strict_equals(direction,"asc")?dateA-dateB:dateB-dateA}return strict_equals(direction,"asc")?a.title.localeCompare(b.title):b.title.localeCompare(a.title)})});onMount(async()=>{locked(await isProLevel()?false:true)});function handleSearch2(query){searchQuery.set(query)}function handleSortOrderChange2(order){sortOrder.set(order)}function handleSortDirectionChange2(){sortDirection.update(d=>strict_equals(d,"asc")?"desc":"asc")}async function handleArticleDelete(article){const currentArticles=$yakklBookmarkedArticlesStore();const updatedArticles=currentArticles.filter(a=>!(strict_equals(a.title,article.title)&&strict_equals(a.source,article.source)));await setYakklBookmarkedArticles(updatedArticles)}let showLockedFooter=tag(state(false),"showLockedFooter");async function updateLockedFooterState(){set(showLockedFooter,!(await isProLevel()))}user_effect(()=>{updateLockedFooterState()});var fragment=root$4();var node=first_child(fragment);Upgrade(node,{onComplete:onComplete(),get show(){return get(showUpgradeModal)},set show($$value){set(showUpgradeModal,$$value,true)}});var node_1=sibling(node,2);const expression=user_derived(()=>get(showLockedFooter)?lockedFooter():null);const expression_1=user_derived(()=>get(showLockedFooter)?lockedFooterProps():{});{$$ownership_validator.binding("show",LockedSectionCard,show);LockedSectionCard(node_1,{title:"Bookmarked Articles",get icon(){return BookmarkIcon},minHeight:"300px",maxHeight:"750px",get locked(){return locked()},lockMessage:"Upgrade to Pro to unlock this feature",showButton:true,onComplete:()=>{set(showUpgradeModal,true)},get footer(){return footer()},get footerProps(){return footerProps()},get lockedFooter(){return get(expression)},get lockedFooterProps(){return get(expression_1)},get show(){return show()},set show($$value){show($$value)},children:wrap_snippet(BookmarkedArticles,($$anchor2,$$slotProps)=>{var fragment_1=root_1$4();var node_2=first_child(fragment_1);SearchSortControls(node_2,{get searchQuery(){return $searchQuery()},get sortOrder(){return $sortOrder()},get sortDirection(){return $sortDirection()},onSearch:handleSearch2,onSortOrderChange:handleSortOrderChange2,onSortDirectionChange:handleSortDirectionChange2});var node_3=sibling(node_2,2);{var consequent=$$anchor3=>{var div=root_2$2();var p=child(div);var text2=child(p,true);reset(p);reset(div);template_effect(()=>set_text(text2,$searchQuery()?"No matching articles found":"No bookmarked articles yet"));append($$anchor3,div)};var alternate=$$anchor3=>{var div_1=root_3$1();each(div_1,5,$filteredArticles,index,($$anchor4,article,index2)=>{var div_2=root_4$2();var div_3=child(div_2);var node_4=child(div_3);NewsFeedLineView(node_4,{get newsItem(){return get(article)}});reset(div_3);var node_5=sibling(div_3,2);ArticleControls(node_5,{get article(){return get(article)},bookmarkEnabled:false,deleteEnabled:true,onDelete:handleArticleDelete});var node_6=sibling(node_5,2);{var consequent_1=$$anchor5=>{var div_4=root_5$1();append($$anchor5,div_4)};if_block(node_6,$$render=>{if(index2<$filteredArticles().length-1)$$render(consequent_1)})}reset(div_2);append($$anchor4,div_2)});reset(div_1);append($$anchor3,div_1)};if_block(node_3,$$render=>{if(strict_equals($filteredArticles().length,0))$$render(consequent);else $$render(alternate,false)})}append($$anchor2,fragment_1)}),$$slots:{default:true}})}append($$anchor,fragment);var $$pop=pop({...legacy_api()});$$cleanup();return $$pop}GenericFooter[FILENAME]="src/lib/components/GenericFooter.svelte";var root_1$3=add_locations(from_html(`<button> </button>`),GenericFooter[FILENAME],[[28,2]]);var root$3=add_locations(from_html(`<div><p class="text-sm"> </p> <!></div>`),GenericFooter[FILENAME],[[23,0,[[26,1]]]]);function GenericFooter($$anchor,$$props){check_target(new.target);push($$props,true,GenericFooter);let text2=prop($$props,"text",3,""),buttonText=prop($$props,"buttonText",3,""),onAction=prop($$props,"onAction",3,()=>{}),variant=prop($$props,"variant",7,"default"),className=prop($$props,"className",3,"");const variantClasses={default:"bg-zinc-50 dark:bg-zinc-800/50 text-zinc-700 dark:text-zinc-300",warning:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-300",success:"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300",info:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300"};user_effect(()=>{if(!Object.keys(variantClasses).includes(variant())){variant("default")}});var div=root$3();var p=child(div);var text_1=child(p,true);reset(p);var node=sibling(p,2);{var consequent=$$anchor2=>{var button=root_1$3();button.__click=function(...$$args){apply(onAction,this,$$args,GenericFooter,[38,12])};var text_2=child(button,true);reset(button);template_effect(()=>{set_class(button,1,`px-4 py-2 text-sm font-medium rounded-lg transition-colors\n        ${(strict_equals(variant(),"default")&&"bg-zinc-200 hover:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-900 dark:text-zinc-100")??""}\n        ${(strict_equals(variant(),"warning")&&"bg-yellow-200 hover:bg-yellow-300 dark:bg-yellow-800 dark:hover:bg-yellow-700 text-yellow-900 dark:text-yellow-100")??""}\n        ${(strict_equals(variant(),"success")&&"bg-green-200 hover:bg-green-300 dark:bg-green-800 dark:hover:bg-green-700 text-green-900 dark:text-green-100")??""}\n        ${(strict_equals(variant(),"info")&&"bg-blue-200 hover:bg-blue-300 dark:bg-blue-800 dark:hover:bg-blue-700 text-blue-900 dark:text-blue-100")??""}`);set_text(text_2,buttonText())});append($$anchor2,button)};if_block(node,$$render=>{if(buttonText())$$render(consequent)})}reset(div);template_effect(()=>{set_class(div,1,`flex items-center justify-between ${variantClasses[variant()]??""} ${className()??""}`);set_text(text_1,text2())});append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);UpgradeFooter[FILENAME]="src/lib/components/UpgradeFooter.svelte";var root$2=add_locations(from_html(`<div class="text-sm text-zinc-600 dark:text-zinc-400"> <button class="text-blue-600 dark:text-blue-400 hover:underline"> </button></div>`),UpgradeFooter[FILENAME],[[9,0,[[11,1]]]]);function UpgradeFooter($$anchor,$$props){check_target(new.target);push($$props,true,UpgradeFooter);let text2=prop($$props,"text",3,"Unlock the rest of the world's insightful information by"),buttonText=prop($$props,"buttonText",3,"Upgrading today!");var div=root$2();var text_1=child(div);var button=sibling(text_1);button.__click=function(...$$args){apply(()=>$$props.onUpgrade,this,$$args,UpgradeFooter,[11,75])};var text_2=child(button,true);reset(button);reset(div);template_effect(()=>{set_text(text_1,`${text2()??""} `);set_text(text_2,buttonText())});append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);const _DynamicRSSFeedService=class _DynamicRSSFeedService{constructor(){__publicField(this,"ws",null);__publicField(this,"reconnectAttempts",0);__publicField(this,"maxReconnectAttempts",5);__publicField(this,"reconnectDelay",1e3);__publicField(this,"reconnectTimer",null);__publicField(this,"feedUpdateCallbacks",[]);__publicField(this,"rssService");this.rssService=ExtensionRSSFeedService.getInstance()}static getInstance(){if(!_DynamicRSSFeedService.instance){_DynamicRSSFeedService.instance=new _DynamicRSSFeedService}return _DynamicRSSFeedService.instance}async connect(wsUrl){var _a;if(((_a=this.ws)==null?void 0:_a.readyState)===WebSocket.OPEN){return}try{this.ws=new WebSocket(wsUrl);this.ws.onopen=()=>{log$1.info("WebSocket connected",false);this.reconnectAttempts=0;this.reconnectDelay=1e3};this.ws.onmessage=async event=>{try{const data=JSON.parse(event.data);if(data.type==="rss_feed"){if(typeof data.content==="string"){const feed=await this.rssService.parseRSSFeed(data.content,wsUrl);this.notifyFeedUpdate(feed)}else if(data.content&&data.content.items){this.notifyFeedUpdate(data.content)}}}catch(error){log$1.error("Error processing WebSocket message:",false,error)}};this.ws.onclose=()=>{log$1.warn("WebSocket connection closed",false);this.attemptReconnect()};this.ws.onerror=error=>{log$1.error("WebSocket error:",false,error)}}catch(error){log$1.error("Error connecting to WebSocket:",false,error);this.attemptReconnect()}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){log$1.error("Max reconnection attempts reached",false);return}if(this.reconnectTimer){clearTimeout(this.reconnectTimer)}this.reconnectTimer=window.setTimeout(()=>{var _a;this.reconnectAttempts++;this.reconnectDelay*=2;this.connect(((_a=this.ws)==null?void 0:_a.url)||"")},this.reconnectDelay)}disconnect(){if(this.ws){this.ws.close();this.ws=null}if(this.reconnectTimer){clearTimeout(this.reconnectTimer);this.reconnectTimer=null}}onFeedUpdate(callback){this.feedUpdateCallbacks.push(callback);return()=>{this.feedUpdateCallbacks=this.feedUpdateCallbacks.filter(cb=>cb!==callback)}}notifyFeedUpdate(feed){this.feedUpdateCallbacks.forEach(callback=>callback(feed))}async loadSampleFeed(){try{const response=await fetch("/src/lib/data/sample-crypto-feed.xml");const xmlText=await response.text();return await this.rssService.parseRSSFeed(xmlText,"sample-feed")}catch(error){log$1.error("Error loading sample feed:",false,error);throw error}}};__publicField(_DynamicRSSFeedService,"instance");let DynamicRSSFeedService=_DynamicRSSFeedService;DynamicRSSNewsFeed[FILENAME]="src/lib/components/DynamicRSSNewsFeed.svelte";async function refreshFeed(_,useSampleFeed,isLoading,dynamicService,newsItems,maxItemsPerFeed,error){if(useSampleFeed()){try{set(isLoading,true);const feed=await dynamicService.loadSampleFeed();set(newsItems,feed.items.slice(0,maxItemsPerFeed()),true)}catch(err){set(error,err instanceof Error?err.message:"Failed to refresh feed",true)}finally{set(isLoading,false)}}}var root_2$1=add_locations(from_html(`<div class="flex items-center justify-center p-8"><div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div></div>`),DynamicRSSNewsFeed[FILENAME],[[70,3,[[71,4]]]]);var root_4$1=add_locations(from_html(`<div class="flex flex-col items-center justify-center p-8 text-red-500"><p class="text-sm font-medium">Error loading news</p> <p class="text-xs mt-1"> </p> <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm">Retry</button></div>`),DynamicRSSNewsFeed[FILENAME],[[74,3,[[75,4],[76,4],[77,4]]]]);var root_6=add_locations(from_html(`<span> </span>`),DynamicRSSNewsFeed[FILENAME],[[89,6]]);var root_5=add_locations(from_html(`<div class="flex items-center justify-between mb-2"><h2 class="text-lg font-semibold"> </h2> <div class="flex items-center gap-2"><!> <button class="text-sm text-blue-500 hover:text-blue-600">Refresh</button></div></div> <!>`,1),DynamicRSSNewsFeed[FILENAME],[[85,3,[[86,4],[87,4,[[93,5]]]]]]);var root_1$2=add_locations(from_html(`<div><!></div>`),DynamicRSSNewsFeed[FILENAME],[[68,1]]);function DynamicRSSNewsFeed($$anchor,$$props){check_target(new.target);push($$props,true,DynamicRSSNewsFeed);let useSampleFeed=prop($$props,"useSampleFeed",3,false),maxVisibleItems=prop($$props,"maxVisibleItems",3,3),className=prop($$props,"className",3,""),locked=prop($$props,"locked",3,true),maxItemsPerFeed=prop($$props,"maxItemsPerFeed",19,()=>locked()?3:0),title=prop($$props,"title",3,"Crypto News"),show=prop($$props,"show",11,true);let newsItems=tag(state(proxy([])),"newsItems");let isLoading=tag(state(true),"isLoading");let error=tag(state(null),"error");let isConnected=tag(state(false),"isConnected");const dynamicService=DynamicRSSFeedService.getInstance();let unsubscribe=null;onMount(async()=>{try{if(useSampleFeed()){const feed=await dynamicService.loadSampleFeed();set(newsItems,feed.items.slice(0,maxItemsPerFeed()),true);set(isLoading,false)}else if($$props.wsUrl){unsubscribe=dynamicService.onFeedUpdate(feed=>{set(newsItems,feed.items.slice(0,maxItemsPerFeed()),true);set(isLoading,false);set(isConnected,true)});await dynamicService.connect($$props.wsUrl)}else{throw new Error("Either wsUrl or useSampleFeed must be provided")}}catch(err){set(error,err instanceof Error?err.message:"Failed to load RSS feed",true);log$1.error("RSS feed error:",false,err);set(isLoading,false)}});onDestroy(()=>{if(unsubscribe){unsubscribe()}if($$props.wsUrl){dynamicService.disconnect()}});var fragment=comment();var node=first_child(fragment);{var consequent_3=$$anchor2=>{var div=root_1$2();var node_1=child(div);{var consequent=$$anchor3=>{var div_1=root_2$1();append($$anchor3,div_1)};var alternate=($$anchor3,$$elseif)=>{{var consequent_1=$$anchor4=>{var div_2=root_4$1();var p=sibling(child(div_2),2);var text2=child(p,true);reset(p);var button=sibling(p,2);button.__click=[refreshFeed,useSampleFeed,isLoading,dynamicService,newsItems,maxItemsPerFeed,error];reset(div_2);template_effect(()=>set_text(text2,get(error)));append($$anchor4,div_2)};var alternate_1=$$anchor4=>{var fragment_1=root_5();var div_3=first_child(fragment_1);var h2=child(div_3);var text_1=child(h2,true);reset(h2);var div_4=sibling(h2,2);var node_2=child(div_4);{var consequent_2=$$anchor5=>{var span=root_6();var text_2=child(span,true);reset(span);template_effect(()=>{set_class(span,1,`text-xs ${get(isConnected)?"text-green-500":"text-yellow-500"}`);set_text(text_2,get(isConnected)?"Connected":"Connecting...")});append($$anchor5,span)};if_block(node_2,$$render=>{if($$props.wsUrl)$$render(consequent_2)})}var button_1=sibling(node_2,2);button_1.__click=[refreshFeed,useSampleFeed,isLoading,dynamicService,newsItems,maxItemsPerFeed,error];reset(div_4);reset(div_3);var node_3=sibling(div_3,2);NewsFeed(node_3,{get newsItems(){return get(newsItems)},get maxVisibleItems(){return maxVisibleItems()},get className(){return className()},get locked(){return locked()},get maxItemsPerFeed(){return maxItemsPerFeed()}});template_effect(()=>set_text(text_1,title()));append($$anchor4,fragment_1)};if_block($$anchor3,$$render=>{if(get(error))$$render(consequent_1);else $$render(alternate_1,false)},$$elseif)}};if_block(node_1,$$render=>{if(get(isLoading))$$render(consequent);else $$render(alternate,false)})}reset(div);template_effect(()=>set_class(div,1,clsx(className())));append($$anchor2,div)};if_block(node,$$render=>{if(show())$$render(consequent_3)})}append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);delegate(["click","keydown"]);ScrollIndicator[FILENAME]="src/lib/components/ScrollIndicator.svelte";function scrollToPosition(_,container,isAtBottom){if(!get(container))return;const targetPosition=get(isAtBottom)?0:get(container).scrollHeight;get(container).scrollTo({top:targetPosition,behavior:"smooth"})}var root_1$1=add_locations(from_html(`<button><!></button>`),ScrollIndicator[FILENAME],[[46,2]]);var root$1=add_locations(from_html(`<div class="relative h-full overflow-y-auto overflow-x-hidden svelte-npn056"><div class="w-full svelte-npn056"><!></div> <!></div>`),ScrollIndicator[FILENAME],[[40,0,[[41,1]]]]);function ScrollIndicator($$anchor,$$props){check_target(new.target);push($$props,true,ScrollIndicator);let show=tag(state(false),"show");let isAtBottom=tag(state(false),"isAtBottom");let container=tag(state(null),"container");let button=tag(state(null),"button");function handleScroll(){if(!get(container))return;const{scrollTop:scrollTop,scrollHeight:scrollHeight,clientHeight:clientHeight}=get(container);const scrollBottom=scrollHeight-scrollTop-clientHeight;set(show,scrollTop>75);set(isAtBottom,scrollBottom<10)}onMount(()=>{if(get(container)){get(container).addEventListener("scroll",handleScroll);handleScroll()}});onDestroy(()=>{if(get(container)){get(container).removeEventListener("scroll",handleScroll)}});var div=root$1();var div_1=child(div);var node=child(div_1);snippet(node,()=>$$props.children??noop$1);reset(div_1);var node_1=sibling(div_1,2);{var consequent_1=$$anchor2=>{var button_1=root_1$1();button_1.__click=[scrollToPosition,container,isAtBottom];var node_2=child(button_1);{var consequent=$$anchor3=>{ChevronUpIcon($$anchor3,{className:"w-5 h-5 text-white"})};var alternate=$$anchor3=>{ChevronDownIcon($$anchor3,{className:"w-5 h-5 text-white"})};if_block(node_2,$$render=>{if(get(isAtBottom))$$render(consequent);else $$render(alternate,false)})}reset(button_1);bind_this(button_1,$$value=>set(button,$$value),()=>get(button));template_effect($0=>{set_class(button_1,1,$0);set_attribute(button_1,"aria-label",get(isAtBottom)?"Scroll to top":"Scroll to bottom")},[()=>clsx(cn("fixed bottom-4 right-4 z-50","w-10 h-10 rounded-full","bg-blue-500 dark:bg-blue-600","shadow-lg hover:shadow-xl","flex items-center justify-center","transition-all duration-300","hover:scale-110 active:scale-95","hover:bg-blue-600 dark:hover:bg-blue-700","focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 dark:focus:ring-offset-zinc-900"))]);transition(3,button_1,()=>fly,()=>({y:20,duration:300}));append($$anchor2,button_1)};if_block(node_1,$$render=>{if(get(show))$$render(consequent_1)})}reset(div);bind_this(div,$$value=>set(container,$$value),()=>get(container));append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);_page[FILENAME]="src/routes/(sidepanel)/sidepanel/sidepanel/+page.svelte";var on_click=()=>goto("/preview2");var root_1=add_locations(from_html(`<button class="flex items-center gap-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white px-3 py-2 rounded-lg shadow-md hover:from-purple-600 hover:to-indigo-700 transition-all text-sm group"><svg class="w-4 h-4 group-hover:scale-110 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> Preview 2.0</button>`),_page[FILENAME],[[201,4,[[205,5,[[206,6]]]]]]);var root_2=add_locations(from_html(`<button><!> Open Smart Wallet</button>`),_page[FILENAME],[[213,4]]);var root_3=add_locations(from_html(`<span class="absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-500 animate-ping"></span>`),_page[FILENAME],[[225,3]]);var on_click_1=(_,showEthConverter)=>set(showEthConverter,true);var root_10=add_locations(from_html(`<button class="p-2 rounded hover:bg-gray-100 dark:hover:bg-zinc-800 transition" aria-label="Open Conversion Calculator"><!></button>`),_page[FILENAME],[[341,7]]);var root_9=add_locations(from_html(`<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 p-2 mt-2"><!> <!></div>`),_page[FILENAME],[[338,5]]);var root_4=add_locations(from_html(`<main class="flex-1 overflow-y-auto px-4 pb-4"><div class="grid grid-cols-1 md:grid-cols-3 gap-4 pb-4 pt-0"><!> <!>  <!> <!> <div class="hidden md:block mt-4"><!></div></div></main>`),_page[FILENAME],[[242,2,[[244,3,[[369,4]]]]]]);var root=add_locations(from_html(`<!> <div class="flex flex-col h-screen bg-white dark:bg-zinc-900 text-zinc-800 dark:text-zinc-100"><header class="px-4 py-3 border-b border-zinc-200 dark:border-zinc-700 flex justify-between items-center"><h1 class="text-lg font-bold">YAKKL Insights</h1> <div class="flex items-center gap-2"><!> <!></div> <!></header> <!> <div class="flex justify-end px-4 py-2"><!></div> <!> <!> <footer class="px-4 py-2 border-t border-zinc-200 dark:border-zinc-700 text-xs text-center font-bold flex flex-col items-center justify-center gap-2"><span class="text-zinc-500 mb-4">Smart Wallet Insights</span> <!></footer></div>`,1),_page[FILENAME],[[193,0,[[194,1,[[197,2],[199,4]]],[237,1],[408,1,[[411,2]]]]]]);function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);let showUpgradeModal=tag(state(false),"showUpgradeModal");let showEthConverter=tag(state(false),"showEthConverter");let init2=tag(state(false),"init");let locked=tag(state(true),"locked");let tokensLockedCount=tag(state(0),"tokensLockedCount");let newsfeedsLockedCount=tag(state(6),"newsfeedsLockedCount");let maxVisibleTokens=0;let showBanner=tag(state(true),"showBanner");let showDynamicNewsfeeds=tag(state(false),"showDynamicNewsfeeds");const cryptoFeeds=["https://cointelegraph.com/rss/?utm_source=yakkl&utm_medium=extension","https://www.coindesk.com/arc/outboundfeeds/rss/?utm_source=yakkl&utm_medium=extension","https://cryptonews.com/news/feed/?utm_source=yakkl&utm_medium=extension"];const wsFeedUrl="wss://your-websocket-server.com/feed";function openWallet(){if(browserSvelte){browser_ext.runtime.sendMessage({type:"popout"})}}const bannerItems=[{type:"banner",title:"Welcome to YAKKL",message:"Your secure crypto wallet"}];onMount(async()=>{try{if(!browserSvelte)return;const settings=await getSettings();if(!settings.init||!settings.legal.termsAgreed){set(init2,false);document.documentElement.classList.remove("dark");localStorage.theme="light";await setBadgeText("");return}else{set(init2,true);set(locked,await isProLevel()?false:true,true);set(tokensLockedCount,0);set(newsfeedsLockedCount,await isProLevel()?10:4,true)}await loadDefaultTokens();updateCombinedTokenStore();await setYakklCombinedTokenStorage(get$1(yakklCombinedTokenStore))}catch(error){log.warn("Error initializing sidepanel:",false,error)}});onDestroy(()=>{if(!browserSvelte)return});function onComplete(){set(showUpgradeModal,true)}function handleUpgradeComplete(){set(showUpgradeModal,false)}function handleUpgradeClose(){set(showUpgradeModal,false)}var fragment=root();var node=first_child(fragment);Upgrade(node,{openWallet:openWallet,onComplete:handleUpgradeComplete,onClose:handleUpgradeClose,onCancel:()=>set(showUpgradeModal,false),get show(){return get(showUpgradeModal)},set show($$value){set(showUpgradeModal,$$value,true)}});var div=sibling(node,2);var header=child(div);var div_1=sibling(child(header),2);var node_1=child(div_1);SimpleTooltip(node_1,{content:"Try the new wallet experience",position:"bottom",children:wrap_snippet(_page,($$anchor2,$$slotProps)=>{var button=root_1();button.__click=[on_click];append($$anchor2,button)}),$$slots:{default:true}});var node_2=sibling(node_1,2);SimpleTooltip(node_2,{content:"Click here to unlock your wallet",position:"bottom",children:wrap_snippet(_page,($$anchor2,$$slotProps)=>{var button_1=root_2();button_1.__click=openWallet;var node_3=child(button_1);WalletIcon(node_3,{className:"w-5 h-5"});next();reset(button_1);template_effect(()=>set_class(button_1,1,`flex items-center gap-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-xl shadow-md hover:from-green-600 hover:to-emerald-700 transition-all ${!get(init2)?"animate-pulse":""}`));append($$anchor2,button_1)}),$$slots:{default:true}});reset(div_1);var node_4=sibling(div_1,2);{var consequent=$$anchor2=>{var span=root_3();append($$anchor2,span)};if_block(node_4,$$render=>{if(!get(init2))$$render(consequent)})}reset(header);var node_5=sibling(header,2);RotatingBanner(node_5,{get items(){return bannerItems},autoRotate:false,showControls:false,get show(){return get(showBanner)},set show($$value){set(showBanner,$$value,true)}});var div_2=sibling(node_5,2);var node_6=child(div_2);PlanBadge(node_6,{});reset(div_2);var node_7=sibling(div_2,2);ScrollIndicator(node_7,{children:wrap_snippet(_page,($$anchor2,$$slotProps)=>{var main=root_4();var div_3=child(main);var node_8=child(div_3);SectionCard(node_8,{title:"Token Prices",get icon(){return TokenIcon},isPinned:false,eye:false,eyeTooltip:"Toggle visibility of balances",minHeight:"300px",maxHeight:"750px",get locked(){return get(locked)},get lockedFooter(){return GenericFooter},lockedFooterProps:{text:"Unlock visibility of all tokens by",buttonText:"Upgrading today!",onAction:()=>set(showUpgradeModal,true),variant:"info"},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{TokenComponentList($$anchor3,{maxVisibleTokens:maxVisibleTokens,get maxTokens(){return get(tokensLockedCount)},get locked(){return get(locked)}})}),$$slots:{default:true}});var node_9=sibling(node_8,2);SectionCard(node_9,{title:"Newsfeeds",get icon(){return NewsIcon},minHeight:"350px",maxHeight:"1000px",locked:false,get lockedFooter(){return UpgradeFooter},lockedFooterProps:{onUpgrade:()=>set(showUpgradeModal,true),text:"Unlock visibility of all newsfeeds with faster refresh times by",buttonText:"Upgrade Now"},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{var fragment_2=comment();var node_10=first_child(fragment_2);{var consequent_1=$$anchor4=>{DynamicRSSNewsFeed($$anchor4,{wsUrl:wsFeedUrl,title:"Live Crypto News",get maxVisibleItems(){return get(newsfeedsLockedCount)},get maxItemsPerFeed(){return get(newsfeedsLockedCount)},className:"bg-white dark:bg-gray-900 rounded-lg shadow-md",get locked(){return get(locked)},get show(){return get(showDynamicNewsfeeds)},set show($$value){set(showDynamicNewsfeeds,$$value,true)}})};var alternate=$$anchor4=>{ExtensionRSSNewsFeed($$anchor4,{get feedUrls(){return cryptoFeeds},get maxVisibleItems(){return get(newsfeedsLockedCount)},get maxItemsPerFeed(){return get(newsfeedsLockedCount)},className:"bg-white dark:bg-gray-900 rounded-lg shadow-md",locked:false})};if_block(node_10,$$render=>{if(get(showDynamicNewsfeeds))$$render(consequent_1);else $$render(alternate,false)})}append($$anchor3,fragment_2)}),$$slots:{default:true}});var node_11=sibling(node_9,2);BookmarkedArticles(node_11,{onComplete:onComplete,show:true,get locked(){return get(locked)},get lockedFooter(){return UpgradeFooter},lockedFooterProps:{onUpgrade:()=>set(showUpgradeModal,true),text:"Unlock bookmarking features by",buttonText:"Upgrading today!"}});var node_12=sibling(node_11,2);SectionCard(node_12,{title:"Utilities",get icon(){return ToolIcon},minHeight:"250px",maxHeight:"800px",children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{var div_4=root_9();var node_13=child(div_4);SimpleTooltip(node_13,{content:"ETH Unit Converter",children:wrap_snippet(_page,($$anchor4,$$slotProps3)=>{var button_2=root_10();button_2.__click=[on_click_1,showEthConverter];var node_14=child(button_2);CalcIcon(node_14,{className:"w-7 h-7"});reset(button_2);append($$anchor4,button_2)}),$$slots:{default:true}});var node_15=sibling(node_13,2);EthUnitConverter(node_15,{get show(){return get(showEthConverter)},set show($$value){set(showEthConverter,$$value,true)}});reset(div_4);append($$anchor3,div_4)}),$$slots:{default:true}});var div_5=sibling(node_12,2);var node_16=child(div_5);SectionCard(node_16,{title:"Market Overview",minHeight:"300px",maxHeight:"600px",get locked(){return get(locked)},get lockedFooter(){return GenericFooter},lockedFooterProps:{text:"Unlock visibility of the market overview by",buttonText:"Upgrading today!",onAction:()=>set(showUpgradeModal,true),variant:"info"},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{Placeholder($$anchor3,{text:"Chart coming soon...",className:"flex items-center justify-center text-zinc-500 !border-t-0",anchorTop:true,centerHorizontal:true,centerVertical:true,showBorderTop:false})}),$$slots:{default:true}});reset(div_5);reset(div_3);reset(main);append($$anchor2,main)}),$$slots:{default:true}});var node_17=sibling(node_7,2);Placeholder(node_17,{text:"  Drag the edge of this panel to make it wider and discover more features!",className:"md:hidden"});var footer=sibling(node_17,2);var node_18=sibling(child(footer),2);Copyright(node_18,{});reset(footer);reset(div);append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);export{_page as component};
//# sourceMappingURL=26.BgK6y6wA.js.map
