{"version":3,"file":"73.l-g8d9y1.js","sources":["../../../../../../src/routes/preview2/legal/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { browserSvelte, browser_ext } from '$lib/common/environment';\n  import { PATH_REGISTER } from '$lib/common';\n  import type { Settings } from '$lib/common';\n  import { getSettings, setSettingsStorage } from '$lib/common/stores';\n  import { goto } from '$app/navigation';\n  import { log } from '$lib/common/logger-wrapper';\n\n  let yakklSettings: Settings | null = null;\n  let isAgreed = $state(false);\n\n  async function update() {\n    try {\n      if (browserSvelte) {\n        yakklSettings = await getSettings();\n        if (yakklSettings) {\n          yakklSettings.legal.privacyViewed = true;\n          yakklSettings.legal.termsAgreed = true;\n          yakklSettings.isLocked = true;\n          await setSettingsStorage(yakklSettings);\n          await goto('/preview2/register');\n        }\n      }\n    } catch (error) {\n      log.error(error);\n    }\n  }\n\n  async function handleSubmit() {\n    if (isAgreed) {\n      await update();\n    }\n  }\n\n  function handleLink(e: { srcElement: { href: any } }) {\n    if (browserSvelte) {\n      browser_ext.tabs.create({ url: e.srcElement.href });\n    }\n  }\n</script>\n\n<div class=\"min-h-screen bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center p-4\">\n  <div class=\"max-w-3xl w-full\">\n    <div class=\"yakkl-card p-8\">\n      <!-- Header -->\n      <div class=\"text-center mb-6\">\n        <img src=\"/images/logoBullFav128x128.png\" alt=\"YAKKL\" class=\"w-16 h-16 mx-auto mb-4\" />\n        <h1 class=\"text-2xl font-bold text-zinc-900 dark:text-white mb-2\">\n          Legal Agreements\n        </h1>\n        <p class=\"text-zinc-600 dark:text-zinc-400\">\n          Please review and accept our terms of service to continue\n        </p>\n      </div>\n\n      <!-- Terms Content -->\n      <div class=\"bg-zinc-100 dark:bg-zinc-800 rounded-xl p-6 mb-6 h-[400px] overflow-y-auto border border-zinc-200 dark:border-zinc-700\">\n        <div class=\"prose dark:prose-invert max-w-none text-sm\">\n          {@html `___HTML_SNIPPET___`}\n        </div>\n      </div>\n\n      <!-- Agreement Checkbox -->\n      <div class=\"mb-6\">\n        <label class=\"flex items-start gap-3 cursor-pointer group\">\n          <input\n            type=\"checkbox\"\n            bind:checked={isAgreed}\n            class=\"mt-1 w-5 h-5 rounded border-zinc-300 dark:border-zinc-600 text-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:bg-zinc-700\"\n          />\n          <div class=\"flex-1\">\n            <span class=\"text-zinc-900 dark:text-white font-medium group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors\">\n              I have read and agree to the terms of service\n            </span>\n            <p class=\"text-xs text-zinc-600 dark:text-zinc-400 mt-1\">\n              By checking this box, you agree to our Terms of Service and Privacy Policy. \n              You can find more information at yakkl.com.\n            </p>\n          </div>\n        </label>\n      </div>\n\n      <!-- Actions -->\n      <div class=\"flex justify-between\">\n        <button\n          onclick={() => window.close()}\n          class=\"yakkl-btn-secondary\"\n        >\n          Cancel\n        </button>\n        <button\n          onclick={handleSubmit}\n          disabled={!isAgreed}\n          class=\"yakkl-btn-primary\"\n        >\n          Continue to Registration\n        </button>\n      </div>\n    </div>\n  </div>\n</div>"],"names":["handleSubmit","_","isAgreed","update","on_click","window","close","yakklSettings","$.tag","$.state","browserSvelte","getSettings","legal","privacyViewed","termsAgreed","isLocked","setSettingsStorage","goto","error","log","bind_checked","input","$.get","$$value"],"mappings":"o1BA4BiBA,aAAeC,EAAAC,SAAAC,eACxBD,UAAU,OACNC,QACR,CACF,CAqDuB,IAAAC,SAAA,IAAAC,OAAOC,6xDA7E1BC,cAAiC,KACjC,IAAAL,SAAAM,IAAAC,MAAkB,OAAK,2BAEZN,SACT,OACEO,cAAe,CACjBH,oBAAsBI,iBAClBJ,cAAe,CACjBA,cAAcK,MAAMC,cAAgB,KACpCN,cAAcK,MAAME,YAAc,KAClCP,cAAcQ,SAAW,WACnBC,mBAAmBT,qBACnBU,KAAK,qBACb,CACF,CACF,OAASC,OACPC,IAAID,MAAMA,MACZ,CACF,280CAiEiBlB,aAAYE,SAAAC,qGACVD,WAzBKkB,aAAAC,MAAA,IAAAC,IAAApB,uBAAAA,SAAQqB"}