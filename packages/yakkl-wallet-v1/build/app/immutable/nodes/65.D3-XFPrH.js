import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{p as push,h as tag,aC as tag_proxy,ae as proxy,a as pop,i as state,u as user_derived,$ as $document,c as child,s as sibling,F as FILENAME,g as get,b as strict_equals,r as reset,j as next,t as template_effect,e as set,ak as update}from"../chunks/BaS8d5lg.js";import{a as add_locations}from"../chunks/3AhEABF_.js";import{s as set_text}from"../chunks/Cmwrv3PW.js";import{i as if_block}from"../chunks/Q1yPWpQ-.js";import{e as each}from"../chunks/DraJ8LN-.js";import{a as append,f as from_html}from"../chunks/Cm3jf07C.js";import{h as head}from"../chunks/twIkBoiu.js";import{r as remove_input_defaults}from"../chunks/DTBsVM-c.js";import{s as set_class}from"../chunks/DX_EEhpR.js";import{d as delegate}from"../chunks/DiU70Is3.js";import{t as transition,a as fly}from"../chunks/DevLwR0m.js";import{b as bind_value}from"../chunks/B6q982nR.js";import{a as validate_each_keys}from"../chunks/PvfmHBx2.js";import{l as log_if_contains_state}from"../chunks/DZ17DrFv.js";import{g as goto}from"../chunks/CkqS9PXN.js";import{H as Header}from"../chunks/Czr5fMei.js";import{B as BackButton}from"../chunks/DxdmnoOQ.js";_page[FILENAME]="src/routes/preview1/send/+page.svelte";function handleRecipientNext(_,isValidRecipient,currentStep){if(get(isValidRecipient)){set(currentStep,2)}}function handleAmountNext(__1,isValidAmount,currentStep){if(get(isValidAmount)){set(currentStep,3)}}function handleConfirm(__2,recipient,amount,selectedAsset,memo,gasPrice){console.log(...log_if_contains_state("log","Sending:",{recipient:get(recipient),amount:get(amount),selectedAsset:selectedAsset,memo:get(memo),gasPrice:get(gasPrice)}));alert("Transaction sent successfully!");goto("/new-wallet")}var on_click=(__3,recipient)=>set(recipient,"");var root_3=add_locations(from_html(`<button class="absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-primary"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>`),_page[FILENAME],[[103,7,[[107,8,[[108,9]]]]]]);var on_click_1=(__4,selectContact,contact)=>selectContact(get(contact));var root_5=add_locations(from_html(`<button class="w-full flex items-center space-x-3 p-3 bg-surface hover:bg-surface-elevated rounded-card transition-all group"><div class="w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center text-lg"> </div> <div class="flex-1 text-left"><p class="font-medium text-text-primary group-hover:text-primary-600 transition-colors"> </p> <p class="text-sm text-text-muted"> </p></div> <svg class="w-5 h-5 text-text-muted group-hover:text-primary-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>`),_page[FILENAME],[[121,8,[[125,9],[128,9,[[129,10],[132,10]]],[136,9,[[137,10]]]]]]);var root_4=add_locations(from_html(`<div class="space-y-3"><h3 class="text-sm font-medium text-text-primary">Recent Contacts</h3> <div class="space-y-2"></div></div>`),_page[FILENAME],[[117,5,[[118,6],[119,6]]]]);var root_2=add_locations(from_html(`<div class="p-4 space-y-6"><div class="flex items-center space-x-4"><!> <div><h1 class="text-xl font-semibold text-text-primary">Send To</h1> <p class="text-sm text-text-muted">Choose recipient</p></div></div> <div class="space-y-2"><label class="block text-sm font-medium text-text-primary">Recipient Address</label> <div class="relative"><input placeholder="0x... or name.eth" class="w-full px-4 py-3 bg-surface border border-border rounded-card text-text-primary placeholder-text-muted focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"/> <!></div></div> <!> <div class="fixed bottom-4 left-4 right-4"><button class="w-full py-4 bg-primary-500 hover:bg-primary-600 disabled:bg-border disabled:text-text-muted text-white font-medium rounded-card transition-all disabled:cursor-not-allowed">Continue</button></div></div>`),_page[FILENAME],[[84,3,[[85,4,[[87,5,[[88,6],[89,6]]]]],[94,4,[[95,5],[96,5,[[97,6]]]]],[146,4,[[147,5]]]]]]);var root_7=add_locations(from_html(`<p class="text-center text-text-muted"> </p>`),_page[FILENAME],[[205,6]]);var on_click_2=(__5,setPercentage)=>setPercentage(25);var on_click_3=(__6,setPercentage)=>setPercentage(50);var on_click_4=(__7,setPercentage)=>setPercentage(75);var on_click_5=(__8,setPercentage)=>setPercentage(100);var root_6=add_locations(from_html(`<div class="p-4 space-y-6"><div class="flex items-center space-x-4"><!> <div><h1 class="text-xl font-semibold text-text-primary">Send Amount</h1> <p class="text-sm text-text-muted">Enter amount to send</p></div></div> <div class="space-y-2"><label class="block text-sm font-medium text-text-primary">Asset</label> <button class="w-full flex items-center justify-between p-3 bg-surface hover:bg-surface-elevated rounded-card transition-all group"><div class="flex items-center space-x-3"><div class="w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center text-lg"> </div> <div class="text-left"><p class="font-medium text-text-primary"> </p> <p class="text-sm text-text-muted"> </p></div></div> <svg class="w-5 h-5 text-text-muted group-hover:text-primary-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div> <div class="space-y-3"><label class="block text-sm font-medium text-text-primary">Amount</label> <div class="relative"><input type="number" step="any" placeholder="0.00" class="w-full px-4 py-4 text-2xl bg-surface border border-border rounded-card text-text-primary placeholder-text-muted focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all text-center"/> <div class="absolute right-4 top-1/2 -translate-y-1/2 text-sm text-text-muted"> </div></div> <!></div> <div class="grid grid-cols-4 gap-2"><button class="py-2 text-sm font-medium text-primary-600 bg-primary-50 hover:bg-primary-100 rounded-button transition-colors">25%</button> <button class="py-2 text-sm font-medium text-primary-600 bg-primary-50 hover:bg-primary-100 rounded-button transition-colors">50%</button> <button class="py-2 text-sm font-medium text-primary-600 bg-primary-50 hover:bg-primary-100 rounded-button transition-colors">75%</button> <button class="py-2 text-sm font-medium text-primary-600 bg-primary-50 hover:bg-primary-100 rounded-button transition-colors">MAX</button></div> <div class="space-y-2"><label class="block text-sm font-medium text-text-primary">Memo (Optional)</label> <input placeholder="Add a note..." class="w-full px-4 py-3 bg-surface border border-border rounded-card text-text-primary placeholder-text-muted focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all"/></div> <div class="fixed bottom-4 left-4 right-4"><button class="w-full py-4 bg-primary-500 hover:bg-primary-600 disabled:bg-border disabled:text-text-muted text-white font-medium rounded-card transition-all disabled:cursor-not-allowed">Review Transaction</button></div></div>`),_page[FILENAME],[[160,3,[[161,4,[[163,5,[[164,6],[165,6]]]]],[170,4,[[171,5],[172,5,[[173,6,[[174,7],[177,7,[[178,8],[179,8]]]]],[182,6,[[183,7]]]]]]],[189,4,[[190,5],[191,5,[[192,6],[199,6]]]]],[212,4,[[213,5],[219,5],[225,5],[231,5]]],[240,4,[[241,5],[242,5]]],[250,4,[[251,5]]]]]]);var root_9=add_locations(from_html(`<div class="flex justify-between items-center py-3 border-b border-border-light"><span class="text-text-secondary">Memo</span> <p class="text-text-primary font-medium"> </p></div>`),_page[FILENAME],[[306,6,[[307,7],[308,7]]]]);var on_click_6=(__9,gasPrice)=>set(gasPrice,"slow");var on_click_7=(__10,gasPrice)=>set(gasPrice,"normal");var on_click_8=(__11,gasPrice)=>set(gasPrice,"fast");var root_8=add_locations(from_html(`<div class="p-4 space-y-6"><div class="flex items-center space-x-4"><!> <div><h1 class="text-xl font-semibold text-text-primary">Confirm Send</h1> <p class="text-sm text-text-muted">Review transaction details</p></div></div> <div class="bg-surface rounded-card p-4 space-y-4"><div class="text-center space-y-2"><div class="w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center text-2xl mx-auto"> </div> <h3 class="text-2xl font-bold text-text-primary"> </h3> <p class="text-text-muted"> </p></div></div> <div class="space-y-4"><div class="flex justify-between items-center py-3 border-b border-border-light"><span class="text-text-secondary">To</span> <div class="text-right"><p class="text-text-primary font-medium"> </p></div></div> <div class="flex justify-between items-center py-3 border-b border-border-light"><span class="text-text-secondary">Network Fee</span> <div class="text-right"><p class="text-text-primary font-medium"></p> <p class="text-xs text-text-muted"></p></div></div> <!> <div class="flex justify-between items-center py-3 font-semibold text-lg"><span class="text-text-primary">Total</span> <div class="text-right"><p class="text-text-primary"> </p> <p class="text-sm text-text-muted"></p></div></div></div> <div class="space-y-3"><label class="block text-sm font-medium text-text-primary">Transaction Speed</label> <div class="grid grid-cols-3 gap-2"><button><div class="text-sm font-medium">Slow</div> <div class="text-xs">~5 min</div> <div class="text-xs">$0.65</div></button> <button><div class="text-sm font-medium">Normal</div> <div class="text-xs">~2 min</div> <div class="text-xs">$0.85</div></button> <button><div class="text-sm font-medium">Fast</div> <div class="text-xs">~30 sec</div> <div class="text-xs">$1.20</div></button></div></div> <div class="fixed bottom-4 left-4 right-4"><button class="w-full py-4 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-card transition-all">Confirm & Send</button></div></div>`),_page[FILENAME],[[264,3,[[265,4,[[267,5,[[268,6],[269,6]]]]],[274,4,[[275,5,[[276,6],[279,6],[280,6]]]]],[287,4,[[288,5,[[289,6],[290,6,[[291,7]]]]],[297,5,[[298,6],[299,6,[[300,7],[301,7]]]]],[312,5,[[313,6],[314,6,[[315,7],[318,7]]]]]]],[324,4,[[325,5],[326,5,[[327,6,[[331,7],[332,7],[333,7]]],[335,6,[[339,7],[340,7],[341,7]]],[343,6,[[347,7],[348,7],[349,7]]]]]]],[355,4,[[356,5]]]]]]);var root=add_locations(from_html(`<div class="flex flex-col h-screen bg-background"><!> <main class="flex-1 overflow-auto"><!> <!> <!></main></div>`),_page[FILENAME],[[78,0,[[81,1]]]]);function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);let currentStep=tag(state(1),"currentStep");let recipient=tag(state(""),"recipient");let amount=tag(state(""),"amount");let selectedAsset=tag_proxy(proxy({symbol:"ETH",name:"Ethereum",balance:"0.1736",value:"$40.28",icon:"⟐",decimals:18}),"selectedAsset");let memo=tag(state(""),"memo");let gasPrice=tag(state("normal"),"gasPrice");let recentContacts=tag_proxy(proxy([{address:"0x742d35Cc6635C0532925a3b8D400e1234567890a",name:"Alice.eth",avatar:"👩"},{address:"0x851d45Cc6635C0532925a3b8D400e1234567890b",name:"Bob",avatar:"👨"},{address:"0x962e56Cc6635C0532925a3b8D400e1234567890c",name:"Charlie.eth",avatar:"🧑"}]),"recentContacts");tag_proxy(proxy([{symbol:"ETH",name:"Ethereum",balance:"0.1736",value:"$40.28",icon:"⟐"},{symbol:"USDT",name:"Tether USD",balance:"297.92",value:"$297.92",icon:"₮"},{symbol:"USDC",name:"USD Coin",balance:"150.00",value:"$150.00",icon:"💵"}]),"availableAssets");let isValidRecipient=tag(user_derived(()=>get(recipient).length>0&&(get(recipient).includes(".eth")||get(recipient).startsWith("0x"))),"isValidRecipient");let isValidAmount=tag(user_derived(()=>get(amount).length>0&&parseFloat(get(amount))>0&&parseFloat(get(amount))<=parseFloat(selectedAsset.balance)),"isValidAmount");function selectContact(contact){set(recipient,contact.address,true);set(currentStep,2)}function setPercentage(percent){const balance=parseFloat(selectedAsset.balance);if(strict_equals(percent,100)){const maxAmount=balance-.001;set(amount,Math.max(0,maxAmount).toFixed(6),true)}else{set(amount,(balance*(percent/100)).toFixed(6),true)}}function goBack(){if(get(currentStep)>1){update(currentStep,-1)}else{goto("/new-wallet")}}var div=root();head($$anchor2=>{$document.title="Send - YAKKL Smart Wallet"});var node=child(div);Header(node,{});var main=sibling(node,2);var node_1=child(main);{var consequent_2=$$anchor2=>{var div_1=root_2();var div_2=child(div_1);var node_2=child(div_2);BackButton(node_2,{onclick:goBack});next(2);reset(div_2);var div_3=sibling(div_2,2);var div_4=sibling(child(div_3),2);var input=child(div_4);remove_input_defaults(input);var node_3=sibling(input,2);{var consequent=$$anchor3=>{var button=root_3();button.__click=[on_click,recipient];append($$anchor3,button)};if_block(node_3,$$render=>{if(get(recipient))$$render(consequent)})}reset(div_4);reset(div_3);var node_4=sibling(div_3,2);{var consequent_1=$$anchor3=>{var div_5=root_4();var div_6=sibling(child(div_5),2);validate_each_keys(()=>recentContacts,contact=>contact.address);each(div_6,21,()=>recentContacts,contact=>contact.address,($$anchor4,contact)=>{var button_1=root_5();button_1.__click=[on_click_1,selectContact,contact];var div_7=child(button_1);var text=child(div_7,true);reset(div_7);var div_8=sibling(div_7,2);var p=child(div_8);var text_1=child(p,true);reset(p);var p_1=sibling(p,2);var text_2=child(p_1);reset(p_1);reset(div_8);next(2);reset(button_1);template_effect(($0,$1)=>{set_text(text,get(contact).avatar);set_text(text_1,get(contact).name);set_text(text_2,`${$0??""}...${$1??""}`)},[()=>get(contact).address.slice(0,6),()=>get(contact).address.slice(-4)]);append($$anchor4,button_1)});reset(div_6);reset(div_5);append($$anchor3,div_5)};if_block(node_4,$$render=>{if(recentContacts.length>0)$$render(consequent_1)})}var div_9=sibling(node_4,2);var button_2=child(div_9);button_2.__click=[handleRecipientNext,isValidRecipient,currentStep];reset(div_9);reset(div_1);template_effect(()=>button_2.disabled=!get(isValidRecipient));bind_value(input,()=>get(recipient),$$value=>set(recipient,$$value));transition(1,div_1,()=>fly,()=>({x:-20,duration:300}));append($$anchor2,div_1)};if_block(node_1,$$render=>{if(strict_equals(get(currentStep),1))$$render(consequent_2)})}var node_5=sibling(node_1,2);{var consequent_4=$$anchor2=>{var div_10=root_6();var div_11=child(div_10);var node_6=child(div_11);BackButton(node_6,{onclick:goBack});next(2);reset(div_11);var div_12=sibling(div_11,2);var button_3=sibling(child(div_12),2);var div_13=child(button_3);var div_14=child(div_13);var text_3=child(div_14,true);reset(div_14);var div_15=sibling(div_14,2);var p_2=child(div_15);var text_4=child(p_2,true);reset(p_2);var p_3=sibling(p_2,2);var text_5=child(p_3);reset(p_3);reset(div_15);reset(div_13);next(2);reset(button_3);reset(div_12);var div_16=sibling(div_12,2);var div_17=sibling(child(div_16),2);var input_1=child(div_17);remove_input_defaults(input_1);var div_18=sibling(input_1,2);var text_6=child(div_18,true);reset(div_18);reset(div_17);var node_7=sibling(div_17,2);{var consequent_3=$$anchor3=>{var p_4=root_7();var text_7=child(p_4);reset(p_4);template_effect($0=>set_text(text_7,`≈ $${$0??""}`),[()=>(parseFloat(get(amount))*(parseFloat(selectedAsset.value.replace("$",""))/parseFloat(selectedAsset.balance))).toFixed(2)]);append($$anchor3,p_4)};if_block(node_7,$$render=>{if(get(amount))$$render(consequent_3)})}reset(div_16);var div_19=sibling(div_16,2);var button_4=child(div_19);button_4.__click=[on_click_2,setPercentage];var button_5=sibling(button_4,2);button_5.__click=[on_click_3,setPercentage];var button_6=sibling(button_5,2);button_6.__click=[on_click_4,setPercentage];var button_7=sibling(button_6,2);button_7.__click=[on_click_5,setPercentage];reset(div_19);var div_20=sibling(div_19,2);var input_2=sibling(child(div_20),2);remove_input_defaults(input_2);reset(div_20);var div_21=sibling(div_20,2);var button_8=child(div_21);button_8.__click=[handleAmountNext,isValidAmount,currentStep];reset(div_21);reset(div_10);template_effect(()=>{set_text(text_3,selectedAsset.icon);set_text(text_4,selectedAsset.symbol);set_text(text_5,`Balance: ${selectedAsset.balance??""}`);set_text(text_6,selectedAsset.symbol);button_8.disabled=!get(isValidAmount)});bind_value(input_1,()=>get(amount),$$value=>set(amount,$$value));bind_value(input_2,()=>get(memo),$$value=>set(memo,$$value));transition(1,div_10,()=>fly,()=>({x:-20,duration:300}));append($$anchor2,div_10)};if_block(node_5,$$render=>{if(strict_equals(get(currentStep),2))$$render(consequent_4)})}var node_8=sibling(node_5,2);{var consequent_6=$$anchor2=>{var div_22=root_8();var div_23=child(div_22);var node_9=child(div_23);BackButton(node_9,{onclick:goBack});next(2);reset(div_23);var div_24=sibling(div_23,2);var div_25=child(div_24);var div_26=child(div_25);var text_8=child(div_26,true);reset(div_26);var h3=sibling(div_26,2);var text_9=child(h3);reset(h3);var p_5=sibling(h3,2);var text_10=child(p_5);reset(p_5);reset(div_25);reset(div_24);var div_27=sibling(div_24,2);var div_28=child(div_27);var div_29=sibling(child(div_28),2);var p_6=child(div_29);var text_11=child(p_6,true);reset(p_6);reset(div_29);reset(div_28);var div_30=sibling(div_28,2);var div_31=sibling(child(div_30),2);var p_7=child(div_31);p_7.textContent="$0.85";var p_8=sibling(p_7,2);p_8.textContent="~2 min";reset(div_31);reset(div_30);var node_10=sibling(div_30,2);{var consequent_5=$$anchor3=>{var div_32=root_9();var p_9=sibling(child(div_32),2);var text_12=child(p_9,true);reset(p_9);reset(div_32);template_effect(()=>set_text(text_12,get(memo)));append($$anchor3,div_32)};if_block(node_10,$$render=>{if(get(memo))$$render(consequent_5)})}var div_33=sibling(node_10,2);var div_34=sibling(child(div_33),2);var p_10=child(div_34);var text_13=child(p_10);reset(p_10);var p_11=sibling(p_10,2);p_11.textContent="+ $0.85 fee";reset(div_34);reset(div_33);reset(div_27);var div_35=sibling(div_27,2);var div_36=sibling(child(div_35),2);var button_9=child(div_36);button_9.__click=[on_click_6,gasPrice];var button_10=sibling(button_9,2);button_10.__click=[on_click_7,gasPrice];var button_11=sibling(button_10,2);button_11.__click=[on_click_8,gasPrice];reset(div_36);reset(div_35);var div_37=sibling(div_35,2);var button_12=child(div_37);button_12.__click=[handleConfirm,recipient,amount,selectedAsset,memo,gasPrice];reset(div_37);reset(div_22);template_effect(($0,$1,$2)=>{set_text(text_8,selectedAsset.icon);set_text(text_9,`${get(amount)??""} ${selectedAsset.symbol??""}`);set_text(text_10,`≈ $${$0??""}`);set_text(text_11,$1);set_text(text_13,`${$2??""} ${selectedAsset.symbol??""}`);set_class(button_9,1,`p-3 text-center rounded-card border transition-all ${strict_equals(get(gasPrice),"slow")?"border-primary-500 bg-primary-50 text-primary-700":"border-border bg-surface text-text-secondary hover:border-border-light"}`);set_class(button_10,1,`p-3 text-center rounded-card border transition-all ${strict_equals(get(gasPrice),"normal")?"border-primary-500 bg-primary-50 text-primary-700":"border-border bg-surface text-text-secondary hover:border-border-light"}`);set_class(button_11,1,`p-3 text-center rounded-card border transition-all ${strict_equals(get(gasPrice),"fast")?"border-primary-500 bg-primary-50 text-primary-700":"border-border bg-surface text-text-secondary hover:border-border-light"}`)},[()=>(parseFloat(get(amount))*(parseFloat(selectedAsset.value.replace("$",""))/parseFloat(selectedAsset.balance))).toFixed(2),()=>get(recipient).includes(".eth")?get(recipient):`${get(recipient).slice(0,6)}...${get(recipient).slice(-4)}`,()=>(parseFloat(get(amount))+.001).toFixed(6)]);transition(1,div_22,()=>fly,()=>({x:-20,duration:300}));append($$anchor2,div_22)};if_block(node_8,$$render=>{if(strict_equals(get(currentStep),3))$$render(consequent_6)})}reset(main);reset(div);append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);export{_page as component};
//# sourceMappingURL=65.D3-XFPrH.js.map
