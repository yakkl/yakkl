import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{p as push,h as tag,aC as tag_proxy,ae as proxy,o as onMount,d as onDestroy,ay as user_effect,e as set,b as strict_equals,g as get,f as first_child,c as child,t as template_effect,a as pop,i as state,a7 as untrack,s as sibling,F as FILENAME,aZ as equals,r as reset,u as user_derived,j as next}from"../chunks/BaS8d5lg.js";import{a as assign}from"../chunks/CbeU9pgp.js";import{a as add_locations}from"../chunks/3AhEABF_.js";import{s as set_text}from"../chunks/Cmwrv3PW.js";import{a as await_block}from"../chunks/BB5C_DND.js";import{i as if_block}from"../chunks/Q1yPWpQ-.js";import{e as each,i as index}from"../chunks/DraJ8LN-.js";import{a as append,f as from_html,d as from_svg,t as text,c as comment}from"../chunks/Cm3jf07C.js";import{w as wrap_snippet}from"../chunks/d5hrMixo.js";import{r as remove_input_defaults}from"../chunks/DTBsVM-c.js";import{s as set_class,c as clsx}from"../chunks/DX_EEhpR.js";import{d as delegate,e as event,b as apply}from"../chunks/DiU70Is3.js";import{b as bind_value}from"../chunks/B6q982nR.js";import{a as store_get,s as setup_stores,d as store_mutate,b as store_set}from"../chunks/CViNpZsE.js";import{v as validate_binding}from"../chunks/PvfmHBx2.js";import{v as validate_store}from"../chunks/Dv9a3G0k.js";import{b as browserSvelte}from"../chunks/CgCfpVku.js";import{l as log,U as ETH_BASE_SCA_GAS_UNITS,X as ETH_BASE_EOA_GAS_UNITS,Z as yakklCurrentlySelectedStore,$ as yakklPricingStore,m as yakklGasTransStore,T as TIMER_CHECK_GAS_PRICE_INTERVAL_TIME,v as getProfile,a0 as BigNumber,a1 as EthereumBigNumber,a2 as toHex,a3 as EOA_FALLBACK_GAS,k as yakklConnectionStore,x as isEncryptedData,z as decryptData,a4 as parseJsonRpcError,h as getMiscStore,C as getYakklCurrentlySelected,a5 as yakklContactsStore,a6 as getYakklContacts}from"../chunks/Cb2naUpm.js";import{c as createForm}from"../chunks/CEKklR__.js";import"../chunks/Doq7snb5.js";import{c as create$3,a as create$6}from"../chunks/B4Ku5_Cd.js";import{T as Toast,a as Tabs,b as TabItem,c as Timeline,d as TimelineItem,B as Button,S as Spinner,H as Hr}from"../chunks/trmx-wka.js";import{s as slide}from"../chunks/DevLwR0m.js";import{d as deepCopy,f as formatValue,g as getChainId,h as handleOpenInTab}from"../chunks/CnIbzB-6.js";import{g as getLengthInBytes,w as wait}from"../chunks/BgnL0Zd7.js";import{d as debounce,s as startCheckGasPrices,a as stopCheckGasPrices}from"../chunks/Dw28gLPr.js";import{E as ErrorNoAction}from"../chunks/2Ogrppv5.js";import{W as Warning}from"../chunks/DwnXGTX-.js";import{W as WalletManager}from"../chunks/BJK8DTVo.js";import{i as isEthereum}from"../chunks/D2Cx32qo.js";import"../chunks/WDN37msH.js";import{C as Contacts}from"../chunks/Dko_oNea.js";import{P as PincodeVerify}from"../chunks/Fc_LhyTR.js";_page[FILENAME]="src/routes/(wallet)/accounts/ethereum/transactions/send/+page.svelte";function handleMax(__1,$form,form,$yakklCurrentlySelectedStore,clearVerificationValues){try{store_mutate(form,untrack($form).toAddressValue=EthereumBigNumber.toEtherString($yakklCurrentlySelectedStore().shortcuts.quantity)??"0.0",untrack($form))}catch(e){log.error("Send - handleMax",true,e);clearVerificationValues()}}function handleCancelReset(__2,clearValues){try{clearValues()}catch(e){log.error("Send - handleCancelReset",true,e)}}function handleSendRequest(__3,uiState){uiState.showVerify=true}function handleSetFiatValue(__4,$form,form,valueState){store_mutate(form,untrack($form).toAddressValue=valueState.valueUSD,untrack($form));valueState.valueType="fiat"}function handleSetCryptoValue(__5,$form,form,valueState){store_mutate(form,untrack($form).toAddressValue=valueState.valueCrypto,untrack($form));valueState.valueType="crypto"}var root_2=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`),_page[FILENAME],[[984,2,[[992,3]]]]);var root_1=add_locations(from_svg(`<!> `,1),_page[FILENAME],[]);var on_click=(__6,uiState)=>uiState.showContacts=true;var root_5=add_locations(from_html(`<small class="text-red-600 font-bold animate-pulse"> </small>`),_page[FILENAME],[[1075,9]]);var root_6=add_locations(from_html(`<small class=" text-green-500 font-bold animate-pulse">*This is a smart contract address</small>`),_page[FILENAME],[[1078,9]]);var root_7=add_locations(from_html(`<small class="text-red-600 font-bold animate-pulse"> </small>`),_page[FILENAME],[[1120,10]]);var root_8=add_locations(from_html(`<div class="flex flex-row -ml-1 mt-1"><input type="checkbox" class="mr-1 h-3 w-3 cursor-pointer appearance-none rounded-sm border border-blue-800 bg-white bg-contain bg-center bg-no-repeat align-top transition duration-200 checked:border-blue-600 checked:bg-blue-600 focus:outline-none" id="recipientFees"/> <label class="inline-block text-xs/3 text-orange-500 dark:text-white font-bold" for="recipientFees">Recipient pays fees! (experimental)</label></div>`),_page[FILENAME],[[1145,11,[[1146,12],[1151,12]]]]);var root_9=add_locations(from_html(`<div class="w-full text-center mt-1"><span class="font-bold text-sm text-gray-100"> </span></div>`),_page[FILENAME],[[1179,9,[[1180,10]]]]);var root_4=add_locations(from_html(`<div class="border rounded-lg border-gray-200 px-4 py-2 mt-2"><span class="text-gray-300 text-md -mt-1 font-bold">Send To</span> <div class="mt-2 text-left"><div class="flex flex-row"><div class="flex-col w-full"><div role="button" class="flex flex-row mb-1"><span class="text-xs text-gray-100 mr-2 font-bold flex flex-col">Receiving Address</span> <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-4 h-4 fill-gray-100 outline-gray-100 flex flex-col"><path d="M384 48c8.8 0 16 7.2 16 16V448c0 8.8-7.2 16-16 16H96c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H384zM96 0C60.7 0 32 28.7 32 64V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H96zM240 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128zm-32 32c-44.2 0-80 35.8-80 80c0 8.8 7.2 16 16 16H336c8.8 0 16-7.2 16-16c0-44.2-35.8-80-80-80H208zM512 80c0-8.8-7.2-16-16-16s-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V80zM496 192c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm16 144c0-8.8-7.2-16-16-16s-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V336z"></path></svg></span></div> <input id="toAddress" class="placeholder:italic block w-full px-4 md:py-2 py-1 leading-7 text-sm font-normal\n\t\t\t\t\t\t\t\t\t\ttext-gray-700 bg-gray-100 bg-clip-padding border border-solid border-gray-300\n\t\t\t\t\t\t\t\t\t\trounded-md transition ease-in-out m-0 focus:text-gray-700 focus:bg-white\n\t\t\t\t\t\t\t\t\t\tfocus:border-blue-600 focus:outline-none" placeholder="Address of recipient" autocomplete="off" required/> <!> <!></div></div> <div class="flex flex-row mt-2"><div class="flex-col w-full"><span class="text-xs text-gray-100 font-bold mb-1 mr-[2px]">Send Amount</span> <span class="text-xs text-gray-100 mb-1">(Show as ETH</span> <input id="showCrypto" type="radio" name="show_how" class="radio radio-primary radio-xs mb-1"/> <span class="text-xs text-gray-100 mb-1"> </span> <input id="showUSD" type="radio" name="show_how" class="radio radio-primary radio-xs mb-1"/> <span class="text-xs text-gray-100 mb-1">)</span> <div class="flex flex-row"><input id="toAddressValue" class="placeholder:italic block w-full px-4 md:py-2 py-1 leading-7 text-md font-normal\n\t\t\t\t\t\t\t\t\t\t\ttext-gray-700 bg-gray-100 bg-clip-padding border border-solid border-gray-300\n\t\t\t\t\t\t\t\t\t\t\trounded-md transition ease-in-out m-0 focus:text-gray-700 focus:bg-white\n\t\t\t\t\t\t\t\t\t\t\tfocus:border-blue-600 focus:outline-none" placeholder="Send amount" autocomplete="off" required/> <!></div> <div class="flex flex-row justify-between mt-1"><div class="mt-0"><span role="button" class="inline-flex items-center rounded-full bg-blue-100 hover:bg-blue-200 px-2.5 py-0.5 text-[10px]/3 font-normal text-blue-800">Send MAX ETH</span></div> <div class="flex flex-col"><span class="text-xs text-gray-200 font-bold ml-3"> </span> <span class="text-xs text-gray-200 font-bold ml-3"> </span> <!></div></div>  <!></div></div></div></div> <div class="mt-2"><button id="send" class="inline-block h-10 px-7 md:py-3 py-2 mt-.5 bg-emerald-400 text-white font-bold\n\t\t\t\t\t\t\ttext-large leading-snug uppercase rounded-md shadow-md hover:bg-emerald-500\n\t\t\t\t\t\t\thover:shadow-md focus:shadow-md focus:outline-none focus:ring-0\n\t\t\t\t\t\t\ttransition duration-150 ease-in-out w-full" data-mdb-ripple="true" data-mdb-ripple-color="light"><div class="inline-flex items-center align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="h-4 w-4 mr-2 ml-2 font-bold"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"></path></svg> <span>SEND</span></div></button></div>`,1),_page[FILENAME],[[1034,4,[[1035,5],[1036,5,[[1037,6,[[1038,7,[[1041,8,[[1046,9],[1049,9,[[1050,10,[[1055,11]]]]]]],[1061,8]]]]],[1085,6,[[1086,7,[[1087,8],[1088,8],[1089,8],[1096,8],[1097,8],[1104,8],[1105,8,[[1106,9]]],[1125,8,[[1126,9,[[1129,10]]],[1136,9,[[1137,10],[1140,10]]]]]]]]]]]]],[1190,4,[[1191,5,[[1201,6,[[1202,7,[[1210,8]]],[1216,7]]]]]]]]);var root_11=add_locations(from_html(`<div class="w-full text-center mt-2"><span class="font-bold text-lg text-gray-100"> </span></div>`),_page[FILENAME],[[1232,5,[[1233,6]]]]);var root_14=add_locations(from_html(`<h3 class="flex items-center text-lg font-semibold text-base-content animate-pulse dark:text-white">Pending Transaction</h3> <time class="block mb-2 text-xs font-normal leading-none text-gray-400 dark:text-gray-500"> </time> <div class="w-full break-all"><p class="text-sm font-semibold text-white"> </p> <p class="text-sm -mt-1 font-semibold text-white">To:</p> <p class="text-xs mt-0.5 font-normal text-white"> </p> <p class="mt-1 text-sm font-semibold text-white">Transaction hash:</p> <p class="mt-0.5 text-xs font-normal text-white"> </p> <p class="text-xs font-semibold text-white mt-1"> </p> <p class="text-sm font-normal text-gray-400 dark:text-gray-500">Transaction Gas Fee vs Current Network Gas Fee:</p> <p class="text-sm font-normal text-gray-400 dark:text-gray-500"> <!></p></div> <div class="flex flex-row mt-1"><!> <!> <!></div>`,1),_page[FILENAME],[[1279,8],[1284,8],[1289,8,[[1290,9],[1293,9],[1294,9],[1297,9],[1298,9],[1301,9],[1304,9],[1307,9]]],[1315,8]]);var root_22=add_locations(from_html(`<h3 class="flex items-center text-lg font-semibold text-white">Pending Transaction</h3>`),_page[FILENAME],[[1362,11]]);var root_24=add_locations(from_html(`<h3 class="flex items-center text-lg font-semibold text-white">Send Transaction</h3>`),_page[FILENAME],[[1366,11]]);var root_26=add_locations(from_html(`<h3 class="flex items-center text-lg font-semibold text-white">Receive Transaction</h3>`),_page[FILENAME],[[1370,11]]);var root_28=add_locations(from_html(`<h3 class="flex items-center text-lg font-semibold text-white">Send/Receive/Cancel Transaction</h3>`),_page[FILENAME],[[1374,11]]);var root_29=add_locations(from_html(`<h3 class="flex items-center text-lg font-semibold text-white">Error</h3>`),_page[FILENAME],[[1378,11]]);var root_38=add_locations(from_html(`<div class="flex flex-row mt-1"><!> <!></div>`),_page[FILENAME],[[1419,10]]);var root_41=add_locations(from_html(`<div class="flex flex-row mt-1"><!></div>`),_page[FILENAME],[[1444,10]]);var root_21=add_locations(from_html(`<div class="ml-4"><!> <time class="block mb-2 text-xs font-normal leading-none text-gray-300 dark:text-gray-200"> </time></div> <div class="w-full break-all ml-4"><p class="text-sm font-semibold text-white"><!></p> <p class="text-sm -mt-1 font-semibold text-white"><!></p> <p class="text-xs mt-0.5 font-normal text-white"><!></p> <p class="mt-1 text-sm font-semibold text-white">Transaction hash:</p> <p class="mt-0.5 text-xs font-normal text-white"> </p> <p class="text-xs font-semibold text-white mt-1"> </p></div> <!>`,1),_page[FILENAME],[[1360,9,[[1380,10]]],[1386,9,[[1387,10],[1396,10],[1403,10],[1410,10],[1411,10],[1414,10]]]]);var root_46=add_locations(from_html(`<div class="flex flex-row justify-center items-center"><!></div>`),_page[FILENAME],[[1354,7]]);var root_12=add_locations(from_html(`<!> <!>`,1),_page[FILENAME],[]);var on_click_1=(__7,handleOpenAddress,$yakklCurrentlySelectedStore,transactionState)=>{var _a;return handleOpenAddress(((_a=$yakklCurrentlySelectedStore())==null?void 0:_a.shortcuts.network.explorer)+"/address/"+transactionState.address)};var root_10=add_locations(from_html(`<!>  <div class="my-2 border border-white rounded-md w-full h-[8rem] text-white"><div class="text-left m-1 text-md break-all"><p> </p> <p> </p> <p> </p> <p> </p></div>  <div role="button" id="reload" class="inline-flex items-center rounded-full btn-tiny bg-secondary btn-primary hover:bg-secondary/50 px-2"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"></path></svg> REFRESH LIST</div></div> <div class="m-4 mr-1 text-left text-base-content"><!> <!>  <div class="text-center mt-1 w-full flex flex-col mx-0" role="button"><div class="flex flex-row"><div class="flex flex-col">FULL history for this account can be found here:</div> <div class="flex flex-col"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="ml-1 w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></div></div></div></div>`,1),_page[FILENAME],[[1241,4,[[1242,5,[[1243,6],[1244,6],[1245,6],[1246,6]]],[1250,5,[[1256,6,[[1264,7]]]]]]],[1274,4,[[1472,5,[[1482,6,[[1483,7],[1484,7,[[1485,8,[[1493,9]]]]]]]]]]]]);var on_click_2=()=>handleOpenInTab("https://www.blocknative.com/gas-estimator?utm_source=yakkl");var root_48=add_locations(from_html(`<div class="w-full text-center mb-1"><span class="font-bold text-lg text-gray-100"> </span></div>`),_page[FILENAME],[[1572,6,[[1573,7]]]]);var on_click_3=(__8,handleGasSelect)=>{handleGasSelect("priority")};var on_click_4=(__9,handleGasSelect)=>{handleGasSelect("market")};var on_click_5=(__10,handleGasSelect)=>{handleGasSelect("low")};var root_49=add_locations(from_html(`<small class="text-red-600 font-bold animate-pulse"> </small>`),_page[FILENAME],[[1767,7]]);var root_50=add_locations(from_html(`<small class="text-red-600 font-bold animate-pulse"> </small>`),_page[FILENAME],[[1772,7]]);var root_47=add_locations(from_html(`<div class="border rounded-lg border-gray-200 p-2 mt-4"><div class="w-full text-center mb-1"><span class="font-bold text-sm text-gray-100">(Optional) Advanced breakdown of fees</span></div>  <div role="button" class="flex flex-row mb-2 -mt-1 text-gray-100 items-center justify-center"><div class="flex flex-row underline">Transaction "Gas" Fee Tracker</div> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="flex flex-row ml-2 w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></div> <!> <div class="grid grid-cols-3 gap-2 text-gray-100"><div id="priority" role="button"><div class="flex flex-col items-center justify-center"><div class="flex-row"><span class="flex-row font-bold text-lg">Priority</span></div> <div class="text-md font-medium"><span>priority fee</span></div> <div class="text-lg"> </div> <div class="text-md font-medium"><span>max fee</span></div> <div class="text-xl"> </div> <div class="text-sm text-gray-100"> </div> <div class="text-xs text-green-500 font-semibold">99% Probability</div></div></div>  <div id="market" role="button"><div class="flex flex-col items-center justify-center"><div class="flex-row"><span class="flex-row font-bold text-lg">Market</span></div> <div class="text-md font-medium"><span>priority fee</span></div> <div class="text-lg"> </div> <div class="text-md font-medium"><span>max fee</span></div> <div class="text-xl"> </div> <div class="text-sm text-gray-100"> </div> <div class="text-xs text-yellow-500 font-semibold">90% Probability</div></div></div>  <div id="low" role="button"><div class="flex flex-col items-center justify-center"><div class="flex-row"><span class="flex-row font-bold text-lg">Low</span></div> <div class="text-md font-medium"><span>priority fee</span></div> <div class="text-lg"> </div> <div class="text-md font-medium"><span>max fee</span></div> <div class="text-xl"> </div> <div class="text-sm text-gray-100"> </div> <div class="text-xs text-amber-500 font-semibold">70% probability</div></div></div></div> <div class="w-full text-center mt-2"><span class="text-gray-300 text-xs font-semibold">Fee cost trend since last check: <span> </span></span></div> <div class="w-full text-left mt-1 border border-yellow-300 rounded-md"><div class="w-full text-left ml-1"><span class="text-yellow-300 text-xs font-semibold"> </span></div></div> <div class="w-full text-left mt-1 ml-1"><span class="text-gray-300 text-xs font-semibold"> </span></div> <div class="w-full text-left mt-1 ml-1"><span class="text-gray-300 text-xs font-semibold"> </span></div> <div class="w-full text-left mt-1 border border-green-300 rounded-md"><div class="w-full text-left"><span class="text-green-300 text-xs font-semibold"> </span></div> <div class="w-full text-left"><span class="text-green-300 text-xs font-semibold"> </span></div></div> <div class="w-full text-left mt-1 border border-amber-300 rounded-md"><div class="w-full text-center mb-1"><span class="font-bold text-xs text-gray-100">Overrides will be used instead of above dynamic numbers</span></div> <div class="flex flex-row mt-2 ml-1 mb-1"><div class="flex flex-col w-[49%] text-center"><span class="text-gray-300 text-xs font-bold">Priority fee (tip) - gwei</span> <input id="maxPriorityFeePerGasOverride" class="placeholder:italic block mt-2 px-4 md:py-2 py-1 leading-5 text-md font-normal\n\t\t\t\t\t\t\t\t\t\ttext-gray-700 bg-gray-100 bg-clip-padding border border-solid border-gray-300\n\t\t\t\t\t\t\t\t\t\trounded-md transition ease-in-out m-0 focus:text-gray-700 focus:bg-white\n\t\t\t\t\t\t\t\t\t\tfocus:border-blue-600 focus:outline-none" placeholder="Est. Gas Fee" autocomplete="off" required/></div> <div class="flex flex-col w-[49%] text-center"><span class="text-gray-300 text-xs font-bold">Max fee limit - gwei</span> <input id="maxFeePerGasOverride" class="placeholder:italic block ml-2 mt-2 px-4 md:py-2 py-1 leading-5 text-md font-normal\n\t\t\t\t\t\t\t\t\t\ttext-gray-700 bg-gray-100 bg-clip-padding border border-solid border-gray-300\n\t\t\t\t\t\t\t\t\t\trounded-md transition ease-in-out m-0 focus:text-gray-700 focus:bg-white\n\t\t\t\t\t\t\t\t\t\tfocus:border-blue-600 focus:outline-none" placeholder="Gas Fee Limit" autocomplete="off" required/></div></div> <!> <!></div> <div class="flex flex-row mt-2"><div class="text-left flex flex-col"><p class="text-xs text-gray-200 font-bold"> </p> <p class="text-xs text-gray-200 font-bold"> </p></div></div></div>`),_page[FILENAME],[[1540,4,[[1541,5,[[1542,6]]],[1548,5,[[1554,6],[1555,6,[[1563,7]]]]],[1579,5,[[1582,6,[[1590,7,[[1591,8,[[1593,9]]],[1595,8,[[1596,9]]],[1598,8],[1601,8,[[1602,9]]],[1604,8],[1608,8],[1611,8]]]]],[1617,6,[[1625,7,[[1626,8,[[1628,9]]],[1630,8,[[1631,9]]],[1633,8],[1636,8,[[1637,9]]],[1639,8],[1643,8],[1646,8]]]]],[1652,6,[[1660,7,[[1661,8,[[1663,9]]],[1665,8,[[1666,9]]],[1668,8],[1671,8,[[1672,9]]],[1674,8],[1678,8],[1681,8]]]]]]],[1686,5,[[1687,6,[[1688,41]]]]],[1694,5,[[1695,6,[[1696,7]]]]],[1701,5,[[1702,6]]],[1706,5,[[1707,6]]],[1712,5,[[1713,6,[[1714,7]]],[1718,6,[[1719,7]]]]],[1725,5,[[1726,6,[[1727,7]]],[1732,6,[[1733,7,[[1734,8],[1735,8]]],[1749,7,[[1750,8],[1751,8]]]]]]],[1777,5,[[1778,6,[[1779,7],[1782,7]]]]]]]]);var root_3=add_locations(from_html(`<!> <!> <!>`,1),_page[FILENAME],[]);var root=add_locations(from_html(`<!> <!> <!> <!> <!> <div class="text-center min-h-[75rem] -mt-1"><div class="top-[.75rem] right-[1.5rem]"><span role="button" class="inline-flex items-center rounded-full btn-tiny bg-secondary btn-primary hover:bg-secondary/50 px-2">Cancel/Reset</span></div> <h2 class="text-xl tracking-tight font-extrabold text-gray-100 dark:text-white mt-1"><span class="lg:inline"> </span></h2> <hr class="mb-0.5 mt-0.5"/> <form><!></form></div>`,1),_page[FILENAME],[[1002,0,[[1003,1,[[1006,2]]],[1013,1,[[1014,2]]],[1017,1],[1018,1]]]]);function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);const[$$stores,$$cleanup]=setup_stores();const $yakklCurrentlySelectedStore=()=>(validate_store(yakklCurrentlySelectedStore,"yakklCurrentlySelectedStore"),store_get(yakklCurrentlySelectedStore,"$yakklCurrentlySelectedStore",$$stores));const $form=()=>(validate_store(form,"form"),store_get(form,"$form",$$stores));const $yakklConnectionStore=()=>(validate_store(yakklConnectionStore,"yakklConnectionStore"),store_get(yakklConnectionStore,"$yakklConnectionStore",$$stores));const $errors=()=>(validate_store(errors,"errors"),store_get(errors,"$errors",$$stores));const $yakklPricingStore=()=>(validate_store(yakklPricingStore,"yakklPricingStore"),store_get(yakklPricingStore,"$yakklPricingStore",$$stores));const $yakklGasTransStore=()=>(validate_store(yakklGasTransStore,"yakklGasTransStore"),store_get(yakklGasTransStore,"$yakklGasTransStore",$$stores));let wallet;let currentlySelected;let yakklMiscStore;let profile;let txGasLimit=21000n;let historyCount=10;let amountTab;let feesTab;let activityTab;let pincode="";let toAddress;let toAddressValue=0n;let maxFeePerGasOverride=0n;let maxPriorityFeePerGasOverride=0n;let riskFactorMaxFee=0;let riskFactorPriorityFee=0;let greaterThan0=true;let hexData;let checkGasPricesProvider="blocknative";let checkGasPricesInterval=TIMER_CHECK_GAS_PRICE_INTERVAL_TIME;let value=0n;let txmaxPriorityFeePerGas="0.0";let priorityClass=tag(state("border border-gray-100 "),"priorityClass");let marketClass=tag(state("border-white border-2 animate-pulse "),"marketClass");let lowClass=tag(state("border border-gray-100 "),"lowClass");let unitPrice=tag(state(0),"unitPrice");let blockNumber=tag(state(void 0),"blockNumber");let estimatedTransactionCount=tag(state(void 0),"estimatedTransactionCount");let gasLimit=tag(state(21e3),"gasLimit");let gasEstimateUSDNumber=tag(state(void 0),"gasEstimateUSDNumber");let gasTotalEstimateUSDNumber=tag(state(void 0),"gasTotalEstimateUSDNumber");let transactionState=tag_proxy(proxy({blockchain:"Ethereum",address:"",txStatus:"",txHash:"",txToAddress:"",txQuantity:"0.0",txmaxFeePerGas:"0.0",txmaxPriorityFeePerGas:"0.0",txGasLimit:21000n,txNonce:0,txStartTimestamp:"",txHistoryTransactions:[],historyCount:10,txBlockchain:"Ethereum",txNetworkTypeName:"Mainnet",txURL:"",txGasPercentIncrease:0,txGasLimitIncrease:0,recipientPays:false}),"transactionState");let gasState=tag_proxy(proxy({gasEstimate:0,gasEstimateUSD:"",maxFeePerGas:0,maxPriorityFeePerGas:0,gasBase:0,gasBaseUSD:"$0.00",gasTrend:"flat",trendColor:"text-yellow-500",lowGas:0,lowGasUSD:"$0.00",marketGas:0,marketGasUSD:"$0.00",priorityGas:0,priorityGasUSD:"$0.00",selectedGas:"market",gasTotalEstimateUSD:"",lastTrendValue:0,lowPriorityFee:0,marketPriorityFee:0,priorityPriorityFee:0}),"gasState");let uiState=tag_proxy(proxy({amountTabOpen:true,feesTabOpen:false,activityTabOpen:false,errorFields:false,showConfirm:false,showContacts:false,showVerify:false,error:false,errorValue:void 0,warning:false,warningValue:void 0,message:void 0}),"uiState");let valueState=tag_proxy(proxy({toAddressValueUSD:"0",value:0n,valueType:"crypto",valueCrypto:"0.0",valueUSD:"0.0",totalUSD:"0",currencyLabel:"",currencyFormat:void 0,smartContract:false}),"valueState");tag_proxy(proxy({checkGasPricesProvider:"blocknative",checkGasPricesInterval:10,riskFactorMaxFee:0,riskFactorPriorityFee:0}),"configState");let toastStatus=tag(state(false),"toastStatus");let toastCounter=3;let toastMessage=tag(state("Success"),"toastMessage");let toastType="success";function toastTrigger(count=3,msg="Success"){set(toastStatus,true);toastCounter=count;set(toastMessage,msg,true);timeout()}function timeout(){if(--toastCounter>0)return setTimeout(timeout,1e3);set(toastStatus,false)}let mountTime;let updateCount=0;onMount(async()=>{try{mountTime=Date.now();log.info("Send component mounted",true,{timestamp:mountTime,location:window.location.href});if(browserSvelte){yakklMiscStore=getMiscStore();currentlySelected=$yakklCurrentlySelectedStore();if(!currentlySelected){clearValues();currentlySelected=await getYakklCurrentlySelected();if(!currentlySelected){throw"No currently selected account found."}}log.setBackend("localStorage");wallet=WalletManager.getInstance(["Alchemy"],["Ethereum"],currentlySelected.shortcuts.network.chainId??1,"CJMbhcLze0h5M6Da7RPXNds25HL0cG1n");valueState.currencyLabel=currentlySelected.preferences.currency.code??"USD";valueState.currencyFormat=Intl.NumberFormat(currentlySelected.preferences.locale??"en-US",{style:"currency",currency:valueState.currencyLabel});transactionState.blockchain=currentlySelected.shortcuts.network.blockchain;transactionState.address=currentlySelected.shortcuts.address;startGasPricingChecks();handleRecycle();loadContacts();checkValue();amountTab=document.getElementById("amount");amountTab.disabled=false;activityTab=document.getElementById("activity");activityTab.disabled=false;feesTab=document.getElementById("fees");feesTab.disabled=false;valueState.valueType="crypto";document.getElementById("showCrypto").checked=true;document.getElementById("showUSD").checked=false}}catch(e){log.error("Send - onMount",true,e);uiState.errorValue=e;uiState.error=true}});onDestroy(()=>{try{log.info("Send component destroying",true,{updateCount:updateCount,lifetime:Date.now()-mountTime});clearValues();stopCheckGasPrices()}catch(e){log.error("Send - onDestroy:",true,e)}});function clearValues(){try{clearVerificationValues();toAddressValue=0n;valueState.valueCrypto="0.0";valueState.valueUSD="0.0";store_mutate(form,untrack($form).toAddress=toAddress="",untrack($form));store_mutate(form,untrack($form).toAddressValue="",untrack($form));store_mutate(form,untrack($form).hexData=hexData="",untrack($form));store_mutate(form,untrack($form).maxPriorityFeePerGasOverride=assign(gasState,"maxPriorityFeePerGas",0,"src/​routes/​(wallet)/​accounts/​ethereum/​transactions/​send/​+page.svelte:239:42").toString(),untrack($form));store_mutate(form,untrack($form).maxFeePerGasOverride=assign(gasState,"maxFeePerGas",0,"src/​routes/​(wallet)/​accounts/​ethereum/​transactions/​send/​+page.svelte:240:34").toString(),untrack($form));uiState.amountTabOpen=true;uiState.feesTabOpen=false;uiState.errorFields=false;transactionState.txNetworkTypeName="Mainnet";transactionState.txURL="";transactionState.txHash="";transactionState.txToAddress="";transactionState.txQuantity="0.0";transactionState.txGasPercentIncrease=0;transactionState.txmaxFeePerGas="0.0";txmaxPriorityFeePerGas="0.0";txGasLimit=21000n;transactionState.txGasLimitIncrease=0;transactionState.txNonce=0;transactionState.recipientPays=false;transactionState.txStartTimestamp="";transactionState.txHistoryTransactions=[];valueState.valueType="crypto"}catch(e){log.error("Send - clearValues",true,e)}}function clearVerificationValues(){if(browserSvelte){try{pincode=""}catch(e){log.error("Send - clearVerificationValues",true,e)}}}async function checkValue(){try{if(browserSvelte){try{currentlySelected=$yakklCurrentlySelectedStore();value=currentlySelected.shortcuts.quantity??0n;if(value.valueOf()<=0n){greaterThan0=false;uiState.error=true;uiState.errorValue=`The current account, ${currentlySelected.shortcuts.address}, has a 0 balance - there are insufficient funds in this account.`}}catch(e){uiState.error=true;uiState.errorValue=e}}}catch(e){log.error("Send - checkValue",true,e)}}function startGasPricingChecks(){try{startCheckGasPrices(checkGasPricesProvider,checkGasPricesInterval)}catch(e){log.error("Send - startGasPricingChecks",true,e);clearVerificationValues()}}async function onBlur(e){try{toAddress=$form().toAddress;if($form().toAddress){const blockchain=wallet.getBlockchain();if(blockchain.isSmartContractSupported()){valueState.smartContract=await blockchain.isSmartContract($form().toAddress)??false}else{valueState.smartContract=false}}if(strict_equals(valueState.valueType,"fiat",false)){valueState.valueUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number($form().toAddressValue)*Number(get(unitPrice))):"0.00"}else{valueState.valueCrypto=Number(Number($form().toAddressValue)/Number(get(unitPrice))).toString()}valueState.toAddressValueUSD=valueState.valueUSD;valueState.totalUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(valueState.valueUSD)+get(gasTotalEstimateUSDNumber)):"0.00"}catch(e2){log.error("Send - onBlur",true,e2)}}const{form:form,errors:errors,handleChange:handleChange,handleSubmit:handleSubmit}=createForm({initialValues:{toAddress:"",toAddressValue:"",maxPriorityFeePerGasOverride:"0",maxFeePerGasOverride:"0",hexData:""},validationSchema:create$3().shape({toAddress:create$6().required("Please enter the crypto address you wish to send to").matches(/^(0x)?[0-9a-fA-F]{40}$|^.*\.eth$/,"Must be a valid address or ENS name"),toAddressValue:create$6().trim().required("Please enter the amount of ETH you wish to send").matches(/^[0-9.]{1,}$/,"Only numbers are allowed since this is a value field"),hexData:create$6().optional(),maxPriorityFeePerGasOverride:create$6().trim().required("Please enter or accept the amount of estimate Gas Fees for this transaction in gwei").matches(/^[0-9.]{1,}$/,"Only numbers are allowed since this is a value field"),maxFeePerGasOverride:create$6().trim().required("Please enter or accept the max Gas Fee you are willing to pay for this transaction in gwei").matches(/^[0-9.]{1,}$/,"Only numbers are allowed since this is a value field")}),onSubmit:async data=>{try{uiState.showVerify=true}catch(e){log.error("Send - onSubmit",true,e);uiState.errorValue=e;uiState.error=true}}});async function validate(data,bypassWarning=false){try{let address=data.toAddress;let resolvedAddr=null;let profile2=await getProfile();if(!profile2){throw"No profile found"}maxPriorityFeePerGasOverride=BigNumber.from(data.maxPriorityFeePerGasOverride);maxFeePerGasOverride=BigNumber.from(data.maxFeePerGasOverride);toAddressValue=EthereumBigNumber.fromEther(equals(valueState.valueType,"fiat",false)?data.toAddressValue:valueState.valueCrypto).toBigInt();if(data.hexData&&data.hexData.length>0){if(strict_equals(data.hexData,"0x",false)){hexData=toHex(data.hexData)}else{hexData=data.hexData}}else{data.hexData=hexData="0x"}const blockchain=wallet.getBlockchain();if(isEthereum(blockchain)){resolvedAddr=await blockchain.resolveName(address)}else{}if(resolvedAddr){address=resolvedAddr}if(!blockchain.isAddress(address)){uiState.warningValue=`Wallet Address ${address} is not a valid address. This can be verified on a platform like https://etherscan.io. A valid toAddress is required.`;uiState.warning=true;clearVerificationValues();return}toAddress=address;if(strict_equals(gasState.maxFeePerGas,0)){gasState.maxFeePerGas=BigNumber.from(EOA_FALLBACK_GAS.GWEI.NORMAL.MAX_FEE).toNumber()}if(strict_equals(gasState.maxPriorityFeePerGas,0)){gasState.maxPriorityFeePerGas=BigNumber.from(EOA_FALLBACK_GAS.GWEI.NORMAL.PRIORITY_FEE).toNumber()}const feePerGas=BigNumber.from(gasState.maxFeePerGas).toNumber();if(feePerGas<gasState.gasEstimate){uiState.warningValue="The transaction Max Fee Per Gas Unit is LESS than the estimated Gas Fee. This may result in a slow transaction or no transaction at all. Keeping the Max Fee Per Gas Unit equal or greater than the estimated Gas Fee increases the possibility of a faster transaction time.";clearVerificationValues();uiState.warning=true}else{if(greaterThan0){if($yakklConnectionStore()){handleProgress("amountTab","activityTab");await processTransaction()}else{clearVerificationValues();uiState.warningValue="Your Internet connection appears to be down at the moment. Try again later.";uiState.warning=true}}else{clearVerificationValues();uiState.errorValue="There are insufficient funds for this transaction.";uiState.error=true}}}catch(e){log.error("Send - validate",true,e);clearVerificationValues();uiState.errorValue=e;uiState.error=true}}async function loadContacts(){try{store_set(yakklContactsStore,await getYakklContacts())}catch(e){log.error("Send - loadContacts",true,e);clearVerificationValues()}}async function loadTransactionHistory(networkType,address,historyCount2){var _a;try{let subDomainName=(_a=$yakklCurrentlySelectedStore())==null?void 0:_a.shortcuts.network.explorer;let apiSubDomainName=strict_equals(transactionState.txNetworkTypeName.toLowerCase(),"mainnet",false)?"api-"+transactionState.txNetworkTypeName.toLowerCase():"api";currentlySelected=$yakklCurrentlySelectedStore();const etherscanUrl=`https://${apiSubDomainName}.etherscan.io/api?module=account&action=txlist&address=${address}&startblock=0&endblock=99999999&page=1&offset=${historyCount2}&sort=desc&apikey=${"GWFINGYCSKWY7SF8VIAC65Q6N67IK5X6ZA"}`;if(!$yakklConnectionStore()){throw"Warning. Your Internet connection appears to be down. Try again later."}const response=await fetch(etherscanUrl);const contentType=response.headers.get("content-type");let data;if(contentType&&contentType.includes("application/json")){data=await response.json()}else if(contentType&&contentType.includes("text/html")){data=await response.text();log.error("Send - Received HTML instead of JSON:",true,data)}else{log.error("Send - Unsupported content type:",true,contentType)}transactionState.txHistoryTransactions=[];for(let element of data.result){let yakklHistory={id:currentlySelected.id,type:"etherscan",chainId:getChainId(networkType),formattedTimestamp:new Date(parseInt(element.timeStamp)*1e3),explorer:subDomainName+"/tx/"+element.hash,blockNumber:element.blockNumber,timestamp:element.timeStamp,hash:element.hash,nonce:element.nonce,blockHash:element.blockHash,transactionIndex:element.transactionIndex,from:element.from,to:element.to,value:formatValue(transactionState.blockchain,element.value),gas:element.gas,gasPrice:element.gasPrice,isError:element.isError,txtreceipt_status:element.txreceipt_status,input:element.input,contractAddress:element.contractAddress,cumulativeGasUsed:element.cumulativeGasUsed,gasUsed:element.gasUsed,confirmations:element.confirmations,methodId:element.methodId,functionName:element.functionName};transactionState.txHistoryTransactions.push(yakklHistory)}}catch(e){log.error("Send - loadTransactionHistory",true,e);uiState.errorValue=e;uiState.error=true;clearVerificationValues()}}function handleClose(){try{uiState.error=false;uiState.warning=false}catch(e){log.error("Send - handleClose",true,e)}}async function verifyWithPin(pin){try{if(!pin){return null}let profile2=await getProfile();if(strict_equals(profile2,null)){throw"Profile was not found."}let profileEncrypted=null;if(isEncryptedData(profile2.data)){profileEncrypted=deepCopy(profile2);await decryptData(profile2==null?void 0:profile2.data,yakklMiscStore).then(result=>{profile2.data=result})}if(strict_equals(pin,profile2.data.pincode)){profile2=null;return profileEncrypted}else{throw"PINCODE did not match. Please try again."}}catch(e){log.error("Send - verifyWithPin",true,e);uiState.errorValue=e;uiState.error=true;return null}}async function processTransaction(unblockIncrease=0,nonce=-1,hash="",cancel=false,eoa=true){var _a,_b,_c,_d,_e,_f,_g,_h;try{currentlySelected=deepCopy($yakklCurrentlySelectedStore());profile=await verifyWithPin(deepCopy(pincode));if(!profile){throw"Unable to verify your PINCODE. Please try again."}const priorityFeePerGas=Math.max(Number(gasState.maxPriorityFeePerGas),Number(maxPriorityFeePerGasOverride));let feePerGas=Math.max(Number(gasState.maxFeePerGas),Number(maxFeePerGasOverride));if(unblockIncrease>0){transactionState.txGasPercentIncrease+=unblockIncrease;feePerGas=Math.max(Number(gasState.maxFeePerGas)*((100+transactionState.txGasPercentIncrease)/100),Number(gasState.maxFeePerGas))}const transaction={type:2,from:transactionState.address?transactionState.address:"",to:strict_equals(cancel,false)?toAddress:currentlySelected.shortcuts.address,quantity:strict_equals(cancel,true)?0n:EthereumBigNumber.toWei(toAddressValue).value,chainId:currentlySelected.shortcuts.network.chainId,gasLimit:get(gasLimit),maxPriorityFeePerGas:EthereumBigNumber.toGwei(priorityFeePerGas).value,maxFeePerGas:EthereumBigNumber.toGwei(feePerGas).value,data:hexData.length>0?hexData:"0x",hash:hash,nonce:nonce};if(!transaction.gasLimit){transaction.gasLimit=EOA_FALLBACK_GAS.LIMITS.BASE}if(!transaction.maxFeePerGas){transaction.maxFeePerGas=EOA_FALLBACK_GAS.GWEI.NORMAL.MAX_FEE}if(!transaction.maxPriorityFeePerGas){transaction.maxPriorityFeePerGas=EOA_FALLBACK_GAS.GWEI.NORMAL.PRIORITY_FEE}transactionState.txBlockchain=transactionState.blockchain;transactionState.txNetworkTypeName=currentlySelected.shortcuts.network.name;transactionState.txURL=((_a=$yakklCurrentlySelectedStore())==null?void 0:_a.shortcuts.network.explorer)+"/address/"+transactionState.address;transactionState.txHash=transaction.hash??"";transactionState.txToAddress=transaction.to??"";transactionState.txQuantity=((_b=transaction.quantity)==null?void 0:_b.toString())??"0.0";transactionState.txmaxFeePerGas=((_c=transaction.maxFeePerGas)==null?void 0:_c.toString())??"0";txmaxPriorityFeePerGas=((_d=transaction.maxPriorityFeePerGas)==null?void 0:_d.toString())??"0";txGasLimit=transaction.gasLimit;transactionState.txNonce=Number(transaction.nonce);transactionState.txStartTimestamp=Date.now().toString();let privateKey=null;if(isEncryptedData(currentlySelected==null?void 0:currentlySelected.data)){let result=await decryptData(currentlySelected==null?void 0:currentlySelected.data,yakklMiscStore);let data=result;if(isEncryptedData((_e=data.account)==null?void 0:_e.data)){let result2=await decryptData(data.account.data,yakklMiscStore);let accountData=result2;privateKey=accountData.privateKey}else{privateKey=data?(_f=data==null?void 0:data.account)==null?void 0:_f.data.privateKey:null}}else{privateKey=(currentlySelected==null?void 0:currentlySelected.data)?(_g=currentlySelected==null?void 0:currentlySelected.data.account)==null?void 0:_g.data.privateKey:null}if(strict_equals(privateKey,null)){throw"Private key was not obtained"}await wallet.setSigner(privateKey);const tx=await wallet.sendTransaction(transaction);clearVerificationValues();if(tx){toastTrigger(2,"Sending to the blockchain...");transactionState.txStatus="pending";transactionState.txHash=tx.hash;transactionState.txURL=((_h=$yakklCurrentlySelectedStore())==null?void 0:_h.shortcuts.network.explorer)+"/tx/";transactionState.txURL+=tx.hash;transactionState.txNonce=Number(tx.nonce);const result=await tx.wait();transactionState.txStatus="mined";toastTrigger(2,"Success - Processed on the Blockchain!");wait(2e3);handleRecycle();clearValues()}else{throw"No transaction was returned. Something went wrong."}}catch(e){const errorValue=parseJsonRpcError(e);log.warn(e);log.error("Send - processTransaction",true,errorValue);uiState.errorValue=errorValue.message;uiState.error=true}finally{log.info("processTransaction: Clearing verification values.");clearVerificationValues()}}function handleProgress(currentTab,nextTab){switch(currentTab){case"amountTab":uiState.amountTabOpen=false;break;case"activityTab":uiState.activityTabOpen=false;break;case"feesTab":uiState.feesTabOpen=false;break}switch(nextTab){case"amountTab":uiState.amountTabOpen=true;break;case"activityTab":uiState.activityTabOpen=true;break;case"feesTab":uiState.feesTabOpen=true;break}}function handleCurrentTab(currentTab){switch(currentTab){case"amountTab":uiState.amountTabOpen=true;uiState.feesTabOpen=false;uiState.activityTabOpen=false;break;case"feesTab":uiState.amountTabOpen=false;uiState.feesTabOpen=true;uiState.activityTabOpen=false;break;case"activityTab":uiState.activityTabOpen=true;uiState.amountTabOpen=false;uiState.feesTabOpen=false;break}}function handleGasSelect(select){try{let selectedClass="border-2 animate-pulse ";let nonSelectedClass="border ";gasState.selectedGas=select;set(priorityClass,nonSelectedClass);set(marketClass,nonSelectedClass);set(lowClass,nonSelectedClass);if(strict_equals(select,"priority")){set(priorityClass,selectedClass);gasState.maxPriorityFeePerGas=gasState.priorityPriorityFee;gasState.maxFeePerGas=gasState.priorityGas}else if(strict_equals(select,"low")){set(lowClass,selectedClass);gasState.maxPriorityFeePerGas=gasState.lowPriorityFee;gasState.maxFeePerGas=gasState.lowGas}else{set(marketClass,selectedClass);gasState.maxPriorityFeePerGas=gasState.marketPriorityFee;gasState.maxFeePerGas=gasState.marketGas}}catch(e){log.error("Send - handleGasSelect",true,e);clearVerificationValues()}}function handleContact(contact){try{toAddress=store_mutate(form,untrack($form).toAddress=contact.address,untrack($form));uiState.showContacts=false}catch(e){log.error("Send - handleContact",true,e);clearVerificationValues()}}async function handleSpeedUp(increase=10,nonce,hash){try{await processTransaction(increase,nonce,hash,false)}catch(e){log.error("Send - handleSpeedUp",true,e);clearVerificationValues()}}function handleCancel(increase=10,nonce,hash){try{processTransaction(increase*2,nonce,hash,true)}catch(e){log.error("Send - handleCancel",true,e);clearVerificationValues()}}function handleOpenAddress(url){try{let URL=url.toLowerCase();if(strict_equals(transactionState.txNetworkTypeName.toLowerCase(),"mainnet",false)){if(URL.includes(transactionState.txNetworkTypeName.toLowerCase()+".")){URL=url}else{URL=url.replace("https://","https://"+transactionState.txNetworkTypeName.toLowerCase()+".")}}handleOpenInTab(URL)}catch(e){log.error("Send - handleOpenAddress",true,e)}finally{clearVerificationValues()}}const handleRecycle=debounce(async()=>{try{loadTransactionHistory($yakklCurrentlySelectedStore().shortcuts.network.type,$yakklCurrentlySelectedStore().shortcuts.address,historyCount)}catch(e){clearVerificationValues();log.error("Send - debounce",true,e)}});function handleIncreaseGasLimit(increase){try{if(increase>0){transactionState.txGasLimitIncrease=increase;set(gasLimit,get(gasLimit)+transactionState.txGasLimitIncrease)}}catch(e){log.error("Send - handleIncreaseGasLimit",true,e)}}function handlePin(pin){try{pincode=pin;handleApprove()}catch(e){log.error("Send - handlePin",true,e);handleReject()}}async function handleApprove(){try{uiState.showVerify=false;uiState.showConfirm=false;await validate($form())}catch(e){log.error("Send - handleApprove",true,e);clearVerificationValues()}}function handleReject(){try{uiState.showVerify=false;uiState.showConfirm=false;uiState.warning=true;uiState.warningValue="Transaction failed - You have rejected or Pincode was not validated. No transaction was sent."}catch(e){log.error("Send - handleReject",true,e);clearValues()}}user_effect(()=>{if($errors().toAddress||$errors().hexData||$errors().maxFeePerGasOverride||$errors().maxPriorityFeePerGasOverride||$errors().toAddressValue){uiState.errorFields=true}else{uiState.errorFields=false}});user_effect(()=>{try{if(!transactionState){throw new Error("transactionState is not defined")}transactionState.address=$yakklCurrentlySelectedStore().shortcuts.address;transactionState.txNetworkTypeName=$yakklCurrentlySelectedStore().shortcuts.network.name??"Mainnet";transactionState.txBlockchain=$yakklCurrentlySelectedStore().shortcuts.network.blockchain??"Ethereum"}catch(e){log.error("Send - effect",true,e)}});user_effect(()=>{var _a;try{startGasPricingChecks();if(!valueState){throw new Error("valueState is not defined")}if(!gasState){throw new Error("gasState is not defined")}if(!transactionState){throw new Error("transactionState is not defined")}if(!uiState){throw new Error("uiState is not defined")}set(gasLimit,strict_equals(valueState.smartContract,true)?ETH_BASE_SCA_GAS_UNITS:ETH_BASE_EOA_GAS_UNITS,true);if($form().hexData){handleIncreaseGasLimit(getLengthInBytes($form().hexData)*68)}else{set(gasLimit,strict_equals(valueState.smartContract,true)?ETH_BASE_SCA_GAS_UNITS:ETH_BASE_EOA_GAS_UNITS,true);transactionState.txGasLimitIncrease=0}set(unitPrice,((_a=$yakklPricingStore())==null?void 0:_a.price)??0,true);if(strict_equals(valueState.valueType,"fiat",false)){valueState.valueUSD=Number(Number($form().toAddressValue)*get(unitPrice)).toFixed(2)}else{valueState.valueCrypto=Number(Number($form().toAddressValue)/get(unitPrice)).toString()}if($yakklGasTransStore()){set(blockNumber,$yakklGasTransStore().results.blockNumber,true);set(estimatedTransactionCount,$yakklGasTransStore().results.estimatedTransactionCount,true);const nextTrendValue=Math.round($yakklGasTransStore().results.gasFeeTrend.baseFeePerGasAvg);gasState.lowPriorityFee=$yakklGasTransStore().results.actual.slow.maxPriorityFeePerGas+riskFactorPriorityFee;gasState.marketPriorityFee=$yakklGasTransStore().results.actual.fast.maxPriorityFeePerGas+riskFactorPriorityFee;gasState.priorityPriorityFee=$yakklGasTransStore().results.actual.fastest.maxPriorityFeePerGas+riskFactorPriorityFee;gasState.lowGas=$yakklGasTransStore().results.actual.slow.maxFeePerGas+riskFactorMaxFee;gasState.marketGas=$yakklGasTransStore().results.actual.fast.maxFeePerGas+riskFactorMaxFee;gasState.priorityGas=$yakklGasTransStore().results.actual.fastest.maxFeePerGas+riskFactorMaxFee;gasState.lowGasUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(get(gasLimit)*(gasState.lowGas*1/10**9)*(get(unitPrice)*1))):"0.00";gasState.marketGasUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(get(gasLimit)*(gasState.marketGas*1/10**9)*(get(unitPrice)*1))):"0.00";gasState.priorityGasUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(get(gasLimit)*(gasState.priorityGas*1/10**9)*(get(unitPrice)*1))):"0.00";gasState.gasBase=$yakklGasTransStore().results.actual.baseFeePerGas;gasState.gasBaseUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(get(gasLimit)*(gasState.gasBase*1/10**9)*(get(unitPrice)*1))):"0.00";switch(gasState.selectedGas){case"priority":gasState.maxFeePerGas=gasState.priorityGas;gasState.maxPriorityFeePerGas=gasState.priorityPriorityFee;break;case"low":gasState.maxFeePerGas=gasState.lowGas;gasState.maxPriorityFeePerGas=gasState.lowPriorityFee;break;default:gasState.maxFeePerGas=gasState.marketGas;gasState.maxPriorityFeePerGas=gasState.marketPriorityFee;break}gasState.gasEstimate=Number(gasState.gasBase)+Number(gasState.maxPriorityFeePerGas);handleGasSelect(gasState.selectedGas);if(strict_equals(gasState.lastTrendValue,0,false)){if(nextTrendValue>gasState.lastTrendValue){gasState.gasTrend="higher";gasState.trendColor="text-red-500"}else if(nextTrendValue<gasState.lastTrendValue){gasState.gasTrend="lower";gasState.trendColor="text-green-500"}else{gasState.gasTrend="flat";gasState.trendColor="text-yellow-500"}}gasState.lastTrendValue=nextTrendValue}if(gasState.gasEstimate){set(gasEstimateUSDNumber,get(gasLimit)*(gasState.gasEstimate*1/10**9*(Number(get(unitPrice))*1)));gasState.gasEstimateUSD=valueState.currencyFormat?valueState.currencyFormat.format(get(gasEstimateUSDNumber)):"0.00";set(gasTotalEstimateUSDNumber,get(gasLimit)*(gasState.gasEstimate*1/10**9*(Number(get(unitPrice))*1)));gasState.gasTotalEstimateUSD=valueState.currencyFormat?valueState.currencyFormat.format(get(gasTotalEstimateUSDNumber)):"0.00";valueState.toAddressValueUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(valueState.valueUSD)):"0.00";valueState.totalUSD=valueState.currencyFormat?valueState.currencyFormat.format(Number(valueState.valueUSD)+get(gasTotalEstimateUSDNumber)):"0.00"}}catch(e){log.error("Send - effect",true,e)}});var fragment=root();var node=first_child(fragment);validate_binding("bind:show={uiState.showVerify}",()=>uiState,()=>"showVerify",972,1);PincodeVerify(node,{onVerified:handlePin,onRejected:handleReject,className:"text-gray-600",get show(){return uiState.showVerify},set show($$value){uiState.showVerify=$$value}});var node_1=sibling(node,2);validate_binding("bind:show={uiState.error}",()=>uiState,()=>"error",978,15);ErrorNoAction(node_1,{get value(){return uiState.errorValue},handle:handleClose,get show(){return uiState.error},set show($$value){uiState.error=$$value}});var node_2=sibling(node_1,2);validate_binding("bind:show={uiState.warning}",()=>uiState,()=>"warning",979,9);Warning(node_2,{get value(){return uiState.warningValue},get show(){return uiState.warning},set show($$value){uiState.warning=$$value}});var node_3=sibling(node_2,2);validate_binding("bind:show={uiState.showContacts}",()=>uiState,()=>"showContacts",980,10);Contacts(node_3,{onContactSelect:handleContact,get show(){return uiState.showContacts},set show($$value){uiState.showContacts=$$value}});var node_4=sibling(node_3,2);Toast(node_4,{color:"indigo",get transition(){return slide},get toastStatus(){return get(toastStatus)},set toastStatus($$value){set(toastStatus,$$value,true)},children:wrap_snippet(_page,($$anchor2,$$slotProps)=>{var fragment_1=root_1();var node_5=first_child(fragment_1);{var consequent=$$anchor3=>{var svg=root_2();append($$anchor3,svg)};if_block(node_5,$$render=>{if(strict_equals(toastType,"success"))$$render(consequent)})}var text2=sibling(node_5,1,true);template_effect(()=>set_text(text2,get(toastMessage)));append($$anchor2,fragment_1)}),$$slots:{default:true}});var div=sibling(node_4,2);var div_1=child(div);var span=child(div_1);span.__click=[handleCancelReset,clearValues];reset(div_1);var h2=sibling(div_1,2);var span_1=child(h2);var text_1=child(span_1);reset(span_1);reset(h2);var form_1=sibling(h2,4);var node_6=child(form_1);Tabs(node_6,{defaultClass:"flex flex-wrap justify-center space-x-2 h-9",activeClasses:"px-4 text-white border-b-2 animate-pulse text-lg border-purple-300 mt-2 font-extrabold dark:text-blue-500 dark:border-blue-500",contentClass:"",inactiveClasses:"px-4 border-b-2 border-transparent text-md text-gray-100 font-semibold hover:text-purple-200 hover:border-purple-200 dark:hover:text-gray-300 dark:text-gray-400",children:wrap_snippet(_page,($$anchor2,$$slotProps)=>{var fragment_2=root_3();var node_7=first_child(fragment_2);const expression=user_derived(()=>uiState.errorFields?"color:red":uiState.errorFields?"color:red":"");TabItem(node_7,{id:"amount",get open(){return uiState.amountTabOpen},get style(){return get(expression)},title:"Send",$$events:{click:()=>{handleCurrentTab("amountTab")}},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{var fragment_3=root_4();var div_2=first_child(fragment_3);var div_3=sibling(child(div_2),2);var div_4=child(div_3);var div_5=child(div_4);var div_6=child(div_5);div_6.__click=[on_click,uiState];var input=sibling(div_6,2);remove_input_defaults(input);input.__change=function(...$$args){apply(()=>handleChange,this,$$args,_page,[1070,19])};var node_8=sibling(input,2);{var consequent_1=$$anchor4=>{var small=root_5();var text_2=child(small,true);reset(small);template_effect(()=>set_text(text_2,$errors().toAddress));append($$anchor4,small)};if_block(node_8,$$render=>{if($errors().toAddress)$$render(consequent_1)})}var node_9=sibling(node_8,2);{var consequent_2=$$anchor4=>{var small_1=root_6();append($$anchor4,small_1)};if_block(node_9,$$render=>{if(valueState.smartContract)$$render(consequent_2)})}reset(div_5);reset(div_4);var div_7=sibling(div_4,2);var div_8=child(div_7);var input_1=sibling(child(div_8),4);input_1.__click=[handleSetCryptoValue,$form,form,valueState];var span_2=sibling(input_1,2);var text_3=child(span_2);reset(span_2);var input_2=sibling(span_2,2);input_2.__click=[handleSetFiatValue,$form,form,valueState];var div_9=sibling(input_2,4);var input_3=child(div_9);remove_input_defaults(input_3);input_3.__change=function(...$$args){apply(()=>handleChange,this,$$args,_page,[1115,20])};var node_10=sibling(input_3,2);{var consequent_3=$$anchor4=>{var small_2=root_7();var text_4=child(small_2,true);reset(small_2);template_effect(()=>set_text(text_4,$errors().toAddressValue));append($$anchor4,small_2)};if_block(node_10,$$render=>{if($errors().toAddressValue)$$render(consequent_3)})}reset(div_9);var div_10=sibling(div_9,2);var div_11=child(div_10);var span_3=child(div_11);span_3.__click=[handleMax,$form,form,$yakklCurrentlySelectedStore,clearVerificationValues];reset(div_11);var div_12=sibling(div_11,2);var span_4=child(div_12);var text_5=child(span_4);reset(span_4);var span_5=sibling(span_4,2);var text_6=child(span_5);reset(span_5);var node_11=sibling(span_5,2);{var consequent_4=$$anchor4=>{var div_13=root_8();append($$anchor4,div_13)};if_block(node_11,$$render=>{if(transactionState.recipientPays)$$render(consequent_4)})}reset(div_12);reset(div_10);var node_12=sibling(div_10,2);{var consequent_5=$$anchor4=>{var div_14=root_9();var span_6=child(div_14);var text_7=child(span_6);reset(span_6);reset(div_14);template_effect(()=>set_text(text_7,`Total estimated Amount: ${valueState.totalUSD??""}`));append($$anchor4,div_14)};if_block(node_12,$$render=>{if(strict_equals(valueState.totalUSD,"0",false))$$render(consequent_5)})}reset(div_8);reset(div_7);reset(div_3);reset(div_2);var div_15=sibling(div_2,2);var button=child(div_15);button.__click=[handleSendRequest,uiState];reset(div_15);template_effect(()=>{set_text(text_3,`Show as ${valueState.currencyLabel??""}`);set_text(text_5,`Estimated gas/net fees: ${gasState.gasEstimateUSD??""}`);set_text(text_6,`Estimated value: ${valueState.toAddressValueUSD??""}`)});event("blur",input,onBlur);bind_value(input,()=>$form().toAddress,$$value=>store_mutate(form,untrack($form).toAddress=$$value,untrack($form)));event("blur",input_3,onBlur);bind_value(input_3,()=>$form().toAddressValue,$$value=>store_mutate(form,untrack($form).toAddressValue=$$value,untrack($form)));append($$anchor3,fragment_3)}),$$slots:{default:true}});var node_13=sibling(node_7,2);TabItem(node_13,{id:"activity",get open(){return uiState.activityTabOpen},title:"Activity",$$events:{click:()=>{handleCurrentTab("activityTab")}},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{var fragment_4=root_10();var node_14=first_child(fragment_4);{var consequent_6=$$anchor4=>{var div_16=root_11();var span_7=child(div_16);var text_8=child(span_7);reset(span_7);reset(div_16);template_effect(()=>set_text(text_8,`Total estimated amount: ${valueState.totalUSD??""}`));append($$anchor4,div_16)};if_block(node_14,$$render=>{if(strict_equals(valueState.totalUSD,"0",false))$$render(consequent_6)})}var div_17=sibling(node_14,2);var div_18=child(div_17);var p=child(div_18);var text_9=child(p);reset(p);var p_1=sibling(p,2);var text_10=child(p_1);reset(p_1);var p_2=sibling(p_1,2);var text_11=child(p_2);reset(p_2);var p_3=sibling(p_2,2);var text_12=child(p_3);reset(p_3);reset(div_18);var div_19=sibling(div_18,2);div_19.__click=function(...$$args){apply(()=>handleRecycle,this,$$args,_page,[1253,15])};reset(div_17);var div_20=sibling(div_17,2);var node_15=child(div_20);Timeline(node_15,{children:wrap_snippet(_page,($$anchor4,$$slotProps3)=>{var fragment_5=root_12();var node_16=first_child(fragment_5);{var consequent_8=$$anchor5=>{TimelineItem($$anchor5,{children:wrap_snippet(_page,($$anchor6,$$slotProps4)=>{var fragment_7=root_14();var time=sibling(first_child(fragment_7),2);var text_13=child(time,true);reset(time);var div_21=sibling(time,2);var p_4=child(div_21);var text_14=child(p_4);reset(p_4);var p_5=sibling(p_4,4);var text_15=child(p_5,true);reset(p_5);var p_6=sibling(p_5,4);var text_16=child(p_6,true);reset(p_6);var p_7=sibling(p_6,2);var text_17=child(p_7);reset(p_7);var p_8=sibling(p_7,4);var text_18=child(p_8);var node_17=sibling(text_18);{var consequent_7=$$anchor7=>{var text_19=text(":\n\t\t\t\t\t\t\t\t\t\t\tNetwork congested - May need to increase Gas Fee (click Speed Up) or continue\n\t\t\t\t\t\t\t\t\t\t\tto wait on network.");append($$anchor7,text_19)};if_block(node_17,$$render=>{if(Number(gasState.maxFeePerGas)>Number(transactionState.txmaxFeePerGas))$$render(consequent_7)})}reset(p_8);reset(div_21);var div_22=sibling(div_21,2);var node_18=child(div_22);Button(node_18,{size:"xs",pill:true,class:"mr-2",$$events:{click:()=>handleSpeedUp(transactionState.txGasPercentIncrease>0?transactionState.txGasPercentIncrease:10,transactionState.txNonce,transactionState.txHash)},children:wrap_snippet(_page,($$anchor7,$$slotProps5)=>{next();var text_20=text("Speed Up");append($$anchor7,text_20)}),$$slots:{default:true}});var node_19=sibling(node_18,2);Button(node_19,{size:"xs",pill:true,color:"alternative",$$events:{click:()=>handleCancel(transactionState.txGasPercentIncrease>0?transactionState.txGasPercentIncrease:10,transactionState.txNonce,transactionState.txHash)},children:wrap_snippet(_page,($$anchor7,$$slotProps5)=>{next();var text_21=text("Cancel");append($$anchor7,text_21)}),$$slots:{default:true}});var node_20=sibling(node_19,2);Button(node_20,{class:"ml-2",size:"xs",pill:true,color:"light",$$events:{click:()=>handleOpenInTab(transactionState.txURL)},children:wrap_snippet(_page,($$anchor7,$$slotProps5)=>{next();var text_22=text("Details >");append($$anchor7,text_22)}),$$slots:{default:true}});reset(div_22);template_effect(($0,$1)=>{set_text(text_13,$0);set_text(text_14,`Sending/Transferring: ${transactionState.txQuantity??""}`);set_text(text_15,transactionState.txToAddress);set_text(text_16,transactionState.txHash);set_text(text_17,`Transaction nonce: ${transactionState.txNonce??""}`);set_text(text_18,`${transactionState.txmaxFeePerGas??""} gwei -- ${$1??""} gwei`)},[()=>new Date(parseInt(transactionState.txStartTimestamp)),()=>Math.round(Number(gasState.maxFeePerGas))]);append($$anchor6,fragment_7)}),$$slots:{default:true}})};if_block(node_16,$$render=>{if(strict_equals(transactionState.txStatus,"pending"))$$render(consequent_8)})}var node_21=sibling(node_16,2);await_block(node_21,()=>transactionState.txHistoryTransactions,$$anchor5=>{var div_27=root_46();var node_31=child(div_27);Spinner(node_31,{color:"yellow",size:6});reset(div_27);append($$anchor5,div_27)},($$anchor5,_)=>{var fragment_8=comment();var node_22=first_child(fragment_8);each(node_22,17,()=>transactionState.txHistoryTransactions,index,($$anchor6,transaction)=>{TimelineItem($$anchor6,{children:wrap_snippet(_page,($$anchor7,$$slotProps4)=>{var fragment_10=root_21();var div_23=first_child(fragment_10);var node_23=child(div_23);{var consequent_9=$$anchor8=>{var h3=root_22();append($$anchor8,h3)};var alternate=($$anchor8,$$elseif)=>{{var consequent_10=$$anchor9=>{var h3_1=root_24();append($$anchor9,h3_1)};var alternate_1=($$anchor9,$$elseif2)=>{{var consequent_11=$$anchor10=>{var h3_2=root_26();append($$anchor10,h3_2)};var alternate_2=($$anchor10,$$elseif3)=>{{var consequent_12=$$anchor11=>{var h3_3=root_28();append($$anchor11,h3_3)};var alternate_3=$$anchor11=>{var h3_4=root_29();append($$anchor11,h3_4)};if_block($$anchor10,$$render=>{if(strict_equals(get(transaction).from,transactionState.address.toLowerCase())&&strict_equals(get(transaction).to,transactionState.address.toLowerCase()))$$render(consequent_12);else $$render(alternate_3,false)},$$elseif3)}};if_block($$anchor9,$$render=>{if(strict_equals(get(transaction).to,transactionState.address.toLowerCase())&&strict_equals(get(transaction).from,transactionState.address.toLowerCase(),false))$$render(consequent_11);else $$render(alternate_2,false)},$$elseif2)}};if_block($$anchor8,$$render=>{if(strict_equals(get(transaction).from,transactionState.address.toLowerCase())&&strict_equals(get(transaction).to,transactionState.address.toLowerCase(),false))$$render(consequent_10);else $$render(alternate_1,false)},$$elseif)}};if_block(node_23,$$render=>{if(strict_equals(get(transaction).status,"pending"))$$render(consequent_9);else $$render(alternate,false)})}var time_1=sibling(node_23,2);var text_23=child(time_1,true);reset(time_1);reset(div_23);var div_24=sibling(div_23,2);var p_9=child(div_24);var node_24=child(p_9);{var consequent_13=$$anchor8=>{var text_24=text();template_effect(()=>set_text(text_24,`Canceled or non-value transaction: ${get(transaction).value??""}`));append($$anchor8,text_24)};var alternate_4=($$anchor8,$$elseif)=>{{var consequent_14=$$anchor9=>{var text_25=text();template_effect(()=>set_text(text_25,`Receive transaction: ${get(transaction).value??""}`));append($$anchor9,text_25)};var alternate_5=$$anchor9=>{var text_26=text();template_effect(()=>set_text(text_26,`Send transaction: ${get(transaction).value??""}`));append($$anchor9,text_26)};if_block($$anchor8,$$render=>{if(strict_equals(get(transaction).to,transactionState.address))$$render(consequent_14);else $$render(alternate_5,false)},$$elseif)}};if_block(node_24,$$render=>{if(strict_equals(get(transaction).from,get(transaction).to))$$render(consequent_13);else $$render(alternate_4,false)})}reset(p_9);var p_10=sibling(p_9,2);var node_25=child(p_10);{var consequent_15=$$anchor8=>{var text_27=text("From:");append($$anchor8,text_27)};var alternate_6=$$anchor8=>{var text_28=text("To:");append($$anchor8,text_28)};if_block(node_25,$$render=>{if(strict_equals(get(transaction).to,transactionState.address))$$render(consequent_15);else $$render(alternate_6,false)})}reset(p_10);var p_11=sibling(p_10,2);var node_26=child(p_11);{var consequent_16=$$anchor8=>{var text_29=text();template_effect(()=>set_text(text_29,get(transaction).from));append($$anchor8,text_29)};var alternate_7=$$anchor8=>{var text_30=text();template_effect(()=>set_text(text_30,get(transaction).to));append($$anchor8,text_30)};if_block(node_26,$$render=>{if(strict_equals(get(transaction).to,transactionState.address))$$render(consequent_16);else $$render(alternate_7,false)})}reset(p_11);var p_12=sibling(p_11,4);var text_31=child(p_12,true);reset(p_12);var p_13=sibling(p_12,2);var text_32=child(p_13);reset(p_13);reset(div_24);var node_27=sibling(div_24,2);{var consequent_17=$$anchor8=>{var div_25=root_38();var node_28=child(div_25);Button(node_28,{size:"xs",pill:true,class:"mr-2",$$events:{click:()=>handleSpeedUp(transactionState.txGasPercentIncrease,get(transaction).nonce,get(transaction).hash)},children:wrap_snippet(_page,($$anchor9,$$slotProps5)=>{next();var text_33=text("Speed Up");append($$anchor9,text_33)}),$$slots:{default:true}});var node_29=sibling(node_28,2);Button(node_29,{size:"xs",pill:true,color:"alternative",$$events:{click:()=>handleCancel(transactionState.txGasPercentIncrease,get(transaction).nonce,get(transaction).hash)},children:wrap_snippet(_page,($$anchor9,$$slotProps5)=>{next();var text_34=text("Cancel");append($$anchor9,text_34)}),$$slots:{default:true}});reset(div_25);append($$anchor8,div_25)};var alternate_8=$$anchor8=>{var div_26=root_41();var node_30=child(div_26);{var consequent_18=$$anchor9=>{Button($$anchor9,{size:"xs",pill:true,color:"light",$$events:{click:()=>{var _a;return handleOpenInTab($yakklCurrentlySelectedStore()?((_a=$yakklCurrentlySelectedStore())==null?void 0:_a.shortcuts.network.explorer)+"/tx/"+get(transaction).hash:"")}},children:wrap_snippet(_page,($$anchor10,$$slotProps5)=>{next();var text_35=text("Details >");append($$anchor10,text_35)}),$$slots:{default:true}})};var alternate_9=$$anchor9=>{Button($$anchor9,{size:"xs",pill:true,color:"light",children:wrap_snippet(_page,($$anchor10,$$slotProps5)=>{next();var text_36=text("N/A");append($$anchor10,text_36)}),$$slots:{default:true}})};if_block(node_30,$$render=>{var _a;if($yakklCurrentlySelectedStore()&&((_a=$yakklCurrentlySelectedStore())==null?void 0:_a.shortcuts.network.explorer.length)>0)$$render(consequent_18);else $$render(alternate_9,false)})}reset(div_26);append($$anchor8,div_26)};if_block(node_27,$$render=>{if(strict_equals(transactionState.txStatus,"pending"))$$render(consequent_17);else $$render(alternate_8,false)})}template_effect(()=>{set_text(text_23,get(transaction).formattedTimestamp);set_text(text_31,get(transaction).hash);set_text(text_32,`Transaction nonce: ${get(transaction).nonce??""}`)});append($$anchor7,fragment_10)}),$$slots:{default:true}})});append($$anchor5,fragment_8)});append($$anchor4,fragment_5)}),$$slots:{default:true}});var node_32=sibling(node_15,2);Hr(node_32,{class:"my-4 mx-auto md:my-10 w-48 h-1"});var div_28=sibling(node_32,2);div_28.__click=[on_click_1,handleOpenAddress,$yakklCurrentlySelectedStore,transactionState];reset(div_20);template_effect(()=>{var _a;set_text(text_9,`Most recent transaction history for: ${transactionState.address??""}`);set_text(text_10,`Blockchain: ${transactionState.txBlockchain??""}`);set_text(text_11,`Network type: ${transactionState.txNetworkTypeName??""}`);set_text(text_12,`Chain ID: ${((_a=$yakklCurrentlySelectedStore())==null?void 0:_a.shortcuts.chainId)??""}`)});append($$anchor3,fragment_4)}),$$slots:{default:true}});var node_33=sibling(node_13,2);const expression_1=user_derived(()=>$errors().maxPriorityFeePerGasOverride?"color:red":$errors().maxFeePerGasOverride?"color:red":"");TabItem(node_33,{id:"fees",get open(){return uiState.feesTabOpen},get style(){return get(expression_1)},title:"Fees",$$events:{click:()=>{handleCurrentTab("feesTab")}},children:wrap_snippet(_page,($$anchor3,$$slotProps2)=>{var div_29=root_47();var div_30=sibling(child(div_29),2);div_30.__click=[on_click_2];var node_34=sibling(div_30,2);{var consequent_19=$$anchor4=>{var div_31=root_48();var span_8=child(div_31);var text_37=child(span_8);reset(span_8);reset(div_31);template_effect(()=>set_text(text_37,`Total estimated amount: ${valueState.totalUSD??""}`));append($$anchor4,div_31)};if_block(node_34,$$render=>{if(strict_equals(valueState.totalUSD,"0",false))$$render(consequent_19)})}var div_32=sibling(node_34,2);var div_33=child(div_32);div_33.__click=[on_click_3,handleGasSelect];var div_34=child(div_33);var div_35=sibling(child(div_34),4);var text_38=child(div_35);reset(div_35);var div_36=sibling(div_35,4);var text_39=child(div_36);reset(div_36);var div_37=sibling(div_36,2);var text_40=child(div_37);reset(div_37);next(2);reset(div_34);reset(div_33);var div_38=sibling(div_33,2);div_38.__click=[on_click_4,handleGasSelect];var div_39=child(div_38);var div_40=sibling(child(div_39),4);var text_41=child(div_40);reset(div_40);var div_41=sibling(div_40,4);var text_42=child(div_41);reset(div_41);var div_42=sibling(div_41,2);var text_43=child(div_42);reset(div_42);next(2);reset(div_39);reset(div_38);var div_43=sibling(div_38,2);div_43.__click=[on_click_5,handleGasSelect];var div_44=child(div_43);var div_45=sibling(child(div_44),4);var text_44=child(div_45);reset(div_45);var div_46=sibling(div_45,4);var text_45=child(div_46);reset(div_46);var div_47=sibling(div_46,2);var text_46=child(div_47);reset(div_47);next(2);reset(div_44);reset(div_43);reset(div_32);var div_48=sibling(div_32,2);var span_9=child(div_48);var span_10=sibling(child(span_9));var text_47=child(span_10,true);reset(span_10);reset(span_9);reset(div_48);var div_49=sibling(div_48,2);var div_50=child(div_49);var span_11=child(div_50);var text_48=child(span_11);reset(span_11);reset(div_50);reset(div_49);var div_51=sibling(div_49,2);var span_12=child(div_51);var text_49=child(span_12);reset(span_12);reset(div_51);var div_52=sibling(div_51,2);var span_13=child(div_52);var text_50=child(span_13);reset(span_13);reset(div_52);var div_53=sibling(div_52,2);var div_54=child(div_53);var span_14=child(div_54);var text_51=child(span_14);reset(span_14);reset(div_54);var div_55=sibling(div_54,2);var span_15=child(div_55);var text_52=child(span_15);reset(span_15);reset(div_55);reset(div_53);var div_56=sibling(div_53,2);var div_57=sibling(child(div_56),2);var div_58=child(div_57);var input_4=sibling(child(div_58),2);remove_input_defaults(input_4);input_4.__change=function(...$$args){apply(()=>handleChange,this,$$args,_page,[1744,19])};reset(div_58);var div_59=sibling(div_58,2);var input_5=sibling(child(div_59),2);remove_input_defaults(input_5);input_5.__change=function(...$$args){apply(()=>handleChange,this,$$args,_page,[1760,19])};reset(div_59);reset(div_57);var node_35=sibling(div_57,2);{var consequent_20=$$anchor4=>{var small_3=root_49();var text_53=child(small_3,true);reset(small_3);template_effect(()=>set_text(text_53,$errors().maxPriorityFeePerGasOverride));append($$anchor4,small_3)};if_block(node_35,$$render=>{if($errors().maxPriorityFeePerGasOverride)$$render(consequent_20)})}var node_36=sibling(node_35,2);{var consequent_21=$$anchor4=>{var small_4=root_50();var text_54=child(small_4,true);reset(small_4);template_effect(()=>set_text(text_54,$errors().maxFeePerGasOverride));append($$anchor4,small_4)};if_block(node_36,$$render=>{if($errors().maxFeePerGasOverride)$$render(consequent_21)})}reset(div_56);var div_60=sibling(div_56,2);var div_61=child(div_60);var p_14=child(div_61);var text_55=child(p_14);reset(p_14);var p_15=sibling(p_14,2);var text_56=child(p_15);reset(p_15);reset(div_61);reset(div_60);reset(div_29);template_effect(($0,$1,$2,$3,$4,$5,$6,$7,$8,$9)=>{set_class(div_33,1,`${get(priorityClass)??""} border-green-500 rounded-md shadow h-[10rem]`);set_text(text_38,`${$0??""} gwei`);set_text(text_39,`${$1??""} gwei`);set_text(text_40,`est. ${gasState.priorityGasUSD??""}`);set_class(div_38,1,`${get(marketClass)??""} border-yellow-500 rounded-md shadow-xl h-[10rem]`);set_text(text_41,`${$2??""} gwei`);set_text(text_42,`${$3??""} gwei`);set_text(text_43,`est. ${gasState.marketGasUSD??""}`);set_class(div_43,1,`${get(lowClass)??""} border-amber-500 rounded-md shadow h-[10rem]`);set_text(text_44,`${$4??""} gwei`);set_text(text_45,`${$5??""} gwei`);set_text(text_46,`est. ${gasState.lowGasUSD??""}`);set_class(span_10,1,clsx(gasState.trendColor));set_text(text_47,gasState.gasTrend);set_text(text_48,`Base fee: ${$6??""} gwei - ${gasState.gasBaseUSD??""}`);set_text(text_49,`Current blockchain number: ${get(blockNumber)??""}`);set_text(text_50,`Estimated transaction count for block: ${get(estimatedTransactionCount)??""}`);set_text(text_51,`Priority fee: ${$7??""}`);set_text(text_52,`Max fee limit: ${$8??""}`);set_text(text_55,`Total gwei: ${$9??""}`);set_text(text_56,`Total estimated fees: ${gasState.gasTotalEstimateUSD??""}`)},[()=>Number(gasState.priorityPriorityFee).toFixed(2),()=>Math.round(gasState.priorityGas),()=>Number(gasState.marketPriorityFee).toFixed(2),()=>Math.round(gasState.marketGas),()=>Number(gasState.lowPriorityFee).toFixed(2),()=>Math.round(gasState.lowGas),()=>Number(gasState.gasBase).toFixed(2),()=>Number(gasState.maxPriorityFeePerGas).toFixed(2),()=>Math.round(Number(gasState.maxFeePerGas)),()=>Number(gasState.gasEstimate).toFixed(2)]);event("blur",input_4,onBlur);bind_value(input_4,()=>$form().maxPriorityFeePerGasOverride,$$value=>store_mutate(form,untrack($form).maxPriorityFeePerGasOverride=$$value,untrack($form)));event("blur",input_5,onBlur);bind_value(input_5,()=>$form().maxFeePerGasOverride,$$value=>store_mutate(form,untrack($form).maxFeePerGasOverride=$$value,untrack($form)));append($$anchor3,div_29)}),$$slots:{default:true}});append($$anchor2,fragment_2)}),$$slots:{default:true}});reset(form_1);reset(div);template_effect(()=>set_text(text_1,`Send/Transfer ${transactionState.blockchain??""}`));event("submit",form_1,function(...$$args){apply(()=>handleSubmit,this,$$args,_page,[1018,26])});append($$anchor,fragment);var $$pop=pop({...legacy_api()});$$cleanup();return $$pop}delegate(["click","change"]);export{_page as component};
//# sourceMappingURL=37.BlCAkykx.js.map
