import{c as check_target,l as legacy_api}from"../chunks/BXFaAXnq.js";import{p as push,h as tag,e as set,c as child,s as sibling,a as pop,i as state,g as get,F as FILENAME,r as reset,t as template_effect}from"../chunks/BaS8d5lg.js";import{a as add_locations}from"../chunks/3AhEABF_.js";import{s as set_text}from"../chunks/Cmwrv3PW.js";import{i as if_block}from"../chunks/Q1yPWpQ-.js";import{a as append,f as from_html}from"../chunks/Cm3jf07C.js";import{d as delegate}from"../chunks/DiU70Is3.js";import{R as RegistrationPrompt,c as checkRegistrationStatus,i as isUserLoggedIn}from"../chunks/BkHOZpS2.js";import{g as getSettings,h as getMiscStore}from"../chunks/Cb2naUpm.js";_page[FILENAME]="src/routes/(test)/test-registration-prompt/+page.svelte";async function testRegistrationCheck(_,registrationStatus,settings,isLoggedIn){set(registrationStatus,await checkRegistrationStatus(),true);set(settings,await getSettings(),true);set(isLoggedIn,isUserLoggedIn(getMiscStore()),true)}var on_click=(__1,showRegistrationPrompt)=>set(showRegistrationPrompt,true);var root_1=add_locations(from_html(`<div class="p-4 bg-gray-100 rounded"><h2 class="font-bold">Registration Status:</h2> <pre> </pre></div>`),_page[FILENAME],[[35,3,[[36,4],[37,4]]]]);var root_2=add_locations(from_html(`<div class="p-4 bg-gray-100 rounded"><h2 class="font-bold">Settings:</h2> <p> </p> <p> </p> <p> </p></div>`),_page[FILENAME],[[42,3,[[43,4],[44,4],[45,4],[46,4]]]]);var root=add_locations(from_html(`<div class="p-8"><h1 class="text-2xl font-bold mb-4">Registration Prompt Test</h1> <div class="space-y-4"><button class="px-4 py-2 bg-blue-600 text-white rounded">Show Registration Prompt (Sidepanel)</button> <button class="px-4 py-2 bg-green-600 text-white rounded">Check Registration Status</button> <!> <!></div> <!></div>`),_page[FILENAME],[[19,0,[[20,1],[22,1,[[23,2],[30,2]]]]]]);function _page($$anchor,$$props){check_target(new.target);push($$props,true,_page);let showRegistrationPrompt=tag(state(false),"showRegistrationPrompt");let registrationStatus=tag(state(null),"registrationStatus");let settings=tag(state(null),"settings");let isLoggedIn=tag(state(false),"isLoggedIn");function openWallet(){console.log("Opening wallet...");alert("openWallet function called")}var div=root();var div_1=sibling(child(div),2);var button=child(div_1);button.__click=[on_click,showRegistrationPrompt];var button_1=sibling(button,2);button_1.__click=[testRegistrationCheck,registrationStatus,settings,isLoggedIn];var node=sibling(button_1,2);{var consequent=$$anchor2=>{var div_2=root_1();var pre=sibling(child(div_2),2);var text=child(pre,true);reset(pre);reset(div_2);template_effect($0=>set_text(text,$0),[()=>JSON.stringify(get(registrationStatus),null,2)]);append($$anchor2,div_2)};if_block(node,$$render=>{if(get(registrationStatus))$$render(consequent)})}var node_1=sibling(node,2);{var consequent_1=$$anchor2=>{var div_3=root_2();var p=sibling(child(div_3),2);var text_1=child(p);reset(p);var p_1=sibling(p,2);var text_2=child(p_1);reset(p_1);var p_2=sibling(p_1,2);var text_3=child(p_2);reset(p_2);reset(div_3);template_effect(()=>{var _a;set_text(text_1,`init: ${get(settings).init??""}`);set_text(text_2,`termsAgreed: ${((_a=get(settings).legal)==null?void 0:_a.termsAgreed)??""}`);set_text(text_3,`isLoggedIn: ${get(isLoggedIn)??""}`)});append($$anchor2,div_3)};if_block(node_1,$$render=>{if(get(settings))$$render(consequent_1)})}reset(div_1);var node_2=sibling(div_1,2);RegistrationPrompt(node_2,{context:"sidepanel",openWallet:openWallet,onCancel:()=>console.log("Cancelled"),get show(){return get(showRegistrationPrompt)},set show($$value){set(showRegistrationPrompt,$$value,true)}});reset(div);append($$anchor,div);return pop({...legacy_api()})}delegate(["click"]);export{_page as component};
//# sourceMappingURL=29.Bcd00uSI.js.map
