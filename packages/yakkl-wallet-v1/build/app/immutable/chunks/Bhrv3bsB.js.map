{"version":3,"file":"Bhrv3bsB.js","sources":["../../../../../../../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/reactivity/utils.js","../../../../../../../../node_modules/.pnpm/svelte@5.34.3/node_modules/svelte/src/reactivity/map.js","../../../../../../../../node_modules/.pnpm/svelte-toolbelt@0.4.6_svelte@5.34.3/node_modules/svelte-toolbelt/dist/utils/on-destroy-effect.svelte.js","../../../../../../../../node_modules/.pnpm/svelte-toolbelt@0.4.6_svelte@5.34.3/node_modules/svelte-toolbelt/dist/utils/after-sleep.js","../../../../../../../../node_modules/.pnpm/svelte-toolbelt@0.4.6_svelte@5.34.3/node_modules/svelte-toolbelt/dist/utils/after-tick.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/utilities/Readable/readable.svelte.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/utilities/activeElement/activeElement.svelte.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/internal/utils/is.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/internal/utils/get.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/utilities/ElementSize/ElementSize.svelte.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/utilities/extract/extract.svelte.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/utilities/watch/watch.svelte.js","../../../../../../../../node_modules/.pnpm/runed@0.15.4_svelte@5.34.3/node_modules/runed/dist/utilities/Previous/Previous.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/is.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/use-state-machine.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/presence-layer/usePresence.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/presence-layer/presence-layer.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/events.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/debounce.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/elements.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/dismissible-layer/useDismissibleLayer.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/dismissible-layer/dismissible-layer.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/escape-layer/useEscapeLayer.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/escape-layer/escape-layer.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/focus-scope/focus-scope-stack.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/focus.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/focus-scope/useFocusScope.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/focus-scope/focus-scope.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/text-selection-layer/useTextSelectionLayer.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/text-selection-layer/text-selection-layer.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/create-shared-hook.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/use-body-scroll-lock.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/scroll-lock/scroll-lock.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/floating-svelte/floating-utils.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/floating-svelte/use-floating.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/useFloatingLayer.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/box-auto-reset.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-anchor.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-content.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-content-static.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-content.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer-inner.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer-force-mount.svelte","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/create-event-hook.svelte.js","../../../../../../../../node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/internal/use-grace-area.svelte.js"],"sourcesContent":["/** @import { Source } from '#client' */\nimport { set } from '../internal/client/reactivity/sources.js';\n\n/** @param {Source<number>} source */\nexport function increment(source) {\n\tset(source, source.v + 1);\n}\n","/** @import { Source } from '#client' */\nimport { DEV } from 'esm-env';\nimport { set, source } from '../internal/client/reactivity/sources.js';\nimport { label, tag } from '../internal/client/dev/tracing.js';\nimport { get } from '../internal/client/runtime.js';\nimport { increment } from './utils.js';\n\n/**\n * A reactive version of the built-in [`Map`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map) object.\n * Reading contents of the map (by iterating, or by reading `map.size` or calling `map.get(...)` or `map.has(...)` as in the [tic-tac-toe example](https://svelte.dev/playground/0b0ff4aa49c9443f9b47fe5203c78293) below) in an [effect](https://svelte.dev/docs/svelte/$effect) or [derived](https://svelte.dev/docs/svelte/$derived)\n * will cause it to be re-evaluated as necessary when the map is updated.\n *\n * Note that values in a reactive map are _not_ made [deeply reactive](https://svelte.dev/docs/svelte/$state#Deep-state).\n *\n * ```svelte\n * <script>\n * \timport { SvelteMap } from 'svelte/reactivity';\n * \timport { result } from './game.js';\n *\n * \tlet board = new SvelteMap();\n * \tlet player = $state('x');\n * \tlet winner = $derived(result(board));\n *\n * \tfunction reset() {\n * \t\tplayer = 'x';\n * \t\tboard.clear();\n * \t}\n * </script>\n *\n * <div class=\"board\">\n * \t{#each Array(9), i}\n * \t\t<button\n * \t\t\tdisabled={board.has(i) || winner}\n * \t\t\tonclick={() => {\n * \t\t\t\tboard.set(i, player);\n * \t\t\t\tplayer = player === 'x' ? 'o' : 'x';\n * \t\t\t}}\n * \t\t>{board.get(i)}</button>\n * \t{/each}\n * </div>\n *\n * {#if winner}\n * \t<p>{winner} wins!</p>\n * \t<button onclick={reset}>reset</button>\n * {:else}\n * \t<p>{player} is next</p>\n * {/if}\n * ```\n *\n * @template K\n * @template V\n * @extends {Map<K, V>}\n */\nexport class SvelteMap extends Map {\n\t/** @type {Map<K, Source<number>>} */\n\t#sources = new Map();\n\t#version = source(0);\n\t#size = source(0);\n\n\t/**\n\t * @param {Iterable<readonly [K, V]> | null | undefined} [value]\n\t */\n\tconstructor(value) {\n\t\tsuper();\n\n\t\tif (DEV) {\n\t\t\t// If the value is invalid then the native exception will fire here\n\t\t\tvalue = new Map(value);\n\n\t\t\ttag(this.#version, 'SvelteMap version');\n\t\t\ttag(this.#size, 'SvelteMap.size');\n\t\t}\n\n\t\tif (value) {\n\t\t\tfor (var [key, v] of value) {\n\t\t\t\tsuper.set(key, v);\n\t\t\t}\n\t\t\tthis.#size.v = super.size;\n\t\t}\n\t}\n\n\t/** @param {K} key */\n\thas(key) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\n\t\tif (s === undefined) {\n\t\t\tvar ret = super.get(key);\n\t\t\tif (ret !== undefined) {\n\t\t\t\ts = source(0);\n\n\t\t\t\tif (DEV) {\n\t\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t\t}\n\n\t\t\t\tsources.set(key, s);\n\t\t\t} else {\n\t\t\t\t// We should always track the version in case\n\t\t\t\t// the Set ever gets this value in the future.\n\t\t\t\tget(this.#version);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tget(s);\n\t\treturn true;\n\t}\n\n\t/**\n\t * @param {(value: V, key: K, map: Map<K, V>) => void} callbackfn\n\t * @param {any} [this_arg]\n\t */\n\tforEach(callbackfn, this_arg) {\n\t\tthis.#read_all();\n\t\tsuper.forEach(callbackfn, this_arg);\n\t}\n\n\t/** @param {K} key */\n\tget(key) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\n\t\tif (s === undefined) {\n\t\t\tvar ret = super.get(key);\n\t\t\tif (ret !== undefined) {\n\t\t\t\ts = source(0);\n\n\t\t\t\tif (DEV) {\n\t\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t\t}\n\n\t\t\t\tsources.set(key, s);\n\t\t\t} else {\n\t\t\t\t// We should always track the version in case\n\t\t\t\t// the Set ever gets this value in the future.\n\t\t\t\tget(this.#version);\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\tget(s);\n\t\treturn super.get(key);\n\t}\n\n\t/**\n\t * @param {K} key\n\t * @param {V} value\n\t * */\n\tset(key, value) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\t\tvar prev_res = super.get(key);\n\t\tvar res = super.set(key, value);\n\t\tvar version = this.#version;\n\n\t\tif (s === undefined) {\n\t\t\ts = source(0);\n\n\t\t\tif (DEV) {\n\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t}\n\n\t\t\tsources.set(key, s);\n\t\t\tset(this.#size, super.size);\n\t\t\tincrement(version);\n\t\t} else if (prev_res !== value) {\n\t\t\tincrement(s);\n\n\t\t\t// if not every reaction of s is a reaction of version we need to also include version\n\t\t\tvar v_reactions = version.reactions === null ? null : new Set(version.reactions);\n\t\t\tvar needs_version_increase =\n\t\t\t\tv_reactions === null ||\n\t\t\t\t!s.reactions?.every((r) =>\n\t\t\t\t\t/** @type {NonNullable<typeof v_reactions>} */ (v_reactions).has(r)\n\t\t\t\t);\n\t\t\tif (needs_version_increase) {\n\t\t\t\tincrement(version);\n\t\t\t}\n\t\t}\n\n\t\treturn res;\n\t}\n\n\t/** @param {K} key */\n\tdelete(key) {\n\t\tvar sources = this.#sources;\n\t\tvar s = sources.get(key);\n\t\tvar res = super.delete(key);\n\n\t\tif (s !== undefined) {\n\t\t\tsources.delete(key);\n\t\t\tset(this.#size, super.size);\n\t\t\tset(s, -1);\n\t\t\tincrement(this.#version);\n\t\t}\n\n\t\treturn res;\n\t}\n\n\tclear() {\n\t\tif (super.size === 0) {\n\t\t\treturn;\n\t\t}\n\t\t// Clear first, so we get nice console.log outputs with $inspect\n\t\tsuper.clear();\n\t\tvar sources = this.#sources;\n\t\tset(this.#size, 0);\n\t\tfor (var s of sources.values()) {\n\t\t\tset(s, -1);\n\t\t}\n\t\tincrement(this.#version);\n\t\tsources.clear();\n\t}\n\n\t#read_all() {\n\t\tget(this.#version);\n\n\t\tvar sources = this.#sources;\n\t\tif (this.#size.v !== sources.size) {\n\t\t\tfor (var key of super.keys()) {\n\t\t\t\tif (!sources.has(key)) {\n\t\t\t\t\tvar s = source(0);\n\n\t\t\t\t\tif (DEV) {\n\t\t\t\t\t\ttag(s, `SvelteMap get(${label(key)})`);\n\t\t\t\t\t}\n\n\t\t\t\t\tsources.set(key, s);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor ([, s] of this.#sources) {\n\t\t\tget(s);\n\t\t}\n\t}\n\n\tkeys() {\n\t\tget(this.#version);\n\t\treturn super.keys();\n\t}\n\n\tvalues() {\n\t\tthis.#read_all();\n\t\treturn super.values();\n\t}\n\n\tentries() {\n\t\tthis.#read_all();\n\t\treturn super.entries();\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.entries();\n\t}\n\n\tget size() {\n\t\tget(this.#size);\n\t\treturn super.size;\n\t}\n}\n","export function onDestroyEffect(fn) {\n    $effect(() => {\n        return () => {\n            fn();\n        };\n    });\n}\n","/**\n * A utility function that executes a callback after a specified number of milliseconds.\n */\nexport function afterSleep(ms, cb) {\n    setTimeout(cb, ms);\n}\n","import { tick } from \"svelte\";\nexport function afterTick(fn) {\n    tick().then(fn);\n}\n","import { tick } from \"svelte\";\n/**\n * A class that contains a reactive `current` property\n *\n * Accepts an initial value, and an optional `start` function, which has a `set` function as its first argument,\n * which is used to update the value of the `current` property.\n *\n * @example\n * ```html\n * <script>\n * const now = new Readable(new Date(), (set) => {\n * \tconst interval = setInterval(() => set(new Date()), 1000);\n * \treturn () => clearInterval(interval);\n * });\n * </script>\n *\n * <p>{now.current.toLocaleTimeString()}</p>\n * ```\n *\n * @see {@link https://runed.dev/docs/utilities/readable}\n *\n */\nexport class Readable {\n    #current = $state();\n    #start;\n    constructor(initialValue, start) {\n        this.#current = initialValue;\n        this.#start = start;\n    }\n    #subscribers = 0;\n    #stop = null;\n    get current() {\n        if ($effect.tracking()) {\n            $effect(() => {\n                this.#subscribers++;\n                if (this.#subscribers === 1) {\n                    this.#subscribe(true);\n                }\n                return () => {\n                    tick().then(() => {\n                        this.#subscribers--;\n                        if (this.#subscribers === 0) {\n                            this.#unsubscribe();\n                        }\n                    });\n                };\n            });\n        }\n        else if (this.#subscribers === 0) {\n            this.#subscribe(false);\n            this.#unsubscribe();\n        }\n        return this.#current;\n    }\n    #subscribe(inEffect) {\n        this.#stop =\n            this.#start((value) => {\n                this.#current = value;\n            }, inEffect) ?? null;\n    }\n    #unsubscribe() {\n        if (this.#stop === null)\n            return;\n        this.#stop();\n        this.#stop = null;\n    }\n}\n","import { Readable } from \"../Readable/readable.svelte.js\";\nimport { browser } from \"../../internal/utils/browser.js\";\n/**\n * An object holding a reactive value that is equal to `document.activeElement`.\n * It automatically listens for changes, keeping the reference up to date.\n *\n * @see {@link https://runed.dev/docs/utilities/active-element}\n */\nexport const activeElement = new Readable(null, (set, insideEffect) => {\n    function update() {\n        if (!browser)\n            return;\n        set(document.activeElement);\n    }\n    update();\n    if (!insideEffect)\n        return;\n    document.addEventListener(\"focusin\", update);\n    document.addEventListener(\"focusout\", update);\n    return () => {\n        document.removeEventListener(\"focusin\", update);\n        document.removeEventListener(\"focusout\", update);\n    };\n});\n","export function isFunction(value) {\n    return typeof value === \"function\";\n}\nexport function isObject(value) {\n    return value !== null && typeof value === \"object\";\n}\n","import { isFunction } from \"./is.js\";\nexport function get(value) {\n    if (isFunction(value)) {\n        return value();\n    }\n    return value;\n}\n","import { get } from \"../../internal/utils/get.js\";\n/**\n * Returns a reactive value holding the size of `node`.\n *\n * Accepts an `options` object with the following properties:\n * - `initialSize`: The initial size of the element. Defaults to `{ width: 0, height: 0 }`.\n * - `box`: The box model to use. Can be either `\"content-box\"` or `\"border-box\"`. Defaults to `\"border-box\"`.\n *\n * @returns an object with `width` and `height` properties.\n *\n * @see {@link https://runed.dev/docs/utilities/element-size}\n */\nexport class ElementSize {\n    #size = $state({\n        width: 0,\n        height: 0,\n    });\n    constructor(node, options = { box: \"border-box\" }) {\n        this.#size = {\n            width: options.initialSize?.width ?? 0,\n            height: options.initialSize?.height ?? 0,\n        };\n        $effect(() => {\n            const node$ = get(node);\n            if (!node$)\n                return;\n            const observer = new ResizeObserver((entries) => {\n                for (const entry of entries) {\n                    const boxSize = options.box === \"content-box\" ? entry.contentBoxSize : entry.borderBoxSize;\n                    const boxSizeArr = Array.isArray(boxSize) ? boxSize : [boxSize];\n                    this.#size.width = boxSizeArr.reduce((acc, size) => Math.max(acc, size.inlineSize), 0);\n                    this.#size.height = boxSizeArr.reduce((acc, size) => Math.max(acc, size.blockSize), 0);\n                }\n            });\n            observer.observe(node$);\n            return () => {\n                observer.disconnect();\n            };\n        });\n    }\n    get width() {\n        return this.#size.width;\n    }\n    get height() {\n        return this.#size.height;\n    }\n}\n","import { isFunction } from \"../../internal/utils/is.js\";\n/**\n * Extracts the value from a getter or a value.\n * Optionally, a default value can be provided.\n */\nexport function extract(value, defaultValue) {\n    if (isFunction(value)) {\n        const getter = value;\n        return getter() ?? defaultValue ?? getter();\n    }\n    return value ?? defaultValue ?? value;\n}\n","import { untrack } from \"svelte\";\nfunction runEffect(flush, effect) {\n    switch (flush) {\n        case \"post\":\n            $effect(effect);\n            break;\n        case \"pre\":\n            $effect.pre(effect);\n            break;\n    }\n}\nfunction runWatcher(sources, flush, effect, options = {}) {\n    const { lazy = false } = options;\n    // Run the effect immediately if `lazy` is `false`.\n    let active = !lazy;\n    // On the first run, if the dependencies are an array, pass an empty array\n    // to the previous value instead of `undefined` to allow destructuring.\n    //\n    // watch(() => [a, b], ([a, b], [prevA, prevB]) => { ... });\n    let previousValues = Array.isArray(sources)\n        ? []\n        : undefined;\n    runEffect(flush, () => {\n        const values = Array.isArray(sources) ? sources.map((source) => source()) : sources();\n        if (!active) {\n            active = true;\n            previousValues = values;\n            return;\n        }\n        const cleanup = untrack(() => effect(values, previousValues));\n        previousValues = values;\n        return cleanup;\n    });\n}\nfunction runWatcherOnce(sources, flush, effect) {\n    const cleanupRoot = $effect.root(() => {\n        let stop = false;\n        runWatcher(sources, flush, (values, previousValues) => {\n            if (stop) {\n                cleanupRoot();\n                return;\n            }\n            // Since `lazy` is `true`, `previousValues` is always defined.\n            const cleanup = effect(values, previousValues);\n            stop = true;\n            return cleanup;\n        }, \n        // Running the effect immediately just once makes no sense at all.\n        // That's just `onMount` with extra steps.\n        { lazy: true });\n    });\n    $effect(() => {\n        return cleanupRoot;\n    });\n}\nexport function watch(sources, effect, options) {\n    runWatcher(sources, \"post\", effect, options);\n}\nfunction watchPre(sources, effect, options) {\n    runWatcher(sources, \"pre\", effect, options);\n}\nwatch.pre = watchPre;\nexport function watchOnce(source, effect) {\n    runWatcherOnce(source, \"post\", effect);\n}\nfunction watchOncePre(source, effect) {\n    runWatcherOnce(source, \"pre\", effect);\n}\nwatchOnce.pre = watchOncePre;\n","/**\n * Holds the previous value of a getter.\n *\n * @see {@link https://runed.dev/docs/utilities/previous}\n */\nexport class Previous {\n    #previous = $state();\n    #curr;\n    constructor(getter) {\n        $effect(() => {\n            this.#previous = this.#curr;\n            this.#curr = getter();\n        });\n    }\n    get current() {\n        return this.#previous;\n    }\n}\n","export const isBrowser = typeof document !== \"undefined\";\nexport const isIOS = getIsIOS();\nfunction getIsIOS() {\n    return (isBrowser &&\n        window?.navigator?.userAgent &&\n        // eslint-disable-next-line regexp/no-unused-capturing-group\n        (/iP(ad|hone|od)/.test(window.navigator.userAgent) ||\n            // The new iPad Pro Gen3 does not identify itself as iPad, but as Macintosh.\n            (window?.navigator?.maxTouchPoints > 2 &&\n                /iPad|Macintosh/.test(window?.navigator.userAgent))));\n}\nexport function isFunction(value) {\n    return typeof value === \"function\";\n}\nexport function isHTMLElement(element) {\n    return element instanceof HTMLElement;\n}\nexport function isElement(element) {\n    return element instanceof Element;\n}\nexport function isElementOrSVGElement(element) {\n    return element instanceof Element || element instanceof SVGElement;\n}\nexport function isNumberString(value) {\n    return !Number.isNaN(Number(value)) && !Number.isNaN(Number.parseFloat(value));\n}\nexport function isNull(value) {\n    return value === null;\n}\nexport function isTouch(e) {\n    return e.pointerType === \"touch\";\n}\nexport function isFocusVisible(element) {\n    return element.matches(\":focus-visible\");\n}\nexport function isNotNull(value) {\n    return value !== null;\n}\n/**\n * Determines if the provided object is a valid `HTMLInputElement` with\n * a `select` method available.\n */\nexport function isSelectableInput(element) {\n    return element instanceof HTMLInputElement && \"select\" in element;\n}\n/**\n * Given a node, determine if it is hidden by walking up the\n * DOM tree until we hit the `stopAt` node (exclusive), if provided)\n * otherwise we stop at the document root.\n */\nexport function isElementHidden(node, stopAt) {\n    if (getComputedStyle(node).visibility === \"hidden\")\n        return true;\n    while (node) {\n        // we stop at `upTo` (excluding it)\n        if (stopAt !== undefined && node === stopAt)\n            return false;\n        if (getComputedStyle(node).display === \"none\")\n            return true;\n        node = node.parentElement;\n    }\n    return false;\n}\n","import { box } from \"svelte-toolbelt\";\n/**\n * The `useStateMachine` function is a TypeScript function that creates a state machine and returns the\n * current state and a dispatch function to update the state based on events.\n * @param initialState - The `initialState` parameter is the initial state of the state machine. It\n * represents the starting point of the state machine's state.\n * @param machine - The `machine` parameter is an object that represents a state machine. It should\n * have keys that correspond to the possible states of the machine, and the values should be objects\n * that represent the possible events and their corresponding next states.\n * @returns The `useStateMachine` function returns an object with two properties: `state` and\n * `dispatch`.\n */\nexport function useStateMachine(initialState, machine) {\n    const state = box(initialState);\n    function reducer(event) {\n        // @ts-expect-error  state.value is keyof M\n        const nextState = machine[state.current][event];\n        return nextState ?? state.current;\n    }\n    const dispatch = (event) => {\n        state.current = reducer(event);\n    };\n    return {\n        state,\n        dispatch,\n    };\n}\n","import { afterTick } from \"svelte-toolbelt\";\nimport { Previous } from \"runed\";\nimport { untrack } from \"svelte\";\nimport { useStateMachine } from \"../../../internal/use-state-machine.svelte.js\";\nexport function usePresence(present, id) {\n    let styles = $state({});\n    let prevAnimationNameState = $state(\"none\");\n    const initialState = present.current ? \"mounted\" : \"unmounted\";\n    let node = $state(null);\n    const prevPresent = new Previous(() => present.current);\n    $effect(() => {\n        if (!id.current)\n            return;\n        if (!present.current)\n            return;\n        afterTick(() => {\n            node = document.getElementById(id.current);\n        });\n    });\n    const { state, dispatch } = useStateMachine(initialState, {\n        mounted: {\n            UNMOUNT: \"unmounted\",\n            ANIMATION_OUT: \"unmountSuspended\",\n        },\n        unmountSuspended: {\n            MOUNT: \"mounted\",\n            ANIMATION_END: \"unmounted\",\n        },\n        unmounted: {\n            MOUNT: \"mounted\",\n        },\n    });\n    $effect(() => {\n        const currPresent = present.current;\n        untrack(() => {\n            if (!node) {\n                node = document.getElementById(id.current);\n            }\n            if (!node)\n                return;\n            const hasPresentChanged = currPresent !== prevPresent.current;\n            if (!hasPresentChanged)\n                return;\n            const prevAnimationName = prevAnimationNameState;\n            const currAnimationName = getAnimationName(node);\n            if (currPresent) {\n                dispatch(\"MOUNT\");\n            }\n            else if (currAnimationName === \"none\" || styles.display === \"none\") {\n                // If there is no exit animation or the element is hidden, animations won't run\n                // so we unmount instantly\n                dispatch(\"UNMOUNT\");\n            }\n            else {\n                /**\n                 * When `present` changes to `false`, we check changes to animation-name to\n                 * determine whether an animation has started. We chose this approach (reading\n                 * computed styles) because there is no `animationrun` event and `animationstart`\n                 * fires after `animation-delay` has expired which would be too late.\n                 */\n                const isAnimating = prevAnimationName !== currAnimationName;\n                if (prevPresent && isAnimating) {\n                    dispatch(\"ANIMATION_OUT\");\n                }\n                else {\n                    dispatch(\"UNMOUNT\");\n                }\n            }\n        });\n    });\n    /**\n     * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n     * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n     * make sure we only trigger ANIMATION_END for the currently active animation.\n     */\n    function handleAnimationEnd(event) {\n        if (!node) {\n            node = document.getElementById(id.current);\n        }\n        if (!node)\n            return;\n        const currAnimationName = getAnimationName(node);\n        const isCurrentAnimation = currAnimationName.includes(event.animationName) || currAnimationName === \"none\";\n        if (event.target === node && isCurrentAnimation) {\n            dispatch(\"ANIMATION_END\");\n        }\n    }\n    function handleAnimationStart(event) {\n        if (!node) {\n            node = document.getElementById(id.current);\n        }\n        if (!node)\n            return;\n        if (event.target === node) {\n            prevAnimationNameState = getAnimationName(node);\n        }\n    }\n    $effect(() => {\n        state.current;\n        untrack(() => {\n            if (!node) {\n                node = document.getElementById(id.current);\n            }\n            if (!node)\n                return;\n            const currAnimationName = getAnimationName(node);\n            prevAnimationNameState = state.current === \"mounted\" ? currAnimationName : \"none\";\n        });\n    });\n    $effect(() => {\n        if (!node)\n            return;\n        styles = getComputedStyle(node);\n        node.addEventListener(\"animationstart\", handleAnimationStart);\n        node.addEventListener(\"animationcancel\", handleAnimationEnd);\n        node.addEventListener(\"animationend\", handleAnimationEnd);\n        return () => {\n            node?.removeEventListener(\"animationstart\", handleAnimationStart);\n            node?.removeEventListener(\"animationcancel\", handleAnimationEnd);\n            node?.removeEventListener(\"animationend\", handleAnimationEnd);\n        };\n    });\n    const isPresentDerived = $derived([\"mounted\", \"unmountSuspended\"].includes(state.current));\n    return {\n        get current() {\n            return isPresentDerived;\n        },\n    };\n}\nfunction getAnimationName(node) {\n    return node ? getComputedStyle(node).animationName || \"none\" : \"none\";\n}\n","<script lang=\"ts\">\n\timport { box } from \"svelte-toolbelt\";\n\timport type { PresenceLayerImplProps } from \"./types.js\";\n\timport { usePresence } from \"./usePresence.svelte.js\";\n\n\tlet { present, forceMount, presence, id }: PresenceLayerImplProps = $props();\n\n\tconst isPresent = usePresence(\n\t\tbox.with(() => present),\n\t\tbox.with(() => id)\n\t);\n</script>\n\n{#if forceMount || present || isPresent.current}\n\t{@render presence?.({ present: isPresent })}\n{/if}\n","/**\n * Adds an event listener to the specified target element(s) for the given event(s), and returns a function to remove it.\n * @param target The target element(s) to add the event listener to.\n * @param event The event(s) to listen for.\n * @param handler The function to be called when the event is triggered.\n * @param options An optional object that specifies characteristics about the event listener.\n * @returns A function that removes the event listener from the target element(s).\n */\nexport function addEventListener(target, event, handler, options) {\n    const events = Array.isArray(event) ? event : [event];\n    // Add the event listener to each specified event for the target element(s).\n    events.forEach((_event) => target.addEventListener(_event, handler, options));\n    // Return a function that removes the event listener from the target element(s).\n    return () => {\n        events.forEach((_event) => target.removeEventListener(_event, handler, options));\n    };\n}\n/**\n * Creates a typed event dispatcher and listener pair for custom events\n * @template T - The type of data that will be passed in the event detail\n * @param eventName - The name of the custom event\n * @param options - CustomEvent options (bubbles, cancelable, etc.)\n * @returns A tuple containing dispatch and listen functions\n */\nexport function createCustomEvent(eventName, options = { bubbles: true, cancelable: true }) {\n    function dispatch(element, detail) {\n        const event = new CustomEvent(eventName, {\n            ...options,\n            detail,\n        });\n        element.dispatchEvent(event);\n    }\n    function listen(element, callback) {\n        const handler = (event) => {\n            callback(event);\n        };\n        // @ts-expect-error shh\n        return addEventListener(element, eventName, handler);\n    }\n    return [dispatch, listen];\n}\n","// eslint-disable-next-line ts/no-explicit-any\nexport function debounce(fn, wait = 500) {\n    let timeout = null;\n    const debounced = (...args) => {\n        if (timeout !== null) {\n            clearTimeout(timeout);\n        }\n        timeout = setTimeout(() => {\n            fn(...args);\n        }, wait);\n    };\n    debounced.destroy = () => {\n        if (timeout !== null) {\n            clearTimeout(timeout);\n            timeout = null;\n        }\n    };\n    return debounced;\n}\n","export function isOrContainsTarget(node, target) {\n    return node === target || node.contains(target);\n}\nexport function getOwnerDocument(el) {\n    return el?.ownerDocument ?? document;\n}\n","import { untrack } from \"svelte\";\nimport { afterSleep, afterTick, box, executeCallbacks, onDestroyEffect, useRefById, } from \"svelte-toolbelt\";\nimport { addEventListener } from \"../../../internal/events.js\";\nimport { debounce } from \"../../../internal/debounce.js\";\nimport { noop } from \"../../../internal/noop.js\";\nimport { getOwnerDocument, isOrContainsTarget } from \"../../../internal/elements.js\";\nimport { isElement } from \"../../../internal/is.js\";\nglobalThis.bitsDismissableLayers ??= new Map();\nexport class DismissibleLayerState {\n    #interactOutsideProp;\n    #behaviorType;\n    #interceptedEvents = {\n        pointerdown: false,\n    };\n    #isResponsibleLayer = false;\n    node = box(null);\n    #documentObj = undefined;\n    #enabled;\n    #isFocusInsideDOMTree = $state(false);\n    #onFocusOutside;\n    currNode = $state(null);\n    #isValidEventProp;\n    #unsubClickListener = noop;\n    constructor(props) {\n        this.#enabled = props.enabled;\n        this.#isValidEventProp = props.isValidEvent;\n        useRefById({\n            id: props.id,\n            ref: this.node,\n            deps: () => this.#enabled.current,\n            onRefChange: (node) => {\n                this.currNode = node;\n            },\n        });\n        this.#behaviorType = props.interactOutsideBehavior;\n        this.#interactOutsideProp = props.onInteractOutside;\n        this.#onFocusOutside = props.onFocusOutside;\n        $effect(() => {\n            this.#documentObj = getOwnerDocument(this.currNode);\n        });\n        let unsubEvents = noop;\n        const cleanup = () => {\n            this.#resetState();\n            globalThis.bitsDismissableLayers.delete(this);\n            this.#handleInteractOutside.destroy();\n            unsubEvents();\n        };\n        $effect(() => {\n            if (this.#enabled.current && this.currNode) {\n                afterSleep(1, () => {\n                    if (!this.currNode)\n                        return;\n                    globalThis.bitsDismissableLayers.set(this, untrack(() => this.#behaviorType));\n                    unsubEvents();\n                    unsubEvents = this.#addEventListeners();\n                });\n            }\n            return () => {\n                cleanup();\n            };\n        });\n        onDestroyEffect(() => {\n            this.#resetState.destroy();\n            globalThis.bitsDismissableLayers.delete(this);\n            this.#handleInteractOutside.destroy();\n            this.#unsubClickListener();\n            unsubEvents();\n        });\n    }\n    #handleFocus = (event) => {\n        if (event.defaultPrevented)\n            return;\n        if (!this.currNode)\n            return;\n        afterTick(() => {\n            if (!this.currNode || this.#isTargetWithinLayer(event.target))\n                return;\n            if (event.target && !this.#isFocusInsideDOMTree) {\n                this.#onFocusOutside.current?.(event);\n            }\n        });\n    };\n    #addEventListeners() {\n        return executeCallbacks(\n        /**\n         * CAPTURE INTERACTION START\n         * mark interaction-start event as intercepted.\n         * mark responsible layer during interaction start\n         * to avoid checking if is responsible layer during interaction end\n         * when a new floating element may have been opened.\n         */\n        addEventListener(this.#documentObj, \"pointerdown\", executeCallbacks(this.#markInterceptedEvent, this.#markResponsibleLayer), true), \n        /**\n         * BUBBLE INTERACTION START\n         * Mark interaction-start event as non-intercepted. Debounce `onInteractOutsideStart`\n         * to avoid prematurely checking if other events were intercepted.\n         */\n        addEventListener(this.#documentObj, \"pointerdown\", executeCallbacks(this.#markNonInterceptedEvent, this.#handleInteractOutside)), \n        /**\n         * HANDLE FOCUS OUTSIDE\n         */\n        addEventListener(this.#documentObj, \"focusin\", this.#handleFocus));\n    }\n    #handleDismiss = (e) => {\n        let event = e;\n        if (event.defaultPrevented) {\n            event = createWrappedEvent(e);\n        }\n        this.#interactOutsideProp.current(e);\n    };\n    #handleInteractOutside = debounce((e) => {\n        if (!this.currNode) {\n            this.#unsubClickListener();\n            return;\n        }\n        const isEventValid = this.#isValidEventProp.current(e, this.currNode) || isValidEvent(e, this.currNode);\n        if (!this.#isResponsibleLayer || this.#isAnyEventIntercepted() || !isEventValid) {\n            this.#unsubClickListener();\n            return;\n        }\n        let event = e;\n        if (event.defaultPrevented) {\n            event = createWrappedEvent(event);\n        }\n        if (this.#behaviorType.current !== \"close\" &&\n            this.#behaviorType.current !== \"defer-otherwise-close\") {\n            this.#unsubClickListener();\n            return;\n        }\n        if (e.pointerType === \"touch\") {\n            this.#unsubClickListener();\n            // @ts-expect-error - later\n            this.#unsubClickListener = addEventListener(this.#documentObj, \"click\", this.#handleDismiss, { once: true });\n        }\n        else {\n            this.#interactOutsideProp.current(event);\n        }\n    }, 10);\n    #markInterceptedEvent = (e) => {\n        this.#interceptedEvents[e.type] = true;\n    };\n    #markNonInterceptedEvent = (e) => {\n        this.#interceptedEvents[e.type] = false;\n    };\n    #markResponsibleLayer = () => {\n        if (!this.node.current)\n            return;\n        this.#isResponsibleLayer = isResponsibleLayer(this.node.current);\n    };\n    #isTargetWithinLayer = (target) => {\n        if (!this.node.current)\n            return false;\n        return isOrContainsTarget(this.node.current, target);\n    };\n    #resetState = debounce(() => {\n        for (const eventType in this.#interceptedEvents) {\n            this.#interceptedEvents[eventType] = false;\n        }\n        this.#isResponsibleLayer = false;\n    }, 20);\n    #isAnyEventIntercepted() {\n        const i = Object.values(this.#interceptedEvents).some(Boolean);\n        return i;\n    }\n    #onfocuscapture = () => {\n        this.#isFocusInsideDOMTree = true;\n    };\n    #onblurcapture = () => {\n        this.#isFocusInsideDOMTree = false;\n    };\n    props = {\n        onfocuscapture: this.#onfocuscapture,\n        onblurcapture: this.#onblurcapture,\n    };\n}\nexport function useDismissibleLayer(props) {\n    return new DismissibleLayerState(props);\n}\nfunction getTopMostLayer(layersArr) {\n    return layersArr.findLast(([_, { current: behaviorType }]) => behaviorType === \"close\" || behaviorType === \"ignore\");\n}\nfunction isResponsibleLayer(node) {\n    const layersArr = [...globalThis.bitsDismissableLayers];\n    /**\n     * We first check if we can find a top layer with `close` or `ignore`.\n     * If that top layer was found and matches the provided node, then the node is\n     * responsible for the outside interaction. Otherwise, we know that all layers defer so\n     * the first layer is the responsible one.\n     */\n    const topMostLayer = getTopMostLayer(layersArr);\n    if (topMostLayer)\n        return topMostLayer[0].node.current === node;\n    const [firstLayerNode] = layersArr[0];\n    return firstLayerNode.node.current === node;\n}\nfunction isValidEvent(e, node) {\n    if (\"button\" in e && e.button > 0)\n        return false;\n    const target = e.target;\n    if (!isElement(target))\n        return false;\n    const ownerDocument = getOwnerDocument(target);\n    const isValid = ownerDocument.documentElement.contains(target) && !isOrContainsTarget(node, target);\n    return isValid;\n}\nfunction createWrappedEvent(e) {\n    const capturedCurrentTarget = e.currentTarget;\n    const capturedTarget = e.target;\n    let newEvent;\n    if (e instanceof PointerEvent) {\n        newEvent = new PointerEvent(e.type, e);\n    }\n    else {\n        newEvent = new PointerEvent(\"pointerdown\", e);\n    }\n    // track the prevented state separately\n    let isPrevented = false;\n    // Create a proxy to intercept property access and method calls\n    const wrappedEvent = new Proxy(newEvent, {\n        get: (target, prop) => {\n            if (prop === \"currentTarget\") {\n                return capturedCurrentTarget;\n            }\n            if (prop === \"target\") {\n                return capturedTarget;\n            }\n            if (prop === \"preventDefault\") {\n                return () => {\n                    isPrevented = true;\n                    if (typeof target.preventDefault === \"function\") {\n                        target.preventDefault();\n                    }\n                };\n            }\n            if (prop === \"defaultPrevented\") {\n                return isPrevented;\n            }\n            if (prop in target) {\n                // eslint-disable-next-line ts/no-explicit-any\n                return target[prop];\n            }\n            // eslint-disable-next-line ts/no-explicit-any\n            return e[prop];\n        },\n    });\n    return wrappedEvent;\n}\n","<script lang=\"ts\">\n\timport { box } from \"svelte-toolbelt\";\n\timport type { DismissibleLayerImplProps } from \"./types.js\";\n\timport { useDismissibleLayer } from \"./useDismissibleLayer.svelte.js\";\n\timport { noop } from \"../../../internal/noop.js\";\n\n\tlet {\n\t\tinteractOutsideBehavior = \"close\",\n\t\tonInteractOutside = noop,\n\t\tonFocusOutside = noop,\n\t\tid,\n\t\tchildren,\n\t\tenabled,\n\t\tisValidEvent = () => false,\n\t}: DismissibleLayerImplProps = $props();\n\n\tconst dismissibleLayerState = useDismissibleLayer({\n\t\tid: box.with(() => id),\n\t\tinteractOutsideBehavior: box.with(() => interactOutsideBehavior),\n\t\tonInteractOutside: box.with(() => onInteractOutside),\n\t\tenabled: box.with(() => enabled),\n\t\tonFocusOutside: box.with(() => onFocusOutside),\n\t\tisValidEvent: box.with(() => isValidEvent),\n\t});\n</script>\n\n{@render children?.({ props: dismissibleLayerState.props })}\n","import { untrack } from \"svelte\";\nimport { addEventListener } from \"../../../internal/events.js\";\nimport { kbd } from \"../../../internal/kbd.js\";\nimport { noop } from \"../../../internal/noop.js\";\nglobalThis.bitsEscapeLayers ??= new Map();\nexport class EscapeLayerState {\n    #onEscapeProp;\n    #behaviorType;\n    #enabled;\n    constructor(props) {\n        this.#behaviorType = props.escapeKeydownBehavior;\n        this.#onEscapeProp = props.onEscapeKeydown;\n        this.#enabled = props.enabled;\n        let unsubEvents = noop;\n        $effect(() => {\n            if (this.#enabled.current) {\n                globalThis.bitsEscapeLayers.set(this, untrack(() => this.#behaviorType));\n                unsubEvents = this.#addEventListener();\n            }\n            return () => {\n                unsubEvents();\n                globalThis.bitsEscapeLayers.delete(this);\n            };\n        });\n    }\n    #addEventListener = () => {\n        return addEventListener(document, \"keydown\", this.#onkeydown, { passive: false });\n    };\n    #onkeydown = (e) => {\n        if (e.key !== kbd.ESCAPE || !isResponsibleEscapeLayer(this))\n            return;\n        const clonedEvent = new KeyboardEvent(e.type, e);\n        e.preventDefault();\n        const behaviorType = this.#behaviorType.current;\n        if (behaviorType !== \"close\" && behaviorType !== \"defer-otherwise-close\")\n            return;\n        this.#onEscapeProp.current(clonedEvent);\n    };\n}\nexport function useEscapeLayer(props) {\n    return new EscapeLayerState(props);\n}\nfunction isResponsibleEscapeLayer(instance) {\n    const layersArr = [...globalThis.bitsEscapeLayers];\n    /**\n     * We first check if we can find a top layer with `close` or `ignore`.\n     * If that top layer was found and matches the provided node, then the node is\n     * responsible for the escape. Otherwise, we know that all layers defer so\n     * the first layer is the responsible one.\n     */\n    const topMostLayer = layersArr.findLast(([_, { current: behaviorType }]) => behaviorType === \"close\" || behaviorType === \"ignore\");\n    if (topMostLayer)\n        return topMostLayer[0] === instance;\n    const [firstLayerNode] = layersArr[0];\n    return firstLayerNode === instance;\n}\n","<script lang=\"ts\">\n\timport { box } from \"svelte-toolbelt\";\n\timport type { EscapeLayerImplProps } from \"./types.js\";\n\timport { useEscapeLayer } from \"./useEscapeLayer.svelte.js\";\n\timport { noop } from \"../../../internal/noop.js\";\n\n\tlet {\n\t\tescapeKeydownBehavior = \"close\",\n\t\tonEscapeKeydown = noop,\n\t\tchildren,\n\t\tenabled,\n\t}: EscapeLayerImplProps = $props();\n\n\tuseEscapeLayer({\n\t\tescapeKeydownBehavior: box.with(() => escapeKeydownBehavior),\n\t\tonEscapeKeydown: box.with(() => onEscapeKeydown),\n\t\tenabled: box.with(() => enabled),\n\t});\n</script>\n\n{@render children?.()}\n","import { box } from \"svelte-toolbelt\";\nimport { useId } from \"../../../internal/use-id.js\";\nconst focusStack = box([]);\nexport function createFocusScopeStack() {\n    const stack = focusStack;\n    return {\n        add(focusScope) {\n            // pause the currently active focus scope (top of the stack)\n            const activeFocusScope = stack.current[0];\n            if (focusScope.id !== activeFocusScope?.id) {\n                activeFocusScope?.pause();\n            }\n            // remove in case it already exists because it'll be added to the top\n            stack.current = removeFromFocusScopeArray(stack.current, focusScope);\n            stack.current.unshift(focusScope);\n        },\n        remove(focusScope) {\n            stack.current = removeFromFocusScopeArray(stack.current, focusScope);\n            stack.current[0]?.resume();\n        },\n    };\n}\nexport function createFocusScopeAPI() {\n    let paused = $state(false);\n    return {\n        id: useId(),\n        get paused() {\n            return paused;\n        },\n        pause() {\n            paused = true;\n        },\n        resume() {\n            paused = false;\n        },\n    };\n}\nfunction removeFromFocusScopeArray(arr, item) {\n    return [...arr].filter((i) => i.id !== item.id);\n}\nexport function removeLinks(items) {\n    return items.filter((item) => item.tagName !== \"A\");\n}\n","import { isBrowser, isElementHidden, isSelectableInput } from \"./is.js\";\n/**\n * Handles `initialFocus` prop behavior for the\n * Calendar & RangeCalendar components.\n */\nexport function handleCalendarInitialFocus(calendar) {\n    if (!isBrowser)\n        return;\n    const selectedDay = calendar.querySelector(\"[data-selected]\");\n    if (selectedDay)\n        return focusWithoutScroll(selectedDay);\n    const today = calendar.querySelector(\"[data-today]\");\n    if (today)\n        return focusWithoutScroll(today);\n    const firstDay = calendar.querySelector(\"[data-calendar-date]\");\n    if (firstDay)\n        return focusWithoutScroll(firstDay);\n}\n/**\n * A utility function that focuses an element without scrolling.\n */\nexport function focusWithoutScroll(element) {\n    const scrollPosition = {\n        x: window.pageXOffset || document.documentElement.scrollLeft,\n        y: window.pageYOffset || document.documentElement.scrollTop,\n    };\n    element.focus();\n    window.scrollTo(scrollPosition.x, scrollPosition.y);\n}\n/**\n * A utility function that focuses an element.\n */\nexport function focus(element, { select = false } = {}) {\n    if (!(element && element.focus))\n        return;\n    const previouslyFocusedElement = document.activeElement;\n    // prevent scroll on focus\n    element.focus({ preventScroll: true });\n    // only elect if its not the same element, it supports selection, and we need to select it\n    if (element !== previouslyFocusedElement && isSelectableInput(element) && select) {\n        element.select();\n    }\n}\n/**\n * Attempts to focus the first element in a list of candidates.\n * Stops when focus is successful.\n */\nexport function focusFirst(candidates, { select = false } = {}) {\n    const previouslyFocusedElement = document.activeElement;\n    for (const candidate of candidates) {\n        focus(candidate, { select });\n        if (document.activeElement !== previouslyFocusedElement) {\n            return true;\n        }\n    }\n}\n/**\n * Returns the first visible element in a list.\n * NOTE: Only checks visibility up to the `container`.\n */\nexport function findVisible(elements, container) {\n    for (const element of elements) {\n        // we stop checking if it's hidden at the `container` level (excluding)\n        if (!isElementHidden(element, container))\n            return element;\n    }\n}\n/**\n * Returns a list of potential tabbable candidates.\n *\n * NOTE: This is only a close approximation. For example it doesn't take into account cases like when\n * elements are not visible. This cannot be worked out easily by just reading a property, but rather\n * necessitate runtime knowledge (computed styles, etc). We deal with these cases separately.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n * Credit: https://github.com/discord/focus-layers/blob/master/src/util/wrapFocus.tsx#L1\n */\nexport function getTabbableCandidates(container) {\n    const nodes = [];\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n        // eslint-disable-next-line ts/no-explicit-any\n        acceptNode: (node) => {\n            const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n            if (node.disabled || node.hidden || isHiddenInput)\n                return NodeFilter.FILTER_SKIP;\n            // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n            // runtime's understanding of tabbability, so this automatically accounts\n            // for any kind of element that could be tabbed to.\n            return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n        },\n    });\n    while (walker.nextNode())\n        nodes.push(walker.currentNode);\n    // we do not take into account the order of nodes with positive `tabIndex` as it\n    // hinders accessibility to have tab order different from visual order.\n    return nodes;\n}\n/**\n * A utility function that returns the first and last elements within a container that are\n * visible and focusable.\n */\nexport function getTabbableEdges(container) {\n    const candidates = getTabbableCandidates(container);\n    const first = findVisible(candidates, container);\n    const last = findVisible(candidates.reverse(), container);\n    return [first, last];\n}\n","import { untrack } from \"svelte\";\nimport { afterTick, box, executeCallbacks, useRefById } from \"svelte-toolbelt\";\nimport { createFocusScopeAPI, createFocusScopeStack, removeLinks, } from \"./focus-scope-stack.svelte.js\";\nimport { focus, focusFirst, getTabbableCandidates, getTabbableEdges } from \"../../../internal/focus.js\";\nimport { addEventListener } from \"../../../internal/events.js\";\nimport { isHTMLElement } from \"../../../internal/is.js\";\nimport { kbd } from \"../../../internal/kbd.js\";\nconst AUTOFOCUS_ON_MOUNT = \"focusScope.autoFocusOnMount\";\nconst AUTOFOCUS_ON_DESTROY = \"focusScope.autoFocusOnDestroy\";\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\nexport function useFocusScope({ id, loop, enabled, onOpenAutoFocus, onCloseAutoFocus, forceMount, }) {\n    const focusScopeStack = createFocusScopeStack();\n    const focusScope = createFocusScopeAPI();\n    const ref = box(null);\n    useRefById({\n        id,\n        ref,\n        deps: () => enabled.current,\n    });\n    let lastFocusedElement = $state(null);\n    $effect(() => {\n        const container = ref.current;\n        if (!container)\n            return;\n        if (!enabled.current)\n            return;\n        function handleFocusIn(event) {\n            if (focusScope.paused || !container)\n                return;\n            const target = event.target;\n            if (!isHTMLElement(target))\n                return;\n            if (container.contains(target)) {\n                lastFocusedElement = target;\n            }\n            else {\n                focus(lastFocusedElement, { select: true });\n            }\n        }\n        function handleFocusOut(event) {\n            if (focusScope.paused || !container)\n                return;\n            const relatedTarget = event.relatedTarget;\n            if (!isHTMLElement(relatedTarget))\n                return;\n            // A `focusout` event with a `null` `relatedTarget` will happen in at least two cases:\n            //\n            // 1. When the user switches app/tabs/windows/the browser itself loses focus.\n            // 2. In Google Chrome, when the focused element is removed from the DOM.\n            //\n            // We let the browser do its thing here because:\n            //\n            // 1. The browser already keeps a memory of what's focused for when the\n            // page gets refocused.\n            // 2. In Google Chrome, if we try to focus the deleted focused element it throws\n            // the CPU to 100%, so we avoid doing anything for this reason here too.\n            if (relatedTarget === null)\n                return;\n            // If the focus has moved to an actual legitimate element (`relatedTarget !== null`)\n            // that is outside the container, we move focus to the last valid focused element inside.\n            if (!container.contains(relatedTarget))\n                focus(lastFocusedElement, { select: true });\n        }\n        // When the focused element gets removed from the DOM, browsers move focus\n        // back to the document.body. In this case, we move focus to the container\n        // to keep focus trapped correctly.\n        // instead of leaning on document.activeElement, we use lastFocusedElement to check\n        // if the element still exists inside the container,\n        // if not then we focus to the container\n        function handleMutations(_) {\n            const lastFocusedElementExists = container?.contains(lastFocusedElement);\n            if (!lastFocusedElementExists) {\n                focus(container);\n            }\n        }\n        return untrack(() => {\n            const unsubEvents = executeCallbacks(addEventListener(document, \"focusin\", handleFocusIn), addEventListener(document, \"focusout\", handleFocusOut));\n            const mutationObserver = new MutationObserver(handleMutations);\n            mutationObserver.observe(container, { childList: true, subtree: true });\n            return () => {\n                unsubEvents();\n                mutationObserver.disconnect();\n            };\n        });\n    });\n    $effect(() => {\n        if (forceMount.current)\n            return;\n        let container = ref.current;\n        const previouslyFocusedElement = document.activeElement;\n        untrack(() => {\n            handleMount(container, previouslyFocusedElement);\n        });\n        return () => {\n            if (!container)\n                return;\n            handleDestroy(previouslyFocusedElement);\n        };\n    });\n    $effect(() => {\n        if (!forceMount.current)\n            return;\n        enabled.current;\n        const container = ref.current;\n        const previouslyFocusedElement = document.activeElement;\n        untrack(() => {\n            handleMount(container, previouslyFocusedElement);\n        });\n        return () => {\n            if (!container)\n                return;\n            handleDestroy(previouslyFocusedElement);\n        };\n    });\n    function handleMount(container, prevFocusedElement) {\n        if (!container)\n            container = document.getElementById(id.current);\n        if (!container)\n            return;\n        focusScopeStack.add(focusScope);\n        const hasFocusedCandidate = container.contains(prevFocusedElement);\n        if (!hasFocusedCandidate) {\n            const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS);\n            onOpenAutoFocus.current(mountEvent);\n            if (!mountEvent.defaultPrevented) {\n                afterTick(() => {\n                    if (!container)\n                        return;\n                    focusFirst(removeLinks(getTabbableCandidates(container)), { select: true });\n                    if (document.activeElement === prevFocusedElement) {\n                        focus(container);\n                    }\n                });\n            }\n        }\n    }\n    function handleDestroy(prevFocusedElement) {\n        const destroyEvent = new CustomEvent(AUTOFOCUS_ON_DESTROY, EVENT_OPTIONS);\n        onCloseAutoFocus.current(destroyEvent);\n        setTimeout(() => {\n            if (!destroyEvent.defaultPrevented && prevFocusedElement) {\n                focus(prevFocusedElement ?? document.body, { select: true });\n            }\n            focusScopeStack.remove(focusScope);\n        }, 0);\n    }\n    function handleKeydown(e) {\n        if (!enabled.current)\n            return;\n        if (!loop.current && !enabled.current)\n            return;\n        if (focusScope.paused)\n            return;\n        const isTabKey = e.key === kbd.TAB && !e.ctrlKey && !e.altKey && !e.metaKey;\n        const focusedElement = document.activeElement;\n        if (!(isTabKey && focusedElement))\n            return;\n        const container = ref.current;\n        if (!container)\n            return;\n        const [first, last] = getTabbableEdges(container);\n        const hasTabbableElementsInside = first && last;\n        if (!hasTabbableElementsInside) {\n            if (focusedElement === container) {\n                e.preventDefault();\n            }\n        }\n        else {\n            if (!e.shiftKey && focusedElement === last) {\n                e.preventDefault();\n                if (loop.current)\n                    focus(first, { select: true });\n            }\n            else if (e.shiftKey && focusedElement === first) {\n                e.preventDefault();\n                if (loop.current)\n                    focus(last, { select: true });\n            }\n        }\n    }\n    const props = $derived.by(() => ({\n        id: id.current,\n        tabindex: -1,\n        onkeydown: handleKeydown,\n    }));\n    return {\n        get props() {\n            return props;\n        },\n    };\n}\n","<script lang=\"ts\">\n\timport { box } from \"svelte-toolbelt\";\n\timport type { FocusScopeImplProps } from \"./types.js\";\n\timport { useFocusScope } from \"./useFocusScope.svelte.js\";\n\timport { noop } from \"../../../internal/noop.js\";\n\n\tlet {\n\t\tid,\n\t\ttrapFocus = false,\n\t\tloop = false,\n\t\tonCloseAutoFocus = noop,\n\t\tonOpenAutoFocus = noop,\n\t\tfocusScope,\n\t\tforceMount = false,\n\t}: FocusScopeImplProps = $props();\n\n\tconst focusScopeState = useFocusScope({\n\t\tenabled: box.with(() => trapFocus),\n\t\tloop: box.with(() => loop),\n\t\tonCloseAutoFocus: box.with(() => onCloseAutoFocus),\n\t\tonOpenAutoFocus: box.with(() => onOpenAutoFocus),\n\t\tid: box.with(() => id),\n\t\tforceMount: box.with(() => forceMount),\n\t});\n</script>\n\n{@render focusScope?.({ props: focusScopeState.props })}\n","import { untrack } from \"svelte\";\nimport { box, composeHandlers, executeCallbacks, useRefById, } from \"svelte-toolbelt\";\nimport { addEventListener } from \"../../../internal/events.js\";\nimport { noop } from \"../../../internal/noop.js\";\nimport { isHTMLElement } from \"../../../internal/is.js\";\nimport { isOrContainsTarget } from \"../../../internal/elements.js\";\nglobalThis.bitsTextSelectionLayers ??= new Map();\nexport class TextSelectionLayerState {\n    #id;\n    #onPointerDownProp;\n    #onPointerUpProp;\n    #enabled;\n    #unsubSelectionLock = noop;\n    #ref = box(null);\n    constructor(props) {\n        this.#id = props.id;\n        this.#enabled = props.preventOverflowTextSelection;\n        this.#onPointerDownProp = props.onPointerDown;\n        this.#onPointerUpProp = props.onPointerUp;\n        useRefById({\n            id: this.#id,\n            ref: this.#ref,\n            deps: () => this.#enabled.current,\n        });\n        let unsubEvents = noop;\n        $effect(() => {\n            if (this.#enabled.current) {\n                globalThis.bitsTextSelectionLayers.set(this, untrack(() => this.#enabled));\n                unsubEvents = this.#addEventListeners();\n            }\n            return () => {\n                unsubEvents();\n                this.#resetSelectionLock();\n                globalThis.bitsTextSelectionLayers.delete(this);\n            };\n        });\n    }\n    #addEventListeners() {\n        return executeCallbacks(addEventListener(document, \"pointerdown\", this.#pointerdown), addEventListener(document, \"pointerup\", composeHandlers(this.#resetSelectionLock, this.#onPointerUpProp)));\n    }\n    #pointerdown = (e) => {\n        const node = this.#ref.current;\n        const target = e.target;\n        if (!isHTMLElement(node) || !isHTMLElement(target) || !this.#enabled.current)\n            return;\n        /**\n         * We only lock user-selection overflow if layer is the top most layer and\n         * pointerdown occurred inside the node. You are still allowed to select text\n         * outside the node provided pointerdown occurs outside the node.\n         */\n        if (!isHighestLayer(this) || !isOrContainsTarget(node, target))\n            return;\n        this.#onPointerDownProp.current(e);\n        if (e.defaultPrevented)\n            return;\n        this.#unsubSelectionLock = preventTextSelectionOverflow(node);\n    };\n    #resetSelectionLock = () => {\n        this.#unsubSelectionLock();\n        this.#unsubSelectionLock = noop;\n    };\n}\nexport function useTextSelectionLayer(props) {\n    return new TextSelectionLayerState(props);\n}\nconst getUserSelect = (node) => node.style.userSelect || node.style.webkitUserSelect;\nfunction preventTextSelectionOverflow(node) {\n    const body = document.body;\n    const originalBodyUserSelect = getUserSelect(body);\n    const originalNodeUserSelect = getUserSelect(node);\n    setUserSelect(body, \"none\");\n    setUserSelect(node, \"text\");\n    return () => {\n        setUserSelect(body, originalBodyUserSelect);\n        setUserSelect(node, originalNodeUserSelect);\n    };\n}\nfunction setUserSelect(node, value) {\n    node.style.userSelect = value;\n    node.style.webkitUserSelect = value;\n}\nfunction isHighestLayer(instance) {\n    const layersArr = [...globalThis.bitsTextSelectionLayers];\n    if (!layersArr.length)\n        return false;\n    const highestLayer = layersArr.at(-1);\n    if (!highestLayer)\n        return false;\n    return highestLayer[0] === instance;\n}\n","<script lang=\"ts\">\n\timport { box } from \"svelte-toolbelt\";\n\timport type { TextSelectionLayerImplProps } from \"./types.js\";\n\timport { useTextSelectionLayer } from \"./useTextSelectionLayer.svelte.js\";\n\timport { noop } from \"../../../internal/noop.js\";\n\n\tlet {\n\t\tpreventOverflowTextSelection = true,\n\t\tonPointerDown = noop,\n\t\tonPointerUp = noop,\n\t\tid,\n\t\tchildren,\n\t\tenabled,\n\t}: TextSelectionLayerImplProps = $props();\n\n\tuseTextSelectionLayer({\n\t\tid: box.with(() => id),\n\t\tpreventOverflowTextSelection: box.with(() => preventOverflowTextSelection),\n\t\tonPointerDown: box.with(() => onPointerDown),\n\t\tonPointerUp: box.with(() => onPointerUp),\n\t\tenabled: box.with(() => enabled),\n\t});\n</script>\n\n{@render children?.()}\n","export function createSharedHook(factory) {\n    let subscribers = 0;\n    let state = $state();\n    let scope;\n    function dispose() {\n        subscribers -= 1;\n        if (scope && subscribers <= 0) {\n            scope();\n            state = undefined;\n            scope = undefined;\n        }\n    }\n    return ((...args) => {\n        subscribers += 1;\n        if (state === undefined) {\n            scope = $effect.root(() => {\n                state = factory(...args);\n            });\n        }\n        $effect(() => {\n            return () => {\n                dispose();\n            };\n        });\n        return state;\n    });\n}\n","import { SvelteMap } from \"svelte/reactivity\";\nimport { afterSleep, afterTick, box } from \"svelte-toolbelt\";\nimport { untrack } from \"svelte\";\nimport { isBrowser, isIOS } from \"./is.js\";\nimport { addEventListener } from \"./events.js\";\nimport { useId } from \"./use-id.js\";\nimport { createSharedHook } from \"./create-shared-hook.svelte.js\";\nconst useBodyLockStackCount = createSharedHook(() => {\n    const map = new SvelteMap();\n    const locked = $derived.by(() => {\n        for (const value of map.values()) {\n            if (value) {\n                return true;\n            }\n        }\n        return false;\n    });\n    let initialBodyStyle = $state({});\n    let stopTouchMoveListener = null;\n    function resetBodyStyle() {\n        if (!isBrowser)\n            return;\n        document.body.style.paddingRight = initialBodyStyle.paddingRight ?? \"\";\n        document.body.style.marginRight = initialBodyStyle.marginRight ?? \"\";\n        document.body.style.pointerEvents = initialBodyStyle.pointerEvents ?? \"\";\n        document.body.style.removeProperty(\"--scrollbar-width\");\n        document.body.style.overflow = initialBodyStyle.overflow ?? \"\";\n        isIOS && stopTouchMoveListener?.();\n    }\n    $effect(() => {\n        const curr = locked;\n        return untrack(() => {\n            if (!curr) {\n                return;\n            }\n            const bodyStyle = getComputedStyle(document.body);\n            initialBodyStyle.overflow = bodyStyle.overflow;\n            initialBodyStyle.paddingRight = bodyStyle.paddingRight;\n            initialBodyStyle.marginRight = bodyStyle.marginRight;\n            initialBodyStyle.pointerEvents = bodyStyle.pointerEvents;\n            // TODO: account for RTL direction, etc.\n            const verticalScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n            const paddingRight = Number.parseInt(initialBodyStyle.paddingRight ?? \"0\", 10);\n            const config = {\n                padding: paddingRight + verticalScrollbarWidth,\n                margin: Number.parseInt(initialBodyStyle.marginRight ?? \"0\", 10),\n            };\n            if (verticalScrollbarWidth > 0) {\n                document.body.style.paddingRight = `${config.padding}px`;\n                document.body.style.marginRight = `${config.margin}px`;\n                document.body.style.setProperty(\"--scrollbar-width\", `${verticalScrollbarWidth}px`);\n                document.body.style.overflow = \"hidden\";\n            }\n            if (isIOS) {\n                stopTouchMoveListener = addEventListener(document, \"touchmove\", (e) => {\n                    if (e.target !== document.documentElement)\n                        return;\n                    if (e.touches.length > 1)\n                        return;\n                    e.preventDefault();\n                }, { passive: false });\n            }\n            afterTick(() => {\n                document.body.style.pointerEvents = \"none\";\n                document.body.style.overflow = \"hidden\";\n            });\n        });\n    });\n    $effect(() => {\n        return () => {\n            stopTouchMoveListener?.();\n        };\n    });\n    return {\n        get map() {\n            return map;\n        },\n        resetBodyStyle,\n    };\n});\nexport function useBodyScrollLock(initialState, restoreScrollDelay = () => null) {\n    const id = useId();\n    const countState = useBodyLockStackCount();\n    const _restoreScrollDelay = $derived(restoreScrollDelay());\n    countState.map.set(id, initialState ?? false);\n    const locked = box.with(() => countState.map.get(id) ?? false, (v) => countState.map.set(id, v));\n    $effect(() => {\n        return () => {\n            countState.map.delete(id);\n            // if any locks are still active, we don't reset the body style\n            if (isAnyLocked(countState.map))\n                return;\n            // if no locks are active (meaning this was the last lock), we reset the body style\n            if (_restoreScrollDelay === null) {\n                requestAnimationFrame(() => countState.resetBodyStyle());\n            }\n            else {\n                afterSleep(_restoreScrollDelay, () => countState.resetBodyStyle());\n            }\n        };\n    });\n    return locked;\n}\nfunction isAnyLocked(map) {\n    for (const [_, value] of map) {\n        if (value)\n            return true;\n    }\n    return false;\n}\n","<script lang=\"ts\">\n\timport type { ScrollLockProps } from \"./index.js\";\n\timport { useBodyScrollLock } from \"../../../internal/use-body-scroll-lock.svelte.js\";\n\n\tlet { preventScroll = true, restoreScrollDelay = null }: ScrollLockProps = $props();\n\n\tuseBodyScrollLock(preventScroll, () => restoreScrollDelay);\n</script>\n","export function get(valueOrGetValue) {\n    return typeof valueOrGetValue === \"function\"\n        ? valueOrGetValue()\n        : valueOrGetValue;\n}\nexport function getDPR(element) {\n    if (typeof window === \"undefined\")\n        return 1;\n    const win = element.ownerDocument.defaultView || window;\n    return win.devicePixelRatio || 1;\n}\nexport function roundByDPR(element, value) {\n    const dpr = getDPR(element);\n    return Math.round(value * dpr) / dpr;\n}\nexport function getFloatingContentCSSVars(name) {\n    return {\n        [`--bits-${name}-content-transform-origin`]: `var(--bits-floating-transform-origin)`,\n        [`--bits-${name}-content-available-width`]: `var(--bits-floating-available-width)`,\n        [`--bits-${name}-content-available-height`]: `var(--bits-floating-available-height)`,\n        [`--bits-${name}-anchor-width`]: `var(--bits-floating-anchor-width)`,\n        [`--bits-${name}-anchor-height`]: `var(--bits-floating-anchor-height)`,\n    };\n}\n","import { computePosition } from \"@floating-ui/dom\";\nimport { box } from \"svelte-toolbelt\";\nimport { get, getDPR, roundByDPR } from \"./floating-utils.svelte.js\";\nexport function useFloating(options) {\n    /** Options */\n    const whileElementsMountedOption = options.whileElementsMounted;\n    const openOption = $derived(get(options.open) ?? true);\n    const middlewareOption = $derived(get(options.middleware));\n    const transformOption = $derived(get(options.transform) ?? true);\n    const placementOption = $derived(get(options.placement) ?? \"bottom\");\n    const strategyOption = $derived(get(options.strategy) ?? \"absolute\");\n    const reference = options.reference;\n    /** State */\n    let x = $state(0);\n    let y = $state(0);\n    const floating = box(null);\n    let strategy = $state(strategyOption);\n    let placement = $state(placementOption);\n    let middlewareData = $state({});\n    let isPositioned = $state(false);\n    const floatingStyles = $derived.by(() => {\n        const initialStyles = {\n            position: strategy,\n            left: \"0\",\n            top: \"0\",\n        };\n        if (!floating.current) {\n            return initialStyles;\n        }\n        const xVal = roundByDPR(floating.current, x);\n        const yVal = roundByDPR(floating.current, y);\n        if (transformOption) {\n            return {\n                ...initialStyles,\n                transform: `translate(${xVal}px, ${yVal}px)`,\n                ...(getDPR(floating.current) >= 1.5 && {\n                    willChange: \"transform\",\n                }),\n            };\n        }\n        return {\n            position: strategy,\n            left: `${xVal}px`,\n            top: `${yVal}px`,\n        };\n    });\n    /** Effects */\n    let whileElementsMountedCleanup;\n    function update() {\n        if (reference.current === null || floating.current === null)\n            return;\n        computePosition(reference.current, floating.current, {\n            middleware: middlewareOption,\n            placement: placementOption,\n            strategy: strategyOption,\n        }).then((position) => {\n            x = position.x;\n            y = position.y;\n            strategy = position.strategy;\n            placement = position.placement;\n            middlewareData = position.middlewareData;\n            isPositioned = true;\n        });\n    }\n    function cleanup() {\n        if (typeof whileElementsMountedCleanup === \"function\") {\n            whileElementsMountedCleanup();\n            whileElementsMountedCleanup = undefined;\n        }\n    }\n    function attach() {\n        cleanup();\n        if (whileElementsMountedOption === undefined) {\n            update();\n            return;\n        }\n        if (reference.current === null || floating.current === null)\n            return;\n        whileElementsMountedCleanup = whileElementsMountedOption(reference.current, floating.current, update);\n    }\n    function reset() {\n        if (!openOption) {\n            isPositioned = false;\n        }\n    }\n    $effect(update);\n    $effect(attach);\n    $effect(reset);\n    $effect(() => cleanup);\n    return {\n        floating,\n        reference,\n        get strategy() {\n            return strategy;\n        },\n        get placement() {\n            return placement;\n        },\n        get middlewareData() {\n            return middlewareData;\n        },\n        get isPositioned() {\n            return isPositioned;\n        },\n        get floatingStyles() {\n            return floatingStyles;\n        },\n        get update() {\n            return update;\n        },\n    };\n}\n","import { untrack } from \"svelte\";\nimport { arrow, autoUpdate, flip, hide, limitShift, offset, shift, size, } from \"@floating-ui/dom\";\nimport { box, cssToStyleObj, styleToString, useRefById } from \"svelte-toolbelt\";\nimport { ElementSize } from \"runed\";\nimport { isNotNull } from \"../../../internal/is.js\";\nimport { useId } from \"../../../internal/use-id.js\";\nimport { useFloating } from \"../../../internal/floating-svelte/use-floating.svelte.js\";\nimport { createContext } from \"../../../internal/create-context.js\";\nexport const SIDE_OPTIONS = [\"top\", \"right\", \"bottom\", \"left\"];\nexport const ALIGN_OPTIONS = [\"start\", \"center\", \"end\"];\nconst OPPOSITE_SIDE = {\n    top: \"bottom\",\n    right: \"left\",\n    bottom: \"top\",\n    left: \"right\",\n};\nclass FloatingRootState {\n    anchorNode = box(null);\n    customAnchorNode = box(null);\n    triggerNode = box(null);\n    constructor() {\n        $effect(() => {\n            if (this.customAnchorNode.current) {\n                if (typeof this.customAnchorNode.current === \"string\") {\n                    this.anchorNode.current = document.querySelector(this.customAnchorNode.current);\n                }\n                else {\n                    this.anchorNode.current = this.customAnchorNode.current;\n                }\n            }\n            else {\n                this.anchorNode.current = this.triggerNode.current;\n            }\n        });\n    }\n}\nclass FloatingContentState {\n    // state\n    root;\n    // nodes\n    contentRef = box(null);\n    wrapperRef = box(null);\n    arrowRef = box(null);\n    // ids\n    arrowId = box(useId());\n    id;\n    wrapperId;\n    style;\n    #transformedStyle = $derived.by(() => {\n        if (typeof this.style === \"string\")\n            return cssToStyleObj(this.style);\n        if (!this.style)\n            return {};\n    });\n    #dir;\n    #side;\n    #sideOffset;\n    #align;\n    #alignOffset;\n    #arrowPadding;\n    #avoidCollisions;\n    #collisionBoundary;\n    #collisionPadding;\n    #sticky;\n    #hideWhenDetached;\n    #strategy;\n    #updatePositionStrategy = undefined;\n    onPlaced;\n    enabled;\n    #arrowSize = new ElementSize(() => this.arrowRef.current ?? undefined);\n    #arrowWidth = $derived(this.#arrowSize?.width ?? 0);\n    #arrowHeight = $derived(this.#arrowSize?.height ?? 0);\n    #desiredPlacement = $derived.by(() => (this.#side?.current +\n        (this.#align.current !== \"center\" ? `-${this.#align.current}` : \"\")));\n    #boundary = $derived.by(() => Array.isArray(this.#collisionBoundary.current)\n        ? this.#collisionBoundary.current\n        : [this.#collisionBoundary.current]);\n    hasExplicitBoundaries = $derived(this.#boundary.length > 0);\n    detectOverflowOptions = $derived.by(() => ({\n        padding: this.#collisionPadding.current,\n        boundary: this.#boundary.filter(isNotNull),\n        altBoundary: this.hasExplicitBoundaries,\n    }));\n    #availableWidth = $state(undefined);\n    #availableHeight = $state(undefined);\n    #anchorWidth = $state(undefined);\n    #anchorHeight = $state(undefined);\n    middleware = $derived.by(() => [\n        offset({\n            mainAxis: this.#sideOffset.current + this.#arrowHeight,\n            alignmentAxis: this.#alignOffset.current,\n        }),\n        this.#avoidCollisions.current &&\n            shift({\n                mainAxis: true,\n                crossAxis: false,\n                limiter: this.#sticky.current === \"partial\" ? limitShift() : undefined,\n                ...this.detectOverflowOptions,\n            }),\n        this.#avoidCollisions.current && flip({ ...this.detectOverflowOptions }),\n        size({\n            ...this.detectOverflowOptions,\n            apply: ({ rects, availableWidth, availableHeight }) => {\n                const { width: anchorWidth, height: anchorHeight } = rects.reference;\n                this.#availableWidth = availableWidth;\n                this.#availableHeight = availableHeight;\n                this.#anchorWidth = anchorWidth;\n                this.#anchorHeight = anchorHeight;\n            },\n        }),\n        this.arrowRef.current &&\n            arrow({ element: this.arrowRef.current, padding: this.#arrowPadding.current }),\n        transformOrigin({ arrowWidth: this.#arrowWidth, arrowHeight: this.#arrowHeight }),\n        this.#hideWhenDetached.current &&\n            hide({ strategy: \"referenceHidden\", ...this.detectOverflowOptions }),\n    ].filter(Boolean));\n    floating;\n    placedSide = $derived.by(() => getSideFromPlacement(this.floating.placement));\n    placedAlign = $derived.by(() => getAlignFromPlacement(this.floating.placement));\n    arrowX = $derived.by(() => this.floating.middlewareData.arrow?.x ?? 0);\n    arrowY = $derived.by(() => this.floating.middlewareData.arrow?.y ?? 0);\n    cannotCenterArrow = $derived.by(() => this.floating.middlewareData.arrow?.centerOffset !== 0);\n    contentZIndex = $state();\n    arrowBaseSide = $derived(OPPOSITE_SIDE[this.placedSide]);\n    wrapperProps = $derived.by(() => ({\n        id: this.wrapperId.current,\n        \"data-bits-floating-content-wrapper\": \"\",\n        style: {\n            ...this.floating.floatingStyles,\n            // keep off page when measuring\n            transform: this.floating.isPositioned\n                ? this.floating.floatingStyles.transform\n                : \"translate(0, -200%)\",\n            minWidth: \"max-content\",\n            zIndex: this.contentZIndex,\n            \"--bits-floating-transform-origin\": `${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,\n            \"--bits-floating-available-width\": `${this.#availableWidth}px`,\n            \"--bits-floating-available-height\": `${this.#availableHeight}px`,\n            \"--bits-floating-anchor-width\": `${this.#anchorWidth}px`,\n            \"--bits-floating-anchor-height\": `${this.#anchorHeight}px`,\n            // hide the content if using the hide middleware and should be hidden\n            ...(this.floating.middlewareData.hide?.referenceHidden && {\n                visibility: \"hidden\",\n                \"pointer-events\": \"none\",\n            }),\n            ...this.#transformedStyle,\n        },\n        // Floating UI calculates logical alignment based the `dir` attribute\n        dir: this.#dir.current,\n    }));\n    props = $derived.by(() => ({\n        \"data-side\": this.placedSide,\n        \"data-align\": this.placedAlign,\n        style: styleToString({\n            ...this.#transformedStyle,\n            // if the FloatingContent hasn't been placed yet (not all measurements done)\n            // we prevent animations so that users's animation don't kick in too early referring wrong sides\n            // animation: !this.floating.isPositioned ? \"none\" : undefined,\n        }),\n    }));\n    arrowStyle = $derived({\n        position: \"absolute\",\n        left: this.arrowX ? `${this.arrowX}px` : undefined,\n        top: this.arrowY ? `${this.arrowY}px` : undefined,\n        [this.arrowBaseSide]: 0,\n        \"transform-origin\": {\n            top: \"\",\n            right: \"0 0\",\n            bottom: \"center 0\",\n            left: \"100% 0\",\n        }[this.placedSide],\n        transform: {\n            top: \"translateY(100%)\",\n            right: \"translateY(50%) rotate(90deg) translateX(-50%)\",\n            bottom: \"rotate(180deg)\",\n            left: \"translateY(50%) rotate(-90deg) translateX(50%)\",\n        }[this.placedSide],\n        visibility: this.cannotCenterArrow ? \"hidden\" : undefined,\n    });\n    constructor(props, root) {\n        this.id = props.id;\n        this.#side = props.side;\n        this.#sideOffset = props.sideOffset;\n        this.#align = props.align;\n        this.#alignOffset = props.alignOffset;\n        this.#arrowPadding = props.arrowPadding;\n        this.#avoidCollisions = props.avoidCollisions;\n        this.#collisionBoundary = props.collisionBoundary;\n        this.#collisionPadding = props.collisionPadding;\n        this.#sticky = props.sticky;\n        this.#hideWhenDetached = props.hideWhenDetached;\n        this.#updatePositionStrategy = props.updatePositionStrategy;\n        this.onPlaced = props.onPlaced;\n        this.#strategy = props.strategy;\n        this.#dir = props.dir;\n        this.style = props.style;\n        this.root = root;\n        this.enabled = props.enabled;\n        this.wrapperId = props.wrapperId;\n        if (props.customAnchor) {\n            this.root.customAnchorNode.current = props.customAnchor.current;\n        }\n        $effect(() => {\n            props.customAnchor.current;\n            untrack(() => {\n                this.root.customAnchorNode.current = props.customAnchor.current;\n            });\n        });\n        useRefById({\n            id: this.wrapperId,\n            ref: this.wrapperRef,\n            deps: () => this.enabled.current,\n        });\n        useRefById({\n            id: this.id,\n            ref: this.contentRef,\n            deps: () => this.enabled.current,\n        });\n        this.floating = useFloating({\n            strategy: () => this.#strategy.current,\n            placement: () => this.#desiredPlacement,\n            middleware: () => this.middleware,\n            reference: this.root.anchorNode,\n            whileElementsMounted: (...args) => {\n                const cleanup = autoUpdate(...args, {\n                    animationFrame: this.#updatePositionStrategy?.current === \"always\",\n                });\n                return cleanup;\n            },\n            open: () => this.enabled.current,\n        });\n        $effect(() => {\n            if (!this.floating.isPositioned)\n                return;\n            this.onPlaced?.current();\n        });\n        $effect(() => {\n            const contentNode = this.contentRef.current;\n            if (!contentNode)\n                return;\n            untrack(() => {\n                this.contentZIndex = window.getComputedStyle(contentNode).zIndex;\n            });\n        });\n        $effect(() => {\n            this.floating.floating.current = this.wrapperRef.current;\n        });\n    }\n}\nclass FloatingArrowState {\n    #id;\n    #ref;\n    #content;\n    constructor(props, content) {\n        this.#content = content;\n        this.#id = props.id;\n        this.#ref = props.ref;\n        useRefById({\n            id: this.#id,\n            ref: this.#ref,\n            onRefChange: (node) => {\n                this.#content.arrowRef.current = node;\n            },\n            deps: () => this.#content.enabled.current,\n        });\n    }\n    props = $derived.by(() => ({\n        id: this.#id.current,\n        style: this.#content.arrowStyle,\n        \"data-side\": this.#content.placedSide,\n    }));\n}\nclass FloatingAnchorState {\n    ref = box(null);\n    constructor(props, root) {\n        if (props.virtualEl && props.virtualEl.current) {\n            root.triggerNode = box.from(props.virtualEl.current);\n        }\n        else {\n            useRefById({\n                id: props.id,\n                ref: this.ref,\n                onRefChange: (node) => {\n                    root.triggerNode.current = node;\n                },\n            });\n        }\n    }\n}\n//\n// CONTEXT METHODS\n//\nconst [setFloatingRootContext, getFloatingRootContext] = createContext(\"Floating.Root\");\nconst [setFloatingContentContext, getFloatingContentContext] = createContext(\"Floating.Content\");\nexport function useFloatingRootState() {\n    return setFloatingRootContext(new FloatingRootState());\n}\nexport function useFloatingContentState(props) {\n    return setFloatingContentContext(new FloatingContentState(props, getFloatingRootContext()));\n}\nexport function useFloatingArrowState(props) {\n    return new FloatingArrowState(props, getFloatingContentContext());\n}\nexport function useFloatingAnchorState(props) {\n    return new FloatingAnchorState(props, getFloatingRootContext());\n}\n//\n// HELPERS\n//\nfunction transformOrigin(options) {\n    return {\n        name: \"transformOrigin\",\n        options,\n        fn(data) {\n            const { placement, rects, middlewareData } = data;\n            const cannotCenterArrow = middlewareData.arrow?.centerOffset !== 0;\n            const isArrowHidden = cannotCenterArrow;\n            const arrowWidth = isArrowHidden ? 0 : options.arrowWidth;\n            const arrowHeight = isArrowHidden ? 0 : options.arrowHeight;\n            const [placedSide, placedAlign] = getSideAndAlignFromPlacement(placement);\n            const noArrowAlign = { start: \"0%\", center: \"50%\", end: \"100%\" }[placedAlign];\n            const arrowXCenter = (middlewareData.arrow?.x ?? 0) + arrowWidth / 2;\n            const arrowYCenter = (middlewareData.arrow?.y ?? 0) + arrowHeight / 2;\n            let x = \"\";\n            let y = \"\";\n            if (placedSide === \"bottom\") {\n                x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n                y = `${-arrowHeight}px`;\n            }\n            else if (placedSide === \"top\") {\n                x = isArrowHidden ? noArrowAlign : `${arrowXCenter}px`;\n                y = `${rects.floating.height + arrowHeight}px`;\n            }\n            else if (placedSide === \"right\") {\n                x = `${-arrowHeight}px`;\n                y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n            }\n            else if (placedSide === \"left\") {\n                x = `${rects.floating.width + arrowHeight}px`;\n                y = isArrowHidden ? noArrowAlign : `${arrowYCenter}px`;\n            }\n            return { data: { x, y } };\n        },\n    };\n}\nfunction getSideAndAlignFromPlacement(placement) {\n    const [side, align = \"center\"] = placement.split(\"-\");\n    return [side, align];\n}\nexport function getSideFromPlacement(placement) {\n    return getSideAndAlignFromPlacement(placement)[0];\n}\nexport function getAlignFromPlacement(placement) {\n    return getSideAndAlignFromPlacement(placement)[1];\n}\n","<script lang=\"ts\">\n\timport type { Snippet } from \"svelte\";\n\timport { useFloatingRootState } from \"../useFloatingLayer.svelte.js\";\n\n\tlet { children }: { children?: Snippet } = $props();\n\n\tuseFloatingRootState();\n</script>\n\n{@render children?.()}\n","import { box } from \"svelte-toolbelt\";\n/**\n * Creates a box which will be reset to the default value after some time.\n *\n * @param defaultValue The value which will be set.\n * @param afterMs      A zero-or-greater delay in milliseconds.\n */\nexport function boxAutoReset(defaultValue, afterMs = 10000) {\n    let timeout = null;\n    let value = $state(defaultValue);\n    function resetAfter() {\n        return setTimeout(() => {\n            value = defaultValue;\n        }, afterMs);\n    }\n    $effect(() => {\n        return () => {\n            if (timeout)\n                clearTimeout(timeout);\n        };\n    });\n    return box.with(() => value, (v) => {\n        value = v;\n        if (timeout)\n            clearTimeout(timeout);\n        timeout = resetAfter();\n    });\n}\n","<script lang=\"ts\">\n\timport { box } from \"svelte-toolbelt\";\n\timport { useFloatingAnchorState } from \"../useFloatingLayer.svelte.js\";\n\timport type { AnchorProps } from \"./index.js\";\n\timport type { Measurable } from \"../../../../internal/floating-svelte/types.js\";\n\n\tlet { id, children, virtualEl }: AnchorProps = $props();\n\n\tuseFloatingAnchorState({\n\t\tid: box.with(() => id),\n\t\tvirtualEl: box.with(() => virtualEl as unknown as Measurable | null),\n\t});\n</script>\n\n{@render children?.()}\n","<script lang=\"ts\">\n\timport { box, mergeProps } from \"svelte-toolbelt\";\n\timport { useFloatingContentState } from \"../useFloatingLayer.svelte.js\";\n\timport type { ContentImplProps } from \"./index.js\";\n\timport { useId } from \"../../../../internal/use-id.js\";\n\n\tlet {\n\t\tcontent,\n\t\tside = \"bottom\",\n\t\tsideOffset = 0,\n\t\talign = \"center\",\n\t\talignOffset = 0,\n\t\tid,\n\t\tarrowPadding = 0,\n\t\tavoidCollisions = true,\n\t\tcollisionBoundary = [],\n\t\tcollisionPadding = 0,\n\t\thideWhenDetached = false,\n\t\tonPlaced = () => {},\n\t\tsticky = \"partial\",\n\t\tupdatePositionStrategy = \"optimized\",\n\t\tstrategy = \"fixed\",\n\t\tdir = \"ltr\",\n\t\tstyle = {},\n\t\twrapperId = useId(),\n\t\tcustomAnchor = null,\n\t}: ContentImplProps = $props();\n\n\tconst contentState = useFloatingContentState({\n\t\tside: box.with(() => side),\n\t\tsideOffset: box.with(() => sideOffset),\n\t\talign: box.with(() => align),\n\t\talignOffset: box.with(() => alignOffset),\n\t\tid: box.with(() => id),\n\t\tarrowPadding: box.with(() => arrowPadding),\n\t\tavoidCollisions: box.with(() => avoidCollisions),\n\t\tcollisionBoundary: box.with(() => collisionBoundary),\n\t\tcollisionPadding: box.with(() => collisionPadding),\n\t\thideWhenDetached: box.with(() => hideWhenDetached),\n\t\tonPlaced: box.with(() => onPlaced),\n\t\tsticky: box.with(() => sticky),\n\t\tupdatePositionStrategy: box.with(() => updatePositionStrategy),\n\t\tstrategy: box.with(() => strategy),\n\t\tdir: box.with(() => dir),\n\t\tstyle: box.with(() => style),\n\t\tenabled: box.with(() => false),\n\t\twrapperId: box.with(() => wrapperId),\n\t\tcustomAnchor: box.with(() => customAnchor),\n\t});\n\n\tconst mergedProps = $derived(\n\t\tmergeProps(contentState.wrapperProps, {\n\t\t\tstyle: {\n\t\t\t\tpointerEvents: \"auto\",\n\t\t\t},\n\t\t})\n\t);\n</script>\n\n{@render content?.({ props: contentState.props, wrapperProps: mergedProps })}\n","<script lang=\"ts\">\n\timport { type Snippet, onMount } from \"svelte\";\n\n\tlet {\n\t\tcontent,\n\t\tonPlaced,\n\t}: {\n\t\tcontent?: Snippet<\n\t\t\t[{ props: Record<string, unknown>; wrapperProps: Record<string, unknown> }]\n\t\t>;\n\t\tonPlaced?: () => void;\n\t} = $props();\n\n\tonMount(() => {\n\t\tonPlaced?.();\n\t});\n</script>\n\n{@render content?.({ props: {}, wrapperProps: {} })}\n","<script lang=\"ts\">\n\timport FloatingLayerContentStatic from \"../floating-layer/components/floating-layer-content-static.svelte\";\n\timport FloatingLayerContent from \"../floating-layer/components/floating-layer-content.svelte\";\n\timport type { FloatingLayerContentImplProps } from \"../floating-layer/types.js\";\n\n\tlet {\n\t\tcontent,\n\t\tisStatic = false,\n\t\tonPlaced,\n\t\t...restProps\n\t}: FloatingLayerContentImplProps & { isStatic: boolean } = $props();\n</script>\n\n{#if isStatic}\n\t<FloatingLayerContentStatic {content} {onPlaced} />\n{:else}\n\t<FloatingLayerContent {content} {onPlaced} {...restProps} />\n{/if}\n","<script lang=\"ts\">\n\timport { mergeProps } from \"svelte-toolbelt\";\n\timport ScrollLock from \"../scroll-lock/scroll-lock.svelte\";\n\timport type { PopperLayerImplProps } from \"./types.js\";\n\timport PopperContent from \"./popper-content.svelte\";\n\timport EscapeLayer from \"../escape-layer/escape-layer.svelte\";\n\timport DismissibleLayer from \"../dismissible-layer/dismissible-layer.svelte\";\n\timport TextSelectionLayer from \"../text-selection-layer/text-selection-layer.svelte\";\n\timport FocusScope from \"../focus-scope/focus-scope.svelte\";\n\n\tlet {\n\t\tpopper,\n\t\tonEscapeKeydown,\n\t\tescapeKeydownBehavior,\n\t\tpreventOverflowTextSelection,\n\t\tid,\n\t\tonPointerDown,\n\t\tonPointerUp,\n\t\tside,\n\t\tsideOffset,\n\t\talign,\n\t\talignOffset,\n\t\tarrowPadding,\n\t\tavoidCollisions,\n\t\tcollisionBoundary,\n\t\tcollisionPadding,\n\t\tsticky,\n\t\thideWhenDetached,\n\t\tupdatePositionStrategy,\n\t\tstrategy,\n\t\tdir,\n\t\tpreventScroll,\n\t\twrapperId,\n\t\tstyle,\n\t\tonPlaced,\n\t\tonInteractOutside,\n\t\tonCloseAutoFocus,\n\t\tonOpenAutoFocus,\n\t\tonFocusOutside,\n\t\tinteractOutsideBehavior = \"close\",\n\t\tloop,\n\t\ttrapFocus = true,\n\t\tisValidEvent = () => false,\n\t\tcustomAnchor = null,\n\t\tisStatic = false,\n\t\tenabled,\n\t\t...restProps\n\t}: Omit<PopperLayerImplProps, \"present\" | \"children\"> & {\n\t\tenabled: boolean;\n\t} = $props();\n</script>\n\n<PopperContent\n\t{isStatic}\n\t{id}\n\t{side}\n\t{sideOffset}\n\t{align}\n\t{alignOffset}\n\t{arrowPadding}\n\t{avoidCollisions}\n\t{collisionBoundary}\n\t{collisionPadding}\n\t{sticky}\n\t{hideWhenDetached}\n\t{updatePositionStrategy}\n\t{strategy}\n\t{dir}\n\t{wrapperId}\n\t{style}\n\t{onPlaced}\n\t{customAnchor}\n>\n\t{#snippet content({ props: floatingProps, wrapperProps })}\n\t\t{#if restProps.forceMount && enabled}\n\t\t\t<ScrollLock {preventScroll} />\n\t\t{:else if !restProps.forceMount}\n\t\t\t<ScrollLock {preventScroll} />\n\t\t{/if}\n\t\t<FocusScope\n\t\t\t{id}\n\t\t\t{onOpenAutoFocus}\n\t\t\t{onCloseAutoFocus}\n\t\t\t{loop}\n\t\t\ttrapFocus={enabled && trapFocus}\n\t\t\tforceMount={restProps.forceMount}\n\t\t>\n\t\t\t{#snippet focusScope({ props: focusScopeProps })}\n\t\t\t\t<EscapeLayer {onEscapeKeydown} {escapeKeydownBehavior} {enabled}>\n\t\t\t\t\t<DismissibleLayer\n\t\t\t\t\t\t{id}\n\t\t\t\t\t\t{onInteractOutside}\n\t\t\t\t\t\t{onFocusOutside}\n\t\t\t\t\t\t{interactOutsideBehavior}\n\t\t\t\t\t\t{isValidEvent}\n\t\t\t\t\t\t{enabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t{#snippet children({ props: dismissibleProps })}\n\t\t\t\t\t\t\t<TextSelectionLayer\n\t\t\t\t\t\t\t\t{id}\n\t\t\t\t\t\t\t\t{preventOverflowTextSelection}\n\t\t\t\t\t\t\t\t{onPointerDown}\n\t\t\t\t\t\t\t\t{onPointerUp}\n\t\t\t\t\t\t\t\t{enabled}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{@render popper?.({\n\t\t\t\t\t\t\t\t\tprops: mergeProps(\n\t\t\t\t\t\t\t\t\t\trestProps,\n\t\t\t\t\t\t\t\t\t\tfloatingProps,\n\t\t\t\t\t\t\t\t\t\tdismissibleProps,\n\t\t\t\t\t\t\t\t\t\tfocusScopeProps,\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\t\tpointerEvents: \"auto\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\twrapperProps,\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</TextSelectionLayer>\n\t\t\t\t\t\t{/snippet}\n\t\t\t\t\t</DismissibleLayer>\n\t\t\t\t</EscapeLayer>\n\t\t\t{/snippet}\n\t\t</FocusScope>\n\t{/snippet}\n</PopperContent>\n","<script lang=\"ts\">\n\timport type { PopperLayerImplProps } from \"./types.js\";\n\timport PopperLayerInner from \"./popper-layer-inner.svelte\";\n\timport PresenceLayer from \"../presence-layer/presence-layer.svelte\";\n\n\tlet {\n\t\tpopper,\n\t\tpresent,\n\t\tonEscapeKeydown,\n\t\tescapeKeydownBehavior,\n\t\tpreventOverflowTextSelection,\n\t\tid,\n\t\tonPointerDown,\n\t\tonPointerUp,\n\t\tside,\n\t\tsideOffset,\n\t\talign,\n\t\talignOffset,\n\t\tarrowPadding,\n\t\tavoidCollisions,\n\t\tcollisionBoundary,\n\t\tcollisionPadding,\n\t\tsticky,\n\t\thideWhenDetached,\n\t\tupdatePositionStrategy,\n\t\tstrategy,\n\t\tdir,\n\t\tpreventScroll,\n\t\twrapperId,\n\t\tstyle,\n\t\tonPlaced,\n\t\tonInteractOutside,\n\t\tonCloseAutoFocus,\n\t\tonOpenAutoFocus,\n\t\tonFocusOutside,\n\t\tinteractOutsideBehavior = \"close\",\n\t\tloop,\n\t\ttrapFocus = true,\n\t\tisValidEvent = () => false,\n\t\tcustomAnchor = null,\n\t\tisStatic = false,\n\t\t...restProps\n\t}: PopperLayerImplProps = $props();\n</script>\n\n<PresenceLayer {id} {present} {...restProps}>\n\t{#snippet presence({ present })}\n\t\t<PopperLayerInner\n\t\t\t{popper}\n\t\t\t{onEscapeKeydown}\n\t\t\t{escapeKeydownBehavior}\n\t\t\t{preventOverflowTextSelection}\n\t\t\t{id}\n\t\t\t{onPointerDown}\n\t\t\t{onPointerUp}\n\t\t\t{side}\n\t\t\t{sideOffset}\n\t\t\t{align}\n\t\t\t{alignOffset}\n\t\t\t{arrowPadding}\n\t\t\t{avoidCollisions}\n\t\t\t{collisionBoundary}\n\t\t\t{collisionPadding}\n\t\t\t{sticky}\n\t\t\t{hideWhenDetached}\n\t\t\t{updatePositionStrategy}\n\t\t\t{strategy}\n\t\t\t{dir}\n\t\t\t{preventScroll}\n\t\t\t{wrapperId}\n\t\t\t{style}\n\t\t\t{onPlaced}\n\t\t\t{customAnchor}\n\t\t\t{isStatic}\n\t\t\tenabled={present.current}\n\t\t\t{onInteractOutside}\n\t\t\t{onCloseAutoFocus}\n\t\t\t{onOpenAutoFocus}\n\t\t\t{interactOutsideBehavior}\n\t\t\t{loop}\n\t\t\t{trapFocus}\n\t\t\t{isValidEvent}\n\t\t\t{onFocusOutside}\n\t\t\tforceMount={false}\n\t\t\t{...restProps}\n\t\t/>\n\t{/snippet}\n</PresenceLayer>\n","<script lang=\"ts\">\n\timport type { PopperLayerImplProps } from \"./types.js\";\n\timport PopperLayerInner from \"./popper-layer-inner.svelte\";\n\n\tlet {\n\t\tpopper,\n\t\tonEscapeKeydown,\n\t\tescapeKeydownBehavior,\n\t\tpreventOverflowTextSelection,\n\t\tid,\n\t\tonPointerDown,\n\t\tonPointerUp,\n\t\tside,\n\t\tsideOffset,\n\t\talign,\n\t\talignOffset,\n\t\tarrowPadding,\n\t\tavoidCollisions,\n\t\tcollisionBoundary,\n\t\tcollisionPadding,\n\t\tsticky,\n\t\thideWhenDetached,\n\t\tupdatePositionStrategy,\n\t\tstrategy,\n\t\tdir,\n\t\tpreventScroll,\n\t\twrapperId,\n\t\tstyle,\n\t\tonPlaced,\n\t\tonInteractOutside,\n\t\tonCloseAutoFocus,\n\t\tonOpenAutoFocus,\n\t\tonFocusOutside,\n\t\tinteractOutsideBehavior = \"close\",\n\t\tloop,\n\t\ttrapFocus = true,\n\t\tisValidEvent = () => false,\n\t\tcustomAnchor = null,\n\t\tisStatic = false,\n\t\tenabled,\n\t\t...restProps\n\t}: Omit<PopperLayerImplProps, \"present\"> & {\n\t\tenabled: boolean;\n\t} = $props();\n</script>\n\n<PopperLayerInner\n\t{popper}\n\t{onEscapeKeydown}\n\t{escapeKeydownBehavior}\n\t{preventOverflowTextSelection}\n\t{id}\n\t{onPointerDown}\n\t{onPointerUp}\n\t{side}\n\t{sideOffset}\n\t{align}\n\t{alignOffset}\n\t{arrowPadding}\n\t{avoidCollisions}\n\t{collisionBoundary}\n\t{collisionPadding}\n\t{sticky}\n\t{hideWhenDetached}\n\t{updatePositionStrategy}\n\t{strategy}\n\t{dir}\n\t{preventScroll}\n\t{wrapperId}\n\t{style}\n\t{onPlaced}\n\t{customAnchor}\n\t{isStatic}\n\t{enabled}\n\t{onInteractOutside}\n\t{onCloseAutoFocus}\n\t{onOpenAutoFocus}\n\t{interactOutsideBehavior}\n\t{loop}\n\t{trapFocus}\n\t{isValidEvent}\n\t{onFocusOutside}\n\t{...restProps}\n\tforceMount={true}\n/>\n","import { executeCallbacks } from \"svelte-toolbelt\";\nexport function createEventHook() {\n    const callbacks = new Set();\n    const callbacksToDispose = [];\n    function off(cb) {\n        callbacks.delete(cb);\n    }\n    function on(cb) {\n        callbacks.add(cb);\n        const offFn = () => off(cb);\n        callbacksToDispose.push(offFn);\n        return { off: offFn };\n    }\n    const trigger = (...args) => {\n        return Promise.all(Array.from(callbacks).map((cb) => {\n            return Promise.resolve(cb(...args));\n        }));\n    };\n    $effect(() => {\n        return () => {\n            executeCallbacks(callbacksToDispose);\n        };\n    });\n    return {\n        on,\n        off,\n        trigger,\n    };\n}\n","import { executeCallbacks } from \"svelte-toolbelt\";\nimport { boxAutoReset } from \"./box-auto-reset.svelte.js\";\nimport { createEventHook } from \"./create-event-hook.svelte.js\";\nimport { isElement, isHTMLElement } from \"./is.js\";\nimport { addEventListener } from \"./events.js\";\nexport function useGraceArea(getTriggerNode, getContentNode) {\n    const isPointerInTransit = boxAutoReset(false, 300);\n    const triggerNode = $derived(getTriggerNode());\n    const contentNode = $derived(getContentNode());\n    let pointerGraceArea = $state(null);\n    const pointerExit = createEventHook();\n    function handleRemoveGraceArea() {\n        pointerGraceArea = null;\n        isPointerInTransit.current = false;\n    }\n    function handleCreateGraceArea(e, hoverTarget) {\n        const currentTarget = e.currentTarget;\n        if (!isHTMLElement(currentTarget))\n            return;\n        const exitPoint = { x: e.clientX, y: e.clientY };\n        const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n        const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n        const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n        const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n        pointerGraceArea = graceArea;\n        isPointerInTransit.current = true;\n    }\n    $effect(() => {\n        if (!triggerNode || !contentNode)\n            return;\n        const handleTriggerLeave = (e) => {\n            handleCreateGraceArea(e, contentNode);\n        };\n        const handleContentLeave = (e) => {\n            handleCreateGraceArea(e, triggerNode);\n        };\n        const unsub = executeCallbacks(addEventListener(triggerNode, \"pointerleave\", handleTriggerLeave), addEventListener(contentNode, \"pointerleave\", handleContentLeave));\n        return unsub;\n    });\n    $effect(() => {\n        if (!pointerGraceArea)\n            return;\n        function handleTrackPointerGrace(e) {\n            if (!pointerGraceArea)\n                return;\n            const target = e.target;\n            if (!isElement(target))\n                return;\n            const pointerPosition = { x: e.clientX, y: e.clientY };\n            const hasEnteredTarget = triggerNode?.contains(target) || contentNode?.contains(target);\n            const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n            if (hasEnteredTarget) {\n                handleRemoveGraceArea();\n            }\n            else if (isPointerOutsideGraceArea) {\n                handleRemoveGraceArea();\n                pointerExit.trigger();\n            }\n        }\n        return addEventListener(document, \"pointermove\", handleTrackPointerGrace);\n    });\n    return {\n        isPointerInTransit,\n        onPointerExit: pointerExit.on,\n    };\n}\nfunction getExitSideFromRect(point, rect) {\n    const top = Math.abs(rect.top - point.y);\n    const bottom = Math.abs(rect.bottom - point.y);\n    const right = Math.abs(rect.right - point.x);\n    const left = Math.abs(rect.left - point.x);\n    switch (Math.min(top, bottom, right, left)) {\n        case left:\n            return \"left\";\n        case right:\n            return \"right\";\n        case top:\n            return \"top\";\n        case bottom:\n            return \"bottom\";\n        default:\n            throw new Error(\"unreachable\");\n    }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n    const paddedExitPoints = [];\n    switch (exitSide) {\n        case \"top\":\n            paddedExitPoints.push({ x: exitPoint.x - padding, y: exitPoint.y + padding }, { x: exitPoint.x + padding, y: exitPoint.y + padding });\n            break;\n        case \"bottom\":\n            paddedExitPoints.push({ x: exitPoint.x - padding, y: exitPoint.y - padding }, { x: exitPoint.x + padding, y: exitPoint.y - padding });\n            break;\n        case \"left\":\n            paddedExitPoints.push({ x: exitPoint.x + padding, y: exitPoint.y - padding }, { x: exitPoint.x + padding, y: exitPoint.y + padding });\n            break;\n        case \"right\":\n            paddedExitPoints.push({ x: exitPoint.x - padding, y: exitPoint.y - padding }, { x: exitPoint.x - padding, y: exitPoint.y + padding });\n            break;\n    }\n    return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n    const { top, right, bottom, left } = rect;\n    return [\n        { x: left, y: top },\n        { x: right, y: top },\n        { x: right, y: bottom },\n        { x: left, y: bottom },\n    ];\n}\n// Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction isPointInPolygon(point, polygon) {\n    const { x, y } = point;\n    let inside = false;\n    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n        const xi = polygon[i].x;\n        const yi = polygon[i].y;\n        const xj = polygon[j].x;\n        const yj = polygon[j].y;\n        // prettier-ignore\n        const intersect = ((yi > y) !== (yj > y)) && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect)\n            inside = !inside;\n    }\n    return inside;\n}\n// Returns a new array of points representing the convex hull of the given set of points.\n// https://www.nayuki.io/page/convex-hull-algorithm\nfunction getHull(points) {\n    const newPoints = points.slice();\n    newPoints.sort((a, b) => {\n        if (a.x < b.x)\n            return -1;\n        else if (a.x > b.x)\n            return +1;\n        else if (a.y < b.y)\n            return -1;\n        else if (a.y > b.y)\n            return +1;\n        else\n            return 0;\n    });\n    return getHullPresorted(newPoints);\n}\n// Returns the convex hull, assuming that each points[i] <= points[i + 1]. Runs in O(n) time.\nfunction getHullPresorted(points) {\n    if (points.length <= 1)\n        return points.slice();\n    const upperHull = [];\n    for (let i = 0; i < points.length; i++) {\n        const p = points[i];\n        while (upperHull.length >= 2) {\n            const q = upperHull[upperHull.length - 1];\n            const r = upperHull[upperHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x))\n                upperHull.pop();\n            else\n                break;\n        }\n        upperHull.push(p);\n    }\n    upperHull.pop();\n    const lowerHull = [];\n    for (let i = points.length - 1; i >= 0; i--) {\n        const p = points[i];\n        while (lowerHull.length >= 2) {\n            const q = lowerHull[lowerHull.length - 1];\n            const r = lowerHull[lowerHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x))\n                lowerHull.pop();\n            else\n                break;\n        }\n        lowerHull.push(p);\n    }\n    lowerHull.pop();\n    if (upperHull.length === 1 &&\n        lowerHull.length === 1 &&\n        upperHull[0].x === lowerHull[0].x &&\n        upperHull[0].y === lowerHull[0].y)\n        return upperHull;\n    else\n        return upperHull.concat(lowerHull);\n}\n"],"names":["increment","source","v","_SvelteMap","Map","constructor","value","super","__privateAdd","this","_SvelteMap_instances","_sources","_version","_size","tag","__privateGet","key","set","size","has","sources","s","get","ret","label","forEach","callbackfn","this_arg","__privateMethod","read_all_fn","call","prev_res","res","version","v_reactions","reactions","Set","needs_version_increase","_a","every","r","delete","clear","values","keys","entries","Symbol","iterator","WeakMap","WeakSet","__superGet","prototype","SvelteMap","onDestroyEffect","fn","$.user_effect","afterSleep","ms","cb","setTimeout","afterTick","tick","then","Readable","initialValue","start","_Readable_instances","$.tag","$.state","_subscribers","_stop","_current","__privateSet","_start","current","__privateWrapper","_","$.strict_equals","unsubscribe_fn","$.get","inEffect","activeElement","insideEffect","update","document","addEventListener","removeEventListener","isFunction","ElementSize","node","options","box","width","height","initialSize","_b","node$","observer","ResizeObserver","entry","boxSize","contentBoxSize","borderBoxSize","boxSizeArr","Array","isArray","reduce","acc","Math","max","inlineSize","blockSize","observe","disconnect","extract","defaultValue","getter","runEffect","flush","effect","$.user_pre_effect","runWatcher","lazy","active","previousValues","map","cleanup","untrack","watch","watchPre","pre","Previous","$.set","_previous","_curr","isBrowser","isIOS","getIsIOS","window","navigator","userAgent","test","maxTouchPoints","isHTMLElement","element","HTMLElement","isElement","Element","isElementOrSVGElement","SVGElement","isTouch","e","pointerType","isFocusVisible","matches","isNotNull","isSelectableInput","HTMLInputElement","isElementHidden","stopAt","getComputedStyle","visibility","display","parentElement","useStateMachine","initialState","machine","state","reducer","event","nextState","dispatch","usePresence","present","id","styles","$.proxy","prevAnimationNameState","prevPresent","getElementById","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","currPresent","hasPresentChanged","prevAnimationName","currAnimationName","getAnimationName","isAnimating","handleAnimationEnd","isCurrentAnimation","includes","animationName","target","handleAnimationStart","state$1","_c","isPresentDerived","$.derived","isPresent","with","$$props","snippet","node_1","presence","$.noop","forceMount","consequent","handler","events","_event","createCustomEvent","eventName","bubbles","cancelable","detail","CustomEvent","dispatchEvent","listen","callback","debounce","wait","timeout","debounced","args","clearTimeout","destroy","isOrContainsTarget","contains","getOwnerDocument","el","ownerDocument","globalThis","bitsDismissableLayers","DismissibleLayerState","props","_DismissibleLayerState_instances","_interceptedEvents","pointerdown","_isResponsibleLayer","__publicField","_documentObj","_isFocusInsideDOMTree","noop","defaultPrevented","currNode","_onFocusOutside","createWrappedEvent","_interactOutsideProp","_handleInteractOutside","isEventValid","_isValidEventProp","isValidEvent","isAnyEventIntercepted_fn","_behaviorType","_handleDismiss","once","type","_markResponsibleLayer","isResponsibleLayer","_resetState","eventType","_onfocuscapture","_onblurcapture","onfocuscapture","onblurcapture","_enabled","enabled","useRefById","ref","deps","onRefChange","interactOutsideBehavior","onInteractOutside","onFocusOutside","unsubEvents","addEventListeners_fn","_unsubClickListener","executeCallbacks","_markNonInterceptedEvent","_handleFocus","i","Object","some","Boolean","useDismissibleLayer","getTopMostLayer","layersArr","findLast","behaviorType","topMostLayer","firstLayerNode","button","isValid","documentElement","capturedCurrentTarget","currentTarget","capturedTarget","newEvent","PointerEvent","isPrevented","wrappedEvent","Proxy","prop","preventDefault","$.prop","dismissibleLayerState","bitsEscapeLayers","EscapeLayerState","_addEventListener","_onkeydown","passive","kbd.ESCAPE","isResponsibleEscapeLayer","clonedEvent","KeyboardEvent","_onEscapeProp","escapeKeydownBehavior","onEscapeKeydown","useEscapeLayer","instance","focusStack","createFocusScopeStack","stack","add","focusScope","activeFocusScope","pause","removeFromFocusScopeArray","unshift","remove","resume","createFocusScopeAPI","paused","useId","arr","item","filter","removeLinks","items","tagName","focus","select","previouslyFocusedElement","preventScroll","focusFirst","candidates","candidate","findVisible","elements","container","getTabbableCandidates","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","disabled","hidden","FILTER_SKIP","tabIndex","FILTER_ACCEPT","nextNode","push","currentNode","getTabbableEdges","first","last","reverse","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_DESTROY","EVENT_OPTIONS","useFocusScope","loop","onOpenAutoFocus","onCloseAutoFocus","focusScopeStack","lastFocusedElement","handleFocusIn","handleFocusOut","relatedTarget","handleMutations","lastFocusedElementExists","mutationObserver","MutationObserver","childList","subtree","handleMount","handleDestroy","prevFocusedElement","hasFocusedCandidate","mountEvent","destroyEvent","body","handleKeydown","isTabKey","kbd.TAB","ctrlKey","altKey","metaKey","focusedElement","hasTabbableElementsInside","shiftKey","tabindex","onkeydown","trapFocus","focusScopeState","bitsTextSelectionLayers","TextSelectionLayerState","_TextSelectionLayerState_instances","_ref","isHighestLayer","_onPointerDownProp","_unsubSelectionLock","preventTextSelectionOverflow","_resetSelectionLock","_id","preventOverflowTextSelection","onPointerDown","_onPointerUpProp","onPointerUp","_pointerdown","composeHandlers","useTextSelectionLayer","getUserSelect","style","userSelect","webkitUserSelect","originalBodyUserSelect","originalNodeUserSelect","setUserSelect","length","highestLayer","at","createSharedHook","factory","subscribers","scope","dispose","useBodyLockStackCount","locked","initialBodyStyle","$.tag_proxy","stopTouchMoveListener","resetBodyStyle","paddingRight","marginRight","pointerEvents","removeProperty","overflow","curr","bodyStyle","verticalScrollbarWidth","innerWidth","clientWidth","Number","parseInt","config","padding","margin","setProperty","touches","useBodyScrollLock","restoreScrollDelay","countState","_restoreScrollDelay","isAnyLocked","requestAnimationFrame","valueOrGetValue","getDPR","win","defaultView","devicePixelRatio","roundByDPR","dpr","round","getFloatingContentCSSVars","name","useFloating","whileElementsMountedOption","whileElementsMounted","openOption","open","middlewareOption","middleware","transformOption","transform","placementOption","placement","strategyOption","strategy","reference","x","y","floating","middlewareData","isPositioned","floatingStyles","initialStyles","position","left","top","xVal","yVal","willChange","whileElementsMountedCleanup","computePosition","attach","reset","OPPOSITE_SIDE","right","bottom","FloatingRootState","customAnchorNode","anchorNode","querySelector","triggerNode","FloatingContentState","root","cssToStyleObj","_updatePositionStrategy","arrowRef","_arrowSize","_side","_align","_collisionBoundary","_boundary","_collisionPadding","boundary","altBoundary","hasExplicitBoundaries","_availableWidth","_availableHeight","_anchorWidth","_anchorHeight","offset","mainAxis","_sideOffset","_arrowHeight","alignmentAxis","_alignOffset","_avoidCollisions","shift","crossAxis","limiter","_sticky","limitShift","detectOverflowOptions","flip","apply","rects","availableWidth","availableHeight","anchorWidth","anchorHeight","arrow","_arrowPadding","transformOrigin","arrowWidth","_arrowWidth","arrowHeight","_hideWhenDetached","hide","getSideFromPlacement","getAlignFromPlacement","centerOffset","placedSide","wrapperId","minWidth","zIndex","contentZIndex","referenceHidden","dir","_dir","placedAlign","styleToString","arrowX","arrowY","arrowBaseSide","cannotCenterArrow","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced","_strategy","customAnchor","wrapperRef","contentRef","_desiredPlacement","autoUpdate","animationFrame","contentNode","wrapperProps","arrowStyle","_hasExplicitBoundaries","_placedSide","_placedAlign","FloatingAnchorState","virtualEl","from","setFloatingRootContext","getFloatingRootContext","createContext","setFloatingContentContext","getFloatingContentContext","useFloatingRootState","useFloatingContentState","useFloatingAnchorState","data","isArrowHidden","getSideAndAlignFromPlacement","noArrowAlign","center","end","arrowXCenter","arrowYCenter","split","boxAutoReset","afterMs","resetAfter","contentState","mergedProps","mergeProps","onMount","$.snippet","content","isStatic","restProps","$.rest_props","$$render","alternate","floatingProps","$$arg0","consequent_1","focusScopeProps","dismissibleProps","createEventHook","callbacks","callbacksToDispose","off","on","offFn","trigger","Promise","all","resolve","useGraceArea","getTriggerNode","getContentNode","isPointerInTransit","pointerGraceArea","pointerExit","handleRemoveGraceArea","handleCreateGraceArea","hoverTarget","exitPoint","clientX","clientY","exitSide","getExitSideFromRect","getBoundingClientRect","paddedExitPoints","getPaddedExitPoints","hoverTargetPoints","getPointsFromRect","graceArea","getHull","handleTriggerLeave","handleContentLeave","unsub","handleTrackPointerGrace","pointerPosition","hasEnteredTarget","get$2","isPointerOutsideGraceArea","isPointInPolygon","onPointerExit","point","rect","abs","min","Error","polygon","inside","j","xi","yi","xj","yj","intersect","points","newPoints","slice","sort","a","b","getHullPresorted","upperHull","p","q","pop","lowerHull","concat"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]}