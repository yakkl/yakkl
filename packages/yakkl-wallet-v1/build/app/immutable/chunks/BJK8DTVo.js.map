{"version":3,"file":"BJK8DTVo.js","sources":["../../../../../../src/lib/managers/WalletManager.ts"],"sourcesContent":["// WalletManager.ts\n// GPT Added //\nimport { Wallet, walletStore } from '$lib/managers/Wallet';\nimport { get } from 'svelte/store';\nimport { log } from '$lib/managers/Logger';\n\nclass WalletManager {\n\tprivate static instance: Wallet | null = null;\n\n\tpublic static getInstance(\n\t\tproviderNames: string[],\n\t\tblockchainNames: string[] = ['Ethereum'],\n\t\tchainId: number = 1,\n\t\tapiKey: string | null = null,\n\t\tprivateKey: string | null = null\n\t): Wallet {\n\t\ttry {\n\t\t\tif (!WalletManager.instance) {\n\t\t\t\tWalletManager.instance = new Wallet(\n\t\t\t\t\tproviderNames,\n\t\t\t\t\tblockchainNames,\n\t\t\t\t\tchainId,\n\t\t\t\t\tapiKey,\n\t\t\t\t\tprivateKey\n\t\t\t\t);\n\t\t\t\twalletStore.set(WalletManager.instance);\n\t\t\t} else {\n\t\t\t\tif (!WalletManager.instance.getSigner() && privateKey) {\n\t\t\t\t\tWalletManager.instance.setSigner(privateKey);\n\t\t\t\t\twalletStore.set(WalletManager.instance);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn WalletManager.instance;\n\t\t} catch (error) {\n\t\t\tlog.error('Failed to get Wallet instance:', false, error);\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tpublic static clearInstance(): void {\n\t\tWalletManager.instance = null;\n\t\twalletStore.set(null); // Ensure the store is in sync\n\t}\n\n\tpublic static setInstance(instance: Wallet): void {\n\t\tthis.clearInstance();\n\t\tWalletManager.instance = instance;\n\t\twalletStore.set(instance);\n\t}\n\n\tpublic static get wallet(): Wallet | null {\n\t\treturn get(walletStore);\n\t}\n}\n\nexport default WalletManager;\n"],"names":["_WalletManager","getInstance","providerNames","blockchainNames","chainId","apiKey","privateKey","instance","Wallet","walletStore","set","getSigner","setSigner","error","log","clearInstance","setInstance","this","wallet","get","__publicField","WalletManager"],"mappings":"mZAMA,MAAMA,eAAN,MAAMA,eAGL,kBAAcC,CACbC,cACAC,gBAA4B,CAAC,YAC7BC,QAAkB,EAClBC,OAAwB,KACxBC,WAA4B,MAExB,IACC,IAACN,eAAcO,SAAU,CAC5BP,eAAcO,SAAW,IAAIC,OAC5BN,cACAC,gBACAC,QACAC,OACAC,YAEWG,YAAAC,IAAIV,eAAcO,SAAQ,KAChC,CACN,IAAKP,eAAcO,SAASI,aAAeL,WAAY,CACxCN,eAAAO,SAASK,UAAUN,YACrBG,YAAAC,IAAIV,eAAcO,SAAQ,CACvC,CAED,OAAOP,eAAcO,eACbM,OACJC,IAAAD,MAAM,iCAAkC,MAAOA,OAC7C,MAAAA,KAAA,CACP,CAGD,oBAAcE,GACbf,eAAcO,SAAW,KACzBE,YAAYC,IAAI,KAAI,CAGrB,kBAAcM,CAAYT,UACzBU,KAAKF,gBACLf,eAAcO,SAAWA,SACzBE,YAAYC,IAAIH,SAAQ,CAGzB,iBAAkBW,GACjB,OAAOC,IAAIV,YAAW,GA5CvBW,cADKpB,eACU,WAA0B,MAD1C,IAAMqB,cAANrB"}