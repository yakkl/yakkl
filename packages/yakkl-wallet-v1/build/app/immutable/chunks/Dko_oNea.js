import{c as check_target,l as legacy_api}from"./BXFaAXnq.js";import{p as push,o as onMount,ay as user_effect,a as pop,b as strict_equals,g as get,u as user_derived,F as FILENAME,c as child,s as sibling,r as reset,t as template_effect,j as next,a7 as untrack,h as tag,i as state,f as first_child,e as set,ae as proxy}from"./BaS8d5lg.js";import{a as add_locations}from"./3AhEABF_.js";import{d as delegate,b as apply,c as remove_textarea_child,e as event}from"./DiU70Is3.js";import{f as from_html,a as append,d as from_svg}from"./Cm3jf07C.js";import{c as create_ownership_validator}from"./COgMMZ9C.js";import{i as if_block}from"./Q1yPWpQ-.js";import{w as wrap_snippet}from"./d5hrMixo.js";import{p as prop}from"./BYboeQtC.js";import{s as setup_stores,a as store_get,d as store_mutate}from"./CViNpZsE.js";import{v as validate_store}from"./Dv9a3G0k.js";import{ab as dateString,V as VERSION,Z as yakklCurrentlySelectedStore,a5 as yakklContactsStore,aG as setYakklContactsStorage}from"./Cb2naUpm.js";import{l as log}from"./WDN37msH.js";import"./CgCfpVku.js";import{M as Modal}from"./UU1vCwIM.js";import{s as set_text}from"./Cmwrv3PW.js";import{e as each,i as index}from"./DraJ8LN-.js";import{r as remove_input_defaults,b as bind_select_value,s as set_attribute}from"./DTBsVM-c.js";import{s as set_class,c as clsx}from"./DX_EEhpR.js";import{b as bind_value}from"./B6q982nR.js";import{c as createForm}from"./CEKklR__.js";import"./Doq7snb5.js";import{c as create$3,a as create$6}from"./B4Ku5_Cd.js";import{W as WalletManager}from"./BJK8DTVo.js";import{C as Confirmation}from"./BWiVuumU.js";import{E as EditControls}from"./BELG66li.js";ContactForm[FILENAME]="src/lib/components/ContactForm.svelte";var root_2$1=add_locations(from_html(`<option> </option>`),ContactForm[FILENAME],[[135,5]]);var root_3$1=add_locations(from_html(`<p class="mt-2 text-sm text-red-600"> </p>`),ContactForm[FILENAME],[[139,4]]);var root_4=add_locations(from_html(`<p class="mt-2 text-sm text-red-600"> </p>`),ContactForm[FILENAME],[[155,4]]);var root_5=add_locations(from_html(`<p class="mt-2 text-sm text-red-600"> </p>`),ContactForm[FILENAME],[[171,4]]);var root_6=add_locations(from_html(`<p class="mt-2 text-sm text-red-600"> </p>`),ContactForm[FILENAME],[[187,4]]);var root_7=add_locations(from_html(`<p class="mt-2 text-sm text-red-600"> </p>`),ContactForm[FILENAME],[[203,4]]);var on_click$2=(_,show)=>show(false);var root_1$2=add_locations(from_html(`<form class="space-y-4 p-6"><div><label for="blockchain" class="block text-sm font-medium text-gray-700 dark:text-gray-200">Blockchain</label> <select id="blockchain" class="mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm text-gray-800"></select> <!></div> <div><label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-200">Name</label> <input type="text" id="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-gray-800"/> <!></div> <div><label for="address" class="block text-sm font-medium text-gray-700 dark:text-gray-200">Address</label> <input type="text" id="address" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focusring:indigo-500 sm:text-sm text-gray-800"/> <!></div> <div><label for="alias" class="block text-sm font-medium text-gray-700 dark:text-gray-200">Alias</label> <input type="text" id="alias" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm text-gray-800"/> <!></div> <div><label for="note" class="block text-sm font-medium medium text-gray-700 dark:text-gray-200">Note</label> <textarea id="note" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border:indigo-500 focus:ring-indigo-500 sm: text-sm text-gray-800"></textarea> <!></div> <div class="pt-5"><div class="flex justify-end space-x-4"><button type="button" class="rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Cancel</button> <button type="button" class="rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Reset</button> <button type="submit" class="rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">Save</button></div></div></form>`),ContactForm[FILENAME],[[123,1,[[124,2,[[125,3],[128,3]]],[143,2,[[144,3],[147,3]]],[159,2,[[160,3],[163,3]]],[175,2,[[176,3],[179,3]]],[191,2,[[192,3],[195,3]]],[207,2,[[208,3,[[209,4],[214,4],[219,4]]]]]]]]);function ContactForm($$anchor,$$props){check_target(new.target);push($$props,true,ContactForm);var $$ownership_validator=create_ownership_validator($$props);const[$$stores,$$cleanup]=setup_stores();const $yakklCurrentlySelectedStore=()=>(validate_store(yakklCurrentlySelectedStore,"yakklCurrentlySelectedStore"),store_get(yakklCurrentlySelectedStore,"$yakklCurrentlySelectedStore",$$stores));const $yakklContactsStore=()=>(validate_store(yakklContactsStore,"yakklContactsStore"),store_get(yakklContactsStore,"$yakklContactsStore",$$stores));const $form=()=>(validate_store(form,"form"),store_get(form,"$form",$$stores));const $errors=()=>(validate_store(errors,"errors"),store_get(errors,"$errors",$$stores));let show=prop($$props,"show",15,false),contact=prop($$props,"contact",3,null),className=prop($$props,"className",3,"z-[999]"),onSubmit=prop($$props,"onSubmit",3,()=>{});const blockchains=["Ethereum","Base","Optimism","Bitcoin"];let wallet;let currentlySelected;let addressType="EOA";const{form:form,errors:errors,handleChange:handleChange,handleSubmit:handleSubmit,updateInitialValues:updateInitialValues}=createForm({initialValues:{blockchain:"Ethereum",name:"",address:"",alias:"",note:""},validationSchema:create$3().shape({blockchain:create$6().required("Please select a blockchain"),name:create$6().required("Please enter a contact name"),address:create$6().required("Please enter a contact address"),alias:create$6().optional(),note:create$6().optional()}),onSubmit:async values=>{try{const verified=await verifyContact(values.name,values.address,values.alias?values.alias:"",values.note?values.note:"");if(verified){const updatedContact=contact()?{...contact(),...values,addressType:addressType,version:$yakklCurrentlySelectedStore().version??VERSION,updateDate:dateString()}:{id:crypto.randomUUID(),...values,addressType:addressType,version:$yakklCurrentlySelectedStore().version??VERSION,createDate:dateString(),updateDate:dateString()};onSubmit()(updatedContact);show(false)}else{alert("Unable to verify contact before processing. There could be a duplicate contact or invalid address.")}}catch(error){log.error("Error processing contact:",false,error)}}});onMount(async()=>{currentlySelected=$yakklCurrentlySelectedStore();wallet=WalletManager.getInstance(["Alchemy"],["Ethereum"],currentlySelected.shortcuts.chainId??1,"pBm4VA9q8Laz9x3bmXTNZ9m-ArxczEWk")});async function verifyContact(fname,faddress,falias,fnote){const blockchain=wallet.getBlockchain();const isValid=blockchain.isAddress(faddress);if(!isValid){return false}const isSmartContract=blockchain.isSmartContractSupported()&&await blockchain.isSmartContract(faddress);addressType=isSmartContract?"SC":"EOA";const contacts=$yakklContactsStore();const isDuplicate=contacts.some(c=>strict_equals(c.name,fname)||strict_equals(c.address,faddress));if(isDuplicate&&!contact()){return false}return true}function resetForm(){updateInitialValues({blockchain:"Ethereum",name:"",address:"",alias:"",note:""})}user_effect(()=>{if(contact()){updateInitialValues({blockchain:contact().blockchain,name:contact().name,address:contact().address,alias:contact().alias||"",note:contact().note||""})}else{resetForm()}});const expression=user_derived(()=>contact()?"Edit Contact":"Add Contact");{$$ownership_validator.binding("show",Modal,show);Modal($$anchor,{get title(){return get(expression)},get className(){return className()},get show(){return show()},set show($$value){show($$value)},children:wrap_snippet(ContactForm,($$anchor2,$$slotProps)=>{var form_1=root_1$2();var div=child(form_1);var select=sibling(child(div),2);select.__change=function(...$$args){apply(()=>handleChange,this,$$args,ContactForm,[132,14])};each(select,21,()=>blockchains,index,($$anchor3,blockchain)=>{var option=root_2$1();var option_value={};var text=child(option,true);reset(option);template_effect(()=>{if(option_value!==(option_value=get(blockchain))){option.value=(option.__value=get(blockchain))??""}set_text(text,get(blockchain))});append($$anchor3,option)});reset(select);var node=sibling(select,2);{var consequent=$$anchor3=>{var p=root_3$1();var text_1=child(p,true);reset(p);template_effect(()=>set_text(text_1,$errors().blockchain));append($$anchor3,p)};if_block(node,$$render=>{if($errors().blockchain)$$render(consequent)})}reset(div);var div_1=sibling(div,2);var input=sibling(child(div_1),2);remove_input_defaults(input);input.__change=function(...$$args){apply(()=>handleChange,this,$$args,ContactForm,[152,14])};var node_1=sibling(input,2);{var consequent_1=$$anchor3=>{var p_1=root_4();var text_2=child(p_1,true);reset(p_1);template_effect(()=>set_text(text_2,$errors().name));append($$anchor3,p_1)};if_block(node_1,$$render=>{if($errors().name)$$render(consequent_1)})}reset(div_1);var div_2=sibling(div_1,2);var input_1=sibling(child(div_2),2);remove_input_defaults(input_1);input_1.__change=function(...$$args){apply(()=>handleChange,this,$$args,ContactForm,[168,14])};var node_2=sibling(input_1,2);{var consequent_2=$$anchor3=>{var p_2=root_5();var text_3=child(p_2,true);reset(p_2);template_effect(()=>set_text(text_3,$errors().address));append($$anchor3,p_2)};if_block(node_2,$$render=>{if($errors().address)$$render(consequent_2)})}reset(div_2);var div_3=sibling(div_2,2);var input_2=sibling(child(div_3),2);remove_input_defaults(input_2);input_2.__change=function(...$$args){apply(()=>handleChange,this,$$args,ContactForm,[184,14])};var node_3=sibling(input_2,2);{var consequent_3=$$anchor3=>{var p_3=root_6();var text_4=child(p_3,true);reset(p_3);template_effect(()=>set_text(text_4,$errors().alias));append($$anchor3,p_3)};if_block(node_3,$$render=>{if($errors().alias)$$render(consequent_3)})}reset(div_3);var div_4=sibling(div_3,2);var textarea=sibling(child(div_4),2);remove_textarea_child(textarea);textarea.__change=function(...$$args){apply(()=>handleChange,this,$$args,ContactForm,[200,14])};var node_4=sibling(textarea,2);{var consequent_4=$$anchor3=>{var p_4=root_7();var text_5=child(p_4,true);reset(p_4);template_effect(()=>set_text(text_5,$errors().note));append($$anchor3,p_4)};if_block(node_4,$$render=>{if($errors().note)$$render(consequent_4)})}reset(div_4);var div_5=sibling(div_4,2);var div_6=child(div_5);var button=child(div_6);button.__click=[on_click$2,show];var button_1=sibling(button,2);button_1.__click=resetForm;next(2);reset(div_6);reset(div_5);reset(form_1);event("submit",form_1,function(...$$args){apply(()=>handleSubmit,this,$$args,ContactForm,[123,17])});bind_select_value(select,()=>$form().blockchain,$$value=>store_mutate(form,untrack($form).blockchain=$$value,untrack($form)));bind_value(input,()=>$form().name,$$value=>store_mutate(form,untrack($form).name=$$value,untrack($form)));bind_value(input_1,()=>$form().address,$$value=>store_mutate(form,untrack($form).address=$$value,untrack($form)));bind_value(input_2,()=>$form().alias,$$value=>store_mutate(form,untrack($form).alias=$$value,untrack($form)));bind_value(textarea,()=>$form().note,$$value=>store_mutate(form,untrack($form).note=$$value,untrack($form)));append($$anchor2,form_1)}),$$slots:{default:true}})}var $$pop=pop({...legacy_api()});$$cleanup();return $$pop}delegate(["change","click"]);EthereumIcon[FILENAME]="src/lib/components/icons/EthereumIcon.svelte";var root$5=add_locations(from_html(`<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 417"><g fill="none"><polygon fill="#343434" points="127.9,0 127.9,134.6 255.8,209.7"></polygon><polygon fill="#8C8C8C" points="127.9,0 0,209.7 127.9,134.6"></polygon><polygon fill="#3C3C3B" points="127.9,277.4 127.9,416.9 255.9,231.1"></polygon><polygon fill="#8C8C8C" points="127.9,416.9 127.9,277.4 0,231.1"></polygon><polygon fill="#141414" points="127.9,263.1 255.8,209.7 127.9,134.6"></polygon><polygon fill="#393939" points="0,209.7 127.9,263.1 127.9,134.6"></polygon></g></svg></div>`),EthereumIcon[FILENAME],[[4,0,[[5,1,[[6,2,[[7,3],[8,3],[9,3],[10,3],[11,3],[12,3]]]]]]]]);function EthereumIcon($$anchor,$$props){check_target(new.target);push($$props,true,EthereumIcon);let className=prop($$props,"className",3,"h-6 w-6 rounded-full");var div=root$5();var svg=child(div);reset(div);template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,div);return pop({...legacy_api()})}BaseIcon[FILENAME]="src/lib/components/icons/BaseIcon.svelte";var root$4=add_locations(from_html(`<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><circle cx="512" cy="512" r="512" fill="#0052FF"></circle><path d="M512 704c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm0-192c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96z" fill="#fff"></path></svg></div>`),BaseIcon[FILENAME],[[4,0,[[5,1,[[6,2],[7,2]]]]]]);function BaseIcon($$anchor,$$props){check_target(new.target);push($$props,true,BaseIcon);let className=prop($$props,"className",3,"h-6 w-6 rounded-full");var div=root$4();var svg=child(div);reset(div);template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,div);return pop({...legacy_api()})}OptimismIcon[FILENAME]="src/lib/components/icons/OptimismIcon.svelte";var root$3=add_locations(from_html(`<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 1200"><circle cx="600" cy="600" r="600" fill="#FF0420"></circle><path d="M498 787h105l63-326h-106l-62 326zm7-160c7-38 26-56 59-56h1c31 0 44 19 37 55l-13 70c-7 38-26 57-59 57h-1c-31 0-44-19-37-55l13-71zm286 24c15-75-30-126-116-126h-60l-39 206h61c84 0 138-46 154-123zm-155 60l12-65c9-47 35-61 64-61h2c32 0 55 15 47 61l-11 65c-9 48-35 62-65 62h-1c-32 0-55-15-48-62z" fill="#fff"></path></svg></div>`),OptimismIcon[FILENAME],[[4,0,[[5,1,[[6,2],[7,2]]]]]]);function OptimismIcon($$anchor,$$props){check_target(new.target);push($$props,true,OptimismIcon);let className=prop($$props,"className",3,"h-6 w-6 rounded-full");var div=root$3();var svg=child(div);reset(div);template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,div);return pop({...legacy_api()})}BitcoinIcon[FILENAME]="src/lib/components/icons/BitcoinIcon.svelte";var root$2=add_locations(from_html(`<div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><circle cx="16" cy="16" r="16" fill="#f7931a"></circle><path d="M22.26 13.258c.316-2.113-1.292-3.246-3.496-3.998l.714-2.862-1.743-.435-.695 2.786c-.46-.115-.931-.225-1.402-.333l.7-2.808-1.742-.434-.714 2.862a56.346 56.346 0 00-1.12-.272l.002-.011-2.407-.599-.464 1.89s1.292.296 1.263.313c.705.176.832.644.812 1.015l-1.263 5.076c.049.012.111.03.182.059l-.186-.046L8.95 21.42c-.085.215-.3.54-.785.417.017.025-1.263-.313-1.263-.313l-.867 2.011 2.27.566c.422.105.835.216 1.247.324l-.721 2.894 1.742.434.714-2.862c.477.129.943.248 1.402.364l-.712 2.85 1.742.434.721-2.891c2.974.563 5.208.336 6.145-2.359.758-2.17-.038-3.431-1.601-4.253 1.14-.263 2.003-1.01 2.232-2.559zM19.074 20.11c-.514 2.17-3.994.997-5.13.704l.914-3.664c1.136.284 4.77.844 4.216 2.96zm.514-5.28c-.469 1.876-3.354.923-4.29.688l.857-3.43c.937.234 3.923.669 3.433 2.742z" fill="#fff"></path></svg></div>`),BitcoinIcon[FILENAME],[[4,0,[[5,1,[[6,2],[7,2]]]]]]);function BitcoinIcon($$anchor,$$props){check_target(new.target);push($$props,true,BitcoinIcon);let className=prop($$props,"className",3,"h-6 w-6 rounded-full");var div=root$2();var svg=child(div);reset(div);template_effect(()=>set_class(svg,0,clsx(className())));append($$anchor,div);return pop({...legacy_api()})}ContactList[FILENAME]="src/lib/components/ContactList.svelte";var on_click$1=(_,onContactSelect,contact)=>onContactSelect()(get(contact));var root_9=add_locations(from_svg(`<svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path></svg>`),ContactList[FILENAME],[[76,6,[[82,7]]]]);var root_10=add_locations(from_html(`<p class="text-xs text-gray-500 mb-1 truncate"> </p>`),ContactList[FILENAME],[[113,6]]);var root_11=add_locations(from_html(`<span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full flex items-center"><svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg> Email</span>`),ContactList[FILENAME],[[124,7,[[125,8,[[126,9],[127,9]]]]]]);var root_12=add_locations(from_html(`<span class="text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full flex items-center"><svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path></svg> Phone</span>`),ContactList[FILENAME],[[133,7,[[134,8,[[135,9]]]]]]);var root_1$1=add_locations(from_html(`<li class="mb-3 relative overflow-hidden"><button><div><!></div> <div class="flex-1 min-w-0 overflow-hidden"><div class="flex items-center justify-between mb-1"><div class="flex items-center space-x-2"><h3 class="text-sm font-semibold text-gray-800"> </h3> <span> </span></div></div> <p class="text-sm font-medium text-gray-700 truncate mb-1"> </p> <!> <p class="text-xs text-gray-500 font-mono truncate mb-2"> </p> <div class="flex items-center space-x-2"><!> <!></div></div></button> <!></li>`),ContactList[FILENAME],[[43,2,[[44,3,[[56,4],[90,4,[[91,5,[[92,6,[[93,7],[96,7]]]]],[109,5],[117,5],[122,5]]]]]]]]);var root$1=add_locations(from_html(`<ul class="overflow-hidden"></ul> <!> <!>`,1),ContactList[FILENAME],[[41,0]]);function ContactList($$anchor,$$props){check_target(new.target);push($$props,true,ContactList);let contacts=prop($$props,"contacts",19,()=>[]),onContactSelect=prop($$props,"onContactSelect",3,()=>{}),onContactUpdate=prop($$props,"onContactUpdate",3,()=>{}),onContactDelete=prop($$props,"onContactDelete",3,()=>{});let selectedContact=tag(state(null),"selectedContact");let showEditModal=tag(state(false),"showEditModal");let showDeleteModal=tag(state(false),"showDeleteModal");function handleEdit(contact){set(selectedContact,contact,true);set(showEditModal,true)}function handleDelete(contact){set(selectedContact,contact,true);set(showDeleteModal,true)}function handleCopy(contact){navigator.clipboard.writeText(contact.address)}function confirmDelete(){if(get(selectedContact)){onContactDelete()(get(selectedContact));set(showDeleteModal,false);set(selectedContact,null)}}var fragment=root$1();var ul=first_child(fragment);each(ul,21,contacts,index,($$anchor2,contact)=>{var li=root_1$1();var button=child(li);button.__click=[on_click$1,onContactSelect,contact];var div=child(button);var node=child(div);{var consequent=$$anchor3=>{EthereumIcon($$anchor3,{className:"h-4 w-4"})};var alternate=($$anchor3,$$elseif)=>{{var consequent_1=$$anchor4=>{BaseIcon($$anchor4,{className:"h-4 w-4"})};var alternate_1=($$anchor4,$$elseif2)=>{{var consequent_2=$$anchor5=>{OptimismIcon($$anchor5,{className:"h-4 w-4"})};var alternate_2=($$anchor5,$$elseif3)=>{{var consequent_3=$$anchor6=>{BitcoinIcon($$anchor6,{className:"h-4 w-4"})};var alternate_3=$$anchor6=>{var svg=root_9();append($$anchor6,svg)};if_block($$anchor5,$$render=>{if(strict_equals(get(contact).blockchain,"Bitcoin"))$$render(consequent_3);else $$render(alternate_3,false)},$$elseif3)}};if_block($$anchor4,$$render=>{if(strict_equals(get(contact).blockchain,"Optimism"))$$render(consequent_2);else $$render(alternate_2,false)},$$elseif2)}};if_block($$anchor3,$$render=>{if(strict_equals(get(contact).blockchain,"Base"))$$render(consequent_1);else $$render(alternate_1,false)},$$elseif)}};if_block(node,$$render=>{if(strict_equals(get(contact).blockchain,"Ethereum"))$$render(consequent);else $$render(alternate,false)})}reset(div);var div_1=sibling(div,2);var div_2=child(div_1);var div_3=child(div_2);var h3=child(div_3);var text=child(h3,true);reset(h3);var span=sibling(h3,2);var text_1=child(span,true);reset(span);reset(div_3);reset(div_2);var p=sibling(div_2,2);var text_2=child(p,true);reset(p);var node_1=sibling(p,2);{var consequent_4=$$anchor3=>{var p_1=root_10();var text_3=child(p_1);reset(p_1);template_effect(()=>{set_attribute(p_1,"title",get(contact).alias);set_text(text_3,`Alias: ${get(contact).alias??""}`)});append($$anchor3,p_1)};if_block(node_1,$$render=>{if(get(contact).alias)$$render(consequent_4)})}var p_2=sibling(node_1,2);var text_4=child(p_2,true);reset(p_2);var div_4=sibling(p_2,2);var node_2=child(div_4);{var consequent_5=$$anchor3=>{var span_1=root_11();append($$anchor3,span_1)};if_block(node_2,$$render=>{if(get(contact).email)$$render(consequent_5)})}var node_3=sibling(node_2,2);{var consequent_6=$$anchor3=>{var span_2=root_12();append($$anchor3,span_2)};if_block(node_3,$$render=>{if(get(contact).phone)$$render(consequent_6)})}reset(div_4);reset(div_1);reset(button);var node_4=sibling(button,2);EditControls(node_4,{onEdit:()=>handleEdit(get(contact)),onDelete:()=>handleDelete(get(contact)),onCopy:()=>handleCopy(get(contact)),controls:["copy","edit","delete"]});reset(li);template_effect($0=>{set_class(button,1,`w-full flex items-start rounded-lg p-3 transition-colors duration-200 overflow-hidden ${strict_equals(get(contact).blockchain,"Ethereum")?"bg-indigo-50 hover:bg-indigo-100 border border-indigo-200":strict_equals(get(contact).blockchain,"Base")?"bg-blue-50 hover:bg-blue-100 border border-blue-200":strict_equals(get(contact).blockchain,"Optimism")?"bg-red-50 hover:bg-red-100 border border-red-200":strict_equals(get(contact).blockchain,"Bitcoin")?"bg-orange-50 hover:bg-orange-100 border border-orange-200":"bg-gray-50 hover:bg-gray-100 border border-gray-200"}`);set_class(div,1,`w-6 h-6 flex items-center justify-center rounded-full ${strict_equals(get(contact).blockchain,"Ethereum")?"bg-indigo-500":strict_equals(get(contact).blockchain,"Base")?"bg-blue-500":strict_equals(get(contact).blockchain,"Optimism")?"bg-red-500":strict_equals(get(contact).blockchain,"Bitcoin")?"bg-orange-500":"bg-gray-500"} text-white mr-3 shrink-0`);set_text(text,$0);set_class(span,1,`text-xs px-2 py-1 rounded-full ${strict_equals(get(contact).blockchain,"Ethereum")?"bg-indigo-100 text-indigo-700":strict_equals(get(contact).blockchain,"Base")?"bg-blue-100 text-blue-700":strict_equals(get(contact).blockchain,"Optimism")?"bg-red-100 text-red-700":strict_equals(get(contact).blockchain,"Bitcoin")?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"}`);set_text(text_1,get(contact).blockchain||"Unknown");set_attribute(p,"title",get(contact).name);set_text(text_2,get(contact).name);set_attribute(p_2,"title",get(contact).address);set_text(text_4,get(contact).address)},[()=>{var _a;return((_a=get(contact).blockchain)==null?void 0:_a.toUpperCase())||"CONTACT"}]);append($$anchor2,li)});reset(ul);var node_5=sibling(ul,2);ContactForm(node_5,{get contact(){return get(selectedContact)},onSubmit:onContactUpdate(),get show(){return get(showEditModal)},set show($$value){set(showEditModal,$$value,true)}});var node_6=sibling(node_5,2);Confirmation(node_6,{onConfirm:confirmDelete,title:"Delete Contact",message:"Are you sure you want to delete this contact? This action cannot be undone.",get show(){return get(showDeleteModal)},set show($$value){set(showDeleteModal,$$value,true)}});append($$anchor,fragment);return pop({...legacy_api()})}delegate(["click"]);Contacts[FILENAME]="src/lib/components/Contacts.svelte";var root_2=add_locations(from_html(`<div class="space-y-3 mb-4"><!></div>`),Contacts[FILENAME],[[56,3]]);var root_3=add_locations(from_html(`<div class="text-center py-12"><div class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div> <h3 class="text-lg font-semibold text-gray-700 mb-2">No Contacts Yet</h3> <p class="text-gray-500 mb-6">Add your first contact to make sending payments easier</p></div>`),Contacts[FILENAME],[[66,3,[[67,4,[[68,5,[[69,6]]]]],[72,4],[73,4]]]]);var on_click=(_,showAddModal)=>set(showAddModal,true);var root_1=add_locations(from_html(`<div class="p-4"><!> <div class="border-t border-gray-200 pt-4"><button class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center space-x-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> <span>Add New Contact</span></button> <div class="mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200"><div class="flex items-center"><div class="flex-shrink-0"><svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg></div> <div class="ml-2"><p class="text-xs text-blue-800">Selected contacts will be used for sending and transferring funds</p></div></div></div></div></div>`),Contacts[FILENAME],[[53,1,[[78,2,[[79,3,[[83,4,[[84,5]]],[86,4]]],[89,3,[[90,4,[[91,5,[[92,6,[[93,7]]]]],[96,5,[[97,6]]]]]]]]]]]]);var root=add_locations(from_html(`<!> <!>`,1),Contacts[FILENAME],[]);function Contacts($$anchor,$$props){check_target(new.target);push($$props,true,Contacts);var $$ownership_validator=create_ownership_validator($$props);const[$$stores,$$cleanup]=setup_stores();const $yakklContactsStore=()=>(validate_store(yakklContactsStore,"yakklContactsStore"),store_get(yakklContactsStore,"$yakklContactsStore",$$stores));let show=prop($$props,"show",15,false),onContactSelect=prop($$props,"onContactSelect",3,null),className=prop($$props,"className",3,"z-[899]");let showAddModal=tag(state(false),"showAddModal");let contacts=tag(state(proxy([])),"contacts");user_effect(()=>{set(contacts,$yakklContactsStore(),true)});function handleContactSelect(selectedContact){if(strict_equals(onContactSelect(),null,false)){onContactSelect()(selectedContact)}show(false)}function handleContactAdd(contact){yakklContactsStore.update(contacts2=>[...contacts2,contact]);setYakklContactsStorage($yakklContactsStore());set(showAddModal,false)}function handleContactDelete(deletedContact){yakklContactsStore.update(contacts2=>{const updatedContacts=contacts2.filter(c=>strict_equals(c.address,deletedContact.address,false));setYakklContactsStorage(updatedContacts);return updatedContacts})}function handleContactUpdate(updatedContact){yakklContactsStore.update(contacts2=>{const updatedContacts=contacts2.map(c=>strict_equals(c.address,updatedContact.address)?updatedContact:c);setYakklContactsStorage(updatedContacts);return updatedContacts})}function closeModal(){show(false)}var fragment=root();var node=first_child(fragment);{$$ownership_validator.binding("show",Modal,show);Modal(node,{title:"Contact List",description:"Select the contact you wish to send/transfer to",onClose:closeModal,get className(){return className()},get show(){return show()},set show($$value){show($$value)},children:wrap_snippet(Contacts,($$anchor2,$$slotProps)=>{var div=root_1();var node_1=child(div);{var consequent=$$anchor3=>{var div_1=root_2();var node_2=child(div_1);ContactList(node_2,{get contacts(){return get(contacts)},onContactSelect:handleContactSelect,onContactUpdate:handleContactUpdate,onContactDelete:handleContactDelete});reset(div_1);append($$anchor3,div_1)};var alternate=$$anchor3=>{var div_2=root_3();append($$anchor3,div_2)};if_block(node_1,$$render=>{if($yakklContactsStore().length>0)$$render(consequent);else $$render(alternate,false)})}var div_3=sibling(node_1,2);var button=child(div_3);button.__click=[on_click,showAddModal];next(2);reset(div_3);reset(div);append($$anchor2,div)}),$$slots:{default:true}})}var node_3=sibling(node,2);ContactForm(node_3,{onSubmit:handleContactAdd,get show(){return get(showAddModal)},set show($$value){set(showAddModal,$$value,true)}});append($$anchor,fragment);var $$pop=pop({...legacy_api()});$$cleanup();return $$pop}delegate(["click"]);export{Contacts as C};
//# sourceMappingURL=Dko_oNea.js.map
