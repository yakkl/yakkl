{"version":3,"file":"B6Kd56jc.js","sources":["../../../../../../src/routes/preview2/lib/mods/network-manager/index.ts","../../../../../../src/routes/preview2/lib/mods/account-manager/index.ts","../../../../../../src/routes/preview2/lib/mods/registry.ts","../../../../../../src/routes/preview2/lib/core/integration.ts","../../../../../../src/routes/preview2/lib/components/mods/ModDashboard.svelte"],"sourcesContent":["/**\n * Network Manager Mod - Enhanced network switching and management\n */\n\n// @ts-nocheck - Mock implementation for system mod\ntype Mod = any;\ntype WalletEngine = any;\ntype ModManifest = any;\n\nexport class NetworkManagerMod implements Mod {\n  manifest: ModManifest = {\n    id: 'system-network-manager',\n    name: 'Enhanced Network Manager',\n    version: '1.0.0',\n    description: 'Advanced network switching and management with custom networks support',\n    author: 'YAKKL Team',\n    license: 'MIT',\n    tier: 'community',\n    category: 'network',\n    tags: ['network', 'switching', 'management', 'custom'],\n    permissions: ['storage', 'network'],\n    minimumWalletVersion: '2.0.0',\n    supportedPlatforms: ['web', 'extension'],\n    discoverable: true,\n    enhances: ['wallet-core', 'header-component'],\n    conflicts: [],\n    iconUrl: '/icons/network-manager.svg',\n    screenshotUrls: [],\n    capabilities: {\n      ui: {\n        hasComponents: true,\n        hasWidgets: true,\n        mountPoints: ['header', 'settings', 'modal']\n      },\n      background: {\n        hasWorkers: false,\n        hasScheduledTasks: false\n      },\n      apis: {\n        endpoints: ['switch-network', 'add-network', 'get-networks'],\n        webhooks: []\n      },\n      storage: {\n        maxSize: 1024 * 1024, // 1MB\n        encrypted: false\n      },\n      network: {\n        allowedHosts: ['chainlist.org', 'ethereum.org'],\n        requiresProxy: false\n      }\n    }\n  };\n\n  private engine: WalletEngine | null = null;\n  private loaded = false;\n  private active = false;\n  private customNetworks: any[] = [];\n\n  async initialize(engine: WalletEngine): Promise<void> {\n    this.engine = engine;\n    this.loaded = true;\n    this.active = true;\n    \n    // Load custom networks from storage\n    await this.loadCustomNetworks();\n    \n    console.log('üåê Network Manager mod initialized');\n    \n    // Setup network change listeners\n    this.setupEventListeners();\n  }\n\n  async destroy(): Promise<void> {\n    this.loaded = false;\n    this.active = false;\n    this.engine = null;\n    this.customNetworks = [];\n    \n    console.log('üåê Network Manager mod destroyed');\n  }\n\n  isLoaded(): boolean {\n    return this.loaded;\n  }\n\n  isActive(): boolean {\n    return this.active;\n  }\n\n  getComponent(id: string): any {\n    switch (id) {\n      case 'network-switcher-enhanced':\n        return this.createNetworkSwitcher();\n      case 'custom-network-form':\n        return this.createCustomNetworkForm();\n      case 'network-status-indicator':\n        return this.createNetworkStatusIndicator();\n      default:\n        return null;\n    }\n  }\n\n  getWidget(id: string): any {\n    switch (id) {\n      case 'network-performance':\n        return this.createPerformanceWidget();\n      case 'network-security':\n        return this.createSecurityWidget();\n      default:\n        return null;\n    }\n  }\n\n  getBackgroundScript(id: string): any {\n    // No background scripts for this mod\n    return null;\n  }\n\n  async handleAPICall(endpoint: string, data: any): Promise<any> {\n    switch (endpoint) {\n      case 'switch-network':\n        return await this.switchNetwork(data.chainId);\n      case 'add-network':\n        return await this.addCustomNetwork(data.network);\n      case 'get-networks':\n        return await this.getAvailableNetworks();\n      default:\n        throw new Error(`Unknown API endpoint: ${endpoint}`);\n    }\n  }\n\n  emit(event: string, data: any): void {\n    if (this.engine) {\n      this.engine.emit(event, data);\n    }\n  }\n\n  on(event: string, handler: (data: any) => void): void {\n    if (this.engine) {\n      this.engine.on(event, handler);\n    }\n  }\n\n  off(event: string, handler: (data: any) => void): void {\n    if (this.engine) {\n      this.engine.off(event, handler);\n    }\n  }\n\n  async enhance(otherMod: Mod): Promise<boolean> {\n    // Enhance the header component with better network switching\n    if (otherMod.manifest.id === 'header-component') {\n      // Inject enhanced network switcher\n      return true;\n    }\n    \n    // Enhance wallet core with custom network support\n    if (otherMod.manifest.id === 'wallet-core') {\n      // Add custom network validation and management\n      return true;\n    }\n    \n    return false;\n  }\n\n  getEnhancements(): any[] {\n    return [\n      {\n        id: 'enhanced-network-switching',\n        name: 'Enhanced Network Switching',\n        description: 'Faster network switching with visual feedback',\n        targetMod: ['header-component'],\n        type: 'ui-enhancement'\n      },\n      {\n        id: 'custom-network-support',\n        name: 'Custom Network Support',\n        description: 'Add and manage custom RPC networks',\n        targetMod: ['wallet-core'],\n        type: 'feature-enhancement'\n      },\n      {\n        id: 'network-performance-monitoring',\n        name: 'Network Performance Monitoring',\n        description: 'Monitor RPC performance and suggest optimal endpoints',\n        targetMod: ['wallet-core'],\n        type: 'performance-enhancement'\n      }\n    ];\n  }\n\n  /**\n   * Private methods\n   */\n  private async loadCustomNetworks(): Promise<void> {\n    try {\n      // In production, this would load from secure storage\n      const stored = localStorage.getItem('yakkl:custom-networks');\n      this.customNetworks = stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.warn('Failed to load custom networks:', error);\n      this.customNetworks = [];\n    }\n  }\n\n  private async saveCustomNetworks(): Promise<void> {\n    try {\n      localStorage.setItem('yakkl:custom-networks', JSON.stringify(this.customNetworks));\n    } catch (error) {\n      console.error('Failed to save custom networks:', error);\n    }\n  }\n\n  private setupEventListeners(): void {\n    if (!this.engine) return;\n\n    this.engine.on('network:changed', (network) => {\n      console.log('üåê Network changed via Network Manager:', network.name);\n      this.emit('mod:network:changed', { network, source: 'network-manager' });\n    });\n\n    this.engine.on('network:error', (error) => {\n      console.warn('üåê Network error detected:', error);\n      this.emit('mod:network:error', { error, suggestions: this.getErrorSuggestions(error) });\n    });\n  }\n\n  private async switchNetwork(chainId: number): Promise<any> {\n    if (!this.engine) throw new Error('Engine not available');\n\n    try {\n      // Enhanced network switching with validation\n      const network = await this.validateNetwork(chainId);\n      if (!network) {\n        throw new Error(`Network with chain ID ${chainId} not found or invalid`);\n      }\n\n      // Switch using engine\n      await this.engine.networks.switch(chainId.toString());\n      \n      this.emit('mod:network:switched', { \n        chainId, \n        network,\n        timestamp: Date.now(),\n        source: 'network-manager-mod'\n      });\n\n      return { success: true, network };\n    } catch (error) {\n      this.emit('mod:network:switch-failed', { chainId, error: error.message });\n      throw error;\n    }\n  }\n\n  private async addCustomNetwork(networkData: any): Promise<any> {\n    try {\n      // Validate network data\n      const validated = await this.validateCustomNetwork(networkData);\n      \n      // Add to custom networks\n      this.customNetworks.push(validated);\n      await this.saveCustomNetworks();\n      \n      // Notify engine if it supports custom networks\n      if (this.engine?.networks.add) {\n        await this.engine.networks.add(validated);\n      }\n\n      this.emit('mod:network:added', { network: validated });\n      \n      return { success: true, network: validated };\n    } catch (error) {\n      this.emit('mod:network:add-failed', { networkData, error: error.message });\n      throw error;\n    }\n  }\n\n  private async getAvailableNetworks(): Promise<any[]> {\n    const standardNetworks = this.engine?.networks.getSupported() || [];\n    return [...standardNetworks, ...this.customNetworks];\n  }\n\n  private async validateNetwork(chainId: number): Promise<any> {\n    const networks = await this.getAvailableNetworks();\n    return networks.find(n => n.chainId === chainId);\n  }\n\n  private async validateCustomNetwork(data: any): Promise<any> {\n    // Basic validation\n    if (!data.name || !data.rpcUrl || !data.chainId) {\n      throw new Error('Network must have name, rpcUrl, and chainId');\n    }\n\n    // Check for duplicates\n    const existing = this.customNetworks.find(n => n.chainId === data.chainId);\n    if (existing) {\n      throw new Error(`Network with chain ID ${data.chainId} already exists`);\n    }\n\n    // Test RPC connection\n    try {\n      const response = await fetch(data.rpcUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          jsonrpc: '2.0',\n          method: 'eth_chainId',\n          params: [],\n          id: 1\n        })\n      });\n      \n      const result = await response.json();\n      const chainId = parseInt(result.result, 16);\n      \n      if (chainId !== data.chainId) {\n        throw new Error(`RPC returned different chain ID: ${chainId} vs ${data.chainId}`);\n      }\n    } catch (error) {\n      throw new Error(`RPC validation failed: ${error.message}`);\n    }\n\n    return {\n      ...data,\n      id: `custom-${data.chainId}`,\n      isCustom: true,\n      addedAt: Date.now()\n    };\n  }\n\n  private getErrorSuggestions(error: any): string[] {\n    const suggestions = [];\n    \n    if (error.code === 'NETWORK_ERROR') {\n      suggestions.push('Check your internet connection');\n      suggestions.push('Try switching to a different RPC endpoint');\n    }\n    \n    if (error.code === 'TIMEOUT') {\n      suggestions.push('RPC endpoint is slow, consider using a faster one');\n      suggestions.push('Check if the network is experiencing congestion');\n    }\n    \n    return suggestions;\n  }\n\n  private createNetworkSwitcher(): any {\n    return {\n      type: 'enhanced-network-switcher',\n      props: {\n        networks: this.getAvailableNetworks(),\n        customNetworks: this.customNetworks,\n        onSwitch: (chainId: number) => this.switchNetwork(chainId),\n        onAddCustom: (network: any) => this.addCustomNetwork(network)\n      }\n    };\n  }\n\n  private createCustomNetworkForm(): any {\n    return {\n      type: 'custom-network-form',\n      props: {\n        onSubmit: (data: any) => this.addCustomNetwork(data),\n        onValidate: (data: any) => this.validateCustomNetwork(data)\n      }\n    };\n  }\n\n  private createNetworkStatusIndicator(): any {\n    return {\n      type: 'network-status',\n      props: {\n        currentNetwork: this.engine?.networks.getCurrent(),\n        onRefresh: () => this.checkNetworkHealth()\n      }\n    };\n  }\n\n  private createPerformanceWidget(): any {\n    return {\n      type: 'network-performance-widget',\n      props: {\n        metrics: this.getNetworkMetrics(),\n        onOptimize: () => this.suggestOptimalEndpoint()\n      }\n    };\n  }\n\n  private createSecurityWidget(): any {\n    return {\n      type: 'network-security-widget',\n      props: {\n        securityLevel: this.assessNetworkSecurity(),\n        warnings: this.getSecurityWarnings()\n      }\n    };\n  }\n\n  private async checkNetworkHealth(): Promise<any> {\n    // Implementation for network health check\n    return { healthy: true, latency: 250, reliability: 99.5 };\n  }\n\n  private getNetworkMetrics(): any {\n    // Implementation for network performance metrics\n    return {\n      latency: 250,\n      successRate: 99.2,\n      avgBlockTime: 12.5\n    };\n  }\n\n  private async suggestOptimalEndpoint(): Promise<string[]> {\n    // Implementation for suggesting optimal RPC endpoints\n    return ['https://eth.llamarpc.com', 'https://cloudflare-eth.com'];\n  }\n\n  private assessNetworkSecurity(): 'high' | 'medium' | 'low' {\n    // Implementation for network security assessment\n    return 'high';\n  }\n\n  private getSecurityWarnings(): string[] {\n    // Implementation for security warnings\n    return [];\n  }\n}\n\nexport default NetworkManagerMod;","/**\n * Account Manager Mod - Enhanced account management and security\n */\n\n// @ts-nocheck - Mock implementation for system mod\ntype Mod = any;\ntype WalletEngine = any;\ntype ModManifest = any;\n\nexport class AccountManagerMod implements Mod {\n  manifest: ModManifest = {\n    id: 'system-account-manager',\n    name: 'Enhanced Account Manager',\n    version: '1.0.0',\n    description: 'Advanced account management with security features and multi-sig support',\n    author: 'YAKKL Team',\n    license: 'MIT',\n    tier: 'community',\n    category: 'account',\n    tags: ['account', 'security', 'management', 'multi-sig'],\n    permissions: ['storage', 'accounts', 'signatures'],\n    minimumWalletVersion: '2.0.0',\n    supportedPlatforms: ['web', 'extension'],\n    discoverable: true,\n    enhances: ['wallet-core', 'header-component', 'transaction-manager'],\n    conflicts: [],\n    iconUrl: '/icons/account-manager.svg',\n    screenshotUrls: [],\n    capabilities: {\n      ui: {\n        hasComponents: true,\n        hasWidgets: true,\n        mountPoints: ['header', 'accounts', 'settings', 'modal']\n      },\n      background: {\n        hasWorkers: false,\n        hasScheduledTasks: true\n      },\n      apis: {\n        endpoints: ['create-account', 'import-account', 'export-account', 'backup-accounts'],\n        webhooks: []\n      },\n      storage: {\n        maxSize: 5 * 1024 * 1024, // 5MB\n        encrypted: true\n      },\n      network: {\n        allowedHosts: ['api.ens.domains'],\n        requiresProxy: false\n      }\n    }\n  };\n\n  private engine: WalletEngine | null = null;\n  private loaded = false;\n  private active = false;\n  private accountCache = new Map<string, any>();\n  private securitySettings: any = {};\n\n  async initialize(engine: WalletEngine): Promise<void> {\n    this.engine = engine;\n    this.loaded = true;\n    this.active = true;\n    \n    // Load security settings\n    await this.loadSecuritySettings();\n    \n    // Initialize account cache\n    await this.initializeAccountCache();\n    \n    console.log('üë§ Account Manager mod initialized');\n    \n    // Setup event listeners\n    this.setupEventListeners();\n    \n    // Start security monitoring\n    this.startSecurityMonitoring();\n  }\n\n  async destroy(): Promise<void> {\n    this.loaded = false;\n    this.active = false;\n    this.engine = null;\n    this.accountCache.clear();\n    this.securitySettings = {};\n    \n    console.log('üë§ Account Manager mod destroyed');\n  }\n\n  isLoaded(): boolean {\n    return this.loaded;\n  }\n\n  isActive(): boolean {\n    return this.active;\n  }\n\n  getComponent(id: string): any {\n    switch (id) {\n      case 'account-switcher-enhanced':\n        return this.createAccountSwitcher();\n      case 'account-creation-wizard':\n        return this.createAccountWizard();\n      case 'account-security-panel':\n        return this.createSecurityPanel();\n      case 'account-backup-manager':\n        return this.createBackupManager();\n      case 'multi-sig-manager':\n        return this.createMultiSigManager();\n      default:\n        return null;\n    }\n  }\n\n  getWidget(id: string): any {\n    switch (id) {\n      case 'account-health':\n        return this.createAccountHealthWidget();\n      case 'security-status':\n        return this.createSecurityStatusWidget();\n      case 'balance-overview':\n        return this.createBalanceOverviewWidget();\n      default:\n        return null;\n    }\n  }\n\n  getBackgroundScript(id: string): any {\n    switch (id) {\n      case 'security-monitor':\n        return this.createSecurityMonitor();\n      default:\n        return null;\n    }\n  }\n\n  async handleAPICall(endpoint: string, data: any): Promise<any> {\n    switch (endpoint) {\n      case 'create-account':\n        return await this.createAccount(data);\n      case 'import-account':\n        return await this.importAccount(data);\n      case 'export-account':\n        return await this.exportAccount(data);\n      case 'backup-accounts':\n        return await this.backupAccounts(data);\n      default:\n        throw new Error(`Unknown API endpoint: ${endpoint}`);\n    }\n  }\n\n  emit(event: string, data: any): void {\n    if (this.engine) {\n      this.engine.emit(event, data);\n    }\n  }\n\n  on(event: string, handler: (data: any) => void): void {\n    if (this.engine) {\n      this.engine.on(event, handler);\n    }\n  }\n\n  off(event: string, handler: (data: any) => void): void {\n    if (this.engine) {\n      this.engine.off(event, handler);\n    }\n  }\n\n  async enhance(otherMod: Mod): Promise<boolean> {\n    // Enhance transaction manager with account validation\n    if (otherMod.manifest.id === 'transaction-manager') {\n      // Add enhanced account validation for transactions\n      return true;\n    }\n    \n    // Enhance header component with better account switching\n    if (otherMod.manifest.id === 'header-component') {\n      // Inject enhanced account switcher\n      return true;\n    }\n    \n    // Enhance wallet core with security features\n    if (otherMod.manifest.id === 'wallet-core') {\n      // Add account security monitoring\n      return true;\n    }\n    \n    return false;\n  }\n\n  getEnhancements(): any[] {\n    return [\n      {\n        id: 'enhanced-account-switching',\n        name: 'Enhanced Account Switching',\n        description: 'Faster account switching with ENS resolution and balance preview',\n        targetMod: ['header-component'],\n        type: 'ui-enhancement'\n      },\n      {\n        id: 'transaction-security-validation',\n        name: 'Transaction Security Validation',\n        description: 'Enhanced security checks for transactions',\n        targetMod: ['transaction-manager'],\n        type: 'security-enhancement'\n      },\n      {\n        id: 'multi-sig-support',\n        name: 'Multi-Signature Support',\n        description: 'Support for multi-signature wallets and transactions',\n        targetMod: ['wallet-core'],\n        type: 'feature-enhancement'\n      },\n      {\n        id: 'account-health-monitoring',\n        name: 'Account Health Monitoring',\n        description: 'Monitor account activity and detect suspicious behavior',\n        targetMod: ['wallet-core'],\n        type: 'security-enhancement'\n      }\n    ];\n  }\n\n  /**\n   * Private methods\n   */\n  private async loadSecuritySettings(): Promise<void> {\n    try {\n      const stored = localStorage.getItem('yakkl:account-security');\n      this.securitySettings = stored ? JSON.parse(stored) : {\n        autoLockTimeout: 15, // minutes\n        requireBiometric: false,\n        allowScreenshots: false,\n        maxFailedAttempts: 3,\n        enabledFeatures: ['ens-resolution', 'balance-monitoring']\n      };\n    } catch (error) {\n      console.warn('Failed to load security settings:', error);\n      this.securitySettings = {};\n    }\n  }\n\n  private async saveSecuritySettings(): Promise<void> {\n    try {\n      localStorage.setItem('yakkl:account-security', JSON.stringify(this.securitySettings));\n    } catch (error) {\n      console.error('Failed to save security settings:', error);\n    }\n  }\n\n  private async initializeAccountCache(): Promise<void> {\n    if (!this.engine) return;\n\n    try {\n      const accounts = await this.engine.accounts.getAll();\n      for (const account of accounts) {\n        await this.cacheAccountData(account);\n      }\n    } catch (error) {\n      console.warn('Failed to initialize account cache:', error);\n    }\n  }\n\n  private async cacheAccountData(account: any): Promise<void> {\n    try {\n      const enrichedAccount = {\n        ...account,\n        balance: await this.getAccountBalance(account.address),\n        ensName: await this.resolveENS(account.address),\n        lastActivity: await this.getLastActivity(account.address),\n        securityScore: await this.calculateSecurityScore(account),\n        cached: Date.now()\n      };\n\n      this.accountCache.set(account.address, enrichedAccount);\n    } catch (error) {\n      console.warn(`Failed to cache data for account ${account.address}:`, error);\n    }\n  }\n\n  private setupEventListeners(): void {\n    if (!this.engine) return;\n\n    this.engine.on('account:created', async (account) => {\n      console.log('üë§ New account created:', account.address);\n      await this.cacheAccountData(account);\n      this.emit('mod:account:created', { account, enhanced: true });\n    });\n\n    this.engine.on('account:selected', async (account) => {\n      console.log('üë§ Account selected:', account.address);\n      await this.refreshAccountCache(account.address);\n      this.emit('mod:account:selected', { account, cached: this.accountCache.get(account.address) });\n    });\n\n    this.engine.on('transaction:signed', (transaction) => {\n      this.recordAccountActivity(transaction.from, 'transaction_signed');\n    });\n  }\n\n  private startSecurityMonitoring(): void {\n    // Start periodic security checks\n    setInterval(() => {\n      this.performSecurityCheck();\n    }, 60000); // Every minute\n  }\n\n  private async createAccount(data: any): Promise<any> {\n    if (!this.engine) throw new Error('Engine not available');\n\n    try {\n      // Enhanced account creation with security features\n      const account = await this.engine.accounts.create(data.name);\n      \n      // Apply security settings\n      if (this.securitySettings.requireBiometric) {\n        // TODO: Setup biometric protection\n      }\n      \n      // Cache account data\n      await this.cacheAccountData(account);\n      \n      this.emit('mod:account:created-enhanced', { \n        account,\n        securityLevel: this.calculateSecurityLevel(account),\n        timestamp: Date.now()\n      });\n\n      return { success: true, account };\n    } catch (error) {\n      this.emit('mod:account:creation-failed', { error: error.message, data });\n      throw error;\n    }\n  }\n\n  private async importAccount(data: any): Promise<any> {\n    if (!this.engine) throw new Error('Engine not available');\n\n    try {\n      // Validate import data\n      await this.validateImportData(data);\n      \n      // Import account using engine\n      let account;\n      if (data.type === 'private-key') {\n        account = await this.engine.accounts.importPrivateKey(data.privateKey, data.name);\n      } else if (data.type === 'mnemonic') {\n        account = await this.engine.accounts.importMnemonic(data.mnemonic, data.name);\n      } else if (data.type === 'watch-only') {\n        account = await this.engine.accounts.importWatchOnly(data.address, data.name);\n      } else {\n        throw new Error(`Unsupported import type: ${data.type}`);\n      }\n      \n      // Cache account data\n      await this.cacheAccountData(account);\n      \n      this.emit('mod:account:imported', { account, type: data.type });\n\n      return { success: true, account };\n    } catch (error) {\n      this.emit('mod:account:import-failed', { error: error.message, type: data.type });\n      throw error;\n    }\n  }\n\n  private async exportAccount(data: any): Promise<any> {\n    try {\n      // Security check\n      if (!this.validateExportPermissions(data.address)) {\n        throw new Error('Export not allowed for this account');\n      }\n      \n      // TODO: Implement secure export\n      // For now, return placeholder\n      this.emit('mod:account:exported', { address: data.address, type: data.type });\n      \n      return { success: true, warning: 'Keep exported data secure' };\n    } catch (error) {\n      this.emit('mod:account:export-failed', { error: error.message, address: data.address });\n      throw error;\n    }\n  }\n\n  private async backupAccounts(data: any): Promise<any> {\n    try {\n      // Create encrypted backup\n      const accounts = await this.engine?.accounts.getAll() || [];\n      const backup = {\n        version: '1.0',\n        timestamp: Date.now(),\n        accountCount: accounts.length,\n        encrypted: true,\n        // TODO: Add encrypted account data\n      };\n      \n      this.emit('mod:account:backup-created', { backup });\n      \n      return { success: true, backup };\n    } catch (error) {\n      this.emit('mod:account:backup-failed', { error: error.message });\n      throw error;\n    }\n  }\n\n  private async getAccountBalance(address: string): Promise<string> {\n    // TODO: Implement balance fetching\n    return '0.0';\n  }\n\n  private async resolveENS(address: string): Promise<string | null> {\n    if (!this.securitySettings.enabledFeatures?.includes('ens-resolution')) {\n      return null;\n    }\n    \n    try {\n      // TODO: Implement ENS resolution\n      return null;\n    } catch (error) {\n      return null;\n    }\n  }\n\n  private async getLastActivity(address: string): Promise<number> {\n    // TODO: Implement activity tracking\n    return Date.now();\n  }\n\n  private async calculateSecurityScore(account: any): Promise<number> {\n    let score = 50; // Base score\n    \n    // Add points for various security features\n    if (account.type === 'hardware') score += 30;\n    if (account.type === 'multi-sig') score += 25;\n    if (this.securitySettings.requireBiometric) score += 15;\n    \n    return Math.min(score, 100);\n  }\n\n  private calculateSecurityLevel(account: any): 'low' | 'medium' | 'high' {\n    const score = this.calculateSecurityScore(account);\n    if (score >= 80) return 'high';\n    if (score >= 60) return 'medium';\n    return 'low';\n  }\n\n  private async refreshAccountCache(address: string): Promise<void> {\n    const account = await this.engine?.accounts.get(address);\n    if (account) {\n      await this.cacheAccountData(account);\n    }\n  }\n\n  private async validateImportData(data: any): Promise<void> {\n    if (!data.type) {\n      throw new Error('Import type is required');\n    }\n    \n    if (data.type === 'private-key' && !data.privateKey) {\n      throw new Error('Private key is required');\n    }\n    \n    if (data.type === 'mnemonic' && !data.mnemonic) {\n      throw new Error('Mnemonic phrase is required');\n    }\n    \n    if (data.type === 'watch-only' && !data.address) {\n      throw new Error('Address is required for watch-only accounts');\n    }\n  }\n\n  private validateExportPermissions(address: string): boolean {\n    // TODO: Implement permission validation\n    return true;\n  }\n\n  private recordAccountActivity(address: string, activity: string): void {\n    // TODO: Implement activity recording\n    console.log(`üë§ Activity recorded for ${address}: ${activity}`);\n  }\n\n  private async performSecurityCheck(): Promise<void> {\n    // TODO: Implement periodic security checks\n    // - Check for suspicious activity\n    // - Validate account integrity\n    // - Monitor for compromise indicators\n  }\n\n  // Component creators\n  private createAccountSwitcher(): any {\n    return {\n      type: 'enhanced-account-switcher',\n      props: {\n        accounts: Array.from(this.accountCache.values()),\n        onSwitch: (address: string) => this.switchAccount(address),\n        showBalances: true,\n        showENS: true\n      }\n    };\n  }\n\n  private createAccountWizard(): any {\n    return {\n      type: 'account-creation-wizard',\n      props: {\n        onCreateNew: (data: any) => this.createAccount(data),\n        onImport: (data: any) => this.importAccount(data),\n        securityOptions: this.securitySettings\n      }\n    };\n  }\n\n  private createSecurityPanel(): any {\n    return {\n      type: 'account-security-panel',\n      props: {\n        settings: this.securitySettings,\n        onUpdateSettings: (settings: any) => this.updateSecuritySettings(settings)\n      }\n    };\n  }\n\n  private createBackupManager(): any {\n    return {\n      type: 'account-backup-manager',\n      props: {\n        onCreateBackup: (options: any) => this.backupAccounts(options),\n        onRestoreBackup: (backup: any) => this.restoreBackup(backup)\n      }\n    };\n  }\n\n  private createMultiSigManager(): any {\n    return {\n      type: 'multi-sig-manager',\n      props: {\n        multiSigAccounts: this.getMultiSigAccounts(),\n        onCreateMultiSig: (config: any) => this.createMultiSig(config)\n      }\n    };\n  }\n\n  private createAccountHealthWidget(): any {\n    return {\n      type: 'account-health-widget',\n      props: {\n        accounts: Array.from(this.accountCache.values()),\n        healthScores: this.getAccountHealthScores()\n      }\n    };\n  }\n\n  private createSecurityStatusWidget(): any {\n    return {\n      type: 'security-status-widget',\n      props: {\n        overallStatus: this.getOverallSecurityStatus(),\n        alerts: this.getSecurityAlerts()\n      }\n    };\n  }\n\n  private createBalanceOverviewWidget(): any {\n    return {\n      type: 'balance-overview-widget',\n      props: {\n        totalBalance: this.calculateTotalBalance(),\n        accountBalances: this.getAccountBalances()\n      }\n    };\n  }\n\n  private createSecurityMonitor(): any {\n    return {\n      type: 'security-monitor-worker',\n      script: () => {\n        // Background security monitoring\n        setInterval(() => {\n          this.performSecurityCheck();\n        }, 300000); // Every 5 minutes\n      }\n    };\n  }\n\n  // Helper methods for components\n  private async switchAccount(address: string): Promise<void> {\n    if (this.engine) {\n      await this.engine.accounts.select(address);\n    }\n  }\n\n  private async updateSecuritySettings(settings: any): Promise<void> {\n    this.securitySettings = { ...this.securitySettings, ...settings };\n    await this.saveSecuritySettings();\n  }\n\n  private async restoreBackup(backup: any): Promise<any> {\n    // TODO: Implement backup restoration\n    return { success: true };\n  }\n\n  private getMultiSigAccounts(): any[] {\n    return Array.from(this.accountCache.values()).filter(acc => acc.type === 'multi-sig');\n  }\n\n  private async createMultiSig(config: any): Promise<any> {\n    // TODO: Implement multi-sig creation\n    return { success: true };\n  }\n\n  private getAccountHealthScores(): Record<string, number> {\n    const scores: Record<string, number> = {};\n    for (const [address, account] of this.accountCache) {\n      scores[address] = account.securityScore || 50;\n    }\n    return scores;\n  }\n\n  private getOverallSecurityStatus(): 'secure' | 'warning' | 'critical' {\n    // TODO: Calculate overall security status\n    return 'secure';\n  }\n\n  private getSecurityAlerts(): string[] {\n    // TODO: Get current security alerts\n    return [];\n  }\n\n  private calculateTotalBalance(): string {\n    // TODO: Calculate total balance across all accounts\n    return '0.0';\n  }\n\n  private getAccountBalances(): Record<string, string> {\n    const balances: Record<string, string> = {};\n    for (const [address, account] of this.accountCache) {\n      balances[address] = account.balance || '0.0';\n    }\n    return balances;\n  }\n}\n\nexport default AccountManagerMod;","/**\n * System Mod Registry\n * \n * Manages loading and registration of system mods\n */\n\n// @ts-nocheck - Mock implementation for system mod registry\ntype Mod = any;\n\n// Import system mods\nimport NetworkManagerMod from './network-manager/index';\nimport AccountManagerMod from './account-manager/index';\n\nexport interface ModRegistryEntry {\n  id: string;\n  name: string;\n  description: string;\n  category: string;\n  tier: string;\n  loader: () => Promise<Mod>;\n  enabled: boolean;\n  systemMod: boolean;\n}\n\nexport class SystemModRegistry {\n  private static instance: SystemModRegistry;\n  private mods = new Map<string, ModRegistryEntry>();\n  private loadedMods = new Map<string, Mod>();\n\n  static getInstance(): SystemModRegistry {\n    if (!SystemModRegistry.instance) {\n      SystemModRegistry.instance = new SystemModRegistry();\n    }\n    return SystemModRegistry.instance;\n  }\n\n  constructor() {\n    this.registerSystemMods();\n  }\n\n  /**\n   * Register all system mods\n   */\n  private registerSystemMods(): void {\n    // Register Network Manager Mod\n    this.mods.set('system-network-manager', {\n      id: 'system-network-manager',\n      name: 'Enhanced Network Manager',\n      description: 'Advanced network switching and management with custom networks support',\n      category: 'network',\n      tier: 'community',\n      loader: async () => new NetworkManagerMod(),\n      enabled: true,\n      systemMod: true\n    });\n\n    // Register Account Manager Mod\n    this.mods.set('system-account-manager', {\n      id: 'system-account-manager',\n      name: 'Enhanced Account Manager',\n      description: 'Advanced account management with security features and multi-sig support',\n      category: 'account',\n      tier: 'community',\n      loader: async () => new AccountManagerMod(),\n      enabled: true,\n      systemMod: true\n    });\n\n    console.log('üìã System mod registry initialized with', this.mods.size, 'mods');\n  }\n\n  /**\n   * Get all registered mods\n   */\n  getAvailableMods(): ModRegistryEntry[] {\n    return Array.from(this.mods.values());\n  }\n\n  /**\n   * Get mods by category\n   */\n  getModsByCategory(category: string): ModRegistryEntry[] {\n    return Array.from(this.mods.values()).filter(mod => mod.category === category);\n  }\n\n  /**\n   * Get enabled mods\n   */\n  getEnabledMods(): ModRegistryEntry[] {\n    return Array.from(this.mods.values()).filter(mod => mod.enabled);\n  }\n\n  /**\n   * Get system mods\n   */\n  getSystemMods(): ModRegistryEntry[] {\n    return Array.from(this.mods.values()).filter(mod => mod.systemMod);\n  }\n\n  /**\n   * Load a mod by ID\n   */\n  async loadMod(modId: string): Promise<Mod | null> {\n    const entry = this.mods.get(modId);\n    if (!entry) {\n      console.warn(`Mod ${modId} not found in registry`);\n      return null;\n    }\n\n    if (!entry.enabled) {\n      console.warn(`Mod ${modId} is disabled`);\n      return null;\n    }\n\n    // Check if already loaded\n    if (this.loadedMods.has(modId)) {\n      return this.loadedMods.get(modId)!;\n    }\n\n    try {\n      console.log(`üì¶ Loading mod: ${entry.name}`);\n      const mod = await entry.loader();\n      this.loadedMods.set(modId, mod);\n      console.log(`‚úÖ Loaded mod: ${entry.name}`);\n      return mod;\n    } catch (error) {\n      console.error(`Failed to load mod ${modId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Load all enabled mods\n   */\n  async loadAllEnabledMods(): Promise<Mod[]> {\n    const enabledMods = this.getEnabledMods();\n    const loadPromises = enabledMods.map(entry => this.loadMod(entry.id));\n    const results = await Promise.allSettled(loadPromises);\n    \n    return results\n      .filter((result): result is PromiseFulfilledResult<Mod | null> => \n        result.status === 'fulfilled' && result.value !== null\n      )\n      .map(result => result.value!);\n  }\n\n  /**\n   * Load system mods only\n   */\n  async loadSystemMods(): Promise<Mod[]> {\n    const systemMods = this.getSystemMods();\n    const loadPromises = systemMods.map(entry => this.loadMod(entry.id));\n    const results = await Promise.allSettled(loadPromises);\n    \n    return results\n      .filter((result): result is PromiseFulfilledResult<Mod | null> => \n        result.status === 'fulfilled' && result.value !== null\n      )\n      .map(result => result.value!);\n  }\n\n  /**\n   * Enable or disable a mod\n   */\n  setModEnabled(modId: string, enabled: boolean): boolean {\n    const entry = this.mods.get(modId);\n    if (!entry) {\n      return false;\n    }\n\n    entry.enabled = enabled;\n    \n    // If disabling, remove from loaded mods\n    if (!enabled && this.loadedMods.has(modId)) {\n      const mod = this.loadedMods.get(modId);\n      if (mod && mod.destroy) {\n        mod.destroy().catch(err => console.warn(`Error destroying mod ${modId}:`, err));\n      }\n      this.loadedMods.delete(modId);\n    }\n\n    return true;\n  }\n\n  /**\n   * Get a loaded mod\n   */\n  getLoadedMod(modId: string): Mod | null {\n    return this.loadedMods.get(modId) || null;\n  }\n\n  /**\n   * Get all loaded mods\n   */\n  getLoadedMods(): Mod[] {\n    return Array.from(this.loadedMods.values());\n  }\n\n  /**\n   * Check if a mod is loaded\n   */\n  isModLoaded(modId: string): boolean {\n    return this.loadedMods.has(modId);\n  }\n\n  /**\n   * Unload a mod\n   */\n  async unloadMod(modId: string): Promise<boolean> {\n    const mod = this.loadedMods.get(modId);\n    if (!mod) {\n      return false;\n    }\n\n    try {\n      if (mod.destroy) {\n        await mod.destroy();\n      }\n      this.loadedMods.delete(modId);\n      console.log(`üóëÔ∏è Unloaded mod: ${modId}`);\n      return true;\n    } catch (error) {\n      console.error(`Failed to unload mod ${modId}:`, error);\n      return false;\n    }\n  }\n\n  /**\n   * Unload all mods\n   */\n  async unloadAllMods(): Promise<void> {\n    const unloadPromises = Array.from(this.loadedMods.keys()).map(modId => \n      this.unloadMod(modId)\n    );\n    \n    await Promise.allSettled(unloadPromises);\n    this.loadedMods.clear();\n  }\n\n  /**\n   * Register a new mod (for third-party mods)\n   */\n  registerMod(entry: Omit<ModRegistryEntry, 'systemMod'>): boolean {\n    if (this.mods.has(entry.id)) {\n      console.warn(`Mod ${entry.id} is already registered`);\n      return false;\n    }\n\n    this.mods.set(entry.id, {\n      ...entry,\n      systemMod: false\n    });\n\n    console.log(`üìù Registered mod: ${entry.name}`);\n    return true;\n  }\n\n  /**\n   * Unregister a mod\n   */\n  async unregisterMod(modId: string): Promise<boolean> {\n    const entry = this.mods.get(modId);\n    if (!entry) {\n      return false;\n    }\n\n    // Don't allow unregistering system mods\n    if (entry.systemMod) {\n      console.warn(`Cannot unregister system mod: ${modId}`);\n      return false;\n    }\n\n    // Unload if loaded\n    if (this.loadedMods.has(modId)) {\n      await this.unloadMod(modId);\n    }\n\n    this.mods.delete(modId);\n    console.log(`üóëÔ∏è Unregistered mod: ${entry.name}`);\n    return true;\n  }\n\n  /**\n   * Search mods by name or description\n   */\n  searchMods(query: string): ModRegistryEntry[] {\n    const lowerQuery = query.toLowerCase();\n    return Array.from(this.mods.values()).filter(mod =>\n      mod.name.toLowerCase().includes(lowerQuery) ||\n      mod.description.toLowerCase().includes(lowerQuery) ||\n      mod.category.toLowerCase().includes(lowerQuery)\n    );\n  }\n\n  /**\n   * Get mod statistics\n   */\n  getStatistics(): {\n    total: number;\n    enabled: number;\n    loaded: number;\n    system: number;\n    thirdParty: number;\n    byCategory: Record<string, number>;\n  } {\n    const mods = Array.from(this.mods.values());\n    const byCategory: Record<string, number> = {};\n    \n    for (const mod of mods) {\n      byCategory[mod.category] = (byCategory[mod.category] || 0) + 1;\n    }\n\n    return {\n      total: mods.length,\n      enabled: mods.filter(m => m.enabled).length,\n      loaded: this.loadedMods.size,\n      system: mods.filter(m => m.systemMod).length,\n      thirdParty: mods.filter(m => !m.systemMod).length,\n      byCategory\n    };\n  }\n}\n\n// Export singleton instance\nexport const systemModRegistry = SystemModRegistry.getInstance();\n\n// Convenience functions\nexport const loadSystemMods = () => systemModRegistry.loadSystemMods();\nexport const loadMod = (modId: string) => systemModRegistry.loadMod(modId);\nexport const getAvailableMods = () => systemModRegistry.getAvailableMods();\nexport const getLoadedMods = () => systemModRegistry.getLoadedMods();\nexport const isModLoaded = (modId: string) => systemModRegistry.isModLoaded(modId);\n\nconsole.log('üìã System mod registry exported');","/**\n * Core Integration for Preview 2.0\n * \n * This bridges the existing preview2 system with the new YAKKL Core\n * Maintains compatibility while adding mod capabilities\n */\n\n// TODO: Enable when build issues are resolved\n// import { WalletEngine, createWallet } from '@yakkl/core';\n// import type { Mod, WalletConfig } from '@yakkl/core';\n\ntype WalletEngine = any;\ntype Mod = any;\ntype WalletConfig = any;\n\nimport { get, writable } from 'svelte/store';\nimport { systemModRegistry } from '../mods/registry';\n\nclass CoreIntegration {\n  private engine: WalletEngine | null = null;\n  private initialized = false;\n\n  // Stores for mod system\n  public mods = writable<Mod[]>([]);\n  public enhancements = writable<any[]>([]);\n  public discoveredMods = writable<any[]>([]);\n\n  static getInstance(): CoreIntegration {\n    if (!(globalThis as any).coreIntegration) {\n      (globalThis as any).coreIntegration = new CoreIntegration();\n    }\n    return (globalThis as any).coreIntegration;\n  }\n\n  async initialize(): Promise<void> {\n    if (this.initialized) return;\n\n    try {\n      // TODO: Enable YAKKL Core when build issues are resolved\n      // const config: Partial<WalletConfig> = {\n      //   name: 'YAKKL Wallet Preview 2.0',\n      //   version: '2.0.0-preview',\n      //   embedded: false,\n      //   enableMods: true,\n      //   enableDiscovery: true,\n      //   storagePrefix: 'yakkl:preview2',\n      //   logLevel: 'info'\n      // };\n      // this.engine = await createWallet(config);\n      // console.log('‚úÖ YAKKL Core initialized successfully');\n\n      // Using mock engine for now\n      this.engine = this.createMockEngine();\n      console.log('üîß Using mock engine - YAKKL Core integration ready for future');\n\n      this.setupEventListeners();\n      \n      // Load system mods\n      await this.loadSystemMods();\n      \n      this.updateStores();\n      \n      this.initialized = true;\n    } catch (error) {\n      console.error('Failed to initialize core integration:', error);\n      // Fall back to mock for development if core fails\n      this.engine = this.createMockEngine();\n      this.initialized = true;\n      console.warn('‚ö†Ô∏è Using mock engine - YAKKL Core initialization failed');\n    }\n  }\n\n  private createMockEngine(): any {\n    return {\n      initialize(): Promise<void> { return Promise.resolve(); },\n      async destroy(): Promise<void> {},\n      on(event: string, handler: any): void {},\n      emit(event: string, data: any): void {},\n      off(event: string, handler: any): void {},\n      async loadMod(id: string): Promise<any> { \n        // Load from system registry\n        return await systemModRegistry.loadMod(id);\n      },\n      async discoverMods(): Promise<any[]> { \n        return systemModRegistry.getAvailableMods();\n      },\n      async getLoadedMods(): Promise<any[]> { \n        return systemModRegistry.getLoadedMods();\n      },\n      accounts: {\n        getAll: (): any[] => [],\n        getCurrent: (): any => null,\n        create: (name?: string): Promise<any> => Promise.resolve({ address: '0x...', name }),\n        select: (address: string): Promise<void> => Promise.resolve()\n      },\n      networks: {\n        getSupported: (): any[] => [],\n        getCurrent: (): any => ({ chainId: 1, name: 'Ethereum' }),\n        switch: (chainId: string): Promise<void> => Promise.resolve()\n      },\n      transactions: {\n        getHistory: (): any[] => []\n      }\n    };\n  }\n\n  /**\n   * Load system mods\n   */\n  private async loadSystemMods(): Promise<void> {\n    try {\n      console.log('üì¶ Loading system mods...');\n      const systemMods = await systemModRegistry.loadSystemMods();\n      \n      // Initialize each system mod with the engine\n      for (const mod of systemMods) {\n        try {\n          if (this.engine && mod.initialize) {\n            await mod.initialize(this.engine);\n            console.log(`‚úÖ Initialized system mod: ${mod.manifest?.name || 'Unknown'}`);\n          }\n        } catch (error) {\n          console.error(`Failed to initialize system mod ${mod.manifest?.id}:`, error);\n        }\n      }\n      \n      console.log(`üì¶ Loaded ${systemMods.length} system mods`);\n    } catch (error) {\n      console.error('Failed to load system mods:', error);\n    }\n  }\n\n  /**\n   * Load a mod\n   */\n  async loadMod(modId: string): Promise<Mod | null> {\n    try {\n      // Try to load from system registry first\n      let mod = await systemModRegistry.loadMod(modId);\n      \n      if (mod && this.engine) {\n        // Initialize the mod with the engine\n        if (mod.initialize) {\n          await mod.initialize(this.engine);\n        }\n        this.updateStores();\n        return mod;\n      }\n      \n      // Fall back to engine loading (for future real core integration)\n      if (this.engine) {\n        mod = await this.engine.loadMod(modId);\n        this.updateStores();\n        return mod;\n      }\n      \n      return null;\n    } catch (error) {\n      console.error(`Failed to load mod ${modId}:`, error);\n      return null;\n    }\n  }\n\n  /**\n   * Discover available mods\n   */\n  async discoverMods(): Promise<any[]> {\n    try {\n      // Get available mods from system registry\n      const systemMods = systemModRegistry.getAvailableMods();\n      \n      // Get discovered mods from engine (for future expansion)\n      let engineMods: any[] = [];\n      if (this.engine) {\n        try {\n          engineMods = await this.engine.discoverMods();\n        } catch (error) {\n          console.warn('Engine mod discovery failed:', error);\n        }\n      }\n      \n      // Combine system and engine mods\n      const allDiscovered = [...systemMods, ...engineMods];\n      this.discoveredMods.set(allDiscovered);\n      \n      return allDiscovered;\n    } catch (error) {\n      console.error('Failed to discover mods:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Get mods by category\n   */\n  async getModsByCategory(category: string): Promise<Mod[]> {\n    if (!this.engine) return [];\n\n    try {\n      // Get loaded mods and filter by category\n      const loadedMods = await this.engine.getLoadedMods();\n      return loadedMods.filter((mod: Mod) => \n        mod.manifest.category === category\n      );\n    } catch (error) {\n      console.error('Failed to get mods by category:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Check if a mod can enhance existing functionality\n   */\n  async checkEnhancements(feature: string): Promise<any[]> {\n    if (!this.engine) return [];\n\n    try {\n      // Get loaded mods and check for enhancements\n      const loadedMods = await this.engine.getLoadedMods();\n      const enhancements: any[] = [];\n      \n      for (const mod of loadedMods) {\n        const modEnhancements = mod.getEnhancements();\n        const relevantEnhancements = modEnhancements.filter((e: any) => \n          e.targetMod.includes(feature) || \n          e.description.toLowerCase().includes(feature.toLowerCase())\n        );\n        enhancements.push(...relevantEnhancements);\n      }\n      \n      return enhancements;\n    } catch (error) {\n      console.error('Failed to check enhancements:', error);\n      return [];\n    }\n  }\n\n  /**\n   * Setup event listeners for engine events\n   */\n  private setupEventListeners(): void {\n    if (!this.engine) return;\n\n    this.engine.on('mod:loaded', () => {\n      this.updateStores();\n    });\n\n    this.engine.on('mod:discovered', (mods: any[]) => {\n      this.discoveredMods.set(mods);\n    });\n  }\n\n  /**\n   * Update reactive stores with current state\n   */\n  private async updateStores(): Promise<void> {\n    try {\n      // Get loaded mods from system registry\n      const systemMods = systemModRegistry.getLoadedMods();\n      \n      // Get loaded mods from engine (for future)\n      let engineMods: any[] = [];\n      if (this.engine) {\n        try {\n          engineMods = await this.engine.getLoadedMods();\n        } catch (error) {\n          console.warn('Engine mod loading failed:', error);\n        }\n      }\n      \n      // Combine all loaded mods\n      const allLoadedMods = [...systemMods, ...engineMods];\n      this.mods.set(allLoadedMods);\n\n      // Collect all enhancements from loaded mods\n      const allEnhancements: any[] = [];\n      for (const mod of allLoadedMods) {\n        if (mod.getEnhancements) {\n          try {\n            allEnhancements.push(...mod.getEnhancements());\n          } catch (error) {\n            console.warn(`Failed to get enhancements from mod ${mod.manifest?.id}:`, error);\n          }\n        }\n      }\n      this.enhancements.set(allEnhancements);\n      \n      console.log(`üìä Updated stores: ${allLoadedMods.length} mods, ${allEnhancements.length} enhancements`);\n    } catch (error) {\n      console.error('Failed to update stores:', error);\n    }\n  }\n\n  /**\n   * Check if core is available\n   */\n  isAvailable(): boolean {\n    return this.initialized && this.engine !== null;\n  }\n\n  /**\n   * Get the wallet engine\n   */\n  getEngine(): WalletEngine | null {\n    return this.engine;\n  }\n\n  /**\n   * Get account manager\n   */\n  getAccountManager() {\n    return this.engine?.accounts || null;\n  }\n\n  /**\n   * Get network manager\n   */\n  getNetworkManager() {\n    return this.engine?.networks || null;\n  }\n\n  /**\n   * Get transaction manager\n   */\n  getTransactionManager() {\n    return this.engine?.transactions || null;\n  }\n\n  /**\n   * Destroy the integration\n   */\n  async destroy(): Promise<void> {\n    if (this.engine) {\n      await this.engine.destroy();\n      this.engine = null;\n    }\n    this.initialized = false;\n  }\n}\n\n// Create singleton instance\nconst coreIntegration = CoreIntegration.getInstance();\n\n// Auto-initialize when imported\nlet initPromise: Promise<void> | null = null;\n\nexport async function initializeCore(): Promise<void> {\n  if (!initPromise) {\n    initPromise = coreIntegration.initialize();\n  }\n  return initPromise;\n}\n\n// Export stores for use in components\nexport const { mods, enhancements, discoveredMods } = coreIntegration;\n\n// Utility functions for components\nexport function isCoreAvailable(): boolean {\n  return coreIntegration.isAvailable();\n}\n\nexport async function loadMod(id: string) {\n  return coreIntegration.loadMod(id);\n}\n\nexport async function discoverMods() {\n  return coreIntegration.discoverMods();\n}\n\nexport async function getModsByCategory(category: string) {\n  return coreIntegration.getModsByCategory(category);\n}\n\nexport async function checkEnhancements(feature: string) {\n  return coreIntegration.checkEnhancements(feature);\n}\n\nexport function getCoreEngine() {\n  return coreIntegration.getEngine();\n}\n\nexport function getAccountManager() {\n  return coreIntegration.getAccountManager();\n}\n\nexport function getNetworkManager() {\n  return coreIntegration.getNetworkManager();\n}\n\nexport function getTransactionManager() {\n  return coreIntegration.getTransactionManager();\n}","<script lang=\"ts\">\n  /**\n   * ModDashboard - Shows available mods and manages them\n   */\n  \n  import { onMount } from 'svelte';\n  import { mods, discoveredMods, isCoreAvailable, discoverMods, loadMod } from '../../core/integration';\n  import ModRenderer from './ModRenderer.svelte';\n  \n  let { className = '' } = $props();\n\n  let loading = $state(false);\n  let activeTab = $state('installed');\n  let selectedCategory = $state('all');\n  \n  // Reactive stores\n  let loadedMods = $derived($mods);\n  let discovered = $derived($discoveredMods);\n\n  // Categories for filtering\n  const categories = [\n    { id: 'all', name: 'All', icon: 'üì¶' },\n    { id: 'portfolio', name: 'Portfolio', icon: 'üíº' },\n    { id: 'trading', name: 'Trading', icon: 'üìà' },\n    { id: 'defi', name: 'DeFi', icon: 'üè¶' },\n    { id: 'security', name: 'Security', icon: 'üîí' },\n    { id: 'analytics', name: 'Analytics', icon: 'üìä' },\n    { id: 'utility', name: 'Utility', icon: 'üõ†Ô∏è' }\n  ];\n\n  // Filter mods by category\n  let filteredMods = $derived(() => {\n    if (selectedCategory === 'all') {\n      return loadedMods;\n    }\n    return loadedMods.filter(v => v.manifest.category === selectedCategory);\n  });\n\n  onMount(async () => {\n    if (isCoreAvailable()) {\n      await refreshDiscovery();\n    }\n  });\n\n  async function refreshDiscovery() {\n    loading = true;\n    try {\n      await discoverMods();\n    } catch (error) {\n      console.error('Failed to discover mods:', error);\n    } finally {\n      loading = false;\n    }\n  }\n\n  async function installMod(modId: string) {\n    try {\n      await loadMod(modId);\n    } catch (error) {\n      console.error(`Failed to install mod ${modId}:`, error);\n    }\n  }\n\n  function getTierColor(tier: string): string {\n    switch (tier) {\n      case 'community': return 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200';\n      case 'verified': return 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200';\n      case 'pro': return 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-200';\n      case 'private': return 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200';\n      case 'enterprise': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200';\n      default: return 'bg-zinc-100 text-zinc-800 dark:bg-zinc-800 dark:text-zinc-200';\n    }\n  }\n\n  function getCategoryIcon(category: string): string {\n    const cat = categories.find(c => c.id === category);\n    return cat?.icon || 'üì¶';\n  }\n</script>\n\n<div class={`mod-dashboard ${className}`}>\n  {#if !isCoreAvailable()}\n    <div class=\"p-6 text-center\">\n      <div class=\"mb-4\">\n        <svg class=\"w-12 h-12 mx-auto text-zinc-400 dark:text-zinc-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4\" />\n        </svg>\n      </div>\n      <h3 class=\"text-lg font-semibold text-zinc-900 dark:text-white mb-2\">Mod System</h3>\n      <p class=\"text-sm text-zinc-600 dark:text-zinc-400 mb-4\">\n        YAKKL Core is not available. Mod functionality is disabled.\n      </p>\n      <div class=\"text-xs text-zinc-500 dark:text-zinc-500\">\n        The mod system will be available once YAKKL Core is integrated.\n      </div>\n    </div>\n  {:else}\n    <!-- Header -->\n    <div class=\"flex items-center justify-between mb-6\">\n      <div class=\"flex items-center gap-3\">\n        <div class=\"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white\">\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\n          </svg>\n        </div>\n        <div>\n          <h2 class=\"text-xl font-bold text-zinc-900 dark:text-white\">Mods</h2>\n          <p class=\"text-sm text-zinc-600 dark:text-zinc-400\">Extend your wallet with plugins</p>\n        </div>\n      </div>\n      \n      <button\n        onclick={refreshDiscovery}\n        disabled={loading}\n        class=\"yakkl-btn-secondary text-sm {loading ? 'opacity-50' : ''}\"\n      >\n        {#if loading}\n          <svg class=\"w-4 h-4 animate-spin mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n          </svg>\n        {/if}\n        Discover\n      </button>\n    </div>\n\n    <!-- Tabs -->\n    <div class=\"flex gap-1 mb-6\">\n      <button\n        onclick={() => activeTab = 'installed'}\n        class=\"px-4 py-2 text-sm font-medium rounded-lg transition-colors {\n          activeTab === 'installed' \n            ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300' \n            : 'text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800'\n        }\"\n      >\n        Installed ({loadedMods.length})\n      </button>\n      <button\n        onclick={() => activeTab = 'discover'}\n        class=\"px-4 py-2 text-sm font-medium rounded-lg transition-colors {\n          activeTab === 'discover' \n            ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300' \n            : 'text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800'\n        }\"\n      >\n        Discover ({discovered.length})\n      </button>\n    </div>\n\n    <!-- Category Filter -->\n    <div class=\"flex flex-wrap gap-2 mb-6\">\n      {#each categories as category}\n        <button\n          onclick={() => selectedCategory = category.id}\n          class=\"px-3 py-1 text-sm rounded-full transition-colors {\n            selectedCategory === category.id\n              ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300'\n              : 'bg-zinc-100 text-zinc-600 dark:bg-zinc-800 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-zinc-700'\n          }\"\n        >\n          {category.icon} {category.name}\n        </button>\n      {/each}\n    </div>\n\n    <!-- Content -->\n    {#if activeTab === 'installed'}\n      <!-- Installed Mods -->\n      {#if filteredMods.length === 0}\n        <div class=\"text-center py-12\">\n          <div class=\"mb-4\">\n            <svg class=\"w-16 h-16 mx-auto text-zinc-300 dark:text-zinc-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\n            </svg>\n          </div>\n          <h3 class=\"text-lg font-medium text-zinc-900 dark:text-white mb-2\">\n            {selectedCategory === 'all' ? 'No mods installed' : `No ${selectedCategory} mods`}\n          </h3>\n          <p class=\"text-sm text-zinc-600 dark:text-zinc-400 mb-4\">\n            {selectedCategory === 'all' \n              ? 'Discover and install mods to extend your wallet functionality'\n              : `Browse other categories or discover new ${selectedCategory} mods`\n            }\n          </p>\n          <button\n            onclick={() => activeTab = 'discover'}\n            class=\"yakkl-btn-primary text-sm\"\n          >\n            Discover Mods\n          </button>\n        </div>\n      {:else}\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {#each filteredMods as mod}\n            <div class=\"bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl p-4 hover:shadow-md transition-shadow\">\n              <div class=\"flex items-start gap-3 mb-3\">\n                <div class=\"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white text-sm font-bold\">\n                  {getCategoryIcon(mod.manifest.category)}\n                </div>\n                <div class=\"flex-1 min-w-0\">\n                  <div class=\"flex items-center gap-2 mb-1\">\n                    <h3 class=\"font-medium text-zinc-900 dark:text-white truncate\">\n                      {mod.manifest.name}\n                    </h3>\n                    <span class={`px-2 py-0.5 text-xs font-medium rounded-full ${getTierColor(mod.manifest.tier)}`}>\n                      {mod.manifest.tier}\n                    </span>\n                  </div>\n                  <p class=\"text-sm text-zinc-600 dark:text-zinc-400 line-clamp-2\">\n                    {mod.manifest.description}\n                  </p>\n                </div>\n              </div>\n              \n              <div class=\"flex items-center justify-between\">\n                <div class=\"text-xs text-zinc-500 dark:text-zinc-500\">\n                  v{mod.manifest.version}\n                </div>\n                <div class=\"flex gap-2\">\n                  <span class=\"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 text-xs rounded-full\">\n                    ‚úì Active\n                  </span>\n                </div>\n              </div>\n            </div>\n          {/each}\n        </div>\n      {/if}\n    {:else}\n      <!-- Discover Mods -->\n      {#if discovered.length === 0}\n        <div class=\"text-center py-12\">\n          <div class=\"mb-4\">\n            <svg class=\"w-16 h-16 mx-auto text-zinc-300 dark:text-zinc-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n            </svg>\n          </div>\n          <h3 class=\"text-lg font-medium text-zinc-900 dark:text-white mb-2\">No mods discovered</h3>\n          <p class=\"text-sm text-zinc-600 dark:text-zinc-400 mb-4\">\n            Discovery is scanning for available mods in your environment\n          </p>\n          <button\n            onclick={refreshDiscovery}\n            class=\"yakkl-btn-primary text-sm\"\n          >\n            Scan Again\n          </button>\n        </div>\n      {:else}\n        <div class=\"space-y-4\">\n          {#each discovered as mod}\n            <div class=\"bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-xl p-4\">\n              <div class=\"flex items-center justify-between\">\n                <div class=\"flex items-center gap-3\">\n                  <div class=\"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white text-sm font-bold\">\n                    {getCategoryIcon(mod.manifest?.category || 'utility')}\n                  </div>\n                  <div>\n                    <h3 class=\"font-medium text-zinc-900 dark:text-white\">\n                      {mod.manifest?.name || mod.id}\n                    </h3>\n                    <p class=\"text-sm text-zinc-600 dark:text-zinc-400\">\n                      {mod.manifest?.description || 'No description available'}\n                    </p>\n                  </div>\n                </div>\n                \n                <button\n                  onclick={() => installMod(mod.manifest?.id || mod.id)}\n                  class=\"yakkl-btn-primary text-sm\"\n                >\n                  Install\n                </button>\n              </div>\n            </div>\n          {/each}\n        </div>\n      {/if}\n    {/if}\n  {/if}\n</div>\n\n<style>\n  .line-clamp-2 {\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n  }\n</style>"],"names":["NetworkManagerMod","constructor","__publicField","this","id","name","version","description","author","license","tier","category","tags","permissions","minimumWalletVersion","supportedPlatforms","discoverable","enhances","conflicts","iconUrl","screenshotUrls","capabilities","ui","hasComponents","hasWidgets","mountPoints","background","hasWorkers","hasScheduledTasks","apis","endpoints","webhooks","storage","maxSize","encrypted","network","allowedHosts","requiresProxy","initialize","engine","loaded","active","loadCustomNetworks","console","log","setupEventListeners","destroy","customNetworks","isLoaded","isActive","getComponent","createNetworkSwitcher","createCustomNetworkForm","createNetworkStatusIndicator","getWidget","createPerformanceWidget","createSecurityWidget","getBackgroundScript","handleAPICall","endpoint","data","switchNetwork","chainId","addCustomNetwork","getAvailableNetworks","Error","emit","event","on","handler","off","enhance","otherMod","manifest","getEnhancements","targetMod","type","stored","localStorage","getItem","JSON","parse","error","warn","saveCustomNetworks","setItem","stringify","source","suggestions","getErrorSuggestions","validateNetwork","networks","switch","toString","timestamp","Date","now","success","message","networkData","validated","validateCustomNetwork","push","_a","add","standardNetworks","getSupported","find","n","rpcUrl","existing","response","fetch","method","headers","body","jsonrpc","params","result","json","parseInt","isCustom","addedAt","code","props","onSwitch","onAddCustom","onSubmit","onValidate","currentNetwork","getCurrent","onRefresh","checkNetworkHealth","metrics","getNetworkMetrics","onOptimize","suggestOptimalEndpoint","securityLevel","assessNetworkSecurity","warnings","getSecurityWarnings","healthy","latency","reliability","successRate","avgBlockTime","AccountManagerMod","Map","loadSecuritySettings","initializeAccountCache","startSecurityMonitoring","accountCache","clear","securitySettings","createAccountSwitcher","createAccountWizard","createSecurityPanel","createBackupManager","createMultiSigManager","createAccountHealthWidget","createSecurityStatusWidget","createBalanceOverviewWidget","createSecurityMonitor","createAccount","importAccount","exportAccount","backupAccounts","autoLockTimeout","requireBiometric","allowScreenshots","maxFailedAttempts","enabledFeatures","saveSecuritySettings","accounts","getAll","account","cacheAccountData","enrichedAccount","balance","getAccountBalance","address","ensName","resolveENS","lastActivity","getLastActivity","securityScore","calculateSecurityScore","cached","set","async","enhanced","refreshAccountCache","get","transaction","recordAccountActivity","from","setInterval","performSecurityCheck","create","calculateSecurityLevel","validateImportData","importPrivateKey","privateKey","importMnemonic","mnemonic","importWatchOnly","validateExportPermissions","warning","backup","accountCount","length","includes","score","Math","min","activity","Array","values","switchAccount","showBalances","showENS","onCreateNew","onImport","securityOptions","settings","onUpdateSettings","updateSecuritySettings","onCreateBackup","options","onRestoreBackup","restoreBackup","multiSigAccounts","getMultiSigAccounts","onCreateMultiSig","config","createMultiSig","healthScores","getAccountHealthScores","overallStatus","getOverallSecurityStatus","alerts","getSecurityAlerts","totalBalance","calculateTotalBalance","accountBalances","getAccountBalances","script","select","filter","acc","scores","balances","_SystemModRegistry","registerSystemMods","getInstance","instance","mods","loader","enabled","systemMod","size","getAvailableMods","getModsByCategory","mod","getEnabledMods","getSystemMods","loadMod","modId","entry","loadedMods","has","loadAllEnabledMods","enabledMods","loadPromises","map","results","Promise","allSettled","status","value","loadSystemMods","systemMods","setModEnabled","catch","err","delete","getLoadedMod","getLoadedMods","isModLoaded","unloadMod","unloadAllMods","unloadPromises","keys","registerMod","unregisterMod","searchMods","query","lowerQuery","toLowerCase","getStatistics","byCategory","total","m","system","thirdParty","SystemModRegistry","systemModRegistry","CoreIntegration","writable","globalThis","coreIntegration","initialized","createMockEngine","updateStores","resolve","discoverMods","transactions","getHistory","_b","engineMods","allDiscovered","discoveredMods","checkEnhancements","feature","enhancements","modEnhancements","relevantEnhancements","e","enhancements2","allLoadedMods","allEnhancements","isAvailable","getEngine","getAccountManager","getNetworkManager","getTransactionManager","initPromise","initializeCore","isCoreAvailable","on_click","_","activeTab","$.set","on_click_1","__1","selectedCategory","$.get","on_click_3","__3","className","$.prop","$$props","loading","$.tag","$.state","$.derived","$mods","discovered","$discoveredMods","categories","icon","filteredMods","$.strict_equals","v","onMount","refreshDiscovery","$.log_if_contains_state","installMod","getTierColor","getCategoryIcon","cat","c","$$render","consequent_1","$.each","div_4","$.set_class","button_3","$.set_text","text_2","text_3","text_4","each","div_6","consequent_2","alternate_1","div_15","set_text","text_11","text_12","consequent_4","alternate_3","consequent_3","alternate_2","set_class","button_1","text","button_2","text_1","consequent","alternate"],"mappings":"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"}