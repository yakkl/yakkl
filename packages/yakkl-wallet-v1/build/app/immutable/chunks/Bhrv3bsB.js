var __defProp=Object.defineProperty;var __getProtoOf=Object.getPrototypeOf;var __reflectGet=Reflect.get;var __typeError=msg=>{throw TypeError(msg)};var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:true,configurable:true,writable:true,value:value}):obj[key]=value;var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!=="symbol"?key+"":key,value);var __accessCheck=(obj,member,msg)=>member.has(obj)||__typeError("Cannot "+msg);var __privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj));var __privateAdd=(obj,member,value)=>member.has(obj)?__typeError("Cannot add the same private member more than once"):member instanceof WeakSet?member.add(obj):member.set(obj,value);var __privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);var __privateMethod=(obj,member,method)=>(__accessCheck(obj,member,"access private method"),method);var __privateWrapper=(obj,member,setter,getter)=>({set _(value){__privateSet(obj,member,value,setter)},get _(){return __privateGet(obj,member,getter)}});var __superGet=(cls,obj,key)=>__reflectGet(__getProtoOf(cls),key,obj);var _sources,_version,_size,_SvelteMap_instances,read_all_fn,_current,_start,_subscribers,_stop,_Readable_instances,subscribe_fn,unsubscribe_fn,_size2,_previous,_curr,_interactOutsideProp,_behaviorType,_interceptedEvents,_isResponsibleLayer,_documentObj,_enabled,_isFocusInsideDOMTree,_onFocusOutside,_currNode,_isValidEventProp,_unsubClickListener,_handleFocus,_DismissibleLayerState_instances,addEventListeners_fn,_handleDismiss,_handleInteractOutside,_markInterceptedEvent,_markNonInterceptedEvent,_markResponsibleLayer,_isTargetWithinLayer,_resetState,isAnyEventIntercepted_fn,_onfocuscapture,_onblurcapture,_onEscapeProp,_behaviorType2,_enabled2,_addEventListener,_onkeydown,_id,_onPointerDownProp,_onPointerUpProp,_enabled3,_unsubSelectionLock,_ref,_TextSelectionLayerState_instances,addEventListeners_fn2,_pointerdown,_resetSelectionLock,_transformedStyle,_dir,_side,_sideOffset,_align,_alignOffset,_arrowPadding,_avoidCollisions,_collisionBoundary,_collisionPadding,_sticky,_hideWhenDetached,_strategy,_updatePositionStrategy,_arrowSize,_arrowWidth,_arrowHeight,_desiredPlacement,_boundary,_hasExplicitBoundaries,_detectOverflowOptions,_availableWidth,_availableHeight,_anchorWidth,_anchorHeight,_middleware,_placedSide,_placedAlign,_arrowX,_arrowY,_cannotCenterArrow,_contentZIndex,_arrowBaseSide,_wrapperProps,_props,_arrowStyle;import{e as set,af as source,h as tag,bB as label,g as get$2,ay as user_effect,bs as tick,i as state,bC as effect_tracking,b as strict_equals,ae as proxy,ax as user_pre_effect,a7 as untrack,u as user_derived,p as push,f as first_child,a as pop,n as noop,F as FILENAME,bD as effect_root,aC as tag_proxy,o as onMount,s as sibling,k as derived_safe_equal}from"./BaS8d5lg.js";import{c as check_target,l as legacy_api}from"./BXFaAXnq.js";import{c as comment,a as append,f as from_html}from"./Cm3jf07C.js";import{s as snippet,w as wrap_snippet}from"./d5hrMixo.js";import{d as box,n as noop$1,u as useRefById,i as executeCallbacks,j as ESCAPE,f as useId,T as TAB,k as composeHandlers,e as createContext,l as cssToStyleObj,s as styleToString,m as mergeProps}from"./BMfkC98N.js";import{v as validate_snippet_args}from"./BWLEmBJs.js";import{p as prop,s as spread_props,r as rest_props}from"./BYboeQtC.js";import{i as if_block}from"./Q1yPWpQ-.js";import{a as add_locations}from"./3AhEABF_.js";import{c as computePosition,o as offset,s as shift,f as flip,d as size,a as arrow,h as hide,l as limitShift,b as autoUpdate}from"./DiBDz6jf.js";function increment(source2){set(source2,source2.v+1)}const _SvelteMap=class _SvelteMap extends Map{constructor(value){super();__privateAdd(this,_SvelteMap_instances);__privateAdd(this,_sources,new Map);__privateAdd(this,_version,source(0));__privateAdd(this,_size,source(0));{value=new Map(value);tag(__privateGet(this,_version),"SvelteMap version");tag(__privateGet(this,_size),"SvelteMap.size")}if(value){for(var[key,v]of value){super.set(key,v)}__privateGet(this,_size).v=super.size}}has(key){var sources=__privateGet(this,_sources);var s=sources.get(key);if(s===void 0){var ret=super.get(key);if(ret!==void 0){s=source(0);{tag(s,`SvelteMap get(${label(key)})`)}sources.set(key,s)}else{get$2(__privateGet(this,_version));return false}}get$2(s);return true}forEach(callbackfn,this_arg){__privateMethod(this,_SvelteMap_instances,read_all_fn).call(this);super.forEach(callbackfn,this_arg)}get(key){var sources=__privateGet(this,_sources);var s=sources.get(key);if(s===void 0){var ret=super.get(key);if(ret!==void 0){s=source(0);{tag(s,`SvelteMap get(${label(key)})`)}sources.set(key,s)}else{get$2(__privateGet(this,_version));return void 0}}get$2(s);return super.get(key)}set(key,value){var _a;var sources=__privateGet(this,_sources);var s=sources.get(key);var prev_res=super.get(key);var res=super.set(key,value);var version=__privateGet(this,_version);if(s===void 0){s=source(0);{tag(s,`SvelteMap get(${label(key)})`)}sources.set(key,s);set(__privateGet(this,_size),super.size);increment(version)}else if(prev_res!==value){increment(s);var v_reactions=version.reactions===null?null:new Set(version.reactions);var needs_version_increase=v_reactions===null||!((_a=s.reactions)==null?void 0:_a.every(r=>v_reactions.has(r)));if(needs_version_increase){increment(version)}}return res}delete(key){var sources=__privateGet(this,_sources);var s=sources.get(key);var res=super.delete(key);if(s!==void 0){sources.delete(key);set(__privateGet(this,_size),super.size);set(s,-1);increment(__privateGet(this,_version))}return res}clear(){if(super.size===0){return}super.clear();var sources=__privateGet(this,_sources);set(__privateGet(this,_size),0);for(var s of sources.values()){set(s,-1)}increment(__privateGet(this,_version));sources.clear()}keys(){get$2(__privateGet(this,_version));return super.keys()}values(){__privateMethod(this,_SvelteMap_instances,read_all_fn).call(this);return super.values()}entries(){__privateMethod(this,_SvelteMap_instances,read_all_fn).call(this);return super.entries()}[Symbol.iterator](){return this.entries()}get size(){get$2(__privateGet(this,_size));return super.size}};_sources=new WeakMap;_version=new WeakMap;_size=new WeakMap;_SvelteMap_instances=new WeakSet;read_all_fn=function(){get$2(__privateGet(this,_version));var sources=__privateGet(this,_sources);if(__privateGet(this,_size).v!==sources.size){for(var key of __superGet(_SvelteMap.prototype,this,"keys").call(this)){if(!sources.has(key)){var s=source(0);{tag(s,`SvelteMap get(${label(key)})`)}sources.set(key,s)}}}for([,s]of __privateGet(this,_sources)){get$2(s)}};let SvelteMap=_SvelteMap;function onDestroyEffect(fn){user_effect(()=>()=>{fn()})}function afterSleep(ms,cb){setTimeout(cb,ms)}function afterTick(fn){tick().then(fn)}class Readable{constructor(initialValue,start){__privateAdd(this,_Readable_instances);__privateAdd(this,_current,tag(state(),"Readable.#current"));__privateAdd(this,_start);__privateAdd(this,_subscribers,0);__privateAdd(this,_stop,null);set(__privateGet(this,_current),initialValue,true);__privateSet(this,_start,start)}get current(){if(effect_tracking()){user_effect(()=>{__privateWrapper(this,_subscribers)._++;if(strict_equals(__privateGet(this,_subscribers),1)){__privateMethod(this,_Readable_instances,subscribe_fn).call(this,true)}return()=>{tick().then(()=>{__privateWrapper(this,_subscribers)._--;if(strict_equals(__privateGet(this,_subscribers),0)){__privateMethod(this,_Readable_instances,unsubscribe_fn).call(this)}})}})}else if(strict_equals(__privateGet(this,_subscribers),0)){__privateMethod(this,_Readable_instances,subscribe_fn).call(this,false);__privateMethod(this,_Readable_instances,unsubscribe_fn).call(this)}return get$2(__privateGet(this,_current))}}_current=new WeakMap;_start=new WeakMap;_subscribers=new WeakMap;_stop=new WeakMap;_Readable_instances=new WeakSet;subscribe_fn=function(inEffect){__privateSet(this,_stop,__privateGet(this,_start).call(this,value=>{set(__privateGet(this,_current),value,true)},inEffect)??null)};unsubscribe_fn=function(){if(strict_equals(__privateGet(this,_stop),null))return;__privateGet(this,_stop).call(this);__privateSet(this,_stop,null)};const activeElement=new Readable(null,(set2,insideEffect)=>{function update(){set2(document.activeElement)}update();if(!insideEffect)return;document.addEventListener("focusin",update);document.addEventListener("focusout",update);return()=>{document.removeEventListener("focusin",update);document.removeEventListener("focusout",update)}});function isFunction(value){return typeof value==="function"}function get$1(value){if(isFunction(value)){return value()}return value}class ElementSize{constructor(node,options={box:"border-box"}){__privateAdd(this,_size2,tag(state(proxy({width:0,height:0})),"ElementSize.#size"));var _a,_b;set(__privateGet(this,_size2),{width:((_a=options.initialSize)==null?void 0:_a.width)??0,height:((_b=options.initialSize)==null?void 0:_b.height)??0},true);user_effect(()=>{const node$=get$1(node);if(!node$)return;const observer=new ResizeObserver(entries=>{for(const entry of entries){const boxSize=strict_equals(options.box,"content-box")?entry.contentBoxSize:entry.borderBoxSize;const boxSizeArr=Array.isArray(boxSize)?boxSize:[boxSize];get$2(__privateGet(this,_size2)).width=boxSizeArr.reduce((acc,size2)=>Math.max(acc,size2.inlineSize),0);get$2(__privateGet(this,_size2)).height=boxSizeArr.reduce((acc,size2)=>Math.max(acc,size2.blockSize),0)}});observer.observe(node$);return()=>{observer.disconnect()}})}get width(){return get$2(__privateGet(this,_size2)).width}get height(){return get$2(__privateGet(this,_size2)).height}}_size2=new WeakMap;function extract(value,defaultValue){if(isFunction(value)){const getter=value;return getter()??defaultValue??getter()}return value??defaultValue??value}function runEffect(flush,effect){switch(flush){case"post":user_effect(effect);break;case"pre":user_pre_effect(effect);break}}function runWatcher(sources,flush,effect,options={}){const{lazy:lazy=false}=options;let active=!lazy;let previousValues=Array.isArray(sources)?[]:void 0;runEffect(flush,()=>{const values=Array.isArray(sources)?sources.map(source2=>source2()):sources();if(!active){active=true;previousValues=values;return}const cleanup=untrack(()=>effect(values,previousValues));previousValues=values;return cleanup})}function watch(sources,effect,options){runWatcher(sources,"post",effect,options)}function watchPre(sources,effect,options){runWatcher(sources,"pre",effect,options)}watch.pre=watchPre;class Previous{constructor(getter){__privateAdd(this,_previous,tag(state(),"Previous.#previous"));__privateAdd(this,_curr);user_effect(()=>{set(__privateGet(this,_previous),__privateGet(this,_curr),true);__privateSet(this,_curr,getter())})}get current(){return get$2(__privateGet(this,_previous))}}_previous=new WeakMap;_curr=new WeakMap;const isBrowser=typeof document!=="undefined";const isIOS=getIsIOS();function getIsIOS(){var _a,_b;return isBrowser&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((_b=window==null?void 0:window.navigator)==null?void 0:_b.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function isHTMLElement(element){return element instanceof HTMLElement}function isElement(element){return element instanceof Element}function isElementOrSVGElement(element){return element instanceof Element||element instanceof SVGElement}function isTouch(e){return e.pointerType==="touch"}function isFocusVisible(element){return element.matches(":focus-visible")}function isNotNull(value){return value!==null}function isSelectableInput(element){return element instanceof HTMLInputElement&&"select"in element}function isElementHidden(node,stopAt){if(getComputedStyle(node).visibility==="hidden")return true;while(node){if(stopAt!==void 0&&node===stopAt)return false;if(getComputedStyle(node).display==="none")return true;node=node.parentElement}return false}function useStateMachine(initialState,machine){const state2=box(initialState);function reducer(event){const nextState=machine[state2.current][event];return nextState??state2.current}const dispatch=event=>{state2.current=reducer(event)};return{state:state2,dispatch:dispatch}}function usePresence(present,id){let styles=tag(state(proxy({})),"styles");let prevAnimationNameState=tag(state("none"),"prevAnimationNameState");const initialState=present.current?"mounted":"unmounted";let node=tag(state(null),"node");const prevPresent=new Previous(()=>present.current);user_effect(()=>{if(!id.current)return;if(!present.current)return;afterTick(()=>{set(node,document.getElementById(id.current),true)})});const{state:state$1,dispatch:dispatch}=useStateMachine(initialState,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});user_effect(()=>{const currPresent=present.current;untrack(()=>{if(!get$2(node)){set(node,document.getElementById(id.current),true)}if(!get$2(node))return;const hasPresentChanged=strict_equals(currPresent,prevPresent.current,false);if(!hasPresentChanged)return;const prevAnimationName=get$2(prevAnimationNameState);const currAnimationName=getAnimationName(get$2(node));if(currPresent){dispatch("MOUNT")}else if(strict_equals(currAnimationName,"none")||strict_equals(get$2(styles).display,"none")){dispatch("UNMOUNT")}else{const isAnimating=strict_equals(prevAnimationName,currAnimationName,false);if(prevPresent&&isAnimating){dispatch("ANIMATION_OUT")}else{dispatch("UNMOUNT")}}})});function handleAnimationEnd(event){if(!get$2(node)){set(node,document.getElementById(id.current),true)}if(!get$2(node))return;const currAnimationName=getAnimationName(get$2(node));const isCurrentAnimation=currAnimationName.includes(event.animationName)||strict_equals(currAnimationName,"none");if(strict_equals(event.target,get$2(node))&&isCurrentAnimation){dispatch("ANIMATION_END")}}function handleAnimationStart(event){if(!get$2(node)){set(node,document.getElementById(id.current),true)}if(!get$2(node))return;if(strict_equals(event.target,get$2(node))){set(prevAnimationNameState,getAnimationName(get$2(node)),true)}}user_effect(()=>{state$1.current;untrack(()=>{if(!get$2(node)){set(node,document.getElementById(id.current),true)}if(!get$2(node))return;const currAnimationName=getAnimationName(get$2(node));set(prevAnimationNameState,strict_equals(state$1.current,"mounted")?currAnimationName:"none",true)})});user_effect(()=>{if(!get$2(node))return;set(styles,getComputedStyle(get$2(node)),true);get$2(node).addEventListener("animationstart",handleAnimationStart);get$2(node).addEventListener("animationcancel",handleAnimationEnd);get$2(node).addEventListener("animationend",handleAnimationEnd);return()=>{var _a,_b,_c;(_a=get$2(node))==null?void 0:_a.removeEventListener("animationstart",handleAnimationStart);(_b=get$2(node))==null?void 0:_b.removeEventListener("animationcancel",handleAnimationEnd);(_c=get$2(node))==null?void 0:_c.removeEventListener("animationend",handleAnimationEnd)}});const isPresentDerived=tag(user_derived(()=>["mounted","unmountSuspended"].includes(state$1.current)),"isPresentDerived");return{get current(){return get$2(isPresentDerived)}}}function getAnimationName(node){return node?getComputedStyle(node).animationName||"none":"none"}Presence_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/presence-layer/presence-layer.svelte";function Presence_layer($$anchor,$$props){check_target(new.target);push($$props,true,Presence_layer);const isPresent=usePresence(box.with(()=>$$props.present),box.with(()=>$$props.id));var fragment=comment();var node=first_child(fragment);{var consequent=$$anchor2=>{var fragment_1=comment();var node_1=first_child(fragment_1);snippet(node_1,()=>$$props.presence??noop,()=>({present:isPresent}));append($$anchor2,fragment_1)};if_block(node,$$render=>{if($$props.forceMount||$$props.present||isPresent.current)$$render(consequent)})}append($$anchor,fragment);return pop({...legacy_api()})}function addEventListener(target,event,handler,options){const events=Array.isArray(event)?event:[event];events.forEach(_event=>target.addEventListener(_event,handler,options));return()=>{events.forEach(_event=>target.removeEventListener(_event,handler,options))}}function createCustomEvent(eventName,options={bubbles:true,cancelable:true}){function dispatch(element,detail){const event=new CustomEvent(eventName,{...options,detail:detail});element.dispatchEvent(event)}function listen(element,callback){const handler=event=>{callback(event)};return addEventListener(element,eventName,handler)}return[dispatch,listen]}function debounce(fn,wait=500){let timeout=null;const debounced=(...args)=>{if(timeout!==null){clearTimeout(timeout)}timeout=setTimeout(()=>{fn(...args)},wait)};debounced.destroy=()=>{if(timeout!==null){clearTimeout(timeout);timeout=null}};return debounced}function isOrContainsTarget(node,target){return node===target||node.contains(target)}function getOwnerDocument(el){return(el==null?void 0:el.ownerDocument)??document}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);class DismissibleLayerState{constructor(props){__privateAdd(this,_DismissibleLayerState_instances);__privateAdd(this,_interactOutsideProp);__privateAdd(this,_behaviorType);__privateAdd(this,_interceptedEvents,{pointerdown:false});__privateAdd(this,_isResponsibleLayer,false);__publicField(this,"node",box(null));__privateAdd(this,_documentObj);__privateAdd(this,_enabled);__privateAdd(this,_isFocusInsideDOMTree,tag(state(false),"DismissibleLayerState.#isFocusInsideDOMTree"));__privateAdd(this,_onFocusOutside);__privateAdd(this,_currNode,tag(state(null),"DismissibleLayerState.currNode"));__privateAdd(this,_isValidEventProp);__privateAdd(this,_unsubClickListener,noop$1);__privateAdd(this,_handleFocus,event=>{if(event.defaultPrevented)return;if(!this.currNode)return;afterTick(()=>{var _a,_b;if(!this.currNode||__privateGet(this,_isTargetWithinLayer).call(this,event.target))return;if(event.target&&!get$2(__privateGet(this,_isFocusInsideDOMTree))){(_b=(_a=__privateGet(this,_onFocusOutside)).current)==null?void 0:_b.call(_a,event)}})});__privateAdd(this,_handleDismiss,e=>{let event=e;if(event.defaultPrevented){event=createWrappedEvent(e)}__privateGet(this,_interactOutsideProp).current(e)});__privateAdd(this,_handleInteractOutside,debounce(e=>{if(!this.currNode){__privateGet(this,_unsubClickListener).call(this);return}const isEventValid=__privateGet(this,_isValidEventProp).current(e,this.currNode)||isValidEvent(e,this.currNode);if(!__privateGet(this,_isResponsibleLayer)||__privateMethod(this,_DismissibleLayerState_instances,isAnyEventIntercepted_fn).call(this)||!isEventValid){__privateGet(this,_unsubClickListener).call(this);return}let event=e;if(event.defaultPrevented){event=createWrappedEvent(event)}if(strict_equals(__privateGet(this,_behaviorType).current,"close",false)&&strict_equals(__privateGet(this,_behaviorType).current,"defer-otherwise-close",false)){__privateGet(this,_unsubClickListener).call(this);return}if(strict_equals(e.pointerType,"touch")){__privateGet(this,_unsubClickListener).call(this);__privateSet(this,_unsubClickListener,addEventListener(__privateGet(this,_documentObj),"click",__privateGet(this,_handleDismiss),{once:true}))}else{__privateGet(this,_interactOutsideProp).current(event)}},10));__privateAdd(this,_markInterceptedEvent,e=>{__privateGet(this,_interceptedEvents)[e.type]=true});__privateAdd(this,_markNonInterceptedEvent,e=>{__privateGet(this,_interceptedEvents)[e.type]=false});__privateAdd(this,_markResponsibleLayer,()=>{if(!this.node.current)return;__privateSet(this,_isResponsibleLayer,isResponsibleLayer(this.node.current))});__privateAdd(this,_isTargetWithinLayer,target=>{if(!this.node.current)return false;return isOrContainsTarget(this.node.current,target)});__privateAdd(this,_resetState,debounce(()=>{for(const eventType in __privateGet(this,_interceptedEvents)){__privateGet(this,_interceptedEvents)[eventType]=false}__privateSet(this,_isResponsibleLayer,false)},20));__privateAdd(this,_onfocuscapture,()=>{set(__privateGet(this,_isFocusInsideDOMTree),true)});__privateAdd(this,_onblurcapture,()=>{set(__privateGet(this,_isFocusInsideDOMTree),false)});__publicField(this,"props",{onfocuscapture:__privateGet(this,_onfocuscapture),onblurcapture:__privateGet(this,_onblurcapture)});__privateSet(this,_enabled,props.enabled);__privateSet(this,_isValidEventProp,props.isValidEvent);useRefById({id:props.id,ref:this.node,deps:()=>__privateGet(this,_enabled).current,onRefChange:node=>{this.currNode=node}});__privateSet(this,_behaviorType,props.interactOutsideBehavior);__privateSet(this,_interactOutsideProp,props.onInteractOutside);__privateSet(this,_onFocusOutside,props.onFocusOutside);user_effect(()=>{__privateSet(this,_documentObj,getOwnerDocument(this.currNode))});let unsubEvents=noop$1;const cleanup=()=>{__privateGet(this,_resetState).call(this);globalThis.bitsDismissableLayers.delete(this);__privateGet(this,_handleInteractOutside).destroy();unsubEvents()};user_effect(()=>{if(__privateGet(this,_enabled).current&&this.currNode){afterSleep(1,()=>{if(!this.currNode)return;globalThis.bitsDismissableLayers.set(this,untrack(()=>__privateGet(this,_behaviorType)));unsubEvents();unsubEvents=__privateMethod(this,_DismissibleLayerState_instances,addEventListeners_fn).call(this)})}return()=>{cleanup()}});onDestroyEffect(()=>{__privateGet(this,_resetState).destroy();globalThis.bitsDismissableLayers.delete(this);__privateGet(this,_handleInteractOutside).destroy();__privateGet(this,_unsubClickListener).call(this);unsubEvents()})}get currNode(){return get$2(__privateGet(this,_currNode))}set currNode(value){set(__privateGet(this,_currNode),value,true)}}_interactOutsideProp=new WeakMap;_behaviorType=new WeakMap;_interceptedEvents=new WeakMap;_isResponsibleLayer=new WeakMap;_documentObj=new WeakMap;_enabled=new WeakMap;_isFocusInsideDOMTree=new WeakMap;_onFocusOutside=new WeakMap;_currNode=new WeakMap;_isValidEventProp=new WeakMap;_unsubClickListener=new WeakMap;_handleFocus=new WeakMap;_DismissibleLayerState_instances=new WeakSet;addEventListeners_fn=function(){return executeCallbacks(addEventListener(__privateGet(this,_documentObj),"pointerdown",executeCallbacks(__privateGet(this,_markInterceptedEvent),__privateGet(this,_markResponsibleLayer)),true),addEventListener(__privateGet(this,_documentObj),"pointerdown",executeCallbacks(__privateGet(this,_markNonInterceptedEvent),__privateGet(this,_handleInteractOutside))),addEventListener(__privateGet(this,_documentObj),"focusin",__privateGet(this,_handleFocus)))};_handleDismiss=new WeakMap;_handleInteractOutside=new WeakMap;_markInterceptedEvent=new WeakMap;_markNonInterceptedEvent=new WeakMap;_markResponsibleLayer=new WeakMap;_isTargetWithinLayer=new WeakMap;_resetState=new WeakMap;isAnyEventIntercepted_fn=function(){const i=Object.values(__privateGet(this,_interceptedEvents)).some(Boolean);return i};_onfocuscapture=new WeakMap;_onblurcapture=new WeakMap;function useDismissibleLayer(props){return new DismissibleLayerState(props)}function getTopMostLayer(layersArr){return layersArr.findLast(([_,{current:behaviorType}])=>strict_equals(behaviorType,"close")||strict_equals(behaviorType,"ignore"))}function isResponsibleLayer(node){const layersArr=[...globalThis.bitsDismissableLayers];const topMostLayer=getTopMostLayer(layersArr);if(topMostLayer)return strict_equals(topMostLayer[0].node.current,node);const[firstLayerNode]=layersArr[0];return strict_equals(firstLayerNode.node.current,node)}function isValidEvent(e,node){if("button"in e&&e.button>0)return false;const target=e.target;if(!isElement(target))return false;const ownerDocument=getOwnerDocument(target);const isValid=ownerDocument.documentElement.contains(target)&&!isOrContainsTarget(node,target);return isValid}function createWrappedEvent(e){const capturedCurrentTarget=e.currentTarget;const capturedTarget=e.target;let newEvent;if(e instanceof PointerEvent){newEvent=new PointerEvent(e.type,e)}else{newEvent=new PointerEvent("pointerdown",e)}let isPrevented=false;const wrappedEvent=new Proxy(newEvent,{get:(target,prop2)=>{if(strict_equals(prop2,"currentTarget")){return capturedCurrentTarget}if(strict_equals(prop2,"target")){return capturedTarget}if(strict_equals(prop2,"preventDefault")){return()=>{isPrevented=true;if(strict_equals(typeof target.preventDefault,"function")){target.preventDefault()}}}if(strict_equals(prop2,"defaultPrevented")){return isPrevented}if(prop2 in target){return target[prop2]}return e[prop2]}});return wrappedEvent}Dismissible_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/dismissible-layer/dismissible-layer.svelte";function Dismissible_layer($$anchor,$$props){check_target(new.target);push($$props,true,Dismissible_layer);let interactOutsideBehavior=prop($$props,"interactOutsideBehavior",3,"close"),onInteractOutside=prop($$props,"onInteractOutside",3,noop$1),onFocusOutside=prop($$props,"onFocusOutside",3,noop$1),isValidEvent2=prop($$props,"isValidEvent",3,()=>false);const dismissibleLayerState=useDismissibleLayer({id:box.with(()=>$$props.id),interactOutsideBehavior:box.with(()=>interactOutsideBehavior()),onInteractOutside:box.with(()=>onInteractOutside()),enabled:box.with(()=>$$props.enabled),onFocusOutside:box.with(()=>onFocusOutside()),isValidEvent:box.with(()=>isValidEvent2())});var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.children??noop,()=>({props:dismissibleLayerState.props}));append($$anchor,fragment);return pop({...legacy_api()})}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);class EscapeLayerState{constructor(props){__privateAdd(this,_onEscapeProp);__privateAdd(this,_behaviorType2);__privateAdd(this,_enabled2);__privateAdd(this,_addEventListener,()=>addEventListener(document,"keydown",__privateGet(this,_onkeydown),{passive:false}));__privateAdd(this,_onkeydown,e=>{if(strict_equals(e.key,ESCAPE,false)||!isResponsibleEscapeLayer(this))return;const clonedEvent=new KeyboardEvent(e.type,e);e.preventDefault();const behaviorType=__privateGet(this,_behaviorType2).current;if(strict_equals(behaviorType,"close",false)&&strict_equals(behaviorType,"defer-otherwise-close",false))return;__privateGet(this,_onEscapeProp).current(clonedEvent)});__privateSet(this,_behaviorType2,props.escapeKeydownBehavior);__privateSet(this,_onEscapeProp,props.onEscapeKeydown);__privateSet(this,_enabled2,props.enabled);let unsubEvents=noop$1;user_effect(()=>{if(__privateGet(this,_enabled2).current){globalThis.bitsEscapeLayers.set(this,untrack(()=>__privateGet(this,_behaviorType2)));unsubEvents=__privateGet(this,_addEventListener).call(this)}return()=>{unsubEvents();globalThis.bitsEscapeLayers.delete(this)}})}}_onEscapeProp=new WeakMap;_behaviorType2=new WeakMap;_enabled2=new WeakMap;_addEventListener=new WeakMap;_onkeydown=new WeakMap;function useEscapeLayer(props){return new EscapeLayerState(props)}function isResponsibleEscapeLayer(instance){const layersArr=[...globalThis.bitsEscapeLayers];const topMostLayer=layersArr.findLast(([_,{current:behaviorType}])=>strict_equals(behaviorType,"close")||strict_equals(behaviorType,"ignore"));if(topMostLayer)return strict_equals(topMostLayer[0],instance);const[firstLayerNode]=layersArr[0];return strict_equals(firstLayerNode,instance)}Escape_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/escape-layer/escape-layer.svelte";function Escape_layer($$anchor,$$props){check_target(new.target);push($$props,true,Escape_layer);let escapeKeydownBehavior=prop($$props,"escapeKeydownBehavior",3,"close"),onEscapeKeydown=prop($$props,"onEscapeKeydown",3,noop$1);useEscapeLayer({escapeKeydownBehavior:box.with(()=>escapeKeydownBehavior()),onEscapeKeydown:box.with(()=>onEscapeKeydown()),enabled:box.with(()=>$$props.enabled)});var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.children??noop);append($$anchor,fragment);return pop({...legacy_api()})}const focusStack=box([]);function createFocusScopeStack(){const stack=focusStack;return{add(focusScope){const activeFocusScope=stack.current[0];if(strict_equals(focusScope.id,activeFocusScope==null?void 0:activeFocusScope.id,false)){activeFocusScope==null?void 0:activeFocusScope.pause()}stack.current=removeFromFocusScopeArray(stack.current,focusScope);stack.current.unshift(focusScope)},remove(focusScope){var _a;stack.current=removeFromFocusScopeArray(stack.current,focusScope);(_a=stack.current[0])==null?void 0:_a.resume()}}}function createFocusScopeAPI(){let paused=tag(state(false),"paused");return{id:useId(),get paused(){return get$2(paused)},pause(){set(paused,true)},resume(){set(paused,false)}}}function removeFromFocusScopeArray(arr,item){return[...arr].filter(i=>strict_equals(i.id,item.id,false))}function removeLinks(items){return items.filter(item=>strict_equals(item.tagName,"A",false))}function focus(element,{select:select=false}={}){if(!(element&&element.focus))return;const previouslyFocusedElement=document.activeElement;element.focus({preventScroll:true});if(element!==previouslyFocusedElement&&isSelectableInput(element)&&select){element.select()}}function focusFirst(candidates,{select:select=false}={}){const previouslyFocusedElement=document.activeElement;for(const candidate of candidates){focus(candidate,{select:select});if(document.activeElement!==previouslyFocusedElement){return true}}}function findVisible(elements,container){for(const element of elements){if(!isElementHidden(element,container))return element}}function getTabbableCandidates(container){const nodes=[];const walker=document.createTreeWalker(container,NodeFilter.SHOW_ELEMENT,{acceptNode:node=>{const isHiddenInput=node.tagName==="INPUT"&&node.type==="hidden";if(node.disabled||node.hidden||isHiddenInput)return NodeFilter.FILTER_SKIP;return node.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});while(walker.nextNode())nodes.push(walker.currentNode);return nodes}function getTabbableEdges(container){const candidates=getTabbableCandidates(container);const first=findVisible(candidates,container);const last=findVisible(candidates.reverse(),container);return[first,last]}const AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount";const AUTOFOCUS_ON_DESTROY="focusScope.autoFocusOnDestroy";const EVENT_OPTIONS={bubbles:false,cancelable:true};function useFocusScope({id:id,loop:loop,enabled:enabled,onOpenAutoFocus:onOpenAutoFocus,onCloseAutoFocus:onCloseAutoFocus,forceMount:forceMount}){const focusScopeStack=createFocusScopeStack();const focusScope=createFocusScopeAPI();const ref=box(null);useRefById({id:id,ref:ref,deps:()=>enabled.current});let lastFocusedElement=tag(state(null),"lastFocusedElement");user_effect(()=>{const container=ref.current;if(!container)return;if(!enabled.current)return;function handleFocusIn(event){if(focusScope.paused||!container)return;const target=event.target;if(!isHTMLElement(target))return;if(container.contains(target)){set(lastFocusedElement,target,true)}else{focus(get$2(lastFocusedElement),{select:true})}}function handleFocusOut(event){if(focusScope.paused||!container)return;const relatedTarget=event.relatedTarget;if(!isHTMLElement(relatedTarget))return;if(strict_equals(relatedTarget,null))return;if(!container.contains(relatedTarget))focus(get$2(lastFocusedElement),{select:true})}function handleMutations(_){const lastFocusedElementExists=container==null?void 0:container.contains(get$2(lastFocusedElement));if(!lastFocusedElementExists){focus(container)}}return untrack(()=>{const unsubEvents=executeCallbacks(addEventListener(document,"focusin",handleFocusIn),addEventListener(document,"focusout",handleFocusOut));const mutationObserver=new MutationObserver(handleMutations);mutationObserver.observe(container,{childList:true,subtree:true});return()=>{unsubEvents();mutationObserver.disconnect()}})});user_effect(()=>{if(forceMount.current)return;let container=ref.current;const previouslyFocusedElement=document.activeElement;untrack(()=>{handleMount(container,previouslyFocusedElement)});return()=>{if(!container)return;handleDestroy(previouslyFocusedElement)}});user_effect(()=>{if(!forceMount.current)return;enabled.current;const container=ref.current;const previouslyFocusedElement=document.activeElement;untrack(()=>{handleMount(container,previouslyFocusedElement)});return()=>{if(!container)return;handleDestroy(previouslyFocusedElement)}});function handleMount(container,prevFocusedElement){if(!container)container=document.getElementById(id.current);if(!container)return;focusScopeStack.add(focusScope);const hasFocusedCandidate=container.contains(prevFocusedElement);if(!hasFocusedCandidate){const mountEvent=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS);onOpenAutoFocus.current(mountEvent);if(!mountEvent.defaultPrevented){afterTick(()=>{if(!container)return;focusFirst(removeLinks(getTabbableCandidates(container)),{select:true});if(strict_equals(document.activeElement,prevFocusedElement)){focus(container)}})}}}function handleDestroy(prevFocusedElement){const destroyEvent=new CustomEvent(AUTOFOCUS_ON_DESTROY,EVENT_OPTIONS);onCloseAutoFocus.current(destroyEvent);setTimeout(()=>{if(!destroyEvent.defaultPrevented&&prevFocusedElement){focus(prevFocusedElement??document.body,{select:true})}focusScopeStack.remove(focusScope)},0)}function handleKeydown(e){if(!enabled.current)return;if(!loop.current&&!enabled.current)return;if(focusScope.paused)return;const isTabKey=strict_equals(e.key,TAB)&&!e.ctrlKey&&!e.altKey&&!e.metaKey;const focusedElement=document.activeElement;if(!(isTabKey&&focusedElement))return;const container=ref.current;if(!container)return;const[first,last]=getTabbableEdges(container);const hasTabbableElementsInside=first&&last;if(!hasTabbableElementsInside){if(strict_equals(focusedElement,container)){e.preventDefault()}}else{if(!e.shiftKey&&strict_equals(focusedElement,last)){e.preventDefault();if(loop.current)focus(first,{select:true})}else if(e.shiftKey&&strict_equals(focusedElement,first)){e.preventDefault();if(loop.current)focus(last,{select:true})}}}const props=tag(user_derived(()=>({id:id.current,tabindex:-1,onkeydown:handleKeydown})),"props");return{get props(){return get$2(props)}}}Focus_scope[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/focus-scope/focus-scope.svelte";function Focus_scope($$anchor,$$props){check_target(new.target);push($$props,true,Focus_scope);let trapFocus=prop($$props,"trapFocus",3,false),loop=prop($$props,"loop",3,false),onCloseAutoFocus=prop($$props,"onCloseAutoFocus",3,noop$1),onOpenAutoFocus=prop($$props,"onOpenAutoFocus",3,noop$1),forceMount=prop($$props,"forceMount",3,false);const focusScopeState=useFocusScope({enabled:box.with(()=>trapFocus()),loop:box.with(()=>loop()),onCloseAutoFocus:box.with(()=>onCloseAutoFocus()),onOpenAutoFocus:box.with(()=>onOpenAutoFocus()),id:box.with(()=>$$props.id),forceMount:box.with(()=>forceMount())});var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.focusScope??noop,()=>({props:focusScopeState.props}));append($$anchor,fragment);return pop({...legacy_api()})}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);class TextSelectionLayerState{constructor(props){__privateAdd(this,_TextSelectionLayerState_instances);__privateAdd(this,_id);__privateAdd(this,_onPointerDownProp);__privateAdd(this,_onPointerUpProp);__privateAdd(this,_enabled3);__privateAdd(this,_unsubSelectionLock,noop$1);__privateAdd(this,_ref,box(null));__privateAdd(this,_pointerdown,e=>{const node=__privateGet(this,_ref).current;const target=e.target;if(!isHTMLElement(node)||!isHTMLElement(target)||!__privateGet(this,_enabled3).current)return;if(!isHighestLayer(this)||!isOrContainsTarget(node,target))return;__privateGet(this,_onPointerDownProp).current(e);if(e.defaultPrevented)return;__privateSet(this,_unsubSelectionLock,preventTextSelectionOverflow(node))});__privateAdd(this,_resetSelectionLock,()=>{__privateGet(this,_unsubSelectionLock).call(this);__privateSet(this,_unsubSelectionLock,noop$1)});__privateSet(this,_id,props.id);__privateSet(this,_enabled3,props.preventOverflowTextSelection);__privateSet(this,_onPointerDownProp,props.onPointerDown);__privateSet(this,_onPointerUpProp,props.onPointerUp);useRefById({id:__privateGet(this,_id),ref:__privateGet(this,_ref),deps:()=>__privateGet(this,_enabled3).current});let unsubEvents=noop$1;user_effect(()=>{if(__privateGet(this,_enabled3).current){globalThis.bitsTextSelectionLayers.set(this,untrack(()=>__privateGet(this,_enabled3)));unsubEvents=__privateMethod(this,_TextSelectionLayerState_instances,addEventListeners_fn2).call(this)}return()=>{unsubEvents();__privateGet(this,_resetSelectionLock).call(this);globalThis.bitsTextSelectionLayers.delete(this)}})}}_id=new WeakMap;_onPointerDownProp=new WeakMap;_onPointerUpProp=new WeakMap;_enabled3=new WeakMap;_unsubSelectionLock=new WeakMap;_ref=new WeakMap;_TextSelectionLayerState_instances=new WeakSet;addEventListeners_fn2=function(){return executeCallbacks(addEventListener(document,"pointerdown",__privateGet(this,_pointerdown)),addEventListener(document,"pointerup",composeHandlers(__privateGet(this,_resetSelectionLock),__privateGet(this,_onPointerUpProp))))};_pointerdown=new WeakMap;_resetSelectionLock=new WeakMap;function useTextSelectionLayer(props){return new TextSelectionLayerState(props)}const getUserSelect=node=>node.style.userSelect||node.style.webkitUserSelect;function preventTextSelectionOverflow(node){const body=document.body;const originalBodyUserSelect=getUserSelect(body);const originalNodeUserSelect=getUserSelect(node);setUserSelect(body,"none");setUserSelect(node,"text");return()=>{setUserSelect(body,originalBodyUserSelect);setUserSelect(node,originalNodeUserSelect)}}function setUserSelect(node,value){node.style.userSelect=value;node.style.webkitUserSelect=value}function isHighestLayer(instance){const layersArr=[...globalThis.bitsTextSelectionLayers];if(!layersArr.length)return false;const highestLayer=layersArr.at(-1);if(!highestLayer)return false;return strict_equals(highestLayer[0],instance)}Text_selection_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/text-selection-layer/text-selection-layer.svelte";function Text_selection_layer($$anchor,$$props){check_target(new.target);push($$props,true,Text_selection_layer);let preventOverflowTextSelection=prop($$props,"preventOverflowTextSelection",3,true),onPointerDown=prop($$props,"onPointerDown",3,noop$1),onPointerUp=prop($$props,"onPointerUp",3,noop$1);useTextSelectionLayer({id:box.with(()=>$$props.id),preventOverflowTextSelection:box.with(()=>preventOverflowTextSelection()),onPointerDown:box.with(()=>onPointerDown()),onPointerUp:box.with(()=>onPointerUp()),enabled:box.with(()=>$$props.enabled)});var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.children??noop);append($$anchor,fragment);return pop({...legacy_api()})}function createSharedHook(factory){let subscribers=0;let state$1=tag(state(void 0),"state");let scope;function dispose(){subscribers-=1;if(scope&&subscribers<=0){scope();set(state$1,void 0);scope=void 0}}return(...args)=>{subscribers+=1;if(strict_equals(get$2(state$1),void 0)){scope=effect_root(()=>{set(state$1,factory(...args),true)})}user_effect(()=>()=>{dispose()});return get$2(state$1)}}const useBodyLockStackCount=createSharedHook(()=>{const map=new SvelteMap;const locked=tag(user_derived(()=>{for(const value of map.values()){if(value){return true}}return false}),"locked");let initialBodyStyle=tag_proxy(proxy({}),"initialBodyStyle");let stopTouchMoveListener=null;function resetBodyStyle(){if(!isBrowser)return;document.body.style.paddingRight=initialBodyStyle.paddingRight??"";document.body.style.marginRight=initialBodyStyle.marginRight??"";document.body.style.pointerEvents=initialBodyStyle.pointerEvents??"";document.body.style.removeProperty("--scrollbar-width");document.body.style.overflow=initialBodyStyle.overflow??"";isIOS&&(stopTouchMoveListener==null?void 0:stopTouchMoveListener())}user_effect(()=>{const curr=get$2(locked);return untrack(()=>{if(!curr){return}const bodyStyle=getComputedStyle(document.body);initialBodyStyle.overflow=bodyStyle.overflow;initialBodyStyle.paddingRight=bodyStyle.paddingRight;initialBodyStyle.marginRight=bodyStyle.marginRight;initialBodyStyle.pointerEvents=bodyStyle.pointerEvents;const verticalScrollbarWidth=window.innerWidth-document.documentElement.clientWidth;const paddingRight=Number.parseInt(initialBodyStyle.paddingRight??"0",10);const config={padding:paddingRight+verticalScrollbarWidth,margin:Number.parseInt(initialBodyStyle.marginRight??"0",10)};if(verticalScrollbarWidth>0){document.body.style.paddingRight=`${config.padding}px`;document.body.style.marginRight=`${config.margin}px`;document.body.style.setProperty("--scrollbar-width",`${verticalScrollbarWidth}px`);document.body.style.overflow="hidden"}if(isIOS){stopTouchMoveListener=addEventListener(document,"touchmove",e=>{if(strict_equals(e.target,document.documentElement,false))return;if(e.touches.length>1)return;e.preventDefault()},{passive:false})}afterTick(()=>{document.body.style.pointerEvents="none";document.body.style.overflow="hidden"})})});user_effect(()=>()=>{stopTouchMoveListener==null?void 0:stopTouchMoveListener()});return{get map(){return map},resetBodyStyle:resetBodyStyle}});function useBodyScrollLock(initialState,restoreScrollDelay=()=>null){const id=useId();const countState=useBodyLockStackCount();const _restoreScrollDelay=tag(user_derived(restoreScrollDelay),"_restoreScrollDelay");countState.map.set(id,initialState??false);const locked=box.with(()=>countState.map.get(id)??false,v=>countState.map.set(id,v));user_effect(()=>()=>{countState.map.delete(id);if(isAnyLocked(countState.map))return;if(strict_equals(get$2(_restoreScrollDelay),null)){requestAnimationFrame(()=>countState.resetBodyStyle())}else{afterSleep(get$2(_restoreScrollDelay),()=>countState.resetBodyStyle())}});return locked}function isAnyLocked(map){for(const[_,value]of map){if(value)return true}return false}Scroll_lock[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/scroll-lock/scroll-lock.svelte";function Scroll_lock($$anchor,$$props){check_target(new.target);push($$props,true,Scroll_lock);let preventScroll=prop($$props,"preventScroll",3,true),restoreScrollDelay=prop($$props,"restoreScrollDelay",3,null);useBodyScrollLock(preventScroll(),()=>restoreScrollDelay());return pop({...legacy_api()})}function get(valueOrGetValue){return strict_equals(typeof valueOrGetValue,"function")?valueOrGetValue():valueOrGetValue}function getDPR(element){if(strict_equals(typeof window,"undefined"))return 1;const win=element.ownerDocument.defaultView||window;return win.devicePixelRatio||1}function roundByDPR(element,value){const dpr=getDPR(element);return Math.round(value*dpr)/dpr}function getFloatingContentCSSVars(name){return{[`--bits-${name}-content-transform-origin`]:`var(--bits-floating-transform-origin)`,[`--bits-${name}-content-available-width`]:`var(--bits-floating-available-width)`,[`--bits-${name}-content-available-height`]:`var(--bits-floating-available-height)`,[`--bits-${name}-anchor-width`]:`var(--bits-floating-anchor-width)`,[`--bits-${name}-anchor-height`]:`var(--bits-floating-anchor-height)`}}function useFloating(options){const whileElementsMountedOption=options.whileElementsMounted;const openOption=tag(user_derived(()=>get(options.open)??true),"openOption");const middlewareOption=tag(user_derived(()=>get(options.middleware)),"middlewareOption");const transformOption=tag(user_derived(()=>get(options.transform)??true),"transformOption");const placementOption=tag(user_derived(()=>get(options.placement)??"bottom"),"placementOption");const strategyOption=tag(user_derived(()=>get(options.strategy)??"absolute"),"strategyOption");const reference=options.reference;let x=tag(state(0),"x");let y=tag(state(0),"y");const floating=box(null);let strategy=tag(state(proxy(get$2(strategyOption))),"strategy");let placement=tag(state(proxy(get$2(placementOption))),"placement");let middlewareData=tag(state(proxy({})),"middlewareData");let isPositioned=tag(state(false),"isPositioned");const floatingStyles=tag(user_derived(()=>{const initialStyles={position:get$2(strategy),left:"0",top:"0"};if(!floating.current){return initialStyles}const xVal=roundByDPR(floating.current,get$2(x));const yVal=roundByDPR(floating.current,get$2(y));if(get$2(transformOption)){return{...initialStyles,transform:`translate(${xVal}px, ${yVal}px)`,...getDPR(floating.current)>=1.5&&{willChange:"transform"}}}return{position:get$2(strategy),left:`${xVal}px`,top:`${yVal}px`}}),"floatingStyles");let whileElementsMountedCleanup;function update(){if(strict_equals(reference.current,null)||strict_equals(floating.current,null))return;computePosition(reference.current,floating.current,{middleware:get$2(middlewareOption),placement:get$2(placementOption),strategy:get$2(strategyOption)}).then(position=>{set(x,position.x,true);set(y,position.y,true);set(strategy,position.strategy,true);set(placement,position.placement,true);set(middlewareData,position.middlewareData,true);set(isPositioned,true)})}function cleanup(){if(strict_equals(typeof whileElementsMountedCleanup,"function")){whileElementsMountedCleanup();whileElementsMountedCleanup=void 0}}function attach(){cleanup();if(strict_equals(whileElementsMountedOption,void 0)){update();return}if(strict_equals(reference.current,null)||strict_equals(floating.current,null))return;whileElementsMountedCleanup=whileElementsMountedOption(reference.current,floating.current,update)}function reset(){if(!get$2(openOption)){set(isPositioned,false)}}user_effect(update);user_effect(attach);user_effect(reset);user_effect(()=>cleanup);return{floating:floating,reference:reference,get strategy(){return get$2(strategy)},get placement(){return get$2(placement)},get middlewareData(){return get$2(middlewareData)},get isPositioned(){return get$2(isPositioned)},get floatingStyles(){return get$2(floatingStyles)},get update(){return update}}}const OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"};class FloatingRootState{constructor(){__publicField(this,"anchorNode",box(null));__publicField(this,"customAnchorNode",box(null));__publicField(this,"triggerNode",box(null));user_effect(()=>{if(this.customAnchorNode.current){if(strict_equals(typeof this.customAnchorNode.current,"string")){this.anchorNode.current=document.querySelector(this.customAnchorNode.current)}else{this.anchorNode.current=this.customAnchorNode.current}}else{this.anchorNode.current=this.triggerNode.current}})}}class FloatingContentState{constructor(props,root){__publicField(this,"root");__publicField(this,"contentRef",box(null));__publicField(this,"wrapperRef",box(null));__publicField(this,"arrowRef",box(null));__publicField(this,"arrowId",box(useId()));__publicField(this,"id");__publicField(this,"wrapperId");__publicField(this,"style");__privateAdd(this,_transformedStyle,tag(user_derived(()=>{if(strict_equals(typeof this.style,"string"))return cssToStyleObj(this.style);if(!this.style)return{}}),"FloatingContentState.#transformedStyle"));__privateAdd(this,_dir);__privateAdd(this,_side);__privateAdd(this,_sideOffset);__privateAdd(this,_align);__privateAdd(this,_alignOffset);__privateAdd(this,_arrowPadding);__privateAdd(this,_avoidCollisions);__privateAdd(this,_collisionBoundary);__privateAdd(this,_collisionPadding);__privateAdd(this,_sticky);__privateAdd(this,_hideWhenDetached);__privateAdd(this,_strategy);__privateAdd(this,_updatePositionStrategy);__publicField(this,"onPlaced");__publicField(this,"enabled");__privateAdd(this,_arrowSize,new ElementSize(()=>this.arrowRef.current??void 0));__privateAdd(this,_arrowWidth,tag(user_derived(()=>{var _a;return((_a=__privateGet(this,_arrowSize))==null?void 0:_a.width)??0}),"FloatingContentState.#arrowWidth"));__privateAdd(this,_arrowHeight,tag(user_derived(()=>{var _a;return((_a=__privateGet(this,_arrowSize))==null?void 0:_a.height)??0}),"FloatingContentState.#arrowHeight"));__privateAdd(this,_desiredPlacement,tag(user_derived(()=>{var _a;return((_a=__privateGet(this,_side))==null?void 0:_a.current)+(strict_equals(__privateGet(this,_align).current,"center",false)?`-${__privateGet(this,_align).current}`:"")}),"FloatingContentState.#desiredPlacement"));__privateAdd(this,_boundary,tag(user_derived(()=>Array.isArray(__privateGet(this,_collisionBoundary).current)?__privateGet(this,_collisionBoundary).current:[__privateGet(this,_collisionBoundary).current]),"FloatingContentState.#boundary"));__privateAdd(this,_hasExplicitBoundaries,tag(user_derived(()=>get$2(__privateGet(this,_boundary)).length>0),"FloatingContentState.hasExplicitBoundaries"));__privateAdd(this,_detectOverflowOptions,tag(user_derived(()=>({padding:__privateGet(this,_collisionPadding).current,boundary:get$2(__privateGet(this,_boundary)).filter(isNotNull),altBoundary:this.hasExplicitBoundaries})),"FloatingContentState.detectOverflowOptions"));__privateAdd(this,_availableWidth,tag(state(void 0),"FloatingContentState.#availableWidth"));__privateAdd(this,_availableHeight,tag(state(void 0),"FloatingContentState.#availableHeight"));__privateAdd(this,_anchorWidth,tag(state(void 0),"FloatingContentState.#anchorWidth"));__privateAdd(this,_anchorHeight,tag(state(void 0),"FloatingContentState.#anchorHeight"));__privateAdd(this,_middleware,tag(user_derived(()=>[offset({mainAxis:__privateGet(this,_sideOffset).current+get$2(__privateGet(this,_arrowHeight)),alignmentAxis:__privateGet(this,_alignOffset).current}),__privateGet(this,_avoidCollisions).current&&shift({mainAxis:true,crossAxis:false,limiter:strict_equals(__privateGet(this,_sticky).current,"partial")?limitShift():void 0,...this.detectOverflowOptions}),__privateGet(this,_avoidCollisions).current&&flip({...this.detectOverflowOptions}),size({...this.detectOverflowOptions,apply:({rects:rects,availableWidth:availableWidth,availableHeight:availableHeight})=>{const{width:anchorWidth,height:anchorHeight}=rects.reference;set(__privateGet(this,_availableWidth),availableWidth,true);set(__privateGet(this,_availableHeight),availableHeight,true);set(__privateGet(this,_anchorWidth),anchorWidth,true);set(__privateGet(this,_anchorHeight),anchorHeight,true)}}),this.arrowRef.current&&arrow({element:this.arrowRef.current,padding:__privateGet(this,_arrowPadding).current}),transformOrigin({arrowWidth:get$2(__privateGet(this,_arrowWidth)),arrowHeight:get$2(__privateGet(this,_arrowHeight))}),__privateGet(this,_hideWhenDetached).current&&hide({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean)),"FloatingContentState.middleware"));__publicField(this,"floating");__privateAdd(this,_placedSide,tag(user_derived(()=>getSideFromPlacement(this.floating.placement)),"FloatingContentState.placedSide"));__privateAdd(this,_placedAlign,tag(user_derived(()=>getAlignFromPlacement(this.floating.placement)),"FloatingContentState.placedAlign"));__privateAdd(this,_arrowX,tag(user_derived(()=>{var _a;return((_a=this.floating.middlewareData.arrow)==null?void 0:_a.x)??0}),"FloatingContentState.arrowX"));__privateAdd(this,_arrowY,tag(user_derived(()=>{var _a;return((_a=this.floating.middlewareData.arrow)==null?void 0:_a.y)??0}),"FloatingContentState.arrowY"));__privateAdd(this,_cannotCenterArrow,tag(user_derived(()=>{var _a;return strict_equals((_a=this.floating.middlewareData.arrow)==null?void 0:_a.centerOffset,0,false)}),"FloatingContentState.cannotCenterArrow"));__privateAdd(this,_contentZIndex,tag(state(),"FloatingContentState.contentZIndex"));__privateAdd(this,_arrowBaseSide,tag(user_derived(()=>OPPOSITE_SIDE[this.placedSide]),"FloatingContentState.arrowBaseSide"));__privateAdd(this,_wrapperProps,tag(user_derived(()=>{var _a,_b,_c;return{id:this.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${(_a=this.floating.middlewareData.transformOrigin)==null?void 0:_a.x} ${(_b=this.floating.middlewareData.transformOrigin)==null?void 0:_b.y}`,"--bits-floating-available-width":`${get$2(__privateGet(this,_availableWidth))}px`,"--bits-floating-available-height":`${get$2(__privateGet(this,_availableHeight))}px`,"--bits-floating-anchor-width":`${get$2(__privateGet(this,_anchorWidth))}px`,"--bits-floating-anchor-height":`${get$2(__privateGet(this,_anchorHeight))}px`,...((_c=this.floating.middlewareData.hide)==null?void 0:_c.referenceHidden)&&{visibility:"hidden","pointer-events":"none"},...get$2(__privateGet(this,_transformedStyle))},dir:__privateGet(this,_dir).current}}),"FloatingContentState.wrapperProps"));__privateAdd(this,_props,tag(user_derived(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:styleToString({...get$2(__privateGet(this,_transformedStyle))})})),"FloatingContentState.props"));__privateAdd(this,_arrowStyle,tag(user_derived(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0})),"FloatingContentState.arrowStyle"));this.id=props.id;__privateSet(this,_side,props.side);__privateSet(this,_sideOffset,props.sideOffset);__privateSet(this,_align,props.align);__privateSet(this,_alignOffset,props.alignOffset);__privateSet(this,_arrowPadding,props.arrowPadding);__privateSet(this,_avoidCollisions,props.avoidCollisions);__privateSet(this,_collisionBoundary,props.collisionBoundary);__privateSet(this,_collisionPadding,props.collisionPadding);__privateSet(this,_sticky,props.sticky);__privateSet(this,_hideWhenDetached,props.hideWhenDetached);__privateSet(this,_updatePositionStrategy,props.updatePositionStrategy);this.onPlaced=props.onPlaced;__privateSet(this,_strategy,props.strategy);__privateSet(this,_dir,props.dir);this.style=props.style;this.root=root;this.enabled=props.enabled;this.wrapperId=props.wrapperId;if(props.customAnchor){this.root.customAnchorNode.current=props.customAnchor.current}user_effect(()=>{props.customAnchor.current;untrack(()=>{this.root.customAnchorNode.current=props.customAnchor.current})});useRefById({id:this.wrapperId,ref:this.wrapperRef,deps:()=>this.enabled.current});useRefById({id:this.id,ref:this.contentRef,deps:()=>this.enabled.current});this.floating=useFloating({strategy:()=>__privateGet(this,_strategy).current,placement:()=>get$2(__privateGet(this,_desiredPlacement)),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...args)=>{var _a;const cleanup=autoUpdate(...args,{animationFrame:strict_equals((_a=__privateGet(this,_updatePositionStrategy))==null?void 0:_a.current,"always")});return cleanup},open:()=>this.enabled.current});user_effect(()=>{var _a;if(!this.floating.isPositioned)return;(_a=this.onPlaced)==null?void 0:_a.current()});user_effect(()=>{const contentNode=this.contentRef.current;if(!contentNode)return;untrack(()=>{this.contentZIndex=window.getComputedStyle(contentNode).zIndex})});user_effect(()=>{this.floating.floating.current=this.wrapperRef.current})}get hasExplicitBoundaries(){return get$2(__privateGet(this,_hasExplicitBoundaries))}set hasExplicitBoundaries(value){set(__privateGet(this,_hasExplicitBoundaries),value)}get detectOverflowOptions(){return get$2(__privateGet(this,_detectOverflowOptions))}set detectOverflowOptions(value){set(__privateGet(this,_detectOverflowOptions),value)}get middleware(){return get$2(__privateGet(this,_middleware))}set middleware(value){set(__privateGet(this,_middleware),value)}get placedSide(){return get$2(__privateGet(this,_placedSide))}set placedSide(value){set(__privateGet(this,_placedSide),value)}get placedAlign(){return get$2(__privateGet(this,_placedAlign))}set placedAlign(value){set(__privateGet(this,_placedAlign),value)}get arrowX(){return get$2(__privateGet(this,_arrowX))}set arrowX(value){set(__privateGet(this,_arrowX),value)}get arrowY(){return get$2(__privateGet(this,_arrowY))}set arrowY(value){set(__privateGet(this,_arrowY),value)}get cannotCenterArrow(){return get$2(__privateGet(this,_cannotCenterArrow))}set cannotCenterArrow(value){set(__privateGet(this,_cannotCenterArrow),value)}get contentZIndex(){return get$2(__privateGet(this,_contentZIndex))}set contentZIndex(value){set(__privateGet(this,_contentZIndex),value,true)}get arrowBaseSide(){return get$2(__privateGet(this,_arrowBaseSide))}set arrowBaseSide(value){set(__privateGet(this,_arrowBaseSide),value)}get wrapperProps(){return get$2(__privateGet(this,_wrapperProps))}set wrapperProps(value){set(__privateGet(this,_wrapperProps),value)}get props(){return get$2(__privateGet(this,_props))}set props(value){set(__privateGet(this,_props),value)}get arrowStyle(){return get$2(__privateGet(this,_arrowStyle))}set arrowStyle(value){set(__privateGet(this,_arrowStyle),value)}}_transformedStyle=new WeakMap;_dir=new WeakMap;_side=new WeakMap;_sideOffset=new WeakMap;_align=new WeakMap;_alignOffset=new WeakMap;_arrowPadding=new WeakMap;_avoidCollisions=new WeakMap;_collisionBoundary=new WeakMap;_collisionPadding=new WeakMap;_sticky=new WeakMap;_hideWhenDetached=new WeakMap;_strategy=new WeakMap;_updatePositionStrategy=new WeakMap;_arrowSize=new WeakMap;_arrowWidth=new WeakMap;_arrowHeight=new WeakMap;_desiredPlacement=new WeakMap;_boundary=new WeakMap;_hasExplicitBoundaries=new WeakMap;_detectOverflowOptions=new WeakMap;_availableWidth=new WeakMap;_availableHeight=new WeakMap;_anchorWidth=new WeakMap;_anchorHeight=new WeakMap;_middleware=new WeakMap;_placedSide=new WeakMap;_placedAlign=new WeakMap;_arrowX=new WeakMap;_arrowY=new WeakMap;_cannotCenterArrow=new WeakMap;_contentZIndex=new WeakMap;_arrowBaseSide=new WeakMap;_wrapperProps=new WeakMap;_props=new WeakMap;_arrowStyle=new WeakMap;class FloatingAnchorState{constructor(props,root){__publicField(this,"ref",box(null));if(props.virtualEl&&props.virtualEl.current){root.triggerNode=box.from(props.virtualEl.current)}else{useRefById({id:props.id,ref:this.ref,onRefChange:node=>{root.triggerNode.current=node}})}}}const[setFloatingRootContext,getFloatingRootContext]=createContext("Floating.Root");const[setFloatingContentContext,getFloatingContentContext]=createContext("Floating.Content");function useFloatingRootState(){return setFloatingRootContext(new FloatingRootState)}function useFloatingContentState(props){return setFloatingContentContext(new FloatingContentState(props,getFloatingRootContext()))}function useFloatingAnchorState(props){return new FloatingAnchorState(props,getFloatingRootContext())}function transformOrigin(options){return{name:"transformOrigin",options:options,fn(data){var _a,_b,_c;const{placement:placement,rects:rects,middlewareData:middlewareData}=data;const cannotCenterArrow=strict_equals((_a=middlewareData.arrow)==null?void 0:_a.centerOffset,0,false);const isArrowHidden=cannotCenterArrow;const arrowWidth=isArrowHidden?0:options.arrowWidth;const arrowHeight=isArrowHidden?0:options.arrowHeight;const[placedSide,placedAlign]=getSideAndAlignFromPlacement(placement);const noArrowAlign={start:"0%",center:"50%",end:"100%"}[placedAlign];const arrowXCenter=(((_b=middlewareData.arrow)==null?void 0:_b.x)??0)+arrowWidth/2;const arrowYCenter=(((_c=middlewareData.arrow)==null?void 0:_c.y)??0)+arrowHeight/2;let x="";let y="";if(strict_equals(placedSide,"bottom")){x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`;y=`${-arrowHeight}px`}else if(strict_equals(placedSide,"top")){x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`;y=`${rects.floating.height+arrowHeight}px`}else if(strict_equals(placedSide,"right")){x=`${-arrowHeight}px`;y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`}else if(strict_equals(placedSide,"left")){x=`${rects.floating.width+arrowHeight}px`;y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`}return{data:{x:x,y:y}}}}}function getSideAndAlignFromPlacement(placement){const[side,align="center"]=placement.split("-");return[side,align]}function getSideFromPlacement(placement){return getSideAndAlignFromPlacement(placement)[0]}function getAlignFromPlacement(placement){return getSideAndAlignFromPlacement(placement)[1]}Floating_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer.svelte";function Floating_layer($$anchor,$$props){check_target(new.target);push($$props,true,Floating_layer);useFloatingRootState();var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.children??noop);append($$anchor,fragment);return pop({...legacy_api()})}function boxAutoReset(defaultValue,afterMs=1e4){let timeout=null;let value=tag(state(proxy(defaultValue)),"value");function resetAfter(){return setTimeout(()=>{set(value,defaultValue,true)},afterMs)}user_effect(()=>()=>{if(timeout)clearTimeout(timeout)});return box.with(()=>get$2(value),v=>{set(value,v,true);if(timeout)clearTimeout(timeout);timeout=resetAfter()})}Floating_layer_anchor[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-anchor.svelte";function Floating_layer_anchor($$anchor,$$props){check_target(new.target);push($$props,true,Floating_layer_anchor);useFloatingAnchorState({id:box.with(()=>$$props.id),virtualEl:box.with(()=>$$props.virtualEl)});var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.children??noop);append($$anchor,fragment);return pop({...legacy_api()})}Floating_layer_content[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-content.svelte";function Floating_layer_content($$anchor,$$props){check_target(new.target);push($$props,true,Floating_layer_content);let side=prop($$props,"side",3,"bottom"),sideOffset=prop($$props,"sideOffset",3,0),align=prop($$props,"align",3,"center"),alignOffset=prop($$props,"alignOffset",3,0),arrowPadding=prop($$props,"arrowPadding",3,0),avoidCollisions=prop($$props,"avoidCollisions",3,true),collisionBoundary=prop($$props,"collisionBoundary",19,()=>[]),collisionPadding=prop($$props,"collisionPadding",3,0),hideWhenDetached=prop($$props,"hideWhenDetached",3,false),onPlaced=prop($$props,"onPlaced",3,()=>{}),sticky=prop($$props,"sticky",3,"partial"),updatePositionStrategy=prop($$props,"updatePositionStrategy",3,"optimized"),strategy=prop($$props,"strategy",3,"fixed"),dir=prop($$props,"dir",3,"ltr"),style=prop($$props,"style",19,()=>({})),wrapperId=prop($$props,"wrapperId",19,useId),customAnchor=prop($$props,"customAnchor",3,null);const contentState=useFloatingContentState({side:box.with(()=>side()),sideOffset:box.with(()=>sideOffset()),align:box.with(()=>align()),alignOffset:box.with(()=>alignOffset()),id:box.with(()=>$$props.id),arrowPadding:box.with(()=>arrowPadding()),avoidCollisions:box.with(()=>avoidCollisions()),collisionBoundary:box.with(()=>collisionBoundary()),collisionPadding:box.with(()=>collisionPadding()),hideWhenDetached:box.with(()=>hideWhenDetached()),onPlaced:box.with(()=>onPlaced()),sticky:box.with(()=>sticky()),updatePositionStrategy:box.with(()=>updatePositionStrategy()),strategy:box.with(()=>strategy()),dir:box.with(()=>dir()),style:box.with(()=>style()),enabled:box.with(()=>false),wrapperId:box.with(()=>wrapperId()),customAnchor:box.with(()=>customAnchor())});const mergedProps=tag(user_derived(()=>mergeProps(contentState.wrapperProps,{style:{pointerEvents:"auto"}})),"mergedProps");var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.content??noop,()=>({props:contentState.props,wrapperProps:get$2(mergedProps)}));append($$anchor,fragment);return pop({...legacy_api()})}Floating_layer_content_static[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/floating-layer/components/floating-layer-content-static.svelte";function Floating_layer_content_static($$anchor,$$props){check_target(new.target);push($$props,true,Floating_layer_content_static);onMount(()=>{var _a;(_a=$$props.onPlaced)==null?void 0:_a.call($$props)});var fragment=comment();var node=first_child(fragment);snippet(node,()=>$$props.content??noop,()=>({props:{},wrapperProps:{}}));append($$anchor,fragment);return pop({...legacy_api()})}Popper_content[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-content.svelte";function Popper_content($$anchor,$$props){check_target(new.target);push($$props,true,Popper_content);let isStatic=prop($$props,"isStatic",3,false),restProps=rest_props($$props,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"],"restProps");var fragment=comment();var node=first_child(fragment);{var consequent=$$anchor2=>{Floating_layer_content_static($$anchor2,{get content(){return $$props.content},get onPlaced(){return $$props.onPlaced}})};var alternate=$$anchor2=>{Floating_layer_content($$anchor2,spread_props({get content(){return $$props.content},get onPlaced(){return $$props.onPlaced}},()=>restProps))};if_block(node,$$render=>{if(isStatic())$$render(consequent);else $$render(alternate,false)})}append($$anchor,fragment);return pop({...legacy_api()})}Popper_layer_inner[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer-inner.svelte";var root_1=add_locations(from_html(`<!> <!>`,1),Popper_layer_inner[FILENAME],[]);function Popper_layer_inner($$anchor,$$props){check_target(new.target);push($$props,true,Popper_layer_inner);let interactOutsideBehavior=prop($$props,"interactOutsideBehavior",3,"close"),trapFocus=prop($$props,"trapFocus",3,true),isValidEvent2=prop($$props,"isValidEvent",3,()=>false),customAnchor=prop($$props,"customAnchor",3,null),isStatic=prop($$props,"isStatic",3,false),restProps=rest_props($$props,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"],"restProps");{const content=wrap_snippet(Popper_layer_inner,function($$anchor2,$$arg0){validate_snippet_args(...arguments);let floatingProps=()=>$$arg0==null?void 0:$$arg0().props;floatingProps();let wrapperProps=()=>$$arg0==null?void 0:$$arg0().wrapperProps;wrapperProps();var fragment_1=root_1();var node=first_child(fragment_1);{var consequent=$$anchor3=>{Scroll_lock($$anchor3,{get preventScroll(){return $$props.preventScroll}})};var alternate=($$anchor3,$$elseif)=>{{var consequent_1=$$anchor4=>{Scroll_lock($$anchor4,{get preventScroll(){return $$props.preventScroll}})};if_block($$anchor3,$$render=>{if(!$$props.forceMount)$$render(consequent_1)},$$elseif)}};if_block(node,$$render=>{if($$props.forceMount&&$$props.enabled)$$render(consequent);else $$render(alternate,false)})}var node_1=sibling(node,2);const expression=user_derived(()=>$$props.enabled&&trapFocus());{const focusScope=wrap_snippet(Popper_layer_inner,function($$anchor3,$$arg02){validate_snippet_args(...arguments);let focusScopeProps=()=>$$arg02==null?void 0:$$arg02().props;focusScopeProps();Escape_layer($$anchor3,{get onEscapeKeydown(){return $$props.onEscapeKeydown},get escapeKeydownBehavior(){return $$props.escapeKeydownBehavior},get enabled(){return $$props.enabled},children:wrap_snippet(Popper_layer_inner,($$anchor4,$$slotProps)=>{{const children=wrap_snippet(Popper_layer_inner,function($$anchor5,$$arg03){validate_snippet_args(...arguments);let dismissibleProps=()=>$$arg03==null?void 0:$$arg03().props;dismissibleProps();Text_selection_layer($$anchor5,{get id(){return $$props.id},get preventOverflowTextSelection(){return $$props.preventOverflowTextSelection},get onPointerDown(){return $$props.onPointerDown},get onPointerUp(){return $$props.onPointerUp},get enabled(){return $$props.enabled},children:wrap_snippet(Popper_layer_inner,($$anchor6,$$slotProps2)=>{var fragment_7=comment();var node_2=first_child(fragment_7);var render_arg=derived_safe_equal(()=>({props:mergeProps(restProps,floatingProps(),dismissibleProps(),focusScopeProps(),{style:{pointerEvents:"auto"}}),wrapperProps:wrapperProps()}));snippet(node_2,()=>$$props.popper??noop,()=>get$2(render_arg));append($$anchor6,fragment_7)}),$$slots:{default:true}})});Dismissible_layer($$anchor4,{get id(){return $$props.id},get onInteractOutside(){return $$props.onInteractOutside},get onFocusOutside(){return $$props.onFocusOutside},get interactOutsideBehavior(){return interactOutsideBehavior()},isValidEvent:isValidEvent2(),get enabled(){return $$props.enabled},children:children,$$slots:{default:true}})}}),$$slots:{default:true}})});Focus_scope(node_1,{get id(){return $$props.id},get onOpenAutoFocus(){return $$props.onOpenAutoFocus},get onCloseAutoFocus(){return $$props.onCloseAutoFocus},get loop(){return $$props.loop},get trapFocus(){return get$2(expression)},get forceMount(){return $$props.forceMount},focusScope:focusScope,$$slots:{focusScope:true}})}append($$anchor2,fragment_1)});Popper_content($$anchor,{get isStatic(){return isStatic()},get id(){return $$props.id},get side(){return $$props.side},get sideOffset(){return $$props.sideOffset},get align(){return $$props.align},get alignOffset(){return $$props.alignOffset},get arrowPadding(){return $$props.arrowPadding},get avoidCollisions(){return $$props.avoidCollisions},get collisionBoundary(){return $$props.collisionBoundary},get collisionPadding(){return $$props.collisionPadding},get sticky(){return $$props.sticky},get hideWhenDetached(){return $$props.hideWhenDetached},get updatePositionStrategy(){return $$props.updatePositionStrategy},get strategy(){return $$props.strategy},get dir(){return $$props.dir},get wrapperId(){return $$props.wrapperId},get style(){return $$props.style},get onPlaced(){return $$props.onPlaced},get customAnchor(){return customAnchor()},content:content,$$slots:{content:true}})}return pop({...legacy_api()})}Popper_layer[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer.svelte";function Popper_layer($$anchor,$$props){check_target(new.target);push($$props,true,Popper_layer);let interactOutsideBehavior=prop($$props,"interactOutsideBehavior",3,"close"),trapFocus=prop($$props,"trapFocus",3,true),isValidEvent2=prop($$props,"isValidEvent",3,()=>false),customAnchor=prop($$props,"customAnchor",3,null),isStatic=prop($$props,"isStatic",3,false),restProps=rest_props($$props,["$$slots","$$events","$$legacy","popper","present","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic"],"restProps");{const presence=wrap_snippet(Popper_layer,function($$anchor2,$$arg0){validate_snippet_args(...arguments);let present=()=>$$arg0==null?void 0:$$arg0().present;present();Popper_layer_inner($$anchor2,spread_props({get popper(){return $$props.popper},get onEscapeKeydown(){return $$props.onEscapeKeydown},get escapeKeydownBehavior(){return $$props.escapeKeydownBehavior},get preventOverflowTextSelection(){return $$props.preventOverflowTextSelection},get id(){return $$props.id},get onPointerDown(){return $$props.onPointerDown},get onPointerUp(){return $$props.onPointerUp},get side(){return $$props.side},get sideOffset(){return $$props.sideOffset},get align(){return $$props.align},get alignOffset(){return $$props.alignOffset},get arrowPadding(){return $$props.arrowPadding},get avoidCollisions(){return $$props.avoidCollisions},get collisionBoundary(){return $$props.collisionBoundary},get collisionPadding(){return $$props.collisionPadding},get sticky(){return $$props.sticky},get hideWhenDetached(){return $$props.hideWhenDetached},get updatePositionStrategy(){return $$props.updatePositionStrategy},get strategy(){return $$props.strategy},get dir(){return $$props.dir},get preventScroll(){return $$props.preventScroll},get wrapperId(){return $$props.wrapperId},get style(){return $$props.style},get onPlaced(){return $$props.onPlaced},get customAnchor(){return customAnchor()},get isStatic(){return isStatic()},get enabled(){return present().current},get onInteractOutside(){return $$props.onInteractOutside},get onCloseAutoFocus(){return $$props.onCloseAutoFocus},get onOpenAutoFocus(){return $$props.onOpenAutoFocus},get interactOutsideBehavior(){return interactOutsideBehavior()},get loop(){return $$props.loop},get trapFocus(){return trapFocus()},isValidEvent:isValidEvent2(),get onFocusOutside(){return $$props.onFocusOutside},forceMount:false},()=>restProps))});Presence_layer($$anchor,spread_props({get id(){return $$props.id},get present(){return $$props.present}},()=>restProps,{presence:presence,$$slots:{presence:true}}))}return pop({...legacy_api()})}Popper_layer_force_mount[FILENAME]="/Users/hansjones/projects/lambdastack/yakkl/crypto/yakkl/node_modules/.pnpm/bits-ui@1.0.0-next.74_svelte@5.34.3/node_modules/bits-ui/dist/bits/utilities/popper-layer/popper-layer-force-mount.svelte";function Popper_layer_force_mount($$anchor,$$props){check_target(new.target);push($$props,true,Popper_layer_force_mount);let interactOutsideBehavior=prop($$props,"interactOutsideBehavior",3,"close"),trapFocus=prop($$props,"trapFocus",3,true),isValidEvent2=prop($$props,"isValidEvent",3,()=>false),customAnchor=prop($$props,"customAnchor",3,null),isStatic=prop($$props,"isStatic",3,false),restProps=rest_props($$props,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"],"restProps");Popper_layer_inner($$anchor,spread_props({get popper(){return $$props.popper},get onEscapeKeydown(){return $$props.onEscapeKeydown},get escapeKeydownBehavior(){return $$props.escapeKeydownBehavior},get preventOverflowTextSelection(){return $$props.preventOverflowTextSelection},get id(){return $$props.id},get onPointerDown(){return $$props.onPointerDown},get onPointerUp(){return $$props.onPointerUp},get side(){return $$props.side},get sideOffset(){return $$props.sideOffset},get align(){return $$props.align},get alignOffset(){return $$props.alignOffset},get arrowPadding(){return $$props.arrowPadding},get avoidCollisions(){return $$props.avoidCollisions},get collisionBoundary(){return $$props.collisionBoundary},get collisionPadding(){return $$props.collisionPadding},get sticky(){return $$props.sticky},get hideWhenDetached(){return $$props.hideWhenDetached},get updatePositionStrategy(){return $$props.updatePositionStrategy},get strategy(){return $$props.strategy},get dir(){return $$props.dir},get preventScroll(){return $$props.preventScroll},get wrapperId(){return $$props.wrapperId},get style(){return $$props.style},get onPlaced(){return $$props.onPlaced},get customAnchor(){return customAnchor()},get isStatic(){return isStatic()},get enabled(){return $$props.enabled},get onInteractOutside(){return $$props.onInteractOutside},get onCloseAutoFocus(){return $$props.onCloseAutoFocus},get onOpenAutoFocus(){return $$props.onOpenAutoFocus},get interactOutsideBehavior(){return interactOutsideBehavior()},get loop(){return $$props.loop},get trapFocus(){return trapFocus()},isValidEvent:isValidEvent2(),get onFocusOutside(){return $$props.onFocusOutside}},()=>restProps,{forceMount:true}));return pop({...legacy_api()})}function createEventHook(){const callbacks=new Set;const callbacksToDispose=[];function off(cb){callbacks.delete(cb)}function on(cb){callbacks.add(cb);const offFn=()=>off(cb);callbacksToDispose.push(offFn);return{off:offFn}}const trigger=(...args)=>Promise.all(Array.from(callbacks).map(cb=>Promise.resolve(cb(...args))));user_effect(()=>()=>{executeCallbacks(callbacksToDispose)});return{on:on,off:off,trigger:trigger}}function useGraceArea(getTriggerNode,getContentNode){const isPointerInTransit=boxAutoReset(false,300);const triggerNode=tag(user_derived(getTriggerNode),"triggerNode");const contentNode=tag(user_derived(getContentNode),"contentNode");let pointerGraceArea=tag(state(null),"pointerGraceArea");const pointerExit=createEventHook();function handleRemoveGraceArea(){set(pointerGraceArea,null);isPointerInTransit.current=false}function handleCreateGraceArea(e,hoverTarget){const currentTarget=e.currentTarget;if(!isHTMLElement(currentTarget))return;const exitPoint={x:e.clientX,y:e.clientY};const exitSide=getExitSideFromRect(exitPoint,currentTarget.getBoundingClientRect());const paddedExitPoints=getPaddedExitPoints(exitPoint,exitSide);const hoverTargetPoints=getPointsFromRect(hoverTarget.getBoundingClientRect());const graceArea=getHull([...paddedExitPoints,...hoverTargetPoints]);set(pointerGraceArea,graceArea,true);isPointerInTransit.current=true}user_effect(()=>{if(!get$2(triggerNode)||!get$2(contentNode))return;const handleTriggerLeave=e=>{handleCreateGraceArea(e,get$2(contentNode))};const handleContentLeave=e=>{handleCreateGraceArea(e,get$2(triggerNode))};const unsub=executeCallbacks(addEventListener(get$2(triggerNode),"pointerleave",handleTriggerLeave),addEventListener(get$2(contentNode),"pointerleave",handleContentLeave));return unsub});user_effect(()=>{if(!get$2(pointerGraceArea))return;function handleTrackPointerGrace(e){var _a,_b;if(!get$2(pointerGraceArea))return;const target=e.target;if(!isElement(target))return;const pointerPosition={x:e.clientX,y:e.clientY};const hasEnteredTarget=((_a=get$2(triggerNode))==null?void 0:_a.contains(target))||((_b=get$2(contentNode))==null?void 0:_b.contains(target));const isPointerOutsideGraceArea=!isPointInPolygon(pointerPosition,get$2(pointerGraceArea));if(hasEnteredTarget){handleRemoveGraceArea()}else if(isPointerOutsideGraceArea){handleRemoveGraceArea();pointerExit.trigger()}}return addEventListener(document,"pointermove",handleTrackPointerGrace)});return{isPointerInTransit:isPointerInTransit,onPointerExit:pointerExit.on}}function getExitSideFromRect(point,rect){const top=Math.abs(rect.top-point.y);const bottom=Math.abs(rect.bottom-point.y);const right=Math.abs(rect.right-point.x);const left=Math.abs(rect.left-point.x);switch(Math.min(top,bottom,right,left)){case left:return"left";case right:return"right";case top:return"top";case bottom:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(exitPoint,exitSide,padding=5){const paddedExitPoints=[];switch(exitSide){case"top":paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y+padding},{x:exitPoint.x+padding,y:exitPoint.y+padding});break;case"bottom":paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y-padding},{x:exitPoint.x+padding,y:exitPoint.y-padding});break;case"left":paddedExitPoints.push({x:exitPoint.x+padding,y:exitPoint.y-padding},{x:exitPoint.x+padding,y:exitPoint.y+padding});break;case"right":paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y-padding},{x:exitPoint.x-padding,y:exitPoint.y+padding});break}return paddedExitPoints}function getPointsFromRect(rect){const{top:top,right:right,bottom:bottom,left:left}=rect;return[{x:left,y:top},{x:right,y:top},{x:right,y:bottom},{x:left,y:bottom}]}function isPointInPolygon(point,polygon){const{x:x,y:y}=point;let inside=false;for(let i=0,j=polygon.length-1;i<polygon.length;j=i++){const xi=polygon[i].x;const yi=polygon[i].y;const xj=polygon[j].x;const yj=polygon[j].y;const intersect=strict_equals(yi>y,yj>y,false)&&x<(xj-xi)*(y-yi)/(yj-yi)+xi;if(intersect)inside=!inside}return inside}function getHull(points){const newPoints=points.slice();newPoints.sort((a,b)=>{if(a.x<b.x)return-1;else if(a.x>b.x)return 1;else if(a.y<b.y)return-1;else if(a.y>b.y)return 1;else return 0});return getHullPresorted(newPoints)}function getHullPresorted(points){if(points.length<=1)return points.slice();const upperHull=[];for(let i=0;i<points.length;i++){const p=points[i];while(upperHull.length>=2){const q=upperHull[upperHull.length-1];const r=upperHull[upperHull.length-2];if((q.x-r.x)*(p.y-r.y)>=(q.y-r.y)*(p.x-r.x))upperHull.pop();else break}upperHull.push(p)}upperHull.pop();const lowerHull=[];for(let i=points.length-1;i>=0;i--){const p=points[i];while(lowerHull.length>=2){const q=lowerHull[lowerHull.length-1];const r=lowerHull[lowerHull.length-2];if((q.x-r.x)*(p.y-r.y)>=(q.y-r.y)*(p.x-r.x))lowerHull.pop();else break}lowerHull.push(p)}lowerHull.pop();if(strict_equals(upperHull.length,1)&&strict_equals(lowerHull.length,1)&&strict_equals(upperHull[0].x,lowerHull[0].x)&&strict_equals(upperHull[0].y,lowerHull[0].y))return upperHull;else return upperHull.concat(lowerHull)}export{Floating_layer as F,Popper_layer_force_mount as P,isFocusVisible as a,isElement as b,Popper_layer as c,Floating_layer_anchor as d,extract as e,activeElement as f,getFloatingContentCSSVars as g,boxAutoReset as h,isBrowser as i,createCustomEvent as j,afterTick as k,isHTMLElement as l,focusFirst as m,isElementOrSVGElement as n,onDestroyEffect as o,addEventListener as p,isTouch as q,getTabbableCandidates as r,afterSleep as s,Presence_layer as t,useGraceArea as u,watch as w};
//# sourceMappingURL=Bhrv3bsB.js.map
